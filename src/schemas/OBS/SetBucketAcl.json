{"base_path":"/","components":null,"consumes":"[\"application/xml;charset=UTF-8\"]","definitions":{"AccessControlList":{"description":"访问控制列表,包含Grant、 Grantee、Permission三个元素\n","properties":{"Grant":{"items":{"$ref":"#/definitions/Grant"},"type":"array"}}},"Error":{"description":"错误响应消息体\n","properties":{"Code":{"description":"错误响应消息体XML中错误响应对应的HTTP消息返回码,具体的错误码请参见[错误码-表2](https://support.huaweicloud.com/api-obs/obs_04_0115.html#obs_04_0115__d0e843)。\n","type":"string"},"HostId":{"description":"返回该消息的服务端ID。\n","type":"string"},"Message":{"description":"错误响应消息体XML中具体错误更全面、详细的英文解释,具体的错误消息请参见[错误码-表2](https://support.huaweicloud.com/api-obs/obs_04_0115.html#obs_04_0115__d0e843)。\n","type":"string"},"RequestId":{"description":"本次错误请求的请求ID,用于错误定位。\n","type":"string"},"Resource":{"description":"该错误相关的桶或对象资源。\n","type":"string"}}},"Grant":{"description":"用于标记用户及用户的权限。单个桶的ACL,Grant元素不能超过100个\n","properties":{"Delivered":{"description":"桶的ACL是否向桶内对象传递\n","type":"boolean"},"Grantee":{"$ref":"#/definitions/Grantee","description":"用于标记用户及用户的权限。单个桶的ACL,Grant元素不能超过100个\n"},"Permission":{"description":"授予的权限\n","enum":["READ","WRITE","FULL_CONTROL"],"type":"string"}}},"Grantee":{"description":"记录用户信息\n","properties":{"Canned":{"description":"向所有人授予权限。\n","enum":["Everyone"],"type":"string"},"ID":{"description":"被授权用户的租户Id\n","type":"string"}}},"Owner":{"description":"桶拥有者信息,包含租户ID。\n","properties":{"ID":{"description":"用户的DomainID(帐号ID)。\n","example":"id","type":"string"}}},"SetBucketAclRequestBody":{"properties":{"AccessControlList":{"$ref":"#/definitions/AccessControlList"},"Owner":{"$ref":"#/definitions/Owner"}},"xml":{"name":"AccessControlPolicy"}}},"description":null,"group_id":"7d10a01d10854bd59cf6189eebfb9c7d","host":"obs.cn-north-4.myhuaweicloud.com","id":"d01db5f4b5cd41fba17a1e4ccf51dde9","info_version":"v1","method":"put","name":"SetBucketAcl","parameters":{},"paths":{"/":{"put":{"consumes":["application/xml"],"description":"OBS支持对桶操作进行权限控制。默认情况下,只有桶的创建者才有该桶的读写权限。用户也可以设置其他的访问策略,比如对一个桶可以设置公共访问策略,允许所有人对其都有读权限。\n\nOBS用户在创建桶时可以设置权限控制策略,也可以通过ACL操作API接口对已存在的桶更改或者获取ACL(access control list) 。一个桶的ACL最多支持100条Grant授权。PUT接口为幂等的覆盖写语意,新设置的桶ACL将覆盖原有的桶ACL,如果需要修改或者删除某条ACL重新PUT一个新的桶ACL即可。\n\n使用桶ACL进行权限控制请参考[《对象存储服务权限配置指南》的OBS权限控制概述章节](https://support.huaweicloud.com/perms-cfg-obs/obs_40_0001.html)。\n","operationId":"SetBucketAcl","parameters":[{"description":"请求消息中可带的签名信息。\n","in":"header","name":"Authorization","required":true,"type":"string"},{"description":"请求发起端的日期和时间,例如:Wed, 27 Jun 2018 13:39:15 +0000。\n默认值:无。\n条件:如果消息头中带了x-obs-date字段,则可以不带该字段,其他情况下必选。\n","in":"header","name":"Date","required":false,"type":"string","x-apiexplorer-format":"date-gmt"},{"description":"请求的桶名称。\n","in":"query","maxLength":63,"minLength":3,"name":"bucket_name","required":true,"type":"string","x-location-cname":true},{"allowEmptyValue":true,"description":"acl表示请求访问控制列表API。\n","in":"query","maxLength":0,"minLength":0,"name":"acl","required":true,"type":"string"},{"description":"通过cannedACL的方式来设置桶的ACL。\n取值范围:private | public-read | public-read-write | public-read-delivered | public-read-write-delivered\n","enum":["private","public-read","public-read-write","public-read-delivered","public-read-write-delivered"],"in":"header","name":"x-obs-acl","required":false,"type":"string"},{"description":"请求消息体\n","in":"body","name":"SetBucketAclRequestBody","required":false,"schema":{"$ref":"#/definitions/SetBucketAclRequestBody"}}],"produces":["application/xml"],"responses":{"200":{"description":"成功响应消息。\n","headers":{"Connection":{"description":"指明与服务器的连接是长连接还是短连接。\n","type":"string"},"Content-Length":{"description":"响应消息体的字节长度。\n","type":"string"},"Date":{"description":"OBS系统响应的时间。\n","type":"string"},"ETag":{"description":"对象的base64编码的128位MD5摘要。ETag是对象内容的唯一标识,可以通过该值识别对象内容是否有变化。比如上传对象时ETag为A,下载对象时ETag为B,则说明对象内容发生了变化。实际的ETag是对象的哈希值。ETag只反映变化的内容,而不是其元数据。上传的对象或拷贝操作创建的对象,通过MD5加密后都有唯一的ETag。如果通过多段上传对象,则无论加密方法如何,MD5会拆分ETag,此类情况ETag就不是MD5的摘要。\n","type":"string"},"x-obs-id-2":{"description":"帮助定位问题的特殊符号。\n","type":"string"},"x-obs-request-id":{"description":"由OBS创建来唯一确定本次请求的值,可以通过该值来定位问题。\n","type":"string"}}},"400":{"description":"请求失败响应消息。\n","schema":{"$ref":"#/definitions/Error"}}},"summary":"设置桶ACL","tags":["桶的高级配置"],"x-is-registered":"Y","x-request-examples-1":"PUT /?acl HTTP/1.1\nUser-Agent: curl/7.29.0\nHost: examplebucket.obs.cn-north-4.myhuaweicloud.com\nAccept: */*\nDate: WED, 01 Jul 2015 02:37:22 GMT\nAuthorization: OBS H4IPJX0TQTHTHEBQQCEC:iqSPeUBl66PwXDApxjRKk6hlcN4=\nContent-Length: 727\n\n<AccessControlPolicy xmlns=\"http://obs.cn-north-4.myhuaweicloud.com/doc/2015-06-30/\">\n\n  <Owner> \n    <ID>b4bf1b36d9ca43d984fbcb9491b6fce9</ID> \n  </Owner>  \n  <AccessControlList> \n    <Grant> \n      <Grantee> \n        <ID>b4bf1b36d9ca43d984fbcb9491b6fce9</ID> \n      </Grantee>  \n      <Permission>FULL_CONTROL</Permission> \n    </Grant>  \n    <Grant> \n      <Grantee> \n        <ID>783fc6652cf246c096ea836694f71855</ID> \n      </Grantee>  \n      <Permission>READ</Permission>  \n      <Delivered>false</Delivered> \n    </Grant>  \n    <Grant> \n      <Grantee> \n        <Canned>Everyone</Canned> \n      </Grantee>  \n      <Permission>READ_ACP</Permission> \n    </Grant> \n  </AccessControlList> \n</AccessControlPolicy>\n","x-support-sdk":"Y"}}},"product_short":"OBS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"设置桶ACL","tags":"桶的高级配置","uri":null,"version":"2.0"}