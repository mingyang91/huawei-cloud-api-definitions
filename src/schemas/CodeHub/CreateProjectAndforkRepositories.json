{"base_path":"/","components":null,"consumes":"","definitions":{"Error":{"properties":{"code":{"description":"错误码","type":"string"},"message":{"description":"错误信息","type":"string"}},"title":"Error","type":"object"},"ExternalKeyMessage":{"properties":{"external_key_message":{"description":"第三方保存在代码托管的关键信息","type":"string"},"external_service":{"description":"外部服务名称","type":"string"}},"title":"ExternalKeyMessage","type":"object"},"ForkProjectRepoRequest":{"properties":{"external_project_info":{"$ref":"#/definitions/ExternalKeyMessage","description":"第三方服务信息"},"import_members":{"description":"是否导入项目成员,取值范围:0->不导入项目成员,1->导入项目成员","format":"int32","type":"integer"},"project_name":{"description":"项目名称,取值范围:可以输入英文大小写字母、数字、连字符、下划线,且必须以字母开头","type":"string"},"repo_name":{"description":"仓库名称,取值范围:可以输入英文大小写字母、数字、连字符、下划线,且必须以字母开头","maxLength":128,"minLength":2,"type":"string"},"template_id":{"description":"复制模板的ID","type":"string"},"type":{"description":"项目类型,scrum","type":"string"},"visibility_level":{"description":"仓库可见性:\n *私有仓库:仓库仅对仓库成员可见,仓库成员可读写和访问仓库,取值范围为0\n *公开仓库:\n  1.项目内成员只读仓库:仓库对项目内成员公开只读,并项目内成员可在项目下和代码组下的仓库列表中查看和搜索,取值范围为10\n  2.租户内成员只读仓库:仓库对租户内成员公开只读,并租户内成员可在项目下和代码组下的仓库列表中查看和搜索,取值范围为10\n  3.所有访客只读仓库:仓库对所有访客公开只读,并所有访客可在项目下和代码组下的仓库列表中查看和搜索,取值范围为20","format":"int32","type":"integer"}},"required":["project_name","repo_name","template_id"],"title":"ForkProjectRepoRequest","type":"object"},"ProjectRepository":{"properties":{"projectUuid":{"description":"项目ID,获取方式请参见[获取项目ID](codehub_api_0014.xml)。","maxLength":32,"minLength":32,"type":"string"},"repositoryUuid":{"description":"仓库UUID","maxLength":32,"minLength":32,"type":"string"}},"title":"ProjectRepository","type":"object"},"ResponseProjectRepository":{"properties":{"error":{"$ref":"#/definitions/Error","description":"响应错误"},"result":{"$ref":"#/definitions/ProjectRepository","description":"响应结果"},"status":{"description":"响应状态","type":"string"}},"title":"ResponseProjectRepository","type":"object"}},"description":null,"group_id":"183513bb7aa84dab9d17c9bc8a4a9fab","host":"codehub-ext.cn-north-4.myhuaweicloud.com","id":"280c64de402b445ab95e7da0635ff194","info_version":"v3","method":"post","name":"CreateProjectAndforkRepositories","parameters":{},"paths":{"/v2/projects/repositories/fork":{"post":{"consumes":["application/json"],"deprecated":false,"description":"创建仓库后fork仓库 传入参数:仓库名、是否导入项目成员、归属项目","operationId":"CreateProjectAndforkRepositories","parameters":[{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvIIDgzCCXXXXXX..."},{"description":"fork仓库的相关信息","in":"body","name":"createInfo","required":true,"schema":{"$ref":"#/definitions/ForkProjectRepoRequest"}}],"produces":["application/json"],"responses":{"200":{"description":"OK","examples":{"application/json":{"result":{"projectUuid":"278a03286efe45c6b788122bfc166976","repositoryUuid":"9a780fd55cd64333b668ba26132629d2"},"status":"success"}},"schema":{"$ref":"#/definitions/ResponseProjectRepository"}}},"security":[{"apig-auth-iam":[]}],"summary":"创建项目并fork仓库","tags":["V2Project"],"x-apigateway-backend":{"httpEndpoints":{"address":"10.63.38.190:40115","description":"","method":"POST","path":"/codehub/v2/projects/repositories/fork","scheme":"https","timeout":60000},"type":"HTTP"},"x-apigateway-cors":false,"x-apigateway-match-mode":"NORMAL","x-apigateway-request-type":"public","x-constraint":"","x-is-registered":"Y","x-name":"创建项目并fork仓库","x-request-examples-1":{"import_members":0,"project_name":"testworld","repo_name":"demotest1","template_id":453489,"type":"normal","visibility_level":20},"x-request-examples-description-1":"","x-request-examples-url-1":"POST https://{endpoint}/v2/projects/{project_uuid}/repositories/fork","x-scope":"","x-support-sdk":"Y","x-version":"v2"}}},"product_short":"CodeHub","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-app":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-iam-none":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM_NONE"}},"summary":"创建项目并fork仓库","tags":"V2Project","uri":null,"version":"2.0"}