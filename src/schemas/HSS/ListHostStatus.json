{"base_path":"/","components":null,"consumes":"","definitions":{"Host":{"properties":{"agent_create_time":{"description":"agent安装时间,采用时间戳,默认毫秒,","format":"int64","maximum":4824695185000,"minimum":0,"type":"integer"},"agent_id":{"description":"Agent ID","maxLength":128,"minLength":0,"type":"string"},"agent_status":{"description":"Agent状态,包含如下5种。\n  - installed :已安装。\n  - not_installed :未安装。\n  - online :在线。\n  - offline :离线。\n  - install_failed :安装失败。\n  - installing :安装中。","maxLength":32,"minLength":1,"type":"string"},"agent_update_time":{"description":"agent状态修改时间,采用时间戳,默认毫秒,","format":"int64","maximum":4824695185000,"minimum":0,"type":"integer"},"agent_version":{"description":"agent版本","maxLength":32,"minLength":1,"type":"string"},"asset":{"description":"资产风险","format":"int32","maximum":2097152,"minimum":0,"type":"integer"},"asset_value":{"description":"资产重要性,包含如下4种\n  - important :重要资产\n  - common :一般资产\n  - test :测试资产","maxLength":128,"minLength":0,"type":"string"},"baseline":{"description":"基线风险","format":"int32","maximum":2097152,"minimum":0,"type":"integer"},"charging_mode":{"description":"收费模式,包含如下2种。\n  - packet_cycle :包年/包月。\n  - on_demand :按需。","maxLength":32,"minLength":1,"type":"string"},"detect_result":{"description":"云主机安全检测结果,包含如下4种。\n- undetected :未检测。\n- clean :无风险。\n- risk :有风险。\n- scanning :检测中。","maxLength":32,"minLength":1,"type":"string"},"enterprise_project_id":{"description":"企业项目ID","maxLength":256,"minLength":0,"type":"string"},"enterprise_project_name":{"description":"所属企业项目名称","maxLength":256,"minLength":0,"type":"string"},"expire_time":{"description":"试用版到期时间(-1表示非试用版配额,当值不为-1时为试用版本过期时间)","format":"int64","maximum":4824695185000,"minimum":0,"type":"integer"},"group_id":{"description":"服务器组ID","maxLength":128,"minLength":1,"type":"string"},"group_name":{"description":"服务器组名称","maxLength":128,"minLength":1,"type":"string"},"host_id":{"description":"服务器ID","maxLength":128,"minLength":0,"type":"string"},"host_name":{"description":"服务器名称","maxLength":128,"minLength":0,"type":"string"},"host_status":{"description":"服务器状态,包含如下4种。\n  - ACTIVE :运行中。\n  - SHUTOFF :关机。\n  - BUILDING :创建中。\n  - ERROR :故障。","maxLength":32,"minLength":1,"type":"string"},"install_result_code":{"description":"安装结果,包含如下12种。\n  - install_succeed :安装成功。\n  - network_access_timeout :网络不通,访问超时。\n  - invalid_port :无效端口。\n  - auth_failed :认证错误,口令不正确。\n  - permission_denied :权限错误,被拒绝。\n  - no_available_vpc :没有相同VPC的agent在线虚拟机。\n  - install_exception :安装异常。\n  - invalid_param :参数错误。\n  - install_failed :安装失败。\n  - package_unavailable :安装包失效。\n  - os_type_not_support :系统类型错误。\n  - os_arch_not_support :架构类型错误。","maxLength":32,"minLength":1,"type":"string"},"intrusion":{"description":"入侵风险","format":"int32","maximum":2097152,"minimum":0,"type":"integer"},"labels":{"description":"标签列表","items":{"maxLength":64,"minLength":0,"type":"string"},"maxItems":100,"minItems":0,"type":"array"},"open_time":{"description":"开启防护时间,采用时间戳,默认毫秒,","format":"int64","maximum":4824695185000,"minimum":0,"type":"integer"},"os_bit":{"description":"操作系统位数","maxLength":128,"minLength":0,"type":"string"},"os_image":{"description":"系统镜像","maxLength":128,"minLength":0,"type":"string"},"os_type":{"description":"操作系统类型,包含如下2种。\n  - Linux :Linux。\n  - Windows :Windows。","maxLength":128,"minLength":0,"type":"string"},"outside_host":{"description":"是否非华为云机器","type":"boolean"},"policy_group_id":{"description":"策略组ID","maxLength":128,"minLength":1,"type":"string"},"policy_group_name":{"description":"策略组名称","maxLength":128,"minLength":1,"type":"string"},"private_ip":{"description":"私有IP地址","maxLength":128,"minLength":0,"type":"string"},"protect_interrupt":{"description":"防护是否中断","example":false,"type":"boolean"},"protect_status":{"description":"防护状态,包含如下2种。\n- closed :未防护。\n- opened :防护中。","maxLength":32,"minLength":1,"type":"string"},"public_ip":{"description":"弹性公网IP地址","maxLength":128,"minLength":0,"type":"string"},"resource_id":{"description":"主机安全配额ID(UUID)","maxLength":128,"minLength":0,"type":"string"},"upgradable":{"description":"该服务器agent是否可升级","example":false,"type":"boolean"},"upgrade_result_code":{"description":"升级失败原因,只有当 upgrade_status 为 upgrade_failed 时才显示,包含如下6种。\n  - package_unavailable :升级包解析失败,升级文件有错误。\n  - network_access_timeout :下载升级包失败,网络异常。\n  - agent_offline :agent离线。\n  - hostguard_abnormal :agent工作进程异常。\n  - insufficient_disk_space :磁盘空间不足。\n  - failed_to_replace_file :替换文件失败。","maxLength":32,"minLength":1,"type":"string"},"upgrade_status":{"description":"升级状态,包含如下4种。\n  - not_upgrade :未升级,也就是默认状态,客户还没有给这台机器下发过升级。\n  - upgrading :正在升级中。\n  - upgrade_failed :升级失败。\n  - upgrade_succeed :升级成功。","maxLength":32,"minLength":1,"type":"string"},"version":{"description":"主机开通的版本,包含如下7种输入。\n  - hss.version.null :无。\n  - hss.version.basic :基础版。\n  - hss.version.advanced :专业版。\n  - hss.version.enterprise :企业版。\n  - hss.version.premium :旗舰版。\n  - hss.version.wtp :网页防篡改版。\n  - hss.version.container.enterprise :容器版。","maxLength":32,"minLength":1,"type":"string"},"vulnerability":{"description":"漏洞风险","format":"int32","maximum":2097152,"minimum":0,"type":"integer"}},"type":"object"},"HostsListResponseInfo":{"properties":{"data_list":{"description":"查询弹性云服务器状态列表","items":{"$ref":"#/definitions/Host"},"maxItems":10241,"minItems":0,"type":"array"},"total_num":{"description":"总数","format":"int32","maximum":2097152,"minimum":0,"type":"integer"}},"type":"object"}},"description":null,"group_id":"3f29a7c68cc24a39a794ff9ddec0ba77","host":"hss.cn-north-4.myhuaweicloud.com","id":"8c2bbe1eb2ca48318684d91953ae422a","info_version":"v5","method":"get","name":"ListHostStatus","parameters":{},"paths":{"/v5/{project_id}/host-management/hosts":{"get":{"description":"查询云服务器列表","operationId":"ListHostStatus","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","maxLength":32768,"minLength":1,"name":"x-auth-token","pattern":"^.*$","required":true,"type":"string","x-example":"$${x-auth-token}"},{"description":"租户项目ID","in":"path","maxLength":256,"minLength":1,"name":"project_id","pattern":"^.*$","required":true,"type":"string","x-example":"9d4f774865034d119917acc61b1b806e"},{"default":"0","description":"企业项目ID,查询所有企业项目时填写:all_granted_eps","in":"query","maxLength":256,"minLength":1,"name":"enterprise_project_id","pattern":"^.*$","required":false,"type":"string"},{"description":"主机开通的版本,包含如下7种输入。\n  - hss.version.null :无。\n  - hss.version.basic :基础版。\n  - hss.version.advanced :专业版。\n  - hss.version.enterprise :企业版。\n  - hss.version.premium :旗舰版。\n  - hss.version.wtp :网页防篡改版。\n  - hss.version.container.enterprise:容器版。","in":"query","maxLength":64,"minLength":1,"name":"version","required":false,"type":"string"},{"description":"Agent状态,包含如下6种。\n  - installed :已安装。\n  - not_installed :未安装。\n  - online :在线。\n  - offline :离线。\n  - install_failed :安装失败。\n  - installing :安装中。\n  - not_online :不在线的(除了在线以外的所有状态,仅作为查询条件)。","in":"query","maxLength":20,"minLength":1,"name":"agent_status","required":false,"type":"string"},{"description":"检测结果,包含如下4种。\n  - undetected :未检测。\n  - clean :无风险。\n  - risk :有风险。\n  - scanning :检测中。","in":"query","maxLength":32,"minLength":1,"name":"detect_result","required":false,"type":"string"},{"description":"服务器名称","in":"query","name":"host_name","pattern":"^.*$","required":false,"type":"string","x-example":"HostName"},{"description":"服务器ID","in":"query","name":"host_id","pattern":"^.*$","required":false,"type":"string","x-example":"71a15ecc-049f-4cca-bd28-5e90aca1817f"},{"description":"主机状态,包含如下4种。\n  - ACTIVE :正在运行。\n  - SHUTOFF :关机。\n  - BUILDING :创建中。\n  - ERROR :故障。","in":"query","maxLength":32,"minLength":1,"name":"host_status","required":false,"type":"string","x-example":"ACTIVE"},{"description":"操作系统类型,包含如下2种。\n  - Linux :Linux。\n  - Windows :Windows。","in":"query","maxLength":64,"minLength":0,"name":"os_type","required":false,"type":"string","x-example":"Linux"},{"description":"服务器私有IP","in":"query","name":"private_ip","pattern":"^.*$","required":false,"type":"string","x-example":"192.168.1.1"},{"description":"服务器公网IP","in":"query","name":"public_ip","pattern":"^.*$","required":false,"type":"string","x-example":"114.114.114.114"},{"description":"公网或私网IP","in":"query","name":"ip_addr","pattern":"^.*$","required":false,"type":"string","x-example":"114.114.114.114"},{"description":"防护状态,包含如下2种。\n  - closed :关闭。\n  - opened :开启。","in":"query","maxLength":32,"minLength":1,"name":"protect_status","pattern":"^.*$","required":false,"type":"string","x-example":"closed"},{"description":"服务器组ID","in":"query","name":"group_id","pattern":"^.*$","required":false,"type":"string","x-example":"GroupId"},{"description":"服务器组名称","in":"query","maxLength":64,"minLength":1,"name":"group_name","pattern":"^.*$","required":false,"type":"string","x-example":"GroupName"},{"description":"region id","in":"header","maxLength":128,"minLength":0,"name":"region","pattern":"^.*$","required":false,"type":"string","x-example":"cn-north-5"},{"description":"存在告警事件","in":"query","name":"has_intrusion","required":false,"type":"boolean","x-example":false},{"description":"策略组ID","in":"query","maxLength":128,"minLength":0,"name":"policy_group_id","required":false,"type":"string"},{"description":"策略组名称","in":"query","maxLength":256,"minLength":0,"name":"policy_group_name","required":false,"type":"string"},{"description":"收费模式,包含如下2种。\n  - packet_cycle :包年/包月。\n  - on_demand :按需。","in":"query","maxLength":32,"minLength":1,"name":"charging_mode","required":false,"type":"string"},{"description":"是否强制从ECS同步主机","in":"query","name":"refresh","required":false,"type":"boolean"},{"description":"是否返回比当前版本高的所有版本","in":"query","name":"above_version","required":false,"type":"boolean"},{"description":"是否华为云主机","in":"query","name":"outside_host","required":false,"type":"boolean"},{"description":"资产重要性,包含如下4种\n  - important :重要资产\n  - common :一般资产\n  - test :测试资产","in":"query","maxLength":128,"minLength":0,"name":"asset_value","required":false,"type":"string"},{"description":"资产标签","in":"query","maxLength":64,"minLength":1,"name":"label","required":false,"type":"string"},{"description":"资产服务器组","in":"query","maxLength":64,"minLength":1,"name":"server_group","required":false,"type":"string"},{"description":"agent是否可升级","in":"query","name":"agent_upgradable","required":false,"type":"boolean"},{"default":10,"description":"每页显示个数,默认10","format":"int32","in":"query","maximum":200,"minimum":0,"name":"limit","required":false,"type":"integer"},{"default":0,"description":"偏移量:指定返回记录的开始位置,必须为数字,取值范围为大于或等于0,默认0","format":"int32","in":"query","maximum":2000000,"minimum":0,"name":"offset","required":false,"type":"integer"}],"produces":["application/json;charset=UTF-8"],"responses":{"200":{"description":"云服务器列表","examples":{"application/json":{"data_list":[{"agent_create_time":0,"agent_id":"2758d2a61598fd9144cfa6b201049e7c0af8c3f1280cd24e3ec95a2f0811a2a2","agent_status":"online","agent_update_time":0,"asset":0,"asset_value":"common","baseline":0,"charging_mode":"packet_cycle","detect_result":"risk","enterprise_project_id":"all_granted_eps","enterprise_project_name":"default","expire_time":-1,"group_id":"7c659ea3-006f-4687-9f1c-6d975d955f37","group_name":"default","host_id":"caa958ad-a481-4d46-b51e-6861b8864515","host_name":"ecs-r00431580-ubuntu","host_status":"ACTIVE","intrusion":0,"labels":[""],"open_time":0,"os_bit":"64","os_type":"Linux","outside_host":false,"policy_group_id":"2758d2a61598fd9144cfa6b201049e7c0af8c3f1280cd24e3ec95a2f0811a2a2","policy_group_name":"wtp_ecs-r00431580-ubuntu(default)","private_ip":"192.168.0.182","protect_interrupt":false,"protect_status":"opened","public_ip":"100.85.123.9","resource_id":"60f08ea4-c74e-4a45-be1c-3c057e373af2","version":"hss.version.wtp","vulnerability":97}],"total_num":1}},"schema":{"$ref":"#/definitions/HostsListResponseInfo"}}},"summary":"查询云服务器列表","tags":["主机管理"],"x-is-registered":"Y","x-request-examples-description-1":"查询agent状态为在线的所有企业项目下的10台linux主机。","x-request-examples-url-1":"GET https://{endpoint}/v5/{project_id}/host-management/hosts?limit=10&offset=0&agent_status=online&os_type=Linux&enterprise_project_id=all_granted_eps","x-support-sdk":"Y","x-surpport-apiexplorer":true}}},"product_short":"HSS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询云服务器列表","tags":"主机管理","uri":null,"version":"2.0"}