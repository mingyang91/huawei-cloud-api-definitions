{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CreateImageMetadataResponseBody":{"description":"创建镜像元数据响应体","properties":{"__image_size":{"description":"镜像大小。单位为字节。","type":"string"},"__image_source_type":{"description":"镜像后端存储类型,目前支持uds。","type":"string"},"__imagetype":{"description":"镜像类型。取值为private,表示私有镜像。","type":"string"},"__isregistered":{"description":"镜像是否注册。只有已注册的镜像才能在Portal界面上查询到。取值为true。","type":"string"},"__os_bit":{"description":"表示操作系统位数。取值由__os_version确定,取值为32或64。","enum":["32","64"],"type":"string"},"__os_type":{"description":"镜像的操作系统类型,取值由__os_version确定。支持Windows、Linux和other。","enum":["Windows","Linux","other"],"type":"string"},"__os_version":{"description":"镜像的操作系统具体版本。","type":"string"},"__platform":{"description":"表示镜像支持的操作系统平台。取值由__os_version确定","type":"string"},"__root_origin":{"description":"表示当前镜像来源是从外部导入。取值:file","type":"string"},"checksum":{"description":"镜像文件md5值。","type":"string"},"container_format":{"description":"容器格式。取值为bare。","type":"string"},"created_at":{"description":"创建时间。格式为UTC时间。","type":"string"},"disk_format":{"description":"镜像文件格式。目前支持vhd、zvhd、raw、qcow2。默认值是vhd。","enum":["vhd","zvhd","raw","qcow2"],"type":"string"},"file":{"description":"上传下载镜像文件的地址链接。","type":"string"},"id":{"description":"镜像ID,用户调用创建镜像接口后,需保存该镜像的ID,用来调用上传镜像接口完成镜像上传。","type":"string"},"min_disk":{"description":"镜像运行需要的最小磁盘容量,单位为GB 。取值为40~1024GB。必须大于镜像系统盘容量,否则创建云主机云服务器可能失败。","format":"int32","maximum":1024,"minimum":40,"type":"integer"},"min_ram":{"description":"镜像运行最小内存,单位为MB。取值参考ECS规格限制,一般设置为0。云服务器的规格限制,请参见规格清单。","format":"int32","type":"integer"},"name":{"description":"镜像名称,如果未指定name的取值,则默认为空,但是使用该镜像创建虚拟机会失败。名称的长度为1~128位。","maxLength":128,"minLength":1,"type":"string"},"owner":{"description":"镜像所属项目ID。","type":"string"},"properties":{"description":"镜像属性的集合,不表示具体的镜像属性","type":"object"},"protected":{"description":"镜像是否被保护,保护后的镜像不可删除。取值为false","type":"boolean"},"schema":{"description":"视图链接。","type":"string"},"self":{"description":"本镜像链接。","type":"string"},"size":{"description":"目前暂时不使用。","format":"int64","type":"integer"},"status":{"description":"镜像状态。取值如下:queued:表示镜像元数据已经创建成功,等待上传镜像文件。saving:表示镜像正在上传文件到后端存储。deleted:表示镜像已经删除。killed:表示镜像上传错误。active:表示镜像可以正常使用。","enum":["queued","saving","deleted","killed","active"],"type":"string"},"tags":{"description":"镜像标签列表。长度为1~255位。","items":{"maxLength":255,"minLength":1,"type":"string"},"type":"array"},"updated_at":{"description":"更新时间。格式为UTC时间。","type":"string"},"virtual_env_type":{"description":"平台类型。镜像使用环境类型:FusionCompute、Ironic、DataImage。如果是云主机云服务器镜像,则取值为FusionCompute。如果是数据卷镜像则取值是DataImage。如果是物理机裸金属服务器镜像,则取值是Ironic。","enum":["FusionCompute","Ironic","DataImage"],"type":"string"},"virtual_size":{"description":"镜像虚拟大小。单位为字节。","format":"int32","type":"integer"},"visibility":{"description":"其他租户是否可见。取值为private。","type":"string"}},"required":["__image_size","__image_source_type","__imagetype","__isregistered","__os_type","container_format","created_at","disk_format","file","id","min_disk","min_ram","name","owner","protected","schema","self","status","tags","updated_at","virtual_env_type","virtual_size","visibility"]},"GlanceCreateImageMetadataRequestBody":{"description":"创建镜像请求体","properties":{"__os_version":{"description":"镜像的操作系统具体版本,如果未指定__os_version,则默认设置为Other Linux(64 bit),不保证该镜像能成功创建虚拟机以及通过该镜像创建的虚拟机能够正常使用。","example":"Ubuntu 14.04 server 64bit","type":"string"},"container_format":{"default":"bare","description":"容器格式。默认取值为bare。","example":"bare","type":"string"},"disk_format":{"description":"镜像文件格式。目前支持vhd,zvhd、zvhd2、raw,qcow2。默认取值为vhd","enum":["vhd","zvhd","zvhd2","raw","qcow2"],"example":"vhd","type":"string"},"min_disk":{"default":40,"description":"镜像运行需要的最小磁盘,单位为GB 。必须大于镜像系统盘容量,否则创建云主机云服务器可能失败。","example":1,"format":"int32","type":"integer"},"min_ram":{"default":0,"description":"镜像运行需要的最小内存,单位为MB。参数取值依据云主机云服务器的规格限制。默认取值为0。","example":1024,"format":"int32","type":"integer"},"name":{"description":"镜像名称,如果未指定name的取值,则默认为空,但是使用该镜像创建虚拟机会失败。名称的长度为1-255位。","example":"test","maxLength":255,"minLength":1,"type":"string"},"protected":{"default":false,"description":"镜像是否被保护,保护后的镜像不可删除。默认取值为false。","example":false,"type":"boolean"},"tags":{"description":"镜像标签列表。长度为1-255位。默认为空。","items":{"maxLength":255,"minLength":1,"type":"string"},"type":"array"},"visibility":{"default":"private","description":"其他租户是否可见。默认取值为private。创建镜像元数据时,visibility取值只能为private。","example":"private","type":"string"}}}},"description":null,"group_id":"15afdecd4f8c4fd88190ef8e57094cd5","host":"ims.cn-north-4.myhuaweicloud.com","id":"40bea7e5dbad43c4ad88fd7386f5bcad","info_version":"v2","method":"post","name":"GlanceCreateImageMetadata","parameters":{},"paths":{"/v2/images":{"post":{"consumes":[],"deprecated":false,"description":"创建镜像元数据。调用创建镜像元数据接口成功后,只是创建了镜像的元数据,镜像对应的实际镜像文件并不存在","operationId":"GlanceCreateImageMetadata","parameters":[{"description":"创建镜像元数据body体","in":"body","name":"bodyparam","required":true,"schema":{"$ref":"#/definitions/GlanceCreateImageMetadataRequestBody"},"x-order":1},{"description":"用户Token,使用Token认证时该字段必选。","in":"header","name":"X-Auth-Token","required":false,"type":"string","x-order":2}],"produces":[],"responses":{"201":{"description":"请求正常","examples":{"application/json":{"__image_size":"0","__image_source_type":"uds","__imagetype":"private","__isregistered":"true","__os_bit":"64","__os_type":"Linux","__os_version":"Ubuntu 14.04 server 64bit","__platform":"Ubuntu","container_format":"bare","created_at":"2016-06-02T07:49:48Z","disk_format":"vhd","file":"/v2/images/4ca46bf1-5c61-48ff-b4f3-0ad4e5e3ba86/file","id":"4ca46bf1-5c61-48ff-b4f3-0ad4e5e3ba86","min_disk":1,"min_ram":1024,"name":"test","owner":"b912fb4a4c464b568ecfca1071b21b10","protected":false,"schema":"/v2/schemas/image","self":"/v2/images/4ca46bf1-5c61-48ff-b4f3-0ad4e5e3ba86","status":"queued","tags":["test","image"],"updated_at":"2016-06-02T07:49:49Z","virtual_env_type":"FusionCompute","visibility":"private"}},"schema":{"$ref":"#/definitions/CreateImageMetadataResponseBody"}},"400":{"description":"Bad Request 请求错误。"},"401":{"description":"Unauthorized 鉴权失败。"},"403":{"description":"Forbidden 没有操作权限。"},"404":{"description":"Not Found 找不到资源。"},"500":{"description":"Internal Server Error 服务内部错误。"},"503":{"description":"Service Unavailable 服务不可用。"}},"summary":"创建镜像元数据(OpenStack原生)","tags":["镜像(OpenStack原生)"],"x-apiexplorer-hide":"","x-apigateway-auth-type":"IAM","x-apigateway-match-mode":"NORMAL","x-apigateway-request-type":"public","x-call_frequency":"medium","x-constraint":"","x-ctc":"Y","x-first_open_time":"2016-06-30","x-flow_control_group":"glance10","x-hc":"Y","x-hcso":"","x-hk":"Y","x-hybridcloud":true,"x-in_cli":"glance image-create","x-is_calling":"Y","x-is_registered":"Y","x-multi_tenant_flow_time":5,"x-multi_tenant_flow_value":1000,"x-name":"创建镜像元数据(OpenStack原生)","x-obc":"Y","x-open-region-cloud":"hc,hk","x-order":14,"x-otc":"Y","x-publishpath":"","x-request-examples-1":{"__os_version":"Ubuntu 14.04 server 64bit","aaaa":"11111","container_format":"bare","disk_format":"vhd","min_disk":1,"min_ram":1024,"name":"test","protected":false,"tags":["test","image"],"visibility":"private"},"x-request-examples-description-1":"","x-request-examples-text-1":"{\n    \"__os_version\": \"Ubuntu 14.04 server 64bit\",\n    \"container_format\": \"bare\",\n    \"disk_format\": \"vhd\",\n    \"min_disk\": 1,\n    \"min_ram\": 1024,\n    \"name\": \"test\",\n    \"tags\": [\n        \"test\",\n        \"image\"\n    ],\n    \"visibility\": \"private\",\n    \"protected\": false,\n    \"aaaa\":\"11111\"\n}\n","x-request-examples-url-1":"POST https://{Endpoint}/v2/images","x-sbc":"","x-scope":"Commercial","x-source":"Native","x-source_url":"","x-support-sdk":"Y","x-tenant_flow_time":5,"x-tenant_flow_value":200,"x-timeout":"200s","x-tlf":"Y","x-un_cli":"openstack image create","x-version":"v2"}}},"product_short":"IMS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建镜像元数据(OpenStack原生)","tags":"镜像(OpenStack原生)","uri":null,"version":"2.0"}