{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ErrorMessageInfo":{"description":"错误信息","properties":{"code":{"description":"错误码","type":"string"},"message":{"description":"错误信息","type":"string"}},"required":["code","message"]},"FailResponseBody":{"description":"请求失败响应体","properties":{"error":{"$ref":"#/definitions/ErrorMessageInfo","description":"请求失败响应体","example":"{ \"error\": {\"message\": \"string.\", \"code\": \"string\" } }"}},"required":["error"]},"ImageInfo":{"description":"镜像信息响应体","properties":{"__account_code":{"description":"收费镜像标识。","type":"string"},"__backup_id":{"description":"备份ID。如果是备份创建的镜像,则填写为备份的ID,否则为空","type":"string"},"__data_origin":{"description":"镜像来源。公共镜像为空","type":"string"},"__description":{"description":"镜像描述信息。\n支持字母、数字、中文等,不支持回车、<、 >,长度不能超过1024个字符。","maxLength":1024,"minLength":0,"type":"string"},"__image_size":{"description":"镜像文件的大小,单位为字节","type":"string"},"__image_source_type":{"description":"镜像后端存储类型,目前只支持uds","enum":["uds","swift"],"type":"string"},"__imagetype":{"description":"镜像类型,目前支持以下类型:\n公共镜像:gold\n私有镜像:private\n共享镜像:shared\n市场镜像:market","enum":["gold","private","shared"],"type":"string"},"__is_offshelved":{"description":"表示当前市场镜像是否下架。true:已下架 false:未下架","example":"1","type":"string"},"__isregistered":{"description":"是否是注册过的镜像,取值为“true”或者“false”","enum":["true","false"],"type":"string"},"__lazyloading":{"description":"镜像是否支持延迟加载。取值为“True”或“False”。","example":"False","type":"string"},"__originalimagename":{"description":"父镜像ID。公共镜像或通过文件创建的私有镜像,取值为空","type":"string"},"__os_bit":{"description":"操作系统位数,一般取值为“32”或者“64”","enum":["32","64"],"type":"string"},"__os_feature_list":{"description":"镜像附加属性。该属性采用JSON格式来标识镜像支持的高级特性清单。","type":"string"},"__os_type":{"description":"操作系统类型,目前取值Linux, Windows,Other","enum":["Linux","Windows","Other"],"type":"string"},"__os_version":{"description":"操作系统具体版本","type":"string"},"__platform":{"description":"镜像平台分类","enum":["Windows","Ubuntu","RedHat","SUSE","CentOS","Debian","OpenSUSE","Oracle Linux","Fedora","Other","CoreOS","EulerOS"],"type":"string"},"__productcode":{"description":"市场镜像的产品ID","type":"string"},"__root_origin":{"description":"表示当前镜像来源是从外部导入。取值:file。","example":"file","type":"string"},"__sequence_num":{"description":"表示当前镜像对应云服务器的系统盘插槽位置。目前暂时不用","example":"1","type":"string"},"__support_agent_list":{"description":"镜像是否支持企业主机安全或主机监控。\nhss:企业主机安全\nces:主机监控","example":"hss,ces","type":"string"},"__support_amd":{"description":"是否是AMD架构类型的镜像。取值为“true”或者“false”。","type":"string"},"__support_arm":{"description":"是否是ARM架构类型的镜像,取值为“true”或者“false”。","enum":["true","false"],"type":"string"},"__support_diskintensive":{"description":"镜像来源表示该镜像支持密集存储。如果镜像支持密集存储性能,则值为true,否则无需增加该属性。","type":"string"},"__support_fc_inject":{"description":"表示当前镜像支持CloudInit密码/密钥注入方式,建议设置为\"true\"或者\"false\"。\n如果取值为\"true\",表示该镜像不支持CloudInit注入密码/密钥,其他取值时表示支持CloudInit注入密钥/密码。","enum":["true","false"],"type":"string"},"__support_highperformance":{"description":"表示该镜像支持高计算性能。如果镜像支持高计算性能,则值为true,否则无需增加该属性。","type":"string"},"__support_kvm":{"description":"如果镜像支持KVM,取值为true,否则无需增加该属性。","type":"string"},"__support_kvm_gpu_type":{"description":"表示该镜像是支持KVM虚拟化平台下的GPU类型,如果不支持KVM虚拟机下GPU类型,无需添加该属性。该属性与“__support_xen”和“__support_kvm”属性不共存。","type":"string"},"__support_kvm_infiniband":{"description":"如果镜像支持KVM虚拟化下Infiniband网卡类型,取值为true。否则,无需添加该属性。该属性与“__support_xen”属性不共存。","type":"string"},"__support_largememory":{"description":"表示该镜像支持超大内存。如果镜像支持超大内存,取值为true,否则无需增加该属性。","type":"string"},"__support_xen":{"description":"如果镜像支持XEN,取值为true,否则无需增加该属性。","type":"string"},"__support_xen_gpu_type":{"description":"表示该镜像是支持XEN虚拟化平台下的GPU优化类型,如果不支持XEN虚拟化下GPU类型,无需添加该属性            。该属性与“__support_xen”和“__support_kvm”属性不共存。","type":"string"},"__support_xen_hana":{"description":"如果镜像支持XEN虚拟化下HANA类型,取值为true。否则,无需添加该属性。该属性与“__support_xen”             和“__support_kvm”属性不共存。","type":"string"},"__system__cmkid":{"description":"加密镜像所使用的密钥ID。","type":"string"},"__system_support_market":{"description":"表示当前镜像是否支持发布为市场镜像,true表示支持,false 表示不支持","type":"boolean"},"active_at":{"description":"镜像状态变为正常的时间。","example":"2018-12-08T02:30:49Z","type":"string"},"checksum":{"description":"目前暂时不使用","type":"string"},"container_format":{"description":"容器类型","type":"string"},"created_at":{"description":"创建时间。格式为UTC时间","type":"string"},"disk_format":{"description":"镜像的格式,目前支持vhd,zvhd、raw,qcow2。默认值是vhd","type":"string"},"enterprise_project_id":{"description":"表示当前镜像所属的企业项目。取值为0或无该值,表示属于default企业项目,取值为UUID,表示属于该UUID对应的企业项目。","type":"string"},"file":{"description":"镜像文件下载和上传链接","type":"string"},"hw_firmware_type":{"description":"云服务器的启动方式。目前支持:\nbios:表示bios引导启动。\nuefi:表示uefi引导启动。","enum":["bios","uefi"],"type":"string"},"hw_vif_multiqueue_enabled":{"description":"镜像是否支持网卡多队列。取值为“true”或者“false”。","type":"string"},"id":{"description":"镜像ID","type":"string"},"max_ram":{"description":"镜像支持的最大内存,单位为MB。取值可以参考云服务器规格限制,一般不设置。","type":"string"},"min_disk":{"description":"镜像运行需要的最小磁盘容量,单位为GB。取值为40~1024GB。","format":"int32","maximum":1024,"minimum":40,"type":"integer"},"min_ram":{"description":"镜像运行需要的最小内存,单位为MB。参数取值依据弹性云服务器的规格限制,默认设置为0","format":"int32","type":"integer"},"name":{"description":"镜像名称。\n名称的首尾字母不能为空格。\n名称的长度至为1~128位。\n名称包含以下4种字符:\n大写字母\n小写字母\n数字\n特殊字符包含-、.、_、空格和中文。","maxLength":128,"minLength":1,"type":"string"},"owner":{"description":"镜像属于哪个租户","type":"string"},"protected":{"description":"是否是受保护的,受保护的镜像不允许删除。取值为true或false","type":"boolean"},"schema":{"description":"镜像视图","type":"string"},"self":{"description":"镜像链接信息","type":"string"},"size":{"description":"目前暂时不使用","format":"int32","type":"integer"},"status":{"description":"镜像状态。取值如下:queued:表示镜像元数据已经创建成功,等待 上传镜像文件。saving:表示镜像 正在上传文件到后端存储。deleted:表示镜像已经删除。killed:表示镜像上传错误。active:表示镜像可以正常使用","enum":["queued","saving","deleted","killed","active"],"type":"string"},"tags":{"description":"镜像标签列表","items":{"type":"string"},"type":"array"},"updated_at":{"description":"更新时间。格式为UTC时间","type":"string"},"virtual_env_type":{"description":"镜像使用环境类型:FusionCompute,Ironic,DataImage。如果弹性云服务器镜像,则取值为FusionCompute,如果是数据卷镜像则取Dat            aImage,如果是裸金属服务器镜像,则取值是Ironic","enum":["FusionCompute","Ironic","DataImage"],"type":"string"},"virtual_size":{"description":"目前暂时不使用","format":"int32","type":"integer"},"visibility":{"description":"是否被其他租户可见,取值为private或public","enum":["private","public"],"type":"string"}},"required":["__image_size","__image_source_type","__imagetype","__isregistered","__os_type","container_format","created_at","id","min_disk","min_ram","name","owner","protected","self","status","tags","updated_at","virtual_env_type","visibility","active_at"]},"UpdateImageRequestBody":{"description":"扩展更新镜像接口请求体","properties":{"op":{"description":"操作类型,目前取值为add,replace和remove。","enum":["add","replace","remove"],"type":"string"},"path":{"description":"需要更新的属性名称,需要在属性名称前加“/”。","type":"string"},"value":{"description":"需要更新属性的值。","type":"string"}},"required":["op","path","value"]}},"description":null,"group_id":"15afdecd4f8c4fd88190ef8e57094cd5","host":"ims.cn-north-4.myhuaweicloud.com","id":"fe1217df806149789407e4ceacd4f89e","info_version":"v2","method":"patch","name":"UpdateImage","parameters":{},"paths":{"/v2/cloudimages/{image_id}":{"patch":{"consumes":[],"deprecated":false,"description":"更新镜像信息接口,主要用于镜像属性的修改。当前仅支持可用(active)状态的镜像更新相关信息。","operationId":"UpdateImage","parameters":[{"description":"用户Token,使用Token认证时该字段必选。","in":"header","name":"X-Auth-Token","required":false,"type":"string","x-order":1},{"description":"请求参数","in":"body","name":"bodyparam","required":true,"schema":{"items":{"$ref":"#/definitions/UpdateImageRequestBody"},"type":"array"},"x-order":2},{"description":"镜像ID","in":"path","name":"image_id","required":true,"type":"string","x-order":3}],"produces":[],"responses":{"200":{"description":"正常","examples":{"application/json":{"__backup_id":"","__data_origin":null,"__description":"ims test","__image_size":"449261568","__image_source_type":"uds","__imagetype":"private","__isregistered":"true","__originalimagename":"33ad552d-1149-471c-8190-ff6776174a00","__os_bit":"64","__os_type":"Linux","__os_version":"Ubuntu 14.04 server 64bit","__platform":"Ubuntu","__productcode":"","__support_fc_inject":"true","checksum":"99914b932bd37a50b983c5e7c90ae93b","container_format":"bare","created_at":"2015-12-04T09:45:33Z","deleted":false,"deleted_at":null,"disk_format":"vhd","file":"/v2/images/33ad552d-1149-471c-8190-ff6776174a00/file","hw_firmware_type":"bios","id":"33ad552d-1149-471c-8190-ff6776174a00","min_disk":40,"min_ram":0,"name":"ims_test","owner":"0b1e494e2660441a957313163095fe5c","protected":false,"schema":"/v2/schemas/image","self":"/v2/images/33ad552d-1149-471c-8190-ff6776174a00","size":2,"status":"active","tags":[],"updated_at":"2015-12-08T02:30:49Z","virtual_env_type":"FusionCompute","virtual_size":0,"visibility":"private"}},"schema":{"$ref":"#/definitions/ImageInfo"}},"400":{"description":"Bad Request  请求错误。","schema":{"$ref":"#/definitions/FailResponseBody"}},"401":{"description":"Unauthorized  鉴权失败。","schema":{"$ref":"#/definitions/FailResponseBody"}},"403":{"description":"Forbidden  没有操作权限。","schema":{"$ref":"#/definitions/FailResponseBody"}},"404":{"description":"Not Found  找不到资源。","schema":{"$ref":"#/definitions/FailResponseBody"}},"500":{"description":"Internal Server Error  服务内部错误。","schema":{"$ref":"#/definitions/FailResponseBody"}},"503":{"description":"Service Unavailable  服务不可用。","schema":{"$ref":"#/definitions/FailResponseBody"}}},"summary":"更新镜像信息","tags":["镜像"],"x-apiexplorer-hide":"","x-apigateway-auth-type":"IAM","x-apigateway-match-mode":"NORMAL","x-apigateway-request-type":"public","x-call_frequency":"medium","x-constraint":"","x-ctc":"Y","x-first_open_time":"2016-09-30","x-flow_control_group":"glance16","x-hc":"Y","x-hcso":"","x-hk":"Y","x-hybridcloud":true,"x-in_cli":"","x-is_calling":"Y","x-is_registered":"Y","x-multi_tenant_flow_time":5,"x-multi_tenant_flow_value":1000,"x-name":"更新镜像信息","x-obc":"Y","x-open-region-cloud":"hc,hk","x-order":4,"x-otc":"Y","x-publishpath":"","x-request-examples-1":[{"op":"replace","path":"/name","value":"ims_test"}],"x-request-examples-description-1":"","x-request-examples-text-1":"[\n    {\n        \"op\": \"replace\",\n        \"path\": \"/name\",\n        \"value\": \"ims_test\"\n    }\n]\n","x-request-examples-url-1":"PATCH  https://{Endpoint}/v2/cloudimages/33ad552d-1149-471c-8190-ff6776174a00","x-sbc":"","x-scope":"Commercial","x-source":"SelfDeveloped","x-source_url":"","x-support-sdk":"Y","x-tenant_flow_time":5,"x-tenant_flow_value":200,"x-timeout":"200s","x-tlf":"Y","x-un_cli":"","x-version":"v2"}}},"product_short":"IMS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"更新镜像信息","tags":"镜像","uri":null,"version":"2.0"}