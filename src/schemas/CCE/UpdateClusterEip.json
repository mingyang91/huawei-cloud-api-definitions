{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"EipSpec":{"properties":{"bandwidth":{"description":"带宽信息","properties":{"sharetype":{"description":"带宽类型","enum":["PER","WHOLE"],"type":"string"},"size":{"description":"带宽大小","type":"integer"}}}}},"MasterEIPRequest":{"properties":{"spec":{"$ref":"#/definitions/MasterEIPRequestSpec","description":"绑定、解绑集群公网apiserver地址的请求配置参数"}},"required":["spec"]},"MasterEIPRequestSpec":{"properties":{"action":{"description":"绑定或解绑动作,必选参数。\n- 绑定:固定值为{\"action\":\"bind\"}\n- 解绑:固定值为{\"action\":\"unbind\"}","enum":["bind","unbind"],"type":"string"},"bandwidth":{"description":"带宽(字段已失效,暂不推荐使用)","type":"string"},"elasticIp":{"description":"弹性网卡IP(字段已失效,暂不推荐使用)","type":"string"},"spec":{"description":"待绑定的弹性IP配置属性","properties":{"id":{"description":"弹性网卡ID,绑定时必选,解绑时该字段无效","type":"string"}}}}},"MasterEIPResponse":{"properties":{"metadata":{"$ref":"#/definitions/Metadata","description":"基本信息,为集合类的元素类型,包含一组由不同名称定义的属性"},"spec":{"$ref":"#/definitions/MasterEIPResponseSpec","description":"绑定集群公网apiserver地址的配置信息"},"status":{"description":"状态信息","properties":{"privateEndpoint":{"description":"集群访问的PrivateIP(HA集群返回VIP)","type":"string"},"publicEndpoint":{"description":"集群访问的PublicIP","type":"string"}}}}},"MasterEIPResponseSpec":{"properties":{"action":{"description":"绑定动作","enum":["bind"],"type":"string"},"elasticIp":{"description":"弹性公网IP","type":"string"},"spec":{"description":"待绑定的弹性IP配置属性","properties":{"IsDynamic":{"description":"是否动态创建","type":"boolean"},"eip":{"$ref":"#/definitions/EipSpec","description":"EIP的详细信息"},"id":{"description":"弹性网卡ID","type":"string"}}}}},"Metadata":{"description":"资源描述基本信息,集合类的元素类型,包含一组由不同名称定义的属性。","properties":{"annotations":{"additionalProperties":{"type":"string"},"description":"资源注解,由key/value组成","type":"object"},"creationTimestamp":{"description":"创建时间","format":"date","type":"string"},"labels":{"additionalProperties":{"type":"string"},"description":"资源标签,key/value对格式,接口保留字段,填写不会生效","type":"object"},"name":{"description":"资源名称","type":"string"},"uid":{"description":"唯一id标识","type":"string"},"updateTimestamp":{"description":"更新时间","format":"date","type":"string"}}}},"description":null,"group_id":"394aeee55c894cd89bc6a709f45ae609","host":"cce.cn-north-4.myhuaweicloud.com","id":"a006e9e4f2844728bf9f5c1b206b2cb3","info_version":"v3","method":"put","name":"UpdateClusterEip","parameters":{"param_header_content_type":{"default":"application/json","description":"消息体的类型(格式)","in":"header","name":"Content-Type","required":true,"type":"string","x-order":51},"param_header_x_auth_token":{"description":"调用接口的认证方式分为Token和AK/SK两种,如果您使用的Token方式,此参数为必填,请填写Token的值,获取方式请参见[获取token](cce_02_0004.xml)。","in":"header","maxLength":16384,"name":"X-Auth-Token","required":true,"type":"string","x-order":52},"param_path_clusterid":{"description":"集群ID,获取方式请参见[如何获取接口URI中参数](cce_02_0271.xml)。","in":"path","name":"cluster_id","pattern":"^[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}$","required":true,"type":"string","x-order":2},"param_path_projectid":{"description":"项目ID,获取方式请参见[如何获取接口URI中参数](cce_02_0271.xml)。","in":"path","name":"project_id","required":true,"type":"string","x-order":1}},"paths":{"/api/v3/projects/{project_id}/clusters/{cluster_id}/mastereip":{"put":{"consumes":[],"description":"该API用于通过集群ID绑定、解绑集群公网apiserver地址\n>集群管理的URL格式为:https://Endpoint/uri。其中uri为资源路径,也即API访问的路径。","operationId":"UpdateClusterEip","parameters":[{"$ref":"#/parameters/param_path_projectid"},{"$ref":"#/parameters/param_path_clusterid"},{"$ref":"#/parameters/param_header_content_type"},{"$ref":"#/parameters/param_header_x_auth_token"},{"description":"绑定或解绑集群公网apiserver地址的请求体","in":"body","name":"MasterEIPBody","required":true,"schema":{"$ref":"#/definitions/MasterEIPRequest"},"x-order":500}],"produces":[],"responses":{"200":{"description":"表示绑定集群公网apiserver地址成功,解绑成功无响应体。","examples":{"application/json":{"metadata":{},"spec":{"action":"bind","elasticIp":"8.8.8.8","spec":{"IsDynamic":false,"eip":{"bandwidth":{"sharetype":"PER","size":5}},"id":"a757a69e-f920-455a-b1ba-d7a22db0fd50"}},"status":{"privateEndpoint":"https://192.168.3.238:5443","publicEndpoint":"https://8.8.8.8:5443"}}},"schema":{"$ref":"#/definitions/MasterEIPResponse"}}},"summary":"绑定、解绑集群公网apiserver地址","tags":["集群管理"],"x-apiexplorer-hide":"false","x-constraint":"","x-is-registered":"Y","x-name":"绑定或解绑集群公网apiserver地址","x-open-region-cloud":"hws,hws_hk,sbc,hk_sbc,ctc,g42,tm,hk_tm,hk_g42,hcso,hcs,hws_eu,hcso_dt,dt","x-order":23,"x-publishpath":"","x-request-examples-1":{"spec":{"action":"bind","spec":{"id":"a757a69e-f920-455a-b1ba-d7a22db0fd50"}}},"x-request-examples-description-1":"绑定集群公网apiserver地址。","x-request-examples-url-1":"","x-scope":"Commercial","x-support-sdk":"Y"}}},"product_short":"CCE","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"绑定、解绑集群公网apiserver地址","tags":"集群管理","uri":null,"version":"2.0"}