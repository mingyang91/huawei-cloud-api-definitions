{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"CreatePoolReq":{"description":"创建后端云服务器组的请求体","properties":{"admin_state_up":{"description":"后端云服务器组的管理状态。只支持设定为true,该字段的值无实际意义。","type":"boolean"},"description":{"description":"后端云服务器组的描述信息","maxLength":255,"minLength":0,"type":"string"},"lb_algorithm":{"description":"后端云服务器组的负载均衡算法,取值:ROUND_ROBIN:加权轮询算法;LEAST_CONNECTIONS:加权最少连接算法;SOURCE_IP:源IP算法;当该字段的取值为SOURCE_IP时,后端云服务器组绑定的后端云服务器的weight字段无效。","type":"string"},"listener_id":{"description":"后端云服务器组关联的监听器的ID。listener_id和loadbalancer_id中至少指定一个。","type":"string"},"loadbalancer_id":{"description":"后端云服务器组关联的负载均衡器ID。listener_id和loadbalancer_id中至少指定一个。","type":"string"},"name":{"description":"后端云服务器组的名称。","maxLength":255,"minLength":0,"type":"string"},"protocol":{"description":"后端云服务器组的后端协议。取值:UDP、TCP、HTTP。当指定istener_id创建后端云服务器组时,后端云服务器组的protocol和它关联的监听器的protocol有如下关系:监听器的protocol为TCP时,后端云服务器组的protocol必须为TCP。监听器的protocol为UDP时,后端云服务器组的protocol必须为UDP。监听器的protocol为HTTP或TERMINATED_HTTPS时,后端云服务器组的protocol必须为HTTP。","enum":["UDP","TCP","HTTP"],"type":"string"},"session_persistence":{"$ref":"#/definitions/SessionPersistence","description":"后端云服务器组的会话持久性。当开启会话保持后,在一定时间内,来自同一客户端的请求会发送到同一个后端云服务器上。当会话保持关闭时,该字段取值为null。"},"tenant_id":{"description":"后端云服务器组所在的项目ID。","maxLength":255,"minLength":0,"type":"string"}},"required":["lb_algorithm","protocol"]},"CreatePoolRequestBody":{"description":"This is a auto create Body Object","properties":{"pool":{"$ref":"#/definitions/CreatePoolReq","description":"后端云服务器组对象"}},"required":["pool"]},"CreatePoolResponseBody":{"description":"This is a auto create Response Object","properties":{"pool":{"$ref":"#/definitions/PoolResp","description":"后端云服务器组对象"}},"required":["pool"]},"ElbError":{"description":"错误信息响应体","properties":{"error":{"description":"错误信息","type":"string"}},"required":["error"]},"PoolResp":{"description":"后端云服务器组响应体","properties":{"admin_state_up":{"description":"后端云服务器组的管理状态。只支持设定为true,该字段的值无实际意义。","type":"boolean"},"description":{"description":"后端云服务器组的描述信息","maxLength":255,"minLength":0,"type":"string"},"healthmonitor_id":{"description":"后端云服务器组关联的健康检查的ID。","type":"string"},"id":{"description":"后端云服务器组的ID","type":"string"},"lb_algorithm":{"description":"后端云服务器组的负载均衡算法,取值:ROUND_ROBIN:加权轮询算法;LEAST_CONNECTIONS:加权最少连接算法;SOURCE_IP:源IP算法。当该字段的取值为SOURCE_IP时,后端云服务器组绑定的后端云服务器的weight字段无效。","enum":["ROUND_ROBIN","LEAST_CONNECTIONS","SOURCE_IP"],"type":"string"},"listeners":{"description":"后端云服务器组关联的监听器ID的列表。","items":{"$ref":"#/definitions/ResourceList"},"type":"array"},"loadbalancers":{"description":"后端云服务器组绑定的负载均衡器ID的列表。","items":{"$ref":"#/definitions/ResourceList"},"type":"array"},"members":{"description":"后端云服务器组关联的后端云服务器ID的列表。","items":{"$ref":"#/definitions/ResourceList"},"type":"array"},"name":{"description":"后端云服务器组的名称。","maxLength":255,"minLength":0,"type":"string"},"project_id":{"description":"后端云服务器组所在的项目ID。","maxLength":255,"minLength":0,"type":"string"},"protocol":{"description":"后端云服务器组的后端协议。","enum":["UDP","TCP","HTTP"],"type":"string"},"session_persistence":{"$ref":"#/definitions/SessionPersistence","description":"后端云服务器组的会话持久性。当开启会话保持后,在一定时间内,来自同一客户端的请求会发送到同一个后端云服务器上。当会话保持关闭时,该字段取值为null。"},"tenant_id":{"description":"后端云服务器组所在的项目ID。","maxLength":255,"minLength":0,"type":"string"}},"required":["admin_state_up","description","healthmonitor_id","id","lb_algorithm","listeners","loadbalancers","members","name","project_id","protocol","session_persistence","tenant_id"]},"ResourceList":{"description":"资源对象id列表。","properties":{"id":{"description":"资源ID","type":"string"}},"required":["id"]},"SessionPersistence":{"description":"后端云服务器组的会话持久性。\n当开启会话保持后,在一定时间内,来自同一客户端的请求会发送到同一个后端云服务器上。\n当会话保持关闭时,该字段取值为null。","properties":{"cookie_name":{"description":"cookie的名称。只有当会话保持的类型是APP_COOKIE时可以指定。","type":"string"},"persistence_timeout":{"description":"会话保持的超时时间。取值范围:[1,60](分钟):当后端云服务器的protocol为TCP、UDP时[1,1440](分钟):当后端云服务器的protocol为HTTP时。当type为APP_COOKIE时该字段不生效。","format":"int32","type":"integer"},"type":{"description":"会话保持的类型。SOURCE_IP:根据请求的源IP,将同一IP的请求发送到同一个后端云服务器上。HTTP_COOKIE:客户端第一次发送请求时,负载均衡器自动生成cookie并将该cookie插入响应消息中,后续请求会发送到处理第一个请求的后端云服务器上。APP_COOKIE:客户端第一次发送请求时,后端服务器生成cookie并将该cookie插入响应消息中,后续请求会发送到处理第一个请求的后端云服务器上。当后端云服务器的protocol为TCP时,只按SOURCE_IP生效当后端云服务器的protocol为HTTP时,只按HTTP_COOKIE或APP_COOKIE生效","enum":["SOURCE_IP","HTTP_COOKIE","APP_COOKIE"],"type":"string"}},"required":["type"]}},"description":null,"group_id":"dbd0be272eaa427280cd04f618f990db","host":"elb.cn-north-4.myhuaweicloud.com","id":"32f8807caeb94470824878685652258d","info_version":"v2","method":"post","name":"CreatePool","parameters":{},"paths":{"/v2/{project_id}/elb/pools":{"post":{"consumes":[],"deprecated":false,"description":"创建后端云服务器组。将多个后端云服务器添加到后端云服务器组中后,请求会在后端云服务器间按后端云服务器组的负载均衡算法和后端云服务器的权重来做请求分发。","operationId":"CreatePool","parameters":[{"description":"This is a auto create Body Object","in":"body","name":"CreatePoolRequestBody","required":true,"schema":{"$ref":"#/definitions/CreatePoolRequestBody"}},{"description":"用户token","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":2},{"description":"项目id","in":"path","name":"project_id","required":true,"type":"string","x-order":1}],"produces":[],"responses":{"201":{"description":"Created","examples":{"application/json":{"pool":{"admin_state_up":true,"description":"","healthmonitor_id":null,"id":"d46eab56-d76b-4cd3-8952-3c3c4cf113aa","lb_algorithm":"ROUND_ROBIN","listeners":[],"loadbalancers":[{"id":"63ad9dfe-4750-479f-9630-ada43ccc8117"}],"members":[],"name":"","project_id":"601240b9c5c94059b63d484c92cfe308","protocol":"HTTP","session_persistence":{"cookie_name":null,"persistence_timeout":1440,"type":"HTTP_COOKIE"},"tenant_id":"601240b9c5c94059b63d484c92cfe308"}}},"schema":{"$ref":"#/definitions/CreatePoolResponseBody"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/ElbError"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/ElbError"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ElbError"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/ElbError"}},"408":{"description":"Request Timeout","schema":{"$ref":"#/definitions/ElbError"}},"409":{"description":"Conflict","schema":{"$ref":"#/definitions/ElbError"}}},"summary":"创建后端云服务器组","tags":["后端云服务器组"],"x-constraint":"指定session-persistence参数时,只有当type是APP_COOKIE时,才可以设置cookie_name。","x-first-open-time":"2017-03-30","x-hybridcloud":"true","x-is-registered":"Y","x-name":"创建后端云服务器组","x-open-region-cloud":"hc,hk,otc,ctc","x-order":32,"x-publishpath":"","x-request-examples-1":"POST https://{ELB_Endpoint}/v2/7f38b160526648ee837ca4bdc05f4d09/elb/pools\n{\n    \"pool\": {\n        \"lb_algorithm\": \"ROUND_ROBIN\",\n        \"loadbalancer_id\": \"63ad9dfe-4750-479f-9630-ada43ccc8117\",\n        \"protocol\": \"HTTP\",\n        \"session_persistence\": {\n            \"type\": \"HTTP_COOKIE\"\n        }\n    }\n}","x-request-examples-description-1":"","x-request-examples-text-1":"POST https://{ELB_Endpoint}/v2/7f38b160526648ee837ca4bdc05f4d09/elb/pools\n{\n    \"pool\": {\n        \"lb_algorithm\": \"ROUND_ROBIN\",\n        \"loadbalancer_id\": \"63ad9dfe-4750-479f-9630-ada43ccc8117\",\n        \"protocol\": \"HTTP\",\n        \"session_persistence\": {\n            \"type\": \"HTTP_COOKIE\"\n        }\n    }\n}","x-request-examples-url-1":"","x-scope":"Commercial","x-source":"Native","x-support-sdk":"Y","x-version":"v2"}}},"product_short":"ELB","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建后端云服务器组","tags":"后端云服务器组","uri":null,"version":"2.0"}