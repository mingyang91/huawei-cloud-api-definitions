{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ErrorResultInfo":{"description":"调用失败时的返回值。","properties":{"error_code":{"description":"错误码。","enum":["LTS.0403"],"type":"string"},"error_msg":{"description":"调用失败响应信息描述。","enum":["Invalid projectId"],"type":"string"}},"type":"object"},"QueryLtsStructLogParams":{"description":"此参数在请求实体中,采用json字符串格式","properties":{"end_time":{"description":"搜索结束时间(UTC时间,毫秒级)。","maxLength":13,"minLength":13,"type":"string"},"original_content":{"default":false,"description":"返回内容中是否包含原始日志, 默认为false。","type":"boolean"},"sql_expression":{"description":"支持SQL语句搜索, 目前支持\"GROUP BY\", \"LIKE\"和\"WHERE\"。","maxLength":100,"minLength":0,"type":"string"},"start_time":{"description":"搜索起始时间(UTC时间,毫秒级)。","maxLength":13,"minLength":13,"type":"string"}},"required":["start_time","end_time"],"type":"object"},"QueryLtsStructLogResponseBody":{"description":"lts查询结果详细","properties":{"struct_logs":{"description":"日志信息。","items":{"$ref":"#/definitions/StructLogContents"},"maxItems":5000,"minItems":1,"type":"array"}},"type":"object"},"StructLogContents":{"description":"参数集","properties":{"line_num":{"description":"日志单行序列号。","example":"1590455999512234081","maxLength":19,"minLength":19,"type":"string"},"log_content":{"description":"日志原数据。","example":"2020-05-26/09:19:59 this log is Error NO 83523\\n","maxLength":10000,"minLength":1,"type":"string"}},"type":"object"}},"description":null,"group_id":"8f58e31c452f407885dec582b8542111","host":"lts.cn-north-4.myhuaweicloud.com","id":"a0646200292347dfb644da6ae93e38ac","info_version":"v2","method":"post","name":"ListQueryStructuredLogs","parameters":{},"paths":{"/v2/{project_id}/groups/{log_group_id}/streams/{log_stream_id}/struct-content/query":{"post":{"consumes":["application/json"],"description":"该接口用于查询指定日志流下的结构化日志内容。","operationId":"ListQueryStructuredLogs","parameters":[{"default":"None","description":"项目ID,获取方式请参见:获取账号ID、项目ID、日志组ID、日志流ID(https://support.huaweicloud.com/api-lts/lts_api_0006.html)。","in":"path","maxLength":32,"minLength":32,"name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"default":"None","description":"日志组id。","in":"path","maxLength":36,"minLength":36,"name":"log_group_id","required":true,"type":"string","x-example":"bf36c2ad-8620-xxxx-xxxx-ba80a88axxxx"},{"default":"None","description":"日志流id。","in":"path","maxLength":36,"minLength":36,"name":"log_stream_id","required":true,"type":"string","x-example":"a78be692-xxxx-41a8-xxxx-1ac1377dxxxx"},{"default":"None","description":"从IAM服务获取的用户Token,获取方式请参见:获取用户Token(https://support.huaweicloud.com/api-iam/iam_30_0001.html)","in":"header","maxLength":2000,"minLength":1000,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."},{"default":"application/json;charset=UTF-8","description":"该字段填为:application/json;charset=UTF-8。","in":"header","maxLength":30,"minLength":30,"name":"Content-Type","required":true,"type":"string"},{"description":"该参数需要在调用时,放在请求body中,为JSON字符串。","in":"body","name":"ListQueryStructuredLogsRequestBody","required":true,"schema":{"$ref":"#/definitions/QueryLtsStructLogParams"}}],"produces":["application/json"],"responses":{"200":{"description":"请求响应成功。","schema":{"$ref":"#/definitions/QueryLtsStructLogResponseBody"}},"400":{"description":"BadRequest。非法请求。 建议根据error_msg直接修改该请求,不要重试该请求。","examples":{"applications/json":{"error_code":"LTS.0009","error_msg":"Failed to validate the request body"}},"schema":{"$ref":"#/definitions/ErrorResultInfo"}},"401":{"description":"AuthFailed。鉴权失败, 请确认token后再次请求 。","examples":{"applications/json":{"error_code":"LTS.0414","error_msg":"Invalid token"}},"schema":{"$ref":"#/definitions/ErrorResultInfo"}},"403":{"description":"Forbidden。\n请求被拒绝访问。\n返回该状态码,表明请求能够到达服务端,且服务端能够理解用户请求,但是拒绝做更多的事情,因为该请求被设置为拒绝访问,建议直接修改该请求,不要重试该请求。","examples":{"applications/json":{"error_code":"LTS.0001","error_msg":"Invalid projectId"}},"schema":{"$ref":"#/definitions/ErrorResultInfo"}},"500":{"description":"InternalServerError。\n表明服务端能被请求访问到,但是服务内部出错。","examples":{"applications/json":{"error_code":"LTS.0202","error_msg":"Failed to query lts struct log"}},"schema":{"$ref":"#/definitions/ErrorResultInfo"}},"503":{"description":"ServiceUnavailable。\n被请求的服务无效,  服务不可用。","schema":{"type":"string"}}},"summary":"查询结构化日志","tags":["日志管理"],"x-is-registered":"Y","x-open-region-cloud":"hk,hc","x-publishpath":"lts_api_0023","x-request-examples-1":{"end_time":1538970364983,"original_content":"true","sql_expression":"SELECT *","start_time":1538970064983},"x-request-examples-text-1":"/v2/{project_id}/{log_group_id}/{log_stream_id}/struct-content/query\n{\n  \"start_time\": 1538970064983,\n  \"end_time\": 1538970364983,\n  \"sql_expression\": \"SELECT *\",\n  \"original_content\": \"true\"\n}","x-request-examples-url-1":"POST https://{endpoint}/v2/{project_id}/{log_group_id}/{log_stream_id}/struct-content/query","x-support-sdk":"Y"}}},"product_short":"LTS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询结构化日志","tags":"日志管理","uri":null,"version":"2.0"}