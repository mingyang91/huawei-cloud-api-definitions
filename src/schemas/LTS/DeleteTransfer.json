{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CreateTransferResponseBody":{"properties":{"log_group_id":{"description":"日志组ID","example":"9a7e2183-2d6d-4732-9a9b-e897fd4e49e0","maxLength":36,"minLength":36,"type":"string"},"log_group_name":{"description":"日志组名称","example":"lts-group-kafka","maxLength":64,"minLength":1,"type":"string"},"log_streams":{"description":"日志流ID集合","items":{"properties":{"log_stream_id":{"description":"日志流ID","example":"839dac89-35af-4db2-ab4a-a7dda0d0d3f8","maxLength":36,"minLength":36,"type":"string"},"log_stream_name":{"description":"日志流名称","example":"lts-topic-kafka","maxLength":64,"minLength":1,"type":"string"}},"required":["log_stream_id","log_stream_name"]},"maxItems":1000,"minItems":1,"type":"array"},"log_transfer_id":{"description":"日志转储ID","example":"3f45b738-3594-4069-b69c-806775a5251f","maxLength":36,"minLength":36,"type":"string"},"log_transfer_info":{"description":"日志转储信息","properties":{"log_agency_transfer":{"description":"委托转储信息。若转储为委托转储,则会返回该参数","properties":{"agency_domain_id":{"description":"委托方账号ID","example":"1d26cc8c86a840e28a4f8d0d07852f1d","maxLength":128,"minLength":1,"type":"string"},"agency_domain_name":{"description":"委托方账号名称","example":"paas_apm_z00418070_01","maxLength":128,"minLength":1,"type":"string"},"agency_name":{"description":"委托方配置的委托名称","example":"test20210325","maxLength":128,"minLength":1,"type":"string"},"agency_project_id":{"description":"委托方项目ID","example":"2a473356cca5487f8373be891bffc1cf","maxLength":32,"minLength":32,"type":"string"},"be_agency_domain_id":{"description":"被委托方账号ID,实际配置转储的账号ID","example":"1d26cc8c86a840e28a4f8d0d07852f1d","maxLength":128,"minLength":1,"type":"string"},"be_agency_project_id":{"description":"被委托方项目ID,实际配置转储的账号的项目ID","example":"2a473356cca5487f8373be891bffc1cf","maxLength":32,"minLength":32,"type":"string"}},"required":["agency_domain_id","agency_domain_name","agency_name","agency_project_id","be_agency_domain_id","be_agency_project_id"]},"log_create_time":{"description":"日志转储创建时间","example":1634801366301,"format":"int64","maximum":9999999999999,"minimum":0,"type":"integer"},"log_storage_format":{"description":"日志转储格式。只支持\"RAW\", \"JSON\"。RAW是指原始日志格式,JSON是指JSON日志格式。OBS转储和DIS转储支持JSON和RAW,DMS转储仅支持RAW","enum":["JSON","RAW"],"example":"JSON","type":"string"},"log_transfer_detail":{"$ref":"#/definitions/TransferDetail","description":"日志转储详细信息","type":"object"},"log_transfer_mode":{"description":"日志转储方式。cycle是指周期性转储,realTime是指实时转储。OBS转储只支持\"cycle\",DIS转储和DMS转储只支持\"realTime\"。","enum":["cycle","realTime"],"example":"cycle","type":"string"},"log_transfer_status":{"description":"日志转储状态,ENABLE是指日志转储开启状态,DISABLE是指日志转储关闭状态,EXCEPTION是指日志转储异常状态","enum":["ENABLE","DISABLE","EXCEPTION"],"example":"ENABLE","type":"string"},"log_transfer_type":{"description":"日志转储类型。OBS指OBS日志转储,DIS指DIS日志转储,DMS指DMS日志转储","enum":["OBS","DIS","DMS"],"example":"OBS","type":"string"}},"required":["log_create_time","log_storage_format","log_transfer_detail","log_transfer_mode","log_transfer_status","log_transfer_type"]}},"required":["log_group_id","log_group_name","log_streams","log_transfer_id","log_transfer_info"]},"LtsErrorResultInfo":{"description":"调用失败时的返回值。","properties":{"error_code":{"description":"错误码。","maxLength":8,"minLength":8,"type":"string"},"error_msg":{"description":"调用失败响应信息描述。","example":"Invalid projectId","maxLength":1000,"minLength":1,"type":"string"}}},"TransferDetail":{"description":"日志转储详细信息","properties":{"dis_id":{"description":"DIS转储通道ID","example":"i1y8vfMTvf4LQzxxxxx","maxLength":128,"minLength":1,"type":"string"},"dis_name":{"description":"DIS转储通道名称","example":"xxxxx","maxLength":128,"minLength":1,"type":"string"},"kafka_id":{"description":"DMS转储kafka ID","example":"346a58e6-4289-49e7-8f55-5833db7xxxxx","maxLength":36,"minLength":36,"type":"string"},"kafka_topic":{"description":"DMS转储kafka topic","example":"xxxxx","maxLength":128,"minLength":1,"type":"string"},"obs_bucket_name":{"description":"OBS日志桶名称","example":"0001","maxLength":63,"minLength":3,"type":"string"},"obs_dir_pre_fix_name":{"description":"OBS转储自定义转储路径","example":"test","maxLength":64,"minLength":1,"pattern":"^(/)?([a-zA-Z0-9\\._-]+)(/[a-zA-Z0-9\\._-]+)*(/)?$","type":"string"},"obs_encrypted_enable":{"description":"OBS是否开启加密。","enum":[true,false],"example":true,"type":"boolean"},"obs_encrypted_id":{"description":"OBS转储KMS秘钥ID。若OBS转储未加密则不返回此字段","example":"1bd90032-1424-481f-8558-ba49854ad0cc","maxLength":36,"minLength":36,"type":"string"},"obs_eps_id":{"description":"OBS企业项目ID","example":"0","maxLength":128,"minLength":0,"type":"string"},"obs_period":{"description":"OBS转储时间","enum":[1,2,3,5,6,12,30],"example":2,"format":"int32","type":"integer"},"obs_period_unit":{"description":"OBS转储单位","example":"min","type":"string"},"obs_prefix_name":{"description":"OBS转储日志文件前缀","example":"wjy","maxLength":64,"minLength":1,"pattern":"^[a-zA-Z0-9\\._-]*$","type":"string"},"obs_time_zone":{"description":"OBS转储时区。如果选择该参数,则必须选择obs_time_zone_id。","type":"string"},"obs_time_zone_id":{"description":"OBS转储时区ID。参数选择参考OBS转储时区表。如果选择该参数,则必须选择obs_time_zone。","type":"string"},"obs_transfer_path":{"description":"OBS转储路径,指OBS日志桶中的路径","example":"/0001/LogTanks/cn-north-7/test","maxLength":256,"minLength":0,"type":"string"},"tags":{"description":"若开启tag投递,该字段必须包含主机信息:hostIP、hostId、hostName、pathFile、collectTime;\n\n公共字段有:logStreamName、regionName、logGroupName、projectId,为可选填;\n\n开启转储标签:streamTag,可选填","items":{"type":"string"},"type":"array"}},"required":["obs_period","obs_period_unit","obs_bucket_name"]}},"description":null,"group_id":"8f58e31c452f407885dec582b8542111","host":"lts.cn-north-4.myhuaweicloud.com","id":"4370c221a5374d8eb42746d9a440e7ae","info_version":"v2","method":"delete","name":"DeleteTransfer","parameters":{},"paths":{"/v2/{project_id}/transfers":{"delete":{"description":"该接口用于删除OBS转储,DIS转储,DMS转储。","operationId":"DeleteTransfer","parameters":[{"description":"项目ID,获取方式请参见:获取账号ID、项目ID、日志组ID、日志流ID(https://support.huaweicloud.com/api-lts/lts_api_0006.html)。","in":"path","maxLength":32,"minLength":32,"name":"project_id","required":true,"type":"string"},{"description":"从IAM服务获取的用户Token,获取方式请参见:获取用户Token(https://support.huaweicloud.com/api-iam/iam_30_0001.html)","in":"header","maxLength":2000,"minLength":1000,"name":"X-Auth-Token","pattern":"X-Auth-Token","required":true,"type":"string"},{"default":"application/json;charset=UTF-8","description":"该字段填为:application/json;charset=UTF-8。","in":"header","maxLength":30,"minLength":30,"name":"Content-Type","required":true,"type":"string"},{"description":"日志转储ID。获取ID有3种方式: 1. 调用查询日志转储接口,返回值有日志转储ID  2. 调用新增日志转储接口,返回值有日志转储ID 3. 调用删除日志转储接口,返回值有日志转储ID","in":"query","maxLength":36,"minLength":36,"name":"log_transfer_id","required":true,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"删除转储请求响应成功。","examples":{"application/json":"{\"log_group_id\":\"9a7e2183-2d6d-4732-9a9b-e897fd4e49e0\",\"log_group_name\":\"lts-group-kafka\",\"log_streams\":[{\"log_stream_id\":\"839dac89-35af-4db2-ab4a-a7dda0d0d3f8\",\"log_stream_name\":\"lts-topic-kafka\"}],\"log_transfer_id\":\"ddced522-233a-4181-a5fc-7b458c819afc\",\"log_transfer_info\":{\"log_create_time\":1634802241847,\"log_storage_format\":\"JSON\",\"log_agency_transfer\":{\"agency_domain_id\":\"1d26cc8c86a840e28a4f8d0d078xxxxx\",\"agency_domain_name\":\"paas_apm_z004xxxxx_xx\",\"agency_name\":\"test20210325\",\"agency_project_id\":\"2a473356cca5487f8373be891bfxxxxx\",\"be_agency_domain_id\":\"1d26cc8c86a840e28a4f8d0d078xxxxx\",\"be_agency_project_id\":\"2a473356cca5487f8373be891bfxxxxx\"},\"log_transfer_detail\":{//当创建OBS转储时,会返回如下参数\"obs_period\":2,\"obs_prefix_name\":\"\",\"obs_period_unit\":\"min\",\"obs_transfer_path\":\"/0002/LogTanks/cn-north-7/\",\"obs_eps_id\":\"0\",\"obs_bucket_name\":\"0002\",\"obs_encrypted_enable\":false,\"obs_dir_pre_fix_name\":\"\"//当创建DIS转储时,会返回如下参数\"dis_id\":\"xxxxx\",\"dis_name\":\"xxxxxx\",//当创建DMS转储时,会返回如下参数\"kafka_id\":\"xxxxxx\",\"kafka_topic\":\"xxxxx\"},\"log_transfer_mode\":\"cycle\",\"log_transfer_status\":\"ENABLE\",\"log_transfer_type\":\"OBS\"}}"},"schema":{"$ref":"#/definitions/CreateTransferResponseBody"}},"400":{"description":"BadRequest 非法请求 建议根据error_msg直接修改该请求。","examples":{"application/json":{"error_code":"LTS.0207","error_msg":"The log stream is associated by transfer"}},"schema":{"$ref":"#/definitions/LtsErrorResultInfo"}},"500":{"description":"表明服务端能被请求访问到,但是服务内部出错。","examples":{"application/json":{"error_code":"LTS.0010","error_msg":"The system encountered an internal error"}},"schema":{"$ref":"#/definitions/LtsErrorResultInfo"}}},"summary":"删除日志转储","tags":["日志转储"],"x-is-registered":"Y","x-request-examples-1":"/v2/{project_id}/transfers?log_transfer_id=cfc43c45-9edc-4a03-8578-0eb00cxxxxxx","x-request-examples-description-1":"根据日志转储ID,删除日志转储","x-request-examples-text-1":"/v2/{project_id}/transfers?log_transfer_id=cfc43c45-9edc-4a03-8578-0eb00cxxxxxx","x-request-examples-url-1":"DELETE https://{endpoint}/v2/{project_id}/transfers","x-support-sdk":"Y"}}},"product_short":"LTS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"删除日志转储","tags":"日志转储","uri":null,"version":"2.0"}