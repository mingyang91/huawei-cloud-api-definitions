{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"Error":{"properties":{"error":{"description":"错误信息返回体。","items":{"$ref":"#/definitions/ErrorDetail"}}}},"ErrorDetail":{"properties":{"error_code":{"description":"错误请求返回的错误码","maxLength":36,"minLength":3,"type":"string"},"error_msg":{"description":"错误请求返回的错误信息","maxLength":1024,"minLength":0,"type":"string"}}},"Grants":{"properties":{"creation_date":{"description":"创建时间,时间戳,即从1970年1月1日至该时间的总秒数。\n例如:1497341531000","maxLength":13,"minLength":0,"type":"string"},"grant_id":{"description":"授权ID,64字节。","maxLength":64,"minLength":64,"type":"string"},"grantee_principal":{"description":"被授权用户ID,1~64字节,满足正则匹配“^[a-zA-Z0-9]{1,64}$”。\n例如:0d0466b00d0466b00d0466b00d0466b0","maxLength":64,"minLength":1,"type":"string"},"grantee_principal_type":{"description":"授权类型。\n有效值:“user”,“domain”。","enum":["user","domain"],"type":"string"},"issuing_principal":{"description":"创建授权用户ID,1~64字节,满足正则匹配“^[a-zA-Z0-9]{1,64}$”。\n例如:0d0466b00d0466b00d0466b00d0466b0","maxLength":64,"minLength":1,"type":"string"},"key_id":{"description":"密钥ID。","maxLength":36,"minLength":36,"type":"string"},"name":{"description":"授权名字,取值1到255字符,满足正则匹配“^[a-zA-Z0-9:/_-]{1,255}$”。","maxLength":255,"minLength":1,"type":"string"},"operations":{"description":"授权允许的操作列表。\n有效的值:“create-datakey”,“create-datakey-without-plaintext”,“encrypt-datakey”,“decrypt-datakey”,“describe-key”,“create-grant”,“retire-grant”,“encrypt-data”,“decrypt-data”。\n有效值不能仅为“create-grant”。\n - “create-datakey” 创建数据密钥\n - “create-datakey-without-plaintext” 创建不含明文数据密钥\n - “encrypt-datakey” 加密数据密钥\n - “decrypt-datakey” 解密数据密钥\n - “describe-key” 查询密钥信息\n - “retire-grant” 退役授权\n - “encrypt-data” 加密数据\n - “decrypt-data” 解密数据","items":{"type":"string"},"maxItems":10,"minItems":1,"type":"array"},"retiring_principal":{"description":"可退役授权的用户ID,1~64字节,满足正则匹配“^[a-zA-Z0-9]{1,64}$”。\n例如:0d0466b00d0466b00d0466b00d0466b0","maxLength":64,"minLength":1,"type":"string"}}},"ListGrantsRequestBody":{"properties":{"key_id":{"description":"密钥ID,36字节,满足正则匹配“^[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}$”。\n例如:0d0466b0-e727-4d9c-b35d-f84bb474a37f。","maxLength":36,"minLength":36,"type":"string"},"limit":{"description":"指定查询授权列表返回记录条数,如果查询记录条数小于存在的条数,响应参数“truncated”将返回“true”,表示存在分页。\n取值在授权最大个数范围以内。例如:100","maxLength":4,"minLength":0,"type":"string"},"marker":{"description":"分页查询起始位置标识。\n分页查询收到的响应参数“truncated”为“true”时,可以发送连续的请求获取更多的记录条数,“marker”设置为响应的“next_marker”的值。例如:10。","maxLength":4,"minLength":0,"type":"string"},"sequence":{"description":"请求消息序列号,36字节序列号。\n例如:919c82d4-8046-4722-9094-35c3c6524cff","maxLength":36,"minLength":0,"type":"string"}},"required":["key_id"]},"ListGrantsResponseBody":{"properties":{"grants":{"description":"grant列表,详情请参见grants字段数据结构说明。","items":{"$ref":"#/definitions/Grants"},"maxItems":1000,"minItems":0,"type":"array"},"next_marker":{"description":"获取下一页所需要传递的marker值。\n当“truncated”为“false”时,“next_marker”为空。","maxLength":4,"minLength":0,"type":"string"},"total":{"description":"grant总条数。","format":"int32","maximum":1000,"minimum":0,"type":"integer"},"truncated":{"description":"是否还有下一页:\n - “true”表示还有数据。\n - “false”表示已经是最后一页。","enum":["true","false"],"type":"string"}}}},"description":null,"group_id":"2db7b8185e9643bda6488925a07b94e6","host":"kms.cn-north-4.myhuaweicloud.com","id":"5ba96ad38c1548229a2a5bbdc5c7be1f","info_version":"v2","method":"post","name":"ListGrants","parameters":{},"paths":{"/v1.0/{project_id}/kms/list-grants":{"post":{"description":"- 功能介绍:查询密钥的授权列表。","operationId":"ListGrants","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":2097152,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"项目ID","in":"path","maxLength":32,"minLength":32,"name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"list_grants","in":"body","name":"ListGrantsRequestBody","required":true,"schema":{"$ref":"#/definitions/ListGrantsRequestBody"}}],"produces":["application/json"],"responses":{"200":{"description":"请求已成功","examples":{"application/json":{"grants":[{"creation_date":"1597062260000","grant_id":"dd3f03e9229a5e47a41be6c27a630e60d5cbdbad2be89465d63109ad034db7d8","grantee_principal":"13gg44z4g2sglzk0egw0u726zoyzvrs8","grantee_principal_type":"user","issuing_principal":"8b961fb414344d59825ba0c8c008c815","key_id":"737fd52b-36c4-4c91-972e-f6e202de9f6e","name":"13gg44z4g2sglzk0egw0u726zoyzvrs8","operations":["create-datakey","describe-key"]}],"next_marker":"","total":1,"truncated":"false"}},"schema":{"$ref":"#/definitions/ListGrantsResponseBody"}},"400":{"description":"请求参数有误","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"被请求的页面需要用户名和密码","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"认证失败","schema":{"$ref":"#/definitions/Error"}},"404":{"description":"资源不存在,资源未找到","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"服务内部错误","schema":{"$ref":"#/definitions/Error"}},"502":{"description":"请求未完成。服务器从上游服务器收到一个无效的响应","schema":{"$ref":"#/definitions/Error"}},"504":{"description":"网关超时","schema":{"$ref":"#/definitions/Error"}}},"summary":"查询授权列表","tags":["密钥授权管理"],"x-is-registered":"Y","x-request-examples-1":{"key_id":"0d0466b0-e727-4d9c-b35d-f84bb474a37f"},"x-support-sdk":"Y"}}},"product_short":"KMS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询授权列表","tags":"密钥授权管理","uri":null,"version":"2.0"}