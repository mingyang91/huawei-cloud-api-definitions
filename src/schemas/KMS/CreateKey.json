{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CreateKeyRequestBody":{"properties":{"enterprise_project_id":{"description":"企业多项目ID。\n- 用户未开通企业多项目时,不需要输入该字段。\n- 用户开通企业多项目时,创建资源可以输入该字段。若用户户不输入该字段,默认创建属于默认企业多项目ID(ID为“0”)的资源。\n注意:若用户没有默认企业多项目ID(ID为“0”)下的创建权限,则接口报错。","maxLength":36,"minLength":0,"type":"string"},"key_alias":{"description":"非默认主密钥别名,取值范围为1到255个字符,满足正则匹配“^[a-zA-Z0-9:/_-]{1,255}$”,且不与系统服务创建的默认主密钥别名重名。","maxLength":255,"minLength":1,"type":"string"},"key_description":{"description":"密钥描述,取值0到255字符。","maxLength":255,"minLength":0,"type":"string"},"key_spec":{"description":"密钥生成算法,默认为“AES_256”,枚举如下:\n- AES_256\n- SM4\n- RSA_2048\n- RSA_3072\n- RSA_4096\n- EC_P256\n- EC_P384\n- SM2","enum":["AES_256","SM4","RSA_2048","RSA_3072","RSA_4096","EC_P256","EC_P384","SM2"],"type":"string"},"key_usage":{"description":"密钥用途,对称密钥默认为“ENCRYPT_DECRYPT”,非对称密钥默认为“SIGN_VERIFY”,枚举如下:\n- ENCRYPT_DECRYPT\n- SIGN_VERIFY","enum":["ENCRYPT_DECRYPT","SIGN_VERIFY"],"type":"string"},"keystore_id":{"description":"密钥库ID,默认使用KMS默认密钥库","type":"string"},"origin":{"description":"密钥来源,默认为“kms”,枚举如下:\n- kms:表示密钥材料由kms生成。\n- external:表示密钥材料由外部导入。","enum":["kms","external"],"type":"string"},"sequence":{"description":"请求消息序列号,36字节序列号。\n例如:919c82d4-8046-4722-9094-35c3c6524cff","maxLength":36,"minLength":0,"type":"string"}},"required":["key_alias"]},"CreateKeyResponseBody":{"properties":{"key_info":{"$ref":"#/definitions/KeKInfo"}}},"Error":{"properties":{"error":{"description":"错误信息返回体。","items":{"$ref":"#/definitions/ErrorDetail"}}}},"ErrorDetail":{"properties":{"error_code":{"description":"错误请求返回的错误码","maxLength":36,"minLength":3,"type":"string"},"error_msg":{"description":"错误请求返回的错误信息","maxLength":1024,"minLength":0,"type":"string"}}},"KeKInfo":{"description":"密钥详细信息。","properties":{"domain_id":{"description":"用户域ID。","maxLength":64,"minLength":32,"type":"string"},"key_id":{"description":"密钥ID。","maxLength":36,"minLength":36,"pattern":"^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$","type":"string"}}}},"description":null,"group_id":"2db7b8185e9643bda6488925a07b94e6","host":"kms.cn-north-4.myhuaweicloud.com","id":"11544adfe6c5467095cffb9479eb2f53","info_version":"v2","method":"post","name":"CreateKey","parameters":{},"paths":{"/v1.0/{project_id}/kms/create-key":{"post":{"consumes":[],"description":"创建用户主密钥,用户主密钥可以为对称密钥或非对称密钥。\n- 对称密钥为长度为256位AES密钥或者128位SM4密钥,可用于小量数据的加密或者用于加密数据密钥。\n- 非对称密钥可以为RSA密钥对或者ECC密钥对(包含SM2密钥对),可用于加解密数据、数字签名及验签。","operationId":"CreateKey","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":2097152,"minLength":32,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"项目ID","in":"path","maxLength":32,"minLength":32,"name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"创建主密钥请求消息体","in":"body","name":"CreateKeyRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateKeyRequestBody"}}],"produces":[],"responses":{"200":{"description":"请求已成功","examples":{"application/json":{"key_info":{"domain_id":"b168fe00ff56492495a7d22974df2d0b","key_id":"bb6a3d22-dc93-47ac-b5bd-88df7ad35f1e"}}},"schema":{"$ref":"#/definitions/CreateKeyResponseBody"}},"400":{"description":"请求参数有误","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"被请求的页面需要用户名和密码","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"认证失败","schema":{"$ref":"#/definitions/Error"}},"404":{"description":"资源不存在,资源未找到","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"服务内部错误","schema":{"$ref":"#/definitions/Error"}},"502":{"description":"请求未完成。服务器从上游服务器收到一个无效的响应","schema":{"$ref":"#/definitions/Error"}},"504":{"description":"网关超时","schema":{"$ref":"#/definitions/Error"}}},"summary":"创建密钥","tags":["密钥生命周期管理"],"x-constraint":"别名“/default”为服务默认主密钥的后缀名,由服务自动创建。因此用户创建的主密钥别名不能与服务默认主密钥的别名相同,即后缀名不能为“/default”。\n对于开通企业项目的用户,服务默认主密钥属于且只能属于默认企业项目下,且不支持企业资源的迁入迁出。服务默认主密钥为用户提供基础的云上加密功能,满足合规要求。因此,在企业多项目下,其他非默认企业项目下的用户均可使用该密钥。若客户有企业管理资源诉求,请自行创建和使用密钥。","x-is-registered":"Y","x-request-examples-1":{"key_alias":"test"},"x-support-sdk":"Y"}}},"product_short":"KMS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建密钥","tags":"密钥生命周期管理","uri":null,"version":"2.0"}