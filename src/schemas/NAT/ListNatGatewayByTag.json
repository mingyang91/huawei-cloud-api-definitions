{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"ListNatsByTagsRequestBody":{"description":"查询资源实例的请求体","properties":{"action":{"description":"- 操作标识(仅限于filter,count):filter(过滤),count(查询总条数)\n- 如果是filter就是分页查询,如果是count只需按照条件将总条数返回即可。","type":"string","x-huawei-extraAnnotation":""},"limit":{"description":"查询记录数(action为count时无此参数)如果action为filter默认为1000,limit最多为1000,不能为负数,最小值为1","type":"string","x-huawei-extraAnnotation":""},"matches":{"description":"- 搜索字段列表,key为要匹配的字段,如resource_name等。value为匹配的值。此字段为固定字典值。\n- 根据不同的字段确认是否需要模糊匹配,如resource_name默认为模糊搜索(不区分大小写),如果value为空字符串精确匹配。resource_id为精确匹配。","items":{"$ref":"#/definitions/PublicMatch","description":""},"type":"array","x-huawei-extraAnnotation":""},"not_tags":{"description":"不包含标签对象列表,最多包含10个key,每个key下面的value最多10个, 结构体不能缺失,key不能为空或者空字符串。Key不能重复,同一个key中values不能重复。返回不包含标签的资源列表,key之间是与的关系,key-value结构中value是或的关系。无过滤条件时返回全量数据。","items":{"$ref":"#/definitions/PublicTag","description":""},"type":"array","x-huawei-extraAnnotation":""},"not_tags_any":{"description":"不包含任意标签对象列表,最多包含10个key,每个key下面的value最多10个,结构体不能缺失,key不能为空或者空字符串。Key不能重复,同一个key中values不能重复。返回不包含标签的资源列表,key之间是或的关系,key-value结构中value是或的关系。无过滤条件时返回全量数据。","items":{"$ref":"#/definitions/PublicTag","description":""},"type":"array","x-huawei-extraAnnotation":""},"offset":{"description":"(索引位置),\n从offset指定的下一条数据开始查询。查询第一页数据时,不需要传入此参数,查询后续页码数据时,将查询前一页数据时响应体中的值带入此参数(action为count时无此参数)如果action为filter默认为0,必须为数字,不能为负数","type":"string","x-huawei-extraAnnotation":""},"tags":{"description":"包含标签对象列表,最多包含10个key,每个key下面的value最多10个,结构体不能缺失,key不能为空或者空字符串。Key不能重复,同一个key中values不能重复。返回包含所有标签的资源列表,key之间是与的关系,key-value结构中value是或的关系。无tag过滤条件时返回全量数据。","items":{"$ref":"#/definitions/PublicTag","description":""},"maxItems":10,"minItems":1,"type":"array","x-huawei-extraAnnotation":""},"tags_any":{"description":"包含任意标签对象列表,最多包含10个key,每个key下面的value最多10个,结构体不能缺失,key不能为空或者空字符串。Key不能重复,同一个key中values不能重复。返回包含标签的资源列表,key之间是或的关系,key-value结构中value是或的关系。无过滤条件时返回全量数据。","items":{"$ref":"#/definitions/PublicTag","description":""},"type":"array","x-huawei-extraAnnotation":""}},"required":["action"]},"ListNatsByTagsResponseBody":{"description":"响应参数。","properties":{"resources":{"description":"资源对象列表。请参考表Resource字段数据结构说明。","items":{"$ref":"#/definitions/PublicResource","description":""},"type":"array","x-huawei-extraAnnotation":""},"total_count":{"description":"总记录数","format":"int32","type":"integer","x-huawei-extraAnnotation":""}},"required":["resources","total_count"]},"PublicMatch":{"description":"Match字段数据结构说明","properties":{"key":{"description":"键。限定为resource_name。","type":"string"},"value":{"description":"值。每个值最大长度255个unicode字符。","type":"string"}},"required":["key","value"]},"PublicResource":{"description":"Resource字段数据结构说明","properties":{"resource_detail":{"description":"资源详情。资源对象,用于扩展。默认为空","type":"object","x-huawei-extraAnnotation":""},"resource_id":{"description":"资源ID","type":"string","x-huawei-extraAnnotation":""},"resource_name":{"description":"资源名称,没有默认为空字符串","example":"nat_gateways","type":"string","x-huawei-extraAnnotation":""},"tags":{"description":"标签列表,没有标签默认为空数组。请参考表ResourceTag字段数据结构说明。","items":{"$ref":"#/definitions/PublicResourceTag","description":""},"type":"array","x-huawei-extraAnnotation":""}},"required":["resource_id","resource_detail","tags","resource_name"]},"PublicResourceTag":{"description":"ResourceTag字段数据结构说明","properties":{"key":{"description":"键。最大长度128个unicode字符。key不能为空。不能包含非打印字符ASCII(0-31),*,<,>,\\\\,=","type":"string"},"value":{"description":"值。每个值最大长度255个unicode字符,可以为空字符串。不能包含非打印字符ASCII(0-31), *,<,>,\\\\,=","type":"string"}},"required":["key","value"]},"PublicTag":{"description":"Tag 字段数据结构说明","properties":{"key":{"description":"键。最大长度128个unicode字符。key不能为空。(搜索时不对此参数做校验) ,key不能为空或者空字符串,不能为空格,校验和使用之前先trim 前后空格。","type":"string"},"values":{"description":"- 值列表。每个值最大长度255个unicode字符,不能为空格,校验和使用之前先trim 前后空格。\n- *为系统保留字符,value可为空但不可缺省。\n- 如果里面的value是以\\*开头表示按照\\*后面的值全模糊匹配。\n- 如果values为空列表,则表示any_value(查询任意value)。value之间为或的关系。","items":{"type":"string"},"type":"array"}},"required":["key","values"],"x-huawei-extraAnnotation":""}},"description":null,"group_id":"69ed306c85e24c1eb4496ff482cbca90","host":"nat.cn-north-4.myhuaweicloud.com","id":"11e369618d4b47f4a8e6db296b3fc386","info_version":"v2","method":"post","name":"ListNatGatewayByTag","parameters":{},"paths":{"/v3/{project_id}/nat_gateways/resource_instances/action":{"post":{"deprecated":false,"description":"- 使用标签过滤公网NAT网关资源实例。\n- 标签管理服务需要提供按标签过滤公网NAT网关服务实例并汇总显示在列表中,需要公网NAT网关服务提供查询能力。\n- 资源默认按照创建时间倒序,资源tag也按照创建时间倒序。","operationId":"ListNatGatewayByTag","parameters":[{"description":"项目的ID。","in":"path","name":"project_id","required":true,"type":"string","x-order":1},{"description":"用户Token。\n用户Token也就是调用获取用户Token获取请求认证接口的响应值,该接口是唯一不需要认证的接口。\n请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":2},{"description":"查询资源实例的请求体。","in":"body","name":"ListNatGatewayByTagRequestBody","required":true,"schema":{"$ref":"#/definitions/ListNatsByTagsRequestBody"}}],"produces":["application/json"],"responses":{"200":{"description":"- 查询操作成功。\n- 示例1:action为filter时的响应体\n- 示例2:action为count时的响应体","examples":{"application/json":{"resources":[{"resource_detail":null,"resource_id":"e5ad289f-9c56-4daf-b08b-2e53a983473a","resource_name":"nat_gateways","tags":[{"key":"key2","value":"value4"},{"key":"key2","value":"value3"}]}],"total_count":1000},"application/json-1":{"total_count":1000}},"schema":{"$ref":"#/definitions/ListNatsByTagsResponseBody"}}},"summary":"查询公网NAT网关资源实例","tags":["公网NAT网关标签"],"x-api-type":"open-api","x-apiErrorCodes":[{"errorCode":"400","errorDescription":"Bad Request","errorDescriptionEn":"Bad Request","errorMessage":"","httpStatus":"400","solution":"","solutionEn":""},{"errorCode":"401","errorDescription":"Unauthorized","errorDescriptionEn":"Unauthorized","errorMessage":"","httpStatus":"401","solution":"","solutionEn":""},{"errorCode":"403","errorDescription":"Forbidden","errorDescriptionEn":"Forbidden","errorMessage":"","httpStatus":"403","solution":"","solutionEn":""},{"errorCode":"404","errorDescription":"Not Found","errorDescriptionEn":"Not Found","errorMessage":"","httpStatus":"404","solution":"","solutionEn":""},{"errorCode":"500","errorDescription":"Internal Server Error","errorDescriptionEn":"Internal Server Error","errorMessage":"","httpStatus":"500","solution":"","solutionEn":""}],"x-apiexplorer-hide":"","x-first-open-time":"","x-hybridcloud":"","x-is-registered":"Y","x-name":"查询公网NAT网关资源实例","x-obc":"Y","x-open-region-cloud":"hc,hk","x-order":1,"x-publishpath":"","x-request-examples-1":{"action":"filter","limit":"100","matches":[{"key":"resource_name","value":"nat_gateways"}],"not_tags":[{"key":"key1","values":["*value1","value2"]}],"not_tags_any":[{"key":"key4","values":["*value7","value8"]}],"offset":"100","tags":[{"key":"key2","values":["*value3","value4"]}],"tags_any":[{"key":"key3","values":["*value5","value6"]}]},"x-request-examples-2":{"action":"count","matches":[{"key":"resource_name","value":"nat_gateways"}],"not_tags":[{"key":"key1","values":["*value1","value2"]}],"not_tags_any":[{"key":"key4","values":["*value7","value8"]}],"tags":[{"key":"key2","values":["*value3","value4"]}],"tags_any":[{"key":"key3","values":["*value5","value6"]}]},"x-request-examples-description-1":"查询公网NAT网关资源实例,其中,操作标识为filter,进行分页查询,查询记录数为100条。","x-request-examples-description-2":"查询公网NAT网关资源实例,其中,操作标识为count,按照条件将总条数返回。","x-request-examples-text-1":{"action":"filter","limit":"100","matches":[{"key":"resource_name","value":"nat_gateways"}],"not_tags":[{"key":"key1","values":["*value1","value2"]}],"not_tags_any":[{"key":"key4","values":["*value7","value8"]}],"offset":"100","tags":[{"key":"key2","values":["*value3","value4"]}],"tags_any":[{"key":"key3","values":["*value5","value6"]}]},"x-request-examples-text-2":{"action":"count","matches":[{"key":"resource_name","value":"nat_gateways"}],"not_tags":[{"key":"key1","values":["*value1","value2"]}],"not_tags_any":[{"key":"key4","values":["*value7","value8"]}],"tags":[{"key":"key2","values":["*value3","value4"]}],"tags_any":[{"key":"key3","values":["*value5","value6"]}]},"x-request-examples-url-1":"POST  https://{Endpoint}/v3/9ad601814ac94c80bf7bb9073ded66fc/nat_gateways/resource_instances/action","x-request-examples-url-2":"POST  https://{Endpoint}/v3/9ad601814ac94c80bf7bb9073ded66fc/nat_gateways/resource_instances/action","x-scope":"Commercial","x-source":"","x-support-sdk":"Y","x-version":"v3"}}},"product_short":"NAT","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询公网NAT网关资源实例","tags":"公网NAT网关标签","uri":null,"version":"2.0"}