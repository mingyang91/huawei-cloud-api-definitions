{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"BatchCreateNatGatewayDnatRulesRequestBody":{"description":"This is an auto create Body Object","example":[{"description":"my dnat rule 01","external_service_port":242,"floating_ip_id":"bf99c679-9f41-4dac-8513-9c9228e713e1","internal_service_port":993,"nat_gateway_id":"cda3a125-2406-456c-a11f-598e10578541","port_id":"9a469561-daac-4c94-88f5-39366e5ea193","protocol":"tcp"},{"description":"my dnat rule 01","external_service_port":0,"floating_ip_id":"cf99c679-9f41-4dac-8513-9c9228e713e1","internal_service_port":0,"nat_gateway_id":"dda3a125-2406-456c-a11f-598e10578541","private_ip":"192.168.1.100","protocol":"any"}],"properties":{"dnat_rules":{"description":"DNAT规则批量创建对象的请求体。","items":{"$ref":"#/definitions/CreateNatGatewayDnatOption"},"type":"array","x-ctc":"","x-hc":"","x-hk":"","x-is_admin":"","x-is_inner_param":"","x-obc":"","x-otc":"","x-tlf":""}},"required":["dnat_rules"]},"BatchCreateNatGatewayDnatRulesResponseBody":{"description":"This is an auto create Response Object","properties":{"dnat_rules":{"description":"DNAT规则批量创建对象的响应体。","items":{"$ref":"#/definitions/NatGatewayDnatRuleResponseBody"},"type":"array"}},"required":["dnat_rules"]},"CreateNatGatewayDnatOption":{"description":"创建DNAT规则的请求体。","properties":{"description":{"description":"DNAT规则的描述,长度范围小于等于255个字符,不能包含“<”和“>”。","example":"dnat rule description","maxLength":255,"minLength":0,"type":"string"},"external_service_port":{"description":"Floatingip对外提供服务的端口号。\n取值范围:0~65535。","format":"int32","maximum":65535,"minimum":0,"type":"integer"},"external_service_port_range":{"description":"Floatingip对外提供服务的端口号范围。\n功能说明:该端口范围与internal _service_port_range按顺序实现1:1映射。\n取值范围:1~65535。\n约束:只能以’-’字符连接端口范围。","type":"string"},"floating_ip_id":{"description":"弹性公网IP的id。","maxLength":36,"minLength":36,"type":"string"},"global_eip_id":{"description":"全域弹性公网IP的id。","maxLength":36,"minLength":36,"type":"string"},"internal_service_port":{"description":"虚拟机或者裸机对外提供服务的协议端口号。\n取值范围:0~65535。","format":"int32","maximum":65535,"minimum":0,"type":"integer"},"internal_service_port_range":{"description":"虚拟机或者裸机对外提供服务的协议端口号范围。\n功能说明:该端口范围与external _service_port_range按顺序实现1:1映射。\n取值范围:1~65535。\n约束:只能以’-’字符连接端口范围。","type":"string"},"nat_gateway_id":{"description":"公网NAT网关实例的ID。","example":"0adefb29-a6c2-48a5-8637-2be67fa03fec","maxLength":36,"minLength":36,"type":"string"},"port_id":{"description":"虚拟机或者裸机的Port ID,对应虚拟私有云场景,与private_ip参数二选一。","maxLength":36,"minLength":36,"type":"string"},"private_ip":{"description":"用户私有IP地址,对应专线、云连接场景,与port_id参数二选一。","maxLength":15,"minLength":7,"type":"string"},"protocol":{"description":"协议类型,目前支持TCP/tcp、UDP/udp、ANY/any。\n对应协议号6、17、0。","type":"string"}},"required":["external_service_port","floating_ip_id","internal_service_port","nat_gateway_id","protocol"]},"NatGatewayDnatRuleResponseBody":{"description":"DNAT规则的响应体。","properties":{"admin_state_up":{"description":"解冻/冻结状态。\n取值范围:\n− “true”: 解冻\n− “false”: 冻结","type":"boolean"},"created_at":{"description":"DNAT规则的创建时间,格式是yyyy-mm-dd hh:mm:ss.SSSSSS。","maxLength":36,"minLength":1,"type":"string"},"description":{"description":"DNAT规则的描述。长度范围小于等于255个字符,不能包含“<”和“>”。","maxLength":255,"minLength":0,"type":"string"},"external_service_port":{"description":"Floatingip对外提供服务的端口号。\n取值范围:0~65535。","format":"int32","type":"integer"},"external_service_port_range":{"description":"Floatingip对外提供服务的端口号范围。\n功能说明:该端口范围与internal _service_port_range按顺序实现1:1映射。\n取值范围:1~65535。\n约束:只能以’-’字符连接端口范围","type":"string"},"floating_ip_address":{"description":"弹性公网IP的IP地址。","maxLength":15,"minLength":7,"type":"string"},"floating_ip_id":{"description":"弹性公网IP的id。","maxLength":36,"minLength":1,"type":"string"},"global_eip_address":{"description":"全域弹性公网IP的地址。","maxLength":15,"minLength":7,"type":"string"},"global_eip_id":{"description":"全域弹性公网IP的id。","maxLength":36,"minLength":36,"type":"string"},"id":{"description":"DNAT规则的ID。","maxLength":36,"minLength":36,"type":"string"},"internal_service_port":{"description":"虚拟机或者裸机对外提供服务的协议端口号。\n取值范围:0~65535。","format":"int32","maxLength":5,"maximum":65535,"minLength":1,"minimum":0,"type":"integer"},"internal_service_port_range":{"description":"虚拟机或者裸机对外提供服务的协议端口号范围。\n功能说明:该端口范围与external _service_port_range按顺序实现1:1映射。\n取值范围:1~65535。\n约束:只能以’-’字符连接端口范围。","type":"string"},"nat_gateway_id":{"description":"公网NAT网关实例的ID。","maxLength":36,"minLength":1,"type":"string"},"port_id":{"description":"虚拟机或者裸机的Port ID,对应虚拟私有云场景,与private_ip参数二选一。","maxLength":36,"minLength":36,"type":"string"},"private_ip":{"description":"用户私有IP地址,对应专线、云连接场景,与port_id参数二选一。","maxLength":15,"minLength":7,"type":"string"},"protocol":{"description":"协议类型,目前支持TCP/tcp、UDP/udp、ANY/any。\n对应协议号6、17、0。","enum":["tcp","udp","any"],"maxLength":3,"minLength":1,"type":"string"},"status":{"description":"DNAT规则的状态。\n取值为:\n\"ACTIVE\": 可用\n\"PENDING_CREATE\":创建中\n\"PENDING_UPDATE\":更新中\n\"PENDING_DELETE\":删除中\n\"EIP_FREEZED\":EIP冻结\n\"INACTIVE\":不可用","enum":["ACTIVE","PENDING_CREATE","PENDING_UPDATE","PENDING_DELETE","EIP_FREEZED","INACTIVE"],"type":"string"},"tenant_id":{"description":"项目的ID。","maxLength":36,"minLength":1,"type":"string"}},"required":["admin_state_up","created_at","description","external_service_port","floating_ip_address","floating_ip_id","id","internal_service_port","nat_gateway_id","protocol","status","tenant_id","global_eip_id","global_eip_address"]}},"description":null,"group_id":"69ed306c85e24c1eb4496ff482cbca90","host":"nat.cn-north-4.myhuaweicloud.com","id":"239b0a0ec25d46d4a7e6abdc739ff97c","info_version":"v2","method":"post","name":"BatchCreateNatGatewayDnatRules","parameters":{},"paths":{"/v2/{project_id}/dnat_rules/batch":{"post":{"consumes":[],"deprecated":false,"description":"批量创建DNAT规则。","operationId":"BatchCreateNatGatewayDnatRules","parameters":[{"description":"项目的ID。","in":"path","maxLength":36,"minLength":1,"name":"project_id","required":true,"type":"string","x-order":1},{"description":"用户Token。\n用户Token也就是调用获取用户Token获取请求认证接口的响应值,该接口是唯一不需要认证的接口。\n请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。","in":"header","maxLength":10240,"minLength":1,"name":"X-Auth-Token","required":false,"type":"string","x-order":2},{"description":"This is an auto create Body Object","in":"body","name":"BatchCreateNatGatewayDnatRulesRequestBody","required":true,"schema":{"$ref":"#/definitions/BatchCreateNatGatewayDnatRulesRequestBody"}}],"produces":[],"responses":{"201":{"description":"POST操作正常返回。","examples":{"application/json":{"dnat_rules":[{"admin_state_up":true,"created_at":"2019-11-15 15:44:42.595173","description":"my dnat rule 01","external_service_port":242,"floating_ip_address":"5.21.11.226","floating_ip_id":"bf99c679-9f41-4dac-8513-9c9228e713e1","id":"79195d50-0271-41f1-bded-4c089b2502ff","internal_service_port":993,"nat_gateway_id":"cda3a125-2406-456c-a11f-598e10578541","port_id":"9a469561-daac-4c94-88f5-39366e5ea193","private_ip":"","protocol":"tcp","status":"ACTIVE","tenant_id":"d199ba7e0ba64899b2e81518104b1526"},{"admin_state_up":true,"created_at":"2019-11-15 15:44:42.595173","description":"my dnat rule 01","external_service_port":0,"floating_ip_address":"5.21.11.227","floating_ip_id":"cf99c679-9f41-4dac-8513-9c9228e713e1","id":"79195d50-0271-41f1-bded-4c089c2502ff","internal_service_port":0,"nat_gateway_id":"dda3a125-2406-456c-a11f-598e10578541","port_id":"","private_ip":"192.168.1.100","protocol":"any","status":"ACTIVE","tenant_id":"d199ba7e0ba64899b2e81518104b1526"}]}},"schema":{"$ref":"#/definitions/BatchCreateNatGatewayDnatRulesResponseBody"}}},"summary":"批量创建DNAT规则","tags":["公网DNAT规则"],"x-constraint":"批量创建规则时,要求网关状态status = ACTIVE,要求网关管理员状态admin_state_up = True。\nport_id和private_ip不能同时生效。\n对于all port类型的规则,要求internal_service_port = 0,external_service_port = 0,protocol = ANY。","x-first-open-time":"2019/08/30","x-hybridcloud":"false","x-is-registered":"Y","x-name":"批量创建DNAT规则","x-obc":"N","x-open-region-cloud":"hc,hk","x-order":29,"x-publishpath":"","x-request-examples-1":{"dnat_rules":[{"description":"my dnat rule 01","external_service_port":242,"floating_ip_id":"bf99c679-9f41-4dac-8513-9c9228e713e1","internal_service_port":993,"nat_gateway_id":"cda3a125-2406-456c-a11f-598e10578541","port_id":"9a469561-daac-4c94-88f5-39366e5ea193","protocol":"tcp"},{"description":"my dnat rule 01","external_service_port":0,"floating_ip_id":"cf99c679-9f41-4dac-8513-9c9228e713e1","internal_service_port":0,"nat_gateway_id":"dda3a125-2406-456c-a11f-598e10578541","private_ip":"192.168.1.100","protocol":"any"}]},"x-request-examples-description-1":"批量创建规则(第一条为指定端口的规则,第二条为all port类型的规则)。","x-request-examples-text-1":"{ \n    \"dnat_rules\": [{ \n        \"floating_ip_id\": \"bf99c679-9f41-4dac-8513-9c9228e713e1\", \n        \"nat_gateway_id\": \"cda3a125-2406-456c-a11f-598e10578541\", \n        \"port_id\": \"9a469561-daac-4c94-88f5-39366e5ea193\", \n        \"internal_service_port\": 993, \n        \"protocol\": \"tcp\", \n        \"external_service_port\": 242,\n        \"description\": \"my dnat rule 01\"\n    },\n    { \n        \"floating_ip_id\": \"cf99c679-9f41-4dac-8513-9c9228e713e1\", \n        \"nat_gateway_id\": \"dda3a125-2406-456c-a11f-598e10578541\", \n        \"private_ip\": \"192.168.1.100\", \n        \"internal_service_port\": 0, \n        \"protocol\": \"any\", \n        \"external_service_port\": 0,\n        \"description\": \"my dnat rule 01\"\n    }]\n}\n","x-request-examples-url-1":"POST https://{Endpoint}/v2/d199ba7e0ba64899b2e81518104b1526/dnat_rules/batch","x-scope":"Commercial","x-source":"SelfDeveloped","x-support-sdk":"Y","x-version":"v2"}}},"product_short":"NAT","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"批量创建DNAT规则","tags":"公网DNAT规则","uri":null,"version":"2.0"}