{"base_path":null,"components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"BasicConfig":{"properties":{"customFields":{"description":"用户自定义属性字段","type":"object"},"executeUser":{"description":"作业执行用户","type":"string"},"instanceTimeout":{"description":"实例超时时间","type":"integer"},"owner":{"description":"作业责任人","type":"string"},"priority":{"default":0,"description":"作业优先级","type":"integer"}}},"Condition":{"properties":{"expression":{"description":"EL表达式,如果EL表达式的计算结果为true,则触发执行本节点","type":"string"},"preNodeName":{"description":"本节点依赖的前一个节点名称","type":"string"}},"required":["preNodeName","expression"]},"Cron":{"properties":{"dependJobs":{"$ref":"#/definitions/DependJob"},"dependPrePeriod":{"default":false,"description":"是否依赖本作业上一个运行周期任务的执行结果","type":"boolean"},"endTime":{"description":"调度结束时间,采用ISO 8601时间表示方法,格式为yyyy-MM-dd'T'HH:mm:ssZ,例如2018-10-22T23:59:59+08表示的时间为2018年10月22日23时59分59秒,在正8区,即北京时区。如果结束时间不配置,作业会按照调度周期一直执行下去","type":"string"},"expression":{"description":"Cron表达式,格式为\"<秒> <分> <时> <天> <月> <星期>\"","type":"string"},"expressionTimeZone":{"description":"Cron表达式对应的时区信息,例如GMT+8","type":"string"},"startTime":{"description":"调度开始时间,采用ISO 8601时间表示方法,格式为yyyy-MM-dd'T'HH:mm:ssZ,例如2018-10-22T23:59:59+08表示的时间为2018年10月22日23时59分59秒,在正8区,即北京时区","type":"string"}},"required":["startTime","expression"]},"CronTrigger":{"properties":{"concurrent":{"default":10,"description":"并发调用数","type":"integer"},"dependJobs":{"$ref":"#/definitions/DependJob","description":"依赖其它作业列表"},"dependPrePeriod":{"description":"是否依赖本作业上一个运行周期任务的执行结果","type":"boolean"},"endTime":{"type":"string"},"expression":{"description":"Cron表达式","type":"string"},"expressionTimeZone":{"description":"时区","type":"string"},"period":{"type":"string"},"startTime":{"type":"string"}},"required":["startTime","expression","period"]},"DependJob":{"properties":{"dependFailPolicy":{"description":"依赖作业任务执行失败处理策略","enum":["FAIL","IGNORE","SUSPEND"],"type":"string"},"dependPeriod":{"description":"依赖周期","type":"string"},"jobs":{"description":"依赖的作业名称列表,必须依赖已存在的作业.","items":{"type":"string"},"type":"array"},"otherWorkSpaceJobs":{"description":"依赖其他工作空间的作业名称列表","items":{"$ref":"#/definitions/DependWorkSpaceJob"},"type":"array"},"sameWorkSpaceJobs":{"description":"依赖本工作空间的作业名称列表","items":{"$ref":"#/definitions/DependWorkSpaceJob"},"type":"array"}},"required":["jobs"]},"DependWorkSpaceJob":{"properties":{"dependOnLastPeriod":{"default":false,"description":"是否依赖最近一个周期","type":"boolean"},"jobName":{"description":"作业名","type":"string"},"workSpace":{"description":"工作空间名","type":"string"}}},"Event":{"properties":{"channel":{"description":"DIS通道名称","type":"string"},"concurrent":{"default":1,"description":"调度并发数","type":"integer"},"eventType":{"description":"事件类型","type":"string"},"failPolicy":{"description":"执行失败处理策略","type":"string"},"readPolicy":{"default":"LAST","description":"读取策略,LAST :从上次位置读取,NEW- 从最新位置读取,默认为LAST","type":"string"}},"required":["eventType","channel"]},"JobApprover":{"properties":{"approverName":{"description":"审批人名称","type":"string"}},"required":["approverName"]},"JobInfo":{"properties":{"approvers":{"description":"在开启审批开关后,需要填写该字段,表示作业审批人。","items":{"$ref":"#/definitions/JobApprover"},"type":"array"},"basicConfig":{"$ref":"#/definitions/BasicConfig","description":"作业的基本信息"},"directory":{"description":"作业在目录树上的路径。创建作业时如果路径目录不存在,会自动创建目录,如/dir/a/,默认在根目录/。","type":"string"},"lastUpdateUser":{"description":"作业最后修改人","type":"string"},"logPath":{"description":"作业运行日志存放的OBS路径。","type":"string"},"name":{"description":"作业名称","type":"string"},"nodes":{"description":"节点定义","items":{"$ref":"#/definitions/Node"},"type":"array"},"params":{"description":"作业参数定义","items":{"$ref":"#/definitions/JobParam"},"type":"array"},"processType":{"description":"作业类型,REAL_TIME: 实时处理,BATCH:批处理","enum":["BATCH","REAL_TIME"],"type":"string"},"schedule":{"$ref":"#/definitions/Schedule","description":"调度配置"},"singleNodeJobFlag":{"description":"是否选择单任务,默认为false","type":"boolean"},"singleNodeJobType":{"description":"单任务类型","enum":["DliSQL","DwsSQL","HiveSQL","SparkSQL","RdsSQL","DorisSQL","ASSIGNMENT","BRANCH","MERGE","DataMigration","MrsFlink","FlinkSQL","FlinkJar","DLISpark"],"type":"string"},"targetStatus":{"description":"在开启审批开关后,需要填写该字段。表示创建作业的目标状态,有三种状态:SAVED、SUBMITTED和PRODUCTION,分别表示作业创建后是保存态,提交态,生产态。","enum":["SAVED","SUBMITTED","PRODUCTION"],"type":"string"}},"required":["name","nodes","schedule","processType"]},"JobParam":{"properties":{"name":{"type":"string"},"type":{"default":"variable","description":"参数类型","enum":["procedure","variable"],"type":"string"},"value":{"type":"string"}},"required":["name","value"]},"Location":{"properties":{"x":{"type":"string"},"y":{"type":"string"}},"required":["x","y"]},"Node":{"properties":{"conditions":{"description":"节点执行条件,如果配置此参数,本节点是否执行由condition的字段expression所保存的EL表达式计算结果决定","items":{"$ref":"#/definitions/Condition"},"type":"array"},"cronTrigger":{"$ref":"#/definitions/CronTrigger","description":"实时作业节点Cron触发配置"},"eventTrigger":{"$ref":"#/definitions/Event","description":"实时作业节点事件触发配置"},"execTimeOutRetry":{"default":"false","description":"节点是否超时重试","type":"string"},"failPolicy":{"description":"作业失败策略","enum":["FAIL","IGNORE","SUSPEND","FAIL_CHILD"],"type":"string"},"location":{"$ref":"#/definitions/Location","description":"节点在作业画布上的位置"},"maxExecutionTime":{"default":60,"description":"节点最大执行时间","type":"integer"},"name":{"description":"节点名称,只能包含六种字符:英文字母、数字、中文、中划线、下划线和点号,且长度小于等于128个字符。同一个作业中节点名称不能重复。","type":"string"},"pollingInterval":{"default":10,"description":"轮询节点执行结果时间间隔","type":"integer"},"preNodeName":{"description":"本本节点依赖的前面的节点名称列表","items":{"type":"string"},"type":"array"},"properties":{"description":"节点属性","items":{"$ref":"#/definitions/Property"},"type":"array"},"retryInterval":{"default":120,"description":"失败重试时间间隔","type":"integer"},"retryTimes":{"default":0,"description":"节点失败重试次数","type":"integer"},"type":{"description":"节点的类型","enum":["HiveSQL","SparkSQL","DWSSQL","DLISQL","Shell","CDMJob","DISTransferTask","CSJob","CloudTableManage","OBSManager","RESTAPI","MachineLearning","SMN","MRSSpark","MapReduce","DLISpark","MRSFlink","MRSHetuEngine","RDS SQL"],"type":"string"}},"required":["name","type","location","properties"]},"Property":{"properties":{"name":{"description":"属性名称","type":"string"},"value":{"description":"属性值","type":"string"}},"required":["name","value"]},"Schedule":{"properties":{"cron":{"$ref":"#/definitions/Cron"},"event":{"$ref":"#/definitions/Event"},"type":{"enum":["EXECUTE_ONCE","EVENT_TRIGGER","RUN_ONCE","CRON","EVENT","SCHEDULE"],"type":"string"}}}},"description":null,"group_id":"9153904f85284cfaa02a8530ea128a58","host":"dayu-dlf.cn-north-4.myhuaweicloud.com","id":"2088dac20e914e459e4be91c62f0aa71","info_version":"v1","method":"put","name":"UpdateJob","parameters":{},"paths":{"/v1/{project_id}/jobs/{job_name}":{"put":{"operationId":"UpdateJob","parameters":[{"description":"工作空间id","in":"header","name":"workspace","required":false,"type":"string","x-notgenerate":true},{"description":"项目编号.","in":"path","name":"project_id","required":true,"type":"string"},{"description":"作业名称.","in":"path","name":"job_name","required":true,"type":"string"},{"description":"请求body体","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/JobInfo"}}],"produces":["application/json"],"responses":{"204":{"description":"success"}},"summary":"修改作业","tags":["作业相关的API"],"x-support-sdk":"Y"}}},"product_short":"DGC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"修改作业","tags":"作业相关的API","uri":null,"version":"2.0"}