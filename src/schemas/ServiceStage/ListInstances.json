{"base_path":null,"components":{"parameters":{"application_id":{"description":"应用ID。","in":"path","name":"application_id","required":true,"schema":{"type":"string"}},"auth-token":{"description":"租户身份验证令牌。","in":"header","name":"X-Auth-Token","required":true,"schema":{"type":"string"}},"component_id":{"description":"组件ID。","in":"path","name":"component_id","required":true,"schema":{"type":"string"}},"limit":{"description":"指定个数,明确指定的时候用于分页,取值[0, 100]。不指定的时候表示不分页,最多查询1000条记录。","in":"query","name":"limit","required":false,"schema":{"maximum":100,"minimum":0,"type":"integer"}},"offset":{"description":"指定查询偏移量,默认偏移量为0.","in":"query","name":"offset","required":false,"schema":{"type":"integer"}},"order":{"description":"desc/asc,默认desc。","in":"query","name":"order","required":false,"schema":{"enum":["desc","asc"],"type":"string"}},"order_by":{"description":"排序字段,默认按创建时间排序。\n\n排序字段支持枚举值:create_time、name、update_time。","in":"query","name":"order_by","required":false,"schema":{"type":"string"}},"project_id":{"description":"租户项目ID。","in":"path","name":"project_id","required":true,"schema":{"type":"string"}}},"responses":{"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"请求对象不存在。"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"内部错误。"}},"schemas":{"ErrorResponse":{"properties":{"error_code":{"description":"错误码。","type":"string"},"error_detail":{"description":"详细定位信息。","type":"string"},"error_message":{"description":"错误详细信息。","example":"error message","type":"string"},"error_msg":{"description":"错误信息。","type":"string"}},"type":"object"},"ExternalAccessProtocol":{"default":"HTTP","description":"协议。","enum":["HTTP","HTTPS"],"type":"string"},"ExternalAccessStatus":{"default":"NORMAL","description":"状态。","enum":["NORMAL","EXPIRED"],"type":"string"},"ExternalAccessType":{"default":"AUTO_GENERATED","description":"类型。","enum":["AUTO_GENERATED","SPECIFIED","IP_ADDR"],"type":"string"},"ExternalAccesses":{"description":"访问方式。","example":{"address":"string","create_time":1571626146765,"forward_port":80,"id":"xxx","protocol":"HTTP","status":"NORMAL","type":"AUTO_GENERATED","update_time":1571626146765},"properties":{"address":{"description":"访问地址。","type":"string"},"create_time":{"description":"创建时间。","format":"int64","type":"integer"},"forward_port":{"description":"应用组件进程监听端口","type":"integer"},"id":{"description":"ID。","type":"string"},"protocol":{"$ref":"#/components/schemas/ExternalAccessProtocol"},"status":{"$ref":"#/components/schemas/ExternalAccessStatus"},"type":{"$ref":"#/components/schemas/ExternalAccessType"},"update_time":{"description":"修改时间。","format":"int64","type":"integer"}},"required":["protocol","address","forward_port"],"type":"object"},"InstanceArtifact":{"additionalProperties":{"properties":{"auth":{"default":"iam","description":"认证方式,支持iam和none,默认为iam。","type":"string"},"properties":{"additionalProperties":{"type":"string"},"description":"属性。","type":"object"},"storage":{"description":"存储方式,支持swr、obs。","enum":["swr","obs"],"type":"string"},"type":{"description":"类别,虚机部署为package,容器部署为image。","enum":["image","package"],"type":"string"},"url":{"description":"软件包/镜像地址。对于需要使用组件的源码或者软件包自动生成的镜像,格式为“组件名:v${index}”","type":"string"},"version":{"description":"版本号。","maxLength":64,"type":"string"}},"required":["storage","type","url","auth"],"type":"object"},"description":"组件部署件。key为组件component_name,对于Docker多容器场景,key为容器名称。","example":{"container-name":{"auth":"iam","storage":"swr","type":"image","url":"100.125.0.198:20202/adminuser/junit-platformstest:1.0"}},"type":"object"},"InstanceFailDetail":{"description":"失败描述。\n\ncluster_deleted,        // 集群被删除\n\ncluster_unavailable,    // 集群不可用\n\ncluster_inaccessible,   // 集群无法访问\n\nnamespace_deleted,      // 命名空间被删除\n\nnamespace_unavailable,  // 命名空间不可用\n\nnamespace_inaccessible, // 命名空间无法访问\n\nresource_deleted,       // 资源已删除","enum":["cluster_deleted","cluster_unavailable","cluster_inaccessible","namespace_deleted","namespace_unavailable","namespace_inaccessible","resource_deleted"],"type":"string"},"InstanceListView":{"description":"实例参数。","properties":{"application_id":{"description":"应用ID。","type":"string"},"application_name":{"description":"应用名称。","type":"string"},"artifacts":{"$ref":"#/components/schemas/InstanceArtifact"},"component_id":{"description":"组件ID。","type":"string"},"component_name":{"description":"组件名称。","type":"string"},"create_time":{"description":"创建时间。","format":"int64","type":"integer"},"creator":{"description":"创建人。","type":"string"},"environment_id":{"description":"应用组件环境ID。","type":"string"},"environment_name":{"description":"环境名称。","type":"string"},"external_accesses":{"description":"访问方式。","items":{"$ref":"#/components/schemas/ExternalAccesses"},"type":"array"},"id":{"description":"应用组件实例ID。","type":"string"},"name":{"description":"应用组件实例名称。","type":"string"},"platform_type":{"description":"运行平台类型。\n应用可以在不同的平台上运行,可选用的平台的类型有以下几种:cce、vmapp。","type":"string"},"status_detail":{"$ref":"#/components/schemas/InstanceStatusView"},"update_time":{"description":"修改时间。","format":"int64","type":"integer"},"version":{"description":"应用组件版本号。","type":"string"}},"type":"object"},"InstanceStatusType":{"description":"实例状态。","enum":["INITIALIZING","UPGRADING","FAILED","RUNNING","DOWN","DELETING","DELETED","RESERVED","STARTING","STOPPING","STOPPED","RESTARTING","PENDING","UNKNOWN","PARTIALLY_FAILED"],"type":"string"},"InstanceStatusView":{"description":"状态详情。","example":{"available_replica":1,"enterprise_project_id":"0","fail_detail":"cluster_deleted","last_job_id":"xxx","last_job_status":"SUCCEEDED","replica":1,"status":"RUNNING"},"properties":{"available_replica":{"description":"正常实例副本数。","type":"integer"},"enterprise_project_id":{"description":"企业项目ID。","type":"string"},"fail_detail":{"$ref":"#/components/schemas/InstanceFailDetail"},"last_job_id":{"description":"最近Job ID。","type":"string"},"last_job_status":{"description":"最近Job的状态","type":"string"},"replica":{"description":"实例副本数。","type":"integer"},"status":{"$ref":"#/components/schemas/InstanceStatusType"}},"type":"object"},"Instances":{"properties":{"count":{"description":"实例总数。","example":10,"type":"integer"},"instances":{"description":"实例列表。","items":{"$ref":"#/components/schemas/InstanceListView"},"type":"array"}},"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"66601b9b4dd246ddab6e76d90a0b0ecd","host":"servicestage.cn-north-4.myhuaweicloud.com","id":"2ce206e18aae415a8ce622fc5947d2b6","info_version":"v2","method":"get","name":"ListInstances","parameters":null,"paths":{"/v2/{project_id}/cas/applications/{application_id}/components/{component_id}/instances":{"get":{"description":"通过此API获取组件下的所有组件实例。","operationId":"ListInstances","parameters":[{"$ref":"#/components/parameters/auth-token"},{"$ref":"#/components/parameters/project_id"},{"$ref":"#/components/parameters/application_id"},{"$ref":"#/components/parameters/component_id"},{"$ref":"#/components/parameters/limit"},{"$ref":"#/components/parameters/offset"},{"$ref":"#/components/parameters/order_by"},{"$ref":"#/components/parameters/order"}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Instances"}}},"description":"操作成功。"},"404":{"$ref":"#/components/responses/404"},"500":{"$ref":"#/components/responses/500"}},"summary":"获取应用组件实例","tags":["实例"],"x-is-registered":"Y","x-support-sdk":"Y"}}},"product_short":"ServiceStage","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"获取应用组件实例","tags":"实例","uri":null,"version":"3.0.1"}