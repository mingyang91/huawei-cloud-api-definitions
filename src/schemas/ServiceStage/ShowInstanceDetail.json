{"base_path":null,"components":{"parameters":{"application_id":{"description":"应用ID。","in":"path","name":"application_id","required":true,"schema":{"type":"string"}},"auth-token":{"description":"租户身份验证令牌。","in":"header","name":"X-Auth-Token","required":true,"schema":{"type":"string"}},"component_id":{"description":"组件ID。","in":"path","name":"component_id","required":true,"schema":{"type":"string"}},"instance_id":{"description":"组件实例ID。","in":"path","name":"instance_id","required":true,"schema":{"type":"string"}},"project_id":{"description":"租户项目ID。","in":"path","name":"project_id","required":true,"schema":{"type":"string"}}},"responses":{"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"请求对象不存在。"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"内部错误。"}},"schemas":{"ErrorResponse":{"properties":{"error_code":{"description":"错误码。","type":"string"},"error_detail":{"description":"详细定位信息。","type":"string"},"error_message":{"description":"错误详细信息。","example":"error message","type":"string"},"error_msg":{"description":"错误信息。","type":"string"}},"type":"object"},"ExternalAccessProtocol":{"default":"HTTP","description":"协议。","enum":["HTTP","HTTPS"],"type":"string"},"ExternalAccessStatus":{"default":"NORMAL","description":"状态。","enum":["NORMAL","EXPIRED"],"type":"string"},"ExternalAccessType":{"default":"AUTO_GENERATED","description":"类型。","enum":["AUTO_GENERATED","SPECIFIED","IP_ADDR"],"type":"string"},"ExternalAccesses":{"description":"访问方式。","example":{"address":"string","create_time":1571626146765,"forward_port":80,"id":"xxx","protocol":"HTTP","status":"NORMAL","type":"AUTO_GENERATED","update_time":1571626146765},"properties":{"address":{"description":"访问地址。","type":"string"},"create_time":{"description":"创建时间。","format":"int64","type":"integer"},"forward_port":{"description":"应用组件进程监听端口","type":"integer"},"id":{"description":"ID。","type":"string"},"protocol":{"$ref":"#/components/schemas/ExternalAccessProtocol"},"status":{"$ref":"#/components/schemas/ExternalAccessStatus"},"type":{"$ref":"#/components/schemas/ExternalAccessType"},"update_time":{"description":"修改时间。","format":"int64","type":"integer"}},"required":["protocol","address","forward_port"],"type":"object"},"FlavorId":{"description":"资源规格。","enum":["MICRO-5G:0.5C:1G","SMALL-10G:1.0C:2G","STANDARD-30G:2.0C:4G","LARGE-50G:4.0C:8G","XLARGE-100G:4.0C:16G","CUSTOM-XG:X-X:X-X"],"type":"string"},"InstanceArtifact":{"additionalProperties":{"properties":{"auth":{"default":"iam","description":"认证方式,支持iam和none,默认为iam。","type":"string"},"properties":{"additionalProperties":{"type":"string"},"description":"属性。","type":"object"},"storage":{"description":"存储方式,支持swr、obs。","enum":["swr","obs"],"type":"string"},"type":{"description":"类别,虚机部署为package,容器部署为image。","enum":["image","package"],"type":"string"},"url":{"description":"软件包/镜像地址。对于需要使用组件的源码或者软件包自动生成的镜像,格式为“组件名:v${index}”","type":"string"},"version":{"description":"版本号。","maxLength":64,"type":"string"}},"required":["storage","type","url","auth"],"type":"object"},"description":"组件部署件。key为组件component_name,对于Docker多容器场景,key为容器名称。","example":{"container-name":{"auth":"iam","storage":"swr","type":"image","url":"100.125.0.198:20202/adminuser/junit-platformstest:1.0"}},"type":"object"},"InstanceFailDetail":{"description":"失败描述。\n\ncluster_deleted,        // 集群被删除\n\ncluster_unavailable,    // 集群不可用\n\ncluster_inaccessible,   // 集群无法访问\n\nnamespace_deleted,      // 命名空间被删除\n\nnamespace_unavailable,  // 命名空间不可用\n\nnamespace_inaccessible, // 命名空间无法访问\n\nresource_deleted,       // 资源已删除","enum":["cluster_deleted","cluster_unavailable","cluster_inaccessible","namespace_deleted","namespace_unavailable","namespace_inaccessible","resource_deleted"],"type":"string"},"InstancePlatformType":{"description":"运行平台类型。\n\n应用可以在不同的平台上运行,可选用的平台的类型有以下几种:cce、vmapp。","enum":["cce","vmapp"],"type":"string"},"InstanceStatusType":{"description":"实例状态。","enum":["INITIALIZING","UPGRADING","FAILED","RUNNING","DOWN","DELETING","DELETED","RESERVED","STARTING","STOPPING","STOPPED","RESTARTING","PENDING","UNKNOWN","PARTIALLY_FAILED"],"type":"string"},"InstanceStatusView":{"description":"状态详情。","example":{"available_replica":1,"enterprise_project_id":"0","fail_detail":"cluster_deleted","last_job_id":"xxx","last_job_status":"SUCCEEDED","replica":1,"status":"RUNNING"},"properties":{"available_replica":{"description":"正常实例副本数。","type":"integer"},"enterprise_project_id":{"description":"企业项目ID。","type":"string"},"fail_detail":{"$ref":"#/components/schemas/InstanceFailDetail"},"last_job_id":{"description":"最近Job ID。","type":"string"},"last_job_status":{"description":"最近Job的状态","type":"string"},"replica":{"description":"实例副本数。","type":"integer"},"status":{"$ref":"#/components/schemas/InstanceStatusType"}},"type":"object"},"InstanceView":{"properties":{"artifacts":{"$ref":"#/components/schemas/InstanceArtifact"},"configuration":{"description":"应用组件配置,如环境变量。","type":"object"},"create_time":{"description":"创建时间。","format":"int64","type":"integer"},"creator":{"description":"创建人。","type":"string"},"description":{"description":"实例描述。","type":"string"},"environment_id":{"description":"应用组件环境ID。","type":"string"},"external_accesses":{"description":"访问方式列表。","items":{"$ref":"#/components/schemas/ExternalAccesses"},"type":"array"},"flavor_id":{"$ref":"#/components/schemas/FlavorId"},"id":{"description":"应用组件实例ID。","type":"string"},"name":{"description":"应用组件实例名称。","type":"string"},"platform_type":{"$ref":"#/components/schemas/InstancePlatformType"},"refer_resources":{"description":"部署资源列表。","example":[{"id":"b6862a62-d916-11e9-bdf1-0255ac101fd9","parameters":{"namespace":"default"},"refer_alias":null,"type":"cce"},{"id":"ecbde1d8-dd03-11e9-8073-fa163e511d78","parameters":{"capacity":10,"class":"nfs-rw","name":"cas-e063c731-f304-4c69-908c-a9c656c5d0dc-mbaas-sfs","type":"sfs"},"refer_alias":null,"type":"pvc"},{"id":"b9b8f9ad-1a2e-403d-83f1-cb71a3c06df8","parameters":{"subnet":{"id":"daac28df-4bb2-435d-af7c-81f0eddc3ab7","name":"subnet-9002"}},"refer_alias":null,"type":"vpc"}],"items":{"$ref":"#/components/schemas/ReferResources"},"type":"array"},"status_detail":{"$ref":"#/components/schemas/InstanceStatusView"},"update_time":{"description":"修改时间。","format":"int64","type":"integer"},"version":{"description":"应用组件版本号。","type":"string"}},"type":"object"},"ReferResources":{"description":"部署资源。","properties":{"id":{"description":"资源ID。","type":"string"},"parameters":{"description":"引用资源参数。","type":"object"},"refer_alias":{"$ref":"#/components/schemas/ResourceReferAlias"},"type":{"$ref":"#/components/schemas/ResourceType"}},"type":"object"},"ResourceReferAlias":{"description":"应用别名,dcs时才提供,支持“distributed_session”、“distributed_cache”、“distributed_session, distributed_cache”,\n\n默认值是“distributed_session, distributed_cache”。","type":"string"},"ResourceType":{"description":"资源类型。\n\n基础资源:cce、cci、ecs、as。\n\n可选资源:rds、dcs、elb等其他类型。","enum":["security_group","eip","elb","cce","cci","ecs","as","cse","dcs","rds","pvc","apm"],"type":"string"}}},"consumes":"","definitions":null,"description":null,"group_id":"66601b9b4dd246ddab6e76d90a0b0ecd","host":"servicestage.cn-north-4.myhuaweicloud.com","id":"869bc7a053c84f2db5435f60138c88eb","info_version":"v2","method":"get","name":"ShowInstanceDetail","parameters":null,"paths":{"/v2/{project_id}/cas/applications/{application_id}/components/{component_id}/instances/{instance_id}":{"get":{"description":"此API通过实例ID获取实例详细信息。","operationId":"ShowInstanceDetail","parameters":[{"$ref":"#/components/parameters/auth-token"},{"$ref":"#/components/parameters/project_id"},{"$ref":"#/components/parameters/application_id"},{"$ref":"#/components/parameters/component_id"},{"$ref":"#/components/parameters/instance_id"}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InstanceView"}}},"description":"操作成功。"},"404":{"$ref":"#/components/responses/404"},"500":{"$ref":"#/components/responses/500"}},"summary":"根据实例ID获取实例详细信息","tags":["实例"],"x-is-registered":"Y","x-support-sdk":"Y"}}},"product_short":"ServiceStage","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"根据实例ID获取实例详细信息","tags":"实例","uri":null,"version":"3.0.1"}