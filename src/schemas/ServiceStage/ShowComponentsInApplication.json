{"base_path":null,"components":{"parameters":{"application_id":{"description":"应用id","in":"path","name":"application_id","required":true,"schema":{"type":"string"}},"auth-token":{"description":"租户身份验证令牌。","in":"header","name":"X-Auth-Token","required":true,"schema":{"type":"string"}},"limit":{"description":"指定个数,明确指定的时候用于分页,取值[0, 100]。不指定的时候表示不分页,最多查询1000条记录。","in":"query","name":"limit","required":false,"schema":{"maximum":100,"minimum":0,"type":"integer"}},"offset":{"description":"指定查询偏移量,默认偏移量为0.","in":"query","name":"offset","required":false,"schema":{"type":"integer"}},"order":{"description":"desc/asc,默认desc。","in":"query","name":"order","required":false,"schema":{"enum":["desc","asc"],"type":"string"}},"order_by":{"description":"排序字段,默认按创建时间排序。\n\n排序字段支持枚举值:create_time、name、update_time。\n","in":"query","name":"order_by","required":false,"schema":{"type":"string"}},"project_id":{"description":"租户项目ID。","in":"path","name":"project_id","required":true,"schema":{"type":"string"}}},"responses":{"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"内部错误。"}},"schemas":{"ComponentArtifact":{"properties":{"type":{"description":"虚机类型的均为package,其他一律为iamge","enum":["image","package"],"type":"string"},"url":{"description":"软件包/镜像地址。","type":"string"}},"type":"object"},"ComponentFailDetail":{"description":"cluster_deleted,        // 集群被删除\ncluster_unavailable,    // 集群不可用\ncluster_inaccessible,   // 集群无法访问\nnamespace_deleted,      // 命名空间被删除\nnamespace_unavailable,  // 命名空间不可用\nnamespace_inaccessible, // 命名空间无法访问\nresource_deleted,       // 资源已删除\ncreate_failed,          // 创建组件失败\ndelete_failed           // 删除组件失败\n","enum":["cluster_deleted","cluster_unavailable","cluster_inaccessible","namespace_deleted","namespace_unavailable","namespace_inaccessible","resource_deleted","create_failed","delete_failed"],"type":"string"},"ComponentList":{"example":{"application_id":"string","application_name":"string","creator":"string","environment_id":"string","environment_name":"string","id":"string","labels":[{"key":"string","value":"string"}],"name":"string","runtime_stack":{"deploy_mode":"container","name":"string","type":"string","version":"string"},"source":{"auth":"string","kind":"code","repo_auth":"string","repo_namespace":"string","repo_ref":"string","repo_type":"string","repo_url":"string","storage":"obs","url":"string","version":"string","web_url":"string"},"status":{"available_replica":1,"component_status":"RUNNING","create_time":12334324534,"creator":"user","fail_detail":"cluster_deleted","last_job_id":"xxx","replica":1,"update_time":22335345345},"version":"string"},"properties":{"application_id":{"type":"string"},"application_name":{"type":"string"},"creator":{"type":"string"},"environment_id":{"type":"string"},"environment_name":{"type":"string"},"external_accesses":{"items":{"$ref":"#/components/schemas/ExternalAccesses"},"type":"array"},"id":{"type":"string"},"labels":{"items":{"$ref":"#/components/schemas/Label"},"type":"array"},"name":{"maxLength":64,"pattern":"^[a-z0-9_-]+$","type":"string"},"platform_type":{"type":"string"},"runtime_stack":{"$ref":"#/components/schemas/RuntimeStack"},"source":{"$ref":"#/components/schemas/SourceObject"},"status":{"$ref":"#/components/schemas/ComponentStatusView"},"version":{"type":"string"}},"required":["name","source"],"type":"object"},"ComponentListResponse":{"properties":{"components":{"items":{"$ref":"#/components/schemas/ComponentList"},"type":"array"},"count":{"description":"组件数量","example":10,"type":"integer"}},"type":"object"},"ComponentStatusType":{"enum":["INITIALIZING","UPGRADING","FAILED","RUNNING","DOWN","DELETING","DELETED","RESERVED","STARTING","STOPPING","STOPPED","RESTARTING","PENDING","UNKNOWN","PARTIALLY_FAILED"],"type":"string"},"ComponentStatusView":{"example":{"available_replica":1,"component_status":"RUNNING","create_time":12334324534,"creator":"user","fail_detail":"cluster_deleted","last_job_id":"xxx","replica":1,"update_time":22335345345},"properties":{"artifact":{"$ref":"#/components/schemas/ComponentArtifact"},"available_replica":{"type":"integer"},"component_status":{"$ref":"#/components/schemas/ComponentStatusType"},"create_time":{"description":"创建时间。","format":"int64","type":"integer"},"creator":{"type":"string"},"fail_detail":{"$ref":"#/components/schemas/ComponentFailDetail"},"last_job_id":{"type":"string"},"replica":{"type":"integer"},"update_time":{"description":"修改时间。","format":"int64","type":"integer"}},"type":"object"},"ErrorResponse":{"properties":{"error_code":{"description":"错误码。","type":"string"},"error_detail":{"description":"详细定位信息。","type":"string"},"error_message":{"description":"错误详细信息。","example":"error message","type":"string"},"error_msg":{"description":"错误信息。","type":"string"}},"type":"object"},"ExternalAccesses":{"properties":{"address":{"type":"string"},"forward_port":{"type":"integer"},"protocol":{"enum":["http","https"],"type":"string"}},"type":"object"},"Label":{"properties":{"key":{"type":"string"},"value":{"type":"string"}},"required":["key","value"],"type":"object"},"RuntimeStack":{"properties":{"deploy_mode":{"enum":["container","virtualmachine"],"type":"string"},"name":{"type":"string"},"type":{"type":"string"},"version":{"type":"string"}},"required":["name","type","version","deploy_mode"],"type":"object"},"SourceKind":{"enum":["code","package","image"],"type":"string"},"SourceObject":{"properties":{"auth":{"type":"string"},"kind":{"$ref":"#/components/schemas/SourceKind"},"repo_auth":{"type":"string"},"repo_namespace":{"type":"string"},"repo_ref":{"type":"string"},"repo_type":{"type":"string"},"repo_url":{"type":"string"},"storage":{"enum":["obs","swr","devcloud"],"type":"string"},"url":{"type":"string"},"version":{"description":"软件包版本","type":"string"},"web_url":{"type":"string"}},"required":["kind"],"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"66601b9b4dd246ddab6e76d90a0b0ecd","host":"servicestage.cn-north-4.myhuaweicloud.com","id":"4c5fd288c876456a8a57dc907ec610d4","info_version":"v3","method":"get","name":"ShowComponentsInApplication","parameters":null,"paths":{"/v3/{project_id}/cas/applications/{application_id}/components":{"get":{"description":"通过此API获取应用下所有应用组件。","operationId":"ShowComponentsInApplication","parameters":[{"$ref":"#/components/parameters/auth-token"},{"$ref":"#/components/parameters/project_id"},{"$ref":"#/components/parameters/application_id"},{"$ref":"#/components/parameters/limit"},{"$ref":"#/components/parameters/offset"},{"$ref":"#/components/parameters/order_by"},{"$ref":"#/components/parameters/order"}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ComponentListResponse"}}},"description":"操作成功。"},"500":{"$ref":"#/components/responses/500"}},"summary":"获取应用所有组件","tags":["Component"],"x-is-registered":"Y","x-support-sdk":"Y"}}},"product_short":"ServiceStage","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"获取应用所有组件","tags":"Component","uri":null,"version":"3.0.1"}