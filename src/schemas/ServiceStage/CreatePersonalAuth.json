{"base_path":null,"components":{"examples":{"err0400":{"value":{"error_code":"SVCSTG.REPO.0400","error_detail":"","error_msg":"parameter invalid"}},"err0401":{"value":{"error_code":"SVCSTG.REPO.0401","error_detail":"","error_msg":"repository not implemented"}},"err0403":{"value":{"error_code":"SVCSTG.REPO.0403","error_detail":"","error_msg":"resource already exist"}}},"parameters":{"auth-token":{"description":"租户身份验证令牌。","in":"header","name":"X-Auth-Token","required":true,"schema":{"type":"string"}}},"schemas":{"AccessToken":{"example":{"host":"https://gitlab.com","name":"gitlab-acc","token":"hj5mwkgQMdyEZFvz5R5y"},"properties":{"host":{"description":"git仓库的主机地址,如https://192.168.1.1:8080/gitlab,默认为官方主机。","maxLength":256,"type":"string"},"name":{"description":"授权名称。","maxLength":64,"pattern":"^[a-zA-Z0-9_.-]+$","type":"string"},"token":{"description":"git仓库设置中创建的私有token。","maxLength":256,"type":"string"}},"required":["name","token"],"type":"object"},"Authorization":{"description":"授权信息。","example":{"authorization":{"avartar":"https://avatars0.githubusercontent.com/u/23520076?v=4","create_time":1561968181671,"name":"github-pass","repo_home":"https://github.com/demo","repo_host":"https://api.github.com","repo_type":"github","repo_user":"demo","status":0,"token_type":"password","update_time":1561968181671}},"properties":{"authorization":{"$ref":"#/components/schemas/AuthorizationVI"}},"required":["authorization"],"type":"object"},"AuthorizationVI":{"description":"授权结构体。","properties":{"avartar":{"description":"头像。","type":"string"},"create_time":{"description":"创建时间。","format":"int64","type":"integer"},"name":{"description":"授权名称。","type":"string"},"repo_home":{"description":"仓库主页。","type":"string"},"repo_host":{"description":"仓库地址。","type":"string"},"repo_type":{"description":"仓库类型。\n取值范围:github、gitlab、gitee、bitbucket、devcloud。","type":"string"},"repo_user":{"description":"仓库用户名。","type":"string"},"status":{"description":"状态。","format":"int32","type":"integer"},"token_type":{"description":"授权方式。","type":"string"},"update_time":{"description":"修改时间。","format":"int64","type":"integer"}},"required":["name","repo_type","repo_host","repo_home","repo_user","avartar","token_type","create_time","update_time","status"],"type":"object"},"ErrorResponse":{"properties":{"error_code":{"description":"错误码。","type":"string"},"error_detail":{"description":"详细定位信息。","type":"string"},"error_message":{"description":"错误详细信息。","example":"error message","type":"string"},"error_msg":{"description":"错误信息。","type":"string"}},"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"66601b9b4dd246ddab6e76d90a0b0ecd","host":"servicestage.cn-north-4.myhuaweicloud.com","id":"59924d54c47745f6b6001a349ff0cb75","info_version":"v2","method":"post","name":"CreatePersonalAuth","parameters":null,"paths":{"/v1/{project_id}/git/auths/{repo_type}/personal":{"post":{"description":"创建指定Git仓库类型的私人令牌授权。","operationId":"CreatePersonalAuth","parameters":[{"$ref":"#/components/parameters/auth-token"},{"description":"租户的project ID。","in":"path","name":"project_id","required":true,"schema":{"type":"string"},"x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"仓库类型。\n支持私人令牌授权的仓库类型有:github、gitlab、gitee。","in":"path","name":"repo_type","required":true,"schema":{"enum":["github","gitlab","gitee"],"type":"string"},"x-example":"github"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccessToken"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Authorization"}}},"description":"操作成功。"},"400":{"content":{"application/json":{"examples":{"err0400":{"$ref":"#/components/examples/err0400"},"err0401":{"$ref":"#/components/examples/err0401"},"err0403":{"$ref":"#/components/examples/err0403"}},"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"错误的请求。"}},"summary":"创建私人令牌授权","tags":["GIT授权"],"x-is-registered":"Y","x-support-sdk":"Y"}}},"product_short":"ServiceStage","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建私人令牌授权","tags":"GIT授权","uri":null,"version":"3.0.1"}