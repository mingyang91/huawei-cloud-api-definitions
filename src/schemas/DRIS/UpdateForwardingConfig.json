{"base_path":null,"components":null,"consumes":"[\"application/json\"]","definitions":{"ForwardingConfig":{"description":"**参数说明**:转发配置。","properties":{"forwarding_type":{"description":"**参数说明**:转发配置的类型。\n\n**取值范围**:当前仅支持“kafka、mrskafka”。","example":"kafka","pattern":"kafka|mrskafka","type":"string"},"kafka_config":{"$ref":"#/definitions/KafkaConfigResponseDTO"},"mrs_kafka_config":{"$ref":"#/definitions/MrsKafkaConfigResponseDTO"}},"type":"object","x-subPackage":"forwardingconfig"},"KafkaConfigResponseDTO":{"description":"**参数说明**:Kafka配置信息。","properties":{"brokers":{"description":"**参数说明**:Kafka broker列表。","items":{"example":"127.0.0.1:10000","maxLength":255,"minLength":1,"type":"string"},"maxItems":255,"minItems":1,"type":"array"},"created_time":{"description":"**参数说明**:创建时间。\n格式为yyyy-MM-dd'T'HH:mm:ss'Z'\n例如:2015-12-12T12:12:12Z","example":"2015-12-12T12:12:12Z","format":"date-time","type":"string","x-annotations":["@JsonSerialize(using = CustomDateTimeSerializer.class)","@JsonDeserialize(using = CustomDateTimeDeserializer.class)"],"x-type":"DateTime"},"kafka_config_id":{"description":"**参数说明**:每一套Kafka配置的唯一ID。\n\n**取值范围**:只允许字母、数字、下划线(_)、连接符(-)的组合。","example":"1234567890","maxLength":255,"minLength":1,"pattern":"^[a-zA-Z0-9_-]*$","type":"string"},"kafka_topics":{"description":"**参数说明**:kafka的主题列表。\n\n**取值范围**:\n\n- v2x-v1-tracks:edge上报的车辆轨迹数据\n\n- v2x-v1-bsm:车载T-BOX,mqtt协议接入rsu, websocket协议接入rsu上报的BSM消息数据\n\n- v2x-v1-rsi:mqtt协议接入rsu,edge上报的RSI消息数据\n\n- v2x-v1-rsm: mqtt协议接入rsu,edge上报的RSM消息数据\n\n- v2x-v1-spat:mqtt协议接入rsu, websocket协议接入rsu上报的SPAT消息数据\n\n- v2x-v1-edge-flow:edge上报的车流量统计信息数据","items":{"example":"v2x-v1-rsm","pattern":"v2x-v1-tracks | v2x-v1-bsm | v2x-v1-map | v2x-v1-rsi | v2x-v1-rsm | v2x-v1-spat | v2x-v1-edge-flow","type":"string"},"maxItems":7,"minItems":0,"type":"array"},"last_modified_time":{"description":"**参数说明**:修改时间。\n格式为yyyy-MM-dd'T'HH:mm:ss'Z'\n例如:2015-12-12T12:12:12Z","example":"2015-12-13T12:12:12Z","format":"date-time","type":"string","x-annotations":["@JsonSerialize(using = CustomDateTimeSerializer.class)","@JsonDeserialize(using = CustomDateTimeDeserializer.class)"],"x-type":"DateTime"},"status":{"description":"**参数说明**:一套kafka的连接状态。\n\n**取值范围**:\n\n- OFFLINE:离线\n\n- ONLINE:在线","enum":["OFFLINE","ONLINE"],"example":"ONLINE","type":"string"},"topic_prefix":{"description":"**参数说明**:Topic前缀。\n\n**取值范围**:只允许字母、数字、下划线(_)、连接符(-)的组合。","example":"abc","maxLength":255,"minLength":0,"pattern":"^[a-zA-Z0-9_-]*$","type":"string"},"username":{"description":"**参数说明**:kafka用户名。\n\n**取值范围**:只允许字母、数字、下划线(_)、连接符(-)的组合。","example":"1234567890","maxLength":255,"minLength":1,"pattern":"^[a-zA-Z0-9_-]*$","type":"string"}},"type":"object","x-imports":"org.joda.time.DateTime;com.fasterxml.jackson.databind.annotation.JsonSerialize;com.fasterxml.jackson.databind.annotation.JsonDeserialize;com.huawei.iot.dris.component.base.serializer.CustomDateTimeSerializer;com.huawei.iot.dris.component.base.serializer.CustomDateTimeDeserializer;","x-subPackage":"forwardingconfig"},"MrsKafkaConfigResponseDTO":{"description":"**参数说明**:mrsKafka配置信息。","properties":{"authentication":{"default":false,"description":"**参数说明**:是否开启kerberos安全认证的开关。若开启安全认证则需要先上传kerberos安全认证的凭证。","example":true,"type":"boolean"},"brokers":{"description":"**参数说明**:Kafka broker列表。","items":{"example":"127.0.0.1:10000","maxLength":255,"minLength":1,"type":"string"},"maxItems":255,"minItems":1,"type":"array"},"created_time":{"description":"**参数说明**:创建时间。\n格式为yyyy-MM-dd'T'HH:mm:ss'Z'\n例如:2015-12-12T12:12:12Z","example":"2015-12-12T12:12:12Z","format":"date-time","type":"string","x-annotations":["@JsonSerialize(using = CustomDateTimeSerializer.class)","@JsonDeserialize(using = CustomDateTimeDeserializer.class)"],"x-type":"DateTime"},"kafka_config_id":{"description":"**参数说明**:每一套Kafka配置的唯一ID。\n\n**取值范围**:只允许字母、数字、下划线(_)、连接符(-)的组合。","example":"1234567890","maxLength":255,"minLength":1,"pattern":"^[a-zA-Z0-9_-]*$","type":"string"},"kafka_topics":{"description":"**参数说明**:kafka的主题列表。\n\n**取值范围**:\n\n- v2x-v1-tracks:edge上报的车辆轨迹数据\n\n- v2x-v1-bsm:车载T-BOX,mqtt协议接入rsu, websocket协议接入rsu上报的BSM消息数据\n\n- v2x-v1-rsi:mqtt协议接入rsu,edge上报的RSI消息数据\n\n- v2x-v1-rsm: mqtt协议接入rsu,edge上报的RSM消息数据\n\n- v2x-v1-spat:mqtt协议接入rsu, websocket协议接入rsu上报的SPAT消息数据\n\n- v2x-v1-edge-flow:edge上报的车流量统计信息数据","items":{"example":"v2x-v1-rsm","pattern":"v2x-v1-tracks | v2x-v1-bsm | v2x-v1-map | v2x-v1-rsi | v2x-v1-rsm | v2x-v1-spat | v2x-v1-edge-flow","type":"string"},"maxItems":7,"minItems":0,"type":"array"},"last_modified_time":{"description":"**参数说明**:修改时间。\n格式为yyyy-MM-dd'T'HH:mm:ss'Z'\n例如:2015-12-12T12:12:12Z","example":"2015-12-13T12:12:12Z","format":"date-time","type":"string","x-annotations":["@JsonSerialize(using = CustomDateTimeSerializer.class)","@JsonDeserialize(using = CustomDateTimeDeserializer.class)"],"x-type":"DateTime"},"status":{"description":"**参数说明**:一套kafka的连接状态。\n\n**取值范围**:\n\n- OFFLINE:离线\n\n- ONLINE:在线","enum":["OFFLINE","ONLINE"],"example":"ONLINE","type":"string"},"username":{"description":"**参数说明**:mrskafka用户名,若开启安全认证该参数必填。\n\n**取值范围**:只允许字母、数字、下划线(_)、连接符(-)的组合。","example":"1234567890","maxLength":255,"minLength":0,"pattern":"^[a-zA-Z0-9_-]*$","type":"string"}},"type":"object","x-imports":"org.joda.time.DateTime;com.fasterxml.jackson.databind.annotation.JsonSerialize;com.fasterxml.jackson.databind.annotation.JsonDeserialize;com.huawei.iot.dris.component.base.serializer.CustomDateTimeSerializer;com.huawei.iot.dris.component.base.serializer.CustomDateTimeDeserializer;","x-subPackage":"forwardingconfig"},"UpdateForwardingConfigRequestDTO":{"description":"配置更新接口使用的结构,现在支持kafka配置的更新","properties":{"kafka_config":{"$ref":"#/definitions/UpdateKafkaConfigRequestDTO"},"mrs_kafka_config":{"$ref":"#/definitions/UpdateMrsKafkaConfigRequestDTO"}},"type":"object","x-subPackage":"forwardingconfig"},"UpdateKafkaConfigRequestDTO":{"description":"**参数说明**:kafka更新配置,支持topicPrefix、userTopics、brokers,需要把该字段新的对应值全量写入。","properties":{"brokers":{"description":"**参数说明**:用户kafka的brokers列表。","items":{"example":"127.0.0.1:1000","maxLength":255,"minLength":0,"type":"string"},"maxItems":255,"minItems":0,"type":"array"},"password":{"description":"**参数说明**:kafka密码。","example":"1234567890","maxLength":255,"minLength":1,"type":"string"},"topic_prefix":{"description":"**参数说明**:Topic前缀,不携带时以user_topics中具体Topic为准,携带时前缀将拼接在user_topics中的topic前方,例如:topic_prefixv2x-v1-tracks,topic_prefixv2x-v1-bsm。\n\n**取值范围**:只允许字母、数字、下划线(_)、连接符(-)的组合。","example":"abc","minLength":0,"pattern":"^[a-zA-Z0-9_-]*$","type":"string"},"user_topics":{"description":"**参数说明**:用户订阅kafka的主题列表。\n\n**取值范围**:\n\n- v2x-v1-tracks:edge上报的车辆轨迹数据\n\n- v2x-v1-bsm:车载T-BOX,mqtt协议接入rsu, websocket协议接入rsu上报的BSM消息数据\n\n- v2x-v1-rsi:mqtt协议接入rsu,edge上报的RSI消息数据\n\n- v2x-v1-rsm: mqtt协议接入rsu,edge上报的RSM消息数据\n\n- v2x-v1-spat:mqtt协议接入rsu, websocket协议接入rsu上报的SPAT消息数据\n\n- v2x-v1-edge-flow:edge上报的车流量统计信息数据","items":{"example":"v2x-v1-rsm","pattern":"v2x-v1-tracks | v2x-v1-bsm | v2x-v1-map | v2x-v1-rsi | v2x-v1-rsm | v2x-v1-spat | v2x-v1-edge-flow","type":"string"},"maxItems":7,"minItems":0,"type":"array"},"username":{"description":"**参数说明**:kafka用户名。\n\n**取值范围**:只允许字母、数字、下划线(_)、连接符(-)的组合。","example":"1234567890","maxLength":255,"minLength":1,"pattern":"^[a-zA-Z0-9_-]*$","type":"string"}},"type":"object","x-subPackage":"forwardingconfig"},"UpdateMrsKafkaConfigRequestDTO":{"description":"**参数说明**:kafka更新配置,支持topicPrefix、userTopics、brokers,需要把该字段新的对应值全量写入。","properties":{"authentication":{"default":false,"description":"**参数说明**:是否开启kerberos安全认证的开关。若开启安全认证则需要先上传kerberos安全认证的凭证。","example":true,"type":"boolean"},"brokers":{"description":"**参数说明**:用户mrskafka的brokers列表。","items":{"example":"127.0.0.1:1000","maxLength":255,"minLength":0,"type":"string"},"maxItems":255,"minItems":0,"type":"array"},"keytab_content":{"description":"**参数说明**:若开启安全认证则需要先上传kerberos安全认证的keytab_file的凭证内容。","example":"415644sdxkuhuhsqhahsx","maxLength":65534,"minLength":0,"type":"string"},"krb5_content":{"description":"**参数说明**:若开启安全认证则需要先上传kerberos安全认证的krb5_file的凭证内容。","example":"415644sdxkuhuhsqhahsx","maxLength":65534,"minLength":0,"type":"string"},"user_topics":{"description":"**参数说明**:用户订阅kafka的主题列表。\n\n**取值范围**:\n\n- v2x-v1-tracks:edge上报的车辆轨迹数据\n\n- v2x-v1-bsm:车载T-BOX,mqtt协议接入rsu, websocket协议接入rsu上报的BSM消息数据\n\n- v2x-v1-rsi:mqtt协议接入rsu,edge上报的RSI消息数据\n\n- v2x-v1-rsm: mqtt协议接入rsu,edge上报的RSM消息数据\n\n- v2x-v1-spat:mqtt协议接入rsu, websocket协议接入rsu上报的SPAT消息数据\n\n- v2x-v1-edge-flow:edge上报的车流量统计信息数据","items":{"example":"v2x-v1-rsm","pattern":"v2x-v1-tracks | v2x-v1-bsm | v2x-v1-map | v2x-v1-rsi | v2x-v1-rsm | v2x-v1-spat | v2x-v1-edge-flow","type":"string"},"maxItems":7,"minItems":0,"type":"array"},"username":{"description":"**参数说明**:mrskafka用户名,若开启安全认证该参数必填。\n\n**取值范围**:只允许字母、数字、下划线(_)、连接符(-)的组合。","example":"1234567890","maxLength":255,"minLength":0,"pattern":"^[a-zA-Z0-9_-]*$","type":"string"}},"type":"object","x-subPackage":"forwardingconfig"}},"description":null,"group_id":"dfa23202ac9744c09647eb6839229692","host":"ocv2x-api.cn-north-4.myhuaweicloud.com","id":"4971ca49ff3f459c94585863b17a8b66","info_version":"v1","method":"put","name":"UpdateForwardingConfig","parameters":{},"paths":{"/v1/{project_id}/forwarding-configs/{forwarding_config_id}":{"put":{"description":"根据转发配置的唯一ID(forwarding_config_id)修改数据转发配置,当前支持更新的字段有topicPrefix、userTopics、brokers,需要把该字段新的对应值全量写入。","operationId":"UpdateForwardingConfig","parameters":[{"description":"**参数说明**:项目ID。获取方法请参见 [获取项目ID](https://support.huaweicloud.com/api-v2x/v2x_04_0031.html)。\n\n**取值范围**:仅支持数字,a到f的小写字母组合,长度32。","in":"path","name":"project_id","pattern":"^[0-9a-f]{32}$","required":true,"type":"string"},{"description":"**参数说明**:实例ID。dris物理实例的唯一标识。获取方法参见[获取Instance-Id](https://support.huaweicloud.com/api-v2x/v2x_04_0030.html)。\n\n**取值范围**:仅支持数字,小写字母和连接符(-)的组合,长度36。","in":"header","name":"Instance-Id","pattern":"^[a-z0-9-]{36}$","required":false,"type":"string"},{"description":"**参数说明**:转发配置的类型。\n\n**取值范围**:当前仅支持“kafka,mrskafka”。","in":"query","maxLength":255,"minLength":1,"name":"forwarding_type","pattern":"^(kafka|mrskafka)$","required":true,"type":"string"},{"description":"**参数说明**:转发配置的唯一ID。","in":"path","maxLength":255,"minLength":1,"name":"forwarding_config_id","pattern":"^[a-zA-Z0-9_-]*$","required":true,"type":"string"},{"description":"**参数说明**:用户Token,Token认证鉴权时必选。通过调用IAM服务 [获取IAM用户Token](https://support.huaweicloud.com/api-iam/iam_30_0001.html)接口获取,接口返回的响应消息头中“X-Subject-Token”就是需要获取的用户Token。简要的获取方法样例请参见 [Token认证](https://support.huaweicloud.com/api-v2x/v2x_04_0012.html)。","in":"header","maxLength":20000,"minLength":1,"name":"X-Auth-Token","required":false,"type":"string"},{"description":"**参数说明**:更新相关配置请求结构体。","in":"body","name":"UpdateForwardingConfigRequestBody","required":true,"schema":{"$ref":"#/definitions/UpdateForwardingConfigRequestDTO"}}],"produces":["application/json"],"responses":{"200":{"description":"OK","examples":{"application/json":{"forwarding_type":"kafka","kafka_config":{"brokers":["127.0.0.1:10000"],"created_time":"2015-12-12T12:12:12Z","kafka_config_id":"1234567890","kafka_topics":["v2x-v1-tracks","v2x-v1-bsm","v2x-v1-rsi","v2x-v1-rsm","v2x-v1-spat","v2x-v1-edge-flow"],"last_modified_time":"2015-12-13T12:12:12Z","status":"ONLINE","topic_prefix":"abc","username":"1234567890"},"mrs_kafka_config":{"authentication":false,"brokers":["127.0.0.1:10000"],"created_time":"2015-12-12T12:12:12Z","kafka_topics":["v2x-v1-tracks","v2x-v1-bsm","v2x-v1-rsi","v2x-v1-rsm","v2x-v1-spat","v2x-v1-edge-flow"],"last_modified_time":"2015-12-12T12:12:12Z"}}},"schema":{"$ref":"#/definitions/ForwardingConfig"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"405":{"description":"Method Not Allowed"},"409":{"description":"Conflict"},"429":{"description":"Too Many Requests"},"500":{"description":"Internal Server Error"}},"summary":"修改数据转发配置","tags":["APIG-SN-ForwardingConfigResources"],"x-apigateway-backend":{"httpVpcEndpoints":{"description":"","method":"PUT","name":"OMLB","path":"/v1/{project_id}/forwarding-configs/{forwarding_config_id}","scheme":"https","timeout":30000},"parameters":[{"description":"","in":"PATH","name":"project_id","origin":"REQUEST","value":"project_id"},{"description":"","in":"HEADER","name":"Instance-Id","origin":"REQUEST","value":"Instance-Id"},{"description":"","in":"PATH","name":"forwarding_config_id","origin":"REQUEST","value":"forwarding_config_id"}],"type":"HTTP-VPC"},"x-apigateway-cors":true,"x-apigateway-match-mode":"SWA","x-apigateway-request-type":"public","x-imports":"org.springframework.http.ResponseEntity;javax.validation.constraints.*;io.swagger.annotations.ApiResponse;io.swagger.annotations.ApiResponses;com.huawei.iot.dris.component.exception.ExceptionMessage;com.huawei.clouds.wushan.cts.meta.CtsMeta;com.huawei.clouds.wushan.integration.common.auth.EnableAuth;com.huawei.clouds.wushan.auth.token.IamAuthLevel;com.huawei.clouds.wushan.auth.token.IamAuthMeta;","x-is-registered":"Y","x-methodAnnotations":["@ApiResponses({ @ApiResponse(code = 200, response = ForwardingConfig.class, message = \"\"), @ApiResponse(code = 400, response = ExceptionMessage.class, message = \"\"), @ApiResponse(code = 401, response = ExceptionMessage.class, message = \"\"), @ApiResponse(code = 403, response = ExceptionMessage.class, message = \"\"), @ApiResponse(code = 404, response = ExceptionMessage.class, message = \"\"), @ApiResponse(code = 405, response = ExceptionMessage.class, message = \"\"), @ApiResponse(code = 409, response = ExceptionMessage.class, message = \"\"), @ApiResponse(code = 429, response = ExceptionMessage.class, message = \"\"), @ApiResponse(code = 500, response = ExceptionMessage.class, message = \"\")}) @CtsMeta(resourceType = \"forwardingConfig\", traceName = \"UpdateForwardingConfig\") @IamAuthMeta(authLevel = IamAuthLevel.PROJECT) @EnableAuth"],"x-request-examples-1":{"kafka_config":{"brokers":["127.0.0.1:1000"],"password":"1234567890","topic_prefix":"abc","user_topics":["v2x-v1-tracks","v2x-v1-bsm","v2x-v1-rsi","v2x-v1-rsm","v2x-v1-spat","v2x-v1-edge-flow"],"username":"1234567890"}},"x-request-examples-url-1":"PUT https://{endpoint}/v1/{project_id}/forwarding-configs/{forwarding_config_id}?forwarding_type={forwarding_type}\nContent-Type:application/json\nX-Auth-Token:********\nInstance-Id:********","x-returnType":"ResponseEntity<ForwardingConfig>","x-support-sdk":"Y"}}},"product_short":"DRIS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-app":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-iam-none":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM_NONE"}},"summary":"修改数据转发配置","tags":"数据转发配置管理","uri":null,"version":"2.0"}