{"base_path":null,"components":null,"consumes":"[\"application/json\"]","definitions":{"CongestionInfo":{"description":"拥堵事件信息","properties":{"congestion_lanes_info":{"description":"**参数说明**:车道拥堵信息。","items":{"$ref":"#/definitions/CongestionLanesInfo"},"maxItems":100,"minItems":0,"type":"array"},"end_point":{"$ref":"#/definitions/Position3D","description":"**参数说明**:拥堵的终点经纬度。"},"length":{"description":"**参数说明**:拥堵长度,单位为米(m)。","example":200,"format":"int32","maximum":1000,"minimum":0,"type":"integer"},"level":{"description":"**参数说明**:拥堵级别。\n\n**取值范围**:\n\n- 1:拥堵级别低,速度[25, 30) 单位:km/h\n\n- 2:拥堵级别中,速度[15,25) 单位:km/h\n\n- 3:拥堵级别高,速度[0, 15) 单位:km/h","format":"int32","maximum":3,"minimum":0,"type":"integer"},"start_point":{"$ref":"#/definitions/Position3D","description":"**参数说明**:拥堵的起点经纬度。"}},"type":"object","x-subPackage":"v2xhistorydatadto"},"CongestionLanesInfo":{"description":"车道拥堵信息。","properties":{"end_point":{"$ref":"#/definitions/Position3D","description":"**参数说明**:拥堵的终点经纬度。"},"laneid":{"description":"**参数说明**:车道号。","example":2,"format":"int32","maximum":100,"minimum":0,"type":"integer"},"length":{"description":"**参数说明**:拥堵长度,单位为米(m)。","example":200,"format":"int32","maximum":1000,"minimum":0,"type":"integer"},"level":{"description":"**参数说明**:拥堵级别。\n\n**取值范围**:\n\n- 1:拥堵级别低,速度[25, 30) 单位:km/h\n\n- 2:拥堵级别中,速度[15,25) 单位:km/h\n\n- 3:拥堵级别高,速度[0, 15) 单位:km/h","format":"int32","maximum":3,"minimum":0,"type":"integer"},"start_point":{"$ref":"#/definitions/Position3D","description":"**参数说明**:拥堵的起点经纬度。"}},"type":"object","x-imports":"java.math.BigDecimal;","x-subPackage":"v2xhistorydatadto"},"EventExInfo":{"description":"交通事件扩展信息","properties":{"congestion_info":{"$ref":"#/definitions/CongestionInfo","description":"**参数说明**:拥堵事件时携带的信息。","type":"object"},"participants":{"description":"**参数说明**:识别出交通事件时所对应的交通参与者。","items":{"$ref":"#/definitions/EventParticipant"},"type":"array"}},"type":"object","x-subPackage":"v2xhistorydatadto"},"EventParticipant":{"description":"交通参与者","properties":{"gat_vehicle_class":{"description":"**参数说明**:机动车车辆类型。参考[机动车车辆类型](https://support.huaweicloud.com/api-v2x/v2x_04_0179.html)。","example":"K33","pattern":"^[A-Z0-9]{3}$","type":"string"},"lane_no":{"description":"**参数说明**:事件发生的所在车道","example":1,"format":"int32","maximum":99,"minimum":0,"type":"integer"},"plate_no":{"description":"**参数说明**:车牌号。","example":"粤B1234567","maxLength":32,"minLength":0,"type":"string"},"ptc_type":{"description":"**参数说明**:交通参与者的具体类型描述。\n\n**取值范围**:\n\n- unknown:未知\n\n- motor:机动车\n\n- non-motor:非机动车\n\n- pedestrian:行人\n","enum":["unknown","motor","non-motor","pedestrian"],"example":"unknown","type":"string"},"speed":{"description":"**参数说明**:对应车辆被检测到超速或者慢行时的速度小。单位为0.02米每秒。值为8191时代表无效数值。","example":3000,"format":"int32","maximum":8191,"minimum":0,"type":"integer"},"target_rects":{"description":"**参数说明**:目标检测框信息列表。","items":{"$ref":"#/definitions/TargetRect"},"maxItems":10,"minItems":0,"type":"array"},"track_id":{"description":"**参数说明**:感知设备识别的id,具体表示为机动车轨迹ID。","example":123456789,"format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"vehicle_class":{"description":"**参数说明**:车辆类型。参考 [车辆基本类型参数说明](https://support.huaweicloud.com/api-v2x/v2x_04_0162.html)。","example":54,"format":"int32","maximum":255,"minimum":0,"type":"integer"}},"type":"object","x-subPackage":"v2xhistorydatadto"},"HistoryTrafficEventDTO":{"properties":{"area_code":{"description":"**参数说明**:区域码。","example":568,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"created_time":{"description":"**参数说明**:事件的创建时间。\n\n格式:yyyy-MM-dd''T''HH:mm:ss''Z''。\n\n例如 2020-09-01T01:37:01Z。\n","type":"string","x-type":"DateTime"},"cross_id":{"description":"**参数说明**:路口id,对应到一组雷视拟合设备,检测一个特定的路口或者路段。","example":1111,"maxLength":64,"minLength":0,"type":"string"},"end_time":{"description":"**参数说明**:事件的结束时间。\n\n格式:yyyy-MM-dd''T''HH:mm:ss''Z''。\n\n例如 2020-09-01T01:37:01Z。\n","type":"string","x-type":"DateTime"},"esn":{"description":"**参数说明**:设备编码。\n**取值范围**:长度不超过64,只允许字母、数字、以及_等字符的组合。\n","example":"2102312ETX10K7000037","pattern":"^[a-zA-Z0-9_]{1,64}$","type":"string"},"event_class":{"description":"**参数说明**:事件的分类。\n\n**取值范围**:\n\n- AbnormalTraffic:异常路况\n\n- AbnormalVehicle:异常车况\n\n- AdverseWeather:恶劣天气\n\n- TrafficSign:标志标牌\n","example":"AbnormalTraffic","type":"string"},"event_confidence":{"description":"**参数说明**:事件可信度。","example":1,"format":"int32","maximum":1000,"minimum":0,"type":"integer"},"event_description":{"description":"**参数说明**:交通事件描述。","example":"车辆事故","maxLength":256,"minLength":0,"type":"string"},"event_ex_info":{"$ref":"#/definitions/EventExInfo","description":"**参数说明**:交通事件扩展信息。","type":"object"},"event_id":{"description":"**参数说明**:事件ID,由平台生成。","example":11111,"maxLength":256,"minLength":0,"type":"string"},"event_level":{"description":"**参数说明**:事件级别(1-5) 由低到高的事件严重程度。","example":1,"format":"int32","maximum":7,"minimum":0,"type":"integer"},"event_params":{"additionalProperties":{"type":"string"},"description":"**参数说明**:事件参数,用户自定义。","type":"object"},"event_position":{"$ref":"#/definitions/Position3D","description":"**参数说明**:事件发生位置经纬度。"},"event_position_name":{"description":"**参数说明**:事件位置名称。","example":"深圳深南大道","maxLength":256,"minLength":0,"type":"string"},"event_source_id":{"description":"**参数说明**:事件来源ID。","example":2,"maxLength":256,"minLength":0,"type":"string"},"event_source_type":{"description":"\n**参数说明**:事件来源类型列表,支持事件来源。\n\n**取值范围**:\n\n- unknown:未知数据\n\n- police:警方数据\n\n- government:政府数据\n\n- meteorological:气象数据\n\n- internet:互联网数据\n\n- detection:检测器检测到的数据\n\n- v2xServer:平台上报数据\n\n- rsu:RSU上报数据\n\n- obu:车载终端上报数据\n","example":2,"type":"string"},"event_status":{"description":"**参数说明**:事件的状态。\n\n**取值范围**:\n\n- Invalid:过期事件,事件发生的时间段在当前时间之前。\n\n- Active:活动事件,事件正在发生,当前时间处于事件发生时间段内。\n\n- Future:未来事件,在当前时间之后才会发生的事件。\n","example":"Invalid","type":"string"},"event_type":{"description":"**参数说明**:事件类型,参照附录[《国标交通事件及标志列表》](https://support.huaweicloud.com/api-v2x/v2x_04_0101.html)文件。","example":1111,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"note":{"description":"**参数说明**:用户备注信息。","example":"交通事件信息","maxLength":256,"minLength":0,"type":"string"},"reference_paths":{"description":"**参数说明**:事件的关联路径。","items":{"$ref":"#/definitions/ReferencePath"},"maxItems":100,"minItems":0,"type":"array"},"rsu_id":{"description":"**参数说明**:事件关联的rsuID。","items":{"maxLength":256,"minLength":0,"type":"string"},"maxItems":256,"minItems":0,"type":"array"},"start_time":{"description":"**参数说明**:事件的开始时间。\n\n格式:yyyy-MM-dd''T''HH:mm:ss''Z''。\n\n例如 2020-09-01T01:37:01Z。\n","type":"string","x-type":"DateTime"}},"type":"object","x-imports":["org.joda.time.DateTime;"],"x-subPackage":"v2xhistorydatadto"},"HistoryTrafficEventPageDTO":{"description":"条件查询历史交通事件返回结构体","properties":{"count":{"description":"**参数说明**:条件查询返回的总条数。","example":2,"format":"int64","maximum":2147483647,"minimum":0,"type":"integer"},"events":{"description":"**参数说明**:事件列表。","items":{"$ref":"#/definitions/HistoryTrafficEventDTO"},"maxItems":256,"minItems":0,"type":"array"}},"title":"条件查询历史交通事件返回结构体","type":"object","x-subPackage":"v2xhistorydatadto"},"Position3D":{"description":"位置信息。","properties":{"ele":{"description":"**参数说明**:定义海拔高程,可选,单位为分米。","example":1000,"maximum":61439,"minimum":-4095,"type":"object","x-type":"BigDecimal"},"lat":{"description":"**参数说明**:定义纬度数值,北纬为正,南纬为负,单位°,精度小数点后7位。","example":40.1234567,"maximum":90,"minimum":-90,"type":"object","x-type":"BigDecimal"},"lon":{"description":"**参数说明**:定义经度数值。东经为正,西经为负,单位°,精度小数点后7位。","example":116.1234567,"maximum":180,"minimum":-180,"type":"object","x-type":"BigDecimal"}},"required":["lat","lon"],"type":"object","x-imports":"java.math.BigDecimal;","x-subPackage":"v2xhistorydatadto"},"ReferencePath":{"properties":{"active_path":{"description":"**参数说明**:事件的有效路径","items":{"$ref":"#/definitions/Position3D"},"maxItems":256,"minItems":0,"type":"array"},"path_radius":{"description":"**参数说明**:事件的影响区域半径,可选,单位为分米。用半径表示影响区域边界离中心线的垂直距离,反映该区域的宽度以覆盖实际路段。","example":100,"format":"int32","maximum":100000,"minimum":0,"type":"integer"}},"type":"object","x-subPackage":"v2xhistorydatadto"},"TargetPos":{"description":"目标检测框信息。采用万分比相对坐标:即假定任何图像的宽高均为10000*10000时,其目标框的坐标值。在实际图像中恢复实际像素坐标系的方法:X*1920/10000,Y*1080/10000;","properties":{"left_top_x":{"description":"**参数说明**:目标区域框左上X坐标。","example":10,"format":"int64","maximum":2147483647,"minimum":0,"type":"integer"},"left_top_y":{"description":"**参数说明**:目标区域框左上Y坐标。","example":10,"format":"int64","maximum":2147483647,"minimum":0,"type":"integer"},"right_bottom_x":{"description":"**参数说明**:目标区域框右下X坐标。","example":10,"format":"int64","maximum":2147483647,"minimum":0,"type":"integer"},"right_bottom_y":{"description":"**参数说明**:目标区域框右下Y坐标。","example":10,"format":"int64","maximum":2147483647,"minimum":0,"type":"integer"}},"type":"object","x-imports":"java.math.BigDecimal;","x-subPackage":"v2xhistorydatadto"},"TargetRect":{"description":"目标检测框信息。","properties":{"camera_code":{"description":"**参数说明**:摄像头编码。","example":"abcd","maxLength":32,"minLength":0,"type":"string"},"camera_ip":{"description":"**参数说明**:摄像头IP地址。","example":"127.0.0.1","maxLength":32,"minLength":0,"type":"string"},"target_pos":{"$ref":"#/definitions/TargetPos","description":"**参数说明**:目标检测框万分比坐标。","type":"object"},"time_stamp_diff":{"description":"**参数说明**:与SnapTime的时间差值:当前检测框所在相机的时间戳减去雷视拟合轨迹中的SnapTime的差值。","example":1664507548437,"format":"int64","type":"integer"}},"type":"object","x-subPackage":"v2xhistorydatadto"}},"description":null,"group_id":"dfa23202ac9744c09647eb6839229692","host":"ocv2x-api.cn-north-4.myhuaweicloud.com","id":"c1ab048698e84e99a4b326b9c97b5989","info_version":"v1","method":"get","name":"ShowHistoryTrafficEvents","parameters":{"Instance-Id":{"description":"\"**参数说明**:实例ID。dris物理实例的唯一标识。获取方法参见[获取Instance-Id](https://support.huaweicloud.com/api-v2x/v2x_04_0030.html)。\n\n**取值范围**:仅支持数字,小写字母和横杠(-)的组合,长度36。\"","in":"header","name":"Instance-Id","pattern":"^[a-z0-9-]{36}$","required":false,"type":"string"},"X-Auth-Token":{"description":"**参数说明**:用户Token,Token认证鉴权时必选。通过调用IAM服务 [获取IAM用户Token](https://support.huaweicloud.com/api-iam/iam_30_0001.html)接口获取,接口返回的响应消息头中“X-Subject-Token”就是需要获取的用户Token。简要的获取方法样例请参见 [Token认证](https://support.huaweicloud.com/api-v2x/v2x_04_0012.html)。","in":"header","maxLength":20000,"minLength":1,"name":"X-Auth-Token","required":false,"type":"string"},"project_id":{"description":"**参数说明**:项目ID。获取方法请参见 [获取项目ID](https://support.huaweicloud.com/api-v2x/v2x_04_0031.html)。\n\n**取值范围**:仅支持数字,a到f的小写字母组合,长度32。","in":"path","name":"project_id","pattern":"^[0-9a-f]{32}$","required":true,"type":"string"}},"paths":{"/v1/{project_id}/history-traffic-events":{"get":{"description":"查询历史交通事件列表","operationId":"ShowHistoryTrafficEvents","parameters":[{"$ref":"#/parameters/project_id"},{"$ref":"#/parameters/Instance-Id"},{"$ref":"#/parameters/X-Auth-Token"},{"default":0,"description":"**参数说明**:分页查询时的页码。","format":"int32","in":"query","maximum":199,"minimum":0,"name":"offset","required":false,"type":"integer","x-example":100},{"default":10,"description":"**参数说明**:分页查询时每页显示的记录数。","format":"int32","in":"query","maximum":50,"minimum":1,"name":"limit","required":false,"type":"integer","x-example":10},{"description":"**参数说明**:查询此时间后达到平台的消息,十位Unix时间戳,秒级,例如:1575446506。","format":"int64","in":"query","name":"from_date","required":false,"type":"integer","x-example":1575446506},{"description":"**参数说明**:查询此时间前达到平台的消息,十位Unix时间戳,秒级,例如:1576396905。","format":"int64","in":"query","name":"to_date","required":false,"type":"integer","x-example":1576396905},{"description":"**参数说明**:事件id","in":"query","name":"event_id","pattern":"^[a-zA-Z0-9-]{36}$","required":false,"type":"string","x-example":"982a039f-fbab-489b-ad58-fd83e2333c55"},{"description":"**参数说明**:事件的分类,event_type存在时,event_class必选。\n\n**取值范围**:\n\n- AbnormalTraffic:异常路况\n\n- AbnormalVehicle:异常车况\n\n- AdverseWeather:恶劣天气\n\n- TrafficSign:标志标牌\n","in":"query","name":"event_class","pattern":"(AbnormalTraffic|AbnormalVehicle|AdverseWeather|TrafficSign)","required":false,"type":"string","x-example":"04ed75c1b18010440e71c00e745b0fe0"},{"description":"**参数说明**:事件类型,参照附录[《国标交通事件及标志列表》](https://support.huaweicloud.com/api-v2x/v2x_04_0101.html)文件。","in":"query","maxLength":255,"minLength":0,"name":"event_type","required":false,"type":"string","x-example":"04ed75c1b18010440e71c00e745b0fe0"},{"default":"v2xServer","description":"**参数说明**:事件来源,默认值v2xServer。\n\n**取值范围**:\n\n- v2xServer:来源为通过Console下发的事件\n\n- detection:来源为边缘edge上报的RSI\n\n- rsu:来源为通过MQTT接入的RSU上报的RSI\n","in":"query","name":"event_source","pattern":"^(v2xServer|detection|rsu)$","required":false,"type":"string","x-example":"v2xServer"}],"produces":["application/json"],"responses":{"200":{"description":"OK","examples":{"application/json":{"count":1,"events":[{"area_code":568,"cross_id":1111,"end_time":"2019-08-28T16:32:24Z","esn":"2102312ETX10K7000037","event_class":"AbnormalTraffic","event_confidence":1,"event_description":"交通事故","event_ex_info":{"congestion_info":{"congestion_lanes_info":[{"end_point":{"ele":1000,"lat":40.1234567,"lon":116.1234567},"laneid":1,"length":200,"level":0,"start_point":{"ele":1000,"lat":40.1234567,"lon":116.1234567}}],"end_point":{"ele":1000,"lat":40.1234567,"lon":116.1234567},"length":200,"level":0,"start_point":{"ele":1000,"lat":40.1234567,"lon":116.1234567}},"participants":[{"gat_vehicle_class":"k33","lane_no":1,"plate_no":"粤B12345","ptc_type":"unknown","speed":3000,"target_rects":[{"camera_code":"abcd","camera_ip":"127.0.0.1","target_pos":[{"left_top_x":10,"left_top_y":10,"right_bottom_x":5,"right_bottom_y":5}],"time_stamp_diff":1664507548437}],"track_id":123456789,"vehicle_class":54}]},"event_id":11111,"event_level":1,"event_params":{"speed":"60"},"event_position":{"ele":1000,"lat":40.1234567,"lon":116.1234567},"event_position_name":"深圳深南大道","event_source_id":2,"event_source_type":"RSU","event_status":"Invalid","event_type":100,"note":"交通事件信息","reference_paths":[{"active_path":[{"ele":1000,"lat":40.1234567,"lon":116.1234567}],"path_radius":100}],"rsu_id":["b58efc27-a6e5-4bca-9d12-c76ecfe3f102"],"start_time":"2019-08-28T16:32:24Z"}]}},"schema":{"$ref":"#/definitions/HistoryTrafficEventPageDTO"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"405":{"description":"Method Not Allowed"},"409":{"description":"Conflict"},"429":{"description":"Too Many Requests"},"500":{"description":"Internal Server Error"}},"schemes":["https"],"security":[{"apig-auth-app":[]}],"summary":"查询历史交通事件列表","tags":["APIG-SN-HistoryTrafficEvents"],"x-apigateway-access-control":["V2XInternel"],"x-apigateway-backend":{"httpVpcEndpoints":{"description":"","method":"GET","name":"OMLB","path":"/v1/{project_id}/history-traffic-events","scheme":"https","timeout":30000},"parameters":[{"description":"","in":"PATH","name":"project_id","origin":"REQUEST","value":"project_id"},{"description":"Token","in":"HEADER","name":"X-Auth-Token","origin":"REQUEST","value":"X-Auth-Token"},{"description":"","in":"QUERY","name":"event_class","origin":"REQUEST","value":"event_class"},{"description":"","in":"QUERY","name":"from_date","origin":"REQUEST","value":"from_date"},{"description":"","in":"QUERY","name":"to_date","origin":"REQUEST","value":"to_date"},{"description":"","in":"QUERY","name":"limit","origin":"REQUEST","value":"limit"},{"description":"","in":"QUERY","name":"offset","origin":"REQUEST","value":"offset"}],"type":"HTTP-VPC"},"x-apigateway-cors":false,"x-apigateway-match-mode":"NORMAL","x-apigateway-request-type":"public","x-imports":"org.springframework.http.ResponseEntity;javax.validation.constraints.*;io.swagger.annotations.ApiResponse;io.swagger.annotations.ApiResponses;com.huawei.iot.dris.component.exception.ExceptionMessage;","x-is-registered":"Y","x-methodAnnotations":["@ApiResponses({ @ApiResponse(code = 200, response = HistoryTrafficEventPageDTO.class, message = \"\"), @ApiResponse(code = 400, response = ExceptionMessage.class, message = \"\"), @ApiResponse(code = 401, response = ExceptionMessage.class, message = \"\"), @ApiResponse(code = 403, response = ExceptionMessage.class, message = \"\"), @ApiResponse(code = 404, response = ExceptionMessage.class, message = \"\"), @ApiResponse(code = 500, response = ExceptionMessage.class, message = \"\")})"],"x-request-examples-url-1":"GET https://{endpoint}/v1/{project_id}/history-traffic-events?limit={limit}&offset={offset}&from_date={from_date}&to_date={to_date}&event_class={event_class}&event_type={event_type}&event_source={event_source}&event_id={event_id}\nContent-Type:application/json\nX-Auth-Token:********\nInstance-Id:********","x-returnType":"ResponseEntity<HistoryTrafficEventPageDTO>","x-support-sdk":"Y"}}},"product_short":"DRIS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-app":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-iam-none":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM_NONE"}},"summary":"查询历史交通事件列表","tags":"历史交通消息管理","uri":null,"version":"2.0"}