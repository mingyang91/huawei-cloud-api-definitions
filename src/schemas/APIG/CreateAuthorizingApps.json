{"base_path":"/v1.0","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"AppAuthListResp":{"properties":{"auths":{"description":"API与APP的授权关系列表","items":{"$ref":"#/definitions/AppAuthResp"},"type":"array"}}},"AppAuthReq":{"properties":{"api_ids":{"description":"API的编号列表,可以选择租户自己的API,也可以选择从云市场上购买的API。","example":"8aa097b00e9843efabc9c593d11b769d","items":{"type":"string"},"type":"array"},"app_ids":{"description":"APP的编号列表","example":["f8c6ea15-0d1b-4c5b-bd4b-911610bd3b3e"],"items":{"type":"string"},"type":"array"},"env_id":{"description":"需要授权的环境编号","example":"DEFAULT_ENVIRONMENT_RELEASE_ID","type":"string"}},"required":["api_ids","app_ids","env_id"]},"AppAuthResp":{"properties":{"api_id":{"description":"API编号","type":"string"},"app_id":{"description":"APP编号","type":"string"},"auth_result":{"description":"授权结果:\n- SUCCESS:授权成功\n- SKIPPED:跳过","type":"string"},"auth_role":{"description":"授权者:\n- PROVIDER:API提供者授权\n- CONSUMER:API消费者授权","type":"string"},"auth_time":{"description":"授权时间","type":"string"},"id":{"description":"授权关系编号","type":"string"}}}},"description":null,"group_id":"d0b771ab4a6d46a895580726f0d5479b","host":"apig.cn-north-4.myhuaweicloud.com","id":"1889f130a5b04990882fc04eb492d1b9","info_version":"v1","method":"post","name":"CreateAuthorizingApps","parameters":{},"paths":{"/apigw/app-auths":{"post":{"description":"APP创建成功后,还不能访问API,如果想要访问某个环境上的API,需要将该API在该环境上授权给APP。授权成功后,APP即可访问该环境上的这个API。","operationId":"CreateAuthorizingApps","parameters":[{"description":"用户Token。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."},{"description":"APP授权的请求体","in":"body","name":"CreateAuthorizingAppsRequestBody","required":true,"schema":{"$ref":"#/definitions/AppAuthReq"}}],"responses":{"201":{"description":"Created","examples":{"application/json":{"auths":[{"api_id":"8aa097b00e9843efabc9c593d11b769d","app_id":"f8c6ea15-0d1b-4c5b-bd4b-911610bd3b3e","auth_result":"SUCCESS","auth_role":"PROVIDER","auth_time":"2018-03-30T09:37:43.490197204Z","id":"dffcaff92d144135a9f420fcd485bbf3"}]}},"schema":{"$ref":"#/definitions/AppAuthListResp"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error"}},"schemes":["https"],"summary":"APP授权","tags":["共享版-APP授权管理"],"x-is-registered":"Y","x-support-sdk":"N"}}},"product_short":"APIG","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"APP授权","tags":"共享版-APP授权管理","uri":null,"version":"2.0"}