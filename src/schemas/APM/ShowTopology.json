{"base_path":null,"components":null,"consumes":"","definitions":{"TraceTopologyLine":{"description":"拓扑图上的组件调用指向线。","properties":{"client_info":{"$ref":"#/definitions/TraceTopologyLineInfo","description":"客户端看到的信息。"},"end_node_id":{"description":"结束节点id。","format":"int64","type":"integer"},"hint":{"description":"获取一条线的提示信息。","type":"string"},"id":{"description":"id。","type":"string"},"server_info":{"$ref":"#/definitions/TraceTopologyLineInfo","description":"服务端信息。"},"span_id":{"description":"调用跨度id。","type":"string"},"start_node_id":{"description":"开始节点id。","format":"int64","type":"integer"}},"type":"object"},"TraceTopologyLineInfo":{"description":"拓扑图上线条的的信息。","properties":{"argument":{"description":"参数信息,比如调用的url信息等。","type":"string"},"event_id":{"description":"event的id。","type":"string"},"start_time":{"description":"开始时间。","format":"int64","type":"integer"},"time_used":{"description":"耗时。","format":"int64","type":"integer"}},"type":"object"},"TraceTopologyNode":{"description":"调用链拓扑图的节点。","properties":{"hint":{"description":"节点提示字段。","type":"string"},"node_id":{"description":"节点id。","format":"int64","type":"integer"},"node_name":{"description":"节点名称。","type":"string"}},"type":"object"},"TraceTopologyResult":{"description":"调用链拓扑图查询返回结果。","properties":{"global_trace_id":{"description":"全局traceId。","type":"string"},"line_list":{"description":"组件之间调用指向线列表。","items":{"$ref":"#/definitions/TraceTopologyLine"},"type":"array"},"node_list":{"description":"组件节点列表。","items":{"$ref":"#/definitions/TraceTopologyNode"},"type":"array"}},"type":"object"}},"description":null,"group_id":"948fcecbff6f450fbe29bcc3e90c3eca","host":"apm2.cn-north-4.myhuaweicloud.com","id":"f24dc0c85704459b9c94a4de7afad4fd","info_version":"v1","method":"get","name":"ShowTopology","parameters":{},"paths":{"/v1/apm2/openapi/view/trace/topology":{"get":{"description":"调用链拓扑图。","operationId":"ShowTopology","parameters":[{"description":"调用链traceId。","in":"query","name":"trace_id","required":true,"type":"string"},{"description":"从IAM服务获取的用户Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"OK,请求响应成功。","examples":{"application/json":{"global_trace_id":null,"line_list":[{"client_info":null,"end_node_id":11,"hint":"(1)((GET)(/apm2/health/v1/health-check)(200))","id":"1+1","server_info":{"argument":"(GET)(/apm2/health/v1/health-check)(200)","event_id":"1","start_time":1666684411910,"time_used":1},"span_id":"1","start_node_id":null}],"node_list":[{"hint":null,"node_id":11,"node_name":"apm-pu-task:suzhou-roma-2"}]}},"schema":{"$ref":"#/definitions/TraceTopologyResult"}},"401":{"description":"Unauthorized,没有权限。","schema":{"type":"string"}},"403":{"description":"Forbidden,禁止访问。","schema":{"type":"string"}},"404":{"description":"Not Found,没有找到要请求的资源。","schema":{"type":"string"}}},"summary":"调用链拓扑图","tags":["VIEW"],"x-hybridcloud":true,"x-is-registered":"Y","x-request-examples-description-1":"入参为调用链trace_id。","x-request-examples-url-1":"/v1/apm2/openapi/view/trace/topology?region=suzhou-roma-2&trace_id=16-1666684411910-1326","x-support-sdk":"Y"}}},"product_short":"APM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-app":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-app-optional":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-opt":{"access-auth-type":"optional"},"x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-iam-none":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM_NONE"}},"summary":"调用链拓扑图","tags":"VIEW","uri":null,"version":"2.0"}