{"base_path":"/","components":null,"consumes":"","definitions":{"ConditionInfo":{"description":"Condition info of rule","properties":{"conditions":{"description":"Information of conditions.","items":{"$ref":"#/definitions/ConditionItem"},"maxItems":99,"minItems":0,"type":"array"},"cron":{"description":"Cron 表达式","example":"*/5 * * * * ?","maxLength":64,"minLength":0,"type":"string"},"expression_type":{"description":"expression type, all, any, user_define","example":"all","maxLength":64,"minLength":0,"type":"string"},"logics":{"description":"Logic item of condition.","example":"['logic1', 'and', ['logic2', 'or', 'logic3'], 'or', 'logic4']","type":"object"},"repeat_count":{"description":"重复次数","example":1,"maxLength":64,"minLength":0,"type":"string"},"repeat_range":{"description":"执行时间段 2021-01-30T23:00:00Z+0800","example":"2021-01-30T23:00:00Z+0800~2021-01-30T23:00:00Z+0800","maxLength":64,"minLength":0,"type":"string"},"schedule_type":{"description":"schedule type, second hours...","example":"second","maxLength":64,"minLength":0,"type":"string"}}},"ConditionItem":{"description":"Condition define","properties":{"data":{"description":"Detail of the condition.","example":"['waf.alarm.level', '>', '3']","items":{"maxLength":2048,"minLength":0,"type":"string"},"maxItems":99,"minItems":0,"type":"array"},"detail":{"description":"Detail of the condition.","example":"Funcion : XXX","maxLength":1028,"minLength":0,"type":"string"},"name":{"description":"Name of the condition.","example":"logic1","maxLength":64,"minLength":0,"type":"string"}}},"CreateRuleInfo":{"description":"Information of rule","properties":{"rule":{"$ref":"#/definitions/ConditionInfo"}}},"ErrorRsp":{"description":"Error response for failed request.","properties":{"code":{"description":"Error code.","example":"CSB.20040001","maxLength":64,"minLength":0,"type":"string"},"message":{"description":"Error description.","example":"Parameter error.","maxLength":1024,"minLength":0,"type":"string"}}},"RuleInfo":{"description":"Information of rule","properties":{"id":{"description":"Id value","example":"909494e3-558e-46b6-a9eb-07a8e18ca62f","maxLength":64,"minLength":32,"type":"string"},"project_id":{"description":"Project id value","example":"909494e3-558e-46b6-a9eb-07a8e18ca62f","maxLength":64,"minLength":32,"type":"string"},"rule":{"description":"Project id value","example":"909494e3-558e-46b6-a9eb-07a8e18ca62f","maxLength":128,"minLength":0,"type":"string"}}},"RuleInfoResp":{"description":"response of rule info","properties":{"code":{"description":"Error code","example":"SOAR.0000","maxLength":32,"minLength":1,"readOnly":true,"type":"string"},"data":{"$ref":"#/definitions/RuleInfo"},"message":{"description":"Error message","example":"Error message","maxLength":32,"minLength":1,"readOnly":true,"type":"string"}}}},"description":null,"group_id":"f4920533096242cb99f7f6393e615975","host":"sa.myhuaweicloud.com","id":"db52548859824d62be658619ec2082e0","info_version":"v2","method":"post","name":"CreatePlaybookRule","parameters":{},"paths":{"/v1/{project_id}/workspaces/{workspace_id}/soc/playbooks/versions/{version_id}/rules":{"post":{"description":"Create rule.","operationId":"CreatePlaybookRule","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":2097152,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"default":"application/json;charset=UTF-8","description":"application/json;charset=UTF-8","in":"header","maxLength":64,"minLength":1,"name":"content-type","required":true,"type":"string"},{"description":"ID of project","in":"path","maxLength":36,"minLength":32,"name":"project_id","required":true,"type":"string"},{"description":"ID of workspace","in":"path","maxLength":36,"minLength":32,"name":"workspace_id","required":true,"type":"string"},{"description":"version Id value","in":"path","maxLength":64,"minLength":32,"name":"version_id","required":true,"type":"string"},{"description":"Create playbook rule","in":"body","name":"CreatePlaybookRuleRequestBody","required":false,"schema":{"$ref":"#/definitions/CreateRuleInfo"}}],"produces":["application/json"],"responses":{"200":{"description":"Response of create rule","headers":{"X-request-id":{"description":"This field is the request ID number for task tracking. Format is request_uuid-timestamp-hostname.","type":"string"}},"schema":{"$ref":"#/definitions/RuleInfoResp"}},"400":{"description":"Error response","headers":{"X-request-id":{"description":"This field is the request ID number for task tracking. Format is request_uuid-timestamp-hostname.","type":"string"}},"schema":{"$ref":"#/definitions/ErrorRsp"}}},"summary":"创建剧本规则(仅支持华东-上海一使用)","tags":["Playbook rule"],"x-is-registered":"N","x-support-sdk":"Y","x-surpport-apiexplorer":true}}},"product_short":"SA","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建剧本规则(仅支持华东-上海一使用)","tags":"Playbook rule","uri":null,"version":"2.0"}