{"base_path":"/","components":null,"consumes":"[\"application/json\",\"application/json; charset=UTF-8\"]","definitions":{"Audio":{"allOf":[{"$ref":"#/definitions/OutputPolicy"},{"properties":{"bitrate":{"description":"音频码率。\n\n取值范围:0或[8,1000]。\n\n单位:kbit/s。","format":"int32","maximum":2147483647,"minimum":0,"type":"integer","x-internal":false},"channels":{"description":"声道数。\n\n取值如下:\n- 1:AUDIO_CHANNELS_1\n- 2:AUDIO_CHANNELS_2\n- 6:AUDIO_CHANNELS_5_1","format":"int32","maximum":6,"minimum":1,"type":"integer","x-internal":false},"codec":{"default":1,"description":"音频编码格式。\n\n取值如下:\n\n- 1:AAC格式。\n- 2:HEAAC1格式 。\n- 3:HEAAC2格式。\n- 4:MP3格式 。","format":"int32","maximum":4,"minimum":1,"type":"integer","x-internal":false},"sample_rate":{"default":1,"description":"音频采样率。\n\n取值如下:\n\n- 1:AUDIO_SAMPLE_AUTO\n- 2:AUDIO_SAMPLE_22050(22050Hz)\n- 3:AUDIO_SAMPLE_32000(32000Hz)\n- 4:AUDIO_SAMPLE_44100(44100Hz)\n- 5:AUDIO_SAMPLE_48000(48000Hz)\n- 6:AUDIO_SAMPLE_96000(96000Hz)","format":"int32","maximum":6,"minimum":1,"type":"integer","x-internal":false}},"required":["channels"],"type":"object"}],"x-imports":"org.hibernate.validator.constraints.*;","x-modifier-memo":"add","x-since":"1.0.0"},"Common":{"properties":{"PVC":{"default":false,"description":"是否开启高清低码功能。\n\n取值如下:\n- false:关闭。\n- true:开启。","type":"boolean","x-internal":false},"dash_interval":{"default":5,"description":"DASH间隔,仅封装类型“pack_type”取值为2或3时,该参数生效。\n\n取值范围:[2,10]。\n\n单位:秒。","format":"int32","maximum":10,"minimum":2,"type":"integer","x-internal":false},"hls_interval":{"default":5,"description":"HLS分片间隔,仅封装类型“pack_type”取值为1或3时,该参数生效。\n\n取值范围:[2,10]。\n\n单位:秒。","format":"int32","maximum":10,"minimum":2,"type":"integer","x-internal":false},"pack_type":{"description":"封装类型。\n\n取值如下:\n- 1:HLS\n- 2:DASH\n- 3:HLS+DASH\n- 4:MP4\n- 5:MP3\n- 6:ADTS\n\n> pack_type设置为5和6时,不能设置视频参数。","format":"int32","maximum":6,"minimum":1,"type":"integer","x-internal":false}},"required":["pack_type"],"type":"object","x-imports":"org.hibernate.validator.constraints.*;","x-modifier-memo":"add","x-since":"1.0.0"},"ErrorResponse":{"properties":{"error_code":{"description":"错误码。","maxLength":16,"minLength":0,"type":"string"},"error_msg":{"description":"错误描述。","maxLength":256,"minLength":0,"type":"string"}},"type":"object"},"OutputPolicy":{"properties":{"output_policy":{"default":"transcode","description":"输出策略。\n\n取值如下:\n- discard\n- transcode\n\n>- 当视频参数中的“output_policy”为\"discard\",且音频参数中的“output_policy”为“transcode”时,表示只输出音频。\n>- 当视频参数中的“output_policy”为\"transcode\",且音频参数中的“output_policy”为“discard”时,表示只输出视频。\n>- 同时为\"discard\"时不合法。\n>- 同时为“transcode”时,表示输出音视频。","enum":["transcode","discard","copy"],"maxLength":64,"minLength":0,"type":"string"}},"type":"object","x-imports":"com.fasterxml.jackson.annotation.JsonInclude;","x-modifier-memo":"add","x-since":"1.0.0"},"QueryTransTemplate":{"properties":{"audio":{"$ref":"#/definitions/Audio","description":"音频信息。"},"common":{"$ref":"#/definitions/Common","description":"通用信息。"},"template_name":{"description":"转码模板名称。","maxLength":256,"minLength":0,"type":"string"},"video":{"$ref":"#/definitions/Video","description":"视频信息。"}},"required":["template_name","video"],"type":"object","x-modifier-memo":"add","x-since":"1.0.0"},"QueryTranscodeTemplateRsp":{"properties":{"template_array":{"description":"转码模板","items":{"$ref":"#/definitions/TemplateInfo"},"maxItems":50000,"minItems":0,"type":"array"},"total":{"description":"转码模板总数","format":"int32","maximum":2147483647,"minimum":0,"type":"integer"}},"type":"object"},"TemplateInfo":{"properties":{"template":{"$ref":"#/definitions/QueryTransTemplate","description":"转码模板信息。"},"template_id":{"description":"转码模板ID。","maximum":2147483647,"minimum":0,"type":"integer"}},"type":"object","x-modifier-memo":"add","x-since":"1.0.0"},"Video":{"allOf":[{"$ref":"#/definitions/OutputPolicy"},{"properties":{"bframes_count":{"description":"最大B帧间隔。\n\n取值范围:\n- H264:[0,7],默认值为4。\n- H265:[0,7],默认值为7。\n\n单位:帧。","format":"int32","maximum":8,"minimum":0,"type":"integer","x-internal":false},"bitrate":{"description":"输出平均码率。\n\n取值范围:0或[40,30000]之间的整数。\n\n单位:kbit/s\n\n若设置为0,则输出平均码率为自适应值。","format":"int32","maximum":30000,"minimum":0,"type":"integer","x-internal":false},"black_cut":{"description":"黑边剪裁类型。\n\n取值如下:\n- 0:不开启黑边剪裁。\n- 1:开启黑边剪裁,低复杂度算法,针对长视频(>5分钟)。\n- 2:开启黑边剪裁,高复杂度算法,针对短视频(<=5分钟)。","format":"int32","maximum":2,"minimum":0,"type":"integer","x-internal":false},"codec":{"description":"视频编码格式。\n\n取值如下:\n\n- 1:表示H.264。\n- 2:表示H.265。","format":"int32","maximum":3,"minimum":0,"type":"integer","x-annotations":["@Range(min = 1, max = 3)"],"x-internal":false},"frame_rate":{"description":"帧率。\n\n取值范围:0或[5,60]之间的整数。\n\n单位:帧每秒。\n\n> 若设置的帧率不在取值范围内,则自动调整为0,若设置的帧率高于片源帧率,则自动调整为片源帧率。","format":"int32","maximum":2147483647,"minimum":0,"type":"integer","x-internal":false},"height":{"description":"视频高度。\n- H.264:0或[32,2880]且必须为2的倍数。\n- H.265:0或[96,2880]且必须为4的倍数。\n\n单位:像素。\n\n说明:若视频高度设置为0,则视频高度值自适应。","format":"int32","maximum":2880,"minimum":0,"type":"integer","x-internal":false},"level":{"default":15,"description":"编码级别。\n\n取值如下:\n- 1:VIDEO_LEVEL_1_0\n- 2:VIDEO_LEVEL_1_1\n- 3:VIDEO_LEVEL_1_2\n- 4:VIDEO_LEVEL_1_3\n- 5:VIDEO_LEVEL_2_0\n- 6:VIDEO_LEVEL_2_1\n- 7:VIDEO_LEVEL_2_2\n- 8:VIDEO_LEVEL_3_0\n- 9:VIDEO_LEVEL_3_1\n- 10:VIDEO_LEVEL_3_2\n- 11:VIDEO_LEVEL_4_0\n- 12:VIDEO_LEVEL_4_1\n- 13:VIDEO_LEVEL_4_2\n- 14:VIDEO_LEVEL_5_0\n- 15:VIDEO_LEVEL_5_1","format":"int32","maximum":16,"minimum":1,"type":"integer","x-internal":false},"max_iframes_interval":{"default":5,"description":"I帧最大间隔\n\n取值范围:[2,10]。\n\n默认值:5。\n\n单位:秒。","format":"int32","maximum":10,"minimum":2,"type":"integer","x-internal":false},"preset":{"default":3,"description":"编码质量等级。\n\n取值如下:\n- 1:VIDEO_PRESET_HSPEED2\n- 2:VIDEO_PRESET_HSPEED\n- 3:VIDEO_PRESET_NORMAL\n> 值越大,表示编码的质量越高,转码耗时也越长。","format":"int32","maximum":4,"minimum":1,"type":"integer","x-internal":false},"profile":{"description":"编码档次,建议设为3。\n\n取值如下:\n- 1:VIDEO_PROFILE_H264_BASE\n- 2:VIDEO_PROFILE_H264_MAIN\n- 3:VIDEO_PROFILE_H264_HIGH\n- 4:VIDEO_PROFILE_H265_MAIN","format":"int32","maximum":5,"minimum":1,"type":"integer","x-internal":false},"width":{"description":"视频宽度。\n\n取值范围:\n- H.264:0或[32,4096]间2的倍数。\n- H.265:0或[160,4096]间4的倍数。\n\n单位:像素。\n\n说明:若视频宽度设置为0,则视频宽度值自适应。","format":"int32","maximum":4096,"minimum":0,"type":"integer","x-internal":false}},"type":"object"}],"x-imports":"org.hibernate.validator.constraints.*;","x-modifier-memo":"add","x-since":"1.0.0"},"XCodeError":{"properties":{"code":{"description":"错误码","maxLength":32,"minLength":0,"type":"string"},"msg":{"description":"错误信息","maxLength":1024,"minLength":0,"type":"string"}},"type":"object"}},"description":null,"group_id":"d6d1df67040449a19b5f12e3ad9ad999","host":"mpc.cn-north-4.myhuaweicloud.com","id":"ab1c89fb60f34e438d97e0f2d15a4ff5","info_version":"v1","method":"get","name":"ListTemplate","parameters":{"authorization":{"description":"使用AK/SK方式认证时必选,携带的鉴权信息。","in":"header","maxLength":256,"minLength":1,"name":"Authorization","required":false,"type":"string","x-example":"SDK-HMAC-SHA256 Access=xxx, SignedHeaders=content-type;host;x-sdk-date, Signature=xxx"},"xAuthToken":{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":16384,"minLength":0,"name":"X-Auth-Token","required":false,"type":"string"},"xProjectId":{"description":"使用AK/SK方式认证时必选,携带项目ID信息, 与路径参数中的项目ID相同。","in":"header","maxLength":64,"minLength":1,"name":"X-Project_Id","required":false,"type":"string"},"xSdkDate":{"description":"使用AK/SK方式认证时必选,请求的发生时间。","in":"header","maxLength":256,"minLength":1,"name":"X-Sdk-Date","required":false,"type":"string","x-example":"20191115T033655Z"}},"paths":{"/v1/{project_id}/template/transcodings":{"get":{"description":"查询用户自定义转码配置模板。\n支持指定模板ID查询,或分页全量查询。转码配置模板ID,最多10个。","operationId":"ListTemplate","parameters":[{"$ref":"#/parameters/xAuthToken"},{"$ref":"#/parameters/authorization"},{"$ref":"#/parameters/xProjectId"},{"$ref":"#/parameters/xSdkDate"},{"description":"项目ID,获取方法请参考[获取项目ID](mpc_04_0064.xml)","in":"path","maxLength":64,"minLength":0,"name":"project_id","required":true,"type":"string"},{"description":"VOD调用MPC携带的客户projectId","in":"header","maxLength":64,"minLength":0,"name":"x-vod-projectId","required":false,"type":"string","x-inner-field":true,"x-is_inner_param":"true"},{"collectionFormat":"multi","description":"自定义转码模板ID,最多10个","in":"query","items":{"type":"integer"},"maxItems":10,"minItems":0,"name":"template_id","required":false,"type":"array"},{"default":0,"description":"分页编号。查询指定“task_id”时,该参数无效。\n\n默认值:0。","format":"int32","in":"query","maximum":50000,"minimum":0,"name":"page","required":false,"type":"integer"},{"default":10,"description":"每页记录数。取值范围:[1,100],指定template_id时该参数无效","format":"int32","in":"query","maximum":1000,"minimum":1,"name":"size","required":false,"type":"integer"}],"responses":{"200":{"description":"查询转码模板成功。","examples":{"application/json":{"template_array":[{"template":{"audio":{"bitrate":0,"channels":2,"codec":1,"output_policy":"transcode","sample_rate":1},"common":{"PVC":false,"PVC_strength":100,"PVC_version":null,"QDS":false,"dash_interval":5,"hls_interval":5,"pack_type":1},"template_name":"test_template","tenant_id":"05aad1833a000f042fd6c001abb9824b","video":{"GOP_structure":false,"bframes_count":4,"bitrate":0,"codec":1,"frame_rate":0,"height":0,"level":15,"max_iframes_interval":5,"output_policy":"transcode","preset":3,"profile":3,"sr_factor":null,"sync_timestamp":false,"width":0}},"template_id":80985}],"total":1}},"schema":{"$ref":"#/definitions/QueryTranscodeTemplateRsp"}},"403":{"description":"查询转码模板失败。","examples":{"application/json":{"error_code":"MPC.10212","error_msg":"Operation failed."}},"schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"查询转码模板","tags":["TranscodeTemplate"],"x-apiexplorer-hide":"N","x-external-api":true,"x-is-registered":"Y","x-modifier-memo":"版本 | 修改日期 | 修改说明 | 修改者\n------------ | ------------- | ------------- | -------------\n1.0.0 | 2018/1/24 |新增此接口。 | 劳喜昌\n","x-navigation-title":"自定义转码模板接口","x-open-region-cloud":"hcso,hc,hk,g42","x-publishpath":"mpc_04_0024","x-request-examples-1":"GET https://{endpoint}/v1/{project_id}/templates/transcoding?template_id=80985\n","x-response-example":"{\n  \"template_array\" : [{\n      \"template_id\" : 187733,\n      \"template\" : {\n        \"template_name\" : \"template_01\",\n        \"tenant_id\" : \"05a8af456600269e2f40c0010b9423f8\",\n        \"video\" : {\n          \"output_policy\" : \"transcode\",\n          \"GOP_structure\" : false,\n\n          \"level\" : 15,\n          \"profile\" : 3,\n          \"sr_factor\" : null,\n          \"bitrate\" : 200,\n          \"preset\" : 3,\n          \"black_cut\" : 0,\n          \"frame_rate\" : 0,\n          \"sync_timestamp\" : false,\n          \"codec\" : 1,\n          \"width\" : 480,\n          \"max_iframes_interval\" : 5,\n          \"bframes_count\" : 4,\n          \"height\" : 270\n        },\n        \"audio\" : {\n          \"output_policy\" : \"transcode\",\n          \"codec\" : 1,\n          \"bitrate\" : 0,\n          \"sample_rate\" : 1,\n          \"channels\" : 2\n        },\n        \"common\" : {\n          \"QDS\" : false,\n          \"PVC\" : false,\n          \"PVC_version\" : null,\n          \"PVC_strength\" : \"100\",\n          \"hls_interval\" : 5,\n          \"dash_interval\" : 5,\n          \"pack_type\" : 1\n        }\n      },\n      \"error\" : null\n      ],\n      \"total\" : 1\n   }\n","x-since":"1.0.0","x-since-memo":"1.0.0 initial","x-support-sdk":"Y"}}},"product_short":"MPC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询转码模板","tags":"自定义转码模板接口","uri":null,"version":"2.0"}