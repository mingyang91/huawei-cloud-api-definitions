{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"AllowedAddressPair":{"description":"","properties":{"ip_address":{"description":"功能说明:IP地址\n取值范围:可以是IP地址或CIDR\n约束:不支持0.0.0.0/0如果allowed_address_pairs配置地址池较大的CIDR(掩码小于24位),建议为该port配置一个单独的安全组。\n如果填写allowed_address_pairs参数,则ip_address是必选参数。","maxLength":255,"minLength":0,"type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,obc"},"mac_address":{"description":"mac地址","maxLength":255,"minLength":0,"type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,obc"}},"required":["ip_address"]},"BindingVifDetails":{"description":"","properties":{"ovs_hybrid_plug":{"description":"用于通知像nova这样的API消费者,应该使用OVS的混合插入策略。","type":"boolean","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,obc"},"port_filter":{"description":"功能说明:表示该网络服务提供端口过滤特性,如安全组和反MAC/IP欺骗。","type":"boolean","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,obc"},"primary_interface":{"description":"功能说明:取值为true,表示是虚拟机的主网卡。","type":"boolean","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,obc"}}},"DnsAssignMent":{"description":"","properties":{"fqdn":{"description":"端口内网fqdn","type":"string","x-admin":"False","x-huawei-extraAnnotation":"","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,obc"},"hostname":{"description":"端口hostname","type":"string","x-admin":"False","x-huawei-extraAnnotation":"","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,obc"},"ip_address":{"description":"端口IP地址","type":"string","x-admin":"False","x-huawei-extraAnnotation":"","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,sbc,obc"}}},"ExtraDhcpOpt":{"description":"","properties":{"opt_name":{"description":"Option名称","maxLength":255,"minLength":0,"type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,obc"},"opt_value":{"description":"Option值","maxLength":255,"minLength":0,"type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,obc"}}},"FixedIp":{"description":"","properties":{"ip_address":{"description":"功能说明:端口IP地址,如果同时指定子网ID和IP地址,会尝试将该子网上的IP地址分配给该端口。\n如果仅指定子网ID,会将该子网中的可用IP分配给该端口。\n如果仅指定IP地址,会尝试分配IP地址(如果该地址是指定网络上任何子网的有效IP)","example":"192.168.0.24","maxLength":255,"minLength":0,"type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,obc"},"subnet_id":{"description":"功能说明:端口所属子网ID,如果同时指定子网ID和IP地址,会尝试将该子网上的IP地址分配给该端口。\n如果仅指定子网ID,会将该子网中的可用IP分配给该端口。\n如果仅指定IP地址,会尝试分配IP地址(如果该地址是指定网络上任何子网的有效IP)","pattern":"[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}","type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,obc"}}},"NeutronCreatePortOption":{"description":"","properties":{"admin_state_up":{"default":true,"description":"功能说明:管理状态\n约束:只支持true","type":"boolean","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,obc"},"allowed_address_pairs":{"description":"功能说明:扩展属性:IP/Mac对列表,详情参见“allow_address_pair对象”表\n约束:IP地址不允许为 “0.0.0.0”如果allowed_address_pairs配置地址池较大的CIDR(掩码小于24位),建议为该port配置一个单独的安全组硬件SDN环境不支持ip_address属性配置为CIDR格式。","items":{"$ref":"#/definitions/AllowedAddressPair"},"type":"array","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,obc"},"binding:profile":{"additionalProperties":{"description":"","type":"object"},"description":"扩展属性:提供用户设置自定义信息\n【使用说明】\n\tinternal_elb字段,布尔类型,普通租户可见。只有在创建内网ELB的虚拟IP的网卡时设置为true。普通租户没有权限更改该字段,由系统维护。\n举例:{\"internal_elb\": true}\n\tdisable_security_groups字段,布尔类型,普通租户可见。默认为false高性能通信场景下,允许指定为true普通租户可见。仅支持创建port和读取时指定。当前仅支持指定为true,不支持指定为false\n举例:{\"disable_security_groups\":true },\n当前仅支持指定为true,不支持指定为false,指定为true时,FWaaS功能不生效。\n\t仅对于“华北-北京二”:udp_srvports和tcp_srvports,字段,字符串类型,默认不设置udp_srvports和tcp_srvports字段。允许指定udp_srvports和tcp_srvports字段为端口号,表示这些端口的tcp报文和udp报文可支持高并发连接,但是此类报文不受ACL和安全组规则的限制。udp_srvports和tcp_srvports字段同时支持更新操作。\n−\t格式:\n{\"tcp_srvports\": \"port1 port2 port3\", \"udp_srvports\": \"port1 port2 port3\"}\n端口号之间以空格间隔,最多允许指定的端口号总共为15个,端口号范围是1到65535。\n−\t示例:{\"tcp_srvports\": \"80 443\", \"udp_srvports\": \"53\"}\n示例表示入方向目的端口为80或者443的tcp报文可支持高并发连接。入方向目的端口为53的udp报文可支持高并发连接。但是此类报文不受ACL和安全组规则的限制。","type":"object","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,obc"},"binding:vnic_type":{"description":"绑定的vNIC类型\n - normal: 软交换","type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,sbc,obc"},"device_owner":{"description":"功能说明:端口设备所属\n取值范围:目前只支持指定\"\"和\"neutron:VIP_PORT\";neutron:VIP_PORT表示创建的是VIP","type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,obc"},"extra_dhcp_opts":{"description":"功能说明:扩展属性:DHCP的扩展Option,详情参见“ExtraDhcpOpt对象”表","items":{"$ref":"#/definitions/ExtraDhcpOpt"},"type":"array","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,obc"},"fixed_ips":{"description":"功能说明:端口的IP地址,参见“FixedIp对象”表\n约束:device_owner为neutron: VIP_PORT时最多指定一个fixed_ip,给云服务器创建IPv6端口时,必须具备一个IPv4 subnet_id和一个IPv6 subnet_id 。","items":{"$ref":"#/definitions/FixedIp"},"type":"array","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,obc"},"name":{"description":"功能说明:端口的名称\n取值范围:0-255个字符","example":"port-test","maxLength":255,"minLength":0,"type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,obc"},"network_id":{"description":"端口所属网络ID","pattern":"[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}","type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,obc"},"port_security_enabled":{"default":true,"description":"功能说明:端口安全使能标记,如果不使能则安全组和dhcp防欺骗不生效\n取值范围:启用(true)或禁用(false)","example":true,"type":"boolean","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,obc"},"security_groups":{"description":"功能说明:作用在该端口上的安全组的ID列表\n约束:不支持更新为空","items":{"pattern":"[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}","type":"string"},"type":"array","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,obc"}},"required":["network_id"]},"NeutronCreatePortRequestBody":{"description":"","properties":{"port":{"$ref":"#/definitions/NeutronCreatePortOption","description":"port对象","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,obc"}},"required":["port"]},"NeutronErrorBody":{"description":"","properties":{"detail":{"description":"错误请求返回的错误详情","type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,obc"},"message":{"description":"错误请求返回的错误信息","type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,obc"},"type":{"description":"错误请求返回的错误类型","type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,obc"}},"required":["detail","message","type"]},"NeutronErrorResponseBody":{"description":"","properties":{"NeutronError":{"$ref":"#/definitions/NeutronErrorBody","description":"错误信息返回体","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,obc"}},"required":["NeutronError"]},"NeutronPort":{"description":"","properties":{"admin_state_up":{"description":"功能说明:端口管理状态\n约束:目前支持true","type":"boolean","x-admin":"False","x-internal":"False","x-obc":"Y","x-open-region-cloud":"hc,hk,otc,tlf,ctc"},"allowed_address_pairs":{"description":"功能说明:扩展属性:IP/Mac对列表,详情参见“allow_address_pair对象”表\n约束:IP地址不允许为 “0.0.0.0”如果allowed_address_pairs配置地址池较大的CIDR(掩码小于24位),建议为该port配置一个单独的安全组硬件SDN环境不支持ip_address属性配置为CIDR格式。","items":{"$ref":"#/definitions/AllowedAddressPair"},"type":"array","x-admin":"False","x-internal":"False","x-obc":"Y","x-open-region-cloud":"hc,hk,otc,tlf,ctc"},"binding:profile":{"description":"扩展属性:提供用户设置自定义信息\n【使用说明】\n\tinternal_elb字段,布尔类型,普通租户可见。只有在创建内网ELB的虚拟IP的网卡时设置为true。普通租户没有权限更改该字段,由系统维护。\n举例:{\"internal_elb\": true}\n\tdisable_security_groups字段,布尔类型,普通租户可见。默认为false高性能通信场景下,允许指定为true普通租户可见。仅支持创建port和读取时指定。当前仅支持指定为true,不支持指定为false\n举例:{\"disable_security_groups\":true },\n当前仅支持指定为true,不支持指定为false,指定为true时,FWaaS功能不生效。\n\t仅对于“华北-北京二”:udp_srvports和tcp_srvports,字段,字符串类型,默认不设置udp_srvports和tcp_srvports字段。允许指定udp_srvports和tcp_srvports字段为端口号,表示这些端口的tcp报文和udp报文可支持高并发连接,但是此类报文不受ACL和安全组规则的限制。udp_srvports和tcp_srvports字段同时支持更新操作。\n−\t格式:\n{\"tcp_srvports\": \"port1 port2 port3\", \"udp_srvports\": \"port1 port2 port3\"}\n端口号之间以空格间隔,最多允许指定的端口号总共为15个,端口号范围是1到65535。\n−\t示例:{\"tcp_srvports\": \"80 443\", \"udp_srvports\": \"53\"}\n示例表示入方向目的端口为80或者443的tcp报文可支持高并发连接。入方向目的端口为53的udp报文可支持高并发连接。但是此类报文不受ACL和安全组规则的限制。","type":"object","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc"},"binding:vif_details":{"$ref":"#/definitions/BindingVifDetails","description":"功能说明:vif的详细信息,\"primary_interface\": 是否为虚拟机的主网卡\n约束:管理员权限,普通租户不可指定","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso"},"binding:vnic_type":{"description":"功能说明:绑定的vNIC类型\n - normal:软交换","maxLength":64,"minLength":0,"type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc"},"created_at":{"description":"功能说明:资源创建UTC时间\n格式:yyyy-MM-ddTHH:mm:ss","format":"date-time","type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc"},"device_id":{"description":"功能说明:端口设备ID\n约束:不支持设置和更新,由系统自动维护,该字段非空的端口不允许删除。","maxLength":255,"minLength":0,"type":"string","x-admin":"False","x-internal":"False","x-obc":"Y","x-open-region-cloud":"hc,hk,otc,tlf,ctc"},"device_owner":{"description":"功能说明:端口设备所属(DHCP/Router/ Nova等)\n约束:不支持更新,只允许用户在创建虚拟IP端口时,为虚拟IP端口设置device_owner为neutron:VIP_PORT,当端口的该字段不为空时,仅支持该字段为neutron:VIP_PORT时的端口删除。该字段非空的端口不允许删除。","maxLength":255,"minLength":0,"type":"string","x-admin":"False","x-internal":"False","x-obc":"Y","x-open-region-cloud":"hc,hk,otc,tlf,ctc"},"dns_assignment":{"description":"功能说明:扩展属性:主网卡默认内网域名信息\n约束:不支持设置和更新,由系统自动维护\n - hostname:与端口dns_name一致\n - ip_address:端口ipv4私有地址\n - fqdn:为端口创建默认内网fqdn","items":{"$ref":"#/definitions/DnsAssignMent","description":""},"type":"array","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc"},"dns_name":{"description":"功能说明:扩展属性:主网卡默认内网DNS名称\n约束:不支持设置和更新,由系统自动维护,访问该默认内网域名前,请确保子网使用当前系统提供的DNS","maxLength":255,"minLength":0,"type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc"},"extra_dhcp_opts":{"description":"功能说明:扩展属性:DHCP的扩展Option,详情参见“ExtraDhcpOpt对象”表","items":{"$ref":"#/definitions/ExtraDhcpOpt"},"type":"array","x-admin":"False","x-internal":"False","x-obc":"Y","x-open-region-cloud":"hc,hk,otc,tlf,ctc"},"fixed_ips":{"description":"功能说明:端口的IP地址,参见“FixedIp对象”表\n约束:device_owner为neutron: VIP_PORT时最多指定一个fixed_ip,给云服务器创建IPv6端口时,必须具备一个IPv4 subnet_id和一个IPv6 subnet_id 。","items":{"$ref":"#/definitions/FixedIp"},"type":"array","x-admin":"False","x-internal":"False","x-obc":"Y","x-open-region-cloud":"hc,hk,otc,tlf,ctc"},"id":{"description":"端口ID","type":"string","x-admin":"False","x-internal":"False","x-obc":"Y","x-open-region-cloud":"hc,hk,otc,tlf,ctc"},"mac_address":{"description":"功能说明:端口mac地址\n约束:只支持系统动态分配,不支持指定","example":"fa:16:3e:9e:ff:55","maxLength":32,"minLength":0,"type":"string","x-admin":"False","x-internal":"False","x-obc":"Y","x-open-region-cloud":"hc,hk,otc,tlf,ctc"},"name":{"description":"功能说明:端口的名称\n取值范围:0-255个字符","maxLength":255,"minLength":0,"type":"string","x-admin":"False","x-internal":"False","x-obc":"Y","x-open-region-cloud":"hc,hk,otc,tlf,ctc"},"network_id":{"description":"端口所属网络ID","pattern":"[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}","type":"string","x-admin":"False","x-internal":"False","x-obc":"Y","x-open-region-cloud":"hc,hk,otc,tlf,ctc"},"port_security_enabled":{"description":"功能说明:端口安全使能标记,如果不使能则安全组和dhcp防欺骗不生效\n取值范围:启用(true)或禁用(false)","example":true,"type":"boolean","x-admin":"False","x-internal":"False","x-obc":"Y","x-open-region-cloud":"hc,hk,otc,tlf,ctc"},"project_id":{"description":"项目ID","pattern":"[0-9a-f]{32}","type":"string","x-admin":"False","x-internal":"False","x-obc":"Y","x-open-region-cloud":"hc,hk,otc,tlf,ctc"},"security_groups":{"description":"功能说明:作用在该端口上的安全组的ID列表\n约束:不支持更新为空","items":{"pattern":"[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}","type":"string"},"type":"array","x-admin":"False","x-internal":"False","x-obc":"Y","x-open-region-cloud":"hc,hk,otc,tlf,ctc"},"status":{"description":"功能说明:端口状态\n取值范围:ACTIVE,BUILD,DOWN\n约束:Hana硬直通虚拟机端口状态总为DOWN","maxLength":16,"minLength":0,"type":"string","x-admin":"False","x-internal":"False","x-obc":"Y","x-open-region-cloud":"hc,hk,otc,tlf,ctc"},"tenant_id":{"description":"项目ID","pattern":"[0-9a-f]{32}","type":"string","x-admin":"False","x-internal":"False","x-obc":"Y","x-open-region-cloud":"hc,hk,otc,tlf,ctc"},"updated_at":{"description":"功能说明:资源更新UTC时间\n格式:yyyy-MM-ddTHH:mm:ss","format":"date-time","type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc"}},"required":["admin_state_up","allowed_address_pairs","binding:profile","binding:vif_details","binding:vnic_type","created_at","device_id","device_owner","dns_assignment","dns_name","extra_dhcp_opts","fixed_ips","id","mac_address","name","network_id","port_security_enabled","project_id","security_groups","status","tenant_id","updated_at"]},"NeutronPortResponseBody":{"description":"","properties":{"port":{"$ref":"#/definitions/NeutronPort","description":"port对象","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,obc"}},"required":["port"]}},"description":null,"group_id":"4784d190da9948c381c1603ddda2f4ff","host":"vpc.cn-north-4.myhuaweicloud.com","id":"3a1838f399694924942c51e6cd599131","info_version":"v2","method":"post","name":"NeutronCreatePort","parameters":{},"paths":{"/v2.0/ports":{"post":{"consumes":[],"deprecated":false,"description":"创建端口。","operationId":"NeutronCreatePort","parameters":[{"description":"用户Token。 \n获取Token,请参考《统一身份认证服务API参考》的“获取用户Token”章节。请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,obc","x-order":1},{"description":"port对象列表,port对象必选字段:network_id","in":"body","name":"port","required":true,"schema":{"$ref":"#/definitions/NeutronCreatePortRequestBody"},"x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,obc","x-order":2}],"produces":[],"responses":{"201":{"description":"正常返回","examples":{"application/json":{"port":{"admin_state_up":true,"allowed_address_pairs":[],"binding:profile":{},"binding:vif_details":{},"binding:vnic_type":"normal","created_at":"2018-09-20T01:45:26","device_id":"","device_owner":"","extra_dhcp_opts":[],"fixed_ips":[],"id":"a7d98f3c-b42f-460b-96a1-07601e145961","mac_address":"fa:16:3e:01:f7:90","name":"port-test","network_id":"00ae08c5-f727-49ab-ad4b-b069398aa171","port_security_enabled":true,"project_id":"db82c9e1415a464ea68048baa8acc6b8","security_groups":["d0d58aa9-cda9-414c-9c52-6c3daf8534e6"],"status":"DOWN","tenant_id":"db82c9e1415a464ea68048baa8acc6b8","updated_at":"2018-09-20T01:45:26"}}},"schema":{"$ref":"#/definitions/NeutronPortResponseBody"}},"400":{"description":"服务器未能处理请求。","schema":{"$ref":"#/definitions/NeutronErrorResponseBody"}},"401":{"description":"被请求的页面需要用户名和密码。","schema":{"$ref":"#/definitions/NeutronErrorResponseBody"}},"403":{"description":"对被请求页面的访问被禁止。","schema":{"$ref":"#/definitions/NeutronErrorResponseBody"}},"404":{"description":"服务器无法找到被请求的页面。","schema":{"$ref":"#/definitions/NeutronErrorResponseBody"}},"409":{"description":"由于冲突,请求无法被完成。","schema":{"$ref":"#/definitions/NeutronErrorResponseBody"}},"500":{"description":"请求未完成。服务异常。","schema":{"$ref":"#/definitions/NeutronErrorResponseBody"}}},"summary":"创建端口","tags":["OpenStack - 端口"],"x-apiexplorer-hide":"false","x-constraint":"","x-first-open-time":"2016-6-30","x-hybridcloud":"true","x-is-registered":"Y","x-name":"创建端口","x-open-region-cloud":"hc,hk,otc,tlf,ctc,obc","x-order":79,"x-publishpath":"","x-request-examples-1":{"port":{"admin_state_up":true,"name":"port-test","network_id":"00ae08c5-f727-49ab-ad4b-b069398aa171"}},"x-request-examples-description-1":"","x-request-examples-text-1":"{\n\t\"port\": {\n\t\t\"admin_state_up\": true,\n\t\t\"network_id\": \"00ae08c5-f727-49ab-ad4b-b069398aa171\",\n\t\t\"name\": \"port-test\"\n\t}\n}","x-request-examples-url-1":"POST https://{Endpoint}/v2.0/ports","x-scope":"Commercial","x-source":"Native","x-support-sdk":"Y","x-version":"v2.0"}}},"product_short":"VPC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建端口","tags":"OpenStack - 端口","uri":null,"version":"2.0"}