{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"VaultAssociate":{"properties":{"add_policy_ids":{"description":"多策略场景下,绑定新策略的id列表。policy_id字段与add_policy_ids字段在一次请求中有且只有一个。","items":{"description":"","maxLength":10,"minLength":1,"type":"string"},"type":"array","x-open-region-cloud":"hc,hk"},"destination_vault_id":{"description":"目标vault ID , 只有设置复制策略时使用,而且必传","type":"string","x-open-region-cloud":"hc,hk"},"policy_id":{"description":"策略ID。policy_id字段与add_policy_ids字段在一次请求中有且只有一个。","type":"string"}}},"VaultAssociateResp":{"description":"存储库绑定策略响应体","properties":{"associate_policy":{"$ref":"#/definitions/VaultPolicyResp","description":"绑定策略详情","x-huawei-extraAnnotation":""}}},"VaultPolicyResp":{"description":"绑定策略返回体","properties":{"destination_vault_id":{"description":"目标region的vault ID,仅设置复制策略时有。","type":"string","x-open-region-cloud":"hc,hk"},"policy_id":{"description":"设置的策略ID","type":"string","x-huawei-extraAnnotation":""},"vault_id":{"description":"设置策略的vault ID","type":"string","x-huawei-extraAnnotation":""}},"required":["policy_id","vault_id"]}},"description":null,"group_id":"11b1e4b30d524dacb6891902e04115dd","host":"cbr.cn-north-4.myhuaweicloud.com","id":"0bcac94db9c243588990e36afb8375ae","info_version":"v1","method":"post","name":"AssociateVaultPolicy","parameters":{},"paths":{"/v3/{project_id}/vaults/{vault_id}/associatepolicy":{"post":{"consumes":[],"deprecated":false,"description":"存储库设置策略","operationId":"AssociateVaultPolicy","parameters":[{"description":"关联策略ID","in":"body","name":"AssociateVaultPolicyRequestBody","required":true,"schema":{"$ref":"#/definitions/VaultAssociate"},"x-order":1},{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string","x-order":2},{"description":"存储库ID","in":"path","name":"vault_id","required":true,"type":"string","x-order":3},{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX...","x-order":4}],"produces":[],"responses":{"200":{"description":"OK","examples":{"application/json":{"associate_policy":{"policy_id":"7075c397-25a0-43e2-a83a-bb16eaca3ee5","vault_id":"2402058d-8373-4b0a-b848-d3c0dfdc71a8"}}},"schema":{"$ref":"#/definitions/VaultAssociateResp"}}},"summary":"设置存储库策略","tags":["存储库"],"x-apiexplorer-hide":"false","x-constraint":"","x-first-open-time":"","x-hybridcloud":"","x-is-registered":"Y","x-name":"设置存储库策略","x-open-region-cloud":"hc,hk,otc,obc,ctc,hcso,sbc,g42,tm,cmcc,hk-g42,hcso_dt","x-order":29,"x-publishpath":"","x-request-examples-1":{"policy_id":"7075c397-25a0-43e2-a83a-bb16eaca3ee5"},"x-request-examples-description-1":"","x-request-examples-text-1":"{\n    \"policy_id\": \"7075c397-25a0-43e2-a83a-bb16eaca3ee5\"\n}","x-request-examples-url-1":"POST https://{endpoint}/v3/f841e01fd2b14e7fa41b6ae7aa6b0594/vaults/79bd9daa-884f-4f84-b8fe-235d58cd927d/associatepolicy","x-scope":"Commercial","x-source":"","x-support-sdk":"Y"}}},"product_short":"CBR","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"设置存储库策略","tags":"存储库","uri":null,"version":"2.0"}