{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"DistinctLocation":{"description":"","properties":{"availability_zone_id":{"description":"可用区ID","type":"string"},"region_id":{"description":"区域ID","type":"string"}},"required":["region_id"]},"DoubleRange":{"description":"资源取值范围,最大值最小值可取。\n约束:min<=max","properties":{"max":{"default":999999999.9,"description":"最大值,-1表示无限制","format":"double","type":"number"},"min":{"default":0,"description":"最小值,-1表示无限制","format":"double","type":"number"}}},"FlavorConstraint":{"description":"资源规格的筛选约束","properties":{"architecture_type":{"description":"接受的体系结构描述","items":{"description":"","enum":["x86_64","arm64"],"type":"string"},"type":"array"},"flavor_requirements":{"description":"资源的需求约束","items":{"$ref":"#/definitions/FlavorRequirement","description":""},"type":"array"}}},"FlavorRequirement":{"description":"对规格的资源需求约束","properties":{"cpu_manufacturers":{"description":"可选CPU制造商,不填表示接受所有","items":{"description":"","enum":["INTEL","AMD","OTHER"],"type":"string"},"type":"array"},"instance_generations":{"description":"接受的资源代系,不填表示接受所有","items":{"description":"","enum":["CURRENT","PREVIOUS"],"type":"string"},"type":"array"},"memory_gb_per_vcpu":{"$ref":"#/definitions/DoubleRange","description":"Flavor的单vcpu对应内存容量范围,内存单位GiB,不填表示接受所有"},"memory_mb":{"$ref":"#/definitions/IntegerRange","description":"规格的内存大小范围,单位是MiB,不填表示接受所有"},"vcpu_count":{"$ref":"#/definitions/IntegerRange","description":"规格的vcpu数量范围,不填表示接受所有"}}},"IntegerRange":{"description":"资源取值范围,最大值最小值可取。\n约束:min<=max","properties":{"max":{"default":2147483647,"description":"最大值,-1表示无限制","format":"int32","type":"integer"},"min":{"default":-2147483648,"description":"最小值,-1表示无限制","format":"int32","type":"integer"}}},"ListSupplyRecommendationRequestBody":{"description":"This is a auto create Body Object","properties":{"flavor_constraint":{"$ref":"#/definitions/FlavorConstraint","description":"资源供给规格的约束,给出规格列表时优先使用规格列表"},"flavor_ids":{"description":"接受推荐的规格列表","items":{"description":"","type":"string"},"type":"array","x-open-region-cloud":""},"limit":{"description":"查询返回的数量限制","maximum":1000,"minimum":1,"type":"integer"},"locations":{"description":"接受推荐的地域列表,默认接受所有区域","items":{"$ref":"#/definitions/DistinctLocation","description":""},"type":"array","x-open-region-cloud":""},"marker":{"description":"取值为上一页数据的最后一条记录的唯一标记","type":"string"},"option":{"$ref":"#/definitions/SupplyOption","description":"供给推荐的选项"},"strategy":{"default":"CAPACITY","description":"推荐的策略。\nCAPACITY:容量策略\nCOST:成本策略","enum":["CAPACITY","COST"],"type":"string","x-open-region-cloud":""}}},"ListSupplyRecommendationResponseBody":{"description":"This is a auto create Response Object","properties":{"supply_recommendations":{"description":"资源供给推荐结果","items":{"$ref":"#/definitions/SupplyRecommendation","description":""},"type":"array"}},"required":["supply_recommendations"]},"SupplyOption":{"description":"供给推荐的选项","properties":{"enable_spot":{"default":false,"description":"是否推荐竞价实例","type":"boolean"},"result_granularity":{"default":"BY_REGION","description":"推荐结果的粒度\nBY_REGION:对每个区域打分,可使用多种规格满足需求\nBY_AZ:对每个可用区打分\nBY_FLAVOR:对每个规格打分,可使用多地域满足需求\nBY_FLAVOR_AND_REGION:对每个区域下的每个规格打分\nBY_FLAVOR_AND_AZ:对每个可用区下的每个规格打分","enum":["BY_REGION","BY_AZ","BY_FLAVOR","BY_FLAVOR_AND_REGION","BY_FLAVOR_AND_AZ"],"type":"string"}}},"SupplyRecommendation":{"description":"资源供给推荐结果","properties":{"availability_zone_id":{"description":"可用区ID","type":"string"},"flavor_id":{"description":"实例规格ID","type":"string"},"region_id":{"description":"区域ID","type":"string"},"score":{"description":"推荐分数","format":"int32","maximum":10,"minimum":1,"type":"integer"}}}},"description":null,"group_id":"cae58f5b7ae14e1ca9c0f4f255390a96","host":"cms.myhuaweicloud.com","id":"9f52fa03e8f2447db697399913caac16","info_version":"v1","method":"post","name":"ListSupplyRecommendation","parameters":{},"paths":{"/v1/{domain_id}/recommendations/ecs-supply":{"post":{"consumes":[],"deprecated":false,"description":"对ECS的资源供给的地域和规格进行推荐,推荐结果以打分的形式呈现,分数越高推荐程度越高","operationId":"ListSupplyRecommendation","parameters":[{"description":"This is a recommend Body Object","in":"body","name":"ListSupplyRecommendationRequestBody","required":false,"schema":{"$ref":"#/definitions/ListSupplyRecommendationRequestBody"}},{"description":"租户域ID","in":"path","name":"domain_id","required":true,"type":"string","x-open-region-cloud":"","x-order":1},{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-open-region-cloud":"","x-order":2}],"produces":[],"responses":{"200":{"description":"OK","examples":{"application/json":{"supply_recommendations":[{"availability_zone_id":"az1","flavor_id":"c6.large.2","region_id":"region1","score":8}]}},"schema":{"$ref":"#/definitions/ListSupplyRecommendationResponseBody"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Internal Server Error"},"502":{"description":"Bad Gateway"}},"summary":"地域推荐","tags":["规格推荐管理"],"x-apiexplorer-hide":"false","x-constraint":"","x-first-open-time":"","x-is-registered":"Y","x-name":"地域推荐","x-open-region-cloud":"","x-order":4,"x-publishpath":"","x-request-examples-1":{"flavor_constraint":{"flavor_requirements":[{"memory_mb":{"max":8192,"min":4096},"vcpu_count":{"max":8,"min":2}}],"locations":[{"region_id":"region1"}],"option":{"result_granularity":"BY_FLAVOR_AND_AZ"},"strategy":"COST"}},"x-request-examples-description-1":"地域推荐请求示例","x-request-examples-url-1":"POST https://{endpoint}/v1/{domain_id}/recommendations/ecs-supply","x-scope":"Commercial","x-support-sdk":"Y","x-version":"v1"}}},"product_short":"CMS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"地域推荐","tags":"规格推荐管理","uri":null,"version":"2.0"}