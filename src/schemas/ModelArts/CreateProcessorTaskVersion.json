{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\",\"application/json\"]","definitions":{"CreateTaskVersionReq":{"description":"创建数据处理任务版本的请求体。","properties":{"create_version":{"description":"创建任务时是否同步创建一个任务版本。可选值如下:\n- true:创建任务时同步创建一个任务版本\n- false:创建任务时不创建任务版本(默认值)","type":"boolean"},"data_source":{"$ref":"#/definitions/ProcessorDataSource","description":"数据来源,与inputs二选一。"},"description":{"description":"数据处理任务描述,长度为0-256位,不能包含^!<>=&\"'特殊字符。","type":"string"},"inputs":{"description":"数据来源列表,与data_source二选一。","items":{"$ref":"#/definitions/ProcessorDataSource"},"type":"array"},"name":{"description":"数据处理任务名称。","type":"string"},"template":{"$ref":"#/definitions/TemplateParam","description":"数据处理模板,如算法ID和参数等。"},"version_id":{"description":"数据集版本ID。","type":"string"},"work_path":{"$ref":"#/definitions/WorkPath","description":"数据处理任务的工作目录。"},"workspace_id":{"description":"工作空间ID。未创建工作空间时默认值为“0”,存在创建并使用的工作空间,以实际取值为准。","type":"string"}},"required":["name"],"title":"CreateTaskVersionReq","type":"object"},"CreateTaskVersionResp":{"description":"创建数据处理任务版本的响应体。","properties":{"version_id":{"description":"数据处理任务的版本ID。","type":"string"}},"title":"CreateTaskVersionResp","type":"object"},"OperatorParam":{"description":"算子的参数列表。","properties":{"advanced_params_switch":{"description":"高级参数开关。","type":"boolean"},"id":{"description":"算子ID。","type":"string"},"name":{"description":"算子名称。","type":"string"},"params":{"description":"算子参数,参数类型是map<string,object>,object目前只支持Boolean、Integer、Long、String、List<String>、Map<String,String>类型。对于数据预处理任务比较特殊的两个场景物体检测和图像分类,键“task_type”对应的值为“object_detection”或“image_classification”。","properties":{},"type":"object"}},"title":"OperatorParam","type":"object"},"ProcessorDataSource":{"description":"数据处理任务的数据来源。","properties":{"name":{"description":"数据集的名称。","type":"string"},"source":{"description":"数据源所在路径。可选值如下:\n- 如果type是OBS,source为OBS路径。\n- 如果type是TASK,source为任务ID。\n- 如果type是DATASET,source为数据集ID。\n- 如果type是CUSTOM且是资源租户调用,source为真实用户的project_id, 否则不需要这个字段。","type":"string"},"type":{"description":"数据源类型。可选值如下:\n- OBS:数据来源于OBS\n- TASK:数据处理任务\n- DATASET:数据集\n- CUSTOM:资源租户调用","type":"string"},"version_id":{"description":"数据集的版本。","type":"string"},"version_name":{"description":"数据集的版本名称。","type":"string"}},"title":"ProcessorDataSource","type":"object"},"TemplateParam":{"description":"数据处理模板。","properties":{"id":{"description":"任务类型,即数据处理模板ID。可选值如下:\n- sys_data_analyse:特征分析\n- sys_data_cleaning:数据清洗\n- sys_data_augmentation:数据增强\n- sys_data_validation:数据校验\n- sys_data_selection:数据筛选","type":"string"},"name":{"description":"模板名称。","type":"string"},"operator_params":{"description":"算子的参数列表。","items":{"$ref":"#/definitions/OperatorParam"},"type":"array"}},"title":"TemplateParam","type":"object"},"WorkPath":{"description":"数据处理任务的工作路径。","properties":{"name":{"description":"数据集的名称。","type":"string"},"output_path":{"description":"输出路径,例如/datasets/demo。","type":"string"},"path":{"description":"工作路径。可选值如下:\n- 如果type是OBS,source为OBS路径。\n- 如果type是DATASET,source为数据集ID。","type":"string"},"type":{"description":"工作路径的类型。可选值如下:\n- OBS:OBS路径\n- DATASET:数据集","type":"string"},"version_id":{"description":"数据集的版本。","type":"string"},"version_name":{"description":"数据集的版本名称,名称仅包含数字、字母、中划线和下划线,长度是0-32位。","type":"string"}},"title":"WorkPath","type":"object"}},"description":null,"group_id":"ade740e866904a7dbdaa5ec0f538d4d0","host":"modelarts.cn-north-4.myhuaweicloud.com","id":"595607dc3b404822ba2ce60f2d537171","info_version":"v1","method":"post","name":"CreateProcessorTaskVersion","parameters":{},"paths":{"/v2/{project_id}/processor-tasks/{task_id}/versions":{"post":{"consumes":["application/json"],"description":"创建数据处理任务版本。","operationId":"CreateProcessorTaskVersion","parameters":[{"description":"用户项目ID。获取方法请参见[获取项目ID和名称](modelarts_03_0147.xml)。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"req","in":"body","name":"CreateProcessorTaskVersionRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateTaskVersionReq"}},{"description":"数据处理任务ID。","in":"path","name":"task_id","required":true,"type":"string"}],"produces":["application/json;charset=UTF-8"],"responses":{"200":{"description":"OK","examples":{"application/json":{"version_id":"qSaudx2sbPvthHygckA"}},"schema":{"$ref":"#/definitions/CreateTaskVersionResp"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"summary":"创建数据处理任务版本","tags":["处理任务"],"x-is-registered":"Y","x-open-region-cloud":"hc,fcs-super","x-publish-doc":"N","x-request-examples-1":{"description":"","inputs":[{"source":"PYc9H2HGv5BJNwBGXyK","type":"DATASET","version_id":"Osc8SZ7TZStiRV4vYkZ"}],"name":"PRE-e77c","template":{"id":"sys_data_validation","operator_params":[{"advanced_params_switch":false,"name":"MetaValidation","params":{"dataset_type":"manifest","filter_func":"data_validation_select","image_max_height":"1920","image_max_width":"1920","source_service":"select","task_type":"image_classification","total_status":"[0,1,2]"}}]},"work_path":{"path":"PYc9H2HGv5BJNwBGXyK","type":"DATASET","version_name":"V0011"},"workspace_id":"0"},"x-request-examples-description-1":"创建数据校验任务的版本。设置任务名称为“PRE-e77c”。","x-request-examples-text-1":{"description":"","inputs":[{"source":"PYc9H2HGv5BJNwBGXyK","type":"DATASET","version_id":"Osc8SZ7TZStiRV4vYkZ"}],"name":"PRE-e77c","template":{"id":"sys_data_validation","operator_params":[{"advanced_params_switch":false,"name":"MetaValidation","params":{"dataset_type":"manifest","filter_func":"data_validation_select","image_max_height":"1920","image_max_width":"1920","source_service":"select","task_type":"image_classification","total_status":"[0,1,2]"}}]},"work_path":{"path":"PYc9H2HGv5BJNwBGXyK","type":"DATASET","version_name":"V0011"},"workspace_id":"0"},"x-support-sdk":"N"}}},"product_short":"ModelArts","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"ApiTokenAuth":{"in":"header","name":"X-Auth-Token","type":"apiKey"}},"summary":"创建数据处理任务版本","tags":"数据管理(旧版)","uri":null,"version":"2.0"}