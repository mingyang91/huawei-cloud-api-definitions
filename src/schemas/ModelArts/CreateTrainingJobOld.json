{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\",\"application/json\"]","definitions":{"CreateTrainJobReq":{"properties":{"config":{"description":"创建训练作业需要的参数。","properties":{"app_url":{"description":"训练作业的代码目录。如:'/usr/app/'。应与boot_file_url一同出现,若填入model_id则app_url/boot_file_url和engine_id无需填写。","example":"/usr/app/","type":"string"},"boot_file_url":{"description":"训练作业的代码启动文件,需要在代码目录下。如:'/usr/app/boot.py'。应与app_url一同出现,若填入model_id则app_url/boot_file_url和engine_id无需填写。","example":"/usr/app/boot.py","type":"string"},"create_version":{"default":true,"description":"创建训练作业的同时是否创建版本。true:默认值,创建训练作业的同时创建版本。false:仅创建训练作业,不创建版本。","type":"boolean"},"data_source":{"description":"训练作业使用的数据集。不可与data_url或dataset_id/dataset_version_id同时使用。","items":{"example":{"data_url":"/usr/data1","type":"obs"},"properties":{"data_url":{"description":"OBS的桶路径,不可与dataset_id/dataset_version同时出现。","type":"string"},"dataset_id":{"description":"训练作业的数据集ID。应与dataset_version_id同时出现,但不可与data_url同时出现。","type":"string"},"dataset_version":{"description":"训练作业的数据集版本ID。应与dataset_id同时出现,但不可与data_url同时出现。","type":"string"},"type":{"description":"数据集类型。可选值:'obs'、'dataset'。obs与dataset不可同时出现。","type":"string"}}},"type":"array"},"data_url":{"description":"训练作业需要的数据集OBS路径URL,默认为空。如:'/usr/data/'。不可与data_source或者dataset_id/dataset_version_id同时出现,但必须有其一。","example":"/usr/data/","type":"string"},"dataset_id":{"description":"训练作业的数据集ID。应与dataset_version_id同时出现,但不可与data_url或data_source同时出现。","example":"38277e62-9e59-48f4-8d89-c8cf41622c24","type":"string"},"dataset_version_id":{"description":"训练作业的数据集版本ID。应与dataset_id同时出现,但不可与data_url或data_source同时出现。","example":"2ff0d6ba-c480-45ae-be41-09a8369bfc90","type":"string"},"engine_id":{"description":"训练作业选择的引擎规格ID,可调用查看作业引擎规格接口查询,默认为'1'。填入model_id后app_url/boot_file_url和engine_id无需填写。","example":1,"type":"integer"},"log_url":{"description":"训练作业的日志OBS输出路径URL,默认为空。如:'/usr/log/'。","example":"/usr/log/","type":"string"},"model_id":{"description":"训练作业的内置模型ID。填入model_id后app_url/boot_file_url和engine_id无需填写。","example":1,"type":"integer"},"parameter":{"description":"训练作业的运行参数。当为自定义镜像训练作业的时候,此参数为容器环境变量。","items":{"example":{"label":"learning_rate","value":"0.01"},"properties":{"label":{"description":"参数名称。","type":"string"},"value":{"description":"参数值。","type":"string"}}},"type":"array"},"pool_id":{"description":"专属资源池ID。可在ModelArts管理控制台,单击左侧“专属资源池”,在专属资源池列表中查看资源池ID。创建专属资源池作业时,pool_id必选,且不能与spec_id同时出现。","example":"poolda1c4b06","type":"string"},"spec_id":{"description":"训练作业选择的资源规格ID,可调用查看作业资源规格接口查询。","example":1,"type":"integer"},"train_url":{"description":"训练作业的输出文件OBS路径URL,默认为空,如:'/usr/train/'。","example":"/usr/train/","type":"string"},"user_command":{"description":"自定义镜像训练作业的自定义镜像的容器的启动命令。形式为:'bash /home/work/run_train.sh python /home/work/user-job-dir/app/train.py {python_file_parameter}'。","example":"bash -x /home/work/run_train.sh python /home/work/user-job-dir/app/mnist/mnist_softmax.py --data_url /home/work/user-job-dir/app/mnist_data","type":"string"},"user_image_url":{"description":"自定义镜像训练作业的自定义镜像的SWR-URL。如:'100.125.5.235:20202/jobmng/custom-cpu-base:1.0'。","example":"100.125.5.235:20202/jobmng/custom-cpu-base:1.0","type":"string"},"volumes":{"description":"训练作业可使用的存储卷。","items":{"properties":{"host_path":{"description":"主机文件系统类型的存储卷。","properties":{"dest_path":{"description":"训练作业的本地路径。","type":"string"},"read_only":{"default":false,"description":"dest_path 是否为只读权限,默认为读写权限。true:只读权限false:默认值,读写权限。","type":"boolean"},"src_path":{"description":"宿主机的本地路径。","type":"string"}},"required":["src_path","dest_path"]},"nfs":{"description":"共享文件系统类型的存储卷。仅支持运行于已联通共享文件系统网络的资源池的训练作业。","properties":{"dest_path":{"description":"训练作业的本地路径。","type":"string"},"id":{"description":"SFS Turbo文件系统ID。","type":"string"},"read_only":{"default":false,"description":"dest_path 是否为只读权限,默认为读写权限。true:只读权限false:默认值,读写权限。","type":"boolean"},"src_path":{"description":"SFS Turbo文件系统地址。","type":"string"}},"required":["id","src_path","dest_path"]}}},"type":"array"},"worker_server_num":{"description":"训练作业使用的节点数,最大值可调用查看作业资源规格接口查询。","example":1,"type":"integer"}},"required":["app_url","boot_file_url","model_id","worker_server_num","engine_id","spec_id","pool_id"]},"job_desc":{"description":"对训练作业的描述,默认为'NULL',字符串的长度限制为[0, 256]。","example":"This is a ModelArts job","type":"string"},"job_name":{"description":"训练作业名称。限制为1-20位只含数字、字母、下划线和中划线的名称。","example":"TestModelArtsJob","type":"string"},"workspace_id":{"description":"指定作业所处的工作空间,默认值为'0'。","example":"0","type":"string"}},"required":["job_name","config"]},"CreateTrainJobResponse":{"properties":{"create_time":{"description":"训练作业的创建时间,时间戳格式。","example":1524189990635,"type":"integer"},"error_code":{"description":"调用失败时的错误码,具体请参见错误码。\n\n调用成功时无此字段。","type":"string"},"error_message":{"description":"调用失败时的错误信息。\n\n调用成功时无此字段。","type":"string"},"is_success":{"description":"请求是否成功。","example":true,"type":"boolean"},"job_id":{"description":"训练作业的ID。","example":10,"type":"integer"},"job_name":{"description":"训练作业的名称。","example":"TestModelArtsJob","type":"string"},"resource_id":{"description":"训练作业的计费资源ID。","example":"jobafd08896","type":"string"},"status":{"description":"训练作业的运行状态。","example":1,"type":"integer"},"version_id":{"description":"训练作业的版本ID。","example":10,"type":"integer"},"version_name":{"description":"训练作业的版本名称。","type":"string"}}}},"description":null,"group_id":"ade740e866904a7dbdaa5ec0f538d4d0","host":"modelarts.cn-north-4.myhuaweicloud.com","id":"75a0cf67461642ae8fbaea243e0021fc","info_version":"v1","method":"post","name":"CreateTrainingJobOld","parameters":{},"paths":{"/v1/{project_id}/training-jobs":{"post":{"description":"创建一个训练作业。","operationId":"CreateTrainingJobOld","parameters":[{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."},{"description":"用户项目ID。获取方法请参见[获取项目ID和名称](modelarts_03_0147.xml)。","in":"path","name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"创建训练作业的请求体参数","in":"body","name":"CreateTrainingJobRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateTrainJobReq"}}],"responses":{"200":{"description":"创建训练作业成功的响应参数","examples":{"application/json":{"create_time":"1524189990635","is_success":true,"job_id":"10","job_name":"TestModelArtsJob","resource_id":"jobafd08896","status":"1","version_id":"10"}},"schema":{"$ref":"#/definitions/CreateTrainJobResponse"}}},"summary":"创建训练作业","tags":["训练作业管理(旧版)"],"x-is-registered":"Y","x-open-region-cloud":"hc,hk,fcs","x-publish-doc":"N","x-request-examples-1":{"config":{"app_url":"/usr/app/","boot_file_url":"/usr/app/boot.py","data_url":"/usr/data/","dataset_id":"38277e62-9e59-48f4-8d89-c8cf41622c24","dataset_version_id":"2ff0d6ba-c480-45ae-be41-09a8369bfc90","engine_id":1,"log_url":"/usr/log/","model_id":1,"parameter":[{"label":"learning_rate","value":"0.01"},{"label":"batch_size","value":"32"}],"spec_id":1,"train_url":"/usr/train/","worker_server_num":1},"job_desc":"This is a ModelArts job","job_name":"TestModelArtsJob","workspace_id":"af261af2218841ec960b01ab3cf1a5fa"},"x-request-examples-text-1":{"config":{"app_url":"/usr/app/","boot_file_url":"/usr/app/boot.py","data_url":"/usr/data/","dataset_id":"38277e62-9e59-48f4-8d89-c8cf41622c24","dataset_version_id":"2ff0d6ba-c480-45ae-be41-09a8369bfc90","engine_id":1,"log_url":"/usr/log/","model_id":1,"parameter":[{"label":"learning_rate","value":"0.01"},{"label":"batch_size","value":"32"}],"spec_id":1,"train_url":"/usr/train/","worker_server_num":1},"job_desc":"This is a ModelArts job","job_name":"TestModelArtsJob","workspace_id":"af261af2218841ec960b01ab3cf1a5fa"},"x-request-examples-url-1":"POST https://{endpoint}/v1/{project_id}/training-jobs","x-support-sdk":"N"}}},"product_short":"ModelArts","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"ApiTokenAuth":{"in":"header","name":"X-Auth-Token","type":"apiKey"}},"summary":"创建训练作业","tags":"训练作业管理(旧版)","uri":null,"version":"2.0"}