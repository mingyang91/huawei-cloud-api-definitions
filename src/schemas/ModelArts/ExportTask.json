{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\",\"application/json\"]","definitions":{"ExportParams":{"description":"导出数据集任务的参数。","properties":{"clear_hard_property":{"description":"是否清空难例属性。可选值如下:\n- true:清空难例属性(默认值)\n- false:不清空难例属性","type":"boolean"},"export_dataset_version_format":{"description":"导出数据集版本的格式。","type":"string"},"export_dataset_version_name":{"description":"导出数据集版本的名称。","type":"string"},"export_dest":{"description":"数据集导出类型。可选值如下:\n- DIR:导出到OBS(默认值)\n- NEW_DATASET:导出到新数据集","type":"string"},"export_new_dataset_name":{"description":"导出新数据集的名称。","type":"string"},"export_new_dataset_work_path":{"description":"导出新数据集的工作目录。","type":"string"},"ratio_sample_usage":{"description":"指定切分比例后,是否按指定比例随机分配训练-验证集。可选值如下:\n- true:主动随机分配训练集-验证集\n- false:不主动随机分配训练集-验证集(默认值)","type":"boolean"},"sample_state":{"description":"样本状态。可选样本状态如下:\n- \\_\\_ALL\\_\\_:已标注\n- \\_\\_NONE\\_\\_:未标注\n- \\_\\_UNCHECK\\_\\_:待验收\n- \\_\\_ACCEPTED\\_\\_:验收通过\n- \\_\\_REJECTED\\_\\_:已驳回\n- \\_\\_UNREVIEWED\\_\\_:待审核\n- \\_\\_REVIEWED\\_\\_:已审核\n- \\_\\_WORKFORCE_SAMPLED\\_\\_:已采样\n- \\_\\_WORKFORCE_SAMPLED_UNCHECK\\_\\_:采样待验收\n- \\_\\_WORKFORCE_SAMPLED_CHECKED\\_\\_:采样已验收\n- \\_\\_WORKFORCE_SAMPLED_ACCEPTED\\_\\_:采样已通过\n- \\_\\_WORKFORCE_SAMPLED_REJECTED\\_\\_:采样已驳回\n- \\_\\_AUTO_ANNOTATION\\_\\_:待确认","type":"string"},"samples":{"description":"导出的样本ID列表。","items":{"type":"string"},"type":"array"},"search_conditions":{"description":"导出的筛选条件,多个条件之间是或(OR)关系。","items":{"$ref":"#/definitions/SearchCondition"},"type":"array"},"train_sample_ratio":{"description":"指定发布版本时训练集-验证集的切分比例,默认为1.00,即全部分为训练集。","type":"string"}},"title":"ExportParams","type":"object"},"ExportReq":{"description":"创建导出任务的请求体。","properties":{"annotation_format":{"description":"标注格式。当前可取以下值:\n- VOC:VOC格式\n- COCO:COCO格式","type":"string"},"export_format":{"description":"导出的目录格式。可选值如下:\n- 1:树状结构。如:rabbits/1.jpg,bees/2.jpg。\n- 2:平铺结构。如:1.jpg, 1.txt;2.jpg,2.txt。","format":"int32","type":"integer"},"export_params":{"$ref":"#/definitions/ExportParams","description":"导出数据集任务的参数。"},"export_type":{"description":"导出类型。可选值如下:\n- 0:已标注\n- 1:未标注\n- 2:全部\n- 3:条件筛选","format":"int32","type":"integer"},"path":{"description":"导出到OBS的输出路径。导出数据到OBS或者导出为新的数据集时该参数必传。","type":"string"},"sample_state":{"description":"样本状态。可选样本状态如下:\n- \\_\\_ALL\\_\\_:已标注\n- \\_\\_NONE\\_\\_:未标注\n- \\_\\_UNCHECK\\_\\_:待验收\n- \\_\\_ACCEPTED\\_\\_:验收通过\n- \\_\\_REJECTED\\_\\_:已驳回\n- \\_\\_UNREVIEWED\\_\\_:待审核\n- \\_\\_REVIEWED\\_\\_:已审核\n- \\_\\_WORKFORCE_SAMPLED\\_\\_:已采样\n- \\_\\_WORKFORCE_SAMPLED_UNCHECK\\_\\_:采样待验收\n- \\_\\_WORKFORCE_SAMPLED_CHECKED\\_\\_:采样已验收\n- \\_\\_WORKFORCE_SAMPLED_ACCEPTED\\_\\_:采样已通过\n- \\_\\_WORKFORCE_SAMPLED_REJECTED\\_\\_:采样已驳回\n- \\_\\_AUTO_ANNOTATION\\_\\_:待确认","type":"string"},"source_type_header":{"description":"指定导出标注文件中的OBS路径前缀,默认为“obs://”,支持指定“s3://”。由于训练无法解析以“obs”开头图片路径,需要导出manifest中的路径前缀为“s3://”。","type":"string"},"status":{"description":"任务状态。","format":"int32","type":"integer"},"task_id":{"description":"任务ID。","type":"string"},"version_format":{"description":"数据集版本格式。可选值如下:\n- Default:默认格式\n- CarbonData:Carbon格式(仅表格数据集支持)\n- CSV:CSV格式","type":"string"},"version_id":{"description":"数据集版本ID。当导出数据集某一版本的数据时,需要指定该参数。","type":"string"},"with_column_header":{"description":"导出时是否将列名写到CSV文件的第一行,对于表格数据集有效。可选值如下:\n- true:导出时将列名写到CSV文件的第一行(默认值)\n- false:导出时不将列名写到CSV文件的第一行","type":"boolean"}},"title":"ExportReq"},"ExportResp":{"description":"创建导出任务的响应体。","properties":{"create_time":{"description":"任务创建时间。","format":"int64","type":"integer"},"error_code":{"description":"错误码。","type":"string"},"error_msg":{"description":"错误信息。","type":"string"},"export_format":{"description":"导出的目录格式。可选值如下:\n- 1:树状结构。如:rabbits/1.jpg,bees/2.jpg。\n- 2:平铺结构。如:1.jpg, 1.txt;2.jpg,2.txt。","format":"int32","type":"integer"},"export_params":{"$ref":"#/definitions/ExportParams","description":"导出数据集任务的参数。"},"export_type":{"description":"导出类型。可选值如下:\n- 0:已标注\n- 1:未标注\n- 2:全部\n- 3:条件筛选","format":"int32","type":"integer"},"finished_sample_count":{"description":"已完成的样本数量。","format":"int32","type":"integer"},"path":{"description":"导出的输出路径。","type":"string"},"progress":{"description":"任务当前进度百分比。","format":"float","type":"number"},"status":{"description":"任务状态。可选值如下:\n- INIT:初始化\n- RUNNING:运行中\n- FAILED:已失败\n- SUCCESSED:已完成","type":"string"},"task_id":{"description":"任务ID。","type":"string"},"total_sample_count":{"description":"样本总数量。","format":"int32","type":"integer"},"update_time":{"description":"任务更新时间。","format":"int64","type":"integer"},"version_format":{"description":"数据集版本格式。可选值如下:\n- Default:默认格式\n- CarbonData:Carbon格式(仅表格数据集支持)\n- CSV:CSV格式","type":"string"},"version_id":{"description":"数据集版本ID。","type":"string"}},"title":"ExportResp","type":"object"},"SearchCondition":{"description":"搜索条件。","properties":{"coefficient":{"description":"根据难度系数筛选。","type":"string"},"frame_in_video":{"description":"视频中某帧。","format":"int32","type":"integer"},"hard":{"description":"样本级别是否难例。可选值如下:\n- 0:非难例样本\n- 1:难例样本","type":"string"},"import_origin":{"description":"根据数据来源筛选。","type":"string"},"kvp":{"description":"CT剂量,通过剂量来筛选。","type":"string"},"label_list":{"$ref":"#/definitions/SearchLabels","description":"标签搜索条件。"},"labeler":{"description":"标注人。","type":"string"},"metadata":{"$ref":"#/definitions/SearchProp","description":"通过样本属性搜索。"},"parent_sample_id":{"description":"父样本ID。","type":"string"},"sample_dir":{"description":"根据样本所在目录搜索(目录需要以/结尾),只搜索指定目录下的样本,不支持目录递归搜索。","type":"string"},"sample_name":{"description":"根据样本名称搜索(含后缀名)。","type":"string"},"sample_time":{"description":"样本加入到数据集时,会根据样本在OBS上的最后修改时间(精确到天)建立索引,此处可以根据此时间进行搜索。可选值如下:\n- month:搜索往前30天至今天内添加的样本\n- day:搜索昨天(往前1天)至今天内添加的样本\n- yyyyMMdd-yyyyMMdd:搜索指定时间段内添加的样本,格式为“起始日期-结束日期”,查询天数不能超过**30**天。例如:“20190901-2019091501”表示搜索2019年9月1日至2019年9月15日期间的样本。","type":"string"},"score":{"description":"根据置信度筛选。","type":"string"},"slice_thickness":{"description":"DICOM层厚,通过层厚筛选样本。","type":"string"},"study_date":{"description":"DICOM扫描时间。","type":"string"},"time_in_video":{"description":"视频中某个时间。","type":"string"}},"title":"SearchCondition","type":"object"},"SearchLabel":{"description":"单个标签搜索条件。","properties":{"name":{"description":"标签名。","type":"string"},"op":{"description":"多个属性之间的操作类型。可选值如下:\n- OR:或操作\n- AND:与操作","type":"string"},"property":{"additionalProperties":{"items":{"type":"string"},"type":"array"},"description":"标签属性,是Object格式,存放任意的键值对;key是属性名称,value是取值列表,如value为null表示不根据值搜索,否则搜索的值满足列表中任意一个即可。","type":"object"},"type":{"description":"标签类型。可选值如下:\n- 0:图像分类\n- 1:物体检测\n- 3: 图像分割\n- 100:文本分类\n- 101:命名实体\n- 102:文本三元组关系标签\n- 103:文本三元组实体标签\n- 200:语音分类\n- 201:语音内容\n- 202:语音分割\n- 600:视频标注","format":"int32","type":"integer"}},"title":"SearchLabel","type":"object"},"SearchLabels":{"description":"标签搜索条件。","properties":{"labels":{"description":"标签搜索条件列表。","items":{"$ref":"#/definitions/SearchLabel"},"type":"array"},"op":{"description":"如要搜索多个标签,则op需要有值;如果只搜索一个标签,则无需指定op的值。可选值如下:\n- OR:或操作\n- AND:与操作","type":"string"}},"title":"SearchLabels","type":"object"},"SearchProp":{"description":"样本属性搜索条件。","properties":{"op":{"description":"多个属性值之间的关系。可选值如下:\n- AND:与关系\n- OR:或关系","type":"string"},"props":{"additionalProperties":{"items":{"type":"string"},"type":"array"},"description":"属性的搜索条件,可以有多个属性条件。","type":"object"}},"title":"SearchProp","type":"object"}},"description":null,"group_id":"ade740e866904a7dbdaa5ec0f538d4d0","host":"modelarts.cn-north-4.myhuaweicloud.com","id":"ab565e67f447466b82c672bd764b0433","info_version":"v1","method":"post","name":"ExportTask","parameters":{},"paths":{"/v2/{project_id}/datasets/{dataset_id}/export-tasks":{"post":{"consumes":["application/json"],"description":"创建数据集导出任务,可导出至OBS或新数据集。","operationId":"ExportTask","parameters":[{"description":"数据集ID。","in":"path","name":"dataset_id","required":true,"type":"string"},{"description":"用户项目ID。获取方法请参见[获取项目ID和名称](modelarts_03_0147.xml)。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"创建导出任务的请求体。","in":"body","name":"ExportTaskRequestBody","required":true,"schema":{"$ref":"#/definitions/ExportReq"}}],"produces":["application/json;charset=UTF-8"],"responses":{"200":{"description":"OK","examples":{"application/json":{"task_id":"rF9NNoB56k5rtYKg2Y7"}},"schema":{"$ref":"#/definitions/ExportResp"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"summary":"创建数据集导出任务","tags":["数据导出任务"],"x-is-registered":"Y","x-open-region-cloud":"hc,hk,fcs,fcs-super","x-publish-doc":"N","x-request-examples-1":{"export_params":{"export_dest":"DIR","sample_state":""},"export_type":3,"path":"/test-obs/daoChu/"},"x-request-examples-2":{"export_params":{"export_dest":"NEW_DATASET","export_new_dataset_name":"dataset-export-test","export_new_dataset_work_path":"/test-obs/classify/output/","sample_state":""},"export_type":3,"path":"/test-obs/classify/input/"},"x-request-examples-description-1":"创建导出(导出到OBS)任务","x-request-examples-description-2":"创建导出(导出新数据集)任务","x-request-examples-text-1":{"export_params":{"export_dest":"DIR","sample_state":""},"export_type":3,"path":"/test-obs/daoChu/"},"x-request-examples-text-2":{"export_params":{"export_dest":"NEW_DATASET","export_new_dataset_name":"dataset-export-test","export_new_dataset_work_path":"/test-obs/classify/output/","sample_state":""},"export_type":3,"path":"/test-obs/classify/input/"},"x-support-sdk":"N"}}},"product_short":"ModelArts","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"ApiTokenAuth":{"in":"header","name":"X-Auth-Token","type":"apiKey"}},"summary":"创建数据集导出任务","tags":"数据管理(旧版)","uri":null,"version":"2.0"}