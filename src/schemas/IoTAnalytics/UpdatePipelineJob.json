{"base_path":null,"components":null,"consumes":"","definitions":{"ErrorResponseDto":{"description":"作业监控信息响应","properties":{"error_code":{"description":"错误码","maxLength":100,"minLength":1,"type":"string"},"error_msg":{"description":"错误消息","maxLength":1024,"minLength":0,"type":"string"}},"title":"作业监控信息响应","type":"object","x-annotations":["@JsonInclude(JsonInclude.Include.NON_NULL)"],"x-imports":["com.fasterxml.jackson.annotation.JsonInclude"],"x-java-class":"com.huawei.iot.iota.rtaj.api.dto.response.ErrorResponseDto"},"PipelineJobConfigDto":{"additionalProperties":{"properties":{},"type":"object"},"description":"管道作业详细配置,每个作业可选择不同的算子进行组合,各算子的使用方法详见:数据管道算子配置指南。","example":{"definition":{"pipelineDescription":"IoTDA产品数据接入管道","pipelineName":"IoTDAPipeline"},"operatorInstances":[{"className":"IoTDASource","configs":{"basicConfigs":{"dataSourceId":"xxx","eventTime":{"jsonPath":"body.services[0].event_time","pattern":"yyyyMMdd’T’HHmmss’Z’"},"name":"xxx"}},"id":"operator1"},{"className":"ProductFilter","configs":{"basicConfigs":{"appId":"xxx","name":"xxx产品","productId":"xxx"}},"fromOperators":[{"id":"operator1"}],"id":"operator2"},{"className":"DataStoreSink","configs":{"basicConfigs":{"dataStore":{"dataStoreGroupId":"xxx","dataStoreId":"xxx","dataStoreName":"xxx","dataStoreProperty":{"deviceId":"header.device_id","properties":[{"existingProperty":"body.services[?(@.service_id=='Battery')].properties.batteryLevel","name":"xxx","type":"INTEGER"},{"existingProperty":"body.services[?(@.service_id=='Battery')].properties.batteryThreshold","name":"Battery_batteryThreshold","type":"INTEGER"}]}},"name":"xx产品的数据输出"}},"fromOperators":[{"id":"operator2"}],"id":"operator3"}]},"title":"管道配置","type":"object","x-Type":"Map<String, Object>","x-annotations":["@JsonInclude(JsonInclude.Include.NON_NULL)","@Size(max = 100)"],"x-imports":["com.fasterxml.jackson.annotation.JsonInclude"],"x-java-class":"com.huawei.iot.iota.rtaj.api.dto.PipelineJobConfigDto"},"PipelineUpdateResponseDto":{"description":"修改管道响应信息","properties":{"check_info":{"additionalProperties":{"properties":{},"type":"object"},"description":"管道错误详情","example":{"ak":"ak can not be null.","parallelism":"parallelism must be greater than 0"},"type":"object","x-Type":"Map<String, Object>"},"pipeline_id":{"description":"管道ID","maxLength":100,"minLength":1,"type":"string"},"pipeline_state":{"description":"管道状态","maxLength":100,"minLength":1,"type":"string"},"status":{"description":"操作结果","maxLength":100,"minLength":1,"type":"string"}},"title":"修改管道响应信息","type":"object","x-annotations":["@JsonInclude(JsonInclude.Include.NON_NULL)"],"x-imports":["com.fasterxml.jackson.annotation.JsonInclude"],"x-java-class":"com.huawei.iot.iota.rtaj.api.dto.response.PipelineUpdateResponseDto"}},"description":null,"group_id":"cfd5b7ef8cbe41c8b49ff6f50523b75d","host":"iota.cn-north-4.myhuaweicloud.com","id":"cf1f7705e7d24e8a8038e0341f781d6b","info_version":"v1","method":"put","name":"UpdatePipelineJob","parameters":{},"paths":{"/v1/{project_id}/pipelines/{pipeline_id}":{"put":{"consumes":["application/json"],"deprecated":false,"description":"更新管道作业时,需要在URL中指定是更新哪一个作业,将在body中附带完整的作业信息。(管道作业详细配置,每个作业可选择不同的算子进行组合,各算子的使用方法详见:数据管道算子配置指南。) check参数表示是否需要对作业配置进行检查,若为false,则不检查,将作业保存为草稿;若为true,则对作业配置进行检查。当检查不通过时,将作业状态修改为草稿;检查通过时,将作业状态修改为就绪,并返回成功。","operationId":"UpdatePipelineJob","parameters":[{"description":"Token","in":"header","maxLength":65535,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-annotations":"@Size(min = 1, max = 65535)"},{"description":"项目ID","in":"path","maxLength":100,"minLength":1,"name":"project_id","pattern":"^[A-Za-z0-9_]+$","required":true,"type":"string","x-annotations":"@Size(min = 1, max = 100)"},{"description":"是否需要校验配置是否正确","in":"query","name":"check","required":false,"type":"boolean"},{"description":"管道作业详细配置(管道作业详细配置,每个作业可选择不同的算子进行组合,各算子的使用方法详见:数据管道算子配置指南。)","in":"body","name":"UpdatePipelineJobRequestBody","required":true,"schema":{"$ref":"#/definitions/PipelineJobConfigDto"}},{"description":"管道ID","in":"path","maxLength":32,"minLength":1,"name":"pipeline_id","pattern":"^[A-Za-z0-9_]+$","required":true,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/PipelineUpdateResponseDto"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/ErrorResponseDto"},"x-Error":["IoTA.03011001","IoTA.03011002","IoTA.03011003","IoTA.03011004","IoTA.03011005","IoTA.03011008","IoTA.03011009","IoTA.03011011","IoTA.03011015","IoTA.99000010"]},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/ErrorResponseDto"},"x-Error":["IoTA.99000003"]},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponseDto"},"x-Error":["IoTA.99000007","IoTA.99000008","IoTA.99000009"]},"404":{"description":"Not Found","x-Error":["IoTA.03011012"]},"405":{"description":"Method Not Allowed"},"409":{"description":"Conflict","x-Error":["IoTA.03011006"]},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/ErrorResponseDto"},"x-Error":["IoTA.99999999"]}},"summary":"更新管道作业","tags":["PipelineManagement"],"x-externalAPI":true,"x-iftype":"OpenAPI","x-imports":["org.springframework.http.ResponseEntity"],"x-is-registered":"Y","x-open-for-CLOUD":"Y","x-open-for-HCS":"Y","x-returnType":"ResponseEntity<PipelineUpdateResponseDto>","x-support-sdk":"Y"}}},"product_short":"IoTAnalytics","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"更新管道作业","tags":"管道作业管理","uri":null,"version":"2.0"}