{"base_path":null,"components":null,"consumes":"","definitions":{"AggregateModel":{"description":"聚合计算","properties":{"expression":{"$ref":"#/definitions/Expression","description":"表达式定义"},"inputs":{"description":"输入参数,最多支持10个","items":{"$ref":"#/definitions/InputModel"},"maxItems":10,"type":"array"},"output_property":{"description":"输出属性名(分析任务单输出场景,配合expression的formula使用)","type":"string","x-maxLength":128},"outputs":{"description":"输出属性,最多支持10个","items":{"$ref":"#/definitions/OutputWithModel"},"maxItems":10,"type":"array"},"schedule":{"$ref":"#/definitions/DTSchedule","description":"调度策略"}},"required":["inputs","expression","schedule"],"x-annotations":"@JsonInclude(JsonInclude.Include.NON_NULL)","x-imports":"com.fasterxml.jackson.annotation.JsonInclude","x-java-class":"com.huawei.iot.dtvision.api.model.AggregateModel"},"AnalysisModelRequest":{"description":"分析任务","properties":{"aggregate":{"$ref":"#/definitions/AggregateModel","description":"聚合计算类型分析任务定义"},"display_name":{"description":"分析任务显示名称,正则:\"^[\\\\u4E00-\\\\u9FA5A-Za-z0-9_@#.-]{1,64}$\"","pattern":"^[\\u4E00-\\u9FA5A-Za-z0-9_@#.-]{1,64}$","type":"string","x-maxLength":64},"name":{"description":"分析任务名称,正则:\"^[a-zA-Z][a-zA-Z0-9_]{0,63}$\"","pattern":"^[a-zA-Z][a-zA-Z0-9_]{0,63}$","type":"string","x-maxLength":64},"stream":{"$ref":"#/definitions/StreamModel","description":"流计算类型分析任务定义"},"transform":{"$ref":"#/definitions/TransformModel","description":"转换计算类型分析任务定义"},"type":{"description":"分析任务类型,转换计算(transform)、聚合计算(aggregate)、流计算(stream)","pattern":"transform|aggregate|stream","type":"string"}},"required":["name","type"],"x-annotations":"@JsonInclude(JsonInclude.Include.NON_NULL)","x-imports":"com.fasterxml.jackson.annotation.JsonInclude","x-java-class":"com.huawei.iot.dtvision.api.model.AnalysisModelRequest"},"AnalysisModelResponse":{"allOf":[{"properties":{"analysis_id":{"description":"分析任务ID","type":"string"}},"type":"object","x-annotations":"@JsonInclude(JsonInclude.Include.NON_NULL)","x-imports":"com.fasterxml.jackson.annotation.JsonInclude"},{"$ref":"#/definitions/AnalysisModelRequest"}],"x-java-class":"com.huawei.iot.dtvision.api.model.AnalysisModelResponse"},"AssetModelResponse":{"properties":{"analyses":{"description":"分析任务集","items":{"$ref":"#/definitions/AnalysisModelResponse"},"type":"array"},"asset_model_id":{"description":"模型ID","type":"string"},"created_time":{"description":"创建时间","type":"string"},"display_name":{"description":"模型显示名称","type":"string"},"modified_time":{"description":"修改时间","type":"string"},"name":{"description":"模型名称","type":"string"},"properties":{"description":"属性集","items":{"$ref":"#/definitions/PropertyModelResponse"},"type":"array"}},"x-annotations":"@JsonInclude(JsonInclude.Include.NON_NULL)","x-imports":"com.fasterxml.jackson.annotation.JsonInclude","x-java-class":"com.huawei.iot.dtvision.api.model.AssetModelResponse"},"DTSchedule":{"description":"调度策略","properties":{"period":{"description":"调度周期,正则: \"1m|5m|15m|1h\",表示从每小时第0分0秒开始,每1m、5m、15m、1h调度","pattern":"1m|5m|15m|1h","type":"string"}},"required":["period"],"x-java-class":"com.huawei.iot.dtvision.api.model.DTSchedule"},"DataSchema":{"description":"数据格式","properties":{"data_type":{"description":"数据类型,字符串(string)、整数(integer)、浮点数(double)、对象(object),系统支持的对象型存储大小为1MB,超过时不予存储","pattern":"string|integer|double|object","type":"string"},"max":{"description":"integer或double类型的最大值,当属性值超过范围时系统不予存储,integer时范围:-9223372036854775808 ~ 9223372036854775807;double时范围:-1.7976931348623157E308 ~ 1.7976931348623157E308","type":"number"},"max_length":{"description":"string类型的最大长度,当属性值超过范围时系统不予存储,范围:0 ~ 4096","format":"int32","type":"integer"},"min":{"description":"integer或double类型的的最小值,当属性值超过范围时系统不予存储,integer时范围:-9223372036854775808 ~ 9223372036854775807;double时范围:-1.7976931348623157E308 ~ 1.7976931348623157E308","type":"number"},"min_length":{"description":"string类型的最小长度,当属性值超过范围时系统不予存储,范围:0 ~ 4096","format":"int32","type":"integer"}},"required":["data_type"],"x-annotations":"@JsonInclude(JsonInclude.Include.NON_NULL)","x-imports":"com.fasterxml.jackson.annotation.JsonInclude","x-java-class":"com.huawei.iot.dtvision.api.model.DataSchema"},"Expression":{"allOf":[{"properties":{"time_range":{"description":"时间范围,调度时间往前的时间范围,比如1m表示调度时间往前1分钟到调度时间的时间范围,正则:\"1m|5m|15m|1h\"","pattern":"1m|5m|15m|1h","type":"string"}},"required":["time_range"],"type":"object","x-annotations":"@JsonInclude(JsonInclude.Include.NON_NULL)","x-imports":"com.fasterxml.jackson.annotation.JsonInclude"},{"$ref":"#/definitions/Formula"}],"description":"表达式","x-java-class":"com.huawei.iot.dtvision.api.model.Expression"},"Formula":{"description":"表达式","properties":{"formula":{"description":"公式,最多1024个字符(分析任务单输出场景,配合TransformModel或AggregateModel的output_property使用)","type":"string","x-maxLength":1024},"formulas":{"description":"带名称的公式","items":{"$ref":"#/definitions/NamedFormula"},"type":"array"}},"x-annotations":"@JsonInclude(JsonInclude.Include.NON_NULL)","x-imports":"com.fasterxml.jackson.annotation.JsonInclude","x-java-class":"com.huawei.iot.dtvision.api.model.Formula"},"InputModel":{"properties":{"name":{"description":"参数名称,正则:\"^[A-Za-z][A-Za-z_]{0,31}$\"","pattern":"^[A-Za-z][A-Za-z_]{0,31}$","type":"string","x-maxLength":32},"property_reference":{"$ref":"#/definitions/PropertyReferenceModel","description":"输入参数的属性引用定义"}},"required":["name","property_reference"],"x-java-class":"com.huawei.iot.dtvision.api.model.InputModel"},"NamedFormula":{"description":"带名称的公式","properties":{"formula":{"description":"公式,最多1024个字符","type":"string","x-maxLength":1024},"name":{"description":"公式名称,不能和输入参数名重复,正则:\"^[A-Za-z][A-Za-z_]{0,31}$\"","pattern":"^[A-Za-z][A-Za-z_]{0,31}$","type":"string","x-maxLength":32}},"required":["name","formula"]},"OutputWithModel":{"description":"输出映射","properties":{"name":{"description":"输出参数名称,formulas中定义的name","type":"string","x-maxLength":128},"output_asset_model_id":{"description":"输出模型ID,如果输出到本模型可以不携带;使用导入模型和导出模型接口时,该字段无效","type":"string","x-maxLength":128},"output_asset_model_name":{"description":"输出模型名称,请求中携带该字段时可以不携带output_asset_model_id","type":"string","x-maxLength":64},"output_property":{"description":"输出属性名","type":"string","x-maxLength":128}},"required":["name","output_property"],"x-annotations":"@JsonInclude(JsonInclude.Include.NON_NULL)","x-imports":"com.fasterxml.jackson.annotation.JsonInclude"},"PropertyModelRequest":{"properties":{"data_schema":{"$ref":"#/definitions/DataSchema","description":"属性数据格式定义"},"display_name":{"description":"属性显示名称,正则:\"^[\\\\u4E00-\\\\u9FA5A-Za-z0-9_@#.-]{1,64}$\"","pattern":"^[\\u4E00-\\u9FA5A-Za-z0-9_@#.-]{1,64}$","type":"string","x-maxLength":64},"is_tag":{"description":"属性是否为标签。资产ID、标签属性、时间戳三者组成属性数据唯一键,两条唯一键相同的属性数据以覆盖方式存储;一个模型中只能配置三个属性为标签,标签配置后标签不能删除,配置标签的属性也不能删除;只有integer、double、string类型的属性可以被配置为标签。示例:\n资产ID asset1上依次上报如下六组数据: 资产ID 属性A(标签) 属性B    属性C 时间戳 asset1 valueA_1     valueB_1  valueC_1 T1 asset1 valueA_1     valueB_2  valueC_2 T2 asset1 valueA_2     valueB_3  valueC_3 T2 asset1 valueA_2     valueB_4  valueC_4 T2 asset1              valueB_5  valueC_5 T3 asset1              valueB_6  valueC_6 T3\n根据唯一键规则最终存储为如下四组数据: 资产ID 属性A(标签) 属性B    属性C 时间戳 asset1 valueA_1     valueB_1  valueC_1 T1 asset1 valueA_1     valueB_2  valueC_2 T2 asset1 valueA_2     valueB_4  valueC_4 T2 asset1              valueB_6  valueC_6 T3","type":"boolean"},"name":{"description":"属性名称,正则:\"^[a-zA-Z0-9_]{1,64}$\"","pattern":"^[a-zA-Z0-9_]{1,64}$","type":"string","x-maxLength":64},"source_type":{"description":"属性类别,静态配置(static)、测量数据(measurement)、分析任务(analysis)","pattern":"static|measurement|analysis","type":"string"},"unit":{"description":"单位","type":"string","x-maxLength":64,"x-minLength":1},"value":{"description":"静态属性的值,如:1 1.1 \"value\" {\"name\":\"value\"}","type":"object"}},"required":["name","source_type","data_schema"],"x-annotations":"@JsonInclude(JsonInclude.Include.NON_NULL)","x-imports":"com.fasterxml.jackson.annotation.JsonInclude","x-java-class":"com.huawei.iot.dtvision.api.model.PropertyModelRequest"},"PropertyModelResponse":{"allOf":[{"properties":{"property_id":{"description":"属性ID","type":"string"}},"type":"object","x-annotations":"@JsonInclude(JsonInclude.Include.NON_NULL)","x-imports":"com.fasterxml.jackson.annotation.JsonInclude","x-java-class":"com.huawei.iot.dtvision.api.model.PropertyModelResponse"},{"$ref":"#/definitions/PropertyModelRequest"}]},"PropertyReferenceModel":{"description":"属性引用","properties":{"asset_model_id":{"description":"引用属性所属的资产模型ID,该字段仅当type为“引用其他资产属性”或“引用子资产属性”时有效;使用导入模型和导出模型接口时,该字段无效","type":"string","x-maxLength":128},"asset_model_name":{"description":"引用属性所属的资产模型名称,请求中携带该字段时可以不携带asset_model_id字段","type":"string","x-maxLength":64},"property_name":{"description":"引用属性的名称","type":"string","x-maxLength":64},"type":{"description":"属性引用类型,引用本资产属性(this)、引用其他资产属性(single)、引用子资产属性(children)","pattern":"this|single|children","type":"string"}},"required":["type","property_name"],"x-annotations":"@JsonInclude(JsonInclude.Include.NON_NULL)","x-imports":"com.fasterxml.jackson.annotation.JsonInclude","x-java-class":"com.huawei.iot.dtvision.api.model.PropertyReferenceModel"},"StreamModel":{"description":"流计算","properties":{"inputs":{"description":"输入参数,最多支持10个;流计算的输入参数名需要在接收数据类型为资产数据的实时分析作业中定义,模型中必须与其保持一致","items":{"$ref":"#/definitions/InputModel"},"maxItems":10,"type":"array"},"job_id":{"description":"实时分析作业ID","type":"string","x-maxLength":128},"outputs":{"description":"输出属性,最多支持10个","items":{"$ref":"#/definitions/StreamOutput"},"maxItems":10,"type":"array"}},"required":["inputs","job_id","outputs"],"x-annotations":"@JsonInclude(JsonInclude.Include.NON_NULL)","x-imports":"com.fasterxml.jackson.annotation.JsonInclude","x-java-class":"com.huawei.iot.dtvision.api.model.StreamModel"},"StreamOutput":{"description":"流计算输出映射","properties":{"name":{"description":"输出参数名称,必须是接收数据类型为资产数据的实时分析作业中已定义的","type":"string","x-maxLength":128},"output_property":{"description":"输出属性名,必须是本模型分析任务类别的属性的属性名","type":"string","x-maxLength":128}},"required":["name","output_property"],"x-java-class":"com.huawei.iot.dtvision.api.model.StreamOutput"},"TransformModel":{"description":"转换计算","properties":{"expression":{"$ref":"#/definitions/Formula","description":"表达式定义"},"inputs":{"description":"输入参数,最多支持10个","items":{"$ref":"#/definitions/InputModel"},"maxItems":10,"type":"array"},"output_property":{"description":"输出属性名(分析任务单输出场景,配合expression的formula使用)","type":"string","x-maxLength":128},"outputs":{"description":"输出属性,最多支持10个","items":{"$ref":"#/definitions/OutputWithModel"},"maxItems":10,"type":"array"}},"required":["inputs","expression"],"x-annotations":"@JsonInclude(JsonInclude.Include.NON_NULL)","x-imports":"com.fasterxml.jackson.annotation.JsonInclude","x-java-class":"com.huawei.iot.dtvision.api.model.TransformModel"}},"description":null,"group_id":"cfd5b7ef8cbe41c8b49ff6f50523b75d","host":"iota.cn-north-4.myhuaweicloud.com","id":"b3e2da4a34c84274aaba762649dd20f9","info_version":"v1","method":"get","name":"ShowAssetModel","parameters":{},"paths":{"/v1/{project_id}/asset-models/{model_id}":{"get":{"description":"获取资产模型详情","operationId":"ShowAssetModel","parameters":[{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string","x-maxLength":128},{"description":"模型ID","in":"path","name":"model_id","required":true,"type":"string","x-maxLength":256},{"description":"租户Token","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-maxLength":65535}],"responses":{"200":{"description":"OK","examples":{"example":{"analyses":[{"aggregate":{"expression":{"formula":"string","formulas":[{"formula":"string","name":"string"}],"time_range":"1m|5m|15m|1h"},"inputs":[{"name":"string","property_reference":{"asset_model_id":"string","property_name":"string","type":"this|single|children"}}],"output_property":"string","outputs":[{"name":"string","output_asset_model_id":"string","output_property":"string"}],"schedule":{"period":"1m|5m|15m|1h"}},"analysis_id":"string","display_name":"string","name":"string","stream":{"inputs":[{"name":"string","property_reference":{"asset_model_id":"string","property_name":"string","type":"this|single|children"}}],"job_id":"string","outputs":[{"name":"string","output_property":"string"}]},"transform":{"expression":{"formula":"string","formulas":[{"formula":"string","name":"string"}]},"inputs":[{"name":"string","property_reference":{"asset_model_id":"string","property_name":"string","type":"this|single|children"}}],"output_property":"string","outputs":[{"name":"string","output_asset_model_id":"string","output_property":"string"}]},"type":"transform|aggregate|stream"}],"asset_model_id":"string","created_time":"string","display_name":"string","modified_time":"string","name":"string","properties":[{"data_schema":{"data_type":"string","max":0,"max_length":0,"min":0,"min_length":0},"display_name":"string","is_tag":true,"name":"string","property_id":"string","source_type":"static|measurement|analysis","unit":"string","value":0}]}},"schema":{"$ref":"#/definitions/AssetModelResponse"}},"400":{"description":"Bad Request","x-Error":["IoTA.99000010"]},"401":{"description":"Unauthorized","x-Error":["IoTA.99000003"]},"403":{"description":"Forbidden","x-Error":["IoTA.99000007","IoTA.99000008","IoTA.99000009"]},"404":{"description":"Not Found","x-Error":["IoTA.01010023"]},"409":{"description":"Conflict","x-Error":["IoTA.99000011"]},"500":{"description":"Internal Server Error","x-Error":["IoTA.99999999"]}},"summary":"获取资产模型详情","tags":["AssetModel"],"x-externalAPI":"YES","x-iftype":"OpenAPI","x-open-for-CLOUD":"Y","x-open-for-HCS":"Y","x-returnType":"ResponseEntity<AssetModelResponse>","x-support-sdk":"Y"}}},"product_short":"IoTAnalytics","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"获取资产模型详情","tags":"资产模型","uri":null,"version":"2.0"}