{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ErrorRsp":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"错误码","example":"CSMS.XXXX","maxLength":36,"minLength":8,"type":"string"},"error_msg":{"description":"错误描述","example":"XXXX","maxLength":512,"minLength":2,"type":"string"}},"required":["error_code","error_msg"]},"SecretStageResponseBody":{"properties":{"stage":{"$ref":"#/definitions/Stage"}}},"Stage":{"description":"凭据状态。","properties":{"name":{"description":"凭据的版本状态名称。\n\n约束:最小长度1,最大长度64。","example":"name","maxLength":64,"minLength":1,"type":"string"},"secret_name":{"description":"凭据名称。","example":"demo","pattern":"^[a-zA-Z0-9_-]{1,64}$","type":"string"},"update_time":{"description":"凭据的版本状态更新的时间戳,时间戳,即从1970年1月1日至该时间的总秒数。","example":1581507580000,"format":"int64","maximum":13,"minimum":0,"type":"integer"},"version_id":{"description":"凭据的版本号标识符。","example":"version_id","pattern":"^v[0-9]{0,63}","type":"string"}}},"UpdateSecretStageRequestBody":{"properties":{"version_id":{"description":"凭据的版本号标识符。","example":"version_id","pattern":"^v[0-9]{0,63}","type":"string"}},"required":["version_id"]}},"description":null,"group_id":"2696b19762094c0393f47c92da7528c5","host":"kms.cn-north-4.myhuaweicloud.com","id":"7a12cb2521164412b4d196b6c5a34c46","info_version":"v1","method":"put","name":"UpdateSecretStage","parameters":{},"paths":{"/v1/{project_id}/secrets/{secret_name}/stages/{stage_name}":{"put":{"description":"更新凭据的版本状态。","operationId":"UpdateSecretStage","parameters":[{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":2097152,"minLength":32,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"项目ID。","in":"path","maxLength":64,"minLength":32,"name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"凭据名称。","in":"path","name":"secret_name","pattern":"^[a-zA-Z0-9_-]{1,64}$","required":true,"type":"string","x-example":"secret-name-test"},{"description":"凭据版本状态的名称。满足 '^[a-zA-Z0-9_-]{1,64}$'","in":"path","name":"stage_name","pattern":"^[a-zA-Z0-9_-]{1,64}$","required":true,"type":"string","x-example":"stage_name"},{"description":"创建凭据版本状态请求消息体。","in":"body","name":"UpdateSecretStageRequestBody","required":true,"schema":{"$ref":"#/definitions/UpdateSecretStageRequestBody"}}],"produces":["application/json"],"responses":{"200":{"description":"请求已成功","examples":{"application/json":{"stage":{"name":"name","secret_name":"secret-name-demo","update_time":1581507580000,"version_id":"v1"}}},"schema":{"$ref":"#/definitions/SecretStageResponseBody"}},"400":{"description":"请求参数有误","schema":{"$ref":"#/definitions/ErrorRsp"}},"401":{"description":"被请求的页面需要用户名和密码","schema":{"$ref":"#/definitions/ErrorRsp"}},"403":{"description":"认证失败","schema":{"$ref":"#/definitions/ErrorRsp"}},"404":{"description":"资源不存在,资源未找到","schema":{"$ref":"#/definitions/ErrorRsp"}},"500":{"description":"服务内部错误","schema":{"$ref":"#/definitions/ErrorRsp"}},"502":{"description":"请求未完成。服务器从上游服务器收到一个无效的响应","schema":{"$ref":"#/definitions/ErrorRsp"}},"504":{"description":"网关超时","schema":{"$ref":"#/definitions/ErrorRsp"}}},"summary":"更新凭据的版本状态","tags":["凭据版本状态管理"],"x-constraint":"* 凭据的版本状态在同一凭据对象下仅能唯一标识一个版本,将版本状态设置到新版本上的同时,将自动从老版本上移除其对应的版本状态。没有任何版本状态标识的版本将被视为已弃用,可由凭据管理服务自动删除。\n* 凭据管理服务的每个凭据中最多可支持12个凭据版本状态,每个凭据版本状态同时仅能标识一个凭据版本。SYSCURRENT,SYSPREVIOUS为服务内建的凭据状态。","x-is-registered":"Y","x-request-examples-1":{"version_id":"version_id"},"x-request-examples-description-1":"更新凭据的版本状态,版本为version_id。","x-request-examples-text-1":{"version_id":"version_id"},"x-support-sdk":"Y"}}},"product_short":"CSMS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"更新凭据的版本状态","tags":"凭据版本状态管理","uri":null,"version":"2.0"}