{"base_path":"/","components":null,"consumes":"","definitions":{"CaseDoc":{"description":"文本用例信息","properties":{"description":{"description":"用例描述信息","example":"this is description","maxLength":2147483647,"minLength":0,"type":"string"},"label_names":{"description":"标签","example":["label1"],"items":{"type":"string"},"type":"array"},"preparation":{"description":"前置条件","example":"this is prerequisites","maxLength":2147483647,"minLength":0,"type":"string"},"rank":{"description":"用例等级(0-L0;1-L1;2-L2;3-L3;4-L4;)","example":1,"format":"int32","maximum":64,"minimum":0,"type":"integer"},"status_code":{"description":"状态(0-新建;5-设计中;6-测试中;7-完成;)","example":0,"format":"int32","type":"integer"},"steps":{"description":"测试步骤","items":{"properties":{"expect_result":{"description":"步骤描述","example":"response status code 200","maxLength":2147483647,"minLength":0,"type":"string"},"test_step":{"description":"预期结果","example":"this is test steps","maxLength":2147483647,"minLength":0,"type":"string"}}},"type":"array"}},"type":"object"},"CaseInfoDetail":{"properties":{"case_id":{"description":"case_id","example":150,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"case_info":{"$ref":"#/definitions/CaseDoc","description":"文本用例信息"},"case_type":{"description":"case_type","example":0,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"collect_log_policy":{"description":"日志采集策略(0-请求模式;1-用例模式)","format":"int32","maximum":32,"minimum":0,"type":"integer"},"contents":{"description":"contents","items":{"$ref":"#/definitions/Contents"},"maxItems":1024,"minItems":0,"type":"array"},"directory_id":{"description":"用例所属目录id(旧版接口可不传)","format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"for_loop_params":{"description":"for_loop_params","items":{"type":"object"},"maxItems":10240,"minItems":0,"type":"array"},"increase_setting":{"description":"increase_setting","items":{"type":"object"},"maxItems":10240,"minItems":0,"type":"array"},"link_app_list":{"description":"关联全链路应用列表","items":{"format":"int32","type":"integer"},"type":"array"},"name":{"description":"用例名称","example":"1","maxLength":1024,"minLength":0,"type":"string"},"setup_contents":{"description":"前置步骤","items":{"$ref":"#/definitions/Contents"},"type":"array"},"sort":{"description":"排序字段","format":"int32","type":"integer"},"stages":{"description":"stages","items":{"$ref":"#/definitions/TestCaseStage"},"maxItems":1024,"minItems":0,"type":"array"},"status":{"description":"状态,0:已删除;1:启用;2:禁用","example":1,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"temp_id":{"description":"temp_id","example":0,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"user_replicas":{"description":"执行器个数","format":"int32","maximum":2147483647,"minimum":0,"type":"integer"}},"type":"object"},"Content":{"properties":{"content":{"$ref":"#/definitions/ContentInfo","description":"content"},"content_type":{"description":"content_type","example":2,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"}}},"ContentHeader":{"properties":{"key":{"description":"key","example":"Content-Type","maxLength":40960,"minLength":0,"type":"string"},"value":{"description":"value","example":"application/json","maxLength":40960,"minLength":0,"type":"string"}}},"ContentInfo":{"properties":{"bitrate_type":{"description":"分辨率策略","format":"int32","maximum":128,"minimum":0,"type":"integer"},"body_type":{"description":"body_type","example":0,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"bodys":{"description":"bodys","items":{"type":"object"},"type":"array"},"check_end_length":{"description":"TCP/UDP协议返回数据长度","type":"object"},"check_end_str":{"description":"TCP/UDP协议返回结束符","type":"object"},"check_end_type":{"description":"TCP/UDP协议返回结束类型,1:返回数据长度;2:结束符","type":"object"},"connect_timeout":{"description":"connect_timeout","example":5000,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"connect_type":{"description":"connect_type","example":1,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"duration":{"description":"duration","format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"flv_url":{"description":"flv地址","maxLength":40960,"minLength":0,"type":"string"},"headers":{"description":"headers","items":{"$ref":"#/definitions/ContentHeader"},"maxItems":1024,"minItems":0,"type":"array"},"http_version":{"description":"http_version","example":"HTTP/1.1","maxLength":1024,"minLength":0,"type":"string"},"method":{"description":"method","example":"GET","maxLength":1024,"minLength":0,"type":"string"},"name":{"description":"name","example":"Msg-fe27","maxLength":1024,"minLength":0,"type":"string"},"protocol_type":{"description":"protocol_type","example":1,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"retry_delay":{"description":"HLS重试延迟时间","format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"retry_time":{"description":"HLS重试次数","format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"return_timeout":{"description":"return_timeout","example":5000,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"return_timeout_param":{"description":"return_timeout_param","maxLength":40960,"minLength":0,"type":"string"},"rtmp_url":{"description":"rtmp地址","maxLength":40960,"minLength":0,"type":"string"},"url":{"description":"url","example":"http://1.1.1.1","maxLength":40960,"minLength":0,"type":"string"}},"type":"object"},"Contents":{"properties":{"conditions":{"description":"若类型为202:条件指令,该字段为条件配置","type":"object"},"content":{"description":"content","items":{"$ref":"#/definitions/Content"},"maxItems":1000,"minItems":0,"type":"array"},"content_id":{"description":"事务id,若不为0表示此卡片为事务;为0表示非事务","example":0,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"data":{"description":"数据(循环、条件控制器作用的数据)","type":"object"},"data_type":{"description":"类型,0:默认请求;1:数据指令;201:循环指令; 202:条件指令;301:集合点","example":0,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"index":{"description":"排序索引标识","example":0,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"is_disabled":{"description":"是否禁用","type":"boolean"},"selected_temp_name":{"description":"selected_temp_name","maxLength":40960,"minLength":0,"type":"string"}},"type":"object"},"RelatedTempRunningData":{"properties":{"related_temp_running_data":{"description":"related_temp_running_data","items":{"$ref":"#/definitions/TempRunningData"},"type":"array"},"related_temp_running_id":{"description":"related_temp_running_id","example":350,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"task_run_info_id":{"description":"task_run_info_id","example":325,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"temp_id":{"description":"temp_id","example":0,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"temp_name":{"description":"temp_name","example":"asdf","maxLength":4096,"minLength":0,"type":"string"}}},"ShowTaskResq":{"properties":{"code":{"description":"code","example":"CPTS.00000000","maxLength":1024,"minLength":0,"type":"string"},"message":{"description":"message","example":"success","maxLength":1024,"minLength":0,"type":"string"},"taskInfo":{"$ref":"#/definitions/TaskInfo","description":"taskInfo"}},"type":"object"},"StageKpiItem":{"properties":{"comparison":{"description":"比较符","example":"<=","type":"string"},"value":{"description":"比较值","example":60000,"format":"int32","type":"integer"}},"type":"object"},"StageKpiItems":{"properties":{"average_response_time":{"$ref":"#/definitions/StageKpiItem","description":"平均响应时间"},"success_rate":{"$ref":"#/definitions/StageKpiItem","description":"成功率"}},"type":"object"},"TaskInfo":{"properties":{"bench_concurrent":{"description":"bench_concurrent","example":100,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"case_list":{"description":"case_list","items":{"$ref":"#/definitions/CaseInfoDetail"},"maxItems":1000,"minItems":0,"type":"array"},"create_time":{"description":"创建时间","format":"date-time","type":"string"},"description":{"description":"description","example":"string","maxLength":1024,"minLength":0,"type":"string"},"name":{"description":"name","example":"string","maxLength":1024,"minLength":0,"type":"string"},"operate_mode":{"description":"operate_mode","example":2,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"parallel":{"description":"parallel","type":"boolean"},"project_id":{"description":"project_id","example":1,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"related_temp_running_data":{"description":"related_temp_running_data","items":{"$ref":"#/definitions/RelatedTempRunningData"},"maxItems":1024,"minItems":0,"type":"array"},"run_status":{"description":"run_status","example":2,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"update_time":{"description":"update_time","example":"2021-05-18T14:25:38.605735+08:00","maxLength":1024,"minLength":0,"type":"string"}}},"TempRunningData":{"properties":{"content_method_url":{"description":"content_method_url","items":{"type":"string"},"type":"array"},"crawler_status":{"description":"crawler_status","format":"int32","type":"integer"},"related_temp_running_id":{"description":"related_temp_running_id","format":"int32","type":"integer"},"task_run_info_id":{"description":"task_run_info_id","format":"int32","type":"integer"},"temp_id":{"description":"temp_id","format":"int32","type":"integer"},"temp_name":{"description":"temp_name","type":"string"},"temp_running_status":{"description":"temp_running_status","format":"int32","type":"integer"}}},"TestCaseStage":{"properties":{"count":{"description":"次数模式发送总次数","example":1,"format":"int32","type":"integer"},"current_tps":{"description":"起始tps值","example":1,"format":"int32","type":"integer"},"current_user_num":{"description":"起始并发数","example":10,"format":"int32","type":"integer"},"end_time":{"description":"结束时间","example":0,"format":"int32","type":"integer"},"issue_num":{"description":"最大并发数","example":10,"format":"int32","type":"integer"},"loop_count":{"description":"震荡/浪涌次数","example":2,"format":"int32","type":"integer"},"max_duration":{"description":"浪涌模式下峰值持续时间","example":30,"format":"int32","type":"integer"},"maximum":{"description":"浪涌/浪涌模式下最大并发数","example":3,"format":"int32","type":"integer"},"minimum":{"description":"浪涌/浪涌模式下最小并发数","example":1,"format":"int32","type":"integer"},"name":{"description":"阶段名称","example":"Stage-f1u1","type":"string"},"operate_mode":{"description":"压力阶段模式,0:时长模式;1:次数模式","example":0,"format":"int32","type":"integer"},"peak_load_kpis":{"$ref":"#/definitions/StageKpiItems","description":"摸高指标"},"pressure_mode":{"description":"压力模式,0:并发模式;1:TPS模式;2:摸高模式;3:浪涌并发模式;4:浪涌TPS模式;5:震荡并发模式;6:震荡TPS模式;7:智能摸高模式","example":0,"format":"int32","type":"integer"},"ramp_up":{"description":"摸高模式下爬坡时长(单位:秒)","example":30,"format":"int32","type":"integer"},"start_time":{"description":"开始时间","example":0,"format":"int32","type":"integer"},"step_duration":{"description":"智能摸高模式下单步执行时长","example":30,"format":"int32","type":"integer"},"step_size":{"description":"智能摸高模式下递增并发数","example":1,"format":"int32","type":"integer"},"time":{"description":"压测时长(单位:秒)","example":60,"format":"int32","type":"integer"},"tps_value":{"description":"TPS模式下TPS值","example":1,"format":"int32","type":"integer"},"voltage_regulating_mode":{"description":"调压模式,0:自动调压模式;1:手动调压模式","example":0,"format":"int32","type":"integer"}},"type":"object"}},"description":null,"group_id":"efacf12b40d94df780e9934bee36f309","host":"cpts.cn-north-4.myhuaweicloud.com","id":"fc0f9a4c9bd94cf08fcbf119d414df7a","info_version":"v1","method":"get","name":"ShowTask","parameters":{"project_id":{"description":"项目ID","in":"path","maxLength":64,"minLength":0,"name":"project_id","required":true,"type":"string"},"task_id":{"description":"任务id","format":"int32","in":"path","maximum":2147483647,"minimum":0,"name":"task_id","required":true,"type":"integer"}},"paths":{"/v1/{project_id}/tasks/{task_id}":{"get":{"consumes":["application/json","text/plain; charset=utf-8"],"description":"查询任务","operationId":"ShowTask","parameters":[{"$ref":"#/parameters/project_id"},{"$ref":"#/parameters/task_id"}],"produces":["application/json","text/plain; charset=utf-8"],"responses":{"200":{"description":"success","examples":{"application/json":{"code":"SVCSTG.CPTS.0000000","message":"success","taskInfo":{"bench_concurrent":100,"case_list":[{"case_id":18393,"case_type":0,"contents":[{"conditions":null,"content":[{"content":{"body_type":0,"bodys":[],"check_end_length":null,"check_end_str":null,"check_end_type":null,"connect_timeout":5000,"connect_type":1,"headers":[{"key":"Content-Type","value":"application/json"}],"http_version":"HTTP/1.1","method":"GET","name":"Msg-33419","protocol_type":2,"return_timeout":5000,"return_timeout_param":null,"url":"https://www.huaweicloud.com"},"content_type":2}],"content_id":0,"data":null,"data_type":0,"index":0,"is_disabled":false,"selected_temp_name":""}],"for_loop_params":[],"increase_setting":[],"name":"case","sort":1,"stages":[{"count":1,"current_tps":1,"current_user_num":10,"end_time":0,"issue_num":10,"loop_count":2,"max_duration":30,"maximum":3,"minimum":1,"name":"Stage-pd44","operate_mode":0,"peak_load_kpis":{"average_response_time":{"comparison":"<=","value":60000},"success_rate":{"comparison":">=","value":0}},"pressure_mode":0,"ramp_up":30,"start_time":0,"step_duration":30,"step_size":1,"time":60,"tps_value":1,"voltage_regulating_mode":0}],"status":1,"temp_id":0}],"create_time":"2022-09-20T14:23:42.87449+08:00","description":"","name":"task","operate_mode":2,"parallel":false,"project_id":17543,"related_temp_running_data":[],"run_status":2,"update_time":"2022-09-20T14:23:43.579707+08:00"}}},"schema":{"$ref":"#/definitions/ShowTaskResq"}},"501":{"description":"unknown error","schema":{"type":"string"}}},"summary":"查询任务","tags":["任务管理"],"x-apiErrorCodes":[{"errorCode":"CPTS.00000000","errorDescription":"success","httpStatus":"200"},{"errorCode":"CPTS.05001001","errorDescription":"UNKNOWN_ERROR","httpStatus":"501"}],"x-apiexplorer-hide":"false","x-is-registered":"Y","x-request-examples-description-1":"查询id为1的任务的详情信息。","x-request-examples-url-1":"https://cpts.{region}.myhuaweicloud.com/v1/{project_id}/tasks/1","x-support-sdk":"Y"}}},"product_short":"CPTS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询任务","tags":"任务管理","uri":null,"version":"2.0"}