{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"ChatChoice":{"description":"通用文本响应","properties":{"index":{"description":"回复的索引","type":"integer"},"message":{"$ref":"#/definitions/MessageItem","description":"模型响应","type":"array"}},"required":["index","message"]},"ChatCompletionReq":{"properties":{"max_tokens":{"description":"用于控制聊天回复的长度和质量。一般来说,较大的max_tokens值可以生成较长和较完整的回复,但也可能增加生成无关或重复内容的风险。较小的max_tokens值可以生成较短和较简洁的回复,但也可能导致生成不完整或不连贯的内容。因此,需要根据不同的场景和需求来选择合适的max_tokens值。最小值:1,最大值:根据模型不同最大值不同。","example":16,"format":"int32","minimum":1,"type":"integer"},"messages":{"description":"多轮对话问答对","items":{"$ref":"#/definitions/Message"},"maxItems":20,"minItems":1,"type":"array"},"n":{"default":1,"description":"表示对每个问题生成多少条答案。n参数的默认值是1,表示只生成一个答案。如果想要生成多条答案,可以设置n参数为一个大于1的整数,例如n=2。这样,API会返回一个包含2个答案的数组。流式调用时,n只能取1。最小值:1,最大值:2,默认值:1","example":1,"format":"int32","maximum":2,"minimum":1,"type":"integer"},"presence_penalty":{"description":"用于控制生成文本中的重复程度。正值会根据它们到目前为止在文本中的现有频率来惩罚新tokens,从而降低模型逐字重复同一行的可能性。  presence_penalty 参数可以用来提高生成文本的多样性和创造性,避免生成单调或重复的内容。最小值:-2,最大值:2","example":0,"format":"float","maximum":2,"minimum":-2,"type":"number"},"stream":{"description":"流式调用的开启开关,true为开启流式调用,如果要开启流式调用,请使用流式SDK;false为关闭流式调用。默认为关闭状态(当前API Explorer不支持流式,在API Explorer调试时请使用非流式)。","type":"boolean"},"temperature":{"description":"用于控制生成文本的多样性和创造力。参数的取值范围是0到1,其中0表示最低的随机性。一般来说,temperature越低,适合完成确定性的任务。temperature越高,例如0.9,适合完成创造性的任务。temperature参数可以影响语言模型输出的质量和多样性,但也不是唯一的因素。还有其他一些参数,如top_p参数也可以用来调整语言模型的行为和偏好,但不建议同时更改这两个参数。","example":1,"format":"float","maximum":1,"minimum":0,"type":"number"},"top_p":{"description":"一种替代温度采样的方法,称为nucleus sampling,其中模型考虑具有top_p 概率质量的标记的结果。因此 0.1 意味着只考虑构成前 10% 概率质量的标记。我们通常建议更改此值或温度,但不要同时更改两者。通常建议更改top_p或temperature来调整生成文本的倾向性,但不要同时更改这两个参数。","exclusiveMinimum":true,"format":"float","maximum":1,"minimum":0,"type":"number"},"user":{"description":"用于代表客户的唯一标识符,最小长度:1,最大长度64","maxLength":64,"minLength":1,"type":"string"}},"required":["messages"]},"ChatCompletionResp":{"description":"多轮对话响应体","properties":{"choices":{"description":"模型回复","items":{"$ref":"#/definitions/ChatChoice"},"type":"array"},"created":{"description":"响应时间","type":"integer"},"id":{"description":"响应ID","type":"string"},"usage":{"$ref":"#/definitions/CompletionUsage","description":"tokens数量统计对象"}},"required":["id","created","choices","usage"]},"CompletionUsage":{"description":"tokens统计对象","properties":{"completion_tokens":{"description":"表示模型生成的答案中包含的tokens的数量。","format":"int32","type":"number"},"prompt_tokens":{"description":"表示生成结果时使用的提示文本的tokens的数量。","format":"int32","type":"number"},"total_tokens":{"description":"对话过程中使用的tokens总数。","format":"int32","type":"number"}},"required":["prompt_tokens","total_tokens","completion_tokens"]},"Message":{"properties":{"content":{"description":"问答对文本内容,最小长度:1,最大长度:模型支持的max_tokens数量乘以系数,默认系数为1.5,并且所有content的总长度不能超过该最大长度","minLength":1,"type":"string"},"role":{"description":"角色","maxLength":64,"minLength":1,"type":"string"}},"required":["content"],"type":"object"},"MessageItem":{"description":"多轮对话响应对象","properties":{"content":{"description":"模型响应","type":"string"},"role":{"description":"角色","type":"string"}},"required":["content"]}},"description":null,"group_id":"9b546e188ab145f0b45085b7d2c3daab","host":"pangu.cn-north-4.myhuaweicloud.com","id":"c851bd5006bb42e1b0e20e7863c1bc61","info_version":"v1","method":"post","name":"ExecuteChatCompletion","parameters":{},"paths":{"/v1/{project_id}/deployments/{deployment_id}/chat/completions":{"post":{"deprecated":false,"description":"基于对话问答功能,用户可以与模型进行自然而流畅的对话和交流。","operationId":"ExecuteChatCompletion","parameters":[{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":15000,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX...","x-is-registered":"N"},{"description":"发送的实体的MIME类型。","in":"header","maxLength":255,"minLength":1,"name":"Content-Type","required":false,"type":"string","x-example":"application/json"},{"description":"项目ID","in":"path","maxLength":255,"minLength":1,"name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"模型的部署ID","in":"path","maxLength":255,"minLength":1,"name":"deployment_id","required":true,"type":"string","x-example":"12928884-xxxx-xxxx-xxxx-b745b2rf"},{"description":"通用文本请求","in":"body","name":"ExecuteTextCompletionRequestBody","required":true,"schema":{"$ref":"#/definitions/ChatCompletionReq"}}],"responses":{"200":{"description":"接口响应成功。","examples":{"application/json":{"choices":[{"index":0,"message":{"content":"My name is AI Assistant. How can I help you today?","role":null}}],"created":1696759072,"id":"8efcd203-4cd9-4452-923f-00439205c6cb","usage":{"completion_tokens":9,"prompt_tokens":3,"total_tokens":12}}},"schema":{"$ref":"#/definitions/ChatCompletionResp"}},"401":{"description":"鉴权失败。"},"403":{"description":"没有操作权限。"},"404":{"description":"找不到资源。"},"500":{"description":"服务内部错误。"}},"summary":"对话问答","tags":["Completions"],"x-apiexplorer-hide":"N","x-constraint":"","x-is-registered":"Y","x-name":"多轮对话","x-open-region-cloud":"hc","x-order":1,"x-publishpath":"","x-request-examples-1":{"max_tokens":50,"messages":[{"content":"hello"},{"content":"Hello! How can I assist you today?"}],"n":1},"x-request-examples-description-1":"","x-request-examples-url-1":"https://{endpoint}/v1/{project_id}/deployments/{deployment_id}/chat/completions","x-scope":"Commercial","x-support-sdk":"Y"}}},"product_short":"PanguLargeModels","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"对话问答","tags":"Completions","uri":null,"version":"2.0"}