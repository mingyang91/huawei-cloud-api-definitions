{"base_path":"/","components":null,"consumes":"","definitions":{"Dimension":{"description":"指标维度。","properties":{"name":{"description":"维度名称。","type":"string"},"value":{"description":"维度取值。","type":"string"}},"required":["name","value"]},"MetaDataSeries":{"description":"查询结果元数据信息,包括分页信息等。","properties":{"count":{"description":"当前返回结果条数。","format":"int32","type":"integer"},"nextToken":{"description":"偏移量。","format":"int32","type":"integer"},"offset":{"description":"下一个开始的标记,用于分页,null表示无更多数据。","type":"integer"},"total":{"description":"总条数。","format":"int32","type":"integer"}},"type":"object"},"MetricAPIQueryItemParam":{"description":"指标查询参数详情。","properties":{"inventoryId":{"description":"资源编号,格式为resType_resId。其中resType部分的枚举值为:host,application,instance, container,process,network,storage, volume。当URI参数中的type取值为“inventory”时,通过该参数查询关联的指标,不再使用metricItems数组中的信息。","type":"string"},"metricItems":{"description":"当URI参数中的type取值不为“inventory”时,就通过该数组传递的参数信息进行指标查询。","items":{"$ref":"#/definitions/QueryMetricItemOptionParam"},"type":"array"}},"type":"object"},"MetricAPIQueryItemResult":{"description":"指标查询结果。","properties":{"metaData":{"$ref":"#/definitions/MetaDataSeries"},"metrics":{"description":"指标对象列表。","items":{"$ref":"#/definitions/MetricItemResultAPI"},"type":"array"}}},"MetricItemResultAPI":{"description":"维度信息。","properties":{"dimensions":{"description":"指标维度列表。","items":{"$ref":"#/definitions/Dimension"},"type":"array"},"dimensionvaluehash":{"description":"指标哈希值。","type":"string"},"metricName":{"description":"指标名称。","type":"string"},"namespace":{"description":"命名空间。","type":"string"},"unit":{"description":"指标单位。","type":"string"}}},"QueryMetricItemOptionParam":{"description":"参数项。","properties":{"dimensions":{"description":"指标维度列表。","items":{"$ref":"#/definitions/Dimension"},"type":"array"},"metricName":{"description":"指标名称。名称长度取值范围为1~255个字符。取值范围:AOM提供的基础指标,cpuUsage、cpuCoreUsed等。cpuUsage:cpu使用率;cpuCoreUsed:cpu内核占用;用户上报的自定义指标名称。","type":"string"},"namespace":{"description":"指标命名空间。取值范围:PAAS.CONTAINER:组件指标、实例指标、进程指标和容器指标的命名空间,PAAS.NODE: 主机指标、网络指标、磁盘指标和文件系统指标的命名空间,PAAS.SLA:SLA指标的命名空间,PAAS.AGGR:集群指标的命名空间,CUSTOMMETRICS:默认的自定义指标的命名空间。","enum":["PAAS.CONTAINER","PAAS.NODE","PAAS.SLA","PAAS.AGGR","CUSTOMMETRICS"],"type":"string"}},"required":["namespace"],"type":"object"}},"description":null,"group_id":"ac32153cf89a435d96dd423fdce82920","host":"aom.cn-north-4.myhuaweicloud.com","id":"d60ee4dd49574d759a92a9c506351a33","info_version":"v2","method":"post","name":"ListMetricItems","parameters":{},"paths":{"/v1/{project_id}/ams/metrics":{"post":{"consumes":["application/json"],"description":"该接口用于查询系统当前可监控的指标列表,可以指定指标命名空间、指标名称、维度、所属资源的编号(格式为:resType_resId),分页查询的起始位置和返回的最大记录条数。(当前接口未上线墨西哥城二、圣地亚哥、圣保罗一)","operationId":"ListMetricItems","parameters":[{"description":"租户从IAM申请到的projectid,一般为32位字符串。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"指标查询方式。","in":"query","name":"type","required":false,"type":"string"},{"description":"用于限制本次返回的结果数据条数。\n取值范围(0,1000],默认值为1000。","in":"query","maxLength":4,"minLength":0,"name":"limit","required":false,"type":"string"},{"description":"分页查询起始位置,为非负整数。","in":"query","name":"start","required":false,"type":"string"},{"description":"指标查询参数。","in":"body","name":"queryItemParam","required":true,"schema":{"$ref":"#/definitions/MetricAPIQueryItemParam"}},{"description":"从IAM服务获取的用户Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"指定类型为application/json。","enum":["application/json"],"in":"header","name":"Content-Type","required":true,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"OK 请求执行完成。","examples":{"application/json":{"errorCode":"SVCSTG_AMS_2000000","errorMessage":"success","metaData":{"count":1,"nextToken":null,"total":1},"metrics":[{"dimensions":[{"name":"appName","value":"aomApp"}],"metricName":"aom_process_cpu_usage","namespace":"PAAS.CONTAINER","unit":"Percent"}]}},"schema":{"$ref":"#/definitions/MetricAPIQueryItemResult"}},"400":{"description":"BadRequest 非法请求。建议直接修改该请求,不要重试该请求。","schema":{"type":"string"}},"401":{"description":"Unauthorized  在客户端提供认证信息后,返回该状态码,表明服务端指出客户端所提供的认证信息不正确或非法。","schema":{"type":"string"}},"403":{"description":"Forbidden 请求被拒绝访问。返回该状态码,表明请求能够到达服务端,且服务端能够理解用户请求,但是拒绝做更多的事情,因为该请求被设置为拒绝访问,建议直接修改该请求,不要重试该请求。","schema":{"type":"string"}},"500":{"description":"InternalServerError  表明服务端能被请求访问到,但是不能理解用户的请求。","schema":{"type":"string"}},"503":{"description":"ServiceUnavailable 被请求的服务无效。建议直接修改该请求,不要重试该请求。","schema":{"type":"string"}}},"summary":"查询指标","tags":["监控"],"x-hybridcloud":true,"x-is-registered":"Y","x-request-examples-1":{"metricItems":[{"dimensions":[{"name":"appName","value":"aomApp"},{"name":"clusterName","value":"aomCluster"}],"namespace":"PAAS.CONTAINER"}]},"x-request-examples-2":{"inventoryId":"application_xxxxxxxx-xxxx-xxxx-xxxx-xxxxx3fee10"},"x-request-examples-description-1":"通过namespace+appName+clusterName查询指标列表。","x-request-examples-description-2":"通过inventoryId查询指标列表。","x-request-examples-text-1":{"metricItems":[{"dimensions":[{"name":"appName","value":"aomApp"},{"name":"clusterName","value":"aomCluster"}],"namespace":"PAAS.CONTAINER"}]},"x-request-examples-text-2":{"inventoryId":"application_xxxxxxxx-xxxx-xxxx-xxxx-xxxxx3fee10"},"x-request-examples-url-1":"https://{Endpoint}/v1/{project_id}/ams/metrics","x-request-examples-url-2":"https://{Endpoint}/v1/{project_id}/ams/metrics?type=inventory","x-support-sdk":"Y"}}},"product_short":"AOM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询指标","tags":"监控","uri":null,"version":"2.0"}