{"base_path":"/v1","components":null,"consumes":"","definitions":{"Metadata":{"description":"任务节点元数据。","properties":{"configuration":{"additionalProperties":{"type":"object"},"description":"配置信息。","example":"NOdeConfiguration","type":"object"},"type":{"description":"节点类型。","example":"start,end,opeartor,foreach","maxLength":32,"minLength":1,"type":"string"}},"type":"object"},"Node":{"description":"任务节点定义。","properties":{"category":{"description":"节点类型。","example":"service","maxLength":32,"minLength":1,"type":"string"},"description":{"description":"节点描述。","example":"wad","maxLength":1024,"minLength":1,"type":"string"},"id":{"description":"节点id","example":"2ed4e082a4714e539cef77c57473fb19","maxLength":64,"minLength":1,"type":"string"},"ignore_error":{"description":"是否忽略错误","example":false,"type":"boolean"},"metadata":{"$ref":"#/definitions/Metadata","description":"元数据。"},"name":{"description":"节点名称,比如是Node。","example":1,"maxLength":64,"minLength":1,"type":"string"},"parent_node":{"description":"父亲节点的名称。","example":"parentNodeName","maxLength":64,"minLength":1,"type":"string"},"task_name":{"description":"任务名称,节点上任务的名称。","example":"CMS::ECS::runScript","maxLength":64,"minLength":1,"type":"string"}},"type":"object"},"Parameter":{"allOf":[{"$ref":"#/definitions/TaskParam"},{"properties":{"description":{"description":"参数描述。","maxLength":1000,"minLength":1,"type":"string"},"encryption":{"description":"是否加密。","example":true,"type":"boolean"},"hint":{"description":"参数提示。","maxLength":1000,"minLength":1,"type":"string"},"id":{"description":"参数id。","maxLength":64,"minLength":1,"type":"string"},"quote_param":{"description":"是否从参数库选择。","example":true,"type":"boolean"},"required":{"description":"是否为必填参数。","example":true,"type":"boolean"}},"required":["encryption","quote_param","required"],"type":"object"}],"description":"全局参数"},"ResultInfo":{"description":"调用失败时的返回值。","properties":{"error_code":{"description":"响应码。","maxLength":64,"minLength":1,"type":"string"},"error_msg":{"description":"调用失败响应信息描述。","maxLength":1024,"minLength":1,"type":"string"},"http_code":{"description":"http返回码","format":"int32","maximum":999,"minimum":0,"type":"integer"}},"required":["error_code","error_msg","http_code"],"type":"object"},"Step":{"description":"创建作业时的步骤参数","properties":{"description":{"description":"步骤说明。","maxLength":1000,"minLength":1,"type":"string"},"id":{"description":"步骤id。","maxLength":64,"minLength":1,"type":"string"},"ignore_error":{"description":"是否自动忽略错误。","example":true,"type":"boolean"},"input":{"additionalProperties":{"maxLength":9999999999999,"minLength":1,"type":"string"},"description":"步骤参数。","type":"object"},"name":{"description":"步骤名称。","maxLength":32,"minLength":1,"type":"string"},"type":{"description":"步骤类型。","example":"script,package,stop","maxLength":16,"minLength":1,"type":"string"}},"required":["ignore_error"],"type":"object"},"TaskParam":{"description":"任务参数对象。","properties":{"default_value":{"description":"参数初始值。","maxLength":40960,"minLength":1,"type":"string"},"param_group":{"description":"参数分组。","example":"ecs_instance","maxLength":32,"minLength":1,"type":"string"},"param_name":{"description":"参数名称。","example":"get_instances","pattern":"[^\\>+<;#\";&?%=']{1,64}","type":"string"},"param_type":{"description":"参数类型。","example":"STRING,LIST,HOST","maxLength":16,"minLength":1,"type":"string"}},"required":["param_name"],"type":"object"},"WorkFlowModel":{"properties":{"en-us":{"additionalProperties":{"type":"string"},"description":"英文描述","example":"","type":"object"},"zh-cn":{"additionalProperties":{"type":"string"},"description":"中文描述","example":"","type":"object"}},"type":"object"},"Workflow":{"description":"变更服务工作流工作流元数据。","properties":{"approve_id":{"description":"审批id","maxLength":64,"minLength":1,"type":"string"},"citation_urns":{"description":"工作流的引用。","example":"{“aaaaaaaa”,\"bbbbbbbbbbbbbbbbbb\"}","items":{"maxLength":256,"minLength":1,"type":"string"},"maxItems":200,"minItems":0,"type":"array"},"create_by":{"description":"工作流创人,从接口调用传入的token中获取。","example":"kaifatest","maxLength":64,"minLength":1,"type":"string"},"create_time":{"description":"工作流创建时间,为utc时间毫秒数。","example":"2021/11/11 17:45:19 GMT+","format":"int64","maximum":9999999999999,"minimum":0,"type":"integer"},"description":{"description":"工作流描述信息。","example":"this is s workFlow","maxLength":128,"minLength":1,"type":"string"},"edit_time":{"description":"编辑时间","example":0,"format":"int64","maximum":9999999999999,"minimum":0,"type":"integer"},"enterprise_project_id":{"description":"任务所属的企业项目","example":0,"maxLength":64,"minLength":1,"type":"string"},"execution_action_rules":{"description":"执行动作细粒度权限","items":{"maxLength":128,"minLength":1,"type":"string"},"maxItems":200,"minItems":0,"type":"array"},"execution_permission":{"description":"云服务权限","items":{"maxLength":128,"minLength":1,"type":"string"},"maxItems":32,"minItems":1,"type":"array"},"global_parameters":{"description":"全局参数","items":{"$ref":"#/definitions/Parameter"},"maxItems":20,"minItems":0,"type":"array"},"id":{"description":"工作流id,唯一标识,根据project_id和workflow_name生成。","example":"048cd398-27d8-4747-a46a-f45cb7906957\t","maxLength":64,"minLength":1,"type":"string"},"input":{"additionalProperties":{"type":"object"},"description":"任务执行时需要的参数列表。","example":"\"param_name\" : \"param_value\"","type":"object"},"is_delete":{"description":"逻辑删除","example":false,"type":"boolean"},"job_id":{"description":"作业id","maxLength":64,"minLength":1,"type":"string"},"job_name":{"description":"作业名称","maxLength":64,"minLength":1,"type":"string"},"last_execute_by":{"description":"任务最后一次执行人","example":"paas_apm_z00418070_01","maxLength":64,"minLength":1,"type":"string"},"last_execution_end_time":{"description":"最近一次执行结束时间,为utc时间毫秒数","example":"1637667939000","format":"int64","maximum":9999999999999,"minimum":0,"type":"integer"},"last_execution_id":{"description":"最近一次执行id,也是工作流id","example":"74c4e2a3-ddd2-4a52-bf8d-67226070f33e\t","maxLength":64,"minLength":1,"type":"string"},"last_execution_start_time":{"description":"最近一次执行开始时间,为utc时间毫秒数","example":"1637667939000","format":"int64","maximum":9999999999999,"minimum":0,"type":"integer"},"name":{"description":"工作流名称。","example":"workflowTest","maxLength":64,"minLength":1,"pattern":"[^\\\\>+<^;#\"\\s&?%='$¥@*/\\]\\[【】{}|:,.,。:‘’“、—!!~`·?《》...]{1,64}","type":"string"},"nodes":{"description":"任务节点","items":{"$ref":"#/definitions/Node"},"maxItems":20,"minItems":1,"type":"array"},"output":{"description":"任务输出","maxLength":40960,"minLength":1,"type":"string"},"project_id":{"description":"functiongraph返回的PROJECT_ID","example":"a0a12b069ab4491185d7cf26c3e86ada","maxLength":32,"minLength":1,"type":"string"},"quote":{"description":"引用,参数引用","example":["ssxsss","ccccccccccc"],"items":{"maxLength":256,"minLength":1,"type":"string"},"maxItems":999,"minItems":1,"type":"array"},"service_name":{"description":"服务名称","maxLength":64,"minLength":1,"type":"string"},"service_scenario":{"description":"服务场景分类","maxLength":64,"minLength":1,"type":"string"},"status":{"description":"任务状态,包含success,fail,executing","example":"successfail,executing","maxLength":16,"minLength":1,"type":"string"},"steps":{"description":"任务步骤","items":{"$ref":"#/definitions/Step"},"maxItems":10,"minItems":1,"type":"array"},"tags":{"additionalProperties":{"maxLength":20,"minLength":0,"type":"string"},"description":"标签键和值列表,标签键值对数量范围是0至20。","example":"testCMS=testCMS","pattern":"[^\\>+<^;#\";\\s;&?%='$¥@*/\\]\\[【】{}|:,.,。;:‘’“、——!!~`·/??《》......]{1,20}","type":"object"},"task_status":{"description":"任务状态","example":"not_started","maxLength":32,"minLength":1,"type":"string"},"task_type":{"description":"任务类型","example":"package,script,job,cloud,standard,customize","maxLength":16,"minLength":1,"type":"string"},"template_i18n":{"$ref":"#/definitions/WorkFlowModel","description":"任务国际化字段,包含中英文描述"},"template_id":{"description":"模板id","maxLength":64,"minLength":1,"type":"string"},"template_name":{"description":"模板名称。","example":"templateNameTest","maxLength":64,"minLength":1,"type":"string"},"trigger_id":{"description":"触发器id","maxLength":64,"minLength":1,"type":"string"},"trigger_status":{"description":"触发器状态","maxLength":64,"minLength":1,"type":"string"},"type":{"description":"工作流类型,可以为cron、manual","example":"cron,manual","maxLength":16,"minLength":1,"type":"string"},"update_by":{"description":"工作流更新人,从接口调用传入的token中获取。","example":"kaifatest","maxLength":64,"minLength":1,"type":"string"},"update_time":{"description":"工作流更新时间,为utc时间毫秒数。","example":"2021/11/11 17:45:19 GMT+","format":"int64","maximum":9999999999999,"minimum":0,"type":"integer"},"workflow_id":{"description":"functiongraph返回的WORKFLOW_ID","example":"9c590539fc52fb18a3ec4d8955482800af5550e17d65d4dc348fa03a0dcbca77","maxLength":64,"minLength":1,"type":"string"}},"required":["name"],"type":"object"},"WorkflowRequestBody":{"description":"自动化运维工作流工作流元数据。","properties":{"description":{"description":"工作流描述信息。","example":"this is s workFlow","maxLength":128,"minLength":1,"type":"string"},"input":{"additionalProperties":{"type":"object"},"description":"任务执行时需要的参数列表。","example":"\"param_name\" : \"param_value\"","type":"object"},"job_id":{"description":"作业id。","maxLength":64,"minLength":1,"type":"string"},"job_name":{"description":"作业名称。","maxLength":64,"minLength":1,"type":"string"},"name":{"description":"工作流名称,需要满足中文、英文大小写、数字、中划线和下划线{1,64}。","example":"workflowTest","maxLength":64,"minLength":1,"pattern":"[^\\\\>+<^;#\"\\s&?%='$¥@*/\\]\\[【】{}|:,.,。:‘’“、—!!~`·?《》...]{1,64}","type":"string"},"quote":{"description":"引用,参数引用。","example":["ssxsss","ccccccccccc"],"items":{"maxLength":128,"minLength":1,"type":"string"},"maxItems":128,"minItems":1,"type":"array"},"service_name":{"description":"服务名称。","maxLength":128,"minLength":1,"type":"string"},"service_scenario":{"description":"服务场景分类。","maxLength":64,"minLength":1,"type":"string"},"tags":{"description":"标签键和值列表,标签键值对数量范围是0至20。","example":"testCMS=testCMS","pattern":"[^\\>+<^;#\";\\s;&?%='$¥@*/\\]\\[【】{}|:,.,。;:‘’“、——!!~`·/??《》......]{1,20}","type":"object"},"task_type":{"description":"任务类型。package,script,job,cloud,standard,customize","example":"package,script,job,cloud,standard,customize","maxLength":32,"minLength":1,"type":"string"},"template_id":{"description":"模板id。","maxLength":64,"minLength":1,"type":"string"},"template_name":{"description":"模板名称,示例:CMS::ECS::BulkyRunScript  CMS::ECS::BulkyStartECSInstances CMS::ECS::BulkyCleanDisks","example":"CMS::ECS::BulkyRunScript","maxLength":64,"minLength":1,"type":"string"},"type":{"description":"工作流类型,可以为cron、manual","example":"cron,manual","maxLength":32,"minLength":1,"type":"string"}},"required":["name","type","template_id","input","task_type"],"type":"object"}},"description":null,"group_id":"ac32153cf89a435d96dd423fdce82920","host":"aom.cn-north-4.myhuaweicloud.com","id":"0d8c5c827fc7474d9835c9c3d8462008","info_version":"v1","method":"post","name":"CreateWorkflow","parameters":{},"paths":{"/{project_id}/cms/workflow":{"post":{"consumes":["application/json"],"description":"该接口用于创建工作流(任务),返回工作流详情。任务类型取决于模板名称和'input'参数。(注:接口目前开放的region为:华北-北京四,华东-上海一,华东-上海二,华南-广州)。","operationId":"CreateWorkflow","parameters":[{"description":"租户从IAM申请到的projectid,一般为32位字符串。","in":"path","maxLength":32,"minLength":32,"name":"project_id","pattern":"^[\\w-]{0,64}$","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"从IAM服务获取的用户Token。","in":"header","maxLength":40960,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."},{"description":"指定类型为application/json。","in":"header","maxLength":32,"minLength":1,"name":"Content-Type","required":true,"type":"string"},{"description":"创建工作流请求消息体。","in":"body","name":"CreateWorkflowRequestBody","required":true,"schema":{"$ref":"#/definitions/WorkflowRequestBody"}}],"produces":["application/json"],"responses":{"200":{"description":"请求响应成功,返回工作流详情。","examples":{"application/json":{"citation_urns":[],"create_by":"xxxx","create_time":1670328762884,"description":"","edit_time":0,"enterprise_project_id":"0","execution_action_rules":["ecs:cloudServers:start","ecs:cloudServers:list"],"execution_permission":["CMS FullAccess","ECS FullAccess","AOM FullAccess"],"id":"c15a19ce-110b-4822-862a-a29677dbed6c","input":{"approve":{"group":"approve","need_approve":"false"},"get_instances":{"frontend_info":"{\"cmdbApplicationId\":\"xxxxx627611xxxd\"}","group":"ecs_instance","selectedData":"","type":"cmdb_dynamic_node"},"project_id":"2axxxxa54xxx73bxxxbfxxcf","rate_control":{"group":"rate_control","max":"1","timeDelay":"10"},"region_id":"cn-north-7"},"is_delete":false,"last_execute_by":"xxx","last_execution_end_time":1670328823670,"last_execution_id":"adxxxxb-4894-4xxc-80xx-7xxx3de24b","last_execution_start_time":1670328772402,"name":"快速任务执行xxxx0123xx9","nodes":[{"category":"service","description":"Start the ECS instances","id":"start-ecs-instances","ignore_error":true,"metadata":{"configuration":{"dataInputPath":"","dataOutputPath":"","dataResultsPath":"","func_app":"CMS","func_urn":"urn:fss:cn-north-7:xxxxxec14exxxx79b44xxxx57:function:CMS:CMS_DEFAULT_JAVA_FUN_NAME","func_version":"latest","parameters":[{"default":"","format":"","isEditor":false,"key":"properties.project_id","showFormat":false,"value":"2a47xxxx487f837xxxxxfc1cf"},{"default":"","format":"","isEditor":false,"key":"properties.region_id","showFormat":false,"value":"cn-north-7"},{"default":"","format":"","isEditor":false,"key":"properties.selectedData","showFormat":false,"value":""},{"default":"","format":"","isEditor":false,"key":"properties.frontend_info","showFormat":false,"value":"{\"cmdbApplicationId\":\"xxxxxxx96627xxxxxa3cd\"}"},{"default":"","format":"","isEditor":false,"key":"properties.type","showFormat":false,"value":"cmdb_dynamic_node"},{"default":"","format":"","isEditor":false,"key":"properties.group","showFormat":false,"value":"ecs_instance"},{"default":"","format":"","isEditor":false,"key":"properties.max","showFormat":false,"value":"1"},{"default":"","format":"","isEditor":false,"key":"properties.timeDelay","showFormat":false,"value":"10"},{"default":"","format":"","isEditor":false,"key":"properties.group","showFormat":false,"value":"rate_control"},{"default":"","format":"","isEditor":false,"key":"properties.executionId","showFormat":false,"value":"$.executionId"},{"default":"","format":"","isEditor":false,"key":"properties.workflowId","showFormat":false,"value":"xxxx9ce-xxxx-4822-xxxx-a296xxxxxc"},{"default":"","format":"","isEditor":false,"key":"properties.cmsTaskName2Distribute","showFormat":false,"value":"CMS::ECS::StartECS"},{"default":"","format":"","isEditor":false,"key":"properties.cmsAccessPodLb","showFormat":false,"value":"0.0.0.0"},{"default":"","format":"","isEditor":false,"key":"properties.workflowType","showFormat":false,"value":"manual"},{"default":"","format":"","isEditor":false,"key":"properties.nodeId","showFormat":false,"value":"start-ecs-instances"}],"validator":true},"type":"operation"},"name":"startECSInstance","task_name":"CMS::ECS::StartECS"}],"project_id":"2axxxx5487f83xxxx891xxx1cf","quote":[],"status":"success","steps":[],"tags":{},"task_type":"cloud","template_i18n":{"en-us":{"description":"Starting a HUAWEI CLOUD ECS Instance","name":"Starting an ECS Instance"},"zh-cn":{"description":"启动华为云ECS实例","name":"启动ECS实例"}},"template_id":"CMS::ECS::BulkyStartECSInstances","template_name":"CMS::ECS::BulkyStartECSInstances","type":"manual","update_time":1670328823794}},"schema":{"$ref":"#/definitions/Workflow"}},"400":{"description":"BadRequest。非法请求。建议直接修改该请求,不要重试该请求。","examples":{"application/json":{"error_code":"AOM.31001302","error_msg":"Invalid input parameter.","http_code":400}},"schema":{"$ref":"#/definitions/ResultInfo"}},"401":{"description":"Unauthorized。在客户端提供认证信息后,返回该状态码,表明服务端指出客户端所提供的认证信息不正确或非法。","examples":{"application/json":{"error_code":"AOM.31009003","error_msg":"auth failed.","http_code":401}},"schema":{"$ref":"#/definitions/ResultInfo"}},"500":{"description":"InternalServerError\n表明服务端能被请求访问到,但是不能理解用户的请求。","examples":{"application/json":{"error_code":"AOM.31001305","error_msg":"workflow internal server error.","http_code":500}},"schema":{"$ref":"#/definitions/ResultInfo"}}},"summary":"创建任务","tags":["自动化运维"],"x-is-registered":"Y","x-open-region-cloud":"hws","x-order":0,"x-request-examples-1":{"description":"","input":{"approve":{"group":"approve","need_approve":"false","reviewer_selected":null,"topic_selected":null},"isExist":"false","project_id":"xxx","rate_control":{"group":"rate_control","max":"0","timeDelay":"0"},"region_id":"cn-north-7"},"name":"xxx","tags":{},"task_type":"job","template_id":"xxx","template_name":"job_1","type":"manual"},"x-request-examples-10":{"description":"","input":{"approve":{"group":"approve","need_approve":"false","topic_selected":null},"get_instances":{"ecs_id_list":"[\"xxx\"]","ecs_instance_enterprise_project_id":null,"ecs_instance_status":null,"ecs_instance_tags":null,"frontend_info":null,"group":"ecs_instance","selectedData":null,"subnet_id":null,"type":"manual","vpc_id":null},"project_id":"xxx","rate_control":{"group":"rate_control","max":"1","timeDelay":"10"},"region_id":"cn-north-7"},"name":"xxx","tags":{},"task_type":"cloud","template_id":"CMS::ECS::BulkyStartECSInstances","template_name":"CMS::ECS::BulkyStartECSInstances","type":"manual"},"x-request-examples-2":{"description":"","input":{"approve":{"group":"approve","need_approve":"false","topic_selected":null},"cce_workload_restart_info":{"group":"cce_workload_restart_info","time_interval":"300"},"get_instances":{"cce_workload_cluster":"xxx","cce_workload_id_list":"[\"xxx\"]","cce_workload_namespace":null,"cce_workload_type":"deployments","frontend_info":null,"group":"cce_workload_instance","selectedData":null,"type":"manual"},"project_id":"xxx","rate_control":{"group":"rate_control","max":"2","timeDelay":"2"},"region_id":"cn-north-7"},"name":"xxx","tags":{},"task_type":"cloud","template_id":"CMS::CCE::RestartWorkloadInstance","template_name":"CMS::CCE::RestartWorkloadInstance","type":"manual"},"x-request-examples-3":{"description":"","input":{"approve":{"group":"approve","need_approve":"false","topic_selected":null},"get_instances":{"ecs_id_list":"[\"xxx\"]","ecs_instance_enterprise_project_id":null,"ecs_instance_status":null,"ecs_instance_tags":null,"frontend_info":null,"group":"ecs_instance","selectedData":null,"subnet_id":null,"type":"manual","vpc_id":null},"project_id":"xxx","rate_control":{"group":"rate_control","max":"0","timeDelay":"0"},"region_id":"cn-north-7","stop_ecs_type":{"group":"stop_ecs_type","stop_ecs_type":"SOFT"}},"name":"xxx","tags":{},"task_type":"cloud","template_id":"CMS::ECS::BulkyStopECSInstances","template_name":"CMS::ECS::BulkyStopECSInstances","type":"manual"},"x-request-examples-4":{"description":"","input":{"approve":{"group":"approve","need_approve":"false","topic_selected":null},"clean_disk":{"group":"clean_disk","path":"[{\"path\":\"/xxx/\",\"fileName\":\"xxxx.xx\",\"date\":\"1\"}]","platform":"linux"},"get_instances":{"ecs_id_list":"[\"xxx\"]","ecs_instance_enterprise_project_id":null,"ecs_instance_status":null,"ecs_instance_tags":null,"frontend_info":null,"group":"ecs_instance","selectedData":null,"subnet_id":null,"type":"manual","vpc_id":null},"project_id":"xxxxx","rate_control":{"group":"rate_control","max":"0","timeDelay":"0"},"region_id":"cn-north-7"},"name":"xxx","tags":{},"task_type":"cloud","template_id":"CMS::ECS::BulkyCleanDisks","template_name":"CMS::ECS::BulkyCleanDisks","type":"manual"},"x-request-examples-5":{"description":"","input":{"approve":{"group":"approve","need_approve":"false","topic_selected":null},"get_instances":{"ecs_id_list":"[\"xxxxx\"]","ecs_instance_enterprise_project_id":null,"ecs_instance_status":null,"ecs_instance_tags":null,"frontend_info":null,"group":"ecs_instance","selectedData":null,"subnet_id":null,"type":"manual","vpc_id":null},"project_id":"xxxxx","rate_control":{"group":"rate_control","max":"0","timeDelay":"0"},"region_id":"cn-north-7","user_password":{"group":"user_password","password":"xxxxx","username":"xxx"}},"name":"xxxxx","tags":{},"task_type":"cloud","template_id":"CMS::ECS::BulkyChangeECSPassword","template_name":"CMS::ECS::BulkyChangeECSPassword","type":"manual"},"x-request-examples-6":{"description":"","input":{"approve":{"group":"approve","need_approve":"false","topic_selected":null},"get_instances":{"ecs_id_list":"[\"xxx\"]","ecs_instance_enterprise_project_id":null,"ecs_instance_status":null,"ecs_instance_tags":null,"frontend_info":null,"group":"ecs_instance","selectedData":null,"subnet_id":null,"type":"manual","vpc_id":null},"package":{"cmd_user":"xxxxx","group":"package","install_file_dir":"/","install_script":"ls","operate_type":"install","package_basic_id":"xxx","package_name":"77779956","package_version_id":"xxx","plat_form":"Linux","pre_install_script":"","software_list":"[{x}]","time_out":"7200","un_install_script":"","version_number":"110"},"project_id":"xxx","rate_control":{"group":"rate_control","max":"0","timeDelay":"0"},"region_id":"cn-north-7"},"name":"xxx","tags":{},"task_type":"package","template_id":"CMS::ECS::Package","template_name":"CMS::ECS::Package","type":"manual"},"x-request-examples-7":{"description":"","input":{"approve":{"group":"approve","need_approve":"false","topic_selected":null},"get_instances":{"frontend_info":null,"group":"rds_instance","rds_id_list":"[\"xxx\"]","rds_instance_datastore_type":null,"rds_instance_tags":null,"rds_instance_type":null,"selectedData":null,"type":"manual"},"project_id":"xxx","rate_control":{"group":"rate_control","max":"0","timeDelay":"0"},"region_id":"cn-north-7"},"name":"xxx","tags":{},"task_type":"cloud","template_id":"CMS::RDS::RestartRDSInstance","template_name":"CMS::RDS::RestartRDSInstance","type":"manual"},"x-request-examples-8":{"description":"","input":{"approve":{"group":"approve","need_approve":"false","topic_selected":null},"get_instances":{"ecs_id_list":"[\"4380xxx9-33xf-4xxe-axxx-7xxxxxx3fcd\"]","group":"ecs_instance","subnet_id":null,"type":"manual","vpc_id":null},"project_id":"2xxxxxxca5xx8373xxx1bffxxcf","rate_control":{"group":"rate_control","max":"0","timeDelay":"0"},"region_id":"cn-north-7","script_param":{"cmd_user":"root","group":"script","scriptSelected":"null","script_args":"arg1 agr2","script_content":"date","script_id":"6xxxx097-a4x4-4dxx-axa2-fef5xxxxdd55","script_type":"SHELL","script_version_id":"47xxxd67-bxx5-45x9-860x-cb3d6xxxx745","sensitive_param":"false","sourceId":"script","time_out":"7200","version_number":"1.0"}},"name":"execute_task_demo","tags":{},"task_type":"script","template_id":"CMS::ECS::BulkyRunScript","template_name":"CMS::ECS::BulkyRunScript","type":"manual"},"x-request-examples-9":{"description":"","input":{"approve":{"group":"approve","need_approve":"false","topic_selected":null},"get_instances":{"ecs_id_list":"[\"4bxxxxx-xxxx-4c92-xxxx-19469d40a51c\"]","ecs_instance_enterprise_project_id":null,"ecs_instance_status":null,"ecs_instance_tags":null,"frontend_info":null,"group":"ecs_instance","selectedData":null,"subnet_id":null,"type":"manual","vpc_id":null},"notice":{"before_notice":null,"before_topic_selected":null,"fail_notice":null,"fail_topic_selected":null,"group":"notice","interval":null,"succeed_notice":null,"success_topic_selected":null},"project_id":"2xxx487fxxxxxbffc1cf","rate_control":{"group":"rate_control","max":"0","timeDelay":"0"},"region_id":"cn-north-7","script_param":{"cmd_user":"xxxxx","group":"script","name":"zzy","scriptSelected":"null","script_args":null,"script_content":"cd /xxx/xxx","script_id":"xxxx-7e9e-4eed-8xxf-5f1fxx6ebb7d","script_type":"SHELL","script_version_id":"e005xxx4-1fcf-40xx-b1x6-8dxxxcae7b021","sensitive_param":false,"sourceId":"script","time_out":"7200","version_number":"1.0"},"trigger":{"cron":null,"group":"trigger","period":"[\"0\",\"3\",\"4\",\"5\",\"6\"]","policy":"periodic","scheduled_time":"00:04:05","time_zone":"Asia/Riyadh"}},"name":"xxxxxshced","tags":{},"task_type":"script","template_id":"CMS::ECS::BulkyRunScript","template_name":"CMS::ECS::BulkyRunScript","type":"cron"},"x-request-examples-description-1":"使用任务名称为\"xxx\"、模板名称为\"job_1\"、输入参数为\"input\"来创建作业任务。","x-request-examples-description-10":"使用任务名称为\"xxx\"、模板名称为\"CMS::ECS::BulkyStartECSInstances\"、输入参数为\"input\"来创建启动ECS任务。","x-request-examples-description-2":"使用任务名称为\"xxx\"、模板名称为\"CMS::CCE::RestartWorkloadInstance\"、输入参数为\"input\"来创建重启工作负载任务。","x-request-examples-description-3":"使用任务名称为\"xxx\"、模板名称为\"CMS::ECS::BulkyStopECSInstances\"、输入参数为\"input\"来创建关闭ECS任务。","x-request-examples-description-4":"使用任务名称为\"xxx\"、模板名称为\"CMS::ECS::BulkyCleanDisks\"、输入参数为\"input\"来创建清理磁盘任务。","x-request-examples-description-5":"使用任务名称为\"xxx\"、模板名称为\"CMS::ECS::BulkyChangeECSPassword\"、输入参数为\"input\"来创建修改ECS密码任务。","x-request-examples-description-6":"使用任务名称为\"xxx\"、模板名称为\"CMS::ECS::Package\"、输入参数为\"input\"来创建快速分发文件任务。","x-request-examples-description-7":"使用任务名称为\"xxx\"、模板名称为\"CMS::RDS::RestartRDSInstance、输入参数为\"input\"来创建重启RDS任务。","x-request-examples-description-8":"使用任务名称为\"xxx\"、模板名称为\"CMS::ECS::BulkyRunScript\"、输入参数为\"input\"来创建执行脚本任务。","x-request-examples-description-9":"使用任务名称为\"xxx\"、模板名称为\"CMS::ECS::BulkyRunScript\"、输入参数为\"input\"来创建定时执行脚本任务。","x-request-examples-text-1":{"description":"","input":{"approve":{"group":"approve","need_approve":"false","reviewer_selected":null,"topic_selected":null},"isExist":"false","project_id":"xxx","rate_control":{"group":"rate_control","max":"0","timeDelay":"0"},"region_id":"cn-north-7"},"name":"xxx","tags":{},"task_type":"job","template_id":"xxx","template_name":"job_1","type":"manual"},"x-request-examples-text-10":{"description":"","input":{"approve":{"group":"approve","need_approve":"false","topic_selected":null},"get_instances":{"ecs_id_list":"[\"xxx\"]","ecs_instance_enterprise_project_id":null,"ecs_instance_status":null,"ecs_instance_tags":null,"frontend_info":null,"group":"ecs_instance","selectedData":null,"subnet_id":null,"type":"manual","vpc_id":null},"project_id":"xxx","rate_control":{"group":"rate_control","max":"1","timeDelay":"10"},"region_id":"cn-north-7"},"name":"xxx","tags":{},"task_type":"cloud","template_id":"CMS::ECS::BulkyStartECSInstances","template_name":"CMS::ECS::BulkyStartECSInstances","type":"manual"},"x-request-examples-text-2":{"description":"","input":{"approve":{"group":"approve","need_approve":"false","topic_selected":null},"cce_workload_restart_info":{"group":"cce_workload_restart_info","time_interval":"300"},"get_instances":{"cce_workload_cluster":"xxx","cce_workload_id_list":"[\"xxx\"]","cce_workload_namespace":null,"cce_workload_type":"deployments","frontend_info":null,"group":"cce_workload_instance","selectedData":null,"type":"manual"},"project_id":"xxx","rate_control":{"group":"rate_control","max":"2","timeDelay":"2"},"region_id":"cn-north-7"},"name":"xxx","tags":{},"task_type":"cloud","template_id":"CMS::CCE::RestartWorkloadInstance","template_name":"CMS::CCE::RestartWorkloadInstance","type":"manual"},"x-request-examples-text-3":{"description":"","input":{"approve":{"group":"approve","need_approve":"false","topic_selected":null},"get_instances":{"ecs_id_list":"[\"xxx\"]","ecs_instance_enterprise_project_id":null,"ecs_instance_status":null,"ecs_instance_tags":null,"frontend_info":null,"group":"ecs_instance","selectedData":null,"subnet_id":null,"type":"manual","vpc_id":null},"project_id":"xxx","rate_control":{"group":"rate_control","max":"0","timeDelay":"0"},"region_id":"cn-north-7","stop_ecs_type":{"group":"stop_ecs_type","stop_ecs_type":"SOFT"}},"name":"xxx","tags":{},"task_type":"cloud","template_id":"CMS::ECS::BulkyStopECSInstances","template_name":"CMS::ECS::BulkyStopECSInstances","type":"manual"},"x-request-examples-text-4":{"description":"","input":{"approve":{"group":"approve","need_approve":"false","topic_selected":null},"clean_disk":{"group":"clean_disk","path":"[{\"path\":\"/xxx/\",\"fileName\":\"xxxx.xx\",\"date\":\"1\"}]","platform":"linux"},"get_instances":{"ecs_id_list":"[\"xxx\"]","ecs_instance_enterprise_project_id":null,"ecs_instance_status":null,"ecs_instance_tags":null,"frontend_info":null,"group":"ecs_instance","selectedData":null,"subnet_id":null,"type":"manual","vpc_id":null},"project_id":"xxxxx","rate_control":{"group":"rate_control","max":"0","timeDelay":"0"},"region_id":"cn-north-7"},"name":"xxx","tags":{},"task_type":"cloud","template_id":"CMS::ECS::BulkyCleanDisks","template_name":"CMS::ECS::BulkyCleanDisks","type":"manual"},"x-request-examples-text-5":{"description":"","input":{"approve":{"group":"approve","need_approve":"false","topic_selected":null},"get_instances":{"ecs_id_list":"[\"xxxxx\"]","ecs_instance_enterprise_project_id":null,"ecs_instance_status":null,"ecs_instance_tags":null,"frontend_info":null,"group":"ecs_instance","selectedData":null,"subnet_id":null,"type":"manual","vpc_id":null},"project_id":"xxxxx","rate_control":{"group":"rate_control","max":"0","timeDelay":"0"},"region_id":"cn-north-7","user_password":{"group":"user_password","password":"xxxxx","username":"xxx"}},"name":"xxxxx","tags":{},"task_type":"cloud","template_id":"CMS::ECS::BulkyChangeECSPassword","template_name":"CMS::ECS::BulkyChangeECSPassword","type":"manual"},"x-request-examples-text-6":{"description":"","input":{"approve":{"group":"approve","need_approve":"false","topic_selected":null},"get_instances":{"ecs_id_list":"[\"xxx\"]","ecs_instance_enterprise_project_id":null,"ecs_instance_status":null,"ecs_instance_tags":null,"frontend_info":null,"group":"ecs_instance","selectedData":null,"subnet_id":null,"type":"manual","vpc_id":null},"package":{"cmd_user":"xxxxx","group":"package","install_file_dir":"/","install_script":"ls","operate_type":"install","package_basic_id":"xxx","package_name":"77779956","package_version_id":"xxx","plat_form":"Linux","pre_install_script":"","software_list":"[{x}]","time_out":"7200","un_install_script":"","version_number":"110"},"project_id":"xxx","rate_control":{"group":"rate_control","max":"0","timeDelay":"0"},"region_id":"cn-north-7"},"name":"xxx","tags":{},"task_type":"package","template_id":"CMS::ECS::Package","template_name":"CMS::ECS::Package","type":"manual"},"x-request-examples-text-7":{"description":"","input":{"approve":{"group":"approve","need_approve":"false","topic_selected":null},"get_instances":{"frontend_info":null,"group":"rds_instance","rds_id_list":"[\"xxx\"]","rds_instance_datastore_type":null,"rds_instance_tags":null,"rds_instance_type":null,"selectedData":null,"type":"manual"},"project_id":"xxx","rate_control":{"group":"rate_control","max":"0","timeDelay":"0"},"region_id":"cn-north-7"},"name":"xxx","tags":{},"task_type":"cloud","template_id":"CMS::RDS::RestartRDSInstance","template_name":"CMS::RDS::RestartRDSInstance","type":"manual"},"x-request-examples-text-8":{"description":"","input":{"approve":{"group":"approve","need_approve":"false","topic_selected":null},"get_instances":{"ecs_id_list":"[\"4380xxx9-33xf-4xxe-axxx-7xxxxxx3fcd\"]","group":"ecs_instance","subnet_id":null,"type":"manual","vpc_id":null},"project_id":"2xxxxxxca5xx8373xxx1bffxxcf","rate_control":{"group":"rate_control","max":"0","timeDelay":"0"},"region_id":"cn-north-7","script_param":{"cmd_user":"root","group":"script","scriptSelected":"null","script_args":"arg1 agr2","script_content":"date","script_id":"6xxxx097-a4x4-4dxx-axa2-fef5xxxxdd55","script_type":"SHELL","script_version_id":"47xxxd67-bxx5-45x9-860x-cb3d6xxxx745","sensitive_param":"false","sourceId":"script","time_out":"7200","version_number":"1.0"}},"name":"execute_task_demo","tags":{},"task_type":"script","template_id":"CMS::ECS::BulkyRunScript","template_name":"CMS::ECS::BulkyRunScript","type":"manual"},"x-request-examples-text-9":{"description":"","input":{"approve":{"group":"approve","need_approve":"false","topic_selected":null},"get_instances":{"ecs_id_list":"[\"4bxxxxx-xxxx-4c92-xxxx-19469d40a51c\"]","ecs_instance_enterprise_project_id":null,"ecs_instance_status":null,"ecs_instance_tags":null,"frontend_info":null,"group":"ecs_instance","selectedData":null,"subnet_id":null,"type":"manual","vpc_id":null},"notice":{"before_notice":null,"before_topic_selected":null,"fail_notice":null,"fail_topic_selected":null,"group":"notice","interval":null,"succeed_notice":null,"success_topic_selected":null},"project_id":"2xxx487fxxxxxbffc1cf","rate_control":{"group":"rate_control","max":"0","timeDelay":"0"},"region_id":"cn-north-7","script_param":{"cmd_user":"xxxxx","group":"script","name":"zzy","scriptSelected":"null","script_args":null,"script_content":"cd /xxx/xxx","script_id":"xxxx-7e9e-4eed-8xxf-5f1fxx6ebb7d","script_type":"SHELL","script_version_id":"e005xxx4-1fcf-40xx-b1x6-8dxxxcae7b021","sensitive_param":false,"sourceId":"script","time_out":"7200","version_number":"1.0"},"trigger":{"cron":null,"group":"trigger","period":"[\"0\",\"3\",\"4\",\"5\",\"6\"]","policy":"periodic","scheduled_time":"00:04:05","time_zone":"Asia/Riyadh"}},"name":"xxxxxshced","tags":{},"task_type":"script","template_id":"CMS::ECS::BulkyRunScript","template_name":"CMS::ECS::BulkyRunScript","type":"cron"},"x-request-examples-url-1":"https://{Endpoint}/v1/{project_id}/cms/workflow","x-request-examples-url-10":"https://{Endpoint}/v1/{project_id}/cms/workflow","x-request-examples-url-2":"https://{Endpoint}/v1/{project_id}/cms/workflow","x-request-examples-url-3":"https://{Endpoint}/v1/{project_id}/cms/workflow","x-request-examples-url-4":"https://{Endpoint}/v1/{project_id}/cms/workflow","x-request-examples-url-5":"https://{Endpoint}/v1/{project_id}/cms/workflow","x-request-examples-url-6":"https://{Endpoint}/v1/{project_id}/cms/workflow","x-request-examples-url-7":"https://{Endpoint}/v1/{project_id}/cms/workflow","x-request-examples-url-8":"https://{Endpoint}/v1/{project_id}/cms/workflow","x-request-examples-url-9":"https://{Endpoint}/v1/{project_id}/cms/workflow","x-support-sdk":"Y"}}},"product_short":"AOM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建任务","tags":"自动化运维","uri":null,"version":"2.0"}