{"base_path":"/","components":null,"consumes":"","definitions":{"AccessAPIResultInfo":{"description":"响应信息","properties":{"errorCode":{"description":"响应码。","type":"string"},"errorMessage":{"description":"响应信息描述。","type":"string"}}},"Dimension2":{"description":"指标维度参数","properties":{"name":{"description":"维度名称。","maxLength":32,"minLength":1,"type":"string"},"value":{"description":"维度取值。","maxLength":64,"minLength":1,"type":"string"}},"required":["name","value"],"type":"object"},"MetricDataItem":{"description":"指标","properties":{"collect_time":{"description":"数据收集时间支持过去1天和未来半小时范围内的数据上报。数据收集时间需要满足:\n\n当前UTC时间减去collect_time小于等于24小时或者collect_time减去当前UTC时间小于等于30分钟。\n\n若数据上报时间早于当天8点,则指标监控页面只显示当天8点后的数据。取值范围: UNIX时间戳,单位毫秒。","format":"int64","type":"integer"},"metric":{"$ref":"#/definitions/MetricItemInfo"},"values":{"description":"指标数据的值。","items":{"$ref":"#/definitions/ValueData"},"type":"array"}},"required":["collect_time","metric","values"],"type":"object"},"MetricItemInfo":{"description":"指标详细信息。","properties":{"dimensions":{"description":"指标维度列表。维度最多允许50个,单个维度为json对象,结构说明如下\ndimension.name:长度最短为1,最大为32。\ndimension.value:长度最短为1,最大为64。","items":{"$ref":"#/definitions/Dimension2"},"type":"array"},"namespace":{"description":"指标命名空间。\nnamespace中不允许存在\":\"符号,取值范围格式为service.item;service和item必须是字符串,必须以字母开头,只能包含0-9/a-z/A-Z/_,总长度最短为3,最大为32,service不能为“PAAS”。","maxLength":32,"minLength":3,"type":"string"}},"required":["dimensions","namespace"],"type":"object"},"ValueData":{"description":"指标具体数值。","properties":{"metric_name":{"description":"指标名称。长度1~255。","type":"string"},"type":{"description":"数据的类型。取值范围只能是\"int\"或\"float\"。","enum":["int","float"],"type":"string"},"unit":{"description":"数据的单位。长度不超过32个字符。","type":"string"},"value":{"description":"指标数据的值。取值范围有效的数值类型。","format":"double","minimum":0,"type":"number"}},"required":["metric_name","value"],"type":"object"}},"description":null,"group_id":"ac32153cf89a435d96dd423fdce82920","host":"aom.cn-north-4.myhuaweicloud.com","id":"c827be3e94a243a1b8ad0c016cc4feab","info_version":"v2","method":"post","name":"AddMetricData","parameters":{},"paths":{"/v1/{project_id}/ams/report/metricdata":{"post":{"consumes":["application/json"],"description":"该接口用于向服务端添加一条或多条监控数据。(当前接口未上线墨西哥城二、圣地亚哥、圣保罗一)","operationId":"AddMetricData","parameters":[{"description":"租户从IAM申请到的projectid,一般为32位字符串。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"指标参数信息。","in":"body","name":"MetricDataParam","required":true,"schema":{"items":{"$ref":"#/definitions/MetricDataItem"},"type":"array"}},{"description":"从IAM服务获取的用户Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"指定类型为application/json。","enum":["application/json"],"in":"header","name":"Content-Type","required":true,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"OK 请求响应成功。","examples":{"application/json":{"errorCode":"SVCSTG_AMS_2000000","errorMessage":"success"}},"schema":{"$ref":"#/definitions/AccessAPIResultInfo"}},"400":{"description":"BadRequest 非法请求。建议直接修改该请求,不要重试该请求。","schema":{"type":"string"}},"401":{"description":"Unauthorized  在客户端提供认证信息后,返回该状态码,表明服务端指出客户端所提供的认证信息不正确或非法。","schema":{"type":"string"}},"403":{"description":"Forbidden 请求被拒绝访问。返回该状态码,表明请求能够到达服务端,且服务端能够理解用户请求,但是拒绝做更多的事情,因为该请求被设置为拒绝访问,建议直接修改该请求,不要重试该请求。","schema":{"type":"string"}},"500":{"description":"InternalServerError 表明服务端能被请求访问到,但是不能理解用户的请求。","schema":{"type":"string"}},"503":{"description":"ServiceUnavailable 被请求的服务无效。建议直接修改该请求,不要重试该请求。","schema":{"type":"string"}}},"summary":"添加监控数据","tags":["监控"],"x-hybridcloud":true,"x-is-registered":"Y","x-publishpath":"aom_04_0013","x-request-examples-1":[{"collect_time":1467787152000,"metric":{"dimensions":[{"name":"instance_id","value":"instance-101"}],"namespace":"NOPAAS.ESC"},"values":[{"metric_name":"cpu_util","type":"int","unit":"percent","value":35}]}],"x-request-examples-description-1":"向服务端添加一条指标名称为“cpu_util”且维度名称为“instance_id”的监控数据(下述例子中,\"collect_time\"应填写为最新的时间戳)。","x-request-examples-text-1":[{"collect_time":1467787152000,"metric":{"dimensions":[{"name":"instance_id","value":"instance-101"}],"namespace":"NOPAAS.ESC"},"values":[{"metric_name":"cpu_util","type":"int","unit":"percent","value":35}]}],"x-request-examples-url-1":"https://{Endpoint}/v1/{project_id}/ams/report/metricdata","x-support-sdk":"Y"}}},"product_short":"AOM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"添加监控数据","tags":"监控","uri":null,"version":"2.0"}