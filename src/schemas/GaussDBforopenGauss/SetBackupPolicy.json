{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"BackupPolicy":{"description":"备份策略信息。","properties":{"differential_period":{"description":"差异备份间隔时间配置。每次自动差异备份的间隔时间。\n\n取值范围:15、30、60、180、360、720、1440。单位:分钟。\n\n取值示例:30","example":"30","type":"string"},"enable_standby_backup":{"default":false,"description":"是否启用备机备份。\n\n取值范围:true|false","type":"boolean"},"file_split_size":{"description":"全量、差量备份时产生的备份文件会根据分片大小进行拆分,可设置范围为0~1024GB,设置需为4的倍数,默认4GB,0GB表示不限制大小。\n\n取值范围:0 ~ 1024","example":4,"maximum":1024,"minimum":0,"type":"integer"},"filesplit_size":{"description":"废弃。","example":4,"maximum":1024,"minimum":0,"type":"integer"},"keep_days":{"description":"备份文件可以保存的天数。\n\n取值范围:1-732天。","example":"7","format":"int32","type":"integer"},"period":{"description":"全量备份周期配置。自动全量备份将在每星期指定的天进行。取值范围:格式为逗号隔开的数字,数字代表星期。取值示例:1,2,3,4则表示备份周期配置为星期一、星期二、星期三和星期四。","example":"1,2,3,4","type":"string"},"prefetch_block":{"description":"控制差量备份时读取磁盘上表文件差量修改页面的预取页面个数。当差量修改页面非常集中时(如数据导入场景),可以适当调大该值;当差量修改页面非常分散时(如随机更新),可以适当调小该值。\n\n取值范围:1 ~ 8192","example":64,"maximum":8192,"minimum":1,"type":"integer"},"rate_limit":{"description":"备份限速\n\n取值范围:0 ~ 1024","example":0,"maximum":1024,"minimum":0,"type":"integer"},"start_time":{"description":"备份时间段。自动备份将在该时间段内触发。\n\n取值范围:非空,格式必须为hh:mm-HH:MM且有效,当前时间指UTC时间。\n\nHH取值必须比hh大1,mm和MM取值必须相同,且取值必须为00。\n\n取值示例:\n\n21:00-22:00","example":"21:00-22:00","type":"string"}},"required":["keep_days","start_time","period","differential_period"]},"OpenGaussErrorResponse":{"properties":{"error_code":{"description":"错误码","example":"DBS.200022","type":"string"},"error_msg":{"description":"错误消息。","example":"实例名称已存在。","type":"string"}},"required":["error_code","error_msg"]},"SetBackupPolicyRequestBody":{"properties":{"backup_policy":{"$ref":"#/definitions/BackupPolicy","description":"备份策略对象,包括备份保留的天数和备份开始时间。"}},"required":["backup_policy"]}},"description":null,"group_id":"cb81c3e0ae314c27a40e8fc90fd34a80","host":"gaussdb-opengauss.cn-north-4.myhuaweicloud.com","id":"553815dabf5d4a02a7c1f6ed1cb70073","info_version":"v3","method":"put","name":"SetBackupPolicy","parameters":{},"paths":{"/v3/{project_id}/instances/{instance_id}/backups/policy":{"put":{"description":"设置自动备份策略。","operationId":"SetBackupPolicy","parameters":[{"description":"用户Token。","in":"header","name":"x-auth-token","required":false,"type":"string","x-example":"******"},{"default":"en-us","description":"语言。默认值:en-us。","enum":["zh-cn","en-us"],"in":"header","name":"X-Language","required":false,"type":"string","x-example":"zh-cn"},{"description":"租户在某一region下的project ID。\n\n获取方法请参见[获取项目ID](https://support.huaweicloud.com/api-opengauss/opengauss_api_0034.html)。","in":"path","name":"project_id","required":true,"type":"string","x-example":"619d3e78f61b4be68bc5aa0b59edcf7b"},{"description":"实例ID,严格匹配UUID规则。","in":"path","name":"instance_id","required":true,"type":"string","x-example":"cc6fd964d93f4003851dfc29d57d30a5in14"},{"description":"请求体。","in":"body","name":"SetBackupPolicyRequestBody","required":true,"schema":{"$ref":"#/definitions/SetBackupPolicyRequestBody"}}],"responses":{"200":{"description":"Success."},"default":{"description":"Client or server error.","schema":{"$ref":"#/definitions/OpenGaussErrorResponse"}}},"summary":"设置自动备份策略。","tags":["备份管理"],"x-apiexplorer-hide":"false","x-apigateway-ratelimit":"opengauss_default_policy","x-is-registered":"Y","x-request-examples-1":{"backup_policy":{"differential_period":"30","enable_standby_backup":"false","filesplit_size":4,"keep_days":7,"period":"1,2,3,4,5","prefetch_block":64,"rate_limit":75,"start_time":"19:00-20:00"}},"x-request-examples-description-1":"开启或修改自动备份策略:","x-request-examples-url-1":"PUT https://{endpoint}/v3/0483b6b16e954cb88930a360d2c4e663/instances/dsfae23fsfdsae3435in14/backups/policy","x-support-sdk":"Y"}}},"product_short":"GaussDBforopenGauss","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"设置自动备份策略。","tags":"备份管理","uri":null,"version":"2.0"}