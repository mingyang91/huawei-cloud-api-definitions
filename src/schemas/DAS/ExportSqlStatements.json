{"base_path":"/","components":null,"consumes":"","definitions":{"ErrorResp":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":8,"type":"string"},"error_msg":{"description":"错误描述","maxLength":512,"minLength":2,"type":"string"}},"required":["error_code","error_msg"]},"ExportFullSqlResp":{"properties":{"next_marker":{"description":"获取下一页所需的标识符。marker仅在3分钟内有效。","type":"string"},"statements":{"description":"全量SQL集合。当集合为空时,说明SQL已全部导出。","items":{"$ref":"#/definitions/FullSql"},"type":"array"}},"required":["statements","next_marker"]},"FullSql":{"properties":{"client":{"description":"客户端。","type":"string"},"database":{"description":"数据库名。","type":"string"},"error_no":{"description":"错误码。","type":"string"},"execute_at":{"description":"执行开始时间(Unix timestamp),单位:毫秒。","format":"int64","type":"integer"},"lock_time":{"description":"锁等待耗时(毫秒)。","format":"double","type":"number"},"operate_type":{"description":"操作类型。","type":"string"},"query_time":{"description":"执行耗时(毫秒)。","format":"double","type":"number"},"rows_affected":{"description":"更新行数。","format":"int64","type":"integer"},"rows_examined":{"description":"扫描行数。","format":"int64","type":"integer"},"rows_sent":{"description":"返回行数。","format":"int64","type":"integer"},"sql":{"description":"SQL语句。","type":"string"},"status":{"description":"状态。","type":"string"},"thread_id":{"description":"线程ID。","type":"string"},"user":{"description":"用户。","type":"string"}},"required":["sql","operate_type","status","error_no","database","client","thread_id","user","execute_at","query_time","lock_time","rows_examined","rows_sent","rows_affected"]}},"description":null,"group_id":"7f831fc0dd494cfe86eff0b79e4f207d","host":"das.cn-north-4.myhuaweicloud.com","id":"db1d080f02dc4c7f94cd87daa28d83e5","info_version":"v3","method":"get","name":"ExportSqlStatements","parameters":{},"paths":{"/v3/{project_id}/instances/{instance_id}/sql-statements":{"get":{"description":"全量SQL开关打开后,一次性导出指定时间范围内的全量SQL数据,支持分页滚动获取。该功能仅支持付费实例。","operationId":"ExportSqlStatements","parameters":[{"description":"项目ID。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"实例ID。","in":"path","name":"instance_id","required":true,"type":"string"},{"description":"开始时间(Unix timestamp),单位:毫秒。","format":"int64","in":"query","name":"start_at","required":true,"type":"integer"},{"description":"结束时间(Unix timestamp),单位:毫秒。","format":"int64","in":"query","name":"end_at","required":true,"type":"integer"},{"description":"每页记录数。最大为2000。","format":"int32","in":"query","name":"limit","required":true,"type":"integer"},{"description":"指定一个标识符。获取第一页时不用赋值,获取下一页时取上页查询结果的返回值。","in":"query","name":"marker","required":false,"type":"string"},{"description":"数据库类型。支持MySQL和GaussDB(for MySQL)。","in":"query","name":"datastore_type","required":true,"type":"string"},{"description":"用户Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"请求语言类型。","enum":["en-us","zh-cn"],"in":"header","name":"X-Language","required":false,"type":"string"}],"responses":{"200":{"description":"Success.","examples":{"application/json":{"next_marker":"DXF1ZXJ5QW5kRmV0Y2gBAAAAAAASG3cWcHVpdktBU1lTbjJMM2tmYXYxZ09nUQ==","statements":[{"client":"100.79.3.154","database":"","error_no":"","execute_at":1612403000100,"lock_time":0,"operate_type":"select","query_time":0,"rows_affected":0,"rows_examined":0,"rows_sent":1,"sql":"SELECT 1","status":"success","thread_id":"11481954","user":"root"}]}},"schema":{"$ref":"#/definitions/ExportFullSqlResp"}},"400":{"description":"Client error.","schema":{"$ref":"#/definitions/ErrorResp"}},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/ErrorResp"}}},"summary":"导出全量SQL","tags":["云DBA"],"x-das-is-publish":"#ExportSqlStatements_Placeholder#","x-is-registered":"Y","x-order":16,"x-request-examples-url-1":"GET https://das.cn-north-1.myhuaweicloud.com/v3/054e292c9880d4992f02c0196d3ea468/instances/da304cd5bbb944de828759bc7be3d3fein01/sql-statements?start_at=1611975464337&end_at=1611979064337&limit=10&marker=DXF1ZXJ5QW5kRmV0Y2gBAAAAAAAQH8YWSEFfM3FyOXZRNzJQOTVLNHNBOTQ2UQ==&datastore_type=MySQL","x-support-sdk":"Y"}}},"product_short":"DAS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"导出全量SQL","tags":"云DBA","uri":null,"version":"2.0"}