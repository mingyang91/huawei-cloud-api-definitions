{"base_path":"/","components":null,"consumes":"[\"application/json\",\"application/json; charset=UTF-8\"]","definitions":{"ErrorResponse":{"properties":{"error_code":{"description":"错误码。\n","type":"string"},"error_msg":{"description":"错误描述。\n","type":"string"}},"type":"object"},"Review":{"description":"媒资审核参数","properties":{"interval":{"description":"截图检测时间间隔,取值范围为[0,100],该参数在请求参数中忽略。","type":"integer"},"politics":{"description":"鉴政内容检测置信度,取值范围为[0,100],该参数在请求参数中忽略。 置信度越高,说明审核结果越可信。未开启或设置为0时,表示未进行此项检测。","type":"integer"},"porn":{"description":"鉴黄内容的检测置信度,取值范围为[0,100],该参数在请求参数中忽略。 置信度越高,说明审核结果越可信。未开启或设置为0时,表示未进行此项检测。  ","type":"integer"},"template_id":{"description":"审核模板ID。您可以在视频点播控制台配置审核模板后获取,具体请参见[审核设置](https://support.huaweicloud.com/usermanual-vod/vod_01_0057.html)。","type":"string"},"terrorism":{"description":"鉴恐内容的检测置信度,取值范围为[0,100],该参数在请求参数中忽略。 置信度越高,说明审核结果越可信。未开启或设置为0时,表示未进行此项检测。","type":"integer"}},"required":["template_id"]},"Thumbnail":{"description":"截图参数","properties":{"aspect_ratio":{"default":0,"description":"纵横比,图像缩放方式。\n\n取值如下:\n- 0:自适应(保持原有宽高比)。\n- 1:16:9。\n\n默认值:0。","type":"integer"},"cover_position":{"description":"该值表示指定第几张截图作为封面。\n\n默认值:1。","type":"integer"},"dots":{"description":"**type**取值为dots时必填。指定时间截图时的时间点数组。","items":{"type":"integer"},"type":"array"},"format":{"default":1,"description":"截图文件格式。\n\n取值如下:\n- 1:jpg。\n\n默认值:1 。","type":"integer"},"max_length":{"description":"截图最长边的尺寸。\n\n单位:像素。\n\n宽边尺寸按照该尺寸与原始视频像素等比缩放计算。","type":"integer"},"quantity":{"description":"**type**取值为quantity时必填。 按照指定张数,根据视频时长等分视频截图。\n取值范围:[1,10]之间的整数。","format":"int32","maximum":10,"minimum":1,"type":"integer"},"quantity_time":{"description":"**type**取值为quantity时选填。 按照指定时间间隔取指定张数截图。\n取值范围:[0,2147483647]之间的整数。","format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"time":{"description":"根据时间间隔采样时的时间间隔值。单位:秒。\n**type**取值为time时。\n默认值:12\n取值范围:[0,100]之间的整数。","format":"int32","maximum":100,"minimum":0,"type":"integer"},"type":{"description":"截图类型。\n\n取值如下:\n- time:每次进行截图的间隔时间。\n- dots: 按照指定的时间点截图。\n- quantity: 按照指定张数,根据视频时长等分视频截图。","enum":["time","dots","quantity"],"type":"string"}},"required":["type"]},"UploadAsset":{"properties":{"asset_id":{"description":"新创建媒资的媒资id\n","type":"string"},"error_code":{"description":"错误码。\n","type":"string"},"error_msg":{"description":"错误描述。\n","type":"string"},"url":{"description":"媒资所在url\n","type":"string"}},"type":"object"},"UploadMetaDataByUrl":{"properties":{"auto_encrypt":{"description":"是否自动加密。\n\n取值如下:\n- 0:表示不加密。\n- 1:表示需要加密。\n\n默认值:0。若设置为需要加密,则必须配置转码模板,且转码的输出格式是HLS。","format":"int32","type":"integer"},"auto_preheat":{"description":"是否自动预热到CDN。\n\n取值如下:\n- 0:表示不自动预热。\n- 1:表示自动预热。\n\n默认值:0。","format":"int32","type":"integer"},"auto_publish":{"description":"是否自动发布。\n\n取值如下:\n- 0:表示不自动发布。\n- 1:表示自动发布。\n\n默认值:0。","format":"int32","type":"integer"},"category_id":{"description":"媒资分类ID。\n\n您可以调用[创建媒资分类](https://support.huaweicloud.com/api-vod/vod_04_0028.html)接口或在点播控制台的[分类设置](https://support.huaweicloud.com/usermanual-vod/vod010006.html)中创建对应的媒资分类,并获取分类ID。\n\n> 若不设置或者设置为-1,则上传的音视频归类到系统预置的“其它”分类中。","format":"int32","type":"integer"},"description":{"description":"视频描述,长度不超过1024个字节。","type":"string"},"review":{"$ref":"#/definitions/Review"},"tags":{"description":"视频标签。\n\n单个标签不超过16个字节,最多不超过16个标签。\n\n多个用逗号分隔,UTF8编码。","type":"string"},"template_group_name":{"description":"转码模板组名称。\n\n若不为空,则使用指定的转码模板对上传的音视频进行转码,您可以在视频点播控制台配置转码模板,具体请参见[转码设置](https://support.huaweicloud.com/usermanual-vod/vod_01_0072.html)。\n\n>若同时设置了“**template_group_name**”和“**workflow_name**”字段,则“**template_group_name**”字段生效。","type":"string"},"thumbnail":{"$ref":"#/definitions/Thumbnail"},"title":{"description":"媒资标题,长度不超过128个字节,UTF-8编码。","type":"string"},"url":{"description":"音视频源文件URL。\n\n\n> URL必须以扩展名结尾,暂只支持http和https协议。","type":"string"},"video_type":{"description":"上传音视频文件的格式。\n\n取值如下:\n- 视频文件:MP4、TS、MOV、MXF、MPG、FLV、WMV、AVI、M4V、F4V、MPEG、3GP、ASF、MKV、M3U8\n- 音频文件:MP3、OGG、WAV、WMA、APE、FLAC、AAC、AC3、MMF、AMR、M4A、M4R、WV、MP2\n\n若上传格式为音频文件,则不支持转码、添加水印和字幕。","enum":["MP4","TS","MOV","MXF","MPG","FLV","WMV","AVI","M4V","F4V","MPEG","3GP","ASF","MKV","MP3","OGG","WAV","WMA","APE","FLAC","AAC","AC3","MMF","AMR","M4A","M4R","WV","MP2","M3U8"],"type":"string"},"workflow_name":{"description":"工作流名称。\n\n若不为空,则使用指定的工作流对上传的音视频进行处理,您可以在视频点播控制台配置工作流,具体请参见[工作流设置](https://support.huaweicloud.com/usermanual-vod/vod010041.html)。","type":"string"}},"required":["video_type","title","url"]},"UploadMetaDataByUrlReq":{"properties":{"upload_metadatas":{"description":"待拉取创建的媒资元数据","items":{"$ref":"#/definitions/UploadMetaDataByUrl"},"type":"array"}},"required":["upload_metadatas"]},"UploadMetaDataByUrlRsp":{"properties":{"upload_assets":{"description":"待拉取创建的媒资元数据","items":{"$ref":"#/definitions/UploadAsset"},"type":"array"}},"type":"object"}},"description":null,"group_id":"910d42c390184883b1dac70100139fe5","host":"vod.cn-north-4.myhuaweicloud.com","id":"c0fcca15aa1848f58ba533002ce02a56","info_version":"v1","method":"post","name":"UploadMetaDataByUrl","parameters":{"xAuthToken":{"description":"用户Token,使用Token鉴权方式时必选。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。\n","in":"header","maxLength":16384,"minLength":0,"name":"X-Auth-Token","required":false,"type":"string"},"xSdkDate":{"description":"使用AK/SK方式认证时必选,请求的发生时间。\n","in":"header","maxLength":256,"minLength":1,"name":"X-Sdk-Date","required":false,"type":"string","x-example":"20191115T033655Z"}},"paths":{"/v1.0/{project_id}/asset/upload_by_url":{"post":{"description":"基于音视频源文件URL,将音视频文件离线拉取上传到点播服务。","operationId":"UploadMetaDataByUrl","parameters":[{"$ref":"#/parameters/xAuthToken"},{"$ref":"#/parameters/xSdkDate"},{"description":"项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/usermanual-vod/vod_01_0058.html)","in":"path","maxLength":64,"minLength":1,"name":"project_id","required":true,"type":"string","x-example":"70b76xxxxxx34253880af501cdxxxxxx"},{"description":"创建媒资:URL拉取注入","in":"body","name":"UploadMetaDataByUrlReq","required":true,"schema":{"$ref":"#/definitions/UploadMetaDataByUrlReq"}}],"responses":{"200":{"description":"处理成功返回。","examples":{"application/json":{"upload_assets":[{"asset_id":"f488337c31c8e4622f1590735b134c65","error_code":null,"error_msg":null,"url":"https://mpc-test.obs.cn-north-4.myhuaweicloud.com/Avatar_480P.mp4"},{"asset_id":"f488337c31c8e4622f1590525b134c65","error_code":null,"error_msg":null,"url":"https://mpc-test.obs.cn-north-4.myhuaweicloud.com/Avatar_720.mp4"}]}},"schema":{"$ref":"#/definitions/UploadMetaDataByUrlRsp"}},"400":{"description":"处理失败返回。","examples":{"application/json":{"error_code":"VOD.10003","error_msg":"The specified key does not exist."}},"schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"创建媒资:URL拉取注入","tags":["媒资上传"],"x-apiexplorer-hide":"N","x-external-api":true,"x-is-registered":"Y","x-publishpath":"vod_04_0052","x-request-examples-1":{"upload_metadatas":[{"auto_publish":1,"category_id":1,"description":"Avatar, test","tags":"mytags","title":"Avatar test test","url":"https://mpc-test.obs.cn-north-4.myhuaweicloud.com/Avatar_480P.mp4","video_type":"MP4"},{"auto_publish":1,"category_id":1,"description":"Avatar, test","tags":"mytags","title":"Avatar test test","url":"https://mpc-test.obs.cn-north-4.myhuaweicloud.com/Avatar_720.mp4","video_type":"MP4"}]},"x-request-examples-text-1":{"upload_metadatas":[{"auto_publish":1,"category_id":1,"description":"Avatar, test","tags":"mytags","title":"Avatar test test","url":"https://mpc-test.obs.cn-north-4.myhuaweicloud.com/Avatar_480P.mp4","video_type":"MP4"},{"auto_publish":1,"category_id":1,"description":"Avatar, test","tags":"mytags","title":"Avatar test test","url":"https://mpc-test.obs.cn-north-4.myhuaweicloud.com/Avatar_720.mp4","video_type":"MP4"}]},"x-request-examples-url-1":"POST https://{endpoint}/v1.0/{project_id}/asset/upload_by_url","x-support-sdk":"Y"}}},"product_short":"VOD","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建媒资:URL拉取注入","tags":"媒资上传","uri":null,"version":"2.0"}