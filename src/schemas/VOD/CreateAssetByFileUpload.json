{"base_path":"/","components":null,"consumes":"[\"application/json\",\"application/json; charset=UTF-8\"]","definitions":{"CreateAssetByFileUploadReq":{"properties":{"auto_encrypt":{"default":0,"description":"是否自动加密。\n\n取值如下:\n- 0:表示不加密。\n- 1:表示需要加密。\n\n默认值:0。\n\n加密与转码必须要一起进行,当需要加密时,转码参数不能为空,且转码输出格式必须要为HLS。","type":"integer"},"auto_preheat":{"description":"是否自动预热到CDN。\n\n取值如下:\n- 0:表示不自动预热。\n- 1:表示自动预热。\n\n默认值:0。","example":"integer","type":"string"},"auto_publish":{"description":"是否自动发布。\n\n取值如下:\n- 0:表示不自动发布。\n- 1:表示自动发布。\n\n默认值:0。","enum":[0,1],"example":"integer","format":"int32","type":"integer"},"category_id":{"description":"媒资分类ID。\n\n您可以调用[创建媒资分类](https://support.huaweicloud.com/api-vod/vod_04_0028.html)接口或在点播控制台的[分类设置](https://support.huaweicloud.com/usermanual-vod/vod010006.html)中创建对应的媒资分类,并获取分类ID。\n\n> 若不设置或者设置为-1,则上传的音视频归类到系统预置的“其它”分类中。","example":"integer","type":"string"},"cover_md5":{"description":"封面文件MD5值","type":"string"},"cover_type":{"description":"封面图片文件类型。\n\n取值如下:\n- JPG\n- PNG\n\n上传后的封面名称是固定的,后缀名为封面类型缩写。例如cover0.jpg,cover1.png\n若不指定类型,则封面文件无后缀名。\n\n> 如果设置了图片格式,则不会执行首帧截图作为封面动作,需自行上传封面。","enum":["JPG","PNG"],"type":"string"},"description":{"description":"视频描述,长度不超过1024个字节。","example":"string","type":"string"},"review":{"$ref":"#/definitions/Review"},"subtitles":{"description":"字幕文件信息","items":{"$ref":"#/definitions/Subtitle"},"type":"array"},"tags":{"description":"视频标签。\n\n单个标签不超过16个字节,最多不超过16个标签。\n\n多个用逗号分隔,UTF8编码。","example":"string","type":"string"},"template_group_name":{"description":"转码模板组名称。\n\n若不为空,则使用指定的转码模板对上传的音视频进行转码,您可以在视频点播控制台配置转码模板,具体请参见[转码设置](https://support.huaweicloud.com/usermanual-vod/vod_01_0072.html)。\n\n>\n若同时设置了“**template_group_name**”和“**workflow_name**”字段,则“**template_group_name**”字段生效。","example":"string","type":"string"},"thumbnail":{"$ref":"#/definitions/Thumbnail"},"title":{"description":"媒资标题,长度不超过128个字节,UTF-8编码。","example":"string","type":"string"},"video_md5":{"description":"视频文件MD5值。\n\n建议参考[媒资上传和更新](https://support.huaweicloud.com/api-vod/vod_04_0212.html)生成对应的MD5值。","type":"string"},"video_name":{"description":"音视频文件名,长度不超过128个字节。\n\n文件名后缀可选。","maxLength":128,"minLength":1,"type":"string"},"video_type":{"description":"上传音视频文件的格式。\n\n取值如下:\n- 视频文件:MP4、TS、MOV、MXF、MPG、FLV、WMV、AVI、M4V、F4V、MPEG、3GP、ASF、MKV、HLS\n- 音频文件:MP3、OGG、WAV、WMA、APE、FLAC、AAC、AC3、MMF、AMR、M4A、M4R、WV、MP2\n\n若上传格式为音频文件,则不支持转码、添加水印和字幕。","example":"string","type":"string"},"workflow_name":{"description":"工作流名称。\n\n若不为空,则使用指定的工作流对上传的音视频进行处理,您可以在视频点播控制台配置工作流,具体请参见[工作流设置](https://support.huaweicloud.com/usermanual-vod/vod010041.html)。","example":"string","type":"string"}},"required":["title","video_name","video_type"]},"CreateAssetByFileUploadRsp":{"properties":{"asset_id":{"description":"媒体ID\n","type":"string"},"cover_upload_url":{"description":"封面上传地址\n","type":"string"},"subtitle_upload_urls":{"description":"字幕文件上传url数组\n","items":{"type":"string"},"type":"array"},"target":{"$ref":"#/definitions/File_addr"},"video_upload_url":{"description":"视频上传URL\n","type":"string"}},"type":"object"},"ErrorResponse":{"properties":{"error_code":{"description":"错误码。\n","type":"string"},"error_msg":{"description":"错误描述。\n","type":"string"}},"type":"object"},"File_addr":{"description":"媒资存储参数信息。","properties":{"bucket":{"description":"OBS的bucket名称。","type":"string"},"location":{"description":"桶所在的区域名, 如“华北-北京四”的区域名为“cn-north-4”,创建的桶所在区域必须和点播服务所在区域保持一致。","type":"string"},"object":{"description":"文件的存储路径。","type":"string"}},"required":["bucket","location","object"]},"Review":{"description":"媒资审核参数","properties":{"interval":{"description":"截图检测时间间隔,取值范围为[0,100],该参数在请求参数中忽略。","type":"integer"},"politics":{"description":"鉴政内容检测置信度,取值范围为[0,100],该参数在请求参数中忽略。 置信度越高,说明审核结果越可信。未开启或设置为0时,表示未进行此项检测。","type":"integer"},"porn":{"description":"鉴黄内容的检测置信度,取值范围为[0,100],该参数在请求参数中忽略。 置信度越高,说明审核结果越可信。未开启或设置为0时,表示未进行此项检测。  ","type":"integer"},"template_id":{"description":"审核模板ID。您可以在视频点播控制台配置审核模板后获取,具体请参见[审核设置](https://support.huaweicloud.com/usermanual-vod/vod_01_0057.html)。","type":"string"},"terrorism":{"description":"鉴恐内容的检测置信度,取值范围为[0,100],该参数在请求参数中忽略。 置信度越高,说明审核结果越可信。未开启或设置为0时,表示未进行此项检测。","type":"integer"}},"required":["template_id"]},"Subtitle":{"properties":{"description":{"description":"字幕描述。","type":"string"},"id":{"description":"字幕id。\n\n取值范围:[1,8]。","type":"integer"},"language":{"description":"字幕语言类型。\n\n取值如下:\n- CN:表示中文字幕。\n- EN:表示英文字幕。","enum":["CN","EN"],"type":"string"},"md5":{"description":"字幕文件的MD5值。","type":"string"},"type":{"description":"字幕文件类型,目前暂只支持“SRT”。","enum":["SRT"],"type":"string"}},"required":["id","type","language"]},"Thumbnail":{"description":"截图参数","properties":{"aspect_ratio":{"default":0,"description":"纵横比,图像缩放方式。\n\n取值如下:\n- 0:自适应(保持原有宽高比)。\n- 1:16:9。\n\n默认值:0。","type":"integer"},"cover_position":{"description":"该值表示指定第几张截图作为封面。\n\n默认值:1。","type":"integer"},"dots":{"description":"**type**取值为dots时必填。指定时间截图时的时间点数组。","items":{"type":"integer"},"type":"array"},"format":{"default":1,"description":"截图文件格式。\n\n取值如下:\n- 1:jpg。\n\n默认值:1 。","type":"integer"},"max_length":{"description":"截图最长边的尺寸。\n\n单位:像素。\n\n宽边尺寸按照该尺寸与原始视频像素等比缩放计算。","type":"integer"},"quantity":{"description":"**type**取值为quantity时必填。 按照指定张数,根据视频时长等分视频截图。\n取值范围:[1,10]之间的整数。","format":"int32","maximum":10,"minimum":1,"type":"integer"},"quantity_time":{"description":"**type**取值为quantity时选填。 按照指定时间间隔取指定张数截图。\n取值范围:[0,2147483647]之间的整数。","format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"time":{"description":"根据时间间隔采样时的时间间隔值。单位:秒。\n**type**取值为time时。\n默认值:12\n取值范围:[0,100]之间的整数。","format":"int32","maximum":100,"minimum":0,"type":"integer"},"type":{"description":"截图类型。\n\n取值如下:\n- time:每次进行截图的间隔时间。\n- dots: 按照指定的时间点截图。\n- quantity: 按照指定张数,根据视频时长等分视频截图。","enum":["time","dots","quantity"],"type":"string"}},"required":["type"]}},"description":null,"group_id":"910d42c390184883b1dac70100139fe5","host":"vod.cn-north-4.myhuaweicloud.com","id":"eb890a2f4a4c4a2db6ee87093b892327","info_version":"v1","method":"post","name":"CreateAssetByFileUpload","parameters":{"xAuthToken":{"description":"用户Token,使用Token鉴权方式时必选。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。\n","in":"header","maxLength":16384,"minLength":0,"name":"X-Auth-Token","required":false,"type":"string"},"xSdkDate":{"description":"使用AK/SK方式认证时必选,请求的发生时间。\n","in":"header","maxLength":256,"minLength":1,"name":"X-Sdk-Date","required":false,"type":"string","x-example":"20191115T033655Z"}},"paths":{"/v1.0/{project_id}/asset":{"post":{"description":"调用该接口创建媒资时,需要将对应的媒资文件上传到点播服务的OBS桶中。\n\n若上传的单媒资文件大小小于20M,则可以直接用PUT方法对该接口返回的地址进行上传。具体使用方法请参考[示例1:媒资上传(20M以下)](https://support.huaweicloud.com/api-vod/vod_04_0195.html)。\n\n若上传的单个媒资大小大于20M,则需要进行二进制流分割后上传,该接口的具体使用方法请参考[示例2:媒资分段上传(20M以上)](https://support.huaweicloud.com/api-vod/vod_04_0216.html)。","operationId":"CreateAssetByFileUpload","parameters":[{"$ref":"#/parameters/xAuthToken"},{"$ref":"#/parameters/xSdkDate"},{"description":"项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/usermanual-vod/vod_01_0058.html)","in":"path","maxLength":64,"minLength":1,"name":"project_id","required":true,"type":"string","x-example":"70b76xxxxxx34253880af501cdxxxxxx"},{"description":"上传方式创建媒资","in":"body","name":"CreateAssetByFileReq","required":true,"schema":{"$ref":"#/definitions/CreateAssetByFileUploadReq"}}],"responses":{"200":{"description":"处理成功返回。","examples":{"application/json":{"asset_id":"f488337c31c8e4622f1590735b134c65","cover_upload_url":"https://obs.cn-north-4.myhuaweicloud.com:443/obs-vod-1/%7Bproject_id%7D/f488337c31c8e4622f1590735b134c65/cover/Cover0.jpg?AWSAccessKeyId=CBN2JOVSQVVUREU0RCSN&Expires=1518147619&Signature=eVoLA54Qi6cG9vZbS3fuaIw1RDQ%3D","subtitle_upload_urls":["https://obs-vod-1.obs.cn-north-4.myhuaweicloud.com:443/14ce1d4437164aba8b364ce15866154e/53a018d2dc53ca07eb5a07a839205c9d/subtitle/1.srt?AWSAccessKeyId=CBN2JOVSQVVUREU0RCSN&Expires=1534760131&Signature=twZPabMSf%2FO%2B2H3mpo3Gsqk1uIo%3D"],"target":{"bucket":"obs-vod-1","location":"cn-north-4","object":"093bb6b6c4fc460ab90a40d8b821dda3/a2053aef99725711dad3e02dc6cd5f89/0a9b70035b78b8a19c6d9e7c2693d93c.mp4"},"video_upload_url":"https://obs.cn-north-4.myhuaweicloud.com:443/obs-vod-1/%7Bproject_id%7D/f488337c31c8e4622f1590735b134c65/Avatar_480P.mp4?AWSAccessKeyId=CBN2JOVSQVVUREU0RCSN&Expires=1518147618&Signature=kZYh0hEos2VJhjjdHC2zVAHGyXA%3D"}},"schema":{"$ref":"#/definitions/CreateAssetByFileUploadRsp"}},"403":{"description":"处理失败返回。","examples":{"application/json":{"error_code":"VOD.10064","error_msg":"Media asset classification does not exist, please check."}},"schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"创建媒资:上传方式","tags":["媒资上传"],"x-apiexplorer-hide":"N","x-external-api":true,"x-is-registered":"Y","x-publishpath":"vod_04_0196","x-request-examples-1":{"auto_publish":0,"category_id":1,"cover_md5":"a655d4b3d8fc758691a9332fe387f26c","cover_type":"JPG","description":"Avatar, test","subtitles":[{"description":"AAAAA","id":1,"language":"CN","md5":"SqcyFjJZoDZaP8oKIY6rgQ==","type":"SRT"}],"tags":"mytags","title":"Avatar test test","video_md5":"a945d4b3d8fc317190a9332fe856f03d","video_name":"Avatar_480P.mp4","video_type":"MP4"},"x-request-examples-text-1":{"auto_publish":0,"category_id":1,"cover_md5":"a655d4b3d8fc758691a9332fe387f26c","cover_type":"JPG","description":"Avatar, test","subtitles":[{"description":"AAAAA","id":1,"language":"CN","md5":"SqcyFjJZoDZaP8oKIY6rgQ==","type":"SRT"}],"tags":"mytags","title":"Avatar test test","video_md5":"a945d4b3d8fc317190a9332fe856f03d","video_name":"Avatar_480P.mp4","video_type":"MP4"},"x-request-examples-url-1":"POST https://{endpoint}/v1/{project_id}/asset","x-support-sdk":"Y"}}},"product_short":"VOD","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建媒资:上传方式","tags":"媒资上传","uri":null,"version":"2.0"}