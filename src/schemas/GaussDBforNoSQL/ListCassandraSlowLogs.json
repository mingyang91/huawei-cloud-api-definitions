{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"CassandraSlowLogDetail":{"properties":{"cost_time":{"description":"执行时间。单位:ms","example":60.12,"type":"integer"},"keyspace":{"description":"数据库键空间","example":"system","type":"string"},"line_num":{"description":"日志单行序列号","example":"1595659490239433658","type":"string"},"log_time":{"description":"日志产生时间,UTC时间。\n格式为“yyyy-mm-ddThh:mm:ssZ”。 其中,T指某个时间的开始;Z指时区偏移量,例如北京时间偏移显示为+0800。","example":"2020-11-15T22:49:38.643000Z","type":"string"},"node_id":{"description":"节点ID。","example":"8b76c35e91eb4c9d82fe25417d750cb5no06","type":"string"},"node_name":{"description":"节点名称。","example":"test_priam_node_1","type":"string"},"operate_type":{"description":"语句类型。","example":"select","type":"string"},"table":{"description":"数据库表名","example":"test","type":"string"},"whole_message":{"description":"执行语句。","example":"testDb","type":"string"}},"required":["node_name","node_id","whole_message","operate_type","cost_time","keyspace","table","log_time","line_num"],"type":"object"},"ErrorResponseBody":{"properties":{"error_code":{"description":"错误码。","example":"DBS.200001","type":"string"},"error_msg":{"description":"错误消息。","example":"参数错误。","type":"string"}},"required":["error_code","error_msg"]},"ListCassandraSlowLogsRequestBody":{"properties":{"end_time":{"description":"结束时间,格式为“yyyy-mm-ddThh:mm:ssZ”。\n其中,T指某个时间的开始;Z指时区偏移量,例如北京时间偏移显示为+0800。注:结束时间不能晚于当前时间。","type":"string"},"keyspace_keywords":{"description":"根据多个键空间关键字模糊搜索日志,表示匹配至少一个关键字。\n- 只支持关键字前缀模糊搜索,最多支持10个关键字。\n- 每个关键字最大长度不超过48个字符。","items":{"type":"string"},"type":"array"},"keywords":{"description":"根据多个关键字搜索日志全文,表示同时匹配所有关键字。\n- 最多支持10个关键字。\n- 每个关键字最大长度不超过512个字符。","items":{"type":"string"},"type":"array"},"limit":{"description":"表示每次查询的日志条数,最大限制100条。","type":"integer"},"line_num":{"description":"日志单行序列号,第一次查询时不需要此参数,下一次查询时需要使用,可从上一次查询的返回信息中获取。\n说明:当次查询从line_num的下一条日志开始查询,不包含当前line_num日志。","type":"string"},"max_cost_time":{"description":"支持根据最大执行时间范围查找日志。单位:ms","type":"integer"},"min_cost_time":{"description":"支持根据最小执行时间范围查找日志。单位:ms","type":"integer"},"node_id":{"description":"节点ID,取空值,表示查询实例下所有允许查询的节点。\n具体取值请参考查询实例列表和详情接口\"ListInstances\"中nodes字段数据结构说明的“id”。","type":"string"},"operate_type":{"description":"语句类型,取空值,表示查询所有语句类型。\n取值:select","type":"string"},"start_time":{"description":"开始时间,格式为“yyyy-mm-ddThh:mm:ssZ”。\n其中,T指某个时间的开始;Z指时区偏移量,例如北京时间偏移显示为+0800。注:开始时间不得早于当前时间30天。","type":"string"},"table_keywords":{"description":"根据多个数据库表名关键字模糊搜索日志,表示匹配至少一个关键字。\n- 只支持关键字前缀模糊搜索,最多支持10个关键字。\n- 每个关键字最大长度不超过48个字符。","items":{"type":"string"},"type":"array"}},"required":["start_time","end_time","limit"]},"ListCassandraSlowLogsResponseBody":{"properties":{"slow_logs":{"description":"慢日志具体信息。","items":{"$ref":"#/definitions/CassandraSlowLogDetail"},"type":"array"}},"required":["slow_logs"]}},"description":null,"group_id":"e59009abc8d6499f9f8dc004e69d73d7","host":"gaussdb-nosql.cn-north-4.myhuaweicloud.com","id":"00288fe6e86148d1aa2e7dc38c8730b8","info_version":"v3","method":"post","name":"ListCassandraSlowLogs","parameters":{},"paths":{"/v3/{project_id}/cassandra/instances/{instance_id}/slow-logs":{"post":{"description":"查询GeminiDB(for Cassandra)数据库慢日志信息,支持日志关键字搜索。","operationId":"ListCassandraSlowLogs","parameters":[{"description":"用户Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"******"},{"description":"租户在某一region下的project ID。","in":"path","name":"project_id","required":true,"type":"string","x-example":"619d3e78f61b4be68bc5aa0b59edcf7b"},{"description":"实例ID,可以调用“查询实例列表和详情”接口获取。如果未申请实例,可以调用“创建实例”接口创建。","in":"path","name":"instance_id","required":true,"type":"string","x-example":"853f97101a9a4f618202f281cda82e92in06"},{"description":"请求体。","in":"body","name":"ListCassandraSlowLogsRequestBody","required":true,"schema":{"$ref":"#/definitions/ListCassandraSlowLogsRequestBody"}}],"responses":{"200":{"description":"Success.","examples":{"application/json":{"slow_logs":[{"cost_time":60,"keyspace":"system","line_num":"1595659490239433659","log_time":"2023-01-09T05:42:32.000+0000","node_id":"8b76c35e91eb4c9d82fe25417d750cb5no06","node_name":"test_priam_node_1","operate_type":"select","table":"test","whole_message":"GqKc6_S"}]}},"schema":{"$ref":"#/definitions/ListCassandraSlowLogsResponseBody"}},"default":{"description":"Client or server error.","schema":{"$ref":"#/definitions/ErrorResponseBody"}}},"summary":"查询GeminiDB(for Cassandra)数据库慢日志","tags":["日志管理"],"x-constraint":"- 不支持使用 &&、||、AND、OR、NOT、*、?、:、>、<、=、>=、<= 这些关键字来搜索日志。\n- 每页查询最大限制100条,慢日志最多保存30天。","x-is-registered":"Y","x-request-examples-1":{"end_time":"2023-01-10T10:41:14+0800","keyspace_keywords":["system","system_auth"],"keywords":["log","test"],"limit":100,"line_num":"1595659490239433658","max_cost_time":100,"min_cost_time":50,"node_id":"8b76c35e91eb4c9d82fe25417d750cb5no06","operate_type":"select","start_time":"2023-01-06T10:41:14+0800","table_keywords":["test"]},"x-request-examples-description-1":"","x-request-examples-url-1":"POST https://{endpoint}/v3/619d3e78f61b4be68bc5aa0b59edcf7b/cassandra/instances/853f97101a9a4f618202f281cda82e92in06/slow-logs","x-support-sdk":"Y"}}},"product_short":"GaussDBforNoSQL","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询GeminiDB(for Cassandra)数据库慢日志","tags":"日志管理","uri":null,"version":"2.0"}