{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"AddJobsReqV11":{"properties":{"arguments":{"description":"程序执行的关键参数,该参数由用户程序内的函数指定,MRS只负责参数的传入。\n最多为150000字符,不能包含;|&>'<$特殊字符,可为空。","maxLength":2047,"minLength":0,"type":"string"},"file_action":{"description":"数据导入导出。\n- import\n- export","type":"string"},"hive_script_path":{"description":"sql程序路径,仅Spark Script和Hive Script作业需要使用此参数。需要满足如下要求:\n- 最多为1023字符,不能包含;|&><'$特殊字符,且不可为空或全空格。\n- 文件可存储于HDFS或者OBS中,不同的文件系统对应的路径存在差异。\n    - OBS:以“s3a://”开头。不支持KMS加密的文件或程序。\n    - HDFS:以“/”开头。\n- 需要以“.sql”结尾,sql不区分大小写。","maxLength":1023,"minLength":0,"type":"string"},"hql":{"description":"HQL脚本语句。","type":"string"},"input":{"description":"数据输入地址。\n文件可存储于HDFS或者OBS中,不同的文件系统对应的路径存在差异。\n- OBS:以“s3a://”开头。不支持KMS加密的文件或程序。\n- HDFS:以“/”开头。\n\n最多为1023字符,不能包含;|&>'<$特殊字符,可为空。","maxLength":1023,"minLength":0,"type":"string"},"jar_path":{"description":"执行程序Jar包或sql文件地址,需要满足如下要求:\n- 最多为1023字符,不能包含;|&>,<'$特殊字符,且不可为空或全空格。\n- 文件可存储于HDFS或者OBS中,不同的文件系统对应的路径存在差异。\n   - OBS:以“s3a://”开头。不支持KMS加密的文件或程序。\n   - HDFS:以“/”开头。\n- Spark Script需要以“.sql”结尾,MapReduce和Spark Jar需要以“.jar”结尾,sql和jar不区分大小写。","maxLength":1023,"minLength":0,"type":"string"},"job_log":{"description":"作业日志存储地址,该日志信息记录作业运行状态。\n文件可存储于HDFS或者OBS中,不同的文件系统对应的路径存在差异。\n- OBS:以“s3a://”开头。\n- HDFS:以“/”开头。\n\n最多为1023字符,不能包含;|&>'<$特殊字符,可为空。","maxLength":1023,"minLength":0,"type":"string"},"job_name":{"description":"作业名称。\n只能由字母、数字、中划线和下划线组成,并且长度为1~64个字符。\n\n说明:\n不同作业的名称允许相同,但不建议设置相同。","maxLength":64,"minLength":1,"type":"string"},"job_type":{"description":"作业类型码。\n- 1:MapReduce\n- 2:Spark\n- 3:Hive Script\n- 4:HiveSQL(当前不支持)\n- 5:DistCp,导入、导出数据,(当前不支持)。\n- 6:Spark Script\n- 7:Spark SQL,提交SQL语句,(当前不支持)。","format":"int32","type":"integer"},"output":{"description":"数据输出地址。\n文件可存储于HDFS或者OBS中,不同的文件系统对应的路径存在差异。\n- OBS:以“s3a://”开头。\n- HDFS:以“/”开头。\n\n如果该路径不存在,系统会自动创建。\n最多为1023字符,不能包含;|&>'<$特殊字符,可为空。","maxLength":1023,"minLength":0,"type":"string"},"shutdown_cluster":{"description":"作业执行完成后,是否删除集群。\n\n- true:是\n\n- false:否","type":"boolean"},"submit_job_once_cluster_run":{"description":"- true:创建集群同时提交作业\n\n- false:单独提交作业\n\n此处应设置为true。","type":"boolean"}},"required":["job_name","job_type","submit_job_once_cluster_run"],"type":"object"},"AutoScalingPolicy":{"properties":{"auto_scaling_enable":{"description":"当前自动伸缩规则是否开启。","type":"boolean"},"exec_scripts":{"description":"弹性伸缩自定义自动化脚本列表。若该参数为空表示不启用自动化脚本。","items":{"$ref":"#/definitions/ScaleScript"},"maxItems":10,"minItems":0,"type":"array"},"max_capacity":{"description":"指定该节点组的最大节点数。\n\n取值范围:[0~500]","format":"int32","maximum":500,"minimum":0,"type":"integer"},"min_capacity":{"description":"指定该节点组的最小保留节点数。\n\n取值范围:[0~500]","format":"int32","maximum":500,"minimum":0,"type":"integer"},"resources_plans":{"description":"资源计划列表。若该参数为空表示不启用资源计划。\n\n当启用弹性伸缩时,资源计划与自动伸缩规则需至少配置其中一种。","items":{"$ref":"#/definitions/ResourcesPlan"},"maxItems":5,"minItems":0,"type":"array"},"rules":{"description":"自动伸缩的规则列表。\n\n当启用弹性伸缩时,资源计划与自动伸缩规则需至少配置其中一种。","items":{"$ref":"#/definitions/Rule"},"maxItems":10,"minItems":0,"type":"array"}},"required":["auto_scaling_enable","max_capacity","min_capacity"],"type":"object"},"BootstrapScript":{"properties":{"action_stages":{"description":"选择引导操作脚本执行的时间。\n- BEFORE_COMPONENT_FIRST_START: 组件首次启动后\n- AFTER_COMPONENT_FIRST_START: 组件首次启动前\n- BEFORE_SCALE_IN: 缩容前\n- AFTER_SCALE_IN: 缩容后\n- BEFORE_SCALE_OUT: 扩容前\n- AFTER_SCALE_OUT: 扩容后","items":{"description":"枚举值:\n- BEFORE_COMPONENT_FIRST_START: 组件首次启动后\n- AFTER_COMPONENT_FIRST_START: 组件首次启动前\n- BEFORE_SCALE_IN: 缩容前\n- AFTER_SCALE_IN: 缩容后\n- BEFORE_SCALE_OUT: 扩容前\n- AFTER_SCALE_OUT: 扩容后","enum":["BEFORE_COMPONENT_FIRST_START","AFTER_COMPONENT_FIRST_START","BEFORE_SCALE_IN","AFTER_SCALE_IN","BEFORE_SCALE_OUT","AFTER_SCALE_OUT"],"type":"string"},"type":"array"},"active_master":{"description":"引导操作脚本是否只运行在主Master节点上。\n缺省值为false,表示引导操作脚本可运行在所有Master节点上。","type":"boolean"},"before_component_start":{"description":"引导操作脚本执行的时间。目前支持“组件启动前”和“组件启动后”两种类型。\n缺省值为false,表示引导操作脚本在组件启动后执行。","type":"boolean"},"fail_action":{"description":"引导操作脚本执行失败后,是否继续执行后续脚本和创建集群。\n\n缺省值为errorout,表示终止操作。\n\n说明:\n建议您在调试阶段设置为“继续”,无论此引导操作是否执行成功,则集群都能继续安装和启动。\n\n枚举值:\n- continue:继续执行后续脚本。\n- errorout:终止操作。","enum":["continue","errorout"],"type":"string"},"name":{"description":"引导操作脚本的名称,同一个集群的引导操作脚本名称不允许相同。\n\n只能由数字、英文字符、空格、中划线和下划线组成,且不能以空格开头。\n\n可输入的字符串长度为1~64个字符。","maxLength":64,"minLength":1,"type":"string"},"nodes":{"description":"引导操作脚本所执行的节点类型,包含master、core和task三种类型。\n说明:节点类型必须为小写字母。","items":{"type":"string"},"type":"array"},"parameters":{"description":"引导操作脚本参数。","type":"string"},"start_time":{"description":"单个引导操作脚本的执行时间。","format":"int64","type":"integer"},"state":{"description":"单个引导操作脚本的运行状态。 \n- PENDING\n- IN_PROGRESS\n- SUCCESS\n- FAILURE","enum":["PENDING","IN_PROGRESS","SUCCESS","FAILURE"],"type":"string"},"uri":{"description":"引导操作脚本的路径。设置为OBS桶的路径或虚拟机本地的路径。\n- OBS桶的路径:直接手动输入脚本路径。例如输入MRS提供的公共样例脚本路径。示例:s3a://bootstrap/presto/presto-install.sh,其中安装dualroles时,presto-install.sh脚本参数为dualroles, 安装worker时,presto-install.sh脚本参数为worker。根据Presto使用习惯,建议您在Active Master节点上安装dualroles,在Core节点上安装worker。\n- 虚拟机本地的路径:用户需要输入正确的脚本路径。脚本所在的路径必须以‘/’开头,以.sh结尾。","type":"string"}},"required":["fail_action","name","nodes","uri"],"type":"object"},"ComponentAmbV11":{"properties":{"component_name":{"description":"组件名称","type":"string"}},"required":["component_name"],"type":"object"},"CreateClusterReqV11":{"properties":{"add_jobs":{"description":"创建集群时可同时提交作业,当前版本暂时只支持新增一个作业。","items":{"$ref":"#/definitions/AddJobsReqV11"},"maxItems":1,"minItems":0,"type":"array"},"available_zone_id":{"description":"可用分区ID。\n\n- 华北-北京一可用区1(cn-north-1a):ae04cf9d61544df3806a3feeb401b204\n- 华北-北京一可用区2(cn-north-1b):d573142f24894ef3bd3664de068b44b0\n- 华东-上海二可用区1(cn-east-2a):72d50cedc49846b9b42c21495f38d81c\n- 华东-上海二可用区2(cn-east-2b):38b0f7a602344246bcb0da47b5d548e7\n- 华东-上海二可用区3(cn-east-2c):5547fd6bf8f84bb5a7f9db062ad3d015\n- 华南-广州可用区1(cn-south-1a):34f5ff4865cf4ed6b270f15382ebdec5\n- 华南-广州可用区2(cn-south-2b):043c7e39ecb347a08dc8fcb6c35a274e\n- 华南-广州可用区3(cn-south-1c):af1687643e8c4ec1b34b688e4e3b8901\n- 华北-北京四可用区1(cn-north-4a):effdcbc7d4d64a02aa1fa26b42f56533\n- 华北-北京四可用区2(cn-north-4b):a0865121f83b41cbafce65930a22a6e8\n- 华北-北京四可用区3(cn-north-4c):2dcb154ac2724a6d92e9bcc859657c1e","type":"string"},"billing_type":{"description":"集群的计费模式。\n\n12:表示按需计费。接口调用仅支持创建按需计费集群。","enum":[12],"format":"int32","type":"integer"},"bootstrap_scripts":{"description":"配置引导操作脚本信息。","items":{"$ref":"#/definitions/BootstrapScript"},"type":"array"},"cluster_admin_secret":{"description":"配置MRS Manager管理员用户的密码。\n- 密码长度应在8~26个字符之间\n- 不能与用户名或者倒序用户名相同\n- 必须包含如下4种字符的组合\n    - 至少一个小写字母\n    - 至少一个大写字母\n    - 至少一个数字\n    - 至少一个特殊字符:!@$%^-_=+[{}]:,./?","maxLength":26,"minLength":8,"type":"string"},"cluster_master_secret":{"description":"配置访问集群节点的root密码。当“login_mode”配置为“0”时,请求消息体中包含cluster_master_secret字段。\n\n密码设置约束如下:\n- 字符串类型,可输入的字符串长度为8-26。\n- 至少包含4种字符组合,如大写字母,小写字母,数字,特殊字符(!@$%^-_=+[{}]:,./?),但不能包含空格。\n- 不能与用户名或者倒序用户名相同。","maxLength":26,"minLength":8,"type":"string"},"cluster_name":{"description":"集群名称,不允许相同。\n只能由字母、数字、中划线和下划线组成,并且长度为1~64个字符。","maxLength":64,"minLength":1,"type":"string"},"cluster_type":{"description":"集群类型。\n\n默认值为0:分析集群。\n\n说明:暂不支持通过接口方式创建混合集群。\n\n枚举值:\n- 0:分析集群\n- 1:流式集群","enum":[0,1],"format":"int32","type":"integer"},"cluster_version":{"description":"集群版本。\n例如:MRS 3.1.0。","type":"string"},"component_list":{"description":"服务组件安装列表信息。","items":{"$ref":"#/definitions/ComponentAmbV11"},"type":"array"},"core_data_volume_count":{"description":"该参数为多磁盘参数,表示Core节点数据磁盘个数。\n取值范围:1~10","format":"int32","maximum":10,"minimum":1,"type":"integer"},"core_data_volume_size":{"description":"该参数为多磁盘参数,表示Core节点数据磁盘存储空间。为增大数据存储容量,创建集群时可同时添加磁盘。\n\n取值范围:100GB~32000GB,传值只需填数字,不需要带单位GB。","format":"int32","maximum":32000,"minimum":100,"type":"integer"},"core_data_volume_type":{"description":"该参数为多磁盘参数,表示Core节点数据磁盘存储类别,目前支持SATA、SAS、SSD和GPSSD。","enum":["SATA","SAS","SSD","GPSSD"],"type":"string"},"core_node_num":{"description":"Core节点数量。\n\n取值范围:[1~500]\n\nCore节点默认的最大值为500,如果用户需要的Core节点数大于500,请申请扩大配额。","format":"int32","maximum":500,"minimum":0,"type":"integer"},"core_node_size":{"description":"Core节点的实例规格,例如:c3.4xlarge.2.linux.bigdata。实例规格详细说明请参见[MRS所使用的弹性云服务器规格](https://support.huaweicloud.com/api-mrs/mrs_01_9006.html)和[MRS所使用的裸金属服务器规格](https://support.huaweicloud.com/api-mrs/mrs_01_9001.html)。 该参数建议从MRS控制台的集群创建页面获取对应区域对应版本所支持的规格。","type":"string"},"data_center":{"description":"集群区域信息,请参见[终端节点及区域](https://support.huaweicloud.com/api-mrs/mrs_02_0003.html)。","type":"string"},"enterprise_project_id":{"description":"企业项目ID。\n\n创建集群时,给集群绑定企业项目ID。\n\n默认设置为0,表示为default企业项目。\n\n获取方式请参见《企业管理API参考》的“查询企业项目列表”响应消息表“enterprise_project字段数据结构说明”的“id”。","type":"string"},"log_collection":{"description":"集群创建失败时,是否收集失败日志。\n\n默认设置为1,将创建OBS桶仅用于MRS集群创建失败时的日志收集。\n\n枚举值:\n- 0:不收集\n- 1:收集","enum":[0,1],"format":"int32","type":"integer"},"login_mode":{"description":"集群登录方式。默认设置为1。\n\n- 当“login_mode”配置为“0”时,请求消息体中包含cluster_master_secret字段。\n- 当“login_mode”配置为“1”时,请求消息体中包含node_public_cert_name字段。\n\n枚举值:\n- 0:密码方式\n- 1:密钥对方式","enum":[0,1],"format":"int32","type":"integer"},"master_data_volume_count":{"default":1,"description":"该参数为多磁盘参数,表示Master节点数据磁盘个数。取值只能是1。","enum":[1],"format":"int32","maximum":1,"type":"integer"},"master_data_volume_size":{"description":"该参数为多磁盘参数,表示Master节点数据磁盘存储空间。为增大数据存储容量,创建集群时可同时添加磁盘。\n\n取值范围:100GB~32000GB,传值只需填数字,不需要带单位GB。","format":"int32","maximum":32000,"minimum":100,"type":"integer"},"master_data_volume_type":{"description":"该参数为多磁盘参数,表示Master节点数据磁盘存储类别,目前支持SATA、SAS、SSD和GPSSD。","enum":["SATA","SAS","SSD","GPSSD"],"type":"string"},"master_node_num":{"description":"Master节点数量。启用集群高可用功能时配置为2,不启用集群高可用功能时配置为1。MRS 3.x版本暂时不支持该参数配置为1。","format":"int32","type":"integer"},"master_node_size":{"description":"Master节点的实例规格,例如:c3.4xlarge.2.linux.bigdata。MRS当前支持主机规格的配型由CPU+内存+Disk共同决定。实例规格详细说明请参见[MRS所使用的弹性云服务器规格](https://support.huaweicloud.com/api-mrs/mrs_01_9006.html)和[MRS所使用的裸金属服务器规格](https://support.huaweicloud.com/api-mrs/mrs_01_9001.html)。 该参数建议从MRS控制台的集群创建页面获取对应区域对应版本所支持的规格。","type":"string"},"node_groups":{"description":"节点列表信息。\n\n说明:如下参数和该参数任选一组进行配置即可。\n\nmaster_node_num、master_node_size、core_node_num、core_node_size、master_data_volume_type、master_data_volume_size、master_data_volume_count、core_data_volume_type、core_data_volume_size、core_data_volume_count、volume_type、volume_size、task_node_groups。","items":{"$ref":"#/definitions/NodeGroupV11"},"type":"array"},"node_public_cert_name":{"description":"密钥对名称。用户可以使用密钥对方式登录集群节点。当“login_mode”配置为“1”时,请求消息体中包含node_public_cert_name字段。","type":"string"},"safe_mode":{"description":"MRS集群运行模式。\n- 0:普通集群,表示Kerberos认证关闭,用户可使用集群提供的所有功能。\n- 1:安全集群,表示Kerberos认证开启,普通用户无权限使用MRS集群的“文件管理”和“作业管理”功能,并且无法查看Hadoop、Spark的作业记录以及集群资源使用情况。如果需要使用集群更多功能,需要找MRS Manager的管理员分配权限。","enum":[0,1],"format":"int32","type":"integer"},"security_groups_id":{"description":"集群安全组的ID。\n- 当该ID为空时MRS后台会自己创建安全组,自动创建的安全组名称以mrs_{cluster_name}开头。\n- 当该ID不为空时,表示使用固定安全组来创建集群,传入的ID必须是当前租户中包含的安全组ID,且该安全组中包含一条全部协议,全部端口,源地址为指定的管理面节点IP的入方向规则。","type":"string"},"subnet_id":{"description":"子网ID。通过VPC管理控制台获取子网ID:\n1) 登录管理控制台。\n2) 单击“虚拟私有云”,从左侧列表选择虚拟私有云。\n3) 单击对应虚拟私有云所在行的“子网个数”查看子网。\n4) 单击对应子网名称,获取“网络ID”。\n\n“subnet_id”和“subnet_name”必须至少填写一个,当这两个参数同时配置但是不匹配同一个子网时,集群会创建失败,请仔细填写参数。推荐使用“subnet_id”。","type":"string"},"subnet_name":{"description":"子网名称。\n通过VPC管理控制台获取子网名称:\n1) 登录管理控制台。\n2) 单击“虚拟私有云”,从左侧列表选择虚拟私有云。\n3) 单击对应虚拟私有云所在行的“子网个数”查看子网,获取子网名称。\n\n“subnet_id”和“subnet_name”必须至少填写一个,当这两个参数同时配置但是不匹配同一个子网时,集群会创建失败,请仔细填写参数。当仅填写“subnet_name”一个参数且VPC下存在同名子网时,创建集群时以VPC平台第一个名称的子网为准。推荐使用“subnet_id”。","type":"string"},"tags":{"description":"集群的标签信息。\n\n同一个集群最多能使用10个tag,tag的名称(key)不能重复\n标签的键/值不能包含“=”,“*”,“<”,“>”,“\\”,“,”,“|”,“/”。","items":{"$ref":"#/definitions/Tag"},"type":"array"},"task_node_groups":{"description":"Task节点列表信息。","items":{"$ref":"#/definitions/TaskNodeGroup"},"maxItems":1,"minItems":0,"type":"array"},"volume_size":{"description":"Master和Core节点数据磁盘存储空间。为增大数据存储容量,创建集群时可同时添加磁盘。可以根据如下应用场景合理选择磁盘存储空间大小:\n- 数据存储和计算分离,数据存储在OBS系统中,集群费用相对较低,计算性能不高,并且集群随时可以删除,建议数据计算不频繁场景下使用。\n- 数据存储和计算不分离,数据存储在HDFS中,集群费用相对较高,计算性能高,集群需要长期存在,建议数据计算频繁场景下使用。\n\n取值范围:100GB~32000GB,传值只需填数字,不需要带单位GB。\n不建议使用该参数,详情请参考volume_type参数的说明。","format":"int32","maximum":32000,"minimum":100,"type":"integer"},"volume_type":{"description":"Master和Core节点的磁盘存储类别,目前支持SATA、SAS、SSD和GPSSD。磁盘参数可以使用volume_type和volume_size表示,也可以使用多磁盘相关的参数表示。volume_type和volume_size这两个参数如果与多磁盘参数同时出现,系统优先读取volume_type和volume_size参数。建议使用多磁盘参数。 - SATA:普通IO - SAS:高IO - SSD:超高IO - GPSSD:通用型SSD","enum":["SATA","SAS","SSD","GPSSD"],"type":"string"},"vpc":{"description":"子网所在VPC名称。\n通过VPC管理控制台获取名称:\n1) 登录管理控制台。\n2) 单击“虚拟私有云”,从左侧列表选择虚拟私有云。\n\n在“虚拟私有云”页面的列表中即可获取VPC名称。","type":"string"},"vpc_id":{"description":"子网所在VPC ID。\n通过VPC管理控制台获取ID:\n1) 登录管理控制台。\n2) 单击“虚拟私有云”,从左侧列表选择虚拟私有云。\n\n\n在“虚拟私有云”页面的列表中即可获取VPC ID。","type":"string"}},"required":["cluster_version","available_zone_id","billing_type","cluster_name","component_list","data_center","safe_mode","subnet_id","subnet_name","vpc","vpc_id"],"type":"object"},"CreateClustersRespV11":{"properties":{"cluster_id":{"description":"集群创建成功后系统返回的集群ID值。","type":"string"},"msg":{"description":"系统提示信息,可为空。","type":"string"},"result":{"description":"操作结果。\n- true:操作成功\n- false:操作失败","type":"boolean"}},"required":["cluster_id","result"],"type":"object"},"NodeGroupV11":{"properties":{"auto_scaling_policy":{"$ref":"#/definitions/AutoScalingPolicy","description":"当“group_name”配置为“task_node_analysis_group”或“task_node_streaming_group”时该参数有效,表示弹性伸缩规则信息。","type":"object"},"data_volume_count":{"description":"节点数据磁盘存储数目\n取值范围:0~10。","format":"int32","type":"integer"},"data_volume_size":{"description":"节点数据磁盘存储大小\n取值范围:100GB~32000GB。","format":"int32","type":"integer"},"data_volume_type":{"description":"节点数据磁盘存储类别,目前支持SATA、SAS和SSD。\n- SATA:普通IO\n- SAS:高IO\n- SSD:超高IO\n- GPSSD:通用型SSD","type":"string"},"group_name":{"description":"节点组名。\n- master_node_default_group\n- core_node_analysis_group\n- core_node_streaming_group\n- task_node_analysis_group\n- task_node_streaming_group","type":"string"},"node_num":{"description":"节点数量,取值范围0~500,Core与Task节点总数最大为500个。","format":"int32","maximum":500,"minimum":0,"type":"integer"},"node_size":{"description":"节点的实例规格,例如:c3.4xlarge.2.linux.bigdata。MRS当前支持主机规格的配型由CPU+内存+Disk共同决定。实例规格详细说明请参见[MRS所使用的弹性云服务器规格](https://support.huaweicloud.com/api-mrs/mrs_01_9006.html)和[MRS所使用的裸金属服务器规格](https://support.huaweicloud.com/api-mrs/mrs_01_9001.html)。 该参数建议从MRS控制台的集群创建页面获取对应区域对应版本所支持的规格。","type":"string"},"root_volume_size":{"description":"节点系统磁盘存储大小。","type":"string"},"root_volume_type":{"description":"节点系统磁盘存储类别,目前支持SATA、SAS和SSD。\n- SATA:普通IO\n- SAS:高IO\n- SSD:超高IO\n- GPSSD:通用型SSD","type":"string"}},"required":["group_name","node_num","node_size"],"type":"object"},"ResourcesPlan":{"properties":{"end_time":{"description":"资源计划的结束时间,格式与“start_time”相同,不早于start_time表示的时间,且与start_time间隔不小于30min。","type":"string"},"max_capacity":{"description":"资源计划内该节点组的最大保留节点数。\n\n取值范围:[0~500]","format":"int32","maximum":500,"minimum":0,"type":"integer"},"min_capacity":{"description":"资源计划内该节点组的最小保留节点数。\n\n取值范围:[0~500]","format":"int32","maximum":500,"minimum":0,"type":"integer"},"period_type":{"description":"资源计划的周期类型,当前只允许以下类型:\n\ndaily","type":"string"},"start_time":{"description":"资源计划的起始时间,格式为“hour:minute”,表示时间在0:00-23:59之间。","type":"string"}},"required":["end_time","max_capacity","min_capacity","period_type","start_time"],"type":"object"},"Rule":{"properties":{"adjustment_type":{"description":"弹性伸缩规则的调整类型,只允许以下类型:\n\n枚举值:\n- scale_out:扩容\n- scale_in:缩容","enum":["scale_out","scale_in"],"type":"string"},"cool_down_minutes":{"description":"触发弹性伸缩规则后,该集群处于冷却状态(不再执行弹性伸缩操作)的时长,单位为分钟。\n\n取值范围[0~10080],10080为一周的分钟数。","format":"int32","maximum":10080,"minimum":0,"type":"integer"},"description":{"description":"弹性伸缩规则的说明。\n\n最大长度为1024字符。","maxLength":1024,"minLength":0,"type":"string"},"name":{"description":"弹性伸缩规则的名称。\n\n只能由字母、数字、中划线和下划线组成,并且长度为1~64个字符。\n\n在一个节点组范围内,不允许重名。","maxLength":64,"minLength":1,"type":"string"},"scaling_adjustment":{"description":"单次调整集群节点的个数。\n\n取值范围[1~100]","format":"int32","maximum":100,"minimum":1,"type":"integer"},"trigger":{"$ref":"#/definitions/Trigger","description":"描述该规则触发条件。"}},"required":["adjustment_type","cool_down_minutes","name","scaling_adjustment","trigger"],"type":"object"},"ScaleScript":{"properties":{"action_stage":{"description":"脚本执行时机。\n\n枚举值:\n- before_scale_out:扩容前\n- before_scale_in:缩容前\n- after_scale_out:扩容后\n- after_scale_in:缩容后","enum":["before_scale_out","before_scale_in","after_scale_out","after_scale_in"],"type":"string"},"active_master":{"description":"自定义自动化脚本是否只运行在主Master节点上。\n\n缺省值为false,表示自定义自动化脚本可运行在所有Master节点上。","type":"boolean"},"fail_action":{"description":"自自定义自动化脚本执行失败后,是否继续执行后续脚本和创建集群。\n\n说明:\n\n- 建议您在调试阶段设置为“continue”,无论此自定义自动化脚本是否执行成功,则集群都能继续安装和启动。\n\n- 由于缩容成功无法回滚,因此缩容后执行的脚本“fail_action”必须设置为“continue”。\n\n枚举值:\n- continue:继续执行后续脚本。\n- errorout:终止操作。","enum":["continue","errorout"],"type":"string"},"name":{"description":"弹性伸缩自定义自动化脚本的名称,同一个集群的自定义自动化脚本名称不允许相同。\n\n只能由数字、英文字符、空格、中划线和下划线组成,且不能以空格开头。\n\n可输入的字符串长度为1~64个字符。","maxLength":64,"minLength":1,"type":"string"},"nodes":{"description":"自定义自动化脚本所执行的节点组名称(非自定义集群也可使用节点类型,包含Master、Core和Task三种类型)。","items":{"type":"string"},"type":"array"},"parameters":{"description":"自定义自动化脚本参数。\n\n多个参数间用空格隔开。\n可以传入以下系统预定义参数:\n- ${mrs_scale_node_num}:扩缩容节点数\n- ${mrs_scale_type}:扩缩容类型,扩容为scale_out,缩容为scale_in\n- ${mrs_scale_node_hostnames}:扩缩容的节点主机名称\n- ${mrs_scale_node_ips}:扩缩容的节点IP\n- ${mrs_scale_rule_name}:触发扩缩容的规则名\n\n\n其他用户自定义参数使用方式与普通shell脚本相同,多个参数中间用空格隔开。","type":"string"},"uri":{"description":"自定义自动化脚本的路径。设置为OBS桶的路径或虚拟机本地的路径。\n\n- OBS桶的路径:直接手动输入脚本路径。示例:s3a://XXX/scale.sh\n\n- 虚拟机本地的路径:用户需要输入正确的脚本路径。脚本所在的路径必须以‘/’开头,以.sh结尾。","type":"string"}},"required":["action_stage","fail_action","name","nodes","uri"],"type":"object"},"Tag":{"properties":{"key":{"description":"键。\n- 最大长度36个unicode字符,不能为空字符串。\n\n- 标签的key值不能包含非打印字符ASCII(0-31),“=”,“*”,“<”,“>”,“\\”,“,”,“|”,“/”,且首尾字符不能为空格。\n\n- 同一资源的key值不能重复。","maxLength":36,"minLength":1,"type":"string"},"value":{"description":"值。\n- 最大长度43个unicode字符,可以为空字符串。\n\n- 标签的value值不能包含非打印字符ASCII(0-31),“=”,“*”,“<”,“>”,“\\”,“,”,“|”,“/”,且首尾字符不能为空格。","maxLength":43,"minLength":0,"type":"string"}},"required":["key","value"],"type":"object"},"TaskNodeGroup":{"properties":{"auto_scaling_policy":{"$ref":"#/definitions/AutoScalingPolicy","description":"弹性伸缩规则信息。"},"data_volume_count":{"description":"Task节点数据磁盘存储数目,取值范围:0~10。","format":"int32","maximum":10,"minimum":0,"type":"integer"},"data_volume_size":{"description":"Task节点数据磁盘存储大小。\n\n取值范围:100GB~32000GB,传值只需填数字,不需要带单位GB。","format":"int32","maximum":32000,"minimum":100,"type":"integer"},"data_volume_type":{"description":"Task节点数据磁盘存储类别,目前支持SATA、SAS和SSD。\n- SATA:普通IO\n- SAS:高IO\n- SSD:超高IO\n- GPSSD:通用型SSD","enum":["SATA","SAS","SSD","GPSSD"],"type":"string"},"node_num":{"description":"Task节点节点数量,取值范围0~500,Core与Task节点总数最大为500个。","format":"int32","maximum":500,"minimum":0,"type":"integer"},"node_size":{"description":"Task节点的实例规格,例如:c3.4xlarge.2.linux.bigdata。实例规格详细说明请参见[MRS所使用的弹性云服务器规格](https://support.huaweicloud.com/api-mrs/mrs_01_9006.html)和[MRS所使用的裸金属服务器规格](https://support.huaweicloud.com/api-mrs/mrs_01_9001.html)。 该参数建议从MRS控制台的集群创建页面获取对应区域对应版本所支持的规格。","type":"string"}},"required":["data_volume_count","data_volume_size","data_volume_type","node_num","node_size"],"type":"object"},"Trigger":{"properties":{"comparison_operator":{"description":"指标判断逻辑运算符,包括:\n\n- LT:小于\n- GT:大于\n- LTOE:小于等于\n- GTOE:大于等于","type":"string"},"evaluation_periods":{"description":"判断连续满足指标阈值的周期数(一个周期为5分钟)。\n\n取值范围[1~288]","format":"int32","maximum":288,"minimum":1,"type":"integer"},"metric_name":{"description":"指标名称。\n\n该触发条件会依据该名称对应指标的值来进行判断。\n\n最大长度为64个字符。","maxLength":64,"minLength":0,"type":"string"},"metric_value":{"description":"指标阈值。\n\n触发该条件的指标阈值,只允许输入整数或者带两位小数的数。","type":"string"}},"required":["evaluation_periods","metric_name","metric_value"],"type":"object"}},"description":null,"group_id":"64579295290047fea862f501e033ff3f","host":"mrs.cn-north-4.myhuaweicloud.com","id":"04ddb76868304d24a30d714d43a8cf73","info_version":"v1","method":"post","name":"CreateCluster","parameters":{},"paths":{"/v1.1/{project_id}/run-job-flow":{"post":{"consumes":["application/json"],"deprecated":false,"description":"创建一个MRS集群,并在集群中提交一个作业。该接口不兼容Sahara。\n支持同一时间并发创建10个集群。\n使用接口前,您需要先获取下的资源信息。\n- 通过VPC创建或查询VPC、子网\n- 通过ECS创建或查询密钥对\n- 通过[终端节点](https://support.huaweicloud.com/api-mrs/mrs_02_0003.html)获取区域信息\n- 参考[MRS服务支持的组件](https://support.huaweicloud.com/api-mrs/mrs_02_9001.html)获取MRS版本及对应版本支持的组件信息","operationId":"CreateCluster","parameters":[{"description":"项目编号。获取方法,请参见[获取项目ID](https://support.huaweicloud.com/api-mrs/mrs_02_0011.html)。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"创建集群请求体","in":"body","name":"createClusterReqV11","required":true,"schema":{"$ref":"#/definitions/CreateClusterReqV11"}}],"produces":["application/json"],"responses":{"200":{"description":"创建集群成功。","examples":{"application/json":{"cluster_id":"da1592c2-bb7e-468d-9ac9-83246e95447a","msg":"","result":true}},"schema":{"$ref":"#/definitions/CreateClustersRespV11"}}},"summary":"创建集群并执行作业","tags":["集群管理接口"],"x-apiexplorer-hide":"N","x-apigateway-auth-type":"IAM","x-apigateway-match-mode":"NORMAL","x-apigateway-request-type":"public","x-call_frequency":"high","x-constraint":"- 集群登录方式有密码和密钥对两种,两者必选其一。\n- 使用密码方式需要配置访问集群节点的root密码,即cluster_master_secret。\n- 使用密钥对方式需要配置密钥对名称,即node_public_cert_name。\n- 磁盘参数可以使用volume_type和volume_size表示,也可以使用多磁盘相关的参数(master_data_volume_type、master_data_volume_size、master_data_volume_count、core_data_volume_type、core_data_volume_size和core_data_volume_count)表示,以上两种方式任选一组进行配置。","x-ctc":"N","x-hc":"Y","x-hk":"Y","x-hybridcloud":true,"x-is-registered":"Y","x-is_calling":"Y","x-is_registered":"Y","x-name":"创建集群并执行作业","x-obc":"N","x-order":1,"x-otc":"N","x-publishpath":"mrs_02_0028","x-request-examples-1":{"add_jobs":[{"arguments":"wordcount","file_action":"","hive_script_path":"","hql":"","input":"s3a://bigdata/input/wd_1k/","jar_path":"s3a://bigdata/program/hadoop-mapreduce-examples-2.7.2.jar","job_log":"s3a://bigdata/log/","job_name":"tenji111","job_type":1,"output":"s3a://bigdata/ouput/","shutdown_cluster":true,"submit_job_once_cluster_run":true}],"available_zone_id":"d573142f24894ef3bd3664de068b44b0","billing_type":12,"bootstrap_scripts":[{"action_stages":["BEFORE_COMPONENT_FIRST_START","BEFORE_SCALE_IN"],"active_master":false,"before_component_start":true,"fail_action":"continue","name":"Modify os config","nodes":["master","core","task"],"parameters":"param1 param2","start_time":1667892101,"state":"IN_PROGRESS","uri":"s3a://XXX/modify_os_config.sh"},{"action_stages":["AFTER_SCALE_IN","AFTER_SCALE_OUT"],"active_master":true,"before_component_start":false,"fail_action":"continue","name":"Install zepplin","nodes":["master"],"parameters":"","start_time":1667892101,"state":"IN_PROGRESS","uri":"s3a://XXX/zeppelin_install.sh"}],"cluster_admin_secret":"","cluster_master_secret":"","cluster_name":"mrs_HEbK","cluster_type":0,"cluster_version":"MRS 3.1.0","component_list":[{"component_name":"Hadoop"},{"component_name":"Spark"},{"component_name":"HBase"},{"component_name":"Hive"},{"component_name":"Presto"},{"component_name":"Tez"},{"component_name":"Hue"},{"component_name":"Loader"},{"component_name":"Flink"}],"data_center":"","enterprise_project_id":"0","log_collection":1,"login_mode":1,"node_groups":[{"data_volume_count":1,"data_volume_size":600,"data_volume_type":"SATA","group_name":"master_node_default_group","node_num":2,"node_size":"s3.xlarge.2.linux.bigdata","root_volume_size":480,"root_volume_type":"SATA"},{"data_volume_count":1,"data_volume_size":600,"data_volume_type":"SATA","group_name":"core_node_analysis_group","node_num":3,"node_size":"s3.xlarge.2.linux.bigdata","root_volume_size":480,"root_volume_type":"SATA"},{"auto_scaling_policy":{"auto_scaling_enable":true,"exec_scripts":[{"action_stage":"before_scale_out","active_master":true,"fail_action":"continue","name":"before_scale_out","nodes":["master","core","task"],"parameters":"${mrs_scale_node_num} ${mrs_scale_type} xxx","uri":"s3a://XXX/zeppelin_install.sh"},{"action_stage":"after_scale_out","active_master":true,"fail_action":"continue","name":"after_scale_out","nodes":["master","core","task"],"parameters":"${mrs_scale_node_hostnames} ${mrs_scale_node_ips}","uri":"s3a://XXX/storm_rebalance.sh"}],"max_capacity":"3","min_capacity":1,"resources_plans":[{"end_time":"10:20","max_capacity":3,"min_capacity":2,"period_type":"daily","start_time":"9:50"},{"end_time":"12:30","max_capacity":2,"min_capacity":0,"period_type":"daily","start_time":"10:20"}],"rules":[{"adjustment_type":"scale_out","cool_down_minutes":5,"name":"default-expand-1","scaling_adjustment":1,"trigger":{"comparison_operator":"LT","evaluation_periods":10,"metric_name":"YARNMemoryAvailablePercentage","metric_value":"25"}},{"adjustment_type":"scale_in","cool_down_minutes":5,"name":"default-shrink-1","scaling_adjustment":1,"trigger":{"comparison_operator":"GT","evaluation_periods":10,"metric_name":"YARNMemoryAvailablePercentage","metric_value":"70"}}]},"data_volume_count":0,"data_volume_size":600,"data_volume_type":"SATA","group_name":"task_node_analysis_group","node_num":2,"node_size":"s3.xlarge.2.linux.bigdata","root_volume_size":480,"root_volume_type":"SATA"}],"safe_mode":0,"security_groups_id":"4820eace-66ad-4f2c-8d46-cf340e3029dd","subnet_id":"67984709-e15e-4e86-9886-d76712d4e00a","subnet_name":"subnet-4b44","tags":[{"key":"key1","value":"value1"},{"key":"key2","value":"value2"}],"vpc":"vpc-4b1c","vpc_id":"4a365717-67be-4f33-80c5-98e98a813af8"},"x-request-examples-2":{"add_jobs":[{"arguments":"wordcount","file_action":"","hive_script_path":"","hql":"","input":"s3a://bigdata/input/wd_1k/","jar_path":"s3a://bigdata/program/hadoop-mapreduce-examples-2.7.2.jar","job_log":"s3a://bigdata/log/","job_name":"tenji111","job_type":"1","output":"s3a://bigdata/ouput/","shutdown_cluster":true,"submit_job_once_cluster_run":true}],"available_zone_id":"d573142f24894ef3bd3664de068b44b0","billing_type":"12","bootstrap_scripts":[{"action_stages":["BEFORE_COMPONENT_FIRST_START","BEFORE_SCALE_IN"],"active_master":false,"before_component_start":true,"fail_action":"continue","name":"Modify os config","nodes":["master","core","task"],"parameters":"param1 param2","start_time":1667892101,"state":"IN_PROGRESS","uri":"s3a://XXX/modify_os_config.sh"},{"action_stages":["AFTER_SCALE_IN","AFTER_SCALE_OUT"],"active_master":true,"before_component_start":false,"fail_action":"continue","name":"Install zepplin","nodes":["master"],"parameters":"","start_time":1667892101,"state":"IN_PROGRESS","uri":"s3a://XXX/zeppelin_install.sh"}],"cluster_name":"newcluster","cluster_type":"0","cluster_version":"MRS 3.1.0","component_list":[{"component_name":"Hadoop"},{"component_name":"Spark"},{"component_name":"HBase"},{"component_name":"Hive"}],"core_data_volume_count":"2","core_data_volume_size":"600","core_data_volume_type":"SATA","core_node_num":"3","core_node_size":"s1.xlarge.linux.bigdata","data_center":"","log_collection":"1","master_data_volume_count":"1","master_data_volume_size":"600","master_data_volume_type":"SATA","master_node_num":"2","master_node_size":"s3.2xlarge.2.linux.bigdata","node_public_cert_name":"SSHkey-bba1","safe_mode":"0","security_groups_id":"845bece1-fd22-4b45-7a6e-14338c99ee43","subnet_id":"815bece0-fd22-4b65-8a6e-15788c99ee43","subnet_name":"subnet","tags":[{"key":"key1","value":"value1"},{"key":"key2","value":"value2"}],"task_node_groups":[{"auto_scaling_policy":{"auto_scaling_enable":true,"exec_scripts":[{"action_stage":"before_scale_out","active_master":true,"fail_action":"continue","name":"before_scale_out","nodes":["master","core","task"],"parameters":"${mrs_scale_node_num} ${mrs_scale_type} xxx","uri":"s3a://XXX/zeppelin_install.sh"},{"action_stage":"after_scale_out","active_master":true,"fail_action":"continue","name":"after_scale_out","nodes":["master","core","task"],"parameters":"${mrs_scale_node_hostnames} ${mrs_scale_node_ips}","uri":"s3a://XXX/storm_rebalance.sh"}],"max_capacity":"3","min_capacity":"1","resources_plans":[{"end_time":"10:20","max_capacity":"3","min_capacity":"2","period_type":"daily","start_time":"9:50"},{"end_time":"12:30","max_capacity":"2","min_capacity":"0","period_type":"daily","start_time":"10:20"}],"rules":[{"adjustment_type":"scale_out","cool_down_minutes":"5","name":"default-expand-1","scaling_adjustment":"1","trigger":{"comparison_operator":"LT","evaluation_periods":"10","metric_name":"YARNMemoryAvailablePercentage","metric_value":"25"}},{"adjustment_type":"scale_in","cool_down_minutes":"5","name":"default-shrink-1","scaling_adjustment":"1","trigger":{"comparison_operator":"GT","evaluation_periods":"10","metric_name":"YARNMemoryAvailablePercentage","metric_value":"70"}}]},"data_volume_count":"1","data_volume_size":"600","data_volume_type":"SATA","node_num":"2","node_size":"s3.xlarge.2.linux.bigdata"}],"vpc":"vpc1","vpc_id":"5b7db34d-3534-4a6e-ac94-023cd36aaf74"},"x-request-examples-3":{"add_jobs":[{"arguments":"wordcount","file_action":"","hive_script_path":"","hql":"","input":"s3a://bigdata/input/wd_1k/","jar_path":"s3a://bigdata/program/hadoop-mapreduce-examples-2.7.2.jar","job_log":"s3a://bigdata/log/","job_name":"tenji111","job_type":1,"output":"s3a://bigdata/ouput/","shutdown_cluster":true,"submit_job_once_cluster_run":true}],"available_zone_id":"d573142f24894ef3bd3664de068b44b0","billing_type":12,"bootstrap_scripts":[{"action_stages":["AFTER_SCALE_IN","AFTER_SCALE_OUT"],"active_master":false,"before_component_start":true,"fail_action":"continue","name":"Modify os config","nodes":["master","core","task"],"parameters":"param1 param2","start_time":1667892101,"state":"IN_PROGRESS","uri":"s3a://XXX/modify_os_config.sh"},{"action_stages":["AFTER_SCALE_IN","AFTER_SCALE_OUT"],"active_master":true,"before_component_start":false,"fail_action":"continue","name":"Install zepplin","nodes":["master"],"parameters":"","start_time":1667892101,"state":"IN_PROGRESS","uri":"s3a://XXX/zeppelin_install.sh"}],"cluster_admin_secret":"","cluster_master_secret":"","cluster_name":"mrs_HEbK","cluster_type":0,"cluster_version":"MRS 3.1.0","component_list":[{"component_name":"Hadoop"},{"component_name":"Spark"},{"component_name":"HBase"},{"component_name":"Hive"},{"component_name":"Presto"},{"component_name":"Tez"},{"component_name":"Hue"},{"component_name":"Loader"},{"component_name":"Flink"}],"data_center":"","enterprise_project_id":"0","log_collection":1,"login_mode":1,"node_groups":[{"data_volume_count":1,"data_volume_size":600,"data_volume_type":"SATA","group_name":"master_node_default_group","node_num":1,"node_size":"s3.xlarge.2.linux.bigdata","root_volume_size":480,"root_volume_type":"SATA"},{"data_volume_count":1,"data_volume_size":600,"data_volume_type":"SATA","group_name":"core_node_analysis_group","node_num":1,"node_size":"s3.xlarge.2.linux.bigdata","root_volume_size":480,"root_volume_type":"SATA"}],"safe_mode":0,"security_groups_id":"4820eace-66ad-4f2c-8d46-cf340e3029dd","subnet_id":"67984709-e15e-4e86-9886-d76712d4e00a","subnet_name":"subnet-4b44","tags":[{"key":"key1","value":"value1"},{"key":"key2","value":"value2"}],"vpc":"vpc-4b1c","vpc_id":"4a365717-67be-4f33-80c5-98e98a813af8"},"x-request-examples-4":{"add_jobs":[{"arguments":"wordcount","file_action":"","hive_script_path":"","hql":"","input":"s3a://bigdata/input/wd_1k/","jar_path":"s3a://bigdata/program/hadoop-mapreduce-examples-XXX.jar","job_log":"s3a://bigdata/log/","job_name":"tenji111","job_type":1,"output":"s3a://bigdata/ouput/","shutdown_cluster":false,"submit_job_once_cluster_run":true}],"available_zone_id":"d573142f24894ef3bd3664de068b44b0","billing_type":12,"bootstrap_scripts":[{"action_stages":["AFTER_SCALE_IN","AFTER_SCALE_OUT"],"active_master":false,"before_component_start":false,"fail_action":"continue","name":"Install zepplin","nodes":["master"],"parameters":"","start_time":1667892101,"state":"IN_PROGRESS","uri":"s3a://XXX/zeppelin_install.sh"}],"cluster_admin_secret":"******","cluster_name":"newcluster","cluster_type":0,"cluster_version":"MRS 3.1.0","component_list":[{"component_name":"Hadoop"},{"component_name":"Spark"},{"component_name":"HBase"},{"component_name":"Hive"},{"component_name":"Presto"},{"component_name":"Tez"},{"component_name":"Hue"},{"component_name":"Loader"},{"component_name":"Flink"}],"core_data_volume_count":1,"core_data_volume_size":600,"core_data_volume_type":"SATA","core_node_num":1,"core_node_size":"s1.xlarge.linux.bigdata","data_center":"","enterprise_project_id":"0","log_collection":1,"login_mode":1,"master_data_volume_count":1,"master_data_volume_size":600,"master_data_volume_type":"SATA","master_node_num":1,"master_node_size":"s3.2xlarge.2.linux.bigdata","node_public_cert_name":"SSHkey-bba1","safe_mode":0,"security_groups_id":"","subnet_id":"815bece0-fd22-4b65-8a6e-15788c99ee43","subnet_name":"subnet","tags":[{"key":"key1","value":"value1"},{"key":"key2","value":"value2"}],"vpc":"vpc1","vpc_id":"5b7db34d-3534-4a6e-ac94-023cd36aaf74"},"x-request-examples-description-1":"创建启用“集群高可用”功能的集群(使用node_groups参数组)","x-request-examples-description-2":"创建启用“集群高可用”功能的集群(不使用node_groups参数组)","x-request-examples-description-3":"关闭“集群高可用”功能创建最小规格集群(使用node_groups参数组)","x-request-examples-description-4":"关闭“集群高可用”功能创建最小规格集群(不使用node_groups参数组)","x-request-examples-text-1":"{\n  \"billing_type\": 12,\n  \"data_center\": \"\",\n  \"available_zone_id\": \"d573142f24894ef3bd3664de068b44b0\",\n  \"cluster_name\": \"mrs_HEbK\",\n  \"cluster_version\": \"MRS 3.1.0\",\n  \"safe_mode\": 0,\n  \"cluster_type\": 0,\n  \"component_list\": [\n    {\n      \"component_name\": \"Hadoop\"\n    },\n    {\n      \"component_name\": \"Spark\"\n    },\n    {\n      \"component_name\": \"HBase\"\n    },\n    {\n      \"component_name\": \"Hive\"\n    },\n    {\n      \"component_name\": \"Presto\"\n    },\n    {\n      \"component_name\": \"Tez\"\n    },\n    {\n      \"component_name\": \"Hue\"\n    },\n    {\n      \"component_name\": \"Loader\"\n    },\n    {\n      \"component_name\": \"Flink\"\n    }\n  ],\n  \"vpc\": \"vpc-4b1c\",\n  \"vpc_id\": \"4a365717-67be-4f33-80c5-98e98a813af8\",\n  \"subnet_id\": \"67984709-e15e-4e86-9886-d76712d4e00a\",\n  \"subnet_name\": \"subnet-4b44\",\n  \"security_groups_id\": \"4820eace-66ad-4f2c-8d46-cf340e3029dd\",\n  \"enterprise_project_id\": \"0\",\n  \"tags\": [\n    {\n      \"key\": \"key1\",\n      \"value\": \"value1\"\n    },\n    {\n      \"key\": \"key2\",\n      \"value\": \"value2\"\n    }\n  ],\n  \"node_groups\": [\n    {\n      \"group_name\": \"master_node_default_group\",\n      \"node_num\": 2,\n      \"node_size\": \"s3.xlarge.2.linux.bigdata\",\n      \"root_volume_size\": 480,\n      \"root_volume_type\": \"SATA\",\n      \"data_volume_type\": \"SATA\",\n      \"data_volume_count\": 1,\n      \"data_volume_size\": 600\n    },\n    {\n      \"group_name\": \"core_node_analysis_group\",\n      \"node_num\": 3,\n      \"node_size\": \"s3.xlarge.2.linux.bigdata\",\n      \"root_volume_size\": 480,\n      \"root_volume_type\": \"SATA\",\n      \"data_volume_type\": \"SATA\",\n      \"data_volume_count\": 1,\n      \"data_volume_size\": 600\n    },\n    {\n      \"group_name\": \"task_node_analysis_group\",\n      \"node_num\": 2,\n      \"node_size\": \"s3.xlarge.2.linux.bigdata\",\n      \"root_volume_size\": 480,\n      \"root_volume_type\": \"SATA\",\n      \"data_volume_type\": \"SATA\",\n      \"data_volume_count\": 0,\n      \"data_volume_size\": 600,\n      \"auto_scaling_policy\": {\n        \"auto_scaling_enable\": true,\n        \"min_capacity\": 1,\n        \"max_capacity\": \"3\",\n        \"resources_plans\": [\n          {\n            \"period_type\": \"daily\",\n            \"start_time\": \"9:50\",\n            \"end_time\": \"10:20\",\n            \"min_capacity\": 2,\n            \"max_capacity\": 3\n          },\n          {\n            \"period_type\": \"daily\",\n            \"start_time\": \"10:20\",\n            \"end_time\": \"12:30\",\n            \"min_capacity\": 0,\n            \"max_capacity\": 2\n          }\n        ],\n        \"exec_scripts\": [\n          {\n            \"name\": \"before_scale_out\",\n            \"uri\": \"s3a://XXX/zeppelin_install.sh\",\n            \"parameters\": \"${mrs_scale_node_num} ${mrs_scale_type} xxx\",\n            \"nodes\": [\n              \"master\",\n              \"core\",\n              \"task\"\n            ],\n            \"active_master\": \"true\",\n            \"action_stage\": \"before_scale_out\",\n            \"fail_action\": \"continue\"\n          },\n          {\n            \"name\": \"after_scale_out\",\n            \"uri\": \"s3a://XXX/storm_rebalance.sh\",\n            \"parameters\": \"${mrs_scale_node_hostnames} ${mrs_scale_node_ips}\",\n            \"nodes\": [\n              \"master\",\n              \"core\",\n              \"task\"\n            ],\n            \"active_master\": \"true\",\n            \"action_stage\": \"after_scale_out\",\n            \"fail_action\": \"continue\"\n          }\n        ],\n        \"rules\": [\n          {\n            \"name\": \"default-expand-1\",\n            \"adjustment_type\": \"scale_out\",\n            \"cool_down_minutes\": 5,\n            \"scaling_adjustment\": 1,\n            \"trigger\": {\n              \"metric_name\": \"YARNMemoryAvailablePercentage\",\n              \"metric_value\": \"25\",\n              \"comparison_operator\": \"LT\",\n              \"evaluation_periods\": 10\n            }\n          },\n          {\n            \"name\": \"default-shrink-1\",\n            \"adjustment_type\": \"scale_in\",\n            \"cool_down_minutes\": 5,\n            \"scaling_adjustment\": 1,\n            \"trigger\": {\n              \"metric_name\": \"YARNMemoryAvailablePercentage\",\n              \"metric_value\": \"70\",\n              \"comparison_operator\": \"GT\",\n              \"evaluation_periods\": 10\n            }\n          }\n        ]\n      }\n    }\n  ],\n  \"login_mode\": 1,\n  \"cluster_master_secret\": \"\",\n  \"cluster_admin_secret\": \"\",\n  \"log_collection\": 1,\n  \"add_jobs\": [\n    {\n      \"job_type\": 1,\n      \"job_name\": \"tenji111\",\n      \"jar_path\": \"s3a://bigdata/program/hadoop-mapreduce-examples-2.7.2.jar\",\n      \"arguments\": \"wordcount\",\n      \"input\": \"s3a://bigdata/input/wd_1k/\",\n      \"output\": \"s3a://bigdata/ouput/\",\n      \"job_log\": \"s3a://bigdata/log/\",\n      \"shutdown_cluster\": true,\n      \"file_action\": \"\",\n      \"submit_job_once_cluster_run\": true,\n      \"hql\": \"\",\n      \"hive_script_path\": \"\"\n    }\n  ],\n  \"bootstrap_scripts\": [\n    {\n      \"name\": \"Modify os config\",\n      \"uri\": \"s3a://XXX/modify_os_config.sh\",\n      \"parameters\": \"param1 param2\",\n      \"nodes\": [\n        \"master\",\n        \"core\",\n        \"task\"\n      ],\n      \"active_master\": \"false\",\n      \"before_component_start\": \"true\",\n      \"start_time\": \"1667892101\",\n      \"state\": \"IN_PROGRESS\",\n      \"fail_action\": \"continue\",\n      \"action_stages\": [\n          \"BEFORE_COMPONENT_FIRST_START\",\n          \"BEFORE_SCALE_IN\"\n      ]\n    },\n    {\n      \"name\": \"Install zepplin\",\n      \"uri\": \"s3a://XXX/zeppelin_install.sh\",\n      \"parameters\": \"\",\n      \"nodes\": [\n        \"master\"\n      ],\n      \"active_master\": \"true\",\n      \"before_component_start\": \"false\",\n      \"start_time\": \"1667892101\",\n      \"state\": \"IN_PROGRESS\",\n      \"fail_action\": \"continue\",\n      \"action_stages\": [\n          \"AFTER_SCALE_IN\",\n          \"AFTER_SCALE_OUT\"\n      ]\n    }\n  ]\n}","x-request-examples-text-2":"{\n  \"billing_type\": 12,\n  \"data_center\": \"\",\n  \"master_node_num\": 2,\n  \"master_node_size\": \"s3.2xlarge.2.linux.bigdata\",\n  \"core_node_num\": 3,\n  \"core_node_size\": \"s1.xlarge.linux.bigdata\",\n  \"available_zone_id\": \"d573142f24894ef3bd3664de068b44b0\",\n  \"cluster_name\": \"newcluster\",\n  \"vpc\": \"vpc1\",\n  \"vpc_id\": \"5b7db34d-3534-4a6e-ac94-023cd36aaf74\",\n  \"subnet_id\": \"815bece0-fd22-4b65-8a6e-15788c99ee43\",\n  \"subnet_name\": \"subnet\",\n  \"security_groups_id\": \"845bece1-fd22-4b45-7a6e-14338c99ee43\",\n  \"tags\": [{\n      \"key\": \"key1\",\n      \"value\": \"value1\"\n  },\n  {\n      \"key\": \"key2\",\n      \"value\": \"value2\"\n  }],\n  \"cluster_version\": \"MRS 3.1.0\",\n  \"cluster_type\": 0,\n  \"master_data_volume_type\": \"SATA\",\n  \"master_data_volume_size\": 600,\n  \"master_data_volume_count\": 1,\n  \"core_data_volume_type\": \"SATA\",\n  \"core_data_volume_size\": 600,\n  \"core_data_volume_count\": 2,\n  \"node_public_cert_name\": \"SSHkey-bba1\",\n  \"safe_mode\": 0,\n  \"log_collection\": 1,\n  \"task_node_groups\": [{\n      \"node_num\": 2,\n      \"node_size\": \"s3.xlarge.2.linux.bigdata\",\n      \"data_volume_type\": \"SATA\",\n      \"data_volume_count\": 1,\n      \"data_volume_size\": 600,\n      \"auto_scaling_policy\": {\n          \"auto_scaling_enable\": true,\n          \"min_capacity\": 1,\n          \"max_capacity\": \"3\",\n          \"resources_plans\": [{\n              \"period_type\": \"daily\",\n              \"start_time\": \"9: 50\",\n              \"end_time\": \"10: 20\",\n              \"min_capacity\": 2,\n              \"max_capacity\": 3\n          },\n          {\n              \"period_type\": \"daily\",\n              \"start_time\": \"10: 20\",\n              \"end_time\": \"12: 30\",\n              \"min_capacity\": 0,\n              \"max_capacity\": 2\n          }],\n          \"exec_scripts\": [{\n              \"name\": \"before_scale_out\",\n              \"uri\": \"s3a: //XXX/zeppelin_install.sh\",\n              \"parameters\": \"${mrs_scale_node_num}${mrs_scale_type}xxx\",\n              \"nodes\": [\"master\",\n              \"core\",\n              \"task\"],\n              \"active_master\": \"true\",\n              \"action_stage\": \"before_scale_out\",\n              \"fail_action\": \"continue\"\n          },\n          {\n              \"name\": \"after_scale_out\",\n              \"uri\": \"s3a: //XXX/storm_rebalance.sh\",\n              \"parameters\": \"${mrs_scale_node_hostnames}${mrs_scale_node_ips}\",\n              \"nodes\": [\"master\",\n              \"core\",\n              \"task\"],\n              \"active_master\": \"true\",\n              \"action_stage\": \"after_scale_out\",\n              \"fail_action\": \"continue\"\n          }],\n          \"rules\": [{\n              \"name\": \"default-expand-1\",\n              \"adjustment_type\": \"scale_out\",\n              \"cool_down_minutes\": 5,\n              \"scaling_adjustment\": 1,\n              \"trigger\": {\n                  \"metric_name\": \"YARNMemoryAvailablePercentage\",\n                  \"metric_value\": \"25\",\n                  \"comparison_operator\": \"LT\",\n                  \"evaluation_periods\": 10\n              }\n          },\n          {\n              \"name\": \"default-shrink-1\",\n              \"adjustment_type\": \"scale_in\",\n              \"cool_down_minutes\": 5,\n              \"scaling_adjustment\": 1,\n              \"trigger\": {\n                  \"metric_name\": \"YARNMemoryAvailablePercentage\",\n                  \"metric_value\": \"70\",\n                  \"comparison_operator\": \"GT\",\n                  \"evaluation_periods\": 10\n              }\n          }]\n      }\n  }],\n  \"component_list\": [{\n      \"component_name\": \"Hadoop\"\n  },\n  {\n      \"component_name\": \"Spark\"\n  },\n  {\n      \"component_name\": \"HBase\"\n  },\n  {\n      \"component_name\": \"Hive\"\n  }],\n  \"add_jobs\": [{\n      \"job_type\": 1,\n      \"job_name\": \"tenji111\",\n      \"jar_path\": \"s3a: //bigdata/program/hadoop-mapreduce-examples-2.7.2.jar\",\n      \"arguments\": \"wordcount\",\n      \"input\": \"s3a: //bigdata/input/wd_1k/\",\n      \"output\": \"s3a: //bigdata/ouput/\",\n      \"job_log\": \"s3a: //bigdata/log/\",\n      \"shutdown_cluster\": true,\n      \"file_action\": \"\",\n      \"submit_job_once_cluster_run\": true,\n      \"hql\": \"\",\n      \"hive_script_path\": \"\"\n  }],\n  \"bootstrap_scripts\": [{\n      \"name\": \"Modifyosconfig\",\n      \"uri\": \"s3a: //XXX/modify_os_config.sh\",\n      \"parameters\": \"param1param2\",\n      \"nodes\": [\n          \"master\",\n          \"core\",\n          \"task\"\n      ],\n      \"active_master\": \"false\",\n      \"before_component_start\": \"true\",\n      \"start_time\": \"1667892101\",\n      \"state\": \"IN_PROGRESS\",\n      \"fail_action\": \"continue\",\n      \"action_stages\": [\n          \"BEFORE_COMPONENT_FIRST_START\",\n          \"BEFORE_SCALE_IN\"\n      ]\n  },\n  {\n      \"name\": \"Installzepplin\",\n      \"uri\": \"s3a: //XXX/zeppelin_install.sh\",\n      \"parameters\": \"\",\n      \"nodes\": [\"master\"],\n      \"active_master\": \"true\",\n      \"before_component_start\": \"false\",\n      \"start_time\": \"1667892101\",\n      \"state\": \"IN_PROGRESS\",\n      \"fail_action\": \"continue\",\n      \"action_stages\": [\n          \"AFTER_SCALE_IN\",\n          \"AFTER_SCALE_OUT\"\n      ]\n  }]\n}","x-request-examples-text-3":"{\n  \"billing_type\": 12,\n  \"data_center\": \"\",\n  \"available_zone_id\": \"d573142f24894ef3bd3664de068b44b0\",\n  \"cluster_name\": \"mrs_HEbK\",\n  \"cluster_version\": \"MRS 3.1.0\",\n  \"safe_mode\": 0,\n  \"cluster_type\": 0,\n  \"component_list\": [\n    {\n      \"component_name\": \"Hadoop\"\n    },\n    {\n      \"component_name\": \"Spark\"\n    },\n    {\n      \"component_name\": \"HBase\"\n    },\n    {\n      \"component_name\": \"Hive\"\n    },\n    {\n      \"component_name\": \"Presto\"\n    },\n    {\n      \"component_name\": \"Tez\"\n    },\n    {\n      \"component_name\": \"Hue\"\n    },\n    {\n      \"component_name\": \"Loader\"\n    },\n    {\n      \"component_name\": \"Flink\"\n    }\n  ],\n  \"vpc\": \"vpc-4b1c\",\n  \"vpc_id\": \"4a365717-67be-4f33-80c5-98e98a813af8\",\n  \"subnet_id\": \"67984709-e15e-4e86-9886-d76712d4e00a\",\n  \"subnet_name\": \"subnet-4b44\",\n  \"security_groups_id\": \"4820eace-66ad-4f2c-8d46-cf340e3029dd\",\n  \"enterprise_project_id\": \"0\",\n  \"tags\": [\n    {\n      \"key\": \"key1\",\n      \"value\": \"value1\"\n    },\n    {\n      \"key\": \"key2\",\n      \"value\": \"value2\"\n    }\n  ],\n  \"node_groups\": [\n    {\n      \"group_name\": \"master_node_default_group\",\n      \"node_num\": 1,\n      \"node_size\": \"s3.xlarge.2.linux.bigdata\",\n      \"root_volume_size\": 480,\n      \"root_volume_type\": \"SATA\",\n      \"data_volume_type\": \"SATA\",\n      \"data_volume_count\": 1,\n      \"data_volume_size\": 600\n    },\n    {\n      \"group_name\": \"core_node_analysis_group\",\n      \"node_num\": 1,\n      \"node_size\": \"s3.xlarge.2.linux.bigdata\",\n      \"root_volume_size\": 480,\n      \"root_volume_type\": \"SATA\",\n      \"data_volume_type\": \"SATA\",\n      \"data_volume_count\": 1,\n      \"data_volume_size\": 600\n    }\n  ],\n  \"login_mode\": 1,\n  \"cluster_master_secret\": \"\",\n  \"cluster_admin_secret\": \"\",\n  \"log_collection\": 1,\n  \"add_jobs\": [\n    {\n      \"job_type\": 1,\n      \"job_name\": \"tenji111\",\n      \"jar_path\": \"s3a://bigdata/program/hadoop-mapreduce-examples-2.7.2.jar\",\n      \"arguments\": \"wordcount\",\n      \"input\": \"s3a://bigdata/input/wd_1k/\",\n      \"output\": \"s3a://bigdata/ouput/\",\n      \"job_log\": \"s3a://bigdata/log/\",\n      \"shutdown_cluster\": true,\n      \"file_action\": \"\",\n      \"submit_job_once_cluster_run\": true,\n      \"hql\": \"\",\n      \"hive_script_path\": \"\"\n    }\n  ],\n  \"bootstrap_scripts\": [\n    {\n      \"name\": \"Modify os config\",\n      \"uri\": \"s3a://XXX/modify_os_config.sh\",\n      \"parameters\": \"param1 param2\",\n      \"nodes\": [\n        \"master\",\n        \"core\",\n        \"task\"\n      ],\n      \"active_master\": \"false\",\n      \"before_component_start\": \"true\",\n      \"start_time\": \"1667892101\",\n      \"state\": \"IN_PROGRESS\",\n      \"fail_action\": \"continue\",\n      \"action_stages\": [\n          \"BEFORE_COMPONENT_FIRST_START\",\n          \"BEFORE_SCALE_IN\"\n      ]\n    },\n    {\n      \"name\": \"Install zepplin\",\n      \"uri\": \"s3a://XXX/zeppelin_install.sh\",\n      \"parameters\": \"\",\n      \"nodes\": [\n        \"master\"\n      ],\n      \"active_master\": \"true\",\n      \"before_component_start\": \"false\",\n      \"start_time\": \"1667892101\",\n      \"state\": \"IN_PROGRESS\",\n      \"fail_action\": \"continue\",\n      \"action_stages\": [\n          \"AFTER_SCALE_IN\",\n          \"AFTER_SCALE_OUT\"\n      ]\n    }\n  ]\n}","x-request-examples-text-4":"{\n  \"billing_type\": 12,\n  \"data_center\": \"\",\n  \"master_node_num\": 1,\n  \"master_node_size\": \"s3.2xlarge.2.linux.bigdata\",\n  \"core_node_num\": 1,\n  \"core_node_size\": \"s1.xlarge.linux.bigdata\",\n  \"available_zone_id\": \"d573142f24894ef3bd3664de068b44b0\",\n  \"cluster_name\": \"newcluster\",\n  \"vpc\": \"vpc1\",\n  \"vpc_id\": \"5b7db34d-3534-4a6e-ac94-023cd36aaf74\",\n  \"subnet_id\": \"815bece0-fd22-4b65-8a6e-15788c99ee43\",\n  \"subnet_name\": \"subnet\",\n  \"security_groups_id\": \"\",\n  \"enterprise_project_id\": \"0\",\n  \"tags\": [\n    {\n      \"key\": \"key1\",\n      \"value\": \"value1\"\n    },\n    {\n      \"key\": \"key2\",\n      \"value\": \"value2\"\n    }\n  ],\n  \"cluster_version\": \"MRS 3.1.0\",\n  \"cluster_type\": 0,\n  \"master_data_volume_type\": \"SATA\",\n  \"master_data_volume_size\": 600,\n  \"master_data_volume_count\": 1,\n  \"core_data_volume_type\": \"SATA\",\n  \"core_data_volume_size\": 600,\n  \"core_data_volume_count\": 1,\n  \"login_mode\": 1,\n  \"node_public_cert_name\": \"SSHkey-bba1\",\n  \"safe_mode\": 0,\n  \"cluster_admin_secret\": \"******\",\n  \"log_collection\": 1,\n  \"component_list\": [\n    {\n      \"component_name\": \"Hadoop\"\n    },\n    {\n      \"component_name\": \"Spark\"\n    },\n    {\n      \"component_name\": \"HBase\"\n    },\n    {\n      \"component_name\": \"Hive\"\n    },\n    {\n      \"component_name\": \"Presto\"\n    },\n    {\n      \"component_name\": \"Tez\"\n    },\n    {\n      \"component_name\": \"Hue\"\n    },\n    {\n      \"component_name\": \"Loader\"\n    },\n    {\n      \"component_name\": \"Flink\"\n    }\n  ],\n  \"add_jobs\": [\n    {\n      \"job_type\": 1,\n      \"job_name\": \"tenji111\",\n      \"jar_path\": \"s3a://bigdata/program/hadoop-mapreduce-examples-XXX.jar\",\n      \"arguments\": \"wordcount\",\n      \"input\": \"s3a://bigdata/input/wd_1k/\",\n      \"output\": \"s3a://bigdata/ouput/\",\n      \"job_log\": \"s3a://bigdata/log/\",\n      \"shutdown_cluster\": false,\n      \"file_action\": \"\",\n      \"submit_job_once_cluster_run\": true,\n      \"hql\": \"\",\n      \"hive_script_path\": \"\"\n    }\n  ],\n  \"bootstrap_scripts\": [\n    {\n      \"name\": \"Install zepplin\",\n      \"uri\": \"s3a://XXX/zeppelin_install.sh\",\n      \"parameters\": \"\",\n      \"nodes\": [\n        \"master\"\n      ],\n      \"active_master\": \"false\",\n      \"before_component_start\": \"false\",\n      \"start_time\": \"1667892101\",\n      \"state\": \"IN_PROGRESS\",\n      \"fail_action\": \"continue\",\n      \"action_stages\": [\n          \"AFTER_SCALE_IN\",\n          \"AFTER_SCALE_OUT\"\n      ]\n    }\n  ]\n}","x-request-examples-url-1":"POST https://{endpoint}/v1.1/{project_id}/run-job-flow","x-request-examples-url-2":"POST https://{endpoint}/v1.1/{project_id}/run-job-flow","x-request-examples-url-3":"POST https://{endpoint}/v1.1/{project_id}/run-job-flow","x-request-examples-url-4":"POST https://{endpoint}/v1.1/{project_id}/run-job-flow","x-scope":"Commercial","x-support-sdk":"Y","x-tlf":"N","x-version":"v1.1"}}},"product_short":"MRS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建集群并执行作业","tags":"集群管理接口","uri":null,"version":"2.0"}