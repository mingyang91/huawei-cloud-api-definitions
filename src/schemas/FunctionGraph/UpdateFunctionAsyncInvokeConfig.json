{"base_path":null,"components":null,"consumes":"[\"application/json\"]","definitions":{"ErrorResp":{"properties":{"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误信息","type":"string"}}},"FuncAsyncDestinationConfig":{"description":"函数异步调用目标参数配置。","properties":{"on_failure":{"$ref":"#/definitions/FuncDestinationConfig","description":"当函数执行失败(系统错误或函数内部错误)时,函数计算将调用该配置对应的目标。"},"on_success":{"$ref":"#/definitions/FuncDestinationConfig","description":"当函数执行成功时,函数计算将调用该配置对应的目标。"}}},"FuncDestinationConfig":{"description":"函数通知目标参数配置。","properties":{"destination":{"description":"目标类型。\n\n- OBS:通知到OBS服务。\n- SMN:通知到SMN服务。\n- DIS:通知到DIS服务。\n- FunctionGraph: 通知到函数服务。","enum":["OBS","SMN","DIS","FunctionGraph"],"example":"OBS","type":"string"},"param":{"description":"通知目标服务对应参数,json字符串。\n\n- OBS:包含bucket桶,对象目录前缀prefix,对象默认expires过期时间[0~365]天,0默认不过期。\n- SMN:包含smn 主题topic_urn。\n- DIS:包含DIS 通道名stream_name。\n- FunctionGraph:包含func_urn,函数urn","example":"{\"bucket\":\"fgs-invoke\",\"prefix\":\"/function1/\",\"expires\":1}","type":"string"}}},"UpdateFunctionAsyncInvokeConfigRequestBody":{"description":"函数异步配置请求体。","properties":{"destination_config":{"$ref":"#/definitions/FuncAsyncDestinationConfig","description":"异步调用目标。"},"enable_async_status_log":{"description":"开启异步调用状态持久化","example":false,"type":"boolean"},"max_async_event_age_in_seconds":{"description":"消息最大存活时长,取值范围[1,86400],单位:秒,默认值为3600。","example":60,"maximum":86400,"minimum":1,"type":"integer"},"max_async_retry_attempts":{"description":"异步调用失败后的最大重试次数,默认值为1。取值范围[0,3]。","example":3,"maximum":3,"minimum":0,"type":"integer"}}},"UpdateFunctionAsyncInvokeConfigResponseBody":{"description":"函数异步配置返回结构体。","properties":{"created_time":{"description":"异步调用配置的创建时间。","example":"2021-03-04T14:50:02+08:00","type":"string"},"destination_config":{"$ref":"#/definitions/FuncAsyncDestinationConfig","description":"异步调用目标。"},"enable_async_status_log":{"description":"开启异步调用状态持久化","example":false,"type":"boolean"},"func_urn":{"description":"函数URN。","example":"urn:fss:{region}:5691ba790e2b46ceb38316xxxxxxxxxx:function:default:test_async:latest","maxLength":269,"minLength":1,"type":"string"},"last_modified":{"description":"异步调用配置的最后更改时间。","example":"2021-03-04T14:50:02+08:00","type":"string"},"max_async_event_age_in_seconds":{"description":"消息最大存活时长,取值范围[60,86400]。单位:秒。","example":60,"type":"integer"},"max_async_retry_attempts":{"description":"异步调用失败后的最大重试次数,默认值为3。取值范围[0,8]。","example":3,"type":"integer"}},"required":["destination_config","func_urn","max_async_event_age_in_seconds","max_async_retry_attempts"]}},"description":null,"group_id":"cb46b925a4eb40a192520da4fc33b990","host":"functiongraph.cn-north-4.myhuaweicloud.com","id":"1979c9acbf3c47ebb6830fa2a6ada015","info_version":"v2","method":"put","name":"UpdateFunctionAsyncInvokeConfig","parameters":{},"paths":{"/v2/{project_id}/fgs/functions/{function_urn}/async-invoke-config":{"put":{"description":"设置函数异步配置信息。","operationId":"UpdateFunctionAsyncInvokeConfig","parameters":[{"description":"租户Project ID。","in":"path","name":"project_id","required":true,"type":"string","x-example":"46b6f338fc3445b8846c71dfb1fbd9e8","x-order":1},{"description":"函数的URN(Uniform Resource Name),唯一标识函数。","in":"path","maxLength":269,"minLength":1,"name":"function_urn","required":true,"type":"string","x-example":"urn:fss:{region}:46b6f338fc3445b8846c71xxxxxxxxxx:function:csharp:test2-0:latest","x-order":2},{"description":"设置函数异步配置请求体。","in":"body","name":"UpdateFunctionAsyncInvokeConfigRequestBody","required":true,"schema":{"$ref":"#/definitions/UpdateFunctionAsyncInvokeConfigRequestBody"}},{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."}],"responses":{"200":{"description":"Ok","examples":{"application/json":{"created_time":"2021-03-04T14:50:02+08:00","destination_config":{"on_failure":{"destination":"FunctionGraph","param":"{\"func_urn\":\"urn:fss:{region}:5691ba790e2b46ceb38316xxxxxxxxxx:function:default:testPython:latest\"}"},"on_success":{"destination":"FunctionGraph","param":"{\"func_urn\":\"urn:fss:{region}:5691ba790e2b46ceb38316xxxxxxxxxx:function:default:testPython:latest\"}"}},"func_urn":"urn:fss:xxxxxxxxx:7aad83af3e8d42e99ac194xxxxxxxxxx:function:default:test:latest","last_modified":"2021-03-04T14:50:02+08:00","max_async_event_age_in_seconds":60,"max_async_retry_attempts":1}},"schema":{"$ref":"#/definitions/UpdateFunctionAsyncInvokeConfigResponseBody"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/ErrorResp"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/ErrorResp"}}},"summary":"设置函数异步配置信息","tags":["函数异步配置"],"x-produc-type":"functiongraph","x-request-examples-description-1":"设置函数异步配置信息。","x-request-examples-url-1":"PUT /v2/{project_id}/fgs/functions/{function_urn}/async-invoke-config","x-support-sdk":"Y"}}},"product_short":"FunctionGraph","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"设置函数异步配置信息","tags":"函数异步配置","uri":null,"version":"2.0"}