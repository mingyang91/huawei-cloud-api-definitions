{"base_path":null,"components":null,"consumes":"[\"application/json\"]","definitions":{"CreateFunctionTriggerRequestBody":{"properties":{"event_data":{"additionalProperties":true,"description":"事件结构体。","type":"object"},"event_type_code":{"description":"消息代码。","example":"MessageCreated","type":"string"},"trigger_status":{"description":"触发器状态,取值为ACTIVE,DISABLED。","enum":["ACTIVE","DISABLED"],"example":"ACTIVE","type":"string"},"trigger_type_code":{"description":"触发器类型。\n\n- TIMER: 定时触发器。\n- APIG: APIGW触发器。\n- CTS: 云审计触发器,需要先开通云审计服务。\n- DDS: 文档数据库触发器,需要开启函数vpc。\n- DMS: 分布式消息服务触发器,需要配置dms委托。\n- DIS: 数据接入服务触发器,需要配置dis委托。\n- LTS: 云审计日志服务触发器,需要配置lts委托。\n- OBS: 对象存储服务触发器。\n- KAFKA: 专享版本kafka触发器。","enum":["TIMER","APIG","CTS","DDS","DMS","DIS","LTS","OBS","SMN","KAFKA","RABBITMQ","DEDICATEDGATEWAY","OPENSOURCEKAFKA","APIC","GAUSSMONGO","EVENTGRID"],"example":"TIMER","type":"string"}},"required":["event_data","trigger_type_code"]},"CreateFunctionTriggerResponseBody":{"properties":{"created_time":{"description":"触发器创建时间。","example":"2019-08-09T10:42:07+08:00","format":"date-time","type":"string"},"event_data":{"description":"触发器源事件。","properties":{},"type":"object"},"last_updated_time":{"description":"最后更新时间。","example":"2019-08-09T10:42:07+08:00","format":"date-time","type":"string"},"trigger_id":{"description":"触发器ID。","example":"1b3b264db3b849118d007884b9bc8a60","type":"string"},"trigger_status":{"description":"\"触发器状态\"\n\n- ACTIVE: 启用状态。\n- DISABLED: 禁用状态。","enum":["ACTIVE","DISABLED"],"example":"ACTIVE","type":"string"},"trigger_type_code":{"description":"触发器类型。\n\n- TIMER: \"定时触发器。\"\n- APIG: \"APIG触发器。\"\n- CTS: \"云审计服务触发器。\"\n- DDS: \"文档数据库服务触发器。\"\n- DMS: \"分布式服务触发器。\"\n- DIS: \"数据接入服务触发器。\"\n- LTS: \"云日志服务触发器。\"\n- OBS: \"对象存储触发器。\"\n- SMN: \"消息通知服务触发器。\"\n- KAFKA: \"专享版消息通知服务触发器。\"","enum":["TIMER","APIG","CTS","DDS","DMS","DIS","LTS","OBS","SMN","KAFKA","RABBITMQ","DEDICATEDGATEWAY","OPENSOURCEKAFKA","APIC","GAUSSMONGO","EVENTGRID"],"example":"APIG","type":"string"}},"required":["created_time","event_data","last_updated_time","trigger_id","trigger_status","trigger_type_code"]},"ErrorResp":{"properties":{"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误信息","type":"string"}}}},"description":null,"group_id":"cb46b925a4eb40a192520da4fc33b990","host":"functiongraph.cn-north-4.myhuaweicloud.com","id":"0f9ba919beb340f8a2dabd8150f98247","info_version":"v2","method":"post","name":"CreateFunctionTrigger","parameters":{},"paths":{"/v2/{project_id}/fgs/triggers/{function_urn}":{"post":{"description":"创建触发器。\n\n- 可以创建的触发器类型包括TIMER、APIG、CTS、DDS、DMS、DIS、LTS、OBS、SMN、KAFKA。\n- DDS和KAFKA触发器创建时默认为DISABLED状态,其他触发器默认为ACTIVE状态。\n- TIMER、DDS、DMS、KAFKA、LTS触发器支持禁用,其他触发器不支持。","operationId":"CreateFunctionTrigger","parameters":[{"description":"租户project_id","in":"path","name":"project_id","required":true,"type":"string","x-example":"46b6f338fc3445b8846c71dfb1fbd9e8","x-order":1},{"description":"函数的URN,详细解释见FunctionGraph函数模型的描述。","in":"path","name":"function_urn","required":true,"type":"string","x-example":"urn:fss:{region}:46b6f338fc3445b8846c71dfb1fbd9e8:function:csharp:test2-0:latest","x-order":2},{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"创建触发器请求体","in":"body","name":"CreateFunctionTriggerRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateFunctionTriggerRequestBody"}}],"responses":{"201":{"description":"Created","examples":{"application/json":{"created_time":"2019-10-29T17:15:53+08:00","event_data":{"name":"Timer-cpg3","schedule":"3m","schedule_type":"Rate"},"last_updated_time":"2019-10-29T17:15:53+08:00","trigger_id":"9a14fae1-78cf-4185-ac7a-429eb6dc41fb","trigger_status":"ACTIVE","trigger_type_code":"TIMER"}},"schema":{"$ref":"#/definitions/CreateFunctionTriggerResponseBody"}},"400":{"description":"Bad Request 请求错误。","schema":{"$ref":"#/definitions/ErrorResp"}},"401":{"description":"Unauthorized 鉴权失败。","schema":{"$ref":"#/definitions/ErrorResp"}},"403":{"description":"Forbidden 没有操作权限。","schema":{"$ref":"#/definitions/ErrorResp"}},"404":{"description":"Not Found 找不到资源。","schema":{"$ref":"#/definitions/ErrorResp"}},"500":{"description":"Internal Server Error 服务内部错误。","schema":{"$ref":"#/definitions/ErrorResp"}}},"summary":"创建触发器","tags":["函数触发器"],"x-produc-type":"functiongraph","x-request-examples-description-1":"创建指定函数触发器。","x-request-examples-url-1":"POST https://{Endpoint}/v2/{project_id}/fgs/triggers/{function_urn}","x-support-sdk":"Y"}}},"product_short":"FunctionGraph","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建触发器","tags":"函数触发器","uri":null,"version":"2.0"}