{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"QueueActionFailed":{"description":"","properties":{"error_code":{"description":"错误码","type":"string","x-vision":""},"error_msg":{"description":"错误信息","type":"string","x-vision":""}},"required":["error_code","error_msg"]},"QueueActionResponse":{"description":"修改队列状态响应体","properties":{"is_success":{"description":"请求执行是否成功。“true”表示请求执行成功。","type":"boolean","x-vision":""},"job_id":{"description":"当force为true的时候返回的jobId,可以根据job_id的状态来看最终结果","type":"string","x-vision":""},"message":{"description":"系统提示信息,执行成功时,信息可能为空。","type":"string","x-vision":""},"queue_name":{"description":"扩缩容的队列名称。","type":"string","x-vision":""},"result":{"description":"扩缩容结果","type":"boolean","x-vision":""}},"required":["is_success","message"]},"RunQueueActionReq":{"properties":{"action":{"description":"执行动作:restart:重启scale_out:扩容scale_in:缩容,目前只支持restart、scale_out、scale_in。","example":"restart","type":"string","x-vision":""},"cu_count":{"description":"队列的实际CU。","format":"int32","type":"integer","x-vision":""},"force":{"default":false,"description":"是否强制重启,action为restart时可选择配置,默认为false。","example":true,"type":"boolean","x-vision":""}},"required":["action"]}},"description":null,"group_id":"065e44b2fe564922aa79230ec761dca6","host":"dli.cn-north-4.myhuaweicloud.com","id":"6fac0fc1285047e7b162c96648afdabe","info_version":"v1","method":"put","name":"RunQueueAction","parameters":{},"paths":{"/v1.0/{project_id}/queues/{queue_name}/action":{"put":{"consumes":[],"deprecated":false,"description":"该功能用于重新启动队列、扩容队列、缩容队列。","operationId":"RunQueueAction","parameters":[{"description":"","in":"path","name":"project_id","required":true,"type":"string","x-order":1},{"description":"","in":"path","name":"queue_name","required":true,"type":"string","x-order":3},{"description":"从IAM服务获取的用户Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":2,"x-vision":""},{"description":"This is a auto create Body Object","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/RunQueueActionReq"}}],"produces":[],"responses":{"200":{"description":"OK","examples":{"application/json":{"is_success":true,"message":"Restart success"},"application/json-1":{"is_success":true,"job_id":"d90396c7-3a25-4944-ad1e-99c764d902e7","message":"Submit restart job success, it need some time to cancel jobs, please wait for a while and check job status"},"application/json-2":{"queue_name":"myQueue","result":true}},"schema":{"$ref":"#/definitions/QueueActionResponse"}},"400":{"description":"Bad Request","examples":{"application/json":{"error_code":"DLI.0008","error_msg":"There is no queue named test"},"application/json-1":{"error_code":"DLI.0007","error_msg":"Request to restart failed for queue aaa, only sql queue need to restart"}},"schema":{"$ref":"#/definitions/QueueActionFailed"}},"401":{"description":"Unauthorized","examples":{"application/json":{"error_code":"DLI.0015","error_msg":"Token info for token is null, return."},"application/json-1":{"error_code":"DLI.0013","error_msg":"X-Auth-Token is not defined in request. It is mandatory. Please define and send the request."}},"schema":{"$ref":"#/definitions/QueueActionFailed"}},"500":{"description":"Internal Server Error"}},"summary":"重启/扩容/缩容队列","tags":["队列相关API"],"x-apiErrorCodes":[{"errorCode":"DLI.0001","errorDescription":"参数校验错误","errorDescriptionEn":"","errorMessage":"Parameter check errors occur.","httpStatus":"400","solution":"","solutionEn":""},{"errorCode":"DLI.0007","errorDescription":"特性不支持","errorDescriptionEn":"","errorMessage":"Feature not supported.","httpStatus":"400","solution":"","solutionEn":""},{"errorCode":"DLI.0008","errorDescription":"元数据错误","errorDescriptionEn":"","errorMessage":"Metadata errors occur.","httpStatus":"400","solution":"","solutionEn":""},{"errorCode":"DLI.0013","errorDescription":"用户认证错误","errorDescriptionEn":"","errorMessage":"User authentication errors occur.","httpStatus":"401","solution":"","solutionEn":""}],"x-is-registered":"Y","x-open-region-cloud":"hc,hws_hk","x-support-sdk":"Y"}}},"product_short":"DLI","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"重启/扩容/缩容队列","tags":"队列相关API","uri":null,"version":"2.0"}