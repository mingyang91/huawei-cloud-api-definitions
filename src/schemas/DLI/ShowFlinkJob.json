{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"FailResponse":{"description":"","properties":{"error_code":{"description":"错误码。","type":"string"},"error_msg":{"description":"错误描述信息。","type":"string"}},"required":["error_code","error_msg"]},"FlinkJobConfig":{"description":"作业配置,当“show_detail”为“true”时才有该参数配置。","properties":{"checkpoint_enabled":{"default":false,"description":"是否开启作业自动快照功能。\n开启:true;\n关闭:false;\n默认:false。","example":false,"type":"boolean","x-vision":""},"checkpoint_interval":{"default":10,"description":"快照时间间隔, 单位为秒,默认值为10。","example":10,"format":"int32","type":"integer","x-vision":""},"checkpoint_mode":{"description":"快照模式:\nexactly_once:数据只被消费一次。\nat_least_once:数据至少被消费一次。\n默认值为exactly_once。","type":"string","x-vision":""},"checkpoint_path":{"description":"检查点保存路径。","type":"string"},"config_url":{"description":"用户上传的config包OBS路径。","type":"string"},"cu_number":{"default":2,"description":"用户为作业选择的CU数量, “show_detail”。默认为2。","example":2,"format":"int32","maximum":400,"minimum":2,"type":"integer","x-vision":""},"dependency_files":{"description":"用户已上传到DLI资源管理系统的资源包名,用户自定义作业的依赖文件.","items":{"type":"string"},"type":"array","x-vision":""},"dependency_jars":{"description":"用户已上传到DLI资源管理系统的资源包名,用户自定义作业的其他依赖包","items":{"type":"string"},"type":"array","x-vision":""},"dirty_data_strategy":{"description":"作业脏数据策略。\n“2:obs-wan-wulan3/jobs”:保存\n“1”:抛出异常\n“0”:忽略","type":"string","x-vision":""},"edge_group_ids":{"description":"边缘计算组ID列表。","example":"62de1e1c-066e-48a8-a79d-f461a31b2ee1,2eb00f85-99f2-4144-bcb7-d39ff47f9002","items":{"type":"string"},"type":"array","x-vision":""},"entrypoint":{"description":"用户已上传到DLI资源管理系统的资源包名,用户自定义作业主类所在的jar包.","type":"string","x-vision":""},"executor_cu_number":{"description":"计算节点cu数","format":"int32","type":"integer","x-vision":""},"executor_number":{"description":"作业使用计算节点个数","format":"int32","type":"integer","x-vision":""},"feature":{"description":"自定义作业特性。表示用户作业使用的Flink镜像类型。basic:表示使用DLI提供的基础Flink镜像。custom:表示使用用户自定义的Flink镜像。","type":"string"},"flink_version":{"description":"Flink版本。当用户设置“feature”为“basic”时,该参数生效。用户可通过与“feature”参数配合使用,指定作业运行使用的DLI基础Flink镜像的版本。","type":"string"},"graph_editor_data":{"description":"流图编辑数据。默认为null。","type":"string"},"graph_editor_enabled":{"description":"流图编辑开关。默认为“false。","type":"boolean"},"idle_state_retention":{"description":"空闲状态过期周期。","format":"int32","type":"integer","x-vision":""},"image":{"description":"自定义镜像。格式为:组织名/镜像名:镜像版本。当用户设置“feature”为“custom”时,该参数生效。用户可通过与“feature”参数配合使用,指定作业运行使用自定义的Flink镜像。","type":"string"},"log_enabled":{"default":false,"description":"是否启用日志存储。默认为false。","example":false,"type":"boolean","x-vision":""},"manager_cu_number":{"description":"管理单元CU数。默认为1。","example":1,"format":"int32","type":"integer","x-vision":""},"obs_bucket":{"description":"OBS桶名。","example":"obs-demo","type":"string","x-vision":""},"operator_config":{"description":"各算子并行度参数,以json的形式展示各算子id和并行度。","type":"string"},"parallel_number":{"default":1,"description":"用户设置的作业并行数, “show_detail”为“true”时独有。默认值为1。\n最小值:1,最大值:2000。\n","example":1,"format":"int32","maximum":2000,"minimum":1,"type":"integer","x-vision":""},"restart_when_exception":{"description":"是否开启异常重启功能。","type":"boolean","x-vision":""},"resume_checkpoint":{"default":false,"description":"异常自动重启时,是否从最新checkpoint恢复,默认false","example":false,"type":"boolean"},"resume_max_num":{"description":"异常重试最大次数。-1代表无限。","format":"int64","type":"integer"},"root_id":{"description":"父作业ID。","example":11,"format":"int32","type":"integer"},"runtime_config":{"description":"Flink作业运行时自定义优化参数。","type":"string"},"smn_topic":{"description":"当作业异常时,向该SMN主题推送告警信息。","example":"cs_job_exception","type":"string","x-vision":""},"static_estimator_config":{"description":"静态流图资源预估参数,以json的形式展示。","type":"string"},"tm_cus":{"description":"单TM所占CU数。","format":"int32","type":"integer"},"tm_slot_num":{"description":"单TM Slot数。","format":"int32","type":"integer"},"udf_jar_url":{"description":"用户已上传到DLI资源管理系统的资源包名,用户sql作业的udf jar通过该参数传入。","type":"string","x-vision":""}}},"FlinkJobDetail":{"description":"作业详细信息。","properties":{"create_time":{"description":"作业创建时间。","example":1516952770835,"format":"int64","type":"integer","x-vision":""},"desc":{"description":"作业描述。长度限制:0-2048个字符。","example":"作业描述。","maxLength":2048,"minLength":0,"type":"string","x-vision":""},"entrypoint_args":{"description":"jar包作业运行参数,多个参数之间空格分隔。","example":"1","type":"string","x-vision":""},"execution_graph":{"description":"作业执行计划。","type":"string","x-vision":""},"job_config":{"$ref":"#/definitions/FlinkJobConfig","description":"作业配置。","x-vision":""},"job_id":{"description":"作业ID。","example":50320,"format":"int64","type":"integer","x-vision":""},"job_type":{"description":"作业类型。","example":"flink_jar_job","type":"string","x-vision":""},"main_class":{"description":"jar包主类。","example":"org.apache.spark.examples.streaming.JavaQueueStream","type":"string","x-vision":""},"name":{"description":"作业名称。长度限制:0-57个字符。","example":"作业名","maxLength":57,"minLength":0,"type":"string","x-vision":""},"project_id":{"description":"作业所属项目标识。","example":"48cc2c48765f481480c7db940d6409d1","type":"string","x-vision":""},"queue_name":{"description":"队列名称。长度限制:1-128个字符。","example":"10000","maxLength":128,"minLength":1,"type":"string","x-vision":""},"run_mode":{"description":"作业运行模式:\nshared_cluster:共享。\nexclusive_cluster:独享。\nedge_node:边缘节点。","example":"shared_cluster","type":"string","x-vision":""},"savepoint_path":{"description":"手动产生的Checkpoint的保存路径。","type":"string"},"sql_body":{"description":"Stream SQL语句。","example":"select * from source_table","type":"string","x-vision":""},"start_time":{"description":"作业开始时间。","example":1516952710740,"format":"int64","type":"integer","x-vision":""},"status":{"description":"作业状态。","example":"job_running","type":"string","x-vision":""},"status_desc":{"description":"作业状态描述。","example":"作业状态描述。","type":"string","x-vision":""},"update_time":{"description":"作业更新时间。","example":1516952770835,"format":"int64","type":"integer","x-vision":""},"user_id":{"description":"作业所属用户标识。","example":"ac4eaa303639409c8ab099d55eb1538e","type":"string","x-vision":""}},"required":["create_time","job_id"]},"ShowFlinkJobDetailResponse":{"description":"作业详情。","properties":{"is_success":{"description":"执行请求是否成功。“true”表示请求执行成功。","example":true,"type":"boolean","x-vision":""},"job_detail":{"$ref":"#/definitions/FlinkJobDetail","description":"作业详情。","x-vision":""},"message":{"description":"系统提示信息,执行成功时,信息可能为空。","example":"消息内容。","type":"string","x-vision":""}}}},"description":null,"group_id":"065e44b2fe564922aa79230ec761dca6","host":"dli.cn-north-4.myhuaweicloud.com","id":"25e76484577d43bf8d970c6781607c38","info_version":"v1","method":"get","name":"ShowFlinkJob","parameters":{},"paths":{"/v1.0/{project_id}/streaming/jobs/{job_id}":{"get":{"consumes":[],"deprecated":false,"description":"查看一个Flink作业的详情信息。","operationId":"ShowFlinkJob","parameters":[{"description":"作业ID。","format":"int64","in":"path","name":"job_id","required":true,"type":"integer","x-example":34,"x-order":2},{"description":"项目ID。","in":"path","name":"project_id","required":true,"type":"string","x-example":"48cc2c48765f481480c7db940d6409d1","x-order":1},{"description":"租户Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"xxx","x-order":3,"x-vision":""}],"produces":[],"responses":{"200":{"description":"查询作业详情成功。","examples":{"application/json":{"is_success":"true","job_detail":{"create_time":1578466221525,"desc":"","entrypoint_args":null,"execution_graph":null,"job_config":{"checkpoint_enabled":false,"checkpoint_interval":10,"checkpoint_mode":"exactly_once","config_url":null,"cu_number":2,"dependency_files":["FemaleInfoCollection.jar","ReadFromResource"],"dependency_jars":["FemaleInfoCollection.jar","S3aBatchTest.jar"],"dirty_data_strategy":null,"edge_group_ids":null,"entrypoint":"FemaleInfoCollection.jar","executor_cu_number":null,"executor_number":null,"graph_editor_data":"","graph_editor_enabled":false,"idle_state_retention":3600,"log_enabled":false,"manager_cu_number":1,"obs_bucket":null,"parallel_number":1,"restart_when_exception":false,"root_id":-1,"smn_topic":null,"udf_jar_url":null},"job_id":104,"job_type":"flink_jar_job","main_class":null,"name":"jptest","project_id":"330e068af1334c9782f4226acc00a2e2","queue_name":"flinktest","run_mode":"exclusive_cluster","savepoint_path":null,"sql_body":"","start_time":null,"status":"job_init","status_desc":"","update_time":1578467395713,"user_id":"011c99a26ae84a1bb963a75e7637d3fd"},"message":"作业详情查询成功"}},"schema":{"$ref":"#/definitions/ShowFlinkJobDetailResponse"}},"400":{"description":"Bad Request","examples":{"application/json":{"error_code":"DLI.16001","error_msg":"作业id不存在请提供一个可用的jobId, jobId可以从数据湖探索服务的作业列表页获取"}},"schema":{"$ref":"#/definitions/FailResponse"}}},"summary":"查询Flink作业详情","tags":["Flink作业-作业相关API"],"x-apiErrorCodes":[],"x-is-registered":"Y","x-open-region-cloud":"hc,hws_hk","x-support-sdk":"Y"}}},"product_short":"DLI","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询Flink作业详情","tags":"Flink作业-作业相关API","uri":null,"version":"2.0"}