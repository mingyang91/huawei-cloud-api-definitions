{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"ErrorResp":{"description":"请求失败时返回的错误对象响应体。","properties":{"error_code":{"description":"错误码。","example":"DRS.00000000","maxLength":12,"minLength":12,"type":"string"},"error_msg":{"description":"错误描述。","example":"Success","maxLength":512,"minLength":1,"type":"string"}},"required":["error_code","error_msg"],"type":"object"},"UpdateObjectResp":{"properties":{"id":{"description":"查询结果id","type":"string"},"status":{"description":"查询状态","enum":["pending","failed","success"],"type":"string"}},"type":"object"}},"description":null,"group_id":"506538835790436b8e209e5a6684d485","host":"drs.cn-north-4.myhuaweicloud.com","id":"5cce6cdbedbe4069a7f5c6d5dac146a0","info_version":"v5","method":"post","name":"CollectDbObjectsAsync","parameters":{},"paths":{"/v5/{project_id}/jobs/{job_id}/db-objects/collect":{"post":{"consumes":["application/json"],"description":"提交查询数据库对象信息。例如:\n- 当type取值为source时,表示查询源库库表信息。\n- 当源库库表信息有变化时,则type取值为source,is_refresh取值为true。\n- 当已同步到目标库的库表信息过大,需要提前将数据加载到缓存中时,type取值为synchronized。","operationId":"CollectDbObjectsAsync","parameters":[{"description":"租户在某一Region下的Project ID。\n获取方法请参见[获取项目ID。](https://support.huaweicloud.com/api-drs/drs_api_0106.html)","in":"path","name":"project_id","required":true,"type":"string"},{"description":"任务ID。","in":"path","name":"job_id","required":true,"type":"string"},{"default":"application/json","description":"发送的实体的MIME类型。推荐用户默认使用application/json,如果API是对象、镜像上传等接口,媒体类型可按照流类型的不同进行确定。","in":"header","name":"Content-Type","required":true,"type":"string"},{"description":"从IAM服务获取的用户Token。\n\n用户Token也就是调用获取用户Token接口的响应值,该接口是唯一不需要认证的接口。\n\n请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"default":"en-us","description":"请求语言类型。","enum":["en-us","zh-cn"],"in":"header","name":"X-Language","required":false,"type":"string"},{"description":"偏移量,表示查询该偏移量后面的记录。","format":"int32","in":"query","name":"offset","required":false,"type":"integer"},{"description":"查询返回记录的数量限制。","format":"int32","in":"query","name":"limit","required":false,"type":"integer"},{"description":"查询对象信息类型。\n取值:\n- source:查询源库对象信息。\n- modified:查询已选择的(已同步的和未下发的)对象信息。\n- synchronized:查询已同步的(已下发的)对象信息 , 使用场景在任务处于全量中或者增量中。","enum":["source","modified","synchronized"],"in":"query","name":"type","required":true,"type":"string"},{"description":"是否强制刷新。\n取值:\n- true:是,表示从源库重新查询。   \n- false:否,表示从已缓存中数据查询。","in":"query","name":"is_refresh","required":false,"type":"boolean"},{"description":"查询指定库的信息。","in":"query","items":{"type":"string"},"name":"db_names","required":false,"type":"array"}],"produces":["application/json"],"responses":{"202":{"description":"OK","examples":{"application/json":{"id":"0eacda0b-9422-4535-8b62-537d1833638b","status":"pending"}},"schema":{"$ref":"#/definitions/UpdateObjectResp"}},"400":{"description":"Bad Request","examples":{"application/json":{"error_code":"DRS.10000010","error_msg":"Job does not exist, please check job ID."}},"schema":{"$ref":"#/definitions/ErrorResp"}}},"summary":"提交查询数据库对象信息","tags":["实例数据库对象配置"],"x-is-registered":"Y","x-order":1,"x-request-examples-description-1":"查询已同步的对象信息。","x-request-examples-url-1":"https://{endpoint}/v5/054ba152d480d55b2f5dc0069e7ddef0/jobs/c7debc9c-8e09-4a5d-8dd6-cc44f78jb20r/db-objects/collect?type=synchronized","x-support-sdk":"Y"}}},"product_short":"DRS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"提交查询数据库对象信息","tags":"实例数据库对象配置","uri":null,"version":"2.0"}