{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"ErrorResp":{"description":"请求失败时返回的错误对象响应体。","properties":{"error_code":{"description":"错误码。","example":"DRS.00000000","maxLength":12,"minLength":12,"type":"string"},"error_msg":{"description":"错误描述。","example":"Success","maxLength":512,"minLength":1,"type":"string"}},"required":["error_code","error_msg"],"type":"object"},"JobActions":{"description":"任务操作命令集合。","properties":{"available_actions":{"description":"任务可操作命令集合。\n- CREATE:创建任务\n- CHOOSE_OBJECT:选择对象,任务增量中再编辑\n- PRE_CHECK:预检查\n- CHANGE_MODE:修改任务模式\n- FREE_RESOURCE:释放资源\n- MODIFY_DB_CONFIG:修改数据库配置\n- RESET_DB_PWD:重置数据库密码(源库、目标库)\n- MODIFY_CONFIGURATION:修改任务配置\n- PAUSE:暂停任务\n- START:启动任务\n- CHANGE:修改任务\n- RETRY:重试任务\n- RESET:重置任务\n- DELETE:删除任务\n- QUERY_PRE_CHECK:预检查\n- SWITCH_OVER:容灾倒换\n- START_INCR:CASSANDRA启动增量任务\n- MODIFY_TASK_NUMBER:CASSANDRA修改线程数配置\n- CONTINUE_JOB:oracle-GaussDB分布式:启动失败或者停止的任务\n- STOP_JOB:oracle-GaussDB分布式:停止任务\n- CONTINUE_CAPTURE:启动抓取\n- STOP_CAPTURE:停止抓取\n- CONTINUE_APPLY:启动回放\n- STOP_APPLY:停止回放\n- PAY_ORDER:包年包月支付订单\n- UNSUBSCRIBE:包年包月退订\n- TO_PERIOD:转包周期\n- TO_RENEW:包周期续费\n- ORDER_INFO:订单详情\n- CHANGE_FLAVOR:规格变更\n- CLONE:克隆任务","items":{"type":"string"},"type":"array"},"current_action":{"description":"任务当前操作命令。取值:\n- API_CONFIGURATION_ACTION:OPEN API配置中的任务能调用。\n- CHANGE:修改任务。\n- CHANGE_MODE:修改任务模式。\n- CHOOSE_OBJECT:选择对象。\n- CLONE:克隆任务。\n- CONTINUE_APPLY:启动回放,Oracle同步到GaussDB分布式适用。\n- CONTINUE_CAPTURE:启动抓取,Oracle同步到GaussDB分布式适用。\n- CONTINUE_JOB:启动失败或者停止的任务,Oracle同步到GaussDB分布式适用。\n- CREATE:创建任务。\n- DELETE:删除任务。\n- FREE_RESOURCE:释放资源。\n- JUMP_RETRY:跳跃续传任务。\n- MODIFY_CONFIGURATION:修改任务配置。\n- MODIFY_DB_CONFIG:修改数据库配置。\n- MODIFY_TASK_NUMBER:修改线程数配置。\n- NODE_FLAVOR_MODIFY:规格变更。\n- ORDER_INFO:订单详情。\n- PAUSE:暂停任务。\n- PAY_ORDER:包年/包月支付订单。\n- PRE_CHECK:预检查。\n- QUERY_PRE_CHECK:查询预检查结果。\n- RESET:重置任务。\n- RESET_DB_PWD:重置数据库密码(源库、目标库)。\n- RETRY:重试任务。\n- START:启动任务。\n- START_INCR:启动增量任务。\n- STOP_APPLY:停止回放,Oracle同步到GaussDB分布式适用。\n- STOP_CAPTURE:停止抓取,Oracle同步到GaussDB分布式适用。\n- STOP_JOB:停止任务,Oracle同步到GaussDB分布式适用。\n- SWITCH_OVER:灾备倒换。\n- TO_PERIOD:转包年/包月任务。\n- TO_RENEW:包年/包月任务续费。\n- UNSUBSCRIBE:包年/包月任务退订。","enum":["API_CONFIGURATION_ACTION","CHANGE","CHANGE_MODE","CHOOSE_OBJECT","CLONE","CONTINUE_APPLY","CONTINUE_CAPTURE","CONTINUE_JOB","CREATE","DELETE","FREE_RESOURCE","JUMP_RETRY","MODIFY_CONFIGURATION","MODIFY_DB_CONFIG","MODIFY_TASK_NUMBER","NODE_FLAVOR_MODIFY","ORDER_INFO","PAUSE","PAY_ORDER","PRE_CHECK","QUERY_PRE_CHECK","RESET","RESET_DB_PWD","RETRY","START","START_INCR","STOP_APPLY","STOP_CAPTURE","STOP_JOB","SWITCH_OVER","TO_PERIOD","TO_RENEW","UNSUBSCRIBE"],"type":"string"},"unavailable_actions":{"description":"任务可操作命令集合。\n- CREATE:创建任务\n- CHOOSE_OBJECT:选择对象,任务增量中再编辑\n- PRE_CHECK:预检查\n- CHANGE_MODE:修改任务模式\n- FREE_RESOURCE:释放资源\n- MODIFY_DB_CONFIG:修改数据库配置\n- RESET_DB_PWD:重置数据库密码(源库、目标库)\n- MODIFY_CONFIGURATION:修改任务配置\n- PAUSE:暂停任务\n- START:启动任务\n- CHANGE:修改任务\n- RETRY:重试任务\n- RESET:重置任务\n- DELETE:删除任务\n- QUERY_PRE_CHECK:预检查\n- SWITCH_OVER:容灾倒换\n- START_INCR:CASSANDRA启动增量任务\n- MODIFY_TASK_NUMBER:CASSANDRA修改线程数配置\n- CONTINUE_JOB:oracle-GaussDB分布式:启动失败或者停止的任务\n- STOP_JOB:oracle-GaussDB分布式:停止任务\n- CONTINUE_CAPTURE:启动抓取\n- STOP_CAPTURE:停止抓取\n- CONTINUE_APPLY:启动回放\n- STOP_APPLY:停止回放\n- PAY_ORDER:包年包月支付订单\n- UNSUBSCRIBE:包年包月退订\n- TO_PERIOD:转包周期\n- TO_RENEW:包周期续费\n- ORDER_INFO:订单详情\n- CHANGE_FLAVOR:规格变更\n- CLONE:克隆任务","items":{"type":"string"},"type":"array"}},"required":["available_actions","unavailable_actions","current_action"],"type":"object"},"QueryActionsResp":{"description":"获取指定任务允许操作信息响应体。","properties":{"job_action":{"$ref":"#/definitions/JobActions","description":"任务操作信息响应体."}},"type":"object"}},"description":null,"group_id":"506538835790436b8e209e5a6684d485","host":"drs.cn-north-4.myhuaweicloud.com","id":"cc23054752dd4ad7af861aa20ce989e3","info_version":"v5","method":"get","name":"ShowActions","parameters":{},"paths":{"/v5/{project_id}/jobs/{job_id}/actions":{"get":{"consumes":["application/json"],"description":"获取指定任务允许、不允许、当前操作信息。","operationId":"ShowActions","parameters":[{"description":"租户在某一Region下的Project ID。\n获取方法请参见[获取项目ID。](https://support.huaweicloud.com/api-drs/drs_api_0106.html)","in":"path","name":"project_id","required":true,"type":"string"},{"default":"application/json","description":"发送的实体的MIME类型。推荐用户默认使用application/json,如果API是对象、镜像上传等接口,媒体类型可按照流类型的不同进行确定。","in":"header","name":"Content-Type","required":true,"type":"string"},{"description":"从IAM服务获取的用户Token。\n\n用户Token也就是调用获取用户Token接口的响应值,该接口是唯一不需要认证的接口。\n\n请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"default":"en-us","description":"请求语言类型。","enum":["en-us","zh-cn"],"in":"header","name":"X-Language","required":false,"type":"string"},{"description":"任务ID。","in":"path","name":"job_id","required":true,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"OK","examples":{"application/json":{"job_action":{"available_actions":["CREATE","CHOOSE_OBJECT","PRE_CHECK"],"current_action":"SWITCH_OVER","unavailable_actions":["START","QUICK_START","CHANGE","RETRY"]}}},"schema":{"$ref":"#/definitions/QueryActionsResp"}},"400":{"description":"Bad Request","examples":{"application/json":{"error_code":"DRS.10000001","error_msg":"Failed."}},"schema":{"$ref":"#/definitions/ErrorResp"}}},"summary":"获取指定任务操作信息","tags":["实例操作"],"x-is-registered":"Y","x-order":3,"x-request-examples-description-1":"获取任务操作信息请求示例。","x-request-examples-url-1":"https://{endpoint}/v5/5237e10fe9aa4ad5b16b6a5245248314/jobs/163b98e8-6088-46c3-8b86-c18fea6jb502/actions","x-support-sdk":"Y"}}},"product_short":"DRS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"获取指定任务操作信息","tags":"实例操作","uri":null,"version":"2.0"}