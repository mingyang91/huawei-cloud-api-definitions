{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"AlarmNotifyConfig":{"description":"异常通知信息设置信息体。配置该参数时,代表当任务状态异常时,系统将发送通知给指定的SMN Topic。","properties":{"alarm_to_user":{"default":false,"description":"异常告警是否通知用户。","type":"boolean"},"delay_time":{"default":0,"description":"时延阈值(单位为s)。取值:\n- 最小值:1\n- 最大值:3600\n- 缺省值:0\n- 说明:\n1.源数据库和目标数据库之间的同步有时会存在一个时间差,称为时延,单位为秒。\n2.时延阈值设置是指时延超过一定的值并持续6分钟后,DRS可以发送通知给指定收件人。(初次进入增量迁移阶段,会有较多数据等待同步,存在较大的时延,属于正常情况,不在此功能的监控范围之内。)\n3.只有全量+增量的任务支持此选项。","format":"int64","maximum":3600,"minimum":1,"type":"integer"},"rpo_delay":{"default":0,"description":"RPO时延阈值(单位为s)。取值:\n- 最小值:1\n- 最大值:3600\n- 缺省值:0\n- 说明:\nRPO时延阈值设置是业务数据库与DRS实例间同步的时延超过一定的值并持续6分钟后,DRS可以发送通知给指定收件人。(初次进入增量灾备阶段,会有较多数据等待同步,存在较大的时延,属于正常情况,不在此功能的监控范围之内。)","format":"int64","maximum":3600,"minimum":1,"type":"integer"},"rto_delay":{"default":0,"description":"RTO时延阈值(s)。取值:\n- 最小值:1\n- 最大值:3600\n- 缺省值:0\n- 说明:\nRTO时延阈值设置是DRS实例与灾备数据库间同步的时延超过一定的值并持续6分钟后,DRS可以发送通知给指定收件人。","format":"int64","maximum":3600,"minimum":1,"type":"integer"},"topic_urn":{"description":"SMN主题URN。","example":"urn:smn:cn-east-3:05f03202268025e12f4bc00a36a6c166:test","type":"string"}},"required":["alarm_to_user"],"type":"object"},"AsyncUpdateJobResp":{"description":"更新异步任务响应体。","properties":{"error_code":{"description":"错误码。","type":"string"},"error_msg":{"description":"错误描述。","type":"string"},"id":{"description":"任务ID。","type":"string"},"name":{"description":"任务名称。","type":"string"},"status":{"description":"操作结果。","type":"string"}},"required":["id","name","status"],"type":"object"},"BaseEndpoint":{"description":"数据库基本信息体。","properties":{"db_name":{"description":"指定数据库名称。例如:\n- oracle:serviceName.orcl。","type":"string"},"db_password":{"description":"数据库密码。","example":"******","type":"string"},"db_port":{"description":"数据库端口。\n\n约束:输入范围为1-65535之间的整数。","example":"3306","type":"string"},"db_user":{"description":"数据库用户名。","example":"root","type":"string"},"endpoint_name":{"description":"数据库场景类型。取值:\n- oracle:云下自建Oracle数据库。\n- ecs_oracle:华为云ECS自建Oracle数据库。\n- cloud_gaussdbv5:华为云数据库GaussDB分布式。\n- mysql:他云/本地自建MySQL数据库。\n- ecs_mysql:华为云ECS自建MySQL数据库。\n- cloud_mysql:华为云数据库RDS for MySQL。","enum":["oracle","ecs_oracle","cloud_gaussdbv5","mysql","ecs_mysql","cloud_mysql"],"type":"string"},"id":{"description":"数据库信息ID。","type":"string"},"instance_id":{"description":"华为云数据库实例ID。","type":"string"},"instance_name":{"description":"华为云数据库实例名称。","type":"string"},"ip":{"description":"数据库IP。\n约束:\n- 数据库为自建MongoDB时,数据库IP与端口之间用“:”英文冒号拼接,多个值之间请用“,”英文逗号隔开,最多支持填写3个IP地址或域名。\n- 数据库为DDS实例时,数据库IP与端口之间用“:”英文冒号拼接,多个IP端口之间请用“,”英文逗号分隔。\n示例:\n- MySQL:192.168.0.10\n- MongoDB:192.168.0.10:8080,192.168.0.11:8080,192.168.0.12:8080\n- DDS:192.168.205.130:8635,192.168.250.64:8635","example":"MySQL:192.168.0.10;MongoDB:192.168.0.10:8080,192.168.0.11:8080,192.168.0.12:8080;DDS:192.168.205.130:8635,192.168.250.64:8635;","type":"string"},"source_sharding":{"description":"物理源库信息。","items":{"$ref":"#/definitions/BaseEndpoint"},"type":"array"}},"required":["endpoint_name","db_user","db_password"],"type":"object"},"BaseEndpointConfig":{"description":"数据库基本设置信息体,当源库或者目标库在特定场景下需要额外设置时填写。例如:\n- 实时迁移入云场景:云数据库(RDS for MySQL)、云数据库 GaussDB(for MySQL) 主备版作为目标库(target_endpoint)时,需要设置“只读”或者“读写”(is_target_readonly)。\n- 实时迁移入云场景:分布式数据库中间件DDM作为目标库,源库为MySQL分库分表时,需要设置“端数据库实例个数”。\n- 实时迁移入云场景:MongoDB作为源库时,需要设置“源数据库实例类型”为非集群、集群或者集群(MongoDB 4.0+),并且实例类型为“集群”时,还需要设置“源端分片个数”(source_shard_num)。\n- 实时灾备场景:单主灾备且本云为备时,云数据库(RDS for MySQL)、云数据库 GaussDB(for MySQL) 主备版、分布式数据库中间件DDM、文档数据库服务DDS等作为目标库(target_endpoint)时,需要设置“只读”或者“读写”(is_target_readonly)。\n- 实时灾备场景:云数据库GaussDB(for Cassandra) 灾备时,需要设置“是否迁移TTL”,如果参数为true时,还需要设置TTL列名。","properties":{"is_target_readonly":{"default":true,"description":"目标实例是否设置为为只读。\n- MySQL迁移和灾备,且job_direction为up时设置有效。(灾备场景下,单主灾备且本云为备为必填且为true,不填默认设置为true)。","type":"boolean"}},"type":"object"},"BatchAsyncUpdateJobReq":{"description":"批量更新指定ID异步任务请求体。","properties":{"jobs":{"description":"批量更新指定ID异步任务请求体。","items":{"$ref":"#/definitions/UpdateJobReq"},"type":"array"}},"required":["jobs"],"type":"object"},"BatchAsyncUpdateJobResp":{"description":"批量更新指定ID异步任务响应体。","properties":{"jobs":{"description":"批量更新指定ID异步任务响应体。","items":{"$ref":"#/definitions/AsyncUpdateJobResp"},"type":"array"}},"required":["jobs"],"type":"object"},"CloudBaseInfo":{"description":"数据库实例所在Region,项目等信息,当数据库实例类型为ecs(华为云ECS自建数据库),cloud(华为云数据库)时为必填项。","properties":{"az_code":{"description":"数据库所在可用分区(AZ)名称。","example":"cn-north-4a:华北-北京四-可用区1","type":"string"},"project_id":{"description":"租户在某一Region下的Project ID。 获取方法请参见获取项目ID。","example":"054ba152d480d55b2f5dc0069e7ddef0","type":"string"},"region":{"description":"区域ID,当数据库实例类型为ecs(华为云ECS自建数据库),cloud(华为云数据库)时为必填项。获取方法请参见地区和终端节点。\n注意:当该Region下存在子项目时,Region ID为区域项目ID与子项目ID,由“_”下划线拼接,例如:cn-north-4_abc。","example":"cn-north-4:华北-北京四,cn-east-3:华东-上海一,cn-south-1:华南-广州","type":"string"}},"required":["region","project_id"]},"CloudVpcInfo":{"description":"数据库实例所在VPC,子网,安全组等信息,当数据库实例类型为ecs(华为云ECS自建数据库),cloud(华为云数据库)时为必填项。","properties":{"security_group_id":{"description":"数据库实例所在的安全组ID,获取方法如下:\n方法1:登录虚拟私有云服务的控制台界面,在安全组的详情页面查找安全组ID。\n方法2:通过虚拟私有云服务的API接口查询,具体操作可参考查询安全组列表。","example":"2a1f7fc8-3307-42a7-aa6f-42c8b9b8f8c5","type":"string"},"subnet_id":{"description":"数据库实例所在子网ID,获取方法如下:\n方法1:登录虚拟私有云服务的控制台界面,单击VPC下的子网,进入子网详情页面,查找网络ID。\n方法2:通过虚拟私有云服务的API接口查询,具体操作可参考查询子网列表。","example":"54886391-4bf0-443a-8145-e2bfacfdf5ca","type":"string"},"vpc_id":{"description":"数据库实例所在的虚拟私有云ID,获取方法如下:\n方法1:登录虚拟私有云服务的控制台界面,在虚拟私有云的详情页面查找VPC ID。\n方法2:通过虚拟私有云服务的API接口查询,具体操作可参考查询VPC列表。","example":"ab155e40-35f2-4463-b22b-c67a56e2fbb9","type":"string"}},"required":["vpc_id","subnet_id"]},"ColumnObject":{"description":"数据库列信息。","properties":{"additional":{"description":"该列是否为附加列,当该列为附加列时:name必须与表级对象中列名一致,并且不能与列过滤filtered同时使用。","type":"boolean"},"filtered":{"description":"该列是否进列过滤,不能与附加列additional同时使用。取值:\n- true:表示同步该列。\n- false:表示过滤该列不同步。","type":"boolean"},"index_for_data_filtering":{"description":"优化查询所需的索引,将会为缓存数据增加索引,不会影响源表,当该列作为数据过滤高级设置的关联索引时,需要填写,否则不填。","type":"string"},"name":{"description":"该列在目标库的名称(列名映射),当该列为“附加列”时须与数据库表级对象中列名保持一致。","type":"string"},"operation_type":{"description":"操作类型,以特定的操作类型填充新加的列。取值:\n- 以默认值方式:\"operation_type\":\"ADDITIONALCOLUMN,default_value\"\n- 以create_time为列:\"operation_type\":\"ADDITIONALCOLUMN,create_time\"\n- 以update_time为列:\"operation_type\":\"ADDITIONALCOLUMN,update_time\"\n- 以表达式为列:\"operation_type\":\"ADDITIONALCOLUMN,expression\"\n- 以serverName@database@table为列:\"operation_type\":\"ADDITIONALCOLUMN,server_database_table\"","type":"string"},"primary_key_for_column_filtering":{"description":"该列是否在列映射场景下为主键,如果是主建则填PRI,否则填空。","type":"string"},"primary_key_for_data_filtering":{"description":"该列是否在数据过滤高级设置场景下为主键,如果是主建则填该列列名,否则不填。","type":"string"},"sync_type":{"description":"该列在实时同步场景下的类型。取值:\n- config:当该列作为数据过滤高级设置的关联列时,需要填写,同时如果该列是主建或优化查询所需的索引,则需要填写primary_key_for_data_filtering或index_for_data_filtering。(注意:是否同步该列到目标库由“filtered”属性控制,与库级、模式级、表级控制方式不同。)","type":"string"},"type":{"description":"该列字段的数据类型。\n列过滤:填写源列字段的数据类型。\n附加列:新填充的列指定字段的数据类型,根据不同操作类型来决定取值范围与约束。取值:\n- 以默认值方式,支持:int,long,varchar(256),datetime,timestamp。\n- 以create_time为列,支持:long,datetime,timestamp。\n- 以update_time为列,支持:long,datetime,timestamp。\n- 以表达式为列,支持:varchar(256),且列值仅为:concat(__current_database, '@',\n__current_table)\n- 以serverName@database@table为列,支持:varchar(256)。","type":"string"},"value":{"description":"附加列的值。约束:\n- 当操作类型仅“以默认值方式”,“以serverName@database@table为列”时,才支持输入对应字段类型的值。\n- 当操作类型为“以表达式为列”时,该字段为固定值\"concat(__current_database, '@',\n__current_table)\",不需要填写。","type":"string"}},"type":"object"},"DatabaseObject":{"description":"数据库库级对象。","properties":{"all":{"description":"是否整库迁移或同步。注意:\n1.当该库下的模式、表、列需要做数据过滤、列过滤、列映射时,填false,否则填true;\n2.当该库下的表需要做附加列时,需要填true,并且在表级对象的columns里填写附加列信息;\n3.当该库下的表所包含的列作为数据过滤高级设置的关联列时,需要填true,并且在columns里填写关联列信息,在config_conditions填写数据过滤高级设置的配置条件;","type":"boolean"},"is_synchronized":{"description":"是否已同步","type":"boolean"},"name":{"description":"该数据库在目标库的名称(库名映射)。","type":"string"},"schemas":{"additionalProperties":{"$ref":"#/definitions/SchemaObject"},"description":"需要迁移或同步的模式,当整库迁移或同步为false时需要填写。","type":"object"},"sync_type":{"description":"该数据库在实时同步场景下的类型。取值:\n- config:仅当该库作为数据过滤高级设置的关联库时,需要填写,此时该库以及该库下的schemas、tables“不会”被同步到目标库,name、all属性不生效,schemas、tables需要填写被关联的相关对象。(注意:如果需要同步该库级对象,则在下级对象中填写sync_type值为config。)","enum":["config"],"type":"string"},"tables":{"additionalProperties":{"$ref":"#/definitions/TableObject"},"description":"需要迁移或同步的表,当整库迁移或同步为false时需要填写。","type":"object"},"total_table_num":{"description":"库下的表的数量,表的数量超过阈值就不显示。","format":"int32","type":"integer"}},"type":"object"},"DbObject":{"description":"数据库对象信息体。实时迁移、实时同步需要迁移或同步的库或者表,支持实时同步场景对数据库对象进行加工,即可以为数据库对象添加过滤规则、高级设置、列加工、附加列等。\n数据加工相关具体约束参考:https://support.huaweicloud.com/realtimesyn-drs/drs_03_0035.html","properties":{"object_info":{"additionalProperties":{"$ref":"#/definitions/DatabaseObject"},"description":"数据库对象迁移或同步信息,object_scope为all时不填,为库级或表级时必填。","type":"object"},"object_scope":{"description":"数据库对象迁移或同步范围。取值:\n- all:全部迁移。\n- database:库级迁移或同步。\n- table:表级迁移或同步。","enum":["all","database","table"],"type":"string"},"target_root_db":{"$ref":"#/definitions/TargetRootDb","description":"数据库对象迁移或同步目标库,两层到三层数据库同步需要填写。"}},"required":["object_scope"],"type":"object"},"DbParam":{"description":"数据库参数名、目标数据库参数值。","properties":{"key":{"description":"数据库参数名。","example":"binlog_stmt_cache_size","type":"string"},"target_value":{"description":"目标数据库参数值。","example":"32678","type":"string"}},"required":["key","target_value"]},"DbParamInfo":{"description":"数据库参数信息体。MySQL迁移和MySQL灾备需要修改的数据库参数,部分参数的修改需重启目标库后生效,建议在迁移开始前或迁移结束后重启目标库,具体参数值与有效范围请通过“批量获取数据库参数”接口查询。约束:\n- 实时灾备场景:双主灾备时父任务不支持。\n当前支持的参数:\n常规参数:\n- character_set_server:服务器字符集。\n- collation_server:服务器默认排序。\n- connect_timeout:mysqld服务器在回Bad handshake响应之前等待连接数据包的时间(秒)。\n- explicit_defaults_for_timestamp:处理TIMESTAMP字段的默认值、NULL值时是否开启非标准行为。默认该参数是关闭的,即开启非标准行为。\n- innodb_flush_log_at_trx_commit:当重新安排并批量处理与提交相关的I/O操作时,可以控制提交操作在严格遵守ACID合规性和高性能之间的平衡。当值设为0时,每秒把事务日志缓存区的数据写入日志文件并刷新到磁盘;当设为默认值1时,是为了保证完整的ACID,每次提交事务时,把事务日志从缓存区写到日志文件中,并刷新日志文件的数据到磁盘上;如果设为2,每次提交事务都会把事务日志从缓存区写入日志文件,大约每隔一秒会刷新到磁盘。\n- innodb_lock_wait_timeout:放弃事务前,InnoDB事务等待行锁的时间。\n- max_connections:允许同时连接的客户端总数。如果设定值为default,表示该参数随内存规格变化。\n- net_read_timeout:中止读数据之前从一个连接等待更多数据的秒数。\n- net_write_timeout:中止写之前等待一个块被写入连接的秒数。\n性能参数:\n- binlog_cache_size:在事务中,为二进制日志存储SQL语句的缓存容量。该参数必须设置为4096的倍数。目标库允许值:4096~16777216。\n- binlog_stmt_cache_size:此变量决定在事务中,二进制日志存储下发的非事务语句的缓存空间。该参数必须设置为4096的倍数。目标库允许值:4096~16777216。\n- bulk_insert_buffer_size:限制MyISAM缓存树每个线程的大小,单位为字节。目标库允许值:0~18446744073709551615。\n- innodb_buffer_pool_size:对于缓存数据及其表格索引,innodb使用的内存缓存字节大小。如果设定值为default,表示该参数随内存规格变化(建议不高于目标库实例总内存的70%)。该参数必须设置为134217728的倍数。目标库允许值:536870912~1717986918。\n- long_query_time:当SQL语句执行时间超过此数值时,就会被记录到慢日志中,单位为秒。目标库允许值:0.03~3600。\n- read_buffer_size:对每个进行顺序扫描的线程将分配一个缓冲区。如果要进行大量顺序扫描,可增大参数值以提升性能。目标库允许值:8192~2147479552。\n- read_rnd_buffer_size:在key-sort操作后按排序读取行时,避免读取磁盘。增大该参数值可提升ORDER BY操作的性能。该参数必须设置为4096的倍数。目标库允许值:1~2147483647。\n- sort_buffer_size:增大该参数值可提升ORDER BY或GROUP BY操作的性能。目标库允许值:32768~18446744073709551615。\n- sync_binlog:同步binlog(MySQL持久化到硬盘,或依赖于操作系统)。目标库允许值:0~4294967295。\n示例:\n{\n    'common' : [\n        {\\'key\\':\\'character_set_server\\',\\'target_value\\':\\'utf8mb4\\'}\n    ],\n    'performance' : [\n        {\\'key\\':\\'long_query_time\\',\\'target_value\\':\\'1\\'}\n    ]\n}","properties":{"common":{"description":"常规参数。只有对比结果为不一致的目标库参数能被修改。","items":{"$ref":"#/definitions/DbParam"},"type":"array"},"performance":{"description":"性能参数。对比结果一致也可以修改目标库的值。","items":{"$ref":"#/definitions/DbParam"},"type":"array"}},"type":"object"},"EndpointSslConfig":{"description":"数据库SSL证书信息体。如果数据库启用了SSL安全连接,请确保相关配置正确,并输入SSL证书相关参数,否则无需填写此参数。","properties":{"ssl_cert_check_sum":{"description":"SSL证书内容checksum值,后端校验,源库安全连接必选。","type":"string"},"ssl_cert_key":{"description":"SSL证书内容,用base64加密。","type":"string"},"ssl_cert_name":{"description":"SSL证书名字。","type":"string"},"ssl_cert_password":{"description":"SSL证书密码,证书文件后缀为.p12时必填。","type":"string"},"ssl_link":{"description":"是否SSL安全连接。如果数据库启用了SSL安全连接,参数值为true。","type":"boolean"}},"type":"object"},"ErrorResp":{"description":"请求失败时返回的错误对象响应体。","properties":{"error_code":{"description":"错误码。","example":"DRS.00000000","maxLength":12,"minLength":12,"type":"string"},"error_msg":{"description":"错误描述。","example":"Success","maxLength":512,"minLength":1,"type":"string"}},"required":["error_code","error_msg"],"type":"object"},"JobBaseInfo":{"description":"创建任务基本信息体。","properties":{"charging_mode":{"description":"计费模式,默认按需。取值:\n- period:包周期。\n- on_demand:按需。","enum":["period","on_demand"],"type":"string"},"description":{"description":"任务描述。\n约束:任务描述不能超过256位,且不能包含!<>&'\"\\特殊字符。","maxLength":256,"minLength":0,"type":"string"},"engine_type":{"description":"引擎类型。取值:\n- oracle-to-gaussdbv5:Oracle同步到GaussDB分布式版,实时同步场景使用。","enum":["oracle-to-gaussdbv5"],"type":"string"},"enterprise_project_id":{"default":"0","description":"企业项目ID。\n缺省值:\"0\",表示\"default\"企业项目。","type":"string"},"expired_days":{"default":"14","description":"任务处于异常状态一段时间后,将会自动结束。单位为天。(范围14-100),不传默认为14天。","example":"14","type":"string"},"job_direction":{"description":"迁移方向。取值:\n- up:入云 ,灾备场景时对应本云为备。\n- down:出云,灾备场景时对应本云为主。\n- non-dbs:自建。","enum":["up","down","non-dbs"],"type":"string"},"job_type":{"description":"任务场景。取值:\n- migration:实时迁移。\n- sync:实时同步。\n- cloudDataGuard:实时灾备。","enum":["migration","sync","cloudDataGuard"],"type":"string"},"multi_write":{"description":"灾备类型是否双主灾备。说明:\n- job_type 是cloudDataGuard时,必填,灾备类型是双主灾备时,multi_write取值true, 否则为false。\n- job_type 是其他类型时,multi_write是非必选参数。","example":"","type":"boolean"},"name":{"description":"任务名称。\n约束:任务名称在4位到50位之间,不区分大小写,可以包含字母、数字、中划线或下划线,不能包括其他特殊字符。\n- 最小长度:4\n- 最大长度:50","example":"DRS-0001","maxLength":50,"minLength":4,"type":"string"},"net_type":{"description":"网络类型。取值:\n- eip:公网网络。\n- vpc:VPC网络,灾备场景不支持选择VPC网络。\n- vpn:VPN、专线网络。","enum":["eip","vpc","vpn"],"example":"","type":"string"},"start_time":{"description":"任务定时启动时间。","type":"string"},"tags":{"description":"标签信息,最多添加10个标签。","example":[{"key":"1","value":"a"},{"key":"2","value":"b"}],"items":{"$ref":"#/definitions/ResourceTag"},"type":"array"},"task_type":{"description":"迁移模式。取值:\n- FULL_TRANS :全量。\n- FULL_INCR_TRANS:全量+增量。\n- INCR_TRANS:增量。","enum":["FULL_TRANS","FULL_INCR_TRANS","INCR_TRANS"],"type":"string"}},"type":"object"},"JobEndpointInfo":{"description":"创建任务数据库信息体。","properties":{"cloud":{"$ref":"#/definitions/CloudBaseInfo","description":"数据库实例所在Region,项目等信息。"},"config":{"$ref":"#/definitions/BaseEndpointConfig","description":"数据库基本设置信息体。"},"db_type":{"description":"数据库类型。取值: \n- oracle:Oracle。\n- gaussdbv5:GaussDB分布式版。","enum":["oracle","gaussdbv5"],"example":"oracle","type":"string"},"endpoint":{"$ref":"#/definitions/BaseEndpoint","description":"数据库基本信息体。"},"endpoint_role":{"description":"数据库实例角色。取值:\n- so:源库。\n- ta:目标库。","enum":["so","ta"],"type":"string"},"endpoint_type":{"description":"数据库实例类型。取值: \n- offline:自建数据库。\n- ecs:华为云ECS自建数据库。\n- cloud:华为云数据库。","enum":["offline","ecs","cloud"],"type":"string"},"ssl":{"$ref":"#/definitions/EndpointSslConfig","description":"数据库SSL证书信息体。"},"vpc":{"$ref":"#/definitions/CloudVpcInfo","description":"数据库实例所在VPC,子网,安全组等信息。"}},"required":["db_type","endpoint_type","endpoint_role","endpoint"],"type":"object"},"JobNodeBaseInfo":{"description":"任务实例基本信息体。","properties":{"arch":{"description":"CPU架构。取值:\n- x86\n- arm","enum":["x86","arm"],"type":"string"},"availability_zone":{"description":"可用区ID。\n约束:对于任务实例类型不是单机的实例,需要分别为实例所有节点指定可用区,并用“,”英文逗号隔开。示例:\n- 实例类型为single:\"cn-north-4a\"\n- 实例类型为ha:\"cn-north-4a,cn-north-4b\"","type":"string"},"instance_type":{"description":"实例类型。取值:\n- single:单机。\n- ha:主备。","enum":["single","ha"],"type":"string"},"role":{"description":"任务主备角色。","type":"string"},"status":{"description":"状态。","type":"string"}},"required":["instance_type","arch","availability_zone"],"type":"object"},"JobNodeInfo":{"description":"任务实例信息体。","properties":{"base_info":{"$ref":"#/definitions/JobNodeBaseInfo","description":"任务实例基本信息。"},"spec":{"$ref":"#/definitions/JobNodeSpecInfo","description":"任务实例规格信息体。"},"vpc":{"$ref":"#/definitions/JobNodeVpcInfo","description":"任务实例VPC信息体,自建任务必填。"}},"required":["spec"],"type":"object"},"JobNodeSpecInfo":{"description":"任务实例规格信息体。","properties":{"node_type":{"description":"实例规格编码。取值:\n- micro:极小规格。\n- small:小规格。\n- medium:中规格。\n- high:大规格。","enum":["micro","small","medium","high"],"type":"string"}},"required":["node_type"],"type":"object"},"JobNodeVpcInfo":{"description":"任务实例VPC信息体。","properties":{"custom_node_ip":{"description":"指定创建任务实例IP地址,多个IP端口之间请用“,”英文逗号分隔,目前仅支持设置IPv4地址,获取方法如下:\n- 方法1:登录虚拟私有云服务的控制台界面,单击VPC下的子网,进入子网详情页面,查找子网的网段,选择未被占用的IP 。\n- 方法2:通过虚拟私有云服务的API接口查询,具体操作可参考查询私有IP列表,选择“device_owner”为空的私有IP。\n示例:\n\"192.168.0.10,192.168.0.11\"","example":"\"192.168.0.10,192.168.0.11\"","type":"string"},"security_group_id":{"description":"任务实例所在的安全组ID。","example":"2a1f7fc8-3307-42a7-aa6f-42c8b9b8f8c5","type":"string"},"subnet_id":{"description":"任务实例所在子网ID。","example":"54886391-4bf0-443a-8145-e2bfacfdf5ca","type":"string"},"vpc_id":{"description":"任务实例所在虚拟私有云ID。","example":"ab155e40-35f2-4463-b22b-c67a56e2fbb9","type":"string"}},"required":["vpc_id","subnet_id"],"type":"object"},"ModifyTuningParams":{"description":"修改高级设置信息体。","properties":{"full_sync":{"additionalProperties":{"type":"string"},"description":"全量参数的参数名及对应的取值。","type":"object"},"incre_apply":{"additionalProperties":{"type":"string"},"description":"增量回放参数的参数名及对应的取值。","type":"object"},"incre_capture":{"additionalProperties":{"type":"string"},"description":"增量抓取参数的参数名及对应的取值。","type":"object"},"incre_relay":{"additionalProperties":{"type":"string"},"description":"增量日志拉取参数的参数名及对应的取值。","type":"object"},"recovery":{"description":"是否一键还原到默认值。","type":"boolean"}},"required":["incre_capture","incre_apply"],"type":"object"},"PeriodOrderInfo":{"description":"包年/包月信息体。","properties":{"is_auto_renew":{"default":0,"description":"是否自动续订。取值:\n- 0:否(默认值,需要客户手动去支付)。\n- 1:是(自动支付)。","enum":[0,1],"format":"int32","type":"integer"},"period_num":{"description":"订购周期数。根据period_type取值不同,代表不同周期数,例如:\n- 当period_type为2时,period_num为1代表1月。\n- 当period_type为3时,period_num为1代表1年。","format":"int32","type":"integer"},"period_type":{"default":3,"description":"订购周期类型。取值:\n- 2:月。\n- 3:年。","enum":[2,3],"format":"int32","type":"integer"}},"required":["period_type","period_num"],"type":"object"},"PolicyConfig":{"description":"策略信息体。设置迁移、同步策略,包括冲突策略、过滤DROP Datase、对象同步范围等。","properties":{"conflict_policy":{"description":"增量阶段冲突策略。该冲突策略特指增量同步中的冲突处理策略,全量阶段的冲突默认忽略。取值:\n- ignore:忽略。当同步数据与目标库已有数据冲突时(主键/唯一键重复等),DRS将忽略源库的冲突数据,并保留目标库中的冲突数据,继续进行后续同步。\t\n- stop:报错。当同步数据与目标库已有数据冲突时(主键/唯一键重复等),同步任务将失败并立即中止。可在同步日志中查看详细信息。\t\n- overwrite:覆盖。当同步数据与目标库已有数据冲突时(主键/唯一键重复等),将覆盖原来的冲突数据。\n\n场景区别:\n- 实时迁移场景:不支持。\n- 实时同步场景:支持。","enum":["ignore","stop","overwrite"],"type":"string"},"data_sync_topology_type":{"default":"one2one","description":"数据同步拓扑。数据同步功能支持多种同步拓扑,您可以根据业务需求规划您的同步实例。参考链接。取值:\n- one2one:一对一。\n- one2many:一对多。\n- many2one:多对一。","enum":["one2one","one2many","many2one"],"type":"string"},"ddl_trans":{"default":true,"description":"对象同步范围:同步增量阶段是否同步DDL。取值:\n- true:增量阶段同步DDL。\n- false:增量阶段不同步DDL。","type":"boolean"},"dml_types":{"description":"DML同步类型。","type":"string"},"filter_ddl_policy":{"description":"过滤DDL策略。取值:\n- drop_database\n\n场景区别:\n- 实时迁移场景:MySQL迁移可填\"\",表示不过滤DROP DATABASE。\n- 实时同步场景:MySQL同步只能填\"drop_database\"。","enum":["drop_database"],"type":"string"},"increment_read_mode":{"description":"oracle-gausssdb增量读取方式:logminer,xstream","type":"string"},"index_trans":{"default":true,"description":"对象同步范围:是否同步普通索引。DRS将默认同步主键/唯一索引,普通索引是指除主键/唯一索引以外的其他类型索引。取值:\n- true:将会同步全部的索引。\n- false:仅同步主键/唯一索引,普通索引不会同步。","type":"boolean"},"support_ddl_info":{"description":"增量支持的DDL。取值:\n- \"CREATE_TABLE,ADD_COLUMN,MODIFY_COLUMN,CHANGE_COLUMN,DROP_INDEX,ADD_INDEX,CREATE_INDEX,RENAME_INDEX\"。\n- 含义解释:\n- CREATE_TABLE:创建表。\n- ADD_COLUMN:加列。\n- MODIFY_COLUMN:改列属性。\n- CHANGE_COLUMN:改列属性。\n- DROP_INDEX:删除索引。\n- ADD_INDEX:加索引。\n- CREATE_INDEX:创建索引。\n- RENAME_INDEX:重命名索引。\n- 使用提示:\n1.一对一,一对多场景,如果业务上认为源和目标应该使用保持严格一致,那么高危类DDL也应该勾选并同步。\n2.一对一,一对多场景,如果业务上确定某个高危DDL不应该发生,则可以不勾选同步高危类DDL,这样DRS将拦截过滤这个DDL,从而起到保护目标数据的作用,但需要知晓过滤DDL的附带问题是可能导致同步失败,例如过滤删列动作。\n3.多对一数据聚合场景,最佳实践是推荐只选择同步加列DDL,其他大部分DDL同步都因目标表修改而导致其他任务失败/数据不一致的情况发生,常见情况有:a、同步truncate导致目标数据全部被清空; b、同步创建索引导致目标表被锁定; c、同步rename导致其他任务找不到目标表而失败;d、同步改列导致其他任务因数据类型不兼容而失败;","enum":["CREATE_TABLE","ADD_COLUMN","MODIFY_COLUMN","CHANGE_COLUMN","DROP_INDEX","ADD_INDEX","CREATE_INDEX","RENAME_INDEX"],"type":"string"},"sync_type_policy":{"description":"同步数据类型。取值:supportAllType(同步所有类型),tableData(同步数据),tableStructure(同步表结构),constraintData(索引同步)。\n说明:除supportAllType以外,其他类型可组合填写,例如:\"tableData,tableStructure\" 。","type":"string"}},"type":"object"},"ResourceTag":{"description":"标签信息体。","properties":{"key":{"description":"标签键。\n约束:最大长度36,只能包含字母、数字、下划线、中划线和中文。","maxLength":36,"minLength":1,"type":"string"},"value":{"description":"标签值。\n约束:最大长度43,只能包含字母、数字、下划线、中划线和中文。","maxLength":43,"minLength":1,"type":"string"}},"type":"object"},"SchemaObject":{"description":"数据库模式对象。","properties":{"all":{"description":"是否整模式迁移或同步。注意:\n1.当该模式下的表、列需要做数据过滤、列过滤、列映射时,填false,否则填true;\n2.当该模式下的表需要做附加列时,需要填true,并且在表级对象的columns里填写附加列信息;\n3.当该模式下的表所包含的列作为数据过滤高级设置的关联列时,需要填true,并且在columns里填写关联列信息、config_conditions填写数据过滤高级设置的配置条件;","type":"boolean"},"name":{"description":"该模式在目标库的名称(模式名映射)。","type":"string"},"sync_type":{"description":"该模式在实时同步场景下的类型。取值:\n- config:仅当该模式作为数据过滤高级设置的关联模式时,需要填写,此时该模式以及该模式下的tables“不会”被同步到目标库,name、all属性不生效,tables需要填写被关联的相关对象。(注意:如果需要同步该模式对象,则在下级对象中填写sync_type值为config。)","type":"string"},"tables":{"additionalProperties":{"$ref":"#/definitions/TableObject"},"description":"需要迁移或同步的表,当整模式迁移或同步为false时需要填写。","type":"object"}},"type":"object"},"SpeedLimitInfo":{"description":"限速信息体。\n- 限速:自定义的最大迁移速度,迁移过程中的迁移速度将不会超过该速度。\n- 不限速:对迁移速度不进行限制,通常会最大化使用源数据库的出口带宽。该流速模式同时会对源数据库造成读消耗,消耗取决于源数据库的出口带宽。比如:源数据库的出口带宽为100MB/s,假设高速模式使用了80%带宽,则迁移对源数据库将造成80MB/s的读操作IO消耗。","properties":{"begin":{"description":"开始限速时间,此时间为UTC时间,开始时间为整时,若有分钟,则会忽略,格式为hh:mm,小时数为两位,例如:01:00。","example":"01:00","type":"string"},"end":{"description":"结束时间,此时间为UTC时间,输入必须为59分结尾,格式为hh:mm,例如:15:59。","example":"15:59","type":"string"},"speed":{"description":"限速值,取值范围为1~9999,单位为MB/s。","example":"50","type":"string"}},"required":["begin","end","speed"],"type":"object"},"TableObject":{"description":"数据库表级对象。","properties":{"all":{"description":"是否整表迁移或同步。注意:\n1.当该表不需要做列过滤、列映射时,填true,如果需要做列过滤、列映射则填false;\n2.当该表需要做附加列时,需要填true,并且在columns里填写附加列信息;\n3.当该表所包含的列作为数据过滤高级设置的关联列时,需要填true,并且在columns里填写关联列信息、config_conditions填写数据过滤高级设置的配置条件;","type":"boolean"},"columns":{"additionalProperties":{"$ref":"#/definitions/ColumnObject"},"description":"需要同步/映射/过滤/新增的列,当需要列过滤、列映射、附加列功能时填写,仅在实时同步任务中生效,当整表同步为false时需要填写。","type":"object"},"config_conditions":{"description":"该表数据过滤高级设置的配置条件,当该表作为联表查询时填写,生成加工规则值为SQL条件语句,长度限制512。","items":{"maxLength":512,"minLength":0,"type":"string"},"type":"array"},"db_alias_name":{"description":"一对多情况下,表级上对库名的映射。","type":"string"},"filter_conditions":{"description":"该表数据的过滤条件,生成加工规则值为SQL条件语句,长度限制512。","items":{"maxLength":512,"minLength":0,"type":"string"},"type":"array"},"filtered":{"description":"该表是否进行数据过滤。","type":"boolean"},"is_synchronized":{"description":"是否已经进行同步。","type":"boolean"},"name":{"description":"该表在目标库的名称(表名映射)。","type":"string"},"schema_alias_name":{"description":"一对多情况下,表级上对schema名的映射。","type":"string"},"sync_type":{"description":"该表在实时同步场景下的类型。取值:\n- config:仅当该表作为数据过滤高级设置的关联表时,需要填写,此时该表以及该表下的columns“不会”被同步到目标库,name、all、filtered、filter_conditions属性不生效,columns需要填写被关联的相关对象,config_conditions需要填写数据过滤高级设置的配置条件。(注意:如果需要同步该表级对象,则在下级对象中填写sync_type值为config。)","type":"string"},"type":{"description":"对象类型。取值:\n- table:表。\n- view:视图。\n- procedure:存储过程。","enum":["table","view","procedure"],"type":"string"}},"type":"object"},"TargetRootDb":{"description":"数据库对象迁移或同步目标库信息,两层到三层数据库时需要指定。","properties":{"db_encoding":{"description":"默认编码格式是utf8。","example":"utf8","type":"string"},"db_name":{"description":"库名。","example":"ttt","type":"string"}},"type":"object"},"UpdateJob":{"description":"更新任务信息体。","properties":{"alarm_notify":{"$ref":"#/definitions/AlarmNotifyConfig","description":"异常通知信息设置信息体。"},"base_info":{"$ref":"#/definitions/JobBaseInfo","description":"任务基本信息体。"},"db_object":{"$ref":"#/definitions/DbObject","description":"数据库对象信息体。实时迁移、实时同步,选择需要迁移的数据库或者表。"},"db_param":{"$ref":"#/definitions/DbParamInfo","description":"数据库参数信息体。"},"job_id":{"description":"待更新的任务ID。","type":"string"},"node_info":{"$ref":"#/definitions/JobNodeInfo","description":"任务实例信息体。"},"period_order":{"$ref":"#/definitions/PeriodOrderInfo","description":"包年/包月信息体。"},"policy_config":{"$ref":"#/definitions/PolicyConfig","description":"策略信息体。设置迁移、同步策略,包括冲突策略、过滤DROP Datase、对象同步范围等。"},"source_endpoint":{"description":"任务源数据库信息体。","items":{"$ref":"#/definitions/JobEndpointInfo"},"type":"array"},"speed_limit":{"description":"限速信息体。\n- 限速:自定义的最大迁移速度,迁移过程中的迁移速度将不会超过该速度。\n- 不限速:对迁移速度不进行限制,通常会最大化使用源数据库的出口带宽。该流速模式同时会对源数据库造成读消耗,消耗取决于源数据库的出口带宽。比如:源数据库的出口带宽为100MB/s,假设高速模式使用了80%带宽,则迁移对源数据库将造成80MB/s的读操作IO消耗。","items":{"$ref":"#/definitions/SpeedLimitInfo"},"type":"array"},"target_endpoint":{"description":"任务目标数据库信息体。","items":{"$ref":"#/definitions/JobEndpointInfo"},"type":"array"},"tuning_params":{"$ref":"#/definitions/ModifyTuningParams","description":"高级设置信息体。"},"user_migration":{"$ref":"#/definitions/UserMigrationInfo","description":"用户迁移信息体。"}},"type":"object"},"UpdateJobReq":{"description":"更新指定ID任务请求体。","properties":{"params":{"$ref":"#/definitions/UpdateJob","description":"更新指定ID任务详情参数。"},"type":{"description":"更新指定ID任务详情类型。\n\n场景一:更新单个任务详情,取值:\n- name:更新该任务名称。\n- description:更新该任务描述。\n- re_create:配置中任务三天以后虚拟机删除后重建。\n- expired_days:更新任务异常自动结束时间,单位为天。\n\n场景二:更新批量异步任务详情,取值:\n- all:批量异步创建的任务,参数校验不通过,需要指定全部参数进行更新时。\n- network:批量异步创建的任务,测试连接不通过,需要更新源库/目标库信息时。\n- policy:批量异步创建的任务,需要更新任务配置时。\n- db_object:批量异步创建的任务,需要更新对象信息时。\n- precheck:批量异步创建的任务,需要重新预检查时。","enum":["name","description","all","network","policy","db_object","precheck","re_create","expired_days"],"example":"","type":"string"}},"required":["type","params"],"type":"object"},"UserMigrationInfo":{"description":"用户迁移信息体。","properties":{"is_migrate_user":{"description":"是否迁移用户。","type":"boolean"},"is_set_password":{"description":"是否统一重置密码。取值:\n- true:重置密码为统一密码。\n- false:不统一重置密码。\n当前支持的场景: \n- 实时迁移场景:MySQL迁移。","type":"boolean"},"password":{"description":"重置后的统一密码。统一重置密码为true时必填。\n约束:密码不能为空。","type":"string"},"role_list":{"items":{"$ref":"#/definitions/UserMigrationRole"},"type":"array"},"user_list":{"items":{"$ref":"#/definitions/UserMigrationList"},"type":"array"}},"required":["is_migrate_user","is_set_password"],"type":"object"},"UserMigrationList":{"description":"用户迁移信息用户列表字段。当前支持的场景: \n- 实时迁移场景:MySQL迁移,MongoDB迁移。","properties":{"account":{"description":"用户。","type":"string"},"id":{"description":"用户ID。","type":"string"},"is_set_password":{"description":"是否重置该用户密码。当前支持的场景:\n- 实时迁移场景:MySQL迁移。","type":"boolean"},"password":{"description":"重置后的密码。统一重置密码或单个用户重置密码为true时必填,约束:密码不能为空。","type":"string"}},"required":["id","account"],"type":"object"},"UserMigrationRole":{"description":"用户迁移信息角色列表字段。当前支持的场景: \n- 实时迁移场景:MongoDB迁移。","properties":{"role":{"description":"角色。","type":"string"}},"required":["role"],"type":"object"}},"description":null,"group_id":"506538835790436b8e209e5a6684d485","host":"drs.cn-north-4.myhuaweicloud.com","id":"d44b6f0c68a6448d8bfe758d24c60f2f","info_version":"v5","method":"put","name":"UpdateBatchAsyncJobs","parameters":{},"paths":{"/v5/{project_id}/batch-async-jobs/{async_job_id}":{"put":{"consumes":["application/json"],"description":"更新租户指定ID批量异步任务详情。","operationId":"UpdateBatchAsyncJobs","parameters":[{"description":"租户在某一Region下的Project ID。\n获取方法请参见[获取项目ID。](https://support.huaweicloud.com/api-drs/drs_api_0106.html)","in":"path","name":"project_id","required":true,"type":"string"},{"description":"批量异步创建的任务ID,由创建批量异步任务接口返回。","in":"path","name":"async_job_id","required":true,"type":"string"},{"default":"application/json","description":"发送的实体的MIME类型。推荐用户默认使用application/json,如果API是对象、镜像上传等接口,媒体类型可按照流类型的不同进行确定。","in":"header","name":"Content-Type","required":true,"type":"string"},{"description":"从IAM服务获取的用户Token。\n\n用户Token也就是调用获取用户Token接口的响应值,该接口是唯一不需要认证的接口。\n\n请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"default":"en-us","description":"请求语言类型。","enum":["en-us","zh-cn"],"in":"header","name":"X-Language","required":false,"type":"string"},{"description":"批量更新指定ID异步任务请求体。","in":"body","name":"requestBody","required":true,"schema":{"$ref":"#/definitions/BatchAsyncUpdateJobReq"}}],"produces":["application/json"],"responses":{"202":{"description":"Accepted","examples":{"application/json":{"jobs":[{"id":"c7debc9c-8e09-4a5d-8dd6-cc44f78jb20r","name":"DRS-1234","status":"Success"},{"error_code":"DRS.10020102","error_msg":"Job does not exist, please check job ID","id":"dc6016cf-f3b6-4c2d-b4d7-5084b0fjb20r","name":"DRS-2345","status":"Failed"}]}},"schema":{"$ref":"#/definitions/BatchAsyncUpdateJobResp"}},"400":{"description":"Bad Request","examples":{"application/json":{"error_code":"DRS.10000001","error_msg":"Failed."}},"schema":{"$ref":"#/definitions/ErrorResp"}}},"summary":"更新指定ID批量异步任务详情","tags":["批量异步实例管理"],"x-is-registered":"Y","x-order":5,"x-request-examples-1":{"jobs":[{"params":{"alarm_notify":{"alarm_to_user":true,"delay_time":60,"topic_urn":"urn:smn:cn-north-4:f2c2468c3ee7410c862a461ca073d2f2:test"},"base_info":{"charging_mode":"on_demand","description":"","engine_type":"oracle-to-gaussdbv5","enterprise_project_id":"0","expired_days":"14","job_direction":"up","job_type":"sync","name":"DRS-1234","net_type":"eip","tags":[{"key":"test","value":"test"}],"task_type":"FULL_INCR_TRANS"},"db_object":{"object_info":{"source_db1":{"all":false,"name":"source_db1","tables":{"source_tb1":{"all":true,"name":"source_tb1","type":"table"},"source_tb2":{"all":true,"name":"source_tb2","type":"table"}}}},"object_scope":"table","target_root_db":{"db_encoding":"utf8","db_name":"target_db_name"}},"job_id":"c7debc9c-8e09-4a5d-8dd6-cc44f78jb20r","node_info":{"spec":{"node_type":"medium"}},"policy_config":{"ddl_trans":false},"source_endpoint":[{"db_type":"oracle","endpoint":{"db_name":"serviceName.orcl","db_password":"******","db_port":"1521","db_user":"ORACLE_USER","endpoint_name":"oracle","ip":"10.154.217.239"},"endpoint_role":"so","endpoint_type":"offline","ssl":{"ssl_link":false}}],"speed_limit":[{"begin":"16:00","end":"15:59","speed":"10"}],"target_endpoint":[{"cloud":{"az_code":"cn-north-4a,cn-north-4g,cn-north-4c","project_id":"9dc8c0f3f74c4dbb23c29cf0318ee561","region":"cn-north-4"},"db_type":"gaussdbv5","endpoint":{"db_password":"******","db_user":"root","endpoint_name":"cloud_gaussdbv5","instance_id":"c2c7579bc09c490b9d8009db715aeb0ain14"},"endpoint_role":"ta","endpoint_type":"cloud","vpc":{"security_group_id":"039a3s89-665a-43e2-9b4f-bda7d9ee148d","subnet_id":"2cb54324-ae63-4fbb-85b7-7d59f4a88f8f","vpc_id":"2cb5d364-ae63-4fbb-85b7-7d59f4a88f8f"}}]},"type":"all"},{"params":{"job_id":"dc6016cf-f3b6-4c2d-b4d7-5084b0fjb20r","source_endpoint":[{"db_type":"oracle","endpoint":{"db_name":"serviceName.orcl","db_password":"******","db_port":"1521","db_user":"ORACLE_USER","endpoint_name":"oracle","ip":"10.154.227.134"},"endpoint_role":"so","endpoint_type":"offline","ssl":{"ssl_link":false}}],"target_endpoint":[{"cloud":{"az_code":"cn-north-4a,cn-north-4g,cn-north-4c","project_id":"9dc8c0f3f74c4dbb23c29cf0318ee561","region":"cn-north-4"},"db_type":"gaussdbv5","endpoint":{"db_password":"******","db_user":"root","endpoint_name":"cloud_gaussdbv5","id":"f59e6118-da89-4fdb-9b98-65f56709928a","instId":"c2c7579bc09c490b9d8009db715aeb0ain14"},"endpoint_role":"ta","endpoint_type":"cloud","ssl":{"ssl_link":false},"vpc":{"security_group_id":"039a3s89-665a-43e2-9b4f-bda7d9ee148d","subnet_id":"2cb54324-ae63-4fbb-85b7-7d59f4a88f8f","vpc_id":"2cb5d364-ae63-4fbb-85b7-7d59f4a88f8f"}}]},"type":"endpoint"}]},"x-request-examples-description-1":"更新租户指定ID批量异步任务详情。","x-request-examples-text-1":{"jobs":[{"params":{"alarm_notify":{"alarm_to_user":true,"delay_time":60,"topic_urn":"urn:smn:cn-north-4:f2c2468c3ee7410c862a461ca073d2f2:test"},"base_info":{"charging_mode":"on_demand","description":"","engine_type":"oracle-to-gaussdbv5","enterprise_project_id":"0","expired_days":"14","job_direction":"up","job_type":"sync","name":"DRS-1234","net_type":"eip","tags":[{"key":"test","value":"test"}],"task_type":"FULL_INCR_TRANS"},"db_object":{"object_info":{"source_db1":{"all":false,"name":"source_db1","tables":{"source_tb1":{"all":true,"name":"source_tb1","type":"table"},"source_tb2":{"all":true,"name":"source_tb2","type":"table"}}}},"object_scope":"table","target_root_db":{"db_encoding":"utf8","db_name":"target_db_name"}},"job_id":"c7debc9c-8e09-4a5d-8dd6-cc44f78jb20r","node_info":{"spec":{"node_type":"medium"}},"policy_config":{"ddl_trans":false},"source_endpoint":[{"db_type":"oracle","endpoint":{"db_name":"serviceName.orcl","db_password":"******","db_port":"1521","db_user":"ORACLE_USER","endpoint_name":"oracle","ip":"10.154.217.239"},"endpoint_role":"so","endpoint_type":"offline","ssl":{"ssl_link":false}}],"speed_limit":[{"begin":"16:00","end":"15:59","speed":"10"}],"target_endpoint":[{"cloud":{"az_code":"cn-north-4a,cn-north-4g,cn-north-4c","project_id":"9dc8c0f3f74c4dbb23c29cf0318ee561","region":"cn-north-4"},"db_type":"gaussdbv5","endpoint":{"db_password":"******","db_user":"root","endpoint_name":"cloud_gaussdbv5","instance_id":"c2c7579bc09c490b9d8009db715aeb0ain14"},"endpoint_role":"ta","endpoint_type":"cloud","vpc":{"security_group_id":"039a3s89-665a-43e2-9b4f-bda7d9ee148d","subnet_id":"2cb54324-ae63-4fbb-85b7-7d59f4a88f8f","vpc_id":"2cb5d364-ae63-4fbb-85b7-7d59f4a88f8f"}}]},"type":"all"},{"params":{"job_id":"dc6016cf-f3b6-4c2d-b4d7-5084b0fjb20r","source_endpoint":[{"db_type":"oracle","endpoint":{"db_name":"serviceName.orcl","db_password":"******","db_port":"1521","db_user":"ORACLE_USER","endpoint_name":"oracle","ip":"10.154.227.134"},"endpoint_role":"so","endpoint_type":"offline","ssl":{"ssl_link":false}}],"target_endpoint":[{"cloud":{"az_code":"cn-north-4a,cn-north-4g,cn-north-4c","project_id":"9dc8c0f3f74c4dbb23c29cf0318ee561","region":"cn-north-4"},"db_type":"gaussdbv5","endpoint":{"db_password":"******","db_user":"root","endpoint_name":"cloud_gaussdbv5","id":"f59e6118-da89-4fdb-9b98-65f56709928a","instId":"c2c7579bc09c490b9d8009db715aeb0ain14"},"endpoint_role":"ta","endpoint_type":"cloud","ssl":{"ssl_link":false},"vpc":{"security_group_id":"039a3s89-665a-43e2-9b4f-bda7d9ee148d","subnet_id":"2cb54324-ae63-4fbb-85b7-7d59f4a88f8f","vpc_id":"2cb5d364-ae63-4fbb-85b7-7d59f4a88f8f"}}]},"type":"endpoint"}]},"x-request-examples-url-1":"https://{endPoint}/v5/054ba152d480d55b2f5dc0069e7ddef0/batch-async-jobs/bd4193aa-072d-4ce6-beec-adffc7252341","x-support-sdk":"Y"}}},"product_short":"DRS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"更新指定ID批量异步任务详情","tags":"批量异步实例管理","uri":null,"version":"2.0"}