{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"BatchQueryJobReq":{"description":"查询任务请求体","properties":{"jobs":{"description":"查询任务请求体","items":{"description":"","type":"string"},"type":"array"}},"required":["jobs"]},"GetDataGuardMonitorAndChartResp":{"description":"查询容灾监控返回体","properties":{"count":{"description":"查询总数","format":"int32","type":"integer"},"results":{"description":"容灾监控数据响应体集合","items":{"$ref":"#/definitions/QueryDataGuardMonitorAndChartResp","description":""},"type":"array"}},"required":["count","results"]},"QueryDataGuardMonitorAndChartResp":{"description":"容灾任务监控数据响应体","properties":{"data_guard_minitor":{"$ref":"#/definitions/QueryDataGuardMonitorResponse","description":"灾备任务监控数据。","example":"{\"src_normal\":true,\"dst_normal\":true,\"sr_offset\":\"mysql-bin.000445:191\",\"node_offset\":\"mysql-bin.000445:191\",\"dst_offset\":\"N/A\",\"sr_delay\":0,\"dst_delay\":81046806,\"src_rps\":\"0\",\"src_io\":\"0.0\",\"bandwidth\":\"37\",\"dst_rps\":\"0\",\"dst_io\":\"0.0\",\"trans_inMB\":\"0\",\"trans_lines\":\"0\",\"volume_used_inGB\":\"5\",\"mem_used_inMB\":\"2166\",\"cpuUsed_percent\":\"1.4\",\"node_volume_inGB\":100,\"node_mem_inMB\":8192}"},"id":{"description":"任务id","example":"b683ea69-a29c-456f-952f-2b682180jb52","type":"string"}},"required":["data_guard_minitor","id"]},"QueryDataGuardMonitorResponse":{"description":"容灾监控数据响应体","properties":{"bandwidth":{"description":"带宽。","type":"string"},"cpuUsed_percent":{"description":"cpu百分比。","example":"1.4","type":"string"},"dst_delay":{"description":"目标库时延。","format":"int64","type":"integer"},"dst_io":{"description":"目标io。","example":"0.0","type":"string"},"dst_normal":{"description":"目标库连接状态。","example":true,"type":"boolean"},"dst_offset":{"description":"目标库offSet位点。","example":"N/A","type":"string"},"dst_rps":{"description":"目标rps。","type":"string"},"mem_used_inMB":{"description":"内存使用。","type":"string"},"migration_bytes_per_second":{"description":"每秒迁移字节大小。","format":"int64","readOnly":true,"type":"integer"},"node_mem_inMB":{"description":"node内存总大小。","format":"int64","type":"integer"},"node_offset":{"description":"迁移实例offSet位点。","example":"mysql-bin.000445:191","type":"string"},"node_volume_inGB":{"description":"node磁盘总大小。","format":"int64","type":"integer"},"sr_delay":{"description":"源库时延。","format":"int64","type":"integer"},"sr_offset":{"description":"源库offSet位点。","example":"mysql-bin.000445:191","type":"string"},"src_io":{"description":"源io。","example":"0.0","type":"string"},"src_normal":{"description":"源库连接状态。","example":true,"type":"boolean"},"src_rps":{"description":"源rps。","type":"string"},"trans_inMB":{"description":"迁移数据量。","type":"string"},"trans_lines":{"description":"迁移数据行数。","type":"string"},"volume_used_inGB":{"description":"磁盘使用。","type":"string"}},"type":"object"}},"description":null,"group_id":"506538835790436b8e209e5a6684d485","host":"drs.cn-north-4.myhuaweicloud.com","id":"b1e00a487b2245bcbc41c3c25ebe164f","info_version":"v3","method":"post","name":"ShowMonitoringData","parameters":{},"paths":{"/v3/{project_id}/jobs/disaster-recovery-monitoring-data":{"post":{"description":"根据任务ID查询容灾监控数据。","operationId":"ShowMonitoringData","parameters":[{"description":"租户在某一region下的project ID。","in":"path","name":"project_id","required":true,"type":"string","x-order":1},{"description":"从IAM服务获取的用户Token","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":2},{"default":"en-us","description":"请求语言类型","enum":["en-us","zh-cn"],"in":"header","name":"X-Language","required":false,"type":"string","x-example":"en-us","x-order":3},{"default":"application/json","description":"指定类型为application/json。","in":"header","name":"Content-Type","required":true,"type":"string","x-example":"application/json","x-order":4},{"description":"查询灾备任务监控数据请求列表,考虑接口性能问题,集合中只能传入一个id","in":"body","name":"req","required":true,"schema":{"$ref":"#/definitions/BatchQueryJobReq"},"x-order":5}],"responses":{"200":{"description":"OK","examples":{"application/json":{"count":1,"results":[{"data_guard_minitor":{"bandwidth":"37","cpuUsed_percent":"1.4","dst_delay":81046806,"dst_io":"0.0","dst_normal":true,"dst_offset":"N/A","dst_rps":"0","mem_used_inMB":"2166","migration_bytes_per_second":789456,"node_mem_inMB":8192,"node_offset":"mysql-bin.000445:191","node_volume_inGB":100,"sr_delay":0,"sr_offset":"mysql-bin.000445:191","src_io":"0.0","src_normal":true,"src_rps":"0","trans_inMB":"0","trans_lines":"0","volume_used_inGB":"5"},"id":"b683ea69-a29c-456f-952f-2b682180jb52"}]}},"schema":{"$ref":"#/definitions/GetDataGuardMonitorAndChartResp"}},"400":{"description":"Bad Request"}},"summary":"查询容灾监控数据","tags":["实时灾备管理"],"x-constraint":"","x-is-registered":"Y","x-name":"查询容灾监控数据","x-order":27,"x-publishpath":"ShowMonitoringData","x-request-examples-1":{"jobs":["9a470239-2308-4bb5-a6bc-1040402fjb21"]},"x-request-examples-description-1":"查询容灾监控数据示例","x-request-examples-text-1":{"jobs":["9a470239-2308-4bb5-a6bc-1040402fjb21"]},"x-request-examples-url-1":"/v3/054ba152d480d55b2f5dc0069e7ddef0/jobs/disaster-recovery-monitoring-data","x-scope":"Commercial","x-support-sdk":"Y","x-version":"v3"}}},"product_short":"DRS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询容灾监控数据","tags":"实时灾备管理","uri":null,"version":"2.0"}