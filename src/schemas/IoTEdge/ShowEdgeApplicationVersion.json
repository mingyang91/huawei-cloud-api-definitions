{"base_path":"/v2","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ContainerConfigsDTO":{"properties":{"container_port_list":{"description":"容器端口映射值","items":{"$ref":"#/definitions/ContainerPortDTO"},"maxItems":1000000,"minItems":0,"type":"array"},"host_network":{"default":true,"description":"是否使用主机网络模式","type":"boolean"},"privileged":{"default":false,"description":"开启容器特权模式","type":"boolean"},"restart_policy":{"description":"重启策略,容器执行健康检查后失败后的策略","maxLength":256,"minLength":1,"pattern":"Always|OnFailure|Never","type":"string"}},"required":["restart_policy"],"title":"容器特殊配置结构体","type":"object"},"ContainerPortDTO":{"properties":{"container_port":{"description":"构成一堆映射的容器端口","format":"int32","maximum":65535,"minimum":1,"type":"integer"},"host_ip":{"description":"对应网卡地址","maxLength":64,"minLength":0,"type":"string"},"host_port":{"description":"构成一对映射的物理机对应网卡端口","format":"int32","maximum":65535,"minimum":1,"type":"integer"}},"title":"容器网络配置结构体","type":"object"},"ContainerSettingsDTO":{"properties":{"configs":{"$ref":"#/definitions/ContainerConfigsDTO","description":"容器特殊参数"},"envs":{"description":"环境变量","type":"object","x-type":"Map<@Pattern(regexp = \"^[_a-zA-Z][_a-zA-Z0-9]*$\")String, @Pattern(regexp = \"^[a-zA-Z0-9_;:?!,;:、,.+=?!@>。/\\\\-\\\\s\\u4e00-\\u9fa5]*$\")String>"},"ext_devices":{"description":"外挂设备配置","items":{"$ref":"#/definitions/ExtDevice"},"maxItems":1000000,"minItems":0,"type":"array"},"image_url":{"description":"镜像存储地址","maxLength":1000000,"minLength":1,"pattern":"[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]","type":"string"},"npu_type":{"description":"NPU类型, D310:昇腾310推理卡,D910:昇腾910训练卡;D310P:昇腾710或者310P加速卡","enum":["D310","D910","D310P"],"maxLength":16,"minLength":0,"pattern":"(D310|D310P|D910)","type":"string"},"resources":{"$ref":"#/definitions/ResourceDTO","description":"资源配额"},"vnpu_template":{"description":"NPU算力切分模板,昇腾D310Pro,支持:vir01、vir02、vir02_1c、vir04、vir04_4c_dvpp、vir04_3c、vir04_3c_ndvpp 昇腾D910芯片支持:vir01|vir02|vir04|vir08 可在对应芯片的机器上通过npu-smi info -t template-info命令查询其详细信息","enum":["vir01","vir02","vir04","vir08","vir02_1c","vir04_3c","vir04_3c_ndvpp","vir04_4c_dvpp"],"example":"vir01","maxLength":32,"minLength":0,"pattern":"(vir01|vir02|vir04|vir08|vir02_1c|vir04_3c|vir04_3c_ndvpp|vir04_4c_dvpp)","type":"string"},"volumes":{"description":"卷配置","items":{"$ref":"#/definitions/VolumeDTO"},"maxItems":1000000,"minItems":0,"type":"array"}},"required":["image_url"],"title":"容器相关配置","type":"object","x-imports":"java.util.Map;"},"ExtDevice":{"description":"对应linux上device概念,用于串口、AI加速卡的挂载","properties":{"cgroup_permissions":{"description":"只读,默认MRW","type":"string"},"destination":{"description":"卷挂载路径","pattern":"^/([a-zA-Z_0-9-]+/?)+$","type":"string"},"source":{"description":"源路径","pattern":"^/([a-zA-Z_0-9-]+/?)+$","type":"string"}},"required":["source","destination"],"title":"外挂设备配置","type":"object"},"HttpGetDTO":{"properties":{"host":{"description":"主机地址","maxLength":64,"minLength":0,"pattern":"^((https?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()!@:%_\\+.~#?&\\/\\/=]*))*$","type":"string"},"path":{"description":"请求路径","maxLength":64,"minLength":2,"pattern":"^/(\\w+/?)+$","type":"string"},"port":{"description":"端口","format":"int32","maximum":65535,"minimum":1,"type":"integer"},"scheme":{"description":"协议类型","enum":["HTTP","HTTPS"],"maxLength":64,"minLength":1,"type":"string"}},"required":["path","scheme","port"],"title":"执行http探测","type":"object"},"ProbeDTO":{"properties":{"exec_command":{"description":"执行探测的命令行命令","maxLength":256,"minLength":0,"pattern":"^[a-zA-Z0-9_;:?!,;:、,.?!。/\\-\\s\\u4e00-\\u9fa5]*$","type":"string"},"failure_threshold":{"default":3,"description":"失败多少次算不健康","format":"int32","maximum":3600,"minimum":1,"type":"integer"},"http_get":{"$ref":"#/definitions/HttpGetDTO","description":"执行http探测"},"initial_delay_seconds":{"description":"表示从工作负载启动后从多久开始探测","format":"int32","maximum":3600,"minimum":0,"type":"integer"},"period_seconds":{"default":30,"description":"检查周期","format":"int32","maximum":3600,"minimum":5,"type":"integer"},"tcp_socket":{"$ref":"#/definitions/TcpSocketDTO","description":"执行tcp探测"},"timeout_seconds":{"description":"表示探测超时时间","format":"int32","maximum":3600,"minimum":1,"type":"integer"}},"required":["initial_delay_seconds","timeout_seconds"],"title":"探测结构体","type":"object"},"QueryEdgeApplicationVersionResponseDTO":{"properties":{"arch":{"description":"架构","enum":["x86_64","arm32","arm64"],"items":{"type":"string"},"maxItems":1000000,"minItems":1,"type":"array"},"args":{"description":"启动参数","items":{"type":"string"},"maxItems":1000000,"minItems":1,"type":"array"},"command":{"description":"启动命令","items":{"type":"string"},"maxItems":1000000,"minItems":1,"type":"array"},"container_settings":{"$ref":"#/definitions/ContainerSettingsDTO","description":"容器相关配置"},"create_time":{"description":"创建时间","maxLength":256,"minLength":0,"type":"string"},"deploy_multi_instance":{"default":false,"description":"是否允许部署多实例","type":"boolean"},"deploy_type":{"description":"部署类型docker|process","maxLength":64,"minLength":0,"type":"string"},"description":{"description":"应用描述","maxLength":256,"minLength":0,"type":"string"},"edge_app_id":{"description":"应用ID","maxLength":32,"minLength":0,"type":"string"},"inputs":{"description":"应用输入路由","items":{"type":"string"},"maxItems":1000000,"minItems":1,"type":"array"},"liveness_probe":{"$ref":"#/definitions/ProbeDTO","description":"工作负载存活探针"},"name":{"description":"应用名称","maxLength":64,"minLength":0,"type":"string"},"off_shelf_time":{"description":"下线时间","example":"2020-05-28T11:31:29.740Z","maxLength":256,"minLength":0,"type":"string"},"outputs":{"description":"应用输出路由端点","items":{"type":"string"},"maxItems":1000000,"minItems":1,"type":"array"},"publish_time":{"description":"发布时间","example":"2020-05-28T11:31:29.740Z","maxLength":256,"minLength":0,"type":"string"},"readiness_probe":{"$ref":"#/definitions/ProbeDTO","description":"工作负载业务探针"},"sdk_version":{"description":"应用集成的边缘SDK版本","maxLength":32,"minLength":1,"pattern":"^[A-Za-z0-9-_.]*$","type":"string"},"services":{"description":"应用实现的服务列表","items":{"type":"string"},"maxItems":1000,"minItems":1,"type":"array"},"state":{"description":"应用版本状态","enum":["DRAFT","PUBLISHED","OFF_SHELF"],"maxLength":64,"minLength":0,"type":"string"},"supplier":{"description":"驱动厂商","example":"华为","maxLength":128,"minLength":1,"type":"string"},"tpl_id":{"description":"模板id","example":"sys_general_opcua","maxLength":64,"minLength":1,"type":"string"},"update_time":{"description":"最后一次修改时间","maxLength":256,"minLength":0,"type":"string"},"version":{"description":"应用版本","maxLength":32,"minLength":0,"type":"string"}},"title":"查询应用版本响应结构体","type":"object","x-imports":"java.util.Map;"},"ResourceConfigDTO":{"properties":{"cpu":{"description":"cpu个数","format":"float","maximum":1000,"minimum":0.01,"type":"number"},"gpu":{"description":"gpu内存大小,单位为M","format":"float","maximum":1024000,"minimum":0.01,"type":"number"},"memory":{"description":"内存大小","format":"float","maximum":1024000,"minimum":0.01,"type":"number"},"npu":{"description":"使用npu加速卡个数","format":"float","maximum":1000,"minimum":0.01,"type":"number"}},"title":"资源配额结构体","type":"object"},"ResourceDTO":{"properties":{"limits":{"$ref":"#/definitions/ResourceConfigDTO","description":"允许容器使用的最大资源"},"requests":{"$ref":"#/definitions/ResourceConfigDTO","description":"容器需要使用的最小资源"}},"title":"资源配额","type":"object"},"TcpSocketDTO":{"properties":{"port":{"description":"端口","format":"int32","maximum":65535,"minimum":1,"type":"integer"}},"required":["port"],"title":"执行tcp探测","type":"object"},"VolumeDTO":{"properties":{"destination":{"description":"卷挂载路径","pattern":"^/*(?!boot/|dev/|etc/|lib/|pro/|sys/)([a-zA-Z_0-9-]+/?)+$","type":"string"},"name":{"description":"卷名称","maxLength":63,"minLength":1,"pattern":"^[a-z0-9]*$","type":"string"},"read_only":{"description":"只读,默认只读","type":"boolean"},"source":{"description":"源路径","pattern":"^/([a-zA-Z_0-9-]+/?)+$","type":"string"},"type":{"description":"挂载类型","pattern":"LOG|DB|CONFIG","type":"string"}},"required":["name","source","destination"],"title":"卷配置","type":"object"}},"description":null,"group_id":"754c02d86d9b4c75b894729259232632","host":"iotedge-api.cn-north-4.myhuaweicloud.com","id":"d2b8d8c31286486f9f80c430afa5510e","info_version":"v2","method":"get","name":"ShowEdgeApplicationVersion","parameters":{"X-Auth-Token":{"description":"用户Token。通过调用IAM服务 [获取IAM用户Token](https://support.huaweicloud.com/api-iam/iam_30_0001.html)接口获取,接口返回的响应消息头中“X-Subject-Token”就是需要获取的用户Token。简要的获取方法样例请参见 [Token认证](https://support.huaweicloud.com/api-iothub/iot_06_v5_0091.html#section0)。","in":"header","maxLength":20000,"minLength":0,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},"project_id":{"description":"项目ID。获取方法请参见 [获取项目ID](x-wc://file=zh-cn_topic_0225049489.xml)。","in":"path","maxLength":64,"minLength":1,"name":"project_id","pattern":"^[a-fA-F0-9]{1,32}$","required":true,"type":"string","x-example":"04ed32dc1b0025b52fe3c01a27c2b0a8"}},"paths":{"/{project_id}/edge-apps/{edge_app_id}/versions/{version}":{"get":{"description":"查询应用版本详情","operationId":"ShowEdgeApplicationVersion","parameters":[{"$ref":"#/parameters/X-Auth-Token"},{"$ref":"#/parameters/project_id"},{"description":"应用ID,应用唯一。","in":"path","maxLength":32,"minLength":1,"name":"edge_app_id","required":true,"type":"string"},{"description":"应用版本,应用内版本唯一。","in":"path","maxLength":32,"minLength":1,"name":"version","required":true,"type":"string"}],"responses":{"200":{"description":"OK","examples":{"application/json":{"arch":["string"],"args":"string","command":"string","container_settings":{"configs":{"container_port_list":{"container_port":65535,"host_ip":"string","host_port":65535},"host_network":true,"privileged":false,"restart_policy":"string"},"envs":{},"ext_devices":{"cgroup_permissions":"string","destination":"string","source":"string"},"image_url":"string","resources":{"limits":{"cpu":1000,"gpu":1024000,"memory":1024000,"npu":1000},"requests":{"cpu":1000,"gpu":1024000,"memory":1024000,"npu":1000}},"volumes":[{"destination":"string","name":"string","read_only":true,"source":"string","type":"string"}]},"create_time":"string","deploy_multi_instance":false,"deploy_type":"string","description":"string","edge_app_id":"string","inputs":["string"],"liveness_probe":{"exec_command":"string","failure_threshold":3,"http_get":{"host":"string","path":"string","port":65535,"scheme":"HTTP"},"initial_delay_seconds":3600,"period_seconds":30,"tcp_socket":{"port":65535},"timeout_seconds":3600},"name":"string","off_shelf_time":"2020-05-28T11:31:29.740Z","outputs":["string"],"publish_time":"2020-05-28T11:31:29.740Z","readiness_probe":{"exec_command":"string","failure_threshold":3,"http_get":{"host":"string","path":"string","port":65535,"scheme":"HTTP"},"initial_delay_seconds":3600,"period_seconds":30,"tcp_socket":{"port":65535},"timeout_seconds":3600},"sdk_version":"string","services":["string"],"state":"DRAFT","supplier":"华为","tpl_id":"sys_general_opcua","update_time":"string","version":"string"}},"schema":{"$ref":"#/definitions/QueryEdgeApplicationVersionResponseDTO"},"x-SuccessCode":true},"400":{"description":"Bad Request"},"404":{"description":"Not Found"}},"summary":"查询应用版本详情","tags":["EdgeAppVersionManagement"],"x-externalAPI":true,"x-is-registered":"Y","x-returnType":"ResponseEntity<QueryEdgeApplicationVersionResponseDTO>","x-support-sdk":"Y"}}},"product_short":"IoTEdge","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询应用版本详情","tags":"应用版本管理","uri":null,"version":"2.0"}