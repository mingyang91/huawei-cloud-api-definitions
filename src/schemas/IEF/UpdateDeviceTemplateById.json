{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"DeviceTemplateResp":{"description":"设备模板","properties":{"device_template":{"$ref":"#/definitions/EdgemgrDevice"}},"required":["device_template"]},"DeviceTemplateUpdate":{"description":"设备模板","properties":{"device_template":{"$ref":"#/definitions/DeviceTemplateUpdateDetail"}},"required":["device_template"]},"DeviceTemplateUpdateDetail":{"description":"设备模板","properties":{"access_protocol":{"description":"- userdefine:自定义协议\n- modbus:modbus协议\n- opc-ua:opc-ua协议","type":"string"},"attributes":{"additionalProperties":{"$ref":"#/definitions/ValueInAttributes"},"description":"终端设备静态属性,最多64个键值。","type":"object"},"description":{"description":"设备模板描述,最大长度255","type":"string"},"property_visitors":{"additionalProperties":{"$ref":"#/definitions/ValueInPropertyVisitors"},"description":"孪生属性配置,与access_protocol关联。","type":"object"},"tags":{"description":"设备模板标签,key-value键值对形式。","properties":{"key":{"description":"标签key值,长度取值范围为1~36, 仅允许大小写英文字母、数字、下划线、中划线","type":"string"},"value":{"description":"标签value值,长度取值范围为0~43, 仅允许大小写英文字母、数字、下划线、中划线","type":"string"}}},"twin":{"additionalProperties":{"$ref":"#/definitions/ValueInTwin"},"description":"终端设备动态属性","type":"object"}}},"EdgemgrDevice":{"description":"终端设备属性","properties":{"access_protocol":{"description":"访问协议,有如下选项:\n- userdefine:自定义协议\n- modbus:modbus协议\n- opc-ua:opc-ua协议\n默认为userdefine","type":"string"},"attributes":{"additionalProperties":{"$ref":"#/definitions/ValueInAttributes"},"description":"静态属性","type":"object"},"created_at":{"description":"创建时间","type":"string"},"description":{"description":"终端设备描述,最大长度255,不允许^ ~ # $ % & * < > ( ) [ ] { } ' \" \\","type":"string"},"id":{"description":"终端设备ID,只允许英文字母、数字、下划线、中划线,必须以英文字母和数字开头,长度限制为24~64之间","type":"string"},"name":{"description":"终端设备名称,只允许中文字符、英文字母、数字、下划线、中划线,长度限制为1~64","type":"string"},"project_id":{"description":"项目ID","type":"string"},"property_visitors":{"additionalProperties":{"$ref":"#/definitions/ValueInPropertyVisitors"},"description":"孪生属性配置","type":"object"},"tags":{"$ref":"#/definitions/ResourceTag"},"twin":{"additionalProperties":{"$ref":"#/definitions/ValueInTwinResponse"},"description":"终端设备静态属性信息","type":"object"},"updated_at":{"description":"更新时间","type":"string"}},"required":["id","name","access_protocol","description","attributes","twin","project_id","created_at","property_visitors","tags"],"type":"object"},"Excepted":{"description":"动态属性的期望信息","properties":{"metadata":{"description":"期望值设置的时间信息","properties":{"type":{"description":"属性类型标识,string|int|float|boolean(boolean类型为true或false),默认为string","type":"string"}}},"value":{"description":"动态属性的初始值,最大长度512,value允许英文字母、数字、下划线、中划线、点、逗号、冒号、/、@、+、?、^、=、%、&、~、#、!、*","type":"string"}},"type":"object"},"ExceptedActual":{"description":"动态属性","properties":{"value":{"description":"动态属性的初始值,最大长度512,value允许英文字母、数字、下划线、中划线、点、逗号、冒号、/、@、+、?、^、=、%、&、~、#、!、*","type":"string"}}},"Metadata":{"description":"静态属性的元数据信息,默认为{\"type\": \"string\"}","properties":{"type":{"description":"属性类型标识,string|int|float|boolean(boolean类型为true或false),默认为string","type":"string"}},"type":"object"},"ResourceTag":{"description":"标签属性","properties":{"key":{"description":"键。最大长度36个unicode字符。\n不能为空,只能包含大小写字母,数字,中划线“-”,下划线“_”。","type":"string"},"value":{"description":"值。每个值最大长度43个unicode字符,删除时如果value有值按照key/value删除,如果value没值,则按照key删除。\n不能为空,只能包含大小写字母,数字,中划线“-”,下划线“_”。","type":"string"}},"type":"object"},"ValueInAttributes":{"description":"静态属性","properties":{"metadata":{"$ref":"#/definitions/Metadata","description":"静态属性的元数据信息,默认为{\"type\": \"string\"}"},"optional":{"description":"标识属性是否可选,默认为true","type":"boolean"},"value":{"description":"value 最大长度512,value允许英文字母、数字、下划线、中划线、点、逗号、冒号、/、@、+、?、^、=、%、&、~、#、!、*","type":"string"}},"required":["value"]},"ValueInPropertyVisitors":{"description":"孪生属性配置,与access_protocol关联。","properties":{"access_mode":{"$ref":"#/definitions/ValueInAttributes","description":"访问模式,value值字段可选为r和r/w"},"browse_name":{"$ref":"#/definitions/ValueInAttributes","description":"节点名称"},"data_max":{"$ref":"#/definitions/ValueInAttributes","description":"原始数据值区间最大值,与原始数据类型关联"},"data_min":{"$ref":"#/definitions/ValueInAttributes","description":"原始数据值区间最小值,与原始数据类型关联"},"expected_datatype":{"$ref":"#/definitions/ValueInAttributes","description":"期望数据类型"},"is_registerswap":{"$ref":"#/definitions/ValueInAttributes","description":"是否交换寄存器顺序"},"is_swap":{"$ref":"#/definitions/ValueInAttributes","description":"是否交换高低字节"},"node_id":{"$ref":"#/definitions/ValueInAttributes","description":"节点id"},"original_datatype":{"$ref":"#/definitions/ValueInAttributes","description":"原始数据类型"},"register_index":{"$ref":"#/definitions/ValueInAttributes","description":"寄存器偏移地址,value值字段取值范围0-65535"},"register_num":{"$ref":"#/definitions/ValueInAttributes","description":"寄存器个数"},"register_type":{"$ref":"#/definitions/ValueInAttributes","description":"寄存器类型,value值字段可选为CoilsRegisters、HoldingRegisters、DiscreteInputsRegisters、InputRegisters"},"sample_interval":{"$ref":"#/definitions/ValueInAttributes","description":"数据采集间隔,取值范围为1-3600"},"scale_index":{"$ref":"#/definitions/ValueInAttributes","description":"缩放因子"}}},"ValueInTwin":{"description":"终端设备动态属性","properties":{"excepted":{"$ref":"#/definitions/Excepted","description":"动态属性的期望信息"},"metadata":{"$ref":"#/definitions/metadata","description":"动态属性的元数据信息"},"optional":{"description":"动态属性的实际信息","type":"boolean"}},"type":"object"},"ValueInTwinResponse":{"description":"终端设备静态属性信息","properties":{"actual":{"$ref":"#/definitions/ExceptedActual","description":"动态属性的实际信息"},"excepted":{"$ref":"#/definitions/ExceptedActual","description":"动态属性的期望信息"},"metadata":{"$ref":"#/definitions/Metadata","description":"动态属性的元数据信息"},"optional":{"description":"标识属性是否可选,默认为true,继承模板的属性默认为false","type":"boolean"}}},"metadata":{"properties":{"type":{"description":"属性类型标识,string|int|float|boolean(boolean类型为true或false),默认为string","type":"string"}},"type":"object"}},"description":null,"group_id":"cdaa2d3f4fbb4dc38b6a6c55f9222ed9","host":"ief.cn-north-4.myhuaweicloud.com","id":"e9ab5cc094c64695ad93e3ef3af8417b","info_version":"v1","method":"put","name":"UpdateDeviceTemplateById","parameters":{"Content-Type":{"description":"消息体的类型(格式),默认取值为“application/json”","in":"header","name":"Content-Type","required":true,"type":"string"},"IEF-Instance-Id":{"description":"铂金版实例ID,专业版实例为空值","in":"header","name":"ief-instance-id","required":false,"type":"string"},"X-Auth-Token":{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."}},"paths":{"/v2/{project_id}/edgemgr/device-templates/{device_template_id}":{"put":{"consumes":["application/json"],"description":"更新一个终端设备模板。","operationId":"UpdateDeviceTemplateById","parameters":[{"$ref":"#/parameters/Content-Type"},{"$ref":"#/parameters/X-Auth-Token"},{"$ref":"#/parameters/IEF-Instance-Id"},{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string"},{"description":"设备模板ID","in":"path","name":"device_template_id","required":true,"type":"string"},{"description":"设备模板","in":"body","name":"device_template","required":true,"schema":{"$ref":"#/definitions/DeviceTemplateUpdate"}}],"produces":["application/json"],"responses":{"200":{"description":"ok","examples":{"application/json":{"device_template":{"access_protocol":"userdefine","attributes":{"cameraURL":{"metadata":{"type":"string"},"value":"127.0.0.1"}},"created_at":"2018-07-16T04:01:21.212072","description":"This is a camera template","id":"82952098-ec24-4643-94e6-9989174fce05","name":"CameraTemplate","project_id":"d16e6eb6cc0d49a0941df2f31285757a","twin":{"runstate":{"expected":{"value":"running"},"metadata":{"type":"string"}}},"updated_at":"2018-07-18T04:01:21.212017"}}},"schema":{"$ref":"#/definitions/DeviceTemplateResp"}}},"summary":"更新终端设备模板","tags":["终端设备模板管理"],"x-is-registered":"Y","x-request-examples-1":{"device_template":{"attributes":{"cameraURL":{"metadata":{"type":"string"},"value":"127.0.0.1"}},"description":"This is a camera template","twin":{"runstate":{"expected":{"value":"running"},"metadata":{"type":"string"}}}}},"x-request-examples-description-1":"更新终端设备模板,更新终端设备动态属性和静态属性。","x-request-examples-text-1":{"device_template":{"attributes":{"cameraURL":{"metadata":{"type":"string"},"value":"127.0.0.1"}},"description":"This is a camera template","twin":{"runstate":{"expected":{"value":"running"},"metadata":{"type":"string"}}}}},"x-support-sdk":"Y"}}},"product_short":"IEF","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"更新终端设备模板","tags":"终端设备模板管理","uri":null,"version":"2.0"}