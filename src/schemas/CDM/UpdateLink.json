{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CdmCreateAndUpdateLinkReq":{"properties":{"links":{"description":"连接列表,请参见links数据结构说明","items":{"$ref":"#/definitions/links"},"type":"array"}},"required":["links"]},"CdmUpdateLinkResponse":{"properties":{"validation-result":{"description":"校验结构:如果创建连接失败,返回失败原因,请参见validation-result参数说明。如果创建成功,返回空列表。","items":{"$ref":"#/definitions/validationResult"},"type":"array"}},"required":["validation-result"]},"Input":{"properties":{"name":{"description":"参数名","example":"fromJobConfig.schemaName","type":"string"},"type":{"description":"值类型","example":"STRING","type":"string"},"value":{"description":"参数值","example":"rf_database","type":"string"}},"required":["name","value"]},"configs":{"properties":{"id":{"description":"配置ID","example":79,"format":"int32","type":"integer"},"inputs":{"description":"输入参数列表,列表中的每个参数为“name,value”结构,请参考inputs数据结构参数说明。在“from-config-values”数据结构中,不同的源连接类型有不同的“inputs”参数列表,请参见源端作业参数说明下的章节。在“to-cofig-values”数据结构中,不同的目的连接类型有不同的“inputs”参数列表,请参见目的端作业参数说明下面的子章节。在“driver-config-values”数据结构中,“inputs”具体参数请参见作业任务参数说明。","items":{"$ref":"#/definitions/Input"},"type":"array"},"name":{"description":"配置名称:源端作业的配置名称为“fromJobConfig”。目的端作业的配置名称为“toJobConfig”,连接的配置名称固定为“linkConfig”。","example":"fromJobConfig","type":"string"},"type":{"description":"配置类型","example":"link","type":"string"}},"required":["inputs","name"]},"links":{"properties":{"connector-name":{"description":"连接器名称,对应的连接参数如下:generic-jdbc-connector:关系数据库连接。obs-connector:OBS连接、阿里云OSS连接。hdfs-connector:HDFS连接。hbase-connector:HBase连接、CloudTable连接。hive-connector:Hive连接。ftp-connector/sftp-connector:FTP/SFTP连接。mongodb-connector:MongoDB连接。redis-connector:Redis/DCS连接。nas-connector:NAS/SFS连接。kafka-connector:Kafka连接。dis-connector:DIS连接。elasticsearch-connector:Elasticsearch/云搜索服务连接。dli-connector:DLI连接。opentsdb-connector:CloudTable OpenTSDB连接。http-connector:HTTP/HTTPS连接,该连接暂无连接参数。thirdparty-obs-connector:七牛云KODO/腾讯云COS连接、亚马逊对象存储连接。dms-kafka-connector:DMS Kafka连接","example":"generic-jdbc-connector","type":"string"},"creation-date":{"description":"创建连接的时间","example":1496654788622,"format":"int64","type":"integer"},"creation-user":{"description":"创建连接的用户","example":"cdm","type":"string"},"enabled":{"description":"是否激活连接,默认为“true”","example":true,"type":"boolean"},"id":{"description":"连接ID","example":1,"format":"int32","type":"integer"},"link-config-values":{"description":"连接参数配置,请参见link-config-values参数说明","properties":{"configs":{"description":"连接配置参数数据结构,请参见configs参数说明。","items":{"$ref":"#/definitions/configs"},"type":"array"},"extended-configs":{"description":"扩展配置,请参见extended-configs参数说明。","properties":{"name":{"description":"名称","type":"string"},"value":{"description":"值","type":"string"}},"type":"object"},"validators":{"description":"校验器","example":[],"items":{"type":"string"},"type":"array"}},"required":["configs"],"type":"object"},"name":{"description":"连接名称","example":"mysql_link","type":"string"},"update-date":{"description":"更新连接的时间","example":1496654788622,"format":"int64","type":"integer"},"update-user":{"description":"更新连接的用户","example":"cdm","type":"string"}},"required":["name","link-config-values","connector-name"]},"validationLinkConfig":{"properties":{"message":{"description":"错误描述","example":"Can't connect to the database with given credentials: The authentication type 12 is not supported. Check that you have configured the pg_hba.conf file to include the client's IP address or subnet, and that it is using an authentication scheme supported by the driver.","type":"string"},"status":{"description":"ERROR,WARNING","enum":["ERROR","WARNING"],"example":"ERROR","type":"string"}}},"validationResult":{"properties":{"linkConfig":{"description":"创建或更新连接校验结果,请参见linkConfig参数说明","items":{"$ref":"#/definitions/validationLinkConfig"},"type":"array"}}}},"description":null,"group_id":"a0ab3a188181459e93ca94db31e45dc5","host":"cdm.cn-north-4.myhuaweicloud.com","id":"25b8f2cbfc574da381f0ec6624bbdd29","info_version":"v1","method":"put","name":"UpdateLink","parameters":{},"paths":{"/v1.1/{project_id}/clusters/{cluster_id}/cdm/link/{link_name}":{"put":{"consumes":[],"deprecated":false,"description":"修改连接接口。","operationId":"UpdateLink","parameters":[{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string"},{"description":"集群ID","in":"path","name":"cluster_id","required":true,"type":"string"},{"description":"连接名称","in":"path","name":"link_name","required":true,"type":"string"},{"description":"创建连接请求JSON","in":"body","name":"CdmUpdateLinkReq","required":true,"schema":{"$ref":"#/definitions/CdmCreateAndUpdateLinkReq"}},{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX...","x-order":1}],"produces":[],"responses":{"200":{"description":"OK","examples":{"application/json":{"name":"rdb_link","validation-result":{}}},"schema":{"$ref":"#/definitions/CdmUpdateLinkResponse"}},"400":{"description":"请求错误"},"401":{"description":"鉴权失败"},"403":{"description":"没有操作权限"},"404":{"description":"找不到资源"},"500":{"description":"服务内部错误,具体返回错误码请参考错误码","examples":{"application/json":{"validation-result":[{"linkConfig":[{"message":"Can't connect to the database with given credentials: The authentication type 12 is not supported. Check that you have configured the pg_hba.conf file to include the client's IP address or subnet, and that it is using an authentication scheme supported by the driver.","status":"ERROR"}]}]}},"schema":{"$ref":"#/definitions/validationLinkConfig"}},"503":{"description":"服务不可用"}},"summary":"修改连接","tags":["连接管理"],"x-name":"修改连接","x-order":1,"x-request-examples-1":{"links":[{"connector-name":"generic-jdbc-connector","creation-date":1496654788622,"enabled":true,"link-config-values":{"configs":[{"inputs":[{"name":"linkConfig.databaseType","value":"MYSQL"},{"name":"linkConfig.host","value":"100.94.8.163"},{"name":"linkConfig.port","value":"3306"},{"name":"linkConfig.database","value":"DB_name"},{"name":"linkConfig.username","value":"username"},{"name":"linkConfig.password","value":"DB_password"},{"name":"linkConfig.fetchSize","value":"100000"},{"name":"linkConfig.usingNative","value":false}],"name":"linkConfig"}]},"name":"mysql_link","update-date":1496654788622}]},"x-request-examples-url-1":"PUT /v1.1/1551c7f6c808414d8e9f3c514a170f2e/clusters/6ec9a0a4-76be-4262-8697-e7af1fac7920/cdm/link/rdb_link","x-support-sdk":"Y","x-version":"v1.1"}}},"product_short":"CDM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"修改连接","tags":"连接管理","uri":null,"version":"2.0"}