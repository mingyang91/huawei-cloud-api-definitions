{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ErrorInfo":{"description":"失败返回信息","properties":{"code":{"description":"错误码","type":"string"},"message":{"description":"错误信息","type":"string"}},"required":["code","message"]},"JobEntities":{"description":"","properties":{"native_server_id":{"description":"容灾站点服务器ID","type":"string","x-huawei-extraAnnotation":""},"nic_id":{"description":"网卡ID","type":"string","x-huawei-extraAnnotation":""},"protected_instance_id":{"description":"保护实例ID","type":"string","x-huawei-extraAnnotation":""},"replication_pair_id":{"description":"复制对ID","type":"string","x-huawei-extraAnnotation":""},"server_group_id":{"description":"保护组ID","type":"string","x-huawei-extraAnnotation":""},"sub_jobs":{"description":"子Job信息","items":{"$ref":"#/definitions/SubJobParams","description":""},"type":"array","x-huawei-extraAnnotation":""},"volume_ids":{"description":"组成复制对的云硬盘ID","type":"string","x-huawei-extraAnnotation":""}}},"JobFailResponse":{"description":"Job失败返回","properties":{"error":{"$ref":"#/definitions/ErrorInfo","description":"失败返回结构"}}},"ShowJobStatusResponseBody":{"description":"查询Job状态返回","properties":{"begin_time":{"description":"开始时间。默认格式为:\"yyyy-MM-dd'T'HH:mm:ss.SSSZ\",例:\"2019-04-01T12:00:00.000Z\"。","type":"string"},"end_time":{"description":"结束时间。默认格式为:\"yyyy-MM-dd'T'HH:mm:ss.SSSZ\",例:\"2019-04-01T12:00:00.000Z\"。","type":"string"},"entities":{"$ref":"#/definitions/JobEntities","description":"Job操作的对象。","x-huawei-extraAnnotation":""},"error_code":{"description":"Job执行失败时的错误码。","type":"string"},"fail_reason":{"description":"Job执行失败时的错误原因。","type":"string"},"job_id":{"description":"Job ID。","type":"string"},"job_type":{"description":"Job的类型。createProtectionGroupNoCG:创建保护组。deleteProtectionGroupNoCG:删除保护组。startProtectionGroupNoCG :保护组开始保护。reprotectProtectionGroupNoCG :保护组重保护。stopProtectionGroupNoCG :保护组停止保护。failoverProtectionGroupNoCG  :保护组故障切换。reverseProtectionGroupNoCG:保护组切换。createProtectedInstanceNoCG:创建保护实例。deleteProtectedInstanceNoCG:删除保护实例。attachReplicationPairNew:保护实例挂载复制对。detachReplicationPairNew:保护实例卸载复制对。addNicNew:保护实例添加网卡。deleteNicNew:保护实例删除网卡。resizeProtectedInstanceNew:保护实例变更规格。createReplicationPairNoCG:创建复制对。deleteReplicationPairNoCG:删除复制对。expandReplicationPairNew:复制对扩容。createDisasterRecoveryDrill:创建容灾演练。deleteDisasterRecoveryDrill:删除容灾演练。","type":"string"},"status":{"description":"Job的状态。\nSUCCESS:成功。\nRUNNING:运行中。\nFAIL:失败。\nINIT:正在初始化。","enum":["SUCCESS","RUNNING","FAIL","INIT"],"type":"string"}},"required":["begin_time","end_time","entities","error_code","fail_reason","job_id","job_type","status"]},"SubJobEntities":{"description":"","properties":{"native_server_id":{"description":"容灾站点服务器ID","type":"string","x-huawei-extraAnnotation":""},"nic_id":{"description":"网卡ID","type":"string","x-huawei-extraAnnotation":""},"protected_instance_id":{"description":"保护实例ID","type":"string","x-huawei-extraAnnotation":""},"replication_pair_id":{"description":"复制对ID","type":"string","x-huawei-extraAnnotation":""},"server_group_id":{"description":"保护组ID","type":"string","x-huawei-extraAnnotation":""},"volume_ids":{"description":"组成复制对的云硬盘ID","type":"string","x-huawei-extraAnnotation":""}}},"SubJobParams":{"description":"","properties":{"begin_time":{"description":"开始时间。默认格式为:\"yyyy-MM-dd'T'HH:mm:ss.SSSZ\",例:\"2019-04-01T12:00:00.000Z\"。","type":"string"},"end_time":{"description":"结束时间。默认格式为:\"yyyy-MM-dd'T'HH:mm:ss.SSSZ\",例:\"2019-04-01T12:00:00.000Z\"。","type":"string"},"entities":{"$ref":"#/definitions/SubJobEntities","description":"Job操作的对象。","x-huawei-extraAnnotation":""},"error_code":{"description":"Job执行失败时的错误码。","type":"string"},"fail_reason":{"description":"Job执行失败时的错误原因。","type":"string"},"job_id":{"description":"Job ID。","type":"string"},"job_type":{"description":"Job的类型。createProtectionGroupNoCG:创建保护组。deleteProtectionGroupNoCG:删除保护组。startProtectionGroupNoCG :保护组开始保护。reprotectProtectionGroupNoCG :保护组重保护。stopProtectionGroupNoCG :保护组停止保护。failoverProtectionGroupNoCG  :保护组故障切换。reverseProtectionGroupNoCG:保护组切换。createProtectedInstanceNoCG:创建保护实例。deleteProtectedInstanceNoCG:删除保护实例。attachReplicationPairNew:保护实例挂载复制对。detachReplicationPairNew:保护实例卸载复制对。addNicNew:保护实例添加网卡。deleteNicNew:保护实例删除网卡。resizeProtectedInstanceNew:保护实例变更规格。createReplicationPairNoCG:创建复制对。deleteReplicationPairNoCG:删除复制对。expandReplicationPairNew:复制对扩容。createDisasterRecoveryDrill:创建容灾演练。deleteDisasterRecoveryDrill:删除容灾演练。","type":"string"},"status":{"description":"Job的状态。\nSUCCESS:成功。\nRUNNING:运行中。\nFAIL:失败。\nINIT:正在初始化。","enum":["SUCCESS","RUNNING","FAIL","INIT"],"type":"string"}},"required":["begin_time","end_time","entities","error_code","fail_reason","job_id","job_type","status"]}},"description":null,"group_id":"10d28b86a3b24bb2a48fbb2befd68709","host":"sdrs.cn-north-4.myhuaweicloud.com","id":"f953205a9e6845c794cf715a5e58931a","info_version":"v1","method":"get","name":"ShowJobStatus","parameters":{},"paths":{"/v1/{project_id}/jobs/{job_id}":{"get":{"consumes":[],"deprecated":false,"description":"查询job的执行状态。\n对于创建保护组、删除保护组、创建保护实例、删除保护实例、创建复制对、删除复制对等异步API,命令下发后,会返回job_id,通过job_id可以查询任务的执行状态。","operationId":"ShowJobStatus","parameters":[{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string","x-order":1},{"description":"job ID","in":"path","name":"job_id","required":true,"type":"string","x-order":2},{"description":"用户Token。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":3}],"produces":[],"responses":{"200":{"description":"OK","examples":{"application/json":{"begin_time":"2018-04-19T01:55:30.443Z","end_time":"2018-04-19T01:55:45.493Z","entities":{"server_group_id":"a59d008e-4bad-4bf3-9b17-6cc25e7da483"},"error_code":null,"fail_reason":null,"job_id":"0000000062db92d70162db9d200f000a","job_type":"createProtectionGroupNoCG","status":"SUCCESS"}},"schema":{"$ref":"#/definitions/ShowJobStatusResponseBody"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/JobFailResponse"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/JobFailResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/JobFailResponse"}},"405":{"description":"Method Not Allowed","schema":{"$ref":"#/definitions/JobFailResponse"}},"406":{"description":"Not Acceptable","schema":{"$ref":"#/definitions/JobFailResponse"}},"407":{"description":"Proxy Authentication Required","schema":{"$ref":"#/definitions/JobFailResponse"}},"408":{"description":"Request Timeout","schema":{"$ref":"#/definitions/JobFailResponse"}},"409":{"description":"Conflict","schema":{"$ref":"#/definitions/JobFailResponse"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/JobFailResponse"}},"501":{"description":"Not Implemented","schema":{"$ref":"#/definitions/JobFailResponse"}},"502":{"description":"Bad Gateway","schema":{"$ref":"#/definitions/JobFailResponse"}},"503":{"description":"Service Unavailable","schema":{"$ref":"#/definitions/JobFailResponse"}},"504":{"description":"Gateway Timeout","schema":{"$ref":"#/definitions/JobFailResponse"}}},"summary":"查询job状态","tags":["Job管理"],"x-apiexplorer-hide":"","x-apigateway-auth-type":"","x-apigateway-match-mode":"","x-apigateway-request-type":"","x-call_frequency":"","x-constraint":"无","x-ctc":"N","x-first_open_time":"2018-05-30","x-flow_control_group":"QueryJobStatus","x-hc":"Y","x-hk":"Y","x-hybridcloud":false,"x-in_cli":"","x-is_calling":"Y","x-is_registered":"Y","x-multi_tenant_flow_time":1,"x-multi_tenant_flow_value":4000,"x-name":"查询job状态","x-obc":"Y","x-order":1,"x-otc":"Y","x-publishpath":"","x-request-examples-1":"GET https://{endpoint}/v1/{project_id}/jobs/0000000062db92d70162db9d200f000a","x-request-examples-description-1":"","x-request-examples-text-1":"GET https://{endpoint}/v1/{project_id}/jobs/0000000062db92d70162db9d200f000a","x-request-examples-url-1":"","x-scope":"Commercial","x-source":"SelfDeveloped","x-source_url":"","x-support-sdk":"Y","x-tenant_flow_time":1,"x-tenant_flow_value":2000,"x-timeout":"200s","x-tlf":"N","x-un_cli":"","x-version":"v1"}}},"product_short":"SDRS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询job状态","tags":"Job管理","uri":null,"version":"2.0"}