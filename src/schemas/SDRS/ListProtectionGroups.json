{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ErrorInfo":{"description":"失败返回信息","properties":{"code":{"description":"错误码","type":"string"},"message":{"description":"错误信息","type":"string"}},"required":["code","message"]},"JobFailResponse":{"description":"Job失败返回","properties":{"error":{"$ref":"#/definitions/ErrorInfo","description":"失败返回结构"}}},"ListProtectionGroupsResponseBody":{"description":"查询保护组列表响应体","properties":{"count":{"description":"此参数为满足过滤条件的列表中包含的保护组个数。","format":"int32","type":"integer"},"server_groups":{"description":"保护组的信息列表。","items":{"$ref":"#/definitions/ShowProtectionGroupParams"},"type":"array"}},"required":["count","server_groups"]},"ShowProtectionGroupParams":{"description":"查询保护组数据结构","properties":{"created_at":{"description":"创建时间。默认格式为:\"yyyy-MM-dd'T'HH:mm:ss.SSSZ\",例:\"2019-04-01T12:00:00.000Z\"。","type":"string","x-huawei-extraAnnotation":""},"description":{"description":"保护组的描述。","type":"string"},"disaster_recovery_drill_num":{"description":"该保护组中容灾演练的个数。","format":"int32","type":"integer"},"domain_id":{"description":"双活域ID。","type":"string"},"domain_name":{"description":"双活域名称。","type":"string"},"dr_type":{"description":"部署模式。默认值为“migration”,migration表示VPC内迁移。","type":"string"},"health_status":{"description":"健康状态。\nnormal:表示该保护组处于正常状态。\nabnormal:表示该保护组处于非正常状态。 \n说明:系统近期进行了升级,对于升级后创建的保护组,该字段值为null,无实际意义。","enum":["normal","abnormal","null"],"type":"string"},"id":{"description":"保护组的ID。","type":"string"},"name":{"description":"保护组的名称。","type":"string"},"priority_station":{"description":"用于标识保护组的当前生产站点。\nsource:表示当前生产站点可用区为source_availability_zone的值。\ntarget:表示当前生产站点可用区为target_availability_zone的值。","type":"string"},"progress":{"description":"保护组的同步进度。单位:百分比(%)。","format":"int32","maximum":100,"minimum":0,"type":"integer"},"protected_instance_num":{"description":"该保护组中保护实例的个数。","format":"int32","type":"integer"},"protected_status":{"description":"保护状态。started:表示该保护组开始保护。stopped:表示该保护组停止保护。\n说明:系统近期进行了升级,对于升级后创建的保护组,该字段值为null,无实际意义。","enum":["started","stopped"],"type":"string"},"protection_type":{"description":"保护模式。\nreplication-pair:表示以复制对为单位进行数据同步。\nnull:表示将保护组中的所有复制对作为一个整体进行数据同步。\n 说明:当保护组中的所有复制对作为一个整体进行数据同步时,如果数据同步失败,保护组中的所有复制对都会受到影响。因此,SDRS服务对系统做了优化升级:\n对于升级后创建的资源,默认以复制对为单位进行数据同步,返回值为replication-pair;\n对于已有资源,仍以一个整体进行数据同步,返回值为null。","enum":["replication-pair","null"],"type":"string"},"replication_model":{"description":"复制类型。\n说明:预留参数,暂未启用。","type":"string"},"replication_num":{"description":"该保护组中复制对的个数。","format":"int32","type":"integer"},"replication_status":{"description":"数据同步状态。\nactive:表示数据已同步完成。\ninactive:表示数据未同步。\ncopying:表示数据正在同步。\nactive-stopped:表示数据已停止同步。\n 说明:系统近期进行了升级,对于升级后创建的保护组,该字段值为null,无实际意义。","enum":["active","inactive","copying","active-stopped"],"type":"string"},"server_type":{"description":"管理的服务器类型\nECS:表示管理的服务器类型为云服务器。","type":"string","x-huawei-extraAnnotation":""},"source_availability_zone":{"description":"保护组创建时的生产站点可用区名称。注意:保护组切换、故障切换后,该值不变。","type":"string"},"source_vpc_id":{"description":"生产站点虚拟私有云ID。","type":"string"},"status":{"description":"保护组的状态。","type":"string"},"target_availability_zone":{"description":"保护组创建时的容灾站点可用区名称。注意:保护组切换、故障切换后,该值不变。","type":"string"},"target_vpc_id":{"description":"容灾站点虚拟私有云ID。","type":"string"},"test_vpc_id":{"description":"容灾演练虚拟私有云ID。(该参数暂未使用)","type":"string"},"updated_at":{"description":"更新时间。默认格式为:\"yyyy-MM-dd'T'HH:mm:ss.SSSZ\",例:\"2019-04-01T12:00:00.000Z\"。","type":"string","x-huawei-extraAnnotation":""}},"required":["created_at","description","disaster_recovery_drill_num","domain_id","domain_name","dr_type","health_status","id","name","priority_station","progress","protected_instance_num","protected_status","protection_type","replication_model","replication_num","replication_status","server_type","source_availability_zone","source_vpc_id","status","target_availability_zone","target_vpc_id","test_vpc_id","updated_at"]}},"description":null,"group_id":"10d28b86a3b24bb2a48fbb2befd68709","host":"sdrs.cn-north-4.myhuaweicloud.com","id":"05ed16a787474d27b58963c55e2f415b","info_version":"v1","method":"get","name":"ListProtectionGroups","parameters":{},"paths":{"/v1/{project_id}/server-groups":{"get":{"consumes":[],"deprecated":false,"description":"查询当前租户所有的保护组列表。","operationId":"ListProtectionGroups","parameters":[{"description":"项目ID。","in":"path","name":"project_id","required":true,"type":"string","x-order":1},{"description":"用户Token。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":2},{"default":1000,"description":"每次请求返回结果个数限制,取值范围为[0,1000]的正整数,默认值为1000。","format":"int32","in":"query","maximum":1000,"minimum":0,"name":"limit","required":false,"type":"integer","x-order":3},{"default":0,"description":"每次请求开始的下标,即偏移量,默认值为0。offset必须为数字,不能为负数。","format":"int32","in":"query","minimum":0,"name":"offset","required":false,"type":"integer","x-order":4},{"description":"保护组状态。","in":"query","name":"status","required":false,"type":"string","x-order":5},{"description":"保护组的名称。支持模糊查询。","in":"query","name":"name","required":false,"type":"string","x-order":6},{"description":"查询场景类型。\nstatus_abnormal:表示查询异常状态的保护组列表。\nstop_protected:表示查询停止保护的保护组列表。\nperiod_no_dr_drill:表示查询一段时间未做容灾演练的保护组,默认为三个月。\ngeneral或空时:该参数不生效。","enum":["status_abnormal"," stop_protected","period_no_dr_drill","general"],"in":"query","name":"query_type","required":false,"type":"string","x-order":7},{"description":"保护组的当前生产站点可用区。","in":"query","name":"availability_zone","required":false,"type":"string","x-order":8}],"produces":[],"responses":{"200":{"description":"OK","examples":{"application/json":{"count":2,"server_groups":[{"created_at":"2019-05-23 03:51:58.256","description":"description","disaster_recovery_drill_num":0,"domain_id":"fb4bb8e3-a574-4437-a156-78c916aeea4d","domain_name":"ActiveactiveDomain","dr_type":"migration","health_status":null,"id":"40df180b-9fe2-471a-8c64-1b758dc84189","name":"testname","priority_station":"source","progress":0,"protected_instance_num":0,"protected_status":null,"protection_type":"replication-pair","replication_model":null,"replication_num":0,"replication_status":null,"source_availability_zone":"cn-north-1a","source_vpc_id":"046852ef-c49d-409b-8389-546aaaa5701f","status":"available","target_availability_zone":"cn-north-1b","target_vpc_id":"046852ef-c49d-409b-8389-546aaaa5701f","test_vpc_id":null,"updated_at":"2019-05-23 07:48:12.484"},{"created_at":"2019-05-22 08:16:54.413","description":null,"disaster_recovery_drill_num":0,"domain_id":"fb4bb8e3-a574-4437-a156-78c916aeea4d","domain_name":"ActiveactiveDomain","dr_type":"migration","health_status":null,"id":"decf224d-87fe-403a-8721-037a1a45c287","name":"Protection-Group-lwx","priority_station":"source","progress":0,"protected_instance_num":0,"protected_status":null,"protection_type":"replication-pair","replication_model":null,"replication_num":0,"replication_status":null,"source_availability_zone":"cn-north-1a","source_vpc_id":"046852ef-c49d-409b-8389-546aaaa5701f","status":"available","target_availability_zone":"cn-north-1b","target_vpc_id":"046852ef-c49d-409b-8389-546aaaa5701f","test_vpc_id":null,"updated_at":"2019-05-23 07:48:12.493"}]}},"schema":{"$ref":"#/definitions/ListProtectionGroupsResponseBody"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/JobFailResponse"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/JobFailResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/JobFailResponse"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/JobFailResponse"}},"405":{"description":"Method Not Allowed","schema":{"$ref":"#/definitions/JobFailResponse"}},"406":{"description":"Not Acceptable","schema":{"$ref":"#/definitions/JobFailResponse"}},"407":{"description":"Proxy Authentication Required","schema":{"$ref":"#/definitions/JobFailResponse"}},"408":{"description":"Request Timeout","schema":{"$ref":"#/definitions/JobFailResponse"}},"409":{"description":"Conflict","schema":{"$ref":"#/definitions/JobFailResponse"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/JobFailResponse"}},"501":{"description":"Not Implemented","schema":{"$ref":"#/definitions/JobFailResponse"}},"502":{"description":"Bad Gateway","schema":{"$ref":"#/definitions/JobFailResponse"}},"503":{"description":"Service Unavailable","schema":{"$ref":"#/definitions/JobFailResponse"}},"504":{"description":"Gateway Timeout","schema":{"$ref":"#/definitions/JobFailResponse"}}},"summary":"查询保护组列表","tags":["保护组"],"x-apiexplorer-hide":"","x-apigateway-auth-type":"","x-apigateway-match-mode":"","x-apigateway-request-type":"","x-call_frequency":"","x-constraint":"无","x-ctc":"N","x-first_open_time":"2018-05-30","x-flow_control_group":"QueryProtectionGroups","x-hc":"Y","x-hk":"Y","x-hybridcloud":false,"x-in_cli":"","x-is_calling":"Y","x-is_registered":"Y","x-multi_tenant_flow_time":1,"x-multi_tenant_flow_value":4000,"x-name":"查询保护组列表","x-obc":"Y","x-order":6,"x-otc":"Y","x-publishpath":"","x-request-examples-1":"GET https://{Endpoint}/v1/{project_id}/server-groups","x-request-examples-description-1":"","x-request-examples-text-1":"GET https://{Endpoint}/v1/{project_id}/server-groups","x-request-examples-url-1":"","x-scope":"Commercial","x-source":"SelfDeveloped","x-source_url":"","x-support-sdk":"Y","x-tenant_flow_time":1,"x-tenant_flow_value":2000,"x-timeout":"200s","x-tlf":"N","x-un_cli":"","x-version":"v1"}}},"product_short":"SDRS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询保护组列表","tags":"保护组","uri":null,"version":"2.0"}