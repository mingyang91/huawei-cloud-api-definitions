{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ErrorInfo":{"description":"失败返回信息","properties":{"code":{"description":"错误码","type":"string"},"message":{"description":"错误信息","type":"string"}},"required":["code","message"]},"FailureJobParams":{"description":"失败任务数据结构","properties":{"begin_time":{"description":"任务操作时间。默认格式为:\"yyyy-MM-ddTHH:mm:ss.SSSZ\",例:\"2019-04-01T12:00:00.000Z\"。","type":"string"},"error_code":{"description":"任务失败错误码。","type":"string"},"fail_reason":{"description":"任务失败原因。","type":"string"},"failure_status":{"description":"失败任务状态。createFail:表示创建失败。deleteFail:表示删除失败。attachFail:表示挂载失败。detachFail:表示卸载失败。expandFail:表示扩容失败。resizeFail:表示变更规格失败。startFail:表示开启保护失败。stopFail:表示停止保护失败。reverseFail:表示切换失败。failoverFail:表示故障切换失败。reprotectFail : 表示重保护失败。","enum":["createFail","deleteFail","attachFail","detachFail","expandFail","resizeFail","startFail","stopFail","reverseFail","failoverFail","reprotectFail"],"type":"string"},"job_id":{"description":"任务id。执行异步API命令下发成功的返回参数。","type":"string"},"job_status":{"description":"任务状态。当前仅支持“FAIL”。FAIL:表示任务失败。","enum":["FAIL"],"type":"string"},"job_type":{"description":"任务名称。","type":"string"},"resource_id":{"description":"资源ID。","type":"string"},"resource_name":{"description":"资源名称。","type":"string"},"resource_type":{"description":"资源类型。\nserver_groups:表示保护组。\nprotected_instances:表示保护实例。\nreplications:表示复制对。\ndisaster_recovery_drills:表示容灾演练。","enum":["server_groups","protected_instances","replications","disaster_recovery_drills"],"type":"string"}},"required":["begin_time","error_code","fail_reason","failure_status","job_id","job_status","job_type","resource_id","resource_name","resource_type"]},"JobFailResponse":{"description":"Job失败返回","properties":{"error":{"$ref":"#/definitions/ErrorInfo","description":"失败返回结构"}}},"ListFailureJobsResponseBody":{"description":"查询失败任务列表响应","properties":{"count":{"description":"列表中失败任务个数。","format":"int32","type":"integer"},"failure_jobs":{"description":"失败任务信息列表。","items":{"$ref":"#/definitions/FailureJobParams"},"type":"array"}},"required":["count","failure_jobs"]}},"description":null,"group_id":"10d28b86a3b24bb2a48fbb2befd68709","host":"sdrs.cn-north-4.myhuaweicloud.com","id":"2044816b33824eada9cd51356ff918fe","info_version":"v1","method":"get","name":"ListFailureJobs","parameters":{},"paths":{"/v1/{project_id}/task-center/failure-jobs":{"get":{"consumes":[],"deprecated":false,"description":"查询所有保护组失败任务列表或者指定保护组下的所有失败任务列表。","operationId":"ListFailureJobs","parameters":[{"description":"项目ID。","in":"path","name":"project_id","required":true,"type":"string","x-order":1},{"description":"用户Token。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":2},{"description":"失败任务状态。createFail:表示创建失败。deleteFail:表示删除失败。attachFail:表示挂载失败。detachFail:表示卸载失败。expandFail:表示扩容失败。resizeFail:表示变更规格失败。startFail:表示开启保护失败。stopFail:表示停止保护失败。reverseFail:表示切换失败。failoverFail:表示故障切换失败。reprotectFail : 表示重保护失败。","enum":["createFail","deleteFail","attachFail","detachFail","expandFail","resizeFail","startFail","stopFail","reverseFail","failoverFail","reprotectFail"],"in":"query","name":"failure_status","required":false,"type":"string","x-order":3},{"description":"保护组资源名称。","in":"query","name":"resource_name","required":false,"type":"string","x-order":4},{"description":"保护组ID。","in":"query","name":"server_group_id","required":false,"type":"string","x-order":5},{"description":"资源类型。server_groups:表示保护组。protected_instances:表示保护实例。replications:表示复制对。disaster_recovery_drills:表示容灾演练。","enum":["server_groups","protected_instances","replications","disaster_recovery_drills"],"in":"query","name":"resource_type","required":false,"type":"string","x-order":6},{"default":1000,"description":"每次请求返回结果个数限制。取值范围为[0,1000]的正整数,默认值为1000。","format":"int32","in":"query","maximum":1000,"minimum":0,"name":"limit","required":false,"type":"integer","x-order":7},{"default":0,"description":"每次请求开始的下标,即偏移量,默认值为0。offset必须为数字,不能为负数。","format":"int32","in":"query","minimum":0,"name":"offset","required":false,"type":"integer","x-order":8}],"produces":[],"responses":{"200":{"description":"OK","examples":{"application/json":{"count":2,"failure_jobs":[{"begin_time":"2019-01-21T12:56:35.754Z","error_code":"EVS.2024","fail_reason":"SdrsGenerateNativeServerParamsTask-fail:volume is error!","failure_status":"createFail","job_id":"ff808082686f229a0168707beaab014e","job_status":"FAIL","job_type":"createProtectedInstance","resource_id":"17984002-ad8a-438b-8ba6-b850224634c5","resource_name":"Protected-Instance-ab14","resource_type":"protectedInstance"},{"begin_time":"2019-01-21T12:56:15.591Z","error_code":"EVS.2024","fail_reason":"SdrsGenerateNativeServerParamsTask-fail:volume is error!","failure_status":"createFail","job_id":"ff808082686f229a0168707b9be9013e","job_status":"FAIL","job_type":"createProtectedInstance","resource_id":"897f57b2-6e94-4179-b414-9532726c59f2","resource_name":"Protected-Instance-5e2e","resource_type":"protectedInstance"}]}},"schema":{"$ref":"#/definitions/ListFailureJobsResponseBody"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/JobFailResponse"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/JobFailResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/JobFailResponse"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/JobFailResponse"}},"405":{"description":"Method Not Allowed","schema":{"$ref":"#/definitions/JobFailResponse"}},"406":{"description":"Not Acceptable","schema":{"$ref":"#/definitions/JobFailResponse"}},"407":{"description":"Proxy Authentication Required","schema":{"$ref":"#/definitions/JobFailResponse"}},"408":{"description":"Request Timeout","schema":{"$ref":"#/definitions/JobFailResponse"}},"409":{"description":"Conflict","schema":{"$ref":"#/definitions/JobFailResponse"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/JobFailResponse"}},"501":{"description":"Not Implemented","schema":{"$ref":"#/definitions/JobFailResponse"}},"502":{"description":"Bad Gateway","schema":{"$ref":"#/definitions/JobFailResponse"}},"503":{"description":"Service Unavailable","schema":{"$ref":"#/definitions/JobFailResponse"}},"504":{"description":"Gateway Timeout","schema":{"$ref":"#/definitions/JobFailResponse"}}},"summary":"查询失败任务列表","tags":["任务中心"],"x-apiexplorer-hide":"","x-apigateway-auth-type":"","x-apigateway-match-mode":"","x-apigateway-request-type":"","x-call_frequency":"","x-constraint":"无","x-ctc":"N","x-first_open_time":"2019-01-30","x-flow_control_group":"QueryFailureJobs","x-hc":"Y","x-hk":"Y","x-hybridcloud":false,"x-in_cli":"","x-is_calling":"Y","x-is_registered":"Y","x-multi_tenant_flow_time":1,"x-multi_tenant_flow_value":4000,"x-name":"查询失败任务列表","x-obc":"Y","x-order":44,"x-otc":"Y","x-publishpath":"","x-request-examples-1":"GET https://{Endpoint}/v1/{project_id}/task-center/failure-jobs?server_group_id=XXXXX","x-request-examples-description-1":"","x-request-examples-text-1":"GET https://{Endpoint}/v1/{project_id}/task-center/failure-jobs?server_group_id=XXXXX","x-request-examples-url-1":"","x-scope":"Commercial","x-source":"SelfDeveloped","x-source_url":"","x-support-sdk":"Y","x-tenant_flow_time":1,"x-tenant_flow_value":2000,"x-timeout":"200s","x-tlf":"N","x-un_cli":"","x-version":"v1"}}},"product_short":"SDRS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询失败任务列表","tags":"任务中心","uri":null,"version":"2.0"}