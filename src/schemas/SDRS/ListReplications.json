{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ErrorInfo":{"description":"失败返回信息","properties":{"code":{"description":"错误码","type":"string"},"message":{"description":"错误信息","type":"string"}},"required":["code","message"]},"JobFailResponse":{"description":"Job失败返回","properties":{"error":{"$ref":"#/definitions/ErrorInfo","description":"失败返回结构"}}},"ListReplicationsResponseBody":{"description":"查询复制对列表响应体","properties":{"count":{"description":"列表中包含的复制对个数。","format":"int32","type":"integer"},"replications":{"description":"复制对列表。","items":{"$ref":"#/definitions/ShowReplicationParams"},"type":"array"}},"required":["count","replications"]},"ReplicationAttachment":{"description":"复制对挂载信息数据结构","properties":{"device":{"description":"挂载点。","type":"string"},"protected_instance":{"description":"该复制对挂载的保护实例ID。","type":"string"}},"required":["device","protected_instance"]},"ReplicationRecordMetadata":{"description":"复制对元数据","properties":{"bootable":{"description":"复制对中的云硬盘是否为系统盘。","type":"boolean"},"multiattach":{"description":"复制对中的云硬盘是否为共享云硬盘。","type":"boolean"},"volume_size":{"description":"复制对中的云硬盘容量。单位:GB","format":"int32","type":"integer"},"volume_type":{"description":"复制对中的云硬盘类型。SATA:普通IO磁盘类型。SAS:高IO磁盘类型。SSD:超高IO磁盘类型。co-p1:高IO(性能优化I型)uh-l1:超高IO(时延优化)其中co-p1和uh-l1两种云硬盘只能使用在HANA云服务器、HL1型云服务器、HL2型云服务器上。","enum":["SATA","SAS","SSD","co-p1","uh-l1"],"type":"string"}},"required":["bootable","multiattach","volume_size","volume_type"]},"ShowReplicationParams":{"description":"查询复制对数据结构","properties":{"attachment":{"description":"挂载点。","items":{"$ref":"#/definitions/ReplicationAttachment"},"type":"array"},"created_at":{"description":"创建时间。默认格式为:\"yyyy-MM-ddTHH:mm:ss.SSSZ\",例如:\"2019-04-01T12:00:00.000Z\"","type":"string","x-huawei-extraAnnotation":""},"description":{"description":"复制对的描述。","type":"string"},"failure_detail":{"description":"仅在复制对的状态“status”为“error”时,返回的错误码。","type":"string"},"fault_level":{"description":"复制对的故障等级。0:表示无故障。2:表示当前生产站点的云硬盘无读写数据权限,此时建议执行故障切换操作。5:表示复制链路已断,不能执行故障切换操作,需联系技术支持工程师。","type":"string"},"id":{"description":"复制对的ID。","type":"string"},"name":{"description":"复制对的名称。","type":"string"},"priority_station":{"description":"标识复制对所在保护组的当前生产站点可用区。source:表示当前生产站点可用区为保护组source_availability_zone的值。target:表示当前生产站点可用区为保护组target_availability_zone的值。","type":"string"},"progress":{"description":"复制对的同步进度。单位:百分比(%)。","format":"int32","type":"integer"},"record_metadata":{"$ref":"#/definitions/ReplicationRecordMetadata","description":"复制对的话单数据。"},"replication_model":{"description":"复制对的复制类型。默认值为“hypermetro”,表示同步复制。","type":"string"},"replication_status":{"description":"数据同步状态。active:表示数据已同步完成。inactive:表示数据未同步。copying:表示数据正在同步。active-stopped:表示数据已停止同步。","enum":["active","inactive","copying","active-stopped"],"type":"string"},"server_group_id":{"description":"保护组的ID。","type":"string"},"status":{"description":"复制对的状态。","type":"string"},"updated_at":{"description":"更新时间。默认格式为:\"yyyy-MM-ddTHH:mm:ss.SSSZ\",例如:\"2019-04-01T12:00:00.000Z\"","type":"string","x-huawei-extraAnnotation":""},"volume_ids":{"description":"复制对使用的云硬盘ID。","type":"string"}},"required":["attachment","created_at","description","failure_detail","fault_level","id","name","priority_station","progress","record_metadata","replication_model","replication_status","server_group_id","status","updated_at","volume_ids"]}},"description":null,"group_id":"10d28b86a3b24bb2a48fbb2befd68709","host":"sdrs.cn-north-4.myhuaweicloud.com","id":"d536704c990d43bab715efd779886ae6","info_version":"v1","method":"get","name":"ListReplications","parameters":{},"paths":{"/v1/{project_id}/replications":{"get":{"consumes":[],"deprecated":false,"description":"查询指定保护组下的所有复制对列表,如果不给定指定保护组则查询当前租户下的所有复制对列表。","operationId":"ListReplications","parameters":[{"description":"项目ID。","in":"path","name":"project_id","required":true,"type":"string","x-order":1},{"description":"用户Token。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":2},{"description":"保护组的ID。","in":"query","name":"server_group_id","required":false,"type":"string","x-order":3},{"description":"保护组的ID列表,格式为server_group_ids=['server_group_id1','server_group_id2',...,'server_group_idx'],请使用URL编码进行转换。返回“server_group_ids”中有效server_group_id的复制对列表,无效的server_group_id会被忽略。支持查询最多30个server_group_id对应的复制对列表。如果“server_group_id”和“server_group_ids”查询参数同时存在,“server_group_id”会被忽略。","in":"query","name":"server_group_ids","required":false,"type":"string","x-order":4},{"description":"保护实例的ID。","in":"query","name":"protected_instance_id","required":false,"type":"string","x-order":5},{"description":"保护实例的ID列表,格式为protected_instance_ids=['protected_instance_id1','protected_instance_id2',...,'protected_instance_idx'],请使用URL编码进行转换。返回“protected_instance_ids”中有效protected_instance_id的复制对列表,无效的protected_instance_id会被忽略。支持查询最多30个protected_instance_id对应的复制对列表。如果“protected_instance_id”和“protected_instance_ids”查询参数同时存在,“protected_instance_id”会被忽略。","in":"query","name":"protected_instance_ids","required":false,"type":"string","x-order":6},{"description":"复制对的名称。支持模糊查询。","in":"query","name":"name","required":false,"type":"string","x-order":7},{"description":"复制对的状态。","in":"query","name":"status","required":false,"type":"string","x-order":8},{"default":1000,"description":"每次请求返回结果个数限制,取值范围为[0,1000]的正整数,默认值为1000。","format":"int32","in":"query","maximum":1000,"minimum":0,"name":"limit","required":false,"type":"integer","x-order":9},{"default":0,"description":"每次请求开始的下标,即偏移量,默认值为0。offset必须为数字,不能为负数。","format":"int32","in":"query","minimum":0,"name":"offset","required":false,"type":"integer","x-order":10},{"description":"查询场景类型。如需查询异常状态的复制对列表,query_type的值为“status_abnormal”。否则,query_type取值为空或“general”。","enum":["status_abnormal","general"],"in":"query","name":"query_type","required":false,"type":"string","x-order":11},{"description":"复制对所在的保护组的当前生产站点可用区。","in":"query","name":"availability_zone","required":false,"type":"string","x-order":12}],"produces":[],"responses":{"200":{"description":"OK","examples":{"application/json":{"count":1,"replications":[{"attachment":[{"device":"/dev/vda","protected_instance":"8a7a6339-679b-452b-948c-144e0ef85d9e"}],"created_at":"2018-05-04T03:43:24.108526","description":"description_test","fault_level":"0","id":"b93bc1c4-67ee-45a1-bc8a-d022fdd28811","name":"test_replication_name","priority_station":"source","progress":0,"record_metadata":{"bootable":false,"multiattach":false,"volume_size":10,"volume_type":"SATA"},"replication_model":"hypermetro","server_group_id":"c2aee29a-2959-4d01-9755-01cc76a4d17d","status":"available","updated_at":"2018-05-04T03:44:28.322873","volume_ids":"48dda0c0-c800-46f2-9728-a519ff783d35,388b324a-a9d1-44a4-a00d-42085f22a9bc"}]}},"schema":{"$ref":"#/definitions/ListReplicationsResponseBody"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/JobFailResponse"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/JobFailResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/JobFailResponse"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/JobFailResponse"}},"405":{"description":"Method Not Allowed","schema":{"$ref":"#/definitions/JobFailResponse"}},"406":{"description":"Not Acceptable","schema":{"$ref":"#/definitions/JobFailResponse"}},"407":{"description":"Proxy Authentication Required","schema":{"$ref":"#/definitions/JobFailResponse"}},"408":{"description":"Request Timeout","schema":{"$ref":"#/definitions/JobFailResponse"}},"409":{"description":"Conflict","schema":{"$ref":"#/definitions/JobFailResponse"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/JobFailResponse"}},"501":{"description":"Not Implemented","schema":{"$ref":"#/definitions/JobFailResponse"}},"502":{"description":"Bad Gateway","schema":{"$ref":"#/definitions/JobFailResponse"}},"503":{"description":"Service Unavailable","schema":{"$ref":"#/definitions/JobFailResponse"}},"504":{"description":"Gateway Timeout","schema":{"$ref":"#/definitions/JobFailResponse"}}},"summary":"查询复制对列表","tags":["复制对"],"x-apiexplorer-hide":"","x-apigateway-auth-type":"","x-apigateway-match-mode":"","x-apigateway-request-type":"","x-call_frequency":"","x-constraint":"无","x-ctc":"N","x-first_open_time":"2018-05-30","x-flow_control_group":"QueryReplication","x-hc":"Y","x-hk":"Y","x-hybridcloud":false,"x-in_cli":"","x-is_calling":"Y","x-is_registered":"Y","x-multi_tenant_flow_time":1,"x-multi_tenant_flow_value":4000,"x-name":"查询复制对列表","x-obc":"Y","x-order":28,"x-otc":"Y","x-publishpath":"","x-request-examples-1":"GET https://{Endpoint}/v1/{project_id}/replications","x-request-examples-description-1":"","x-request-examples-text-1":"GET https://{Endpoint}/v1/{project_id}/replications","x-request-examples-url-1":"","x-scope":"Commercial","x-source":"SelfDeveloped","x-source_url":"","x-support-sdk":"Y","x-tenant_flow_time":1,"x-tenant_flow_value":2000,"x-timeout":"200s","x-tlf":"N","x-un_cli":"","x-version":"v1"}}},"product_short":"SDRS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询复制对列表","tags":"复制对","uri":null,"version":"2.0"}