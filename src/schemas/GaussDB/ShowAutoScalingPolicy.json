{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"MysqlErrorResponse":{"properties":{"error_code":{"description":"错误码。","example":"DBS.200022","type":"string"},"error_msg":{"description":"错误消息。","example":"实例不存在","type":"string"}},"required":["error_code","error_msg"]},"ScalingStrategyInfo":{"description":"自动变配策略。","properties":{"flavor_switch":{"description":"扩缩规格开关。\n- ON:开启。\n- OFF:关闭。","type":"string"},"read_only_switch":{"description":"增删只读节点开关。\n- ON:开启。\n- OFF:关闭。","type":"string"}}},"ShowAutoScalingPolicyResp":{"properties":{"enlarge_threshold":{"description":"扩容阈值(百分比数值),指CPU平均使用率。","type":"integer"},"id":{"description":"自动变配策略ID。","type":"string"},"instance_id":{"description":"实例ID。","type":"string"},"instance_name":{"description":"实例名称。","type":"string"},"max_flavor":{"description":"扩容规格上限。","type":"string"},"max_read_only_count":{"description":"只读节点数量上限。","type":"integer"},"min_flavor":{"description":"缩容规格下限。","type":"string"},"min_read_only_count":{"description":"只读节点数量下限。","type":"integer"},"monitor_cycle":{"description":"监测周期(单位:秒)。\n在整个观测窗口期内,若CPU平均使用率大于等于设定值,则在观测窗口结束后,进行扩容。","type":"integer"},"read_only_weight":{"description":"只读节点读写分离权重。","type":"integer"},"reduce_enabled":{"description":"自动回缩开关状态。\n\n取值:\n\n- true:已开启\n- false:已关闭","type":"boolean"},"scaling_strategy":{"$ref":"#/definitions/ScalingStrategyInfo"},"silence_cycle":{"description":"静默周期(单位:秒)。\n两次自动扩容或自动回缩的最小间隔时间。","type":"integer"},"silence_start_at":{"description":"静默期开始时间(上一次变更结束时间)。\n\n格式为\"yyyy-mm-ddThh:mm:ssZ\"。 其中,T指某个时间的开始;Z指时区偏移量,例如北京时间偏移显示为+0800。","type":"string"},"status":{"description":"自动变配开关状态。\n\n取值:\n\n- ON:已开启\n- OFF:已关闭","example":"ON","type":"string"}}}},"description":null,"group_id":"1bf15763f8164608918d180a9b1aa137","host":"gaussdb.cn-north-4.myhuaweicloud.com","id":"2d57bed901f348838a082a53293de10e","info_version":"v3","method":"get","name":"ShowAutoScalingPolicy","parameters":{},"paths":{"/v3/{project_id}/instances/{instance_id}/auto-scaling/policy":{"get":{"description":"查询自动变配。","operationId":"ShowAutoScalingPolicy","parameters":[{"description":"用户Token。\n\n通过调用IAM服务[获取用户Token](https://support.huaweicloud.com/api-iam/iam_30_0001.html)接口获取。\n\n请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。\n","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"******"},{"description":"请求语言类型。默认en-us。\n取值范围:\n- en-us\n- zh-cn","in":"header","name":"X-Language","required":false,"type":"string","x-example":"zh-cn"},{"description":"内容类型。\n\n取值:application/json。\n","in":"header","name":"Content-Type","required":true,"type":"string","x-example":"application/json"},{"description":"租户在某一Region下的project ID。                          \n\n获取方法请参见[获取项目ID](https://support.huaweicloud.com/api-gaussdbformysql/gaussdbformysql_10_0004.html)。\n","in":"path","name":"project_id","required":true,"type":"string","x-example":"619d3e78f61b4be68bc5aa0b59edcf7b"},{"description":"实例ID,严格匹配UUID规则。","in":"path","name":"instance_id","required":true,"type":"string","x-example":"61a4ea66210545909d74a05c27a7179ein07"}],"produces":["application/json"],"responses":{"200":{"description":"Success.","schema":{"$ref":"#/definitions/ShowAutoScalingPolicyResp"},"x-response-examples-1":{"application/json":{"enlarge_threshold":50,"id":"26d8e193-1ea0-4adb-89d0-d1343399d0e7","instance_id":"41ff7519e22d44eea6066615fa5b17c7in07","instance_name":"gauss-test-1","max_flavor":"gaussdb.mysql.large.x86.4","max_read_only_count":2,"min_flavor":"gaussdb.mysql.medium.x86.4","min_read_only_count":1,"monitor_cycle":300,"read_only_weight":10,"reduce_enabled":false,"scaling_strategy":{"flavor_switch":"ON","read_only_switch":"ON"},"silence_cycle":300,"silence_start_at":"2023-08-31T08:59:09+0000","status":"ON"}},"x-response-examples-2":{"application/json":{"enlarge_threshold":null,"id":null,"instance_id":"41ff7519e22d44eea6066615fa5b17c7in07","instance_name":"gauss-test-1","max_flavor":null,"max_read_only_count":null,"min_flavor":null,"min_read_only_count":null,"monitor_cycle":null,"read_only_weight":null,"reduce_enabled":null,"scaling_strategy":{"flavor_switch":"","read_only_switch":""},"silence_cycle":null,"silence_start_at":"","status":"OFF"}},"x-response-examples-description-1":"自动变配开启时查询自动变配。","x-response-examples-description-2":"自动变配关闭时查询自动变配。"},"400":{"description":"Client error.","schema":{"$ref":"#/definitions/MysqlErrorResponse"}},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/MysqlErrorResponse"}}},"summary":"查询自动变配","tags":["实例管理"],"x-is-registered":"N","x-request-examples-description-1":"查询自动变配。","x-request-examples-url-1":"GET https://{endpoint}/v3/97b026aa9cc4417888c14c84a1ad9860/instances/61a4ea66210545909d74a05c27a7179ein07/auto-scaling/policy","x-support-sdk":"Y"}}},"product_short":"GaussDB","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询自动变配","tags":"实例管理","uri":null,"version":"2.0"}