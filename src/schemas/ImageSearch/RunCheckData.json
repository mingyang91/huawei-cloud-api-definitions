{"base_path":null,"components":null,"consumes":"[\"application/json\"]","definitions":{"CheckDataResponse":{"properties":{"data":{"$ref":"#/definitions/CheckRestInfo"},"result":{"description":"检查数据完成返回success。","type":"string"}},"type":"object"},"CheckInfo":{"description":"检查结果的相关信息。","properties":{"last_item":{"$ref":"#/definitions/SearchAfterParam","description":"最后一个检查结果的排序信息。"},"return_num":{"description":"返回的结果总数。","format":"int32","type":"integer"},"total_num":{"description":"符合条件的结果总数。","format":"int32","type":"integer"}},"type":"object"},"CheckParam":{"properties":{"custom_num_tags":{"additionalProperties":{"$ref":"#/definitions/RangeParam"},"description":"自定义数值标签,用于对服务实例中的数据进行条件查找。格式为键值对{key:value}。\n- key: 必须为服务实例custom_num_tags中已存在的key,可在创建服务实例时进行配置,或在更新服务实例时进行新增。针对没有设置该数值标签的数据,会直接过滤。\n- value: 标签值的取值范围,标签值在给定的取值范围内即视为符合条件。","type":"object"},"custom_tags":{"additionalProperties":{"items":{"description":"自定义字符标签值","maxLength":64,"minLength":1,"type":"string"},"maxItems":32,"minItems":1,"type":"array"},"description":"自定义字符标签,用于对服务实例中的数据进行条件查找。格式为键值对{key:value}。\n- key: 必须为服务实例custom_tags中已存在的key,可在创建服务实例时进行配置,或在更新服务实例时进行新增。\n- value: 标签值列表,列表内多个标签值为“或”关系,即满足一个即可。列表长度范围为[1, 32],标签值类型为字符串,字符长度范围为[1, 64]。","type":"object"},"item_id":{"description":"数据的服务实例级唯一标识,字符长度范围为[1, 256]。\n- item_id/custom_tags/custom_num_tags中必须给定至少一个参数,以支持对服务实例中的数据进行指定ID检查或条件检查。\n- 如给定item_id参数,则进行指定ID检查,否则进行条件检查。","maxLength":256,"minLength":1,"type":"string"},"last_item":{"$ref":"#/definitions/SearchAfterParam","description":"前一次检查的最后一个检查结果的排序信息。仅对条件检查生效,可将上一次检查返回结果中的last_item字段直接用于此处。"},"limit":{"default":10,"description":"返回检查结果的数量,默认为10,取值范围为[1, 100]。仅对条件检查生效。","format":"int32","maximum":100,"minimum":1,"type":"integer"}},"type":"object"},"CheckRestInfo":{"description":"检查数据的相关信息。","properties":{"check_info":{"$ref":"#/definitions/CheckInfo","description":"检查结果的相关信息,仅在条件检查时包含该字段。"},"existed":{"description":"数据是否存在,存在返回true,不存在返回false。仅在指定ID检查时包含该字段。","type":"boolean"},"item_info":{"$ref":"#/definitions/ItemSource","description":"数据的元信息,仅在指定ID检查时包含该字段。"},"items":{"description":"检查结果列表,仅在条件检查时包含该字段。","items":{"$ref":"#/definitions/SearchItem"},"type":"array"}},"type":"object"},"ErrorResponse":{"properties":{"error_code":{"description":"请求失败时的错误编码,请求成功时无此字段。","type":"string"},"error_msg":{"description":"请求失败时的错误信息,请求成功时无此字段。","type":"string"}},"type":"object"},"ItemSource":{"description":"数据的元信息,不同数据包含的字段可能不同。","properties":{"custom_num_tags":{"additionalProperties":{"format":"double","type":"number"},"description":"数据自定义数值标签。","type":"object"},"custom_tags":{"additionalProperties":{"type":"string"},"description":"数据自定义字符标签。","type":"object"},"desc":{"description":"数据描述信息。","type":"string"},"keywords":{"description":"数据关键词列表。","items":{"type":"string"},"type":"array"}},"type":"object"},"RangeParam":{"description":"数值范围参数结构体。","properties":{"from":{"description":"数值下界,默认包含该下界。","format":"double","type":"number"},"to":{"description":"数值上界,默认包含该上界。","format":"double","type":"number"}},"type":"object"},"SearchAfterParam":{"description":"最后一个结果的排序信息,用于全量召回场景。\n- 目前仅KEYWORD搜索和条件检查支持全量召回。","properties":{"id":{"description":"结果的唯一ID。","type":"string"},"score":{"description":"结果的得分。","format":"double","type":"number"}},"type":"object"},"SearchItem":{"description":"搜索结果参数结构体。","properties":{"id":{"description":"数据唯一ID。","type":"string"},"score":{"description":"数据匹配分数。","format":"double","type":"number"},"source":{"$ref":"#/definitions/ItemSource"}},"type":"object"}},"description":null,"group_id":"066e5d262ff9447f8d9790f171b1c42a","host":"mms.cn-north-4.myhuaweicloud.com","id":"c80ab5006fb94a59aa4ae3e4123de97a","info_version":"v2","method":"post","name":"RunCheckData","parameters":{},"paths":{"/v2/{project_id}/mms/{service_name}/data/check":{"post":{"description":"检查指定服务实例中的对应数据,支持指定ID检查和条件检查。","operationId":"RunCheckData","parameters":[{"description":"服务实例所属的项目ID,登陆华为云->用户中心->我的凭证->API凭证,即可查看对应区域的项目ID。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"服务实例的名称,用户创建服务实例时指定。","in":"path","name":"service_name","required":true,"type":"string"},{"description":"检查数据的请求body参数。","in":"body","name":"checkParam","required":true,"schema":{"$ref":"#/definitions/CheckParam"}}],"responses":{"200":{"description":"检查数据的响应body参数。","examples":{"application/json":{"data":{"existed":true,"item_info":{"custom_num_tags":{"year":2022},"custom_tags":{"brand":"HUAWEI"},"desc":"行摄天地,纵横自然,我心宇宙"}},"result":"success"}},"schema":{"$ref":"#/definitions/CheckDataResponse"}},"400":{"description":"BAD REQUEST","examples":{"application/json":{"error_code":"MMS.0003","error_msg":"Invalid parameter: item_id"}},"schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"FORBIDDEN","examples":{"application/json":{"error_code":"MMS.0001","error_msg":"Request is unauthorized."}},"schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"INTERNAL SERVER ERROR","examples":{"application/json":{"error_code":"MMS.1015","error_msg":"Process INDEX failed."}},"schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"检查数据","tags":["检查数据"],"x-apiexplorer-hide":"N","x-is-registered":"Y","x-request-examples-1":{"item_id":"electronics_01"},"x-request-examples-description-1":"检查数据","x-request-examples-url-1":"POST https://{endpoint}/v2/{project_id}/mms/{service_name}/data/check","x-support-sdk":"Y"}}},"product_short":"ImageSearch","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"检查数据","tags":"检查数据","uri":null,"version":"2.0"}