{"base_path":"/","components":null,"consumes":"","definitions":{"CertDistinguishedName":{"properties":{"common_name":{"description":"证书通用名称(CN),名称只能由\"-\"、\"_\"、\" \"、\".\"、\",\"、\"*\"、字母、数字、汉字组成,长度不能超过64位字符。","maxLength":64,"minLength":1,"type":"string"},"country":{"description":"国家编码,只能由英文组成,长度为2位字符。若不传入,则默认继承父CA对应的值。","maxLength":2,"minLength":2,"type":"string"},"locality":{"description":"地区名称,名称只能由\"-\"、\"_\"、\" \"、\".\"、\",\"、字母、数字、汉字组成,长度不能超过128位字符。若不传入,则默认继承父CA对应的值。","maxLength":128,"minLength":1,"type":"string"},"organization":{"description":"组织名称,名称只能由\"-\"、\"_\"、\" \"、\".\"、\",\"、字母、数字、汉字组成,长度不能超过64位字符。若不传入,则默认继承父CA对应的值。","maxLength":64,"minLength":1,"type":"string"},"organizational_unit":{"description":"组织单元名称,名称只能由\"-\"、\"_\"、\" \"、\".\"、\",\"、字母、数字、汉字组成,长度不能超过64位字符。若不传入,则默认继承父CA对应的值。","maxLength":64,"minLength":1,"type":"string"},"state":{"description":"省市名称,名称只能由\"-\"、\"_\"、\" \"、\".\"、\",\"、字母、数字、汉字组成,长度不能超过128位字符。若不传入,则默认继承父CA对应的值。","maxLength":128,"minLength":1,"type":"string"}},"required":["common_name"],"title":"CertDistinguishedName","type":"object"},"CreateCertificateRequestBody":{"properties":{"customized_extension":{"$ref":"#/definitions/CustomizedExtension","description":"自定义扩展信息,详情请参见**CustomizedExtension**字段数据结构说明。"},"distinguished_name":{"$ref":"#/definitions/CertDistinguishedName","description":"证书名称配置,详情请参见**CertDistinguishedName**字段数据结构说明。"},"enterprise_project_id":{"description":"企业多项目ID。用户未开通企业多项目时,不需要输入该字段。 用户开通企业多项目时,查询资源可以输入该字段。 若用户不输入该字段,默认查询租户所有有权限的企业多项目下的资源。 此时“enterprise_project_id”取值为“all”。 若用户输入该字段,取值满足以下任一条件.\n  取值为“all”\n  取值为“0”\n  满足正则匹配:“^[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}$”","type":"string"},"extended_key_usage":{"$ref":"#/definitions/ExtendedKeyUsage","description":"增强型密钥用法,详情请参见**ExtendedKeyUsage**字段数据结构说明。"},"issuer_id":{"description":"父CA证书ID。","maxLength":36,"minLength":36,"type":"string"},"key_algorithm":{"description":"密钥算法,可选值如下:\n  - **RSA2048** : RSA算法,密钥长度2048位;\n  - **RSA4096** : RSA算法,密钥长度4096位;\n  - **EC256** : 椭圆曲线算法(Elliptic Curve Digital Signature Algorithm (ECDSA)),密钥长度256位;\n  - **EC384** : 椭圆曲线算法(Elliptic Curve Digital Signature Algorithm (ECDSA)),密钥长度384位;\n  - **SM2** : 国家密码管理局颁发的椭圆曲线算法(签名哈希算法SM3),密钥长度256位。(中国站)","type":"string"},"key_usages":{"description":"密钥用法,具体标准参见RFC 5280中:[4.2.1.3节](https://datatracker.ietf.org/doc/html/rfc5280#section-4.2.1.3)。\n  - **digitalSignature** : 数字签名;\n  - **nonRepudiation** : 不可抵赖;\n  - **keyEncipherment** : 密钥用于加密密钥数据;\n  - **dataEncipherment** : 用于加密数据;\n  - **keyAgreement** : 密钥协商;\n  - **keyCertSign** : 签发证书;\n  - **cRLSign** : 签发吊销列表;\n  - **encipherOnly** : 仅用于加密;\n  - **decipherOnly** : 仅用于解密。","items":{"type":"string"},"type":"array"},"signature_algorithm":{"description":"签名哈希算法,可选值如下:\n  - **SHA256**\n  - **SHA384**\n  - **SHA512**\n  - **SM3**(中国站)","type":"string"},"subject_alternative_names":{"description":"主体备用名称,详情请参见**SubjectAlternativeName**字段数据结构说明。\n  - array大小:[0,20]。","items":{"$ref":"#/definitions/SubjectAlternativeName"},"maxItems":20,"minItems":0,"type":"array"},"validity":{"$ref":"#/definitions/Validity","description":"证书有效期,详情请参见**Validity**字段数据结构说明。"}},"required":["key_algorithm","issuer_id","validity","signature_algorithm","distinguished_name"],"title":"CreateCertificateRequestBody","type":"object"},"CreateCertificateResponseBody":{"properties":{"certificate_id":{"description":"当前签发的证书ID。","maxLength":36,"minLength":36,"type":"string"}},"required":["certificate_id"],"title":"CreateCertificateResponseBody"},"CustomizedExtension":{"properties":{"object_identifier":{"description":"对象标识符。\n> 本参数需要满足ASN1规范的点分十进制符号格式的字符串,如1.3.6.1.4.1.2011.4.99。","maxLength":64,"minLength":1,"type":"string"},"value":{"description":"自定义属性内容。","maxLength":64,"minLength":1,"type":"string"}},"title":"CustomizedExtension","type":"object"},"Error":{"properties":{"error_code":{"description":"错误请求返回的错误码。","maxLength":36,"minLength":3,"type":"string"},"error_msg":{"description":"错误请求返回的错误信息。","maxLength":1024,"minLength":0,"type":"string"}},"required":["error_code","error_msg"],"title":"Error","type":"object"},"ExtendedKeyUsage":{"properties":{"client_auth":{"default":false,"description":"客户端身份验证,OID为:1.3.6.1.5.5.7.3.2。\n- **true**\n- **false**\n> 客户端证书请启用本增强型密钥用法,默认为false。","type":"boolean"},"code_signing":{"default":false,"description":"代码签名,OID为:1.3.6.1.5.5.7.3.3。\n- **true**\n- **false**\n> 签署可下载的可执行代码客户端认证,默认为false。","type":"boolean"},"email_protection":{"default":false,"description":"安全电子邮件,OID为:1.3.6.1.5.5.7.3.4。\n- **true**\n- **false**\n> 电子邮件保护,默认为false。","type":"boolean"},"server_auth":{"default":false,"description":"服务器身份验证,OID为:1.3.6.1.5.5.7.3.1。\n- **true**\n- **false**\n> 服务器证书请启用本增强型密钥用法,默认为false。","type":"boolean"},"time_stamping":{"default":false,"description":"时间戳,OID为:1.3.6.1.5.5.7.3.8。\n- **true**\n- **false**\n> 将一个对象的哈希绑定到一个时间,默认为false。","type":"boolean"}},"title":"ExtendedKeyUsage","type":"object"},"SubjectAlternativeName":{"properties":{"type":{"description":"备用名称类型,当前仅支持DNS、IP、EMAIL、URI。\n- **DNS**\n- **IP**\n- **EMAIL**\n- **URI**","type":"string"},"value":{"description":"对应备用名称类型的值。\n  - DNS类型,长度为不超过253;\n  - IP类型,长度不超过39,支持IPV4、IPV6;\n  - EMAIL类型,长度不超过256;\n  - URI类型,长度不超过253。","type":"string"}},"required":["type","value"],"title":"SubjectAlternativeName","type":"object"},"Validity":{"properties":{"start_from":{"description":"起始时间,为可选值:\n  - 格式为时间戳(毫秒级),如1645146939688代表2022-02-18 09:15:39;\n  - 不早于当前时间5分钟,即start_from > (current_time - 5min)。","format":"int32","type":"integer"},"type":{"description":"有效期类型,为必填值:\n  - **YEAR** : 年(12个月)\n  - **MONTH** : 月(统一按31天)\n  - **DAY** : 日\n  - **HOUR** : 小时","type":"string"},"value":{"description":"证书有效期值,与type对应的类型值,换算成年需满足以下规则:\n  - 根CA,有效期小于等于30年;\n  - 从属CA与私有证书,有效期小于等于20年。","format":"int32","type":"integer"}},"required":["type","value"],"title":"Validity","type":"object"}},"description":null,"group_id":"eeb1572024bc43b3a048b9c50f8e189d","host":"ccm.cn-north-4.myhuaweicloud.com","id":"dac1b6db4dc943ad88eaba6d76bf98c9","info_version":"v1","method":"post","name":"CreateCertificate","parameters":{},"paths":{"/v1/private-certificates":{"post":{"consumes":["application/json"],"deprecated":false,"description":"申请证书。","operationId":"CreateCertificate","parameters":[{"description":"用户token,参见:[IAM token获取方法](https://support.huaweicloud.com/api-iam/iam_30_0001.html)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIePgYJKoZIhvcNAQcCoIIeLzCCHisCAQExDTALBglghkgBZQMEAgEwghxOBgkqhkiG9w0BBwGgghw..."},{"description":"CreateCertificateRequestBody","in":"body","name":"CreateCertificateRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateCertificateRequestBody"}}],"produces":["application/json"],"responses":{"200":{"description":"请求已成功","examples":{"application/json":{"certificate_id":"ae9a326a-b61e-4446-854d-cda30ffe31f5"}},"schema":{"$ref":"#/definitions/CreateCertificateResponseBody"}},"400":{"description":"请求参数有误。","examples":{"application/json":{"error_code":"PCA.XXX","error_msg":"XXX"}},"schema":{"$ref":"#/definitions/Error"}},"401":{"description":"被请求的页面需要鉴权。","examples":{"application/json":{"error_code":"PCA.XXX","error_msg":"XXX"}},"schema":{"$ref":"#/definitions/Error"}},"403":{"description":"认证失败。","examples":{"application/json":{"error_code":"PCA.XXX","error_msg":"XXX"}},"schema":{"$ref":"#/definitions/Error"}},"404":{"description":"资源不存在或资源未找到。","examples":{"application/json":{"error_code":"PCA.XXX","error_msg":"XXX"}},"schema":{"$ref":"#/definitions/Error"}},"500":{"description":"服务内部错误。","examples":{"application/json":{"error_code":"PCA.XXX","error_msg":"XXX"}},"schema":{"$ref":"#/definitions/Error"}}},"summary":"申请证书","tags":["私有证书管理"],"x-is-registered":"Y","x-request-examples-1":{"distinguished_name":{"common_name":"TestCert","country":"CN","locality":"Chengdu","organization":"Huawei","organizational_unit":"CloudBU","state":"Sichuan"},"issuer_id":"2cb2878b-6cd1-460d-bd25-afe655159bdc","key_algorithm":"RSA2048","key_usages":["digitalSignature","nonRepudiation"],"signature_algorithm":"SHA256","subject_alternative_names":[{"type":"IP","value":"156.127.116.38"}],"validity":{"type":"YEAR","value":3}},"x-request-examples-description-1":"申请证书,请求头中的**X-Auth-Token**字段需要填写token,且该token需要具有本API的访问权限。","x-request-examples-url-1":"POST https://ccm.cn-north-4.myhuaweicloud.com/v1/private-certificates","x-support-sdk":"Y"}}},"product_short":"CCM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"申请证书","tags":"私有证书管理","uri":null,"version":"2.0"}