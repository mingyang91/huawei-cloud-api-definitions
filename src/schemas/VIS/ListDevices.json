{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"Access_Strategy":{"properties":{"end_time":{"description":"接入策略结束时间,格式为HH:MM(UTC+8)。","example":"12:00","type":"string"},"periodicity":{"description":"接入周期类型。\n- ONCE:执行一次。\n- DAY:每天执行。","example":"DAY","type":"string"},"random_strategy":{"description":"接入类型。\n- RANDOM:随机接入。\n- CONSECUTIVE:连续接入。","example":"RANDOM","type":"string"},"start_time":{"description":"接入策略开始时间,格式为HH:MM(UTC+8)。","example":"10:40","type":"string"},"state":{"description":"当前接入策略启用状态如下。\n- STOPPED:已停用。\n- ACTIVE:已启用。","example":"STOPPED","type":"string"},"total_length":{"description":"接入总时长,以分钟为单位。","example":"10","type":"string"}}},"Channels":{"properties":{"access_strategy":{"$ref":"#/definitions/Access_Strategy","description":"视频定时接入策略。","type":"array"},"channel_id":{"description":"通道ID。","example":"3402000000**********","type":"string"},"created_at":{"description":"通道注册时间,格式为:YYYY-MM-DDTHH:MM:SSZ(UTC时间)。","example":"2019-04-17T12:26:24Z","type":"string"},"device_id":{"description":"设备ID。","example":"3402000000**********","type":"string"},"invitation_status":{"description":"邀约状态如下。\n- UNREGISTERED:未注册。\n- ONLINE:未邀约。\n- INVITING:正在邀约。\n- INVITE_SUCCESS:邀约成功。\n- CANCELING:正在取消。\n- TEMPORARY_OFFLINE:暂时掉线。\n- OFFLINE:已下线。","example":"OFFLINE","type":"string"},"stream_id":{"description":"通道关联的视频流ID。","example":"stream-0P5g9fQ2","type":"string"},"stream_name":{"description":"通道关联的视频流名称。","example":"channel_2388252780**********_3402000000**********","type":"string"},"suffix":{"description":"视频流名称后缀。","example":"xc","type":"string"},"tcp_priority":{"description":"是否配置通道优先选择TCP协议传输。取值范围如下。\n- TRUE:是。\n- FALSE:否。\n\n默认值FALSE。","example":"FALSE","type":"string"},"tcp_support":{"description":"通道是否支持TCP协议传输。取值范围如下。\n- TRUE:是。\n- FALSE:否。\n\n默认值FALSE。","example":"FALSE","type":"string"},"updated_at":{"description":"通道更新时间,格式为:YYYY-MM-DDTHH:MM:SSZ(UTC时间)。","example":"2019-04-16T01:43:11Z","type":"string"}}},"GetDeviceListResponseBody":{"properties":{"auto_invite":{"description":"自动邀约。","example":true,"type":"boolean"},"channels":{"description":"通道列表详情。","items":{"$ref":"#/definitions/Channels"},"type":"array"},"channels_query":{"description":"设备通道更新状态。\n- IDEL:表示设备通道列表未进行更新,或者更新失败。\n- QUERYING:表示设备通道列表更新中。\n- QUERIED:表示设备通道列表更新成功。","example":"QUERIED","type":"string"},"created_at":{"description":"设备注册时间。","example":"2019-04-15T09:37:58Z","type":"string"},"description":{"description":"描述信息。","example":"","type":"string"},"device_id":{"description":"设备ID。","example":"3402000000**********","type":"string"},"state":{"description":"设备状态。","example":"UNREGISTERED","type":"string"},"suffix":{"description":"视频流名称后缀。","example":null,"type":"string"},"type":{"description":"设备类型。","example":"NVR","type":"string"},"updated_at":{"description":"更新时间。","example":"2019-04-17T14:30:02Z","type":"string"},"username":{"description":"设备注册时所使用的GB/T28181用户名。","example":"2388252780**********","type":"string"}}}},"description":null,"group_id":"5346b7c1dc284228a28795d5bcbd550d","host":"vis.cn-north-4.myhuaweicloud.com","id":"c598098984a14aecbd463c3bb3f6edbb","info_version":"v1","method":"get","name":"ListDevices","parameters":{"Authorization":{"description":"使用AK/SK方式认证时必选,携带的鉴权信息。","in":"header","maxLength":256,"minLength":1,"name":"Authorization","required":false,"type":"string","x-example":"SDK-HMAC-SHA256 Access=xxx, SignedHeaders=content-type;host;x-sdk-date, Signature=xxx"},"X-Auth-Token":{"description":"普通租户的token。","in":"header","maxLength":10240,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string"},"X-Project-Id":{"description":"使用AK/SK方式认证时必选,携带项目ID信息。","in":"header","maxLength":64,"minLength":1,"name":"X-Project-Id","required":false,"type":"string","x-example":"70b76xxxxxx34253880af501cdxxxxxx"},"X-Sdk-Date":{"description":"使用AK/SK方式认证时必选,请求的发生时间。","in":"header","maxLength":256,"minLength":1,"name":"X-Sdk-Date","required":false,"type":"string","x-example":"20191115T033655Z"},"project_id":{"description":"项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)","in":"path","maxLength":32,"minLength":32,"name":"project_id","required":true,"type":"string"}},"paths":{"/v1/{project_id}/devices":{"get":{"consumes":[],"deprecated":false,"description":"此接口用于获取已经注册成功的GB/T28181设备列表。","operationId":"ListDevices","parameters":[{"$ref":"#/parameters/project_id"},{"$ref":"#/parameters/X-Auth-Token"},{"$ref":"#/parameters/Authorization"},{"$ref":"#/parameters/X-Sdk-Date"},{"$ref":"#/parameters/X-Project-Id"},{"description":"查询的开始位置,取值范围为1~100000,必须与limit一起使用。与limit同时缺省时,返回所有结果。该参数适用于所有查询列表的接口。如果offset超过数据总条数,则结果返回空列表。","in":"query","name":"offset","required":false,"type":"integer","x-example":"22"},{"description":"返回结果的最大条目数,取值范围为1~1000,必须与offset一起使用。与offset同时缺省时,返回所有结果。该参数适用于所有查询列表的接口。","in":"query","name":"limit","required":false,"type":"integer","x-example":"33"},{"description":"返回结果的排序规则。\n- ASC:表示升序。\n- DESC:表示降序。\n\n默认为ASC,需要有offset和limit参数,sort参数才会生效。","in":"query","name":"sort","required":false,"type":"string","x-example":"ASC"},{"description":"排序的字段,取值范围。\n- username:用户名。\n- device_id:设备Id。\n- created_at:视频流创建时间。\n- updated_at:最后更新时间。\n\n默认值为created_at,即按照创建时间排序。需要配置offset和limit参数,order_by参数才会生效。","in":"query","name":"order_by","required":false,"type":"string","x-example":"device_id"},{"description":"按照设备ID过滤,支持模糊查询。","in":"query","name":"device_id","required":false,"type":"string","x-example":"3402000000**********"},{"description":"按照设备类型过滤,可选参数为IPC。","in":"query","name":"type","required":false,"type":"string","x-example":"IPC"},{"description":"按照设备状态过滤,取值范围。\n- UNREGISTERED:未注册。\n- ONLINE:未邀约。\n- OFFLINE:已下线。\n\n不区分大小写。","in":"query","name":"state","required":false,"type":"string","x-example":"UNREGISTERED"}],"produces":[],"responses":{"200":{"description":"正常","examples":{"application/json":[{"channels":[{"access_strategy":{"end_time":"12:00","periodicity":"DAY","random_strategy":"RANDOM","start_time":"10:40","state":"STOPPED","total_length":10},"channel_id":"34020000001310******","created_at":"2019-04-16T01:43:11Z","device_id":"238825***801180000***","invitation_status":"OFFLINE","stream_id":"stream-0P5g9fQ2","stream_name":"channel_23882527801180******","suffix":"xc","tcp_priority":"FALSE","tcp_support":"FALSE","updated_at":"2019-04-17T12:26:24Z"}],"channels_query":"QUERIED","created_at":"2019-04-15T09:37:58Z","description":null,"device_id":"238**527801180000***","state":"OFFLINE","suffix":null,"type":"NVR","updated_at":"2019-04-17T14:30:02Z","username":"user****"}]},"schema":{"$ref":"#/definitions/GetDeviceListResponseBody"}},"400":{"description":"请求错误","examples":{"application/json":{"error_code":"VIS.0005","error_msg":"Invalid request parameter, offset should be in range [0, 100000]."}}}},"summary":"获取设备列表","tags":["设备管理"],"x-apiexplorer-hide":"N","x-is-registered":"Y","x-name":"获取设备列表","x-request-examples-url-1":"GET /v1/3266392d188c47d09948b1**********/devices","x-support-sdk":"Y"}}},"product_short":"VIS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"获取设备列表","tags":"设备管理","uri":null,"version":"2.0"}