{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CCEClusterInfo":{"description":"使用已有CCE集群信息,说明:Fabric1.4版本服务仅支持1.15及以下版本集群","properties":{"cluster_id":{"description":"集群ID","type":"string"},"cluster_name":{"description":"集群名称","type":"string"},"cluster_platform_type":{"description":"集群CPU架构类型:X86(VirtualMachine),ARM(ARM64)","type":"string"}},"required":["cluster_id","cluster_name","cluster_platform_type"]},"CCECreateInfo":{"description":"创建新集群信息","properties":{"az":{"description":"可用区","format":"int64","type":"string"},"cce_flavor":{"description":"CCE集群规格","format":"int64","type":"string"},"cluster_platform_type":{"description":"集群CPU架构类型:X86(VirtualMachine),ARM(ARM64)","format":"int64","type":"string"},"init_node_pwd":{"description":"节点初始密码","format":"int64","type":"string"},"node_flavor":{"description":"集群节点规格ID(支持的规格配置最小为4u8g)","format":"int64","type":"string"},"node_num":{"description":"集群节点数","format":"int64","type":"integer"}},"required":["node_num","node_flavor","cce_flavor","init_node_pwd","az","cluster_platform_type"],"type":"object"},"ChannelInfoV2":{"properties":{"description":{"description":"通道描述","type":"string"},"name":{"description":"通道名","type":"string"},"org_names":{"description":"通道中组织名","items":{"type":"string"},"type":"array"}},"required":["name","org_names"],"type":"object"},"CouchDb":{"description":"couchDB信息","properties":{"password":{"description":"couchDB密码","type":"string"},"user_name":{"description":"couchDB用户名","type":"string"}},"required":["user_name","password"],"type":"object"},"CreateBlockchainRes":{"properties":{"blockchain_id":{"description":"服务实例ID","type":"string"},"blockchain_name":{"description":"服务实例名","type":"string"},"operation_id":{"description":"操作ID","type":"string"}},"type":"object"},"CreateRequestBody":{"example":{"bandwidth_size":5,"block_info":{"batch_timeout":2,"max_message_count":500,"preferred_maxbytes":2},"blockchain_type":"union","cce_cluster_info":{"cluster_id":"5adc2ce2-9712-11ea-9535-0255ac100b0d","cluster_name":"byl-1-15","cluster_platform_type":"ARM64"},"cce_create_info":{"az":"cn-north-7a","cce_flavor":"cce.s1.small","cluster_platform_type":"ARM64","init_node_pwd":"JDYkUzdOOUR0JEdyajFQV0tSWXNQRjZBZlhiSE5MVmpWV204V3M5alFMUXl4Z3dtOVNKb25xR0lIZWZaNUFReDVWeHNJa3gvb3JML2d1WjZyazNLQmNWczBpWVVFR2gw","node_flavor":"Si1.xlarge.4.linux","node_num":1},"channels":[{"description":"","name":"channel","org_names":["organization"]}],"cluster_type":"cce","consensus":"etcdraft","create_new_cluster":false,"database_type":"goleveldb","enterprise_project_id":"0","evs_disk_type":"SATA","fabric_version":"2.2","ief_deploy_mode":0,"ief_nodes_info":[{"id":"5700372e-49ef-4f4c-b433-11d95ad7acea","public_ip_address":"192.168.1.95","status":"ACTIVE"},{"id":"2455e71a-d806-4827-9cf4-81e1b3764681","public_ip_address":"192.168.1.213","status":"ACTIVE"}],"name":"bcs-test","orderer_node_number":3,"org_disk_size":100,"peer_orgs":[{"name":"organization","node_count":2}],"resource_password":"xxx","sign_algorithm":"ECDSA","turbo_info":{"available_zone":"cn-north-7a","resource_spec_code":"sfs.turbo.standard","share_type":"STANDARD","type":"efs-ha"},"use_eip":true,"version_type":4,"volume_type":"nfs"},"properties":{"bandwidth_size":{"description":"弹性IP带宽","format":"int64","type":"integer"},"block_info":{"description":"区块生成配置信息","properties":{"batch_timeout":{"description":"区块产生时间(单位:秒),默认2秒","format":"int64","type":"integer"},"max_message_count":{"description":"区块包含交易数量,默认500","format":"int64","type":"integer"},"preferred_maxbytes":{"description":"区块容量(单位:MB),默认2MB","format":"int64","type":"integer"}},"type":"object"},"blockchain_type":{"description":"区块链类型,默认私有链,可选:联盟链(union),私有链(private)。被邀请方创建时,和邀请方保持一致。","type":"string"},"cce_cluster_info":{"$ref":"#/definitions/CCEClusterInfo"},"cce_create_info":{"$ref":"#/definitions/CCECreateInfo"},"channels":{"description":"通道列表","items":{"$ref":"#/definitions/ChannelInfoV2"},"type":"array"},"cluster_type":{"description":"集群类型,可选:CCE集群 。","type":"string"},"consensus":{"description":"BCS服务的共识策略,Fabric1.4版本可选:测试策略(solo)、快速拜占庭容错算法(SFLIC);Fabric2.2版本可选:raft共识算法(etcdraft)、快速拜占庭容错算法(SFLIC)。被邀请方创建时,和邀请方保持一致。","type":"string"},"couchdb_info":{"$ref":"#/definitions/CouchDb"},"create_new_cluster":{"description":"是否创建新集群,使用已有集群需要填写cce_cluster_info字段中的信息,创建新集群需要填写cce_create_info字段中的信息","type":"boolean"},"database_type":{"description":"BCS服务数据库类型,包括文件数据库(goleveldb),NoSQL(couchdb),选择couchdb需要填写couchdb_info字段中的信息","type":"string"},"enterprise_project_id":{"description":"BCS服务所属企业项目ID","type":"string","x-isonline":true},"evs_disk_type":{"description":"云硬盘存储卷类型,volume_type选择evs时必填,可选:普通I/O(SATA),高I/O(SAS),超高I/O(SSD)","type":"string"},"fabric_version":{"description":"Fabric版本,当前邀请方以及私有链的创建仅可选:2.2 ;被邀请方创建时,和邀请方保持一致,1.4版本服务仅支持1.15及以下版本集群. 默认值为2.2.","type":"string"},"ief_deploy_mode":{"description":"IEF集群部署方式,随机部署(0),组织节点绑定(1)。组织节点绑定模式时,peer_orgs 参数必填。组织名和IEF节点名必须一致。","format":"int64","type":"integer","x-isonline":true},"ief_nodes_info":{"description":"IEF集群节点列表,使用边缘集群模式部署时必填。","items":{"$ref":"#/definitions/IEFNode"},"type":"array","x-isonline":true},"invitor_infos":{"$ref":"#/definitions/InvitorInfos"},"is_invitee":{"description":"是否是创建被邀请方BCS服务实例,创建被邀请方实例需要同时填写invitor_infos字段中的信息","type":"boolean"},"kafka_create_info":{"$ref":"#/definitions/KafkaCreateInfo"},"name":{"description":"区块链服务名称,支持英文,数字,中文字符和中划线(-),不能以中划线(-)开头,长度4-24个字符。","type":"string"},"orderer_node_number":{"description":"共识组织节点数,被邀请方创实例时可不填。购买fabric2.2服务时必填,若共识策略为Raft(CFT),节点数为3;若共识策略为快速拜占庭容错共识算法(FBFT),节点数为4。","format":"int64","type":"integer"},"org_disk_size":{"description":"节点组织存储容量,","format":"int64","type":"integer"},"peer_orgs":{"description":"节点组织列表。节点绑定模式中,组织名和IEF节点名必须一致。边缘集群模式时此字段必填。","items":{"$ref":"#/definitions/OrgPeer"},"type":"array"},"resource_password":{"description":"BCS服务资源、区块链管理密码","type":"string"},"restful_api_support":{"description":"是否添加restful API支持","type":"boolean","x-isonline":true},"sign_algorithm":{"description":"BCS服务安全机制,可选:ECDSA(ECDSA),国密算法(sm2)","type":"string"},"tc3_need":{"description":"是否添加可信计算平台","type":"boolean","x-isonline":true},"turbo_info":{"$ref":"#/definitions/TurboInfo"},"use_eip":{"description":"是否使用集群节点弹性IP","type":"boolean"},"version_type":{"description":"BCS服务版本类型,可选:。被邀请方创建时,和邀请方保持一致。","format":"int64","type":"integer","x-isonline":true},"volume_type":{"description":"CCE集群存储卷类型,根据实际环境可选:云硬盘存储卷(evs),文件存储卷(nfs), 极速文件存储卷(efs)","type":"string"}},"required":["name","enterprise_project_id","resource_password","create_new_cluster","version_type","cluster_type"],"type":"object"},"ErrorResponse":{"description":"失败时返回的错误","properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":8,"type":"string"},"error_msg":{"description":"错误描述","maxLength":512,"minLength":2,"type":"string"}},"required":["error_code","error_msg"]},"IEFNode":{"properties":{"id":{"description":"节点ID(注意:应填写IEF节点的ID信息)","type":"string"},"public_ip_address":{"description":"节点公有IP(弹性IP)","type":"string"},"status":{"description":"节点状态:\"ACTIVE\"","type":"string"}},"required":["id","status","public_ip_address"],"type":"object"},"InvitorInfos":{"description":"邀请方信息","properties":{"blockchain_id":{"description":"邀请方BCS服务实例ID","type":"string"},"project_id":{"description":"邀请方项目ID","type":"string"},"tenant_id":{"description":"邀请方租户ID","type":"string"}},"required":["tenant_id","project_id","blockchain_id"],"type":"object"},"KafkaCreateInfo":{"description":"kafka实例创建信息","properties":{"az":{"description":"kafka实例可用区","type":"string"},"spec":{"description":"kafka实例规格,可选:mini:基准带宽100MB/s,small:基准带宽300MB/s,middle:基准带宽600MB/s,high:基准带宽1200MB/s","type":"string"},"storage":{"description":"存储空间(单位:GB),至多9000,mini版至少300,small至少1200,middle至少2400,high至少4800","format":"int64","type":"integer"}},"required":["spec","storage","az"],"type":"object"},"OrgPeer":{"properties":{"name":{"description":"组织名称","type":"string"},"node_count":{"description":"组织节点数","format":"int64","type":"integer"}},"required":["name","node_count"],"type":"object"},"TurboInfo":{"description":"极速文件存储卷信息","properties":{"available_zone":{"description":"可用区,可填空字符串(\"\")。","type":"string"},"resource_spec_code":{"description":"规格,固定值为“sfs.turbo.standard”","type":"string"},"share_type":{"description":"共享方式,固定值为“STANDARD”","type":"string"},"type":{"description":"类型,固定值为“efs-ha”","type":"string"}},"required":["share_type","type","available_zone","resource_spec_code"],"type":"object"}},"description":null,"group_id":"a055e8fbc967498fb365ceacf02e656e","host":"bcs.cn-north-4.myhuaweicloud.com","id":"b95b6a03bcc246398cba058d477b1458","info_version":"v2","method":"post","name":"CreateNewBlockchain","parameters":{},"paths":{"/v2/{project_id}/blockchains":{"post":{"description":"创建BCS服务实例,只支持按需创建","operationId":"CreateNewBlockchain","parameters":[{"description":"从IAM服务获取的用户Token","in":"header","maxLength":32768,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string"},{"description":"租户从IAM申请到的项目ID,一般为32位字符串","in":"path","name":"project_id","required":true,"type":"string"},{"description":"requestBody","in":"body","name":"CreateNewBlockchainRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateRequestBody"}}],"produces":["application/json"],"responses":{"200":{"description":"Ok","examples":{"application/json":{"blockchain_id":"12691561-a50d-5207-6041-7346c90d4499","blockchain_name":"bcs-api","operation_id":"BCSSVC01-03-1617158790255323683"}},"schema":{"$ref":"#/definitions/CreateBlockchainRes"}},"400":{"description":"Bad Request","examples":{"application/json":{"error_code":"BCS.4006005","error_msg":"keyType error, keyType: blok not supported"}},"schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorized","examples":{"application/json":{"error_code":"BCS.4010401","error_msg":"Incorrect token or token resolution failed"}},"schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","examples":{"application/json":{"error_code":"BCS.4030403","error_msg":"No permissions to request this method"}},"schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"Not Found","examples":{"application/json":{"error_code":"BCS.4040404","error_msg":"Not Found:the url is not found"}},"schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"InternalServerError","examples":{"application/json":{"error_code":"BCS.5000500","error_msg":"Internal Server Error"}},"schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"创建服务实例","tags":["BCS管理"],"x-api-type":"open","x-is-registered":"Y","x-order":1,"x-secnario":"hws","x-support-sdk":"Y"}}},"product_short":"BCS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建服务实例","tags":"BCS管理","uri":null,"version":"2.0"}