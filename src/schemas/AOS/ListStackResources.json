{"base_path":null,"components":null,"consumes":"","definitions":{"CommonErrorResponse":{"description":"通用错误响应体","properties":{"encoded_authorization_message":{"description":"包含有关未经授权请求的信息。","type":"string","x-omitempty":true},"error_code":{"description":"响应码","maxLength":11,"minLength":11,"type":"string"},"error_msg":{"description":"响应消息","type":"string"}},"type":"object"},"ListStackResourcesResponseBody":{"description":"ListStackResources API的响应Body体","properties":{"stack_resources":{"description":"资源栈中所管理的资源信息列表","items":{"$ref":"#/definitions/StackResource"},"type":"array"}},"type":"object"},"ResourceAttribute":{"description":"资源属性\n\n以HCL格式的模板为例,资源属性的key 为 name,value 为 \"test_vpc\"\n\n```hcl\nresource \"huaweicloud_vpc\" \"my_hello_world_vpc\" {\n  name = \"test_vpc\"\n}\n```\n\n以json格式的模板为例,资源属性的key 为 name,value 为 \"test_vpc\"\n\n```json\n{\n  \"resource\": {\n    \"huaweicloud_vpc\": {\n      \"my_hello_world_vpc\": {\n        \"name\": \"test_vpc\"\n      }\n    }\n  }\n}\n```","properties":{"key":{"description":"资源属性的键","type":"string"},"value":{"description":"资源属性的值","type":"string","x-omitempty":false}},"type":"object"},"StackResource":{"description":"资源栈中所管理的资源信息","properties":{"index_key":{"description":"资源的索引,若用户在模板中使用了count或for_each则会返回index_key。若index_key出现,则logical_resource_name + index_key可以作为该资源的一种标识\n\n若用户在模板中使用count,则index_key为从0开始的数字\n\n以HCL格式的模板为例,用户在模板中可以通过`huaweicloud_vpc.my_hello_world_vpc[0]`和`huaweicloud_vpc.my_hello_world_vpc[1]`标识两个资源\n\n```hcl\nresource \"huaweicloud_vpc\" \"my_hello_world_vpc\" {\n  count = 2\n  name = \"test_vpc\"\n}\n```\n\n以json格式的模板为例,用户在模板中可以通过`huaweicloud_vpc.my_hello_world_vpc[0]`和`huaweicloud_vpc.my_hello_world_vpc[1]`标识两个资源\n\n```json\n{\n  \"resource\": {\n    \"huaweicloud_vpc\": {\n      \"my_hello_world_vpc\": {\n        \"name\": \"test_vpc\",\n        \"count\": 2\n      }\n    }\n  }\n}\n```\n\n若用户在模板中使用for_each,则index_key为用户自定义的字符串\n\n以HCL格式的模板为例,用户在模板中可以通过`huaweicloud_vpc.my_hello_world_vpc[\"vpc1\"]`和`huaweicloud_vpc.my_hello_world_vpc[\"vpc2\"]`标识两个资源\n\n```hcl\nresource \"huaweicloud_vpc\" \"my_hello_world_vpc\" {\n  for_each = {\n    \"vpc1\" = \"test_vpc\"\n    \"vpc2\" = \"test_vpc\"\n  }\n  name = each.value\n}\n```\n\n以json格式的模板为例,用户在模板中可以通过`huaweicloud_vpc.my_hello_world_vpc[\"vpc1\"]`和`huaweicloud_vpc.my_hello_world_vpc[\"vpc2\"]`标识两个资源\n\n```json\n{\n  \"resource\": {\n    \"huaweicloud_vpc\": {\n      \"my_hello_world_vpc\": {\n        \"for_each\": {\n          \"vpc1\": \"test_vpc\",\n          \"vpc2\": \"test_vpc\"\n        }\n        \"name\": \"${each.value}\"\n      }\n    }\n  }\n}\n```","type":"string"},"logical_resource_name":{"description":"资源的逻辑名称,由用户在模板中定义\n\n注:与 logical 相关的参数仅仅在模板内部,作为该资源的一种标识\n\n以HCL格式的模板为例,logical_resource_name 为 my_hello_world_vpc\n\n```hcl\nresource \"huaweicloud_vpc\" \"my_hello_world_vpc\" {\n  name = \"test_vpc\"\n}\n```\n\n以json格式的模板为例,logical_resource_name 为 my_hello_world_vpc\n\n```json\n{\n  \"resource\": {\n    \"huaweicloud_vpc\": {\n      \"my_hello_world_vpc\": {\n        \"name\": \"test_vpc\"\n      }\n    }\n  }\n}\n```","type":"string"},"logical_resource_type":{"description":"资源的类型\n\n注:与 logical 相关的参数仅仅在模板内部,作为该资源的一种标识\n\n以HCL格式的模板为例,logical_resource_type 为 huaweicloud_vpc\n\n```hcl\nresource \"huaweicloud_vpc\" \"my_hello_world_vpc\" {\n  name = \"test_vpc\"\n}\n```\n\n以json格式的模板为例,logical_resource_type 为 huaweicloud_vpc\n\n```json\n{\n  \"resource\": {\n    \"huaweicloud_vpc\": {\n      \"my_hello_world_vpc\": {\n        \"name\": \"test_vpc\"\n      }\n    }\n  }\n}\n```","type":"string"},"physical_resource_id":{"description":"资源的物理id,由该资源的provider、云服务或其他服务提供方在资源部署的时候生成\n\n注:与physical相关的参数可以在模板以外的地方,作为该资源的一种标识","type":"string"},"physical_resource_name":{"description":"资源的物理名称,由该资源的provider、云服务或其他服务提供方在资源部署的时候定义\n\n注:与physical相关的参数可以在模板以外的地方,作为该资源的一种标识","type":"string"},"resource_attributes":{"description":"资源属性列表","items":{"$ref":"#/definitions/ResourceAttribute"},"type":"array","x-omitempty":true},"resource_status":{"description":"资源的状态\n* `CREATION_IN_PROGRESS` - 正在生成\n* `CREATION_FAILED`      - 生成失败\n* `CREATION_COMPLETE`    - 生成完成\n* `DELETION_IN_PROGRESS` - 正在删除\n* `DELETION_FAILED`      - 删除失败\n* `DELETION_COMPLETE`    - 已经删除\n* `UPDATE_IN_PROGRESS`   - 正在更新。此处的更新特指非替换式更新,如果是替换式更新,则使用CREATION后DELETION\n* `UPDATE_FAILED`        - 更新失败。此处的更新特指非替换式更新,如果是替换式更新,则使用CREATION后DELETION\n* `UPDATE_COMPLETE`      - 更新完成。此处的更新特指非替换式更新,如果是替换式更新,则使用CREATION后DELETION","enum":["CREATION_IN_PROGRESS","CREATION_FAILED","CREATION_COMPLETE","DELETION_IN_PROGRESS","DELETION_FAILED","DELETION_COMPLETE","UPDATE_IN_PROGRESS","UPDATE_FAILED","UPDATE_COMPLETE"],"type":"string"},"status_message":{"description":"当该资源状态为任意失败状态(即以 `FAILED` 结尾时),将会展示简要的错误信息总结以供debug","type":"string"}},"type":"object"}},"description":null,"group_id":"ffbc0f3a195c4338b5218addf5d56a6c","host":"aos.cn-north-4.myhuaweicloud.com","id":"a6fc2dc483fb4415bfb48d0be54c6666","info_version":"v1","method":"get","name":"ListStackResources","parameters":{},"paths":{"/v1/{project_id}/stacks/{stack_name}/resources":{"get":{"description":"列举资源栈资源(ListStackResources)\n\n此API用于列举资源栈中当前管理的所有资源的信息\n\n当资源栈处于非终态时,仅输出资源栈下资源的简要信息,包含逻辑资源名称(logical_resource_name),逻辑资源类型(logical_resource_type),物理资源id(physical_resource_id),物理资源名称(physical_resource_name),资源状态(status)等信息;当资源栈处于终态时,将额外输出具体信息,如资源属性(resource_attributes)\n\n非终态包括但不限于以下状态:\n  * 正在部署(DEPLOYMENT_IN_PROGRESS)\n  * 正在删除(DELETION_IN_PROGRESS)\n  * 正在回滚(ROLLBACK_IN_PROGRESS)","operationId":"ListStackResources","parameters":[{"description":"用户指定的,对于此请求的唯一ID,用于定位某个请求,推荐使用UUID","in":"header","maxLength":128,"minLength":36,"name":"Client-Request-Id","pattern":"^[A-Za-z0-9]+[A-Za-z0-9-]*$","required":true,"type":"string"},{"description":"项目ID,可以从调用API处获取,也可以从控制台获取。\n\n[项目ID获取方式](https://support.huaweicloud.com/api-ticket/ticket_api_20002.html)","in":"path","maxLength":64,"minLength":3,"name":"project_id","pattern":"^[A-Za-z0-9-]+$","required":true,"type":"string"},{"description":"资源栈的名称。此名字在domain_id+区域+project_id下应唯一,可以使用中文、大小写英文、数字、下划线、中划线。首字符需为中文或者英文,区分大小写。","in":"path","maxLength":128,"minLength":1,"name":"stack_name","pattern":"^[一-龥A-Za-z]+[一-龥A-Za-z0-9_-]*$","required":true,"type":"string"},{"description":"资源栈(stack)的唯一Id。\n\n此Id由资源编排服务在生成资源栈的时候生成,为UUID。\n\n由于资源栈名仅仅在同一时间下唯一,即用户允许先生成一个叫HelloWorld的资源栈,删除,再重新创建一个同名资源栈。\n\n对于团队并行开发,用户可能希望确保,当前我操作的资源栈就是我认为的那个,而不是其他队友删除后创建的同名资源栈。因此,使用ID就可以做到强匹配。\n\n资源编排服务保证每次创建的资源栈所对应的ID都不相同,更新不会影响ID。如果给与的stack_id和当前资源栈的ID不一致,则返回400","in":"query","maxLength":36,"minLength":36,"name":"stack_id","pattern":"^[a-z0-9]+[a-z0-9-]*$","required":false,"type":"string","x-isnullable":true}],"produces":["application/json"],"responses":{"200":{"description":"列举资源栈资源成功","examples":{"x-response-examples-1":{"stack_resources":[{"logical_resource_name":"vpc","logical_resource_type":"huaweicloud_vpc","physical_resource_id":"38d617da-9b7f-4550-9ff7-d0e271dd4735","physical_resource_name":"my_vpc","resource_attributes":[{"key":"cidr","value":"172.16.0.0/16"},{"key":"description","value":""},{"key":"enterprise_project_id","value":"0"},{"key":"id","value":"38d617da-9b7f-4550-9ff7-d0e271dd4735"},{"key":"name","value":"test_name"},{"key":"region","value":"cn-north-7"},{"key":"routes","value":"[]"},{"key":"secondary_cidr","value":"null"},{"key":"status","value":"OK"},{"key":"tags","value":"null"},{"key":"timeouts","value":"null"}],"resource_status":"CREATION_COMPLETE"}]}},"schema":{"$ref":"#/definitions/ListStackResourcesResponseBody"}},"400":{"description":"用户请求非法","schema":{"$ref":"#/definitions/CommonErrorResponse"}},"401":{"description":"用户身份认证失败","schema":{"$ref":"#/definitions/CommonErrorResponse"}},"403":{"description":"用户无权限调用此API","schema":{"$ref":"#/definitions/CommonErrorResponse"}},"404":{"description":"资源栈不存在","schema":{"$ref":"#/definitions/CommonErrorResponse"}},"429":{"description":"请求数量过多","schema":{"$ref":"#/definitions/CommonErrorResponse"}},"500":{"description":"服务器内部错误","schema":{"$ref":"#/definitions/CommonErrorResponse"}}},"summary":"列举资源栈资源","tags":["Stack"],"x-api-type":"open-api","x-is-registered":"Y","x-request-examples-description-1":"列举资源栈资源","x-request-examples-description-2":"列举资源栈资源,并提供资源栈id以校验是否与当前资源栈匹配","x-request-examples-url-1":"GET https://{endpoint}/v1/ba2b9930c977f71edaeaa3a5e96a8ff1/stacks/my_hello_world_stack/resources","x-request-examples-url-2":"GET https://{endpoint}/v1/ba2b9930c977f71edaeaa3a5e96a8ff1/stacks/my_hello_world_stack/resources?stack_id=ea6a4f0e-ee8a-494e-b12a-8be4a1e65af2","x-support-sdk":"Y"}}},"product_short":"AOS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-app":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-app-optional":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-opt":{"access-auth-type":"optional"},"x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-iam-none":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM_NONE"},"token":{"in":"header","name":"X-Auth-Token","type":"apiKey"}},"summary":"列举资源栈资源","tags":"资源编排-资源栈","uri":null,"version":"2.0"}