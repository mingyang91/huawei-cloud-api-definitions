{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CreateKeypairAction":{"description":"创建密钥对请求体请求参数","properties":{"key_protection":{"$ref":"#/definitions/KeyProtection"},"name":{"description":"SSH密钥对的名称。\n- 新创建的密钥对名称不能和已有密钥对的名称相同。\n- SSH密钥对名称由英文字母、数字、下划线、中划线组成,长度不能超过64个字节","pattern":"^[A-Za-z0-9_-]{1,255}$","type":"string"},"public_key":{"description":"导入公钥的字符串信息。","maxLength":1024,"minLength":0,"type":"string"},"scope":{"description":"租户级或者用户级。domain或user。","enum":["domain","user"],"type":"string"},"type":{"description":"SSH密钥对的类型。ssh或x509。","enum":["ssh","x509"],"type":"string"},"user_id":{"description":"SSH密钥对所属的用户信息","pattern":"^[0-9a-zA-Z]{1,64}$","type":"string"}},"required":["name"],"type":"object"},"CreateKeypairRequestBody":{"description":"创建密钥对请求体","properties":{"keypair":{"$ref":"#/definitions/CreateKeypairAction"}},"required":["keypair"]},"CreateKeypairResp":{"description":"SSH密钥对信息详情","properties":{"fingerprint":{"description":"SSH密钥对应指纹信息","maxLength":255,"minLength":0,"type":"string"},"name":{"description":"SSH密钥对的名称","pattern":"^[A-Za-z0-9_-]{1,255}$","type":"string"},"private_key":{"description":"SSH密钥对对应的privateKey信息\n- 创建SSH密钥对时,响应中包括private_key的信息。\n- 导入SSH密钥对时,响应中不包括private_key的信息。","maxLength":65535,"minLength":0,"type":"string"},"public_key":{"description":"SSH密钥对对应的publicKey信息","maxLength":1024,"minLength":0,"type":"string"},"type":{"description":"SSH密钥对的类型。ssh或x509。","enum":["ssh","x509"],"type":"string"},"user_id":{"description":"SSH密钥对所属的用户信息","pattern":"^[0-9a-zA-Z]{1,64}$","type":"string"}}},"CreateKeypairResponseBody":{"description":"SSH密钥对的详情","properties":{"keypair":{"$ref":"#/definitions/CreateKeypairResp"}}},"Encryption":{"description":"对私钥进行加密存储的方式。","properties":{"kms_key_name":{"description":"kms密钥的名称。\n - 若“type”为“kms”,则必须填入kms服务密钥名称。","maxLength":255,"minLength":0,"type":"string"},"type":{"description":"取值范围:“kms”或“default”。\n- “default”为默认加密方式,适用于没有kms服务的局点。\n- “kms”为采用kms服务加密方式。\n若局点没有kms服务,请填“default”。","enum":["default","kms"],"type":"string"}},"required":["type","kms_key_name"],"type":"object"},"ErrorRsp":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":8,"type":"string"},"error_msg":{"description":"错误描述","maxLength":512,"minLength":2,"type":"string"}},"required":["error_code","error_msg"]},"KeyProtection":{"description":"SSH密钥对私钥托管与保护。","properties":{"encryption":{"$ref":"#/definitions/Encryption"},"private_key":{"description":"导入SSH密钥对的私钥。","maxLength":65535,"minLength":0,"type":"string"}},"required":["encryption"],"type":"object"}},"description":null,"group_id":"82312055c07b47269eb4bc72251020bc","host":"kms.cn-north-4.myhuaweicloud.com","id":"9cd439c7831c45479902eb908689ce5b","info_version":"v3","method":"post","name":"CreateKeypair","parameters":{},"paths":{"/v3/{project_id}/keypairs":{"post":{"description":"创建和导入SSH密钥对","operationId":"CreateKeypair","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":2097152,"minLength":32,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"项目ID","in":"path","maxLength":64,"minLength":32,"name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"创建密钥对消息体","in":"body","name":"CreateKeypairRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateKeypairRequestBody"}}],"produces":["application/json"],"responses":{"200":{"description":"请求已成功","examples":{"application/json":{"keypair":{"fingerprint":"49:ef:73:2b:9b:7f:2e:0c:58:d3:e3:42:8e:28:04:3b","name":"demo","private_key":"-----BEGIN RSA PRIVATE KEY-----...","public_key":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQAB...","type":"ssh","user_id":"e4f380899b1248918f3d37098dc63746"}}},"schema":{"$ref":"#/definitions/CreateKeypairResponseBody"}},"400":{"description":"Error response","examples":{"application/json":{"error_code":"KPS.XXX","error_msg":"XXX"}},"schema":{"$ref":"#/definitions/ErrorRsp"}}},"summary":"创建和导入SSH密钥对","tags":["密钥对管理"],"x-is-registered":"Y","x-order":0,"x-request-examples-1":{"keypair":{"name":"demo2"}},"x-support-sdk":"Y"}}},"product_short":"KPS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建和导入SSH密钥对","tags":"密钥对管理","uri":null,"version":"2.0"}