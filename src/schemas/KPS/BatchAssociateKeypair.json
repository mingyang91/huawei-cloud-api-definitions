{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"AssociateKeypairRequestBody":{"description":"绑定密钥对请求体。","properties":{"keypair_name":{"description":"SSH密钥对的名称","pattern":"^[A-Za-z0-9_-]{1,255}$","type":"string"},"server":{"$ref":"#/definitions/EcsServerInfo"}},"required":["keypair_name","server"],"type":"object"},"Auth":{"description":"可选字段,鉴权认证类型。替换时需要该参数,重置时不需要该参数。","properties":{"key":{"description":"- type为枚举值password时,key表示密码;\n- type为枚举值keypair时,key表示私钥;","maxLength":65535,"minLength":0,"type":"string"},"type":{"description":"取值为枚举类型。password或keypair。","enum":["password","keypair"],"type":"string"}}},"BatchAssociateKeypairRequestBody":{"properties":{"batch_keypairs":{"description":"最多可同时选择10个弹性云服务器绑定密钥对。\n\n约束:只支持选择相同的密钥对,弹性云服务器处于“运行中”状态,并未绑定密钥对。","items":{"$ref":"#/definitions/AssociateKeypairRequestBody"},"maxItems":10,"minItems":0,"type":"array"}},"required":["batch_keypairs"],"type":"object"},"BatchTaskResponseBody":{"description":"批量绑定密钥对任务的响应。","properties":{"tasks":{"description":"批量绑定密钥对任务。","items":{"$ref":"#/definitions/TaskResponseBody"},"maxItems":10,"minItems":0,"type":"array"}},"type":"object"},"EcsServerInfo":{"description":"需要绑定密钥对的虚拟机信息。","properties":{"auth":{"$ref":"#/definitions/Auth"},"disable_password":{"description":"- true:禁用虚拟机的ssh登录。\n- false:不禁用虚拟机的ssh登录。","type":"boolean"},"id":{"description":"需要绑定(替换或重置)SSH密钥对的虚拟机id","maxLength":64,"minLength":0,"type":"string"},"port":{"description":"SSH监听端口。","example":22,"format":"int64","maximum":65535,"minimum":1,"type":"integer"}},"required":["id"],"type":"object"},"ErrorRsp":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":8,"type":"string"},"error_msg":{"description":"错误描述","maxLength":512,"minLength":2,"type":"string"}},"required":["error_code","error_msg"]},"TaskResponseBody":{"description":"任务响应。","properties":{"error_code":{"description":"任务下发失败返回的错误码。","maxLength":36,"minLength":8,"type":"string"},"error_msg":{"description":"任务下发失败返回的错误信息。","maxLength":512,"minLength":2,"type":"string"},"server_id":{"description":"绑定的虚拟机id。","maxLength":64,"minLength":0,"type":"string"},"status":{"description":"任务下发的状态。SUCCESS或FAILED。","enum":["SUCCESS","FAILED"],"type":"string"},"task_id":{"description":"任务下发成功返回的ID。","maxLength":64,"minLength":0,"type":"string"}},"type":"object"}},"description":null,"group_id":"82312055c07b47269eb4bc72251020bc","host":"kms.cn-north-4.myhuaweicloud.com","id":"40a079f4ed1744c4891962f81cd8b77c","info_version":"v3","method":"post","name":"BatchAssociateKeypair","parameters":{},"paths":{"/v3/{project_id}/keypairs/batch-associate":{"post":{"description":"给指定的虚拟机批量绑定新的SSH密钥对。","operationId":"BatchAssociateKeypair","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":2097152,"minLength":32,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"项目ID","in":"path","maxLength":64,"minLength":32,"name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"批量绑定密钥对消息体","in":"body","name":"BatchAssociateKeypairRequestBody","required":true,"schema":{"$ref":"#/definitions/BatchAssociateKeypairRequestBody"}}],"produces":["application/json"],"responses":{"200":{"description":"请求已成功。","examples":{"application/json":{"tasks":[{"server_id":"xxx","status":"SUCCESS","task_id":"xxx"},{"error_code":"xxxx","error_msg":"xxxx","server_id":"xxx","status":"Failed"}]}},"schema":{"$ref":"#/definitions/BatchTaskResponseBody"}},"400":{"description":"Error response","examples":{"application/json":{"error_code":"KPS.XXX","error_msg":"XXX"}},"schema":{"$ref":"#/definitions/ErrorRsp"}}},"summary":"批量绑定SSH密钥对","tags":["密钥对任务管理"],"x-is-registered":"Y","x-order":2,"x-request-examples-1":{"batch_keypairs":[{"keypair_name":"1","server":{"auth":{"key":"password","type":"password"},"disable_password":false,"id":"fxxx16e3-74b8-4025-9852-1f451932c20c"}},{"keypair_name":"1","server":{"auth":{"key":"password","type":"password"},"disable_password":false,"id":"4xxxxfc4-b4bf-49c2-b983-a1811c9760c1"}}]},"x-request-examples-text-1":{"batch_keypairs":[{"keypair_name":"1","server":{"auth":{"key":"password","type":"password"},"disable_password":false,"id":"fxxx16e3-74b8-4025-9852-1f451932c20c"}},{"keypair_name":"1","server":{"auth":{"key":"password","type":"password"},"disable_password":false,"id":"4xxxxfc4-b4bf-49c2-b983-a1811c9760c1"}}]},"x-support-sdk":"Y"}}},"product_short":"KPS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"批量绑定SSH密钥对","tags":"密钥对任务管理","uri":null,"version":"2.0"}