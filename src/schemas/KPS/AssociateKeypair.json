{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"AssociateKeypairRequestBody":{"description":"绑定密钥对请求体。","properties":{"keypair_name":{"description":"SSH密钥对的名称","pattern":"^[A-Za-z0-9_-]{1,255}$","type":"string"},"server":{"$ref":"#/definitions/EcsServerInfo"}},"required":["keypair_name","server"],"type":"object"},"Auth":{"description":"可选字段,鉴权认证类型。替换时需要该参数,重置时不需要该参数。","properties":{"key":{"description":"- type为枚举值password时,key表示密码;\n- type为枚举值keypair时,key表示私钥;","maxLength":65535,"minLength":0,"type":"string"},"type":{"description":"取值为枚举类型。password或keypair。","enum":["password","keypair"],"type":"string"}}},"EcsServerInfo":{"description":"需要绑定密钥对的虚拟机信息。","properties":{"auth":{"$ref":"#/definitions/Auth"},"disable_password":{"description":"- true:禁用虚拟机的ssh登录。\n- false:不禁用虚拟机的ssh登录。","type":"boolean"},"id":{"description":"需要绑定(替换或重置)SSH密钥对的虚拟机id","maxLength":64,"minLength":0,"type":"string"},"port":{"description":"SSH监听端口。","example":22,"format":"int64","maximum":65535,"minimum":1,"type":"integer"}},"required":["id"],"type":"object"},"ErrorRsp":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":8,"type":"string"},"error_msg":{"description":"错误描述","maxLength":512,"minLength":2,"type":"string"}},"required":["error_code","error_msg"]},"TaskResponseBody":{"description":"任务响应。","properties":{"error_code":{"description":"任务下发失败返回的错误码。","maxLength":36,"minLength":8,"type":"string"},"error_msg":{"description":"任务下发失败返回的错误信息。","maxLength":512,"minLength":2,"type":"string"},"server_id":{"description":"绑定的虚拟机id。","maxLength":64,"minLength":0,"type":"string"},"status":{"description":"任务下发的状态。SUCCESS或FAILED。","enum":["SUCCESS","FAILED"],"type":"string"},"task_id":{"description":"任务下发成功返回的ID。","maxLength":64,"minLength":0,"type":"string"}},"type":"object"}},"description":null,"group_id":"82312055c07b47269eb4bc72251020bc","host":"kms.cn-north-4.myhuaweicloud.com","id":"ac1a58a28e9b4fcfb573daedf98c0b3f","info_version":"v3","method":"post","name":"AssociateKeypair","parameters":{},"paths":{"/v3/{project_id}/keypairs/associate":{"post":{"description":"给指定的虚拟机绑定(替换或重置,替换需提供虚拟机已配置的SSH密钥对私钥;重置不需要提供虚拟机的SSH密钥对私钥)新的SSH密钥对。","operationId":"AssociateKeypair","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":2097152,"minLength":32,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"项目ID","in":"path","maxLength":64,"minLength":32,"name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"绑定密钥对消息体","in":"body","name":"AssociateKeypairRequestBody","required":true,"schema":{"$ref":"#/definitions/AssociateKeypairRequestBody"}}],"produces":["application/json"],"responses":{"200":{"description":"OK","examples":{"application/json":{"task_id":"aee8d2fe-5484-4753-9177-5a38dc15546c"}},"schema":{"$ref":"#/definitions/TaskResponseBody"}},"400":{"description":"Error response","examples":{"application/json":{"error_code":"KPS.XXX","error_msg":"XXX"}},"schema":{"$ref":"#/definitions/ErrorRsp"}}},"summary":"绑定SSH密钥对","tags":["密钥对任务管理"],"x-is-registered":"Y","x-order":0,"x-request-examples-1":{"keypair_name":"newkeypair1","server":{"auth":{"key":"-----BEGINRSAPRIVATEKEY-----M...","type":"keypair"},"id":"d76baba7-ef09-40a2-87ff-3eafec0696e7"}},"x-request-examples-2":{"keypair_name":"newkeypair2","server":{"id":"d76baba7-ef09-40a2-87ff-3eafec0696e7"}},"x-support-sdk":"Y"}}},"product_short":"KPS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"绑定SSH密钥对","tags":"密钥对任务管理","uri":null,"version":"2.0"}