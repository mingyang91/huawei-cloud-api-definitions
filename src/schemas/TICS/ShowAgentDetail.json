{"base_path":null,"components":{"parameters":{"agent_id":{"description":"可信节点ID\n","in":"path","name":"agent_id","required":true,"schema":{"maxLength":32,"minLength":0,"pattern":"[\\w]{0,32}","type":"string"}},"content-Type":{"description":"消息体的类型(格式)\n","in":"header","name":"Content-Type","required":true,"schema":{"default":"application/json","example":"application/json","readOnly":true,"type":"string"}},"project_id":{"description":"项目id,最大32位,字母和数字组成","in":"path","name":"project_id","required":true,"schema":{"maxLength":32,"minLength":0,"pattern":"[\\w]{0,32}","type":"string"}},"x-auth-token":{"description":"用户凭证","in":"header","name":"X-Auth-Token","required":true,"schema":{"example":"MIIjKAYJKoZIhvcNAQcxxxx","pattern":"^[\\w|\\+|\\-|=|{|}|\"|:|\\.|,|\\[|\\]]+","type":"string"}}},"schemas":{"AgentDetailVo":{"example":{"agent_deploy":{"agent_id":"22a38e92ef7e4284b666b2a14bc29462","agent_name":"agent_7819","aom_flag":true,"bcs_flag":false,"cce_version":"v1.19.10","create_time":"2022-10-08T08:54:26.000+00:00","creator_domain_id":"098593b06a80d2a30f5fc004c28f6da0","creator_id":"098593b08f00d2a34f64c004408b64bc","creator_name":"user01","creator_project_id":"098593b07680d2a32f62c004a482da10","deploy_status":"RUNNING","deploy_type":"CCE","deployment_event_information":"Closing agent container","high_avail":false,"image_id":"115","image_version":"1.15.1","league_id":"ef73b252a0ad4b5db21a12c40a413b2f","league_name":"test","league_region_name":"cn-north-4","league_version":"1.15.1","nat_id":"baedab5b-d120-43a6-b965-5b3d7e2deae5","storage_mount_type":"OBS"},"agent_deploy_bcs":null,"agent_deploy_detail":{"agent_id":"22a38e92ef7e4284b666b2a14bc29462","cce_cluster_id":"233ac994-46e7-11ed-9162-0255ac100b09","cce_cluster_name":"tics-agent-22a38e92ef7e4284b666b2a14bc29462","console_ip":"100.85.116.131","console_port":30912,"namespace_name":"default","obs_pvc_name":"cce-obs-22a38e92ef7e4284b666b2a14bc29462","persistence_id":"pvc-747d6aa1-22cc-4993-a32e-1c6c64f38bdb","resource_spec_code":"agent.middle","web_port":30964},"agent_deploy_nat":{"nat_id":"baedab5b-d120-43a6-b965-5b3d7e2deae5","project_id":"098593b07680d2a32f62c004a482da10","subnet_id":"9cc4bdd1-ad35-4d0f-849c-71d305121f61","vpc_id":"670ad039-5188-4c18-9ca2-a6b29bd18d67"},"agent_deploy_node":{"agent_id":"22a38e92ef7e4284b666b2a14bc29462","ecs_server_id":"5461246e-29fc-4016-b422-4b0db86a89a6","nat_eip":"100.85.116.131","nat_eip_id":"1966fa41-229e-4595-a725-e99266ce9587","node_az":"cn-north-7c","node_id":"8e204053-46e8-11ed-9162-0255ac100b09","node_ip":"192.168.0.208","node_name":"node-22a38e92ef7e4284b666b2a14bc29462-0","snat_rule_id":"33a10f46-ed33-4153-be61-28c0659c2d04"}},"properties":{"agent_deploy":{"$ref":"#/components/schemas/TicsAgentDeploy"},"agent_deploy_bcs":{"$ref":"#/components/schemas/TicsAgentDeployBcs"},"agent_deploy_detail":{"$ref":"#/components/schemas/TicsAgentDeployDetail"},"agent_deploy_nat":{"$ref":"#/components/schemas/TicsAgentNatCommonInfo"},"agent_deploy_node":{"$ref":"#/components/schemas/TicsAgentNodeInfo"}},"title":"AgentDetailVo","type":"object"},"ErrorMessage":{"properties":{"error_code":{"description":"错误码","readOnly":true,"type":"string"},"error_msg":{"description":"错误信息","readOnly":true,"type":"string"}},"title":"ErrorMessage","type":"object"},"TicsAgentDeploy":{"description":"可信节点部署情况","properties":{"agent_id":{"description":"可信节点Id","readOnly":true,"type":"string"},"agent_name":{"description":"可信节点名称","readOnly":true,"type":"string"},"aom_flag":{"description":"是否开启aom监控","type":"boolean"},"bcs_flag":{"description":"是否使用区块链存证","type":"boolean"},"cce_version":{"description":"可信节点使用cce集群的版本","readOnly":true,"type":"string"},"create_time":{"description":"可信节点创建时间","format":"date-time","readOnly":true,"type":"string"},"creator_domain_id":{"description":"可信节点创建者的租户Id","readOnly":true,"type":"string"},"creator_id":{"description":"可信节点创建者的Id","readOnly":true,"type":"string"},"creator_name":{"description":"可信节点创建者的名称","readOnly":true,"type":"string"},"creator_project_id":{"description":"创建可信节点所在项目Id","readOnly":true,"type":"string"},"deploy_status":{"description":"可信节点部署状态,ABNORMAL.正常,RESTARTING.重启中,RESTART_FAILED.重启失败,ROLLBACKING.回滚中,STARTING.启动中,DEPLOYING.创建中,DEPLOY_FAILED.创建失败,DEPLOY_SUCCESS.创建成功,RUNNING.运行中,DELETING.删除中,DELETE_FAILED.删除失败,DELETE_SUCCESS.删除成功,UPGRADING.升级中,UPGRADE_FAILED.升级失败,ROLLBACK.回退中,ROLLBACK_FAILED.回退失败,SUCCESS.成功,FAILED.失败,TO_START.待开始,IN_PROGRESS.进行中","enum":["ABNORMAL","DELETE_FAILED","DELETE_SUCCESS","DELETING","DEPLOYING","DEPLOY_FAILED","DEPLOY_SUCCESS","FAILED","IN_PROGRESS","RESTARTING","RESTART_FAILED","ROLLBACK","ROLLBACKING","ROLLBACK_FAILED","RUNNING","STARTING","SUCCESS","TO_START","UPGRADE_FAILED","UPGRADING"],"readOnly":true,"type":"string"},"deploy_type":{"description":"可信节点部署类型,CCE.云容器集群,IEF.边缘容器","enum":["CCE","IEF"],"type":"string"},"deployment_event_information":{"description":"可信节点部署类型","readOnly":true,"type":"string"},"high_avail":{"description":"可信节点是否高可用部署","type":"boolean"},"image_id":{"description":"可信节点部署使用的镜像Id","readOnly":true,"type":"string"},"image_version":{"description":"可信节点部署使用的镜像版本","readOnly":true,"type":"string"},"league_id":{"description":"可信节点所在联盟的Id","readOnly":true,"type":"string"},"league_name":{"description":"可信节点所在联盟的名称","readOnly":true,"type":"string"},"league_region_name":{"description":"可信节点所在联盟的区域","readOnly":true,"type":"string"},"league_version":{"description":"可信节点所在联盟的版本","readOnly":true,"type":"string"},"nat_id":{"description":"可信节点使用的网关的Id","readOnly":true,"type":"string"},"storage_mount_type":{"description":"可信节点使用的存储方式,HOST_PATH.本地存储,OBS.对象云存储,SFS_TURBO.极速文件存储","enum":["HOST_PATH","OBS","SFS_TURBO"],"type":"string"}},"title":"TicsAgentDeploy","type":"object"},"TicsAgentDeployBcs":{"description":"区块链相关信息","properties":{"agent_id":{"description":"可信节点Id","readOnly":true,"type":"string"},"bcs_ip":{"description":"区块链ip","readOnly":true,"type":"string"},"block_chain_id":{"description":"区块链Id","readOnly":true,"type":"string"},"block_chain_name":{"description":"区块链名称","readOnly":true,"type":"string"},"channel_name":{"description":"通道名称","readOnly":true,"type":"string"},"org_name":{"description":"组织名称","readOnly":true,"type":"string"},"org_name_hash":{"description":"组织名称的hash","readOnly":true,"type":"string"}},"title":"TicsAgentDeployBcs","type":"object"},"TicsAgentDeployDetail":{"description":"可信节点部署详情","properties":{"agent_access_address":{"description":"可信节点访问地址","readOnly":true,"type":"string"},"agent_id":{"description":"可信节点Id","readOnly":true,"type":"string"},"cce_cluster_id":{"description":"可信节点所在cce集群的Id","readOnly":true,"type":"string"},"cce_cluster_name":{"description":"可信节点所在cce集群的名称","readOnly":true,"type":"string"},"console_ip":{"description":"可信节点所在ip","readOnly":true,"type":"string"},"console_port":{"description":"可信节点服务端口","format":"int32","readOnly":true,"type":"integer"},"host_path":{"description":"主机挂载路径,本地挂载才会有值","readOnly":true,"type":"string"},"ief_instance_id":{"description":"ief白金版实例id, 仅IEF高可用部署有值","readOnly":true,"type":"string"},"namespace_name":{"description":"命名空间名称","readOnly":true,"type":"string"},"obs_pvc_name":{"description":"可信节点CCE部署场景,对象文件存储PVC","readOnly":true,"type":"string"},"persistence_id":{"description":"持久化存储唯一标识","readOnly":true,"type":"string"},"resource_spec_code":{"description":"代理部署规格","readOnly":true,"type":"string"},"web_port":{"description":"可信节点访问端口","format":"int32","readOnly":true,"type":"integer"}},"title":"TicsAgentDeployDetail","type":"object"},"TicsAgentNatCommonInfo":{"description":"可信节点网关公共信息","properties":{"nat_id":{"description":"可信节点绑定的网关id","readOnly":true,"type":"string"},"project_id":{"description":"项目id","readOnly":true,"type":"string"},"subnet_id":{"description":"可信节点绑定的CCE集群所在子网id","readOnly":true,"type":"string"},"vpc_id":{"description":"可信节点绑定的CCE集群所在虚拟私有云id","readOnly":true,"type":"string"}},"title":"TicsAgentNatCommonInfo","type":"object"},"TicsAgentNodeInfo":{"description":"可信节点信息表","properties":{"agent_id":{"description":"可信节点Id","readOnly":true,"type":"string"},"agent_vpcep_eps_id":{"description":"无eip场景下,agent的eps id","readOnly":true,"type":"string"},"ecs_server_id":{"description":"弹性云服务器Id,IEF部署同node_id","readOnly":true,"type":"string"},"league_server_ip_security_group_rule":{"description":"入方向安全组规则ID","readOnly":true,"type":"string"},"league_server_snat_ip":{"description":"联盟server组件的ip,为server的snatip,设置代理节点的入方向安全组规则","readOnly":true,"type":"string"},"nat_eip":{"description":"可信节点绑定的网关的ip,CCE部署时会返回该值","readOnly":true,"type":"string"},"nat_eip_id":{"description":"可信节点绑定的网关的ip的Id,CCE部署时会返回该值","readOnly":true,"type":"string"},"node_az":{"description":"弹性云服务器所在可用区,CCE部署时会返回该值","readOnly":true,"type":"string"},"node_id":{"description":"可信节点部署的虚机id,CCE部署情况返回CCE节点ID。","readOnly":true,"type":"string"},"node_ip":{"description":"弹性云服务器的私网ip","readOnly":true,"type":"string"},"node_name":{"description":"弹性云服务器的名称","readOnly":true,"type":"string"},"server_to_agent_vpcep_epi_id":{"description":"无eip场景下,server访问agent的epi id","readOnly":true,"type":"string"},"server_to_agent_vpcep_epi_ip":{"description":"无eip场景下,server访问agent的ip","readOnly":true,"type":"string"},"snat_rule_id":{"description":"节点绑定的snat id","readOnly":true,"type":"string"}},"title":"TicsAgentNodeInfo","type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"ef1ca49eb70841c38ff5ecd124444f8f","host":"tics.cn-north-4.myhuaweicloud.com","id":"f92d7e871ec2436ea044d11e51f5fb86","info_version":"v1","method":"get","name":"ShowAgentDetail","parameters":null,"paths":{"/v1/{project_id}/agents/{agent_id}":{"get":{"description":"功能描述:用户可以使用该接口获取单个可信计算节点详情信息。","operationId":"ShowAgentDetail","parameters":[{"$ref":"#/components/parameters/project_id"},{"$ref":"#/components/parameters/x-auth-token"},{"$ref":"#/components/parameters/content-Type"},{"$ref":"#/components/parameters/agent_id"}],"responses":{"200":{"content":{"application/json":{"example":{"agent_deploy":{"agent_id":"22a38e92ef7e4284b666b2a14bc29462","agent_name":"agent_7819","aom_flag":true,"bcs_flag":false,"cce_version":"v1.19.10","create_time":"2022-10-08T08:54:26.000+00:00","creator_domain_id":"098593b06a80d2a30f5fc004c28f6da0","creator_id":"098593b08f00d2a34f64c004408b64bc","creator_name":"user01","creator_project_id":"098593b07680d2a32f62c004a482da10","deploy_status":"RUNNING","deploy_type":"CCE","deployment_event_information":"Closing agent container","high_avail":false,"image_id":"115","image_version":"1.15.1","league_id":"ef73b252a0ad4b5db21a12c40a413b2f","league_name":"test","league_region_name":"cn-north-4","league_version":"1.15.1","nat_id":"baedab5b-d120-43a6-b965-5b3d7e2deae5","storage_mount_type":"OBS"},"agent_deploy_bcs":null,"agent_deploy_detail":{"agent_id":"22a38e92ef7e4284b666b2a14bc29462","cce_cluster_id":"233ac994-46e7-11ed-9162-0255ac100b09","cce_cluster_name":"tics-agent-22a38e92ef7e4284b666b2a14bc29462","console_ip":"100.85.116.131","console_port":30912,"namespace_name":"default","obs_pvc_name":"cce-obs-22a38e92ef7e4284b666b2a14bc29462","persistence_id":"pvc-747d6aa1-22cc-4993-a32e-1c6c64f38bdb","resource_spec_code":"agent.middle","web_port":30964},"agent_deploy_nat":{"nat_id":"baedab5b-d120-43a6-b965-5b3d7e2deae5","project_id":"098593b07680d2a32f62c004a482da10","subnet_id":"9cc4bdd1-ad35-4d0f-849c-71d305121f61","vpc_id":"670ad039-5188-4c18-9ca2-a6b29bd18d67"},"agent_deploy_node":{"agent_id":"22a38e92ef7e4284b666b2a14bc29462","ecs_server_id":"5461246e-29fc-4016-b422-4b0db86a89a6","nat_eip":"100.85.116.131","nat_eip_id":"1966fa41-229e-4595-a725-e99266ce9587","node_az":"cn-north-7c","node_id":"8e204053-46e8-11ed-9162-0255ac100b09","node_ip":"192.168.0.208","node_name":"node-22a38e92ef7e4284b666b2a14bc29462-0"}},"schema":{"$ref":"#/components/schemas/AgentDetailVo"}}},"description":"获取计算节点详情信息成功"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}},"description":"获取计算节点详情信息失败"}},"summary":"获取计算节点详情信息","tags":["可信节点管理"],"x-api-type":"doc-open","x-is-registered":"Y","x-request-examples-description-1":"获取计算节点详情信息","x-request-examples-url-1":"GET /v1/{project_id}/agents/{agent_id}","x-support-sdk":"Y"}}},"product_short":"TICS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"获取计算节点详情信息","tags":"可信节点管理","uri":null,"version":"3.0.3"}