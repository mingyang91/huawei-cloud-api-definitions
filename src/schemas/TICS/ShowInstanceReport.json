{"base_path":null,"components":{"parameters":{"content-Type":{"description":"消息体的类型(格式)\n","in":"header","name":"Content-Type","required":true,"schema":{"default":"application/json","example":"application/json","readOnly":true,"type":"string"}},"instance_id":{"description":"实例id,最大32位,字母和数字组成","in":"path","name":"instance_id","required":true,"schema":{"maxLength":32,"minLength":0,"pattern":"[\\w]{0,32}","type":"string"}},"league_id":{"description":"联盟id,最大32位,字母和数字组成","in":"path","name":"league_id","required":true,"schema":{"maxLength":32,"minLength":0,"pattern":"[\\w]{0,32}","type":"string"}},"project_id":{"description":"项目id,最大32位,字母和数字组成","in":"path","name":"project_id","required":true,"schema":{"maxLength":32,"minLength":0,"pattern":"[\\w]{0,32}","type":"string"}},"x-auth-token":{"description":"用户凭证","in":"header","name":"X-Auth-Token","required":true,"schema":{"example":"MIIjKAYJKoZIhvcNAQcxxxx","pattern":"^[\\w|\\+|\\-|=|{|}|\"|:|\\.|,|\\[|\\]]+","type":"string"}}},"schemas":{"DeployVo":{"properties":{"node_id":{"description":"节点Id","example":"4ccb7df8aa0c4ae484879bf8eb8add57","maxLength":32,"minLength":0,"type":"string"},"node_name":{"description":"节点名称","example":"agent1234","maxLength":128,"minLength":0,"type":"string"},"node_partner_alias":{"description":"参与方别名","example":"tics_user","maxLength":128,"minLength":0,"type":"string"},"node_type":{"description":"节点类型,AGENT.计算节点,AGG.聚合节点,AGG_MANAGER.聚合器管理节点,SERVER.控制节点","enum":["AGENT","AGG","AGG_MANAGER","SERVER"],"type":"string"},"stages":{"description":"执行阶段","items":{"$ref":"#/components/schemas/StageVo"},"maxItems":1000,"minItems":0,"type":"array"}},"required":["node_id","node_name","node_partner_alias"],"title":"DeployVo","type":"object"},"ErrorMessage":{"properties":{"error_code":{"description":"错误码","readOnly":true,"type":"string"},"error_msg":{"description":"错误信息","readOnly":true,"type":"string"}},"title":"ErrorMessage","type":"object"},"JobReportBaseInfoVo":{"properties":{"exe_time":{"description":"执行时间","format":"date-time","type":"string"},"executor":{"description":"执行人","example":"tics_user","maxLength":128,"minLength":0,"type":"string"},"hfl_type":{"description":"hfl作业类型枚举,TRAIN.训练,EVALUATE.评估","enum":["EVALUATE","TRAIN"],"example":"EVALUATE","type":"string"},"job_name":{"description":"作业名称","example":"sql_job","maxLength":128,"minLength":0,"type":"string"},"job_type":{"description":"作业类型,HFL.横向联邦,SQL.联邦分析,VFL_EVALUATE.联邦评估,VFL_FEATURE_SELECTION.特征选择,VFL_ID_TRUNCATION.Id截断,VFL_PREDICT.联邦预测,VFL_SAMPLE_ALIGNMENT.样本对齐,VFL_TRAIN.联邦训练","enum":["HFL","SQL","VFL_EVALUATE","VFL_FEATURE_SELECTION","VFL_ID_TRUNCATION","VFL_PREDICT","VFL_SAMPLE_ALIGNMENT","VFL_TRAIN"],"example":"SQL","type":"string"},"status":{"description":"作业任务状态,NEW.新建,SUBMITING.提交中,ACCEPTED.已接收,DEPLOYING.部署中,RUNNING.运行中,SUCCEEDED.成功,FAILED.失败,TERMINATED.中止,TERMINATING.中止中,PENDING.等待中","enum":["ACCEPTED","DEPLOYING","FAILED","NEW","PENDING","RUNNING","SUBMITING","SUCCEEDED","TERMINATED","TERMINATING"],"example":null,"type":"string"}},"required":["hfl_type","job_name","job_type","status"],"title":"JobReportBaseInfoVo","type":"object"},"JobReportEnvVo":{"properties":{"agg_name":{"description":"聚合器名称","example":"agg1","maxLength":128,"minLength":0,"type":"string"},"league_id":{"description":"联盟id","example":"00dc395e76f743f9a414e1155e3f14ba","maxLength":32,"minLength":0,"type":"string"},"league_name":{"description":"联盟名称","example":"联盟VT","maxLength":128,"minLength":0,"type":"string"},"project_id":{"description":"项目id","example":"0833a5737480d53b2f25c010dc1a7b88","maxLength":32,"minLength":0,"type":"string"},"region_id":{"description":"区域","example":"cn-north-7","maxLength":32,"minLength":0,"type":"string"}},"title":"JobReportEnvVo","type":"object"},"JobReportOutputVo":{"properties":{"ext":{"description":"参数等额外信息","example":"一些参数信息","maxLength":1024,"minLength":0,"type":"string"},"result_storage_agent_name":{"description":"结果存储agent名称","example":"test_agent","maxLength":128,"minLength":0,"type":"string"},"result_storage_domain_alias":{"description":"结果存储方别名","example":"ei_tics_test","maxLength":128,"minLength":0,"type":"string"}},"title":"JobReportOutputVo","type":"object"},"JobReportPartnerVo":{"properties":{"agent_name":{"description":"数据集所在代理","example":"agent1234","maxLength":128,"minLength":0,"type":"string"},"data_output_cnt":{"description":"代理输出数据总量","example":2322,"format":"int64","maximum":2147483647,"minimum":0,"type":"integer"},"dataset_name":{"description":"数据集名","example":"emp","maxLength":128,"minLength":0,"type":"string"},"partner_domain_alias":{"description":"租户别名","example":"tics_user","maxLength":128,"minLength":0,"type":"string"},"partner_domain_name":{"description":"租户名","example":"hwcloud_some_domain_name","maxLength":128,"minLength":0,"type":"string"}},"title":"JobReportPartnerVo","type":"object"},"JobReportVo":{"example":{"job_report_base_info":{"exe_time":"2022-10-28T06:33:11.000+00:00","executor":"lisi","hfl_type":null,"job_name":"自定义json","job_type":"VFL_TRAIN","status":"SUCCEEDED"},"job_report_env":{"agg_name":"100.95.147.107(SANDBOX)","league_id":"00a5b6c8ed214c45b7d2f52ca8eb8d86","league_name":"1.15.0_new","project_id":"098593b07680d2a32f62c004a482da10","region_id":"cn-north-7"},"job_report_output":{"ext":null,"metrics":{"accuracy":0.535375,"auc":0.535375,"f1":0.364941,"ks":0.07075,"precision":0.576363,"recall":0.267},"result_storage_agent_name":"agent_5358,agent_4760","result_storage_domain_alias":"league_creator,dayu002"},"job_report_partners":[{"agent_name":"agent_4760","data_output_cnt":0,"dataset_name":"host_train_data","partner_domain_alias":"league_creator","partner_domain_name":"ei_tics_y00321344_01"},{"agent_name":"agent_5358","data_output_cnt":0,"dataset_name":"guest_train_data","partner_domain_alias":"dayu002","partner_domain_name":"ei_dayu_y00321344_01"}],"round_deploys":[{"deploys":[{"node_id":"0ff04349773448b39e3fc5ed0de761aa","node_name":"agent_5358","node_partner_alias":"dayu002","node_type":"AGENT","stages":[{"id":5,"last_step_stage_id":[],"processors":[{"end_time":1666938817000,"exec_duration_nano":22798,"id":"FiBiNetMessagePassing_@0ff04349773448b39e3fc5ed0de761aa#4dc5","last_step_task_ins_id":[],"start_time":1666938794000,"task_in_record_cnt":0,"task_name":"执行FiBiNet计算","task_out_record_cnt":0,"task_show_info":{"ACCUMULATED_PROCESS_INPUT_TIME":"22798ms","FIRST_ITERATION_PROCESS_INPUT_START_TIME":"2022/10/28 14:33:14 GMT+8:00","LAST_ITERATION_PROCESS_INPUT_END_TIME":"2022/10/28 14:33:36 GMT+8:00","calculationStatus":"false","callMessage":"保存计算结果","datasets":"guest_train_data"},"task_status":"SUCCEEDED"}],"stage_name":"执行算法阶段_5"}]},{"node_id":"AGG","node_name":"AGG","node_partner_alias":"","node_type":"AGG","stages":[{"id":4,"last_step_stage_id":[5,6],"processors":[{"end_time":1666938821988,"exec_duration_nano":27948,"id":"FiBiNetCoordinator_@51cd56e53f934368a4d18131c7d76fb6#d6a4","last_step_task_ins_id":["FiBiNetMessagePassing_@0ff04349773448b39e3fc5ed0de761aa#4dc5","FiBiNetMessagePassing_@804a167cd4414ed38f006b252efd18a0#4328"],"start_time":1666938794000,"task_in_record_cnt":0,"task_name":"协调FiBiNet计算","task_out_record_cnt":0,"task_show_info":{"ACCUMULATED_COLLECT_INPUT_TIME":"0ms","ACCUMULATED_OUTPUT_SIZE":"0","ACCUMULATED_PROCESS_INPUT_TIME":"27948ms","CURRENT_ITERATION_COUNT":"1","FIRST_ITERATION_COLLECT_INPUT_START_TIME":"2022/10/28 14:33:14 GMT+8:00","FIRST_ITERATION_PROCESS_INPUT_START_TIME":"2022/10/28 14:33:14 GMT+8:00","LAST_ITERATION_COLLECT_INPUT_END_TIME":"2022/10/28 14:33:14 GMT+8:00","LAST_ITERATION_PROCESS_INPUT_END_TIME":"2022/10/28 14:33:41 GMT+8:00"},"task_status":"SUCCEEDED"}],"stage_name":"协调算法执行阶段_4"}]},{"node_id":"804a167cd4414ed38f006b252efd18a0","node_name":"agent_4760","node_partner_alias":"league_creator","node_type":"AGENT","stages":[{"id":6,"last_step_stage_id":[],"processors":[{"end_time":1666938822000,"exec_duration_nano":27945,"id":"FiBiNetMessagePassing_@804a167cd4414ed38f006b252efd18a0#4328","last_step_task_ins_id":[],"start_time":1666938794000,"task_in_record_cnt":0,"task_name":"执行FiBiNet计算","task_out_record_cnt":0,"task_show_info":{"ACCUMULATED_PROCESS_INPUT_TIME":"27945ms","FIRST_ITERATION_PROCESS_INPUT_START_TIME":"2022/10/28 14:33:14 GMT+8:00","LAST_ITERATION_PROCESS_INPUT_END_TIME":"2022/10/28 14:33:41 GMT+8:00","calculationStatus":"false","callMessage":"保存计算结果","datasets":"host_train_data"},"task_status":"SUCCEEDED"}],"stage_name":"执行算法阶段_6"}]}],"round_id":1}]},"properties":{"job_report_base_info":{"$ref":"#/components/schemas/JobReportBaseInfoVo","description":"基本信息"},"job_report_env":{"$ref":"#/components/schemas/JobReportEnvVo","description":"执行环境"},"job_report_output":{"$ref":"#/components/schemas/JobReportOutputVo","description":"作业输出"},"job_report_partners":{"description":"合作方信息","items":{"$ref":"#/components/schemas/JobReportPartnerVo"},"maxItems":1000,"minItems":0,"type":"array"},"round_deploys":{"description":"计算过程","items":{"$ref":"#/components/schemas/RoundDeployVo"},"readOnly":true,"type":"array"}},"title":"JobReportVo","type":"object"},"ProcessorVo":{"properties":{"end_time":{"description":"结束时间","format":"int64","readOnly":true,"type":"integer"},"exec_duration_nano":{"description":"执行时长","example":600000,"format":"int64","readOnly":true,"type":"integer"},"id":{"description":"执行过程id","example":"88db64845d5242ee896fc46cc9e4c9ba","maxLength":32,"minLength":0,"readOnly":true,"type":"string"},"last_step_task_ins_id":{"description":"上游子任务id","items":{"readOnly":true,"type":"string"},"readOnly":true,"type":"array"},"start_time":{"description":"开始时间","format":"int64","readOnly":true,"type":"integer"},"task_in_record_cnt":{"description":"输入个数","example":2,"format":"int64","readOnly":true,"type":"integer"},"task_name":{"description":"执行过程名称","example":"数据加密过程","maxLength":128,"minLength":0,"readOnly":true,"type":"string"},"task_out_record_cnt":{"description":"输出个数","example":2,"format":"int64","readOnly":true,"type":"integer"},"task_show_info":{"description":"processor对外展示信息,k,v","readOnly":true,"type":"object"},"task_status":{"description":"执行状态,作业任务状态,NEW.新建,SUBMITING.提交中,ACCEPTED.已接收,DEPLOYING.部署中,RUNNING.运行中,SUCCEEDED.成功,FAILED.失败,TERMINATED.中止,TERMINATING.中止中,PENDING.等待中","enum":["ACCEPTED","DEPLOYING","FAILED","NEW","PENDING","RUNNING","SUBMITING","SUCCEEDED","TERMINATED","TERMINATING"],"type":"string"}},"required":["id","task_name"],"title":"ProcessorVo","type":"object"},"RoundDeployVo":{"properties":{"deploys":{"description":"deploy","items":{"$ref":"#/components/schemas/DeployVo"},"readOnly":true,"type":"array"},"round_id":{"description":"轮数","example":1,"format":"int32","readOnly":true,"type":"integer"}},"title":"RoundDeployVo","type":"object"},"StageVo":{"properties":{"id":{"description":"执行阶段id","format":"int32","readOnly":true,"type":"integer"},"last_step_stage_id":{"description":"上游的stageId","items":{"format":"int32","readOnly":true,"type":"integer"},"readOnly":true,"type":"array"},"processors":{"description":"执行过程","items":{"$ref":"#/components/schemas/ProcessorVo"},"readOnly":true,"type":"array"},"stage_name":{"description":"执行阶段名称","example":"数据加密阶段","maxLength":128,"minLength":0,"type":"string"}},"required":["id"],"title":"StageVo","type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"ef1ca49eb70841c38ff5ecd124444f8f","host":"tics.cn-north-4.myhuaweicloud.com","id":"4a100ea26ec843b6839529d812c5c26a","info_version":"v1","method":"get","name":"ShowInstanceReport","parameters":null,"paths":{"/v1/{project_id}/leagues/{league_id}/job-instances/{instance_id}/report":{"get":{"description":"查询实例执行报告","operationId":"ShowInstanceReport","parameters":[{"$ref":"#/components/parameters/instance_id"},{"$ref":"#/components/parameters/league_id"},{"$ref":"#/components/parameters/project_id"},{"$ref":"#/components/parameters/x-auth-token"},{"$ref":"#/components/parameters/content-Type"}],"responses":{"200":{"content":{"application/json":{"example":{"job_report_base_info":{"exe_time":"2022-10-28T06:33:11.000+00:00","executor":"lisi","hfl_type":null,"job_name":"自定义json","job_type":"VFL_TRAIN","status":"SUCCEEDED"},"job_report_env":{"agg_name":"100.95.147.107(SANDBOX)","league_id":"00a5b6c8ed214c45b7d2f52ca8eb8d86","league_name":"1.15.0_new","project_id":"098593b07680d2a32f62c004a482da10","region_id":"cn-north-7"},"job_report_output":{"ext":null,"metrics":{"accuracy":0.535375,"auc":0.535375,"f1":0.364941,"ks":0.07075,"precision":0.576363,"recall":0.267},"result_storage_agent_name":"agent_5358,agent_4760","result_storage_domain_alias":"league_creator,dayu002"},"job_report_partners":[{"agent_name":"agent_4760","data_output_cnt":0,"dataset_name":"host_train_data","partner_domain_alias":"league_creator","partner_domain_name":"user2"},{"agent_name":"agent_5358","data_output_cnt":0,"dataset_name":"guest_train_data","partner_domain_alias":"dayu002","partner_domain_name":"user1"}],"round_deploys":[{"deploys":[{"node_id":"0ff04349773448b39e3fc5ed0de761aa","node_name":"agent_5358","node_partner_alias":"dayu002","node_type":"AGENT","stages":[{"id":5,"last_step_stage_id":[],"processors":[{"end_time":1666938817000,"exec_duration_nano":22798,"id":"FiBiNetMessagePassing_@0ff04349773448b39e3fc5ed0de761aa#4dc5","last_step_task_ins_id":[],"start_time":1666938794000,"task_in_record_cnt":0,"task_name":"执行FiBiNet计算","task_out_record_cnt":0,"task_show_info":{"ACCUMULATED_PROCESS_INPUT_TIME":"22798ms","FIRST_ITERATION_PROCESS_INPUT_START_TIME":"2022/10/28 14:33:14 GMT+8:00","LAST_ITERATION_PROCESS_INPUT_END_TIME":"2022/10/28 14:33:36 GMT+8:00","calculationStatus":"false","callMessage":"保存计算结果","datasets":"guest_train_data"},"task_status":"SUCCEEDED"}],"stage_name":"执行算法阶段_5"}]},{"node_id":"AGG","node_name":"AGG","node_partner_alias":"","node_type":"AGG","stages":[{"id":4,"last_step_stage_id":[5,6],"processors":[{"end_time":1666938821988,"exec_duration_nano":27948,"id":"FiBiNetCoordinator_@51cd56e53f934368a4d18131c7d76fb6#d6a4","last_step_task_ins_id":["FiBiNetMessagePassing_@0ff04349773448b39e3fc5ed0de761aa#4dc5","FiBiNetMessagePassing_@804a167cd4414ed38f006b252efd18a0#4328"],"start_time":1666938794000,"task_in_record_cnt":0,"task_name":"协调FiBiNet计算","task_out_record_cnt":0,"task_show_info":{"ACCUMULATED_COLLECT_INPUT_TIME":"0ms","ACCUMULATED_OUTPUT_SIZE":"0","ACCUMULATED_PROCESS_INPUT_TIME":"27948ms","CURRENT_ITERATION_COUNT":"1","FIRST_ITERATION_COLLECT_INPUT_START_TIME":"2022/10/28 14:33:14 GMT+8:00","FIRST_ITERATION_PROCESS_INPUT_START_TIME":"2022/10/28 14:33:14 GMT+8:00","LAST_ITERATION_COLLECT_INPUT_END_TIME":"2022/10/28 14:33:14 GMT+8:00","LAST_ITERATION_PROCESS_INPUT_END_TIME":"2022/10/28 14:33:41 GMT+8:00"},"task_status":"SUCCEEDED"}],"stage_name":"协调算法执行阶段_4"}]},{"node_id":"804a167cd4414ed38f006b252efd18a0","node_name":"agent_4760","node_partner_alias":"league_creator","node_type":"AGENT","stages":[{"id":6,"last_step_stage_id":[],"processors":[{"end_time":1666938822000,"exec_duration_nano":27945,"id":"FiBiNetMessagePassing_@804a167cd4414ed38f006b252efd18a0#4328","last_step_task_ins_id":[],"start_time":1666938794000,"task_in_record_cnt":0,"task_name":"执行FiBiNet计算","task_out_record_cnt":0,"task_show_info":{"ACCUMULATED_PROCESS_INPUT_TIME":"27945ms","FIRST_ITERATION_PROCESS_INPUT_START_TIME":"2022/10/28 14:33:14 GMT+8:00","LAST_ITERATION_PROCESS_INPUT_END_TIME":"2022/10/28 14:33:41 GMT+8:00","calculationStatus":"false","callMessage":"保存计算结果","datasets":"host_train_data"},"task_status":"SUCCEEDED"}],"stage_name":"执行算法阶段_6"}]}],"round_id":1}]},"schema":{"$ref":"#/components/schemas/JobReportVo"}}},"description":"查询实例执行报告成功"},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}},"description":"操作无权限"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}},"description":"内部服务器错误"}},"summary":"查询实例执行报告","tags":["作业实例管理"],"x-api-type":"doc-open","x-is-registered":"Y","x-request-examples-description-1":"查询实例执行报告","x-request-examples-url-1":"get /v1/{project_id}/leagues/{league_id}/job-instances/{instance_id}/report","x-support-sdk":"Y"}}},"product_short":"TICS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询实例执行报告","tags":"作业实例管理","uri":null,"version":"3.0.3"}