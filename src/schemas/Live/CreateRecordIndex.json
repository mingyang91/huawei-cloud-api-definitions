{"base_path":"/","components":null,"consumes":"[\"application/json; charset=UTF-8\"]","definitions":{"ErrorResponse":{"properties":{"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误描述","type":"string"}},"required":["error_code","error_msg"],"type":"object"},"RecordIndexInfo":{"properties":{"app":{"description":"应用名,如果任意应用填写*。录制规则匹配的时候,优先精确app匹配,如果匹配不到,则匹配*","example":"live","maxLength":128,"minLength":1,"type":"string"},"bucket":{"description":"桶名称","example":"Bucket","maxLength":255,"minLength":1,"type":"string"},"duration":{"description":"录制时长。单位:秒。","example":1800,"format":"int32","maximum":72000,"minimum":0,"type":"integer"},"end_time":{"description":"结束时间。格式为:yyyy-MM-ddTHH:mm:ssZ(UTC时间)。(实际视频的结束时间)","example":"2012-06-13T06:00:01Z","format":"date-time","type":"string"},"height":{"description":"视频高。","example":720,"format":"int32","maximum":65535,"minimum":0,"type":"integer"},"index_url":{"description":"索引文件地址","example":"http://obs***.com/***/***/stream.m3u8","format":"url","type":"string"},"location":{"description":"OBS Bucket所在RegionID","enum":["cn-north-4","cn-north-5","cn-north-6"],"example":"cn-north-4","type":"string"},"object":{"description":"m3u8文件路径。默认Index/{publish_domain}/{app}/{stream}-{start_time}-{end_time}","example":"push.example.com/live/stream-example-2012-06-12T17:59:58Z-2012-06-13T06:00:01","type":"string"},"publish_domain":{"description":"直播推流域名","example":"push.example.com","format":"url","type":"string"},"start_time":{"description":"开始时间。格式为:yyyy-MM-ddTHH:mm:ssZ(UTC时间)。(实际视频的开始时间)","example":"2012-06-12T17:59:58Z","format":"date-time","type":"string"},"stream":{"description":"录制的流名,如果任意流名则填写*。录制规则匹配的时候,优先精确stream匹配,如果匹配不到,则匹配*","example":"stream-example","maxLength":128,"minLength":1,"type":"string"},"width":{"description":"视频宽。","example":1080,"format":"int32","maximum":65535,"minimum":0,"type":"integer"}}},"RecordIndexRequestBody":{"properties":{"app":{"description":"app名","example":"live","maxLength":128,"minLength":1,"type":"string"},"end_time":{"description":"结束时间。格式为:YYYY-MM-DDTHH:mm:ssZ(UTC时间),开始时间与结束时间的间隔最大为12小时。结束时间不允许大于当前时间。","example":"2012-06-13T06:00:00Z","format":"date-time","type":"string"},"object":{"description":"\"m3u8文件在OBS中的储存路径。支持下列字符串的转义\n  - {publish_domain}\n  - {app}\n  - {stream}\n  - {start_time}\n  - {end_time}\n其中{start_time},{end_time}为返回结果的实际时间。 默认值为Index/{publish_domain}/{app}/{stream}/{stream}-{start_time}-{end_time}\"","example":"{publish_domain}/{app}/{stream}-{start_time}-{end_time}","type":"string"},"publish_domain":{"description":"推流域名","example":"push.example.com","format":"url","type":"string"},"start_time":{"description":"开始时间。格式为:YYYY-MM-DDTHH:mm:ssZ(UTC时间),开始时间与结束时间的间隔最大为12小时。","example":"2012-06-12T18:00:00Z","format":"date-time","type":"string"},"stream":{"description":"流名","example":"stream-example","maxLength":128,"minLength":1,"type":"string"}},"required":["publish_domain","app","stream","start_time","end_time"]}},"description":null,"group_id":"f01a6cf256d84c16985bc98f70ef068d","host":"live.cn-north-4.myhuaweicloud.com","id":"11d43f5974f14a4ca2fd944ba68bab1d","info_version":"v1","method":"post","name":"CreateRecordIndex","parameters":{},"paths":{"/v1/{project_id}/record/indexes":{"post":{"description":"Create Record Index","operationId":"CreateRecordIndex","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":16384,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"\"项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-live/live_03_0023.html)\"","in":"path","maxLength":64,"minLength":1,"name":"project_id","required":true,"type":"string","x-example":"70b76xxxxxx34253880af501cdxxxxxx"},{"description":"Create Record Index Body","in":"body","name":"CreateRecordIndexRequestBody","required":true,"schema":{"$ref":"#/definitions/RecordIndexRequestBody"}}],"produces":["application/json"],"responses":{"201":{"description":"创建录制视频索引操作成功","headers":{"X-Request-Id":{"description":"此字段携带请求ID号,以便任务跟踪。 格式为 request_id-timestamp-hostname(request_id在服务器端生成UUID, timestamp为当前时间戳,hostname为处理当前接口的服务器名称)","type":"string"}},"schema":{"$ref":"#/definitions/RecordIndexInfo"}},"400":{"description":"创建录制视频索引操作失败","examples":{"application/json":{"error_code":"LIVE.100011001","error_msg":"参数校验失败"}},"headers":{"X-Request-Id":{"description":"此字段携带请求ID号,以便任务跟踪。 格式为 request_id-timestamp-hostname(request_id在服务器端生成UUID, timestamp为当前时间戳,hostname为处理当前接口的服务器名称)","type":"string"}},"schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"创建录制视频索引文件","tags":["录制索引管理"],"x-is-registered":"Y","x-navigation-title":"录制索引管理","x-request-examples-1":{"app":"live","end_time":"2022-07-25T16:30:00+08:00","object":"Index/{publish_domain}/{app}/{stream}/{stream}-{start_time}-{end_time}","publish_domain":"push.example.com","start_time":"2022-07-25T16:20:00+08:00","stream":"index"},"x-request-examples-url-1":"POST https://{endpoint}/v1/{project_id}/record/indexes","x-support-sdk":"Y"}}},"product_short":"Live","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建录制视频索引文件","tags":"录制索引管理","uri":null,"version":"2.0"}