{"base_path":"/","components":null,"consumes":"[\"application/json; charset=UTF-8\"]","definitions":{"ErrorResponse":{"properties":{"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误描述","type":"string"}},"required":["error_code","error_msg"],"type":"object"},"QualityInfo":{"properties":{"PVC":{"default":"on","description":"是否使用窄带高清转码。默认值:off。\n\n注意:该字段已不再维护,建议使用hdlb。\n\n包含如下取值:\n- off:不启用。\n- on:启用。","enum":["on","off"],"type":"string"},"bitrate":{"description":"转码视频的码率\n\n单位:Kbps\n\n取值范围:40-30000","format":"int32","maximum":30000,"minimum":40,"type":"integer"},"bitrate_adaptive":{"description":"自适应码率参数,默认值:off。\n\n包含如下取值:\n- off:关闭码率自适应,目标码率按设定的码率输出;\n- minimum:目标码率按设定码率和源文件码率最小值输出(即码率不上扬);\n- adaptive:目标码率按源文件码率自适应输出。","enum":[false,"minimum","adaptive"],"example":"off","maxLength":32,"minLength":0,"type":"string"},"codec":{"default":"H264","description":"视频编码格式。默认为H264。\n- H264:使用H.264。\n- H265:使用H.265。","enum":["H264","H265"],"type":"string"},"gop":{"default":0,"description":"按时间设置I帧间隔\n\n单位:秒\n\n取值范围:[0,10],默认值:2\n\n注意:gop不为0时,则以gop设置i帧间隔,iFrameInterval字段不生效。","format":"int32","maximum":10,"minimum":0,"type":"integer"},"hdlb":{"default":"off","description":"是否启用高清低码,较PVC相比画质增强。默认值:off。\n\n提示:使用hdlb字段开启高清低码时,PVC字段不生效。\n\n包含如下取值:\n- off:不开启高清低码;\n- on:开启高清低码。","enum":["on","off"],"example":"off","maxLength":64,"minLength":1,"type":"string"},"height":{"description":"视频短边(横屏的高,竖屏的宽)\n\n单位:像素;默认值:0\n- H264 建议取值范围:32-2160,必须为2的倍数。\n- H265 建议取值范围:240-2160,必须为2的倍数。\n\n注意:width和height全为0,则输出分辨率和源一致;width和height只有一个为0, 则分辨率按非0项的比例缩放。","format":"int32","maximum":3840,"minimum":32,"type":"integer"},"iFrameInterval":{"default":0,"description":"最大I帧间隔\n\n单位:帧数\n\n取值范围:[0, 500],默认值:50\n\n注意:若希望通过iFrameInterval设置i帧间隔,请将gop设为0,或不传gop参数。","format":"int32","maximum":500,"minimum":0,"type":"integer"},"i_frame_policy":{"description":"编码输出I帧策略,默认值:auto。\n\n包含如下取值:\n- auto:I帧按设置的gop时长输出;\n- strictSync:编码输出I帧完全和源保持一致(源是I帧则编码输出I帧,源不是I帧则编码非I帧),设置该参数后gop时长设置无效。","enum":["auto","strictSync"],"example":"auto","maxLength":32,"minLength":0,"type":"string"},"protocol":{"default":"RTMP","description":"转码输出支持的协议类型。默认为RTMP。当前只支持RTMP。\n\n包含如下取值:\n- RTMP","enum":["RTMP","HLS","DASH"],"type":"string"},"quality":{"description":"包含如下取值:\n- lud: 超高清,系统缺省名称;\n- lhd: 高清,系统缺省名称;\n- lsd: 标清,系统缺省名称;\n- lld: 流畅,系统缺省名称;\n- userdefine: 视频质量自定义。填写userdefine时,templateName字段不能为空。","type":"string"},"templateName":{"description":"自定义模板名称。\n- 若需要自定义模板名称,请将quality参数设置为userdefine;\n- 多个自定义模板名称之间不能重复;\n- 自定义模板名称不能与其他模板的quality参数重复;\n- 若quality不为userdefine,请勿填写此字段。","example":"templateName_001","type":"string"},"video_frame_rate":{"default":0,"description":"转码视频帧率\n\n单位:fps\n\n默认值:0\n\n取值范围:0-60,0表示保持帧率不变。","format":"int32","maximum":30,"minimum":0,"type":"integer"},"width":{"description":"视频长边(横屏的宽,竖屏的高)\n\n单位:像素;默认值:0\n- H264 建议取值范围:32-3840,必须为2的倍数 。\n- H265 建议取值范围:320-3840 ,必须为2的倍数。\n\n注意:width和height全为0,则输出分辨率和源一致;width和height只有一个为0, 则分辨率按非0项的比例缩放。","format":"int32","maximum":3840,"minimum":32,"type":"integer"}},"required":["quality","bitrate"],"type":"object"},"StreamTranscodingTemplate":{"properties":{"app_name":{"description":"应用名称。\n默认为“live”,若您需要自定义应用名称,请先提交工单申请。","example":"live","maxLength":128,"minLength":1,"type":"string"},"domain":{"description":"推流域名","example":"play.example.huawei.com","maxLength":64,"minLength":1,"type":"string"},"quality_info":{"description":"视频质量信息","items":{"$ref":"#/definitions/QualityInfo"},"type":"array"},"trans_type":{"default":"play","description":"转码流触发模式。\n- play:拉流触发转码。\n- publish:推流触发转码。\n默认为play","enum":["play","publish"],"type":"string"}},"required":["domain","app_name","quality_info"],"type":"object"}},"description":null,"group_id":"f01a6cf256d84c16985bc98f70ef068d","host":"live.cn-north-4.myhuaweicloud.com","id":"f2bd5e9a32384b5989d50a9d56a52ca1","info_version":"v1","method":"post","name":"CreateTranscodingsTemplate","parameters":{},"paths":{"/v1/{project_id}/template/transcodings":{"post":{"description":"创建直播转码模板","operationId":"CreateTranscodingsTemplate","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":16384,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-live/live_03_0023.html)。","in":"path","maxLength":64,"minLength":1,"name":"project_id","required":true,"type":"string","x-example":"70b76xxxxxx34253880af501cdxxxxxx"},{"description":"流转码模板信息","in":"body","name":"CreateTranscodingsTemplateRequestBody","required":true,"schema":{"$ref":"#/definitions/StreamTranscodingTemplate"}}],"responses":{"201":{"description":"创建直播转码模板成功"},"400":{"description":"创建直播转码模板失败","examples":{"application/json":{"error_code":"LIVE.100011001","error_msg":"参数校验失败"}},"schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"创建直播转码模板","tags":["转码模板管理"],"x-apiexplorer-hide":"N","x-is-registered":"Y","x-publishpath":"live_03_0007","x-request-examples-1":{"app_name":"live","domain":"play.example.huawei.com","quality_info":[{"PVC":"off","bitrate":4500,"codec":"H264","height":1080,"protocol":"HLS","quality":"SD","video_frame_rate":20,"width":1920}]},"x-request-examples-url-1":"POST https://{endpoint}/v1/{project_id}/template/transcodings","x-support-sdk":"Y"}}},"product_short":"Live","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建直播转码模板","tags":"转码模板管理","uri":null,"version":"2.0"}