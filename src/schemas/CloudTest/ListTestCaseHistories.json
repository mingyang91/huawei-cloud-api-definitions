{"base_path":"/","components":null,"consumes":"","definitions":{"ElementResourceChangeExternalVo":{"description":"数据信息","properties":{"board_info":{"description":"归属看板信息,用例关联工作项信息使用","items":{"type":"object"},"type":"array"},"key":{"description":"key","example":"ddddd","type":"string"},"object_key":{"description":"对象key","type":"object"},"object_value":{"description":"对象值","type":"object"},"tracker_name":{"description":"工作项类型","example":"AR","type":"string"},"tracker_names":{"description":"缺陷类型","type":"object"},"value":{"description":"值","example":"aaaaa","type":"string"}},"type":"object"},"ExternalTestCaseHistoryVo":{"description":"实际的数据类型:单个对象,集合 或 NULL","properties":{"author":{"description":"资源历史记录创建人ID","example":10001,"type":"string"},"author_name":{"description":"创建人名称","example":"名称","type":"string"},"changes":{"description":"历史记录字段变更列表","items":{"$ref":"#/definitions/ResourceChangeExternalVo"},"type":"array"},"create_date_timestamp":{"description":"创建时间时间戳","example":1660617231016,"format":"int64","type":"integer"},"creation_date":{"description":"创建时间","example":"2022-11-09 16:37:24","format":"date-time","type":"string"},"id":{"description":"历史记录id","example":"001s90u5o2d1","type":"string"},"project_id":{"description":"项目id","example":"p45e51b060f1b4e82916f9d2c33e8eb28","type":"string"},"region":{"description":"逻辑region","example":"szv","type":"string"},"testcase_id":{"description":"用例id","example":"001s16gt6q5","type":"string"}},"title":"资源历史记录","type":"object"},"ListTestCaseHistoriesRequestBody":{"description":"查询用例修改历史记录请求体","properties":{"limit":{"description":"每页显示的条目数量,最大支持200条","example":10,"format":"int32","maximum":200,"minimum":1,"type":"integer"},"offset":{"description":"起始偏移量,表示从此偏移量开始查询,offset大于等于0,小于等于20000","example":0,"format":"int32","maximum":20000,"minimum":0,"type":"integer"},"version_id":{"description":"版本ID(分支ID或测试计划ID),长度11-34位字符(字母和数字)。","example":"932opbuaarweqf","maxLength":34,"minLength":11,"pattern":"^[A-Za-z0-9]{11,34}$","type":"string"}},"required":["offset","limit","version_id"],"type":"object"},"ListTestCaseHistoriesResponseBody":{"description":"查询用例修改历史记录响应体","properties":{"total":{"description":"起始记录数 大于 实际总条数时, 值为0, 分页请求才有此值","format":"int32","title":"符合条件的所有记录数","type":"integer"},"values":{"description":"实际的数据类型:单个对象,集合 或 NULL","items":{"$ref":"#/definitions/ExternalTestCaseHistoryVo"},"title":"本次查询的记录结果","type":"array"}},"title":"查询用例修改历史记录响应体","type":"object"},"OperationResponseBody":{"properties":{"error_code":{"description":"接口调用失败错误码","example":"CLOUDTEST.000XXXXX","type":"string"},"error_msg":{"description":"接口调用失败错误信息","example":"返回的错误信息","type":"string"}}},"ResourceChangeExternalVo":{"description":"历史记录字段变更列表","properties":{"custom_field_type":{"description":"测试用例自定义字段类型","example":"text","type":"string"},"field_name":{"description":"变更字段","example":"name","type":"string"},"new_change_info":{"$ref":"#/definitions/ElementResourceChangeExternalVo","description":"变更后的数据信息"},"old_change_info":{"$ref":"#/definitions/ElementResourceChangeExternalVo","description":"变更前的数据信息"}},"type":"object"}},"description":null,"group_id":"c493303151774dd5942c7d01147ea2ee","host":"cloudtest-ext.cn-north-4.myhuaweicloud.com","id":"4225aa1e7167475bae3da45939bdb65a","info_version":"v1","method":"post","name":"ListTestCaseHistories","parameters":{"X-Auth-Token":{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":100000,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},"project_id":{"description":"项目ID,固定长度32位字符(字母和数字)。","in":"path","maxLength":32,"minLength":32,"name":"project_id","pattern":"^[A-Za-z0-9]{32}$","required":true,"type":"string","x-example":"968ce2c7784f471f8fd2a8d7c8537c84"}},"paths":{"/v1/{project_id}/testcases/{testcase_id}/histories/batch-query":{"post":{"consumes":["application/json"],"description":"查询用例修改历史记录","operationId":"ListTestCaseHistories","parameters":[{"$ref":"#/parameters/X-Auth-Token"},{"$ref":"#/parameters/project_id"},{"description":"用例ID,长度11-34位字符(字母和数字)。","in":"path","maxLength":34,"minLength":11,"name":"testcase_id","pattern":"^[A-Za-z0-9]{11,34}$","required":true,"type":"string","x-example":"932opbu6aaf"},{"description":"查询用例修改历史记录请求体","in":"body","name":"ListTestCaseHistoriesRequestBody","required":true,"schema":{"$ref":"#/definitions/ListTestCaseHistoriesRequestBody"}}],"produces":["application/json;charset=UTF-8"],"responses":{"200":{"description":"查询成功。\n示例1:获取用例历史记录基础示例。\n\n示例2:获取用例历史记录,目录(cataName)、状态(statusName)、等级(rank)、处理人(owner)、迭代(versionName)、模块(moduleName)、版本号(releaseDev)、缺陷(defectId)、需求(issueId)、测试步骤(steps)、描述(description)、预置条件(preparation)均有变更的返回示例。","examples":{"application/json":{"total":1,"values":[{"author":"10001","author_name":"名称","changes":[{"custom_field_type":"text","field_name":"name","new_change_info":{"board_info":[{}],"key":"ddddd","object_key":{},"object_value":{},"tracker_name":"AR","tracker_names":{},"value":"aaaaa"},"old_change_info":{"board_info":[{}],"key":"ddddd","object_key":{},"object_value":{},"tracker_name":"AR","tracker_names":{},"value":"aaaaa"}}],"create_date_timestamp":1660617231016,"creation_date":"2022-11-09 16:37:24","id":"001s90u5o2d1","project_id":"p45e51b060f1b4e82916f9d2c33e8eb28","region":"szv","testcase_id":"001s16gt6q5"}]},"application/json-1":{"total":1,"values":[{"author":"10001","author_name":"名称","changes":[{"field_name":"cataName","new_change_info":{"key":"v9040000u4e90spg","value":"新增子目录(1)"},"old_change_info":{"key":"v9080000upm45j32","value":"222"}},{"field_name":"statusName","new_change_info":{"key":"5","value":"设计中"},"old_change_info":{"key":"6","value":"测试中"}},{"field_name":"rank","new_change_info":{"key":"1","value":"P1"},"old_change_info":{"key":"2","value":"P2"}},{"field_name":"owner","new_change_info":{"key":"2053b1fb30fd434686a4120ac1569870","value":"cwx1119324"},"old_change_info":{"key":"2053b1fb30fadwad2a4120ac1569870","value":"cwx11193xa"}},{"field_name":"versionName","new_change_info":{"key":"26016459","value":"迭代3"},"old_change_info":{"key":"26016449","value":"迭代1"}},{"field_name":"moduleName","new_change_info":{"key":"752017","value":"功能2-子功能1"},"old_change_info":{"key":"752015","value":"功能1-子功能1"}},{"field_name":"releaseDev","new_change_info":{"key":"1.0.0","value":"1.0.0"},"old_change_info":{"key":"2.0.0.1","value":"2.0.0.1"}},{"field_name":"defectId","new_change_info":{"board_info":[],"key":"7213751,7213750,7213756,7213755","object_key":["7213751","7213750","7213756","7213755"],"object_value":["缺陷1","用例关联的缺陷","功能自动化关联缺陷","不关联的bug"],"tracker_names":["Bug","Bug","Bug","Bug"]},"old_change_info":{"board_info":[],"key":"7213756,7213755","object_key":["7213756","7213755"],"object_value":["功能自动化关联缺陷","不关联的bug"],"tracker_names":["Bug","Bug"]}},{"field_name":"issueId","new_change_info":{"board_info":[],"key":"7289957","tracker_name":"Story","value":"3"},"old_change_info":{"board_info":[],"key":"7289959","tracker_name":"Story","value":"1"}},{"field_name":"steps","new_change_info":{"object_value":[{"expect_output":"<p>awda</p>","test_step":"<p>awd</p>"},{"expect_output":"<p>dawdaw</p>","test_step":"<p>awd</p>"}]},"old_change_info":{"object_value":[{"expect_output":"","test_step":""}]}},{"field_name":"name","new_change_info":{"value":"ces10123"},"old_change_info":{"value":"ces10"}},{"field_name":"description","new_change_info":{"value":"awdawawdawdwdawdadwa"},"old_change_info":{"value":"awda"}},{"field_name":"preparation","new_change_info":{"value":"awdawaawwwadd"},"old_change_info":{"value":"awdaw"}}],"create_date_timestamp":1660617231016,"creation_date":"2022-11-09 16:37:24","id":"001s90u5o2d1","project_id":"p45e51b060f1b4e82916f9d2c33e8eb28","region":"szv","testcase_id":"001s16gt6q5"}]}},"schema":{"$ref":"#/definitions/ListTestCaseHistoriesResponseBody"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/OperationResponseBody"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/OperationResponseBody"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/OperationResponseBody"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/OperationResponseBody"}}},"schemes":["https"],"security":[{"apig-auth-iam":[]}],"summary":"查询用例修改历史记录","tags":["自定义测试服务用例管理"],"x-apigateway-cors":false,"x-apigateway-match-mode":"NORMAL","x-apigateway-ratelimit":"CloudTest资源查询类流控","x-apigateway-request-type":"public","x-constraint":"","x-is-registered":"Y","x-name":"查询用例修改历史记录","x-open-region-cloud":"hws","x-request-examples-1":{"limit":10,"offset":0,"version_id":"932opbuaarweqf"},"x-request-examples-description-1":"查询用例修改历史记录","x-request-examples-url-1":"post https://{endpoint}/v1/efdb403066474ab08836b9eeaaa23bca/testcases/u4joiwueroiysx/histories/batch-query","x-scope":"","x-support-sdk":"Y"}}},"product_short":"CloudTest","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"}},"summary":"查询用例修改历史记录","tags":"自定义测试服务用例管理","uri":null,"version":"2.0"}