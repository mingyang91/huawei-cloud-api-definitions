{"base_path":"/","components":null,"consumes":"","definitions":{"AttributeChange":{"description":"对象,包括编号与名称","properties":{"attribute_type":{"description":"发生变更的测试计划属性","type":"string"},"new_value":{"description":"变更后的取值","type":"string"},"old_value":{"description":"变更前的取值","type":"string"}}},"NameAndId":{"description":"对象编号与名称","properties":{"id":{"description":"对象编号","type":"string"},"name":{"description":"对象名称","type":"string"}}},"OperationResponseBody":{"properties":{"error_code":{"description":"接口调用失败错误码","example":"CLOUDTEST.000XXXXX","type":"string"},"error_msg":{"description":"接口调用失败错误信息","example":"返回的错误信息","type":"string"}}},"QueryPlanJournalsResponseBody":{"description":"项目下查询测试计划操作历史返回结构","example":[{"detail":{"added":{"id":"5635182179024818a2a6ade51b0233a6","name":"用例1"},"deleted":{"id":"1f78a84eb87e4100970f62a684cd0e07","name":"用例2"},"journalized_type":"plan","type":"resource/attribute","updated":{"new_value":"Tester","old_value":""}},"operate_time":"2021-07-10","owner":{"id":"7b90e408636344328e44bf70bbae8351","name":"Tester"},"plan_id":"c7c2ddf2ea914164ac6ee76bf11a30ea","project_id":"9b26f58ec29943f681804a6628779a23"}],"items":{"$ref":"#/definitions/TestPlanJournalList"},"type":"array"},"TestPlanJournalDetail":{"description":"测试计划操作历史详情","properties":{"added":{"description":"测试计划资源的添加记录(工作项或者测试用例)","items":{"$ref":"#/definitions/NameAndId"},"type":"array"},"deleted":{"description":"测试计划资源的移除记录(工作项或者测试用例)","items":{"$ref":"#/definitions/NameAndId"},"type":"array"},"journalized_type":{"description":"表明该条变更记录的具体变更类型,例如测试用例(testCase),需求(issue)","type":"string"},"type":{"description":"表明该条变更记录属于基础信息变更还是资源(需求添加移除、用例添加移除)变更","type":"string"},"updated":{"description":"测试计划基础信息变更,包括计划名称,测试类型,计划处理者、版本号、关联迭代、开始日期、截至日期、描述","items":{"$ref":"#/definitions/AttributeChange"},"type":"array"}}},"TestPlanJournalList":{"description":"项目下某个测试计划操作历史列表","properties":{"detail":{"description":"历史记录详情","items":{"$ref":"#/definitions/TestPlanJournalDetail"},"type":"array"},"operate_time":{"description":"变更时间","format":"date","type":"string"},"operator":{"$ref":"#/definitions/NameAndId"},"plan_id":{"description":"测试计划id","type":"string"},"project_id":{"description":"项目id,项目唯一标识,固定长度32位字符","type":"string"}}}},"description":null,"group_id":"c493303151774dd5942c7d01147ea2ee","host":"cloudtest-ext.cn-north-4.myhuaweicloud.com","id":"c61feacd76d74352bc4a55164edb8e63","info_version":"v1","method":"get","name":"ShowPlanJournals","parameters":{"limit":{"default":10,"description":"每页显示的条目数量,最大支持200条","format":"int64","in":"query","maximum":200,"minimum":1,"name":"limit","required":true,"type":"integer","x-example":50},"offset":{"default":0,"description":"起始偏移量,表示从此偏移量开始查询, offset大于等于0","format":"int64","in":"query","maximum":999,"minimum":0,"name":"offset","required":true,"type":"integer","x-example":0}},"paths":{"/v1/projects/{project_id}/plans/{plan_id}/journals":{"get":{"consumes":["application/json"],"description":"查询某测试计划下的操作历史","operationId":"ShowPlanJournals","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"项目id,项目唯一标识,固定长度32位字符","in":"path","name":"project_id","pattern":"[A-Za-z0-9]{32}$","required":true,"type":"string"},{"description":"测试计划id,测试计划的唯一标识,长度11-34位字符","in":"path","name":"plan_id","pattern":"[A-Za-z0-9]{11,34}$","required":true,"type":"string"},{"$ref":"#/parameters/offset"},{"$ref":"#/parameters/limit"}],"produces":["application/json;charset=UTF-8"],"responses":{"201":{"description":"OK","schema":{"$ref":"#/definitions/QueryPlanJournalsResponseBody"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/OperationResponseBody"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/OperationResponseBody"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/OperationResponseBody"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/OperationResponseBody"}}},"schemes":["https"],"security":[{"apig-auth-iam":[]}],"summary":"查询某测试计划下的操作历史","tags":["测试计划管理"],"x-apigateway-backend":{"httpEndpoints":{"address":"10.63.38.190:40115","description":"","method":"GET","path":"/testplan/v1/testhub/projects/{project_id}/plans/{plan_id}/journals","scheme":"https","timeout":20000},"parameters":[{"description":"逻辑region","in":"HEADER","name":"X-AUTH-REGION","origin":"CONSTANT","value":"cn-north-7"},{"description":"项目唯一标识,固定长度32位字符","in":"PATH","name":"project_id","origin":"REQUEST","value":"9b26f58ec29943f681804a6628779a23"},{"description":"测试计划唯一标识,长度11-34位字符","in":"PATH","name":"plan_id","origin":"REQUEST","value":"c4c6a67f6373484ba1c9c4d8452c2632"},{"description":"起始偏移量,表示从此偏移量开始查询, offset大于等于0","in":"QUERY","name":"offset","origin":"REQUEST","value":1},{"description":"每页显示的条目数量,最大支持200条","in":"QUERY","name":"limit","origin":"REQUEST","value":5}],"type":"HTTP"},"x-apigateway-cors":false,"x-apigateway-match-mode":"NORMAL","x-apigateway-request-type":"public","x-constraint":"","x-is-registered":"Y","x-name":"查询某测试计划下的操作历史","x-open-region-cloud":"hws,hws_hk","x-scope":"","x-support-sdk":"Y"}}},"product_short":"CloudTest","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"}},"summary":"查询某测试计划下的操作历史","tags":"测试计划管理","uri":null,"version":"2.0"}