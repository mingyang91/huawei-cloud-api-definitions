{"base_path":null,"components":null,"consumes":"[\"application/json\"]","definitions":{"BaseResponse":{"description":"API响应基类","properties":{"error_code":{"description":"错误码。","maxLength":12,"minLength":0,"type":"string"},"error_msg":{"description":"错误描述。","maxLength":1000,"minLength":0,"type":"string"}}},"JobDetailInfo":{"properties":{"begin_time":{"description":"任务创建时间。","maxLength":55,"minLength":1,"type":"string"},"desktop_name":{"description":"桌面名称。","readOnly":true,"type":"string"},"end_time":{"description":"任务结束时间。","maxLength":55,"minLength":1,"type":"string"},"entities":{"$ref":"#/definitions/JobEntities","description":"Job对象信息。例如:桌面ID、产品ID、用户名。"},"error_code":{"description":"任务执行失败时的错误码。","maxLength":55,"minLength":1,"type":"string"},"fail_reason":{"description":"任务失败原因。","maxLength":255,"minLength":1,"type":"string"},"id":{"description":"任务id。","maxLength":255,"minLength":0,"type":"string"},"ip_address":{"description":"ip地址。","readOnly":true,"type":"string"},"job_id":{"description":"任务ID。","maxLength":255,"minLength":1,"type":"string"},"job_type":{"description":"任务类型。","maxLength":55,"minLength":1,"type":"string"},"mac_address":{"description":"mac地址。","readOnly":true,"type":"string"},"message":{"description":"任务失败原因信息。","maxLength":255,"minLength":1,"type":"string"},"status":{"description":"任务状态。","maxLength":55,"minLength":1,"type":"string"}}},"JobEntities":{"properties":{"desktop_id":{"description":"桌面ID。","maxLength":55,"minLength":1,"type":"string"},"product_id":{"description":"套餐ID。","maxLength":55,"minLength":1,"type":"string"},"user_name":{"description":"用户名。","maxLength":55,"minLength":1,"type":"string"}},"type":"object"},"QueryJobDetailInfoRsp":{"properties":{"jobs":{"description":"任务列表。","items":{"$ref":"#/definitions/JobDetailInfo"},"readOnly":true,"type":"array"},"total_count":{"description":"任务列表总数。","readOnly":true,"type":"integer"}}}},"description":null,"group_id":"7383c32d5d5e4d0481c071faeb994404","host":"workspace.cn-north-4.myhuaweicloud.com","id":"e0e4db21e26f4eb18243e192c3391dfe","info_version":"v2","method":"get","name":"ListItaSubJobs","parameters":{},"paths":{"/v2/{project_id}/workspace-sub-jobs":{"get":{"description":"该接口用于查询异步任务执行情况,比如查询创建桌面的执行状态。","operationId":"ListItaSubJobs","parameters":[{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":15000,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."},{"description":"发送的实体的MIME类型,如:application/json。","in":"header","maxLength":255,"minLength":1,"name":"Content-Type","required":true,"type":"string","x-example":"application/json"},{"description":"项目id。","in":"path","maxLength":255,"minLength":1,"name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"任务状态\n- SUCCESS:成功。\n- RUNNING:运行中。\n- FAILED:失败。\n- WAITING:等待。","in":"query","maxLength":255,"minLength":0,"name":"status","required":false,"type":"string"},{"description":"任务ID。","in":"query","maxLength":255,"minLength":0,"name":"job_id","required":false,"type":"string"},{"description":"任务类型\n - createDesktops:创建桌面任务。\n - applyWorkspace:开通云桌面服务。\n - cancelWorkspace:注销云桌面服务。\n - expandVolumes:  扩容磁盘。\n - addVolumes: 添加磁盘。","in":"query","maxLength":255,"minLength":0,"name":"job_type","required":false,"type":"string"},{"description":"桌面池ID。","in":"query","maxLength":255,"minLength":0,"name":"desktop_pool_id","required":false,"type":"string"},{"default":1000,"description":"用于分页查询,取值范围0~1000,默认1000。","in":"query","maximum":1000,"minimum":0,"name":"limit","required":false,"type":"integer"},{"description":"用于分页查询,查询的起始记录序号,从0开始。","in":"query","maximum":10000,"minimum":0,"name":"offset","required":false,"type":"integer"}],"responses":{"200":{"description":"任务明细响应","examples":{"application/json":{"jobs":[{"begin_time":"2020-04-10 06:45:14","end_time":"2020-04-10 07:06:10","entities":{"desktop_id":"9d30c8ac-77b5-4453-80da-8f027223ee99","product_id":"workspace.c2.large.windows","user_name":"user-test-01"},"id":"e43caef5-e478-4624-9e8c-b0b636331cbc","job_id":"0e2dae94-23ff-449a-bb9c-1b808cf2106d","job_type":"createDesktops","status":"RUNNING"},{"begin_time":"2020-04-10 06:45:14","end_time":"2020-04-10 07:05:49","entities":{"desktop_id":"14cccba0-12a6-4b66-9fd9-57290328f8da","product_id":"workspace.c2.large.windows","user_name":"user-test-01"},"id":"cf5043e9-dd94-43be-9c07-6dba5d43c4d2","job_id":"0e2dae94-23ff-449a-bb9c-1b808cf2106d","job_type":"createDesktops","status":"RUNNING"}],"total_count":2}},"schema":{"$ref":"#/definitions/QueryJobDetailInfoRsp"}},"400":{"description":"由于包含语法错误,当前请求无法被服务器理解。","schema":{"$ref":"#/definitions/BaseResponse"}},"401":{"description":"鉴权失败。","schema":{"$ref":"#/definitions/BaseResponse"}},"403":{"description":"没有操作权限。","schema":{"$ref":"#/definitions/BaseResponse"}},"404":{"description":"找不到资源。","schema":{"$ref":"#/definitions/BaseResponse"}},"405":{"description":"请求中指定的方法不被允许。","schema":{"$ref":"#/definitions/BaseResponse"}},"500":{"description":"服务内部错误,具体返回错误码请参见错误码说明。","schema":{"$ref":"#/definitions/BaseResponse"}},"503":{"description":"服务不可用。","schema":{"$ref":"#/definitions/BaseResponse"}}},"schemes":["https"],"summary":"子任务查询","tags":["Jobs"],"x-apiexplorer-hide":"N","x-apig-group":"public,internal_token","x-apigateway-request-type":"public","x-is-registered":"Y","x-request-examples-url-1":"GET /v2/ac234de25c6741d2b1273da49eea1b9e/workspace-sub-jobs?status=FAILED&status=RUNNING&job_type=createDesktops","x-support-sdk":"Y"}}},"product_short":"Workspace","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"子任务查询","tags":"任务","uri":null,"version":"2.0"}