{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"BackgroundTaskDetailResp":{"description":"任务详情信息响应体","properties":{"progress":{"description":"总体进度,百分比","example":30,"type":"integer"},"remain_time":{"description":"剩余时间(单位秒)","example":100,"type":"integer"},"step_details":{"description":"任务详情列表","items":{"$ref":"#/definitions/StepDetail","type":"object"},"type":"array"}}},"ErrorResponse":{"description":"错误响应体","properties":{"error_code":{"description":"错误码","example":"DCS.4062","maxLength":9,"type":"string"},"error_ext_msg":{"description":"扩展错误信息(暂未使用,赋值为null)","example":null,"maxLength":1024,"type":"string"},"error_msg":{"description":"错误信息","example":"Invalid capacity parameter in the request.","maxLength":1024,"type":"string"}}},"StepDetail":{"description":"任务详情","properties":{"begin_time":{"description":"任务启动时间,格式为2020-06-17T07:38:42.503Z","type":"string"},"end_time":{"description":"任务结束时间,格式为2020-06-17T07:38:42.503Z","type":"string"},"error_code":{"description":"错误码","example":"DCS.4064","type":"string"},"step_id":{"description":"任务id","example":"9d1d1da8-650e-406f-81e4-b3c11515869f","type":"string"},"step_name":{"description":"任务名","example":"preCheck","maxLength":1024,"type":"string"},"step_status":{"description":"任务状态","enum":["FINISH","FAILED","EXECUTING","WAITING"],"example":"FINISH","type":"string"},"sub_step_details":{"description":"子任务详情列表","items":{"$ref":"#/definitions/SubStepDetail","type":"object"},"type":"array"}}},"SubStepDetail":{"description":"子任务详情","properties":{"begin_time":{"description":"任务启动时间,格式为2020-06-17T07:38:42.503Z","type":"string"},"detail":{"description":"子任务的附加属性详情","example":"{node_id:9996c3376318417281fb5e611f3fb1a0,slot_range:[0 5460],full_migration:迁移中,inc_migration:迁移中}","maxLength":1024,"type":"string"},"end_time":{"description":"任务结束时间,格式为2020-06-17T07:38:42.503Z","type":"string"},"error_code":{"description":"错误码","example":"DCS.4066","type":"string"},"sub_step_id":{"description":"任务id","example":"9d1d1da8-650e-406f-81e4-b3c11515869f","type":"string"},"sub_step_name":{"description":"任务名","example":"preCheck","maxLength":1024,"type":"string"},"sub_step_status":{"description":"任务状态","example":"FINISH","type":"string"}}}},"description":null,"group_id":"6d1f519281c6497eba6cbfcc3b6d06e5","host":"dcs.cn-north-4.myhuaweicloud.com","id":"ae58750903c54476ac9cd22389b8f2fa","info_version":"v2","method":"get","name":"ShowBackgroundTaskProgress","parameters":{},"paths":{"/v2/{project_id}/instances/{instance_id}/tasks/{task_id}/progress":{"get":{"description":"查询后台任务详细信息","operationId":"ShowBackgroundTaskProgress","parameters":[{"description":"项目ID。获取方法请参见[获取项目ID](dcs-api-0312045.xml)。","in":"path","name":"project_id","required":true,"type":"string","x-example":"a4d31cb6-3d72-4fdc-8ec9-6e3a41e47f71"},{"description":"实例ID。","in":"path","name":"instance_id","required":true,"type":"string","x-example":"5560df16-cebf-4473-95c4-d1b573c16e79"},{"description":"任务ID。","in":"path","name":"task_id","required":true,"type":"string","x-example":"08ebdc87-add8-4c98-a7ab-20c4515de8f1"}],"responses":{"200":{"description":"查询后台任务详情成功。","examples":{"application/json":{"progress":30,"remain_time":100,"step_details":[{"begin_time":"2022-09-01 11:52:24","end_time":"2022-09-01 11:52:29","error_code":"DCS.4064","step_id":"9d1d1da8-650e-406f-81e4-b3c11515869f","step_name":"前置检查","step_status":"FINISH","sub_step_details":[{"begin_time":"2022-09-01 11:52:24","detail":"","end_time":"2022-09-01 11:52:26","error_code":"DCS.4065","sub_step_id":"4692b05b-fa55-4f7d-9be6-527bde25b424","sub_step_name":"资源检查","sub_step_status":"FINISH"},{"begin_time":"2022-09-01 11:52:26","detail":"","end_time":"2022-09-01 11:52:29","error_code":"DCS.4064","sub_step_id":"4692b05b-fa55-4f7d-9be6-527bde25b425","sub_step_name":"实例状态检查","sub_step_status":"FINISH"}]},{"begin_time":"2022-09-01 11:52:30","end_time":"2022-09-01 11:54:30","error_code":"DCS.4065","step_id":"9d1d1da8-650e-406f-3fad-c4a22515869f","step_name":"数据迁移","step_status":"EXECUTING","sub_step_details":[{"begin_time":"2022-09-01 11:52:30","detail":"{node_id:9996c3376318417281fb5e611f3fb1a0,slot_range:[0 5460],full_migration:迁移中,inc_migration:迁移中}","end_time":"2022-09-01 11:53:30","error_code":"DCS.4065","sub_step_id":"cb58a8ea-b8e2-4626-b3fa-57ab1a830724","sub_step_name":"申请资源","sub_step_status":"FINISH"},{"begin_time":"2022-09-01 11:53:30","detail":"{node_id:5b70f440ccc94789b34a5c98c2ba05ea,slot_range:[5461 10921],full_migration:待开始,inc_migration:待开始}","end_time":"2022-09-01 11:54:30","error_code":"DCS.4066","sub_step_id":"f9df7fd2-b31f-4ec3-bbb1-3dc740326342","sub_step_name":"申请资源","sub_step_status":"FINISH"}]}]}},"schema":{"$ref":"#/definitions/BackgroundTaskDetailResp"}},"400":{"description":"非法请求。","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"认证信息非法","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"请求被拒绝访问。","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"所请求的资源不存在。","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"内部服务错误。","schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"查询后台任务详细信息","tags":["后台任务管理"],"x-api-type":"open-api","x-constraint":"","x-is-registered":"Y","x-name":"查询后台任务详细信息","x-open-region-cloud":"hws,hws_hk","x-request-examples-url-1":"GET https://{dcs_endpoint}/v2/a4d31cb6-3d72-4fdc-8ec9-6e3a41e47f71/instances/5560df16-cebf-4473-95c4-d1b573c16e79/tasks/8abf6e1e72c12e7c0172c15b508500aa/progress","x-scope":"","x-support-sdk":"Y"}}},"product_short":"DCS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询后台任务详细信息","tags":"后台任务管理","uri":null,"version":"2.0"}