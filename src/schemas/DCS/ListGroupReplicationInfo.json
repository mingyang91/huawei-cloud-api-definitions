{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"InstanceGroupListInfo":{"description":"分片列表","properties":{"group_id":{"description":"分片id","example":"995e1f3b-f9c0-4acf-ad9d-89123d1fd12a","type":"string"},"group_name":{"description":"分片名称","example":"group-0","type":"string"},"replication_list":{"description":"每个分片包含的副本列表。","items":{"$ref":"#/definitions/InstanceReplicationListInfo","type":"object"},"type":"array"}}},"InstanceReplicationDimensionsInfo":{"description":"监控指标维度对象信息","properties":{"name":{"description":"监控维度名称","example":"dcs_cluster_redis_node","format":"String","type":"string"},"value":{"description":"维度取值","format":"String","type":"string"}}},"InstanceReplicationListInfo":{"description":"副本列表","properties":{"az_code":{"description":"副本所在的可用区","type":"string"},"dimensions":{"description":"副本对应的监控指标维度信息。可用于调用云监控服务的查询监控数据指标相关接口\n- 副本的监控维度为多维度,返回数组中包含两个维度信息。从云监控查询监控数据时,要按多维度传递指标维度参数,才能查询到监控指标值\n- 第一个维度为副本父维度信息,维度名称为dcs_instance_id,维度值对应副本所在的实例ID\n- 第二个维度,维度名称为dcs_cluster_redis_node,维度值为副本的监控对象ID,与副本ID和节点ID不同。","items":{"$ref":"#/definitions/InstanceReplicationDimensionsInfo","type":"object"},"type":"array"},"is_replication":{"description":"是否是新加副本。","example":false,"type":"boolean"},"node_id":{"description":"节点id。","example":"8aa6999f6de47c69016df0e7ddd223da","type":"string"},"replication_id":{"description":"副本id。","example":"71749f79-e9ea-4173-8bfa-b97357153af8","type":"string"},"replication_ip":{"description":"副本IP。","example":"192.168.0.233","type":"string"},"replication_role":{"description":"副本角色,取值有:\n- master:表示主节点。\n- slave:表示从节点。","example":"master","type":"string"},"status":{"description":"副本状态。","enum":["Active","Inactive"],"example":"Active","type":"string"}}},"QueryInstanceGroupInfoResp":{"description":"分片副本详情信息。","properties":{"group_count":{"description":"实例分片总数。","example":3,"type":"integer"},"group_list":{"description":"分片列表","items":{"$ref":"#/definitions/InstanceGroupListInfo","type":"object"},"type":"array"}}}},"description":null,"group_id":"6d1f519281c6497eba6cbfcc3b6d06e5","host":"dcs.cn-north-4.myhuaweicloud.com","id":"5574f68228e2414aa46f851a974a1476","info_version":"v2","method":"get","name":"ListGroupReplicationInfo","parameters":{},"paths":{"/v2/{project_id}/instance/{instance_id}/groups":{"get":{"description":"查询读写分离实例和集群实例的分片和副本信息,其中,读写分离实例仅Redis4.0和Redis5.0的主备实例支持。","operationId":"ListGroupReplicationInfo","parameters":[{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string","x-example":"666486c2d9b948c1bbea57e714d744fa"},{"description":"实例ID。","in":"path","name":"instance_id","required":true,"type":"string","x-example":"a4d31cb6-3d72-4fdc-8ec9-6e3a41e47f71"}],"responses":{"200":{"description":"查询分片和副本信息成功","examples":{"application/json":{"group_count":3,"group_list":[{"group_id":"35e1bed6-7de5-4898-9eb2-c362c783df15","group_name":"group-0","replication_list":[{"az_code":"cn-north-4b","dimensions":[{"name":"dcs_instance_id","value":"caf2d19f-7783-44b0-be46-8c9da3ef1e94"},{"name":"dcs_cluster_redis_node","value":"8263dc69629c5b2d840e9816fa9c6200"}],"is_replication":false,"node_id":"8abfa7aa73291f15017329e1cda0002d","replication_id":"dfbd3f84-08bc-42f0-b538-01d03e6dc178","replication_ip":"192.168.76.25","replication_role":"master","status":"Active"},{"az_code":"cn-north-4b","dimensions":[{"name":"dcs_instance_id","value":"caf2d19f-7783-44b0-be46-8c9da3ef1e94"},{"name":"dcs_cluster_redis_node","value":"8263dc69629c5b2d840e9816fa9c6201"}],"is_replication":false,"node_id":"8abfa7aa73291f15017329e1cdb0002e","replication_id":"63d4c880-7050-464f-ab19-c8a297474d7d","replication_ip":"192.168.78.207","replication_role":"slave","status":"Active"}]},{"group_id":"579a281f-6e63-4822-b0c7-e45c44b7c807","group_name":"group-1","replication_list":[{"az_code":"cn-north-4b","dimensions":[{"name":"dcs_instance_id","value":"caf2d19f-7783-44b0-be46-8c9da3ef1e94"},{"name":"dcs_cluster_redis_node","value":"8263dc69629c5b2d840e9816fa9c6202"}],"is_replication":false,"node_id":"8abfa7aa73291f15017329e1cdbd002f","replication_id":"6284c192-48d1-462b-8fd9-45dad067c1a2","replication_ip":"192.168.73.164","replication_role":"master","status":"Active"},{"az_code":"cn-north-4b","dimensions":[{"name":"dcs_instance_id","value":"caf2d19f-7783-44b0-be46-8c9da3ef1e94"},{"name":"dcs_cluster_redis_node","value":"8263dc69629c5b2d840e9816fa9c6203"}],"is_replication":false,"node_id":"8abfa7aa73291f15017329e1cdc80030","replication_id":"b927de3b-42f3-45b5-b0e4-8547f0ef6727","replication_ip":"192.168.77.172","replication_role":"slave","status":"Active"}]},{"group_id":"c17305c6-6651-42d9-86bf-5a6087076eb7","group_name":"group-2","replication_list":[{"az_code":"cn-north-4b","dimensions":[{"name":"dcs_instance_id","value":"caf2d19f-7783-44b0-be46-8c9da3ef1e94"},{"name":"dcs_cluster_redis_node","value":"8263dc69629c5b2d840e9816fa9c6204"}],"is_replication":false,"node_id":"8abfa7aa73291f15017329e1cdd90031","replication_id":"caa6636d-a5c1-43b8-990a-3dc134da4522","replication_ip":"192.168.76.143","replication_role":"master","status":"Active"},{"az_code":"cn-north-4b","dimensions":[{"name":"dcs_instance_id","value":"caf2d19f-7783-44b0-be46-8c9da3ef1e94"},{"name":"dcs_cluster_redis_node","value":"8263dc69629c5b2d840e9816fa9c6205"}],"is_replication":false,"node_id":"8abfa7aa73291f15017329e1cde50032","replication_id":"4f46790d-a0b0-4a1b-aa02-1c554fccf62d","replication_ip":"192.168.72.66","replication_role":"slave","status":"Active"}]}]}},"schema":{"$ref":"#/definitions/QueryInstanceGroupInfoResp"}},"400":{"description":"非法请求"},"500":{"description":"内部服务错误"}},"summary":"查询分片信息","tags":["分片与副本"],"x-constraint":"","x-hybridcloud":true,"x-is-registered":"Y","x-name":"查询分片和副本信息","x-produc-type":"dcs","x-request-examples-url-1":"GET https://{dcs_endpoint}/v2/{project_id}/instance/{instance_id}/groups","x-scope":"","x-support-sdk":"Y"}}},"product_short":"DCS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询分片信息","tags":"分片与副本","uri":null,"version":"2.0"}