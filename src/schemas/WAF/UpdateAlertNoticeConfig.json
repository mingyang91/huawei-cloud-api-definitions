{"base_path":"/","components":null,"consumes":"","definitions":{"RestErrorResponse":{"properties":{"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误信息","type":"string"}},"title":"RestErrorResponse","type":"object"},"UpdateAlertNoticeConfigRequestBody":{"description":"更新告警通知请求信息","properties":{"enabled":{"description":"是否开启 \n - false: 不开启 \n - true: 开启","type":"boolean"},"is_all_enterprise_project":{"description":"是否是所有企业项目","type":"boolean"},"locale":{"description":"语言 \n - zh-cn:中文 \n - en-us","type":"string"},"name":{"description":"告警通知名称","type":"string"},"nearly_expired_time":{"description":"提前通知天数,通知类型为证书到期通知需要填写该参数","type":"string"},"notice_class":{"description":"通知类型  \n - threat_alert_notice: 防护事件  \n - cert_alert_notice: 证书到期","type":"string"},"sendfreq":{"default":5,"description":"时间间隔,单位为分钟。当通知类型为防护事件时,该参数表示在改时间间隔内,攻击次数等于或者大于设定阈值时,将发送告警通知,支持的值:5、15、30、60、120、360、720、1440;当通知类型为证书到期时,该参数表示每隔多长时间发送一次告警通知,支持的值为1440、10080(单位为分钟)。","format":"int32","type":"integer"},"threat":{"description":"事件类型","items":{"type":"string"},"type":"array"},"times":{"default":1,"description":"当通知类型为防护事件时,需要填写该参数。在该时间间隔内,当攻击次数大于或等于您设置的阈值时才会发送告警通知","format":"int32","type":"integer"},"topic_urn":{"description":"主题URN,通过消息通知服务获取","type":"string"}},"required":["name","topic_urn","notice_class"]},"UpdateAlertNoticeConfigResponseBody":{"description":"告警通知配置信息","properties":{"enabled":{"description":"是否开启 \n - false: 不开启 \n - true: 开启","type":"boolean"},"enterprise_project_id":{"description":"企业项目ID","type":"string"},"id":{"description":"ID","type":"string"},"is_all_enterprise_project":{"default":true,"description":"是否是所有企业项目","type":"boolean"},"locale":{"description":"语言","type":"string"},"name":{"description":"告警通知名称","type":"string"},"nearly_expired_time":{"description":"提前通知天数","type":"string"},"notice_class":{"description":"通知类型","type":"string"},"prefer_html":{"default":false,"description":"预留参数,可忽略","type":"boolean"},"sendfreq":{"description":"时间间隔,单位为分钟。当通知类型为防护事件时,该参数表示在改时间间隔内,攻击次数等于或者大于设定阈值时,将发送告警通知,支持的值:5、15、30、60、120、360、720、1440;当通知类型为证书到期时,该参数表示每隔多长时间发送一次告警通知,支持的值为1440、10080(单位为分钟)。","format":"int32","type":"integer"},"threat":{"description":"事件类型","items":{"type":"string"},"type":"array"},"times":{"default":1,"description":"当通知类型为防护事件时,需要填写该参数。在该时间间隔内,当攻击次数大于或等于您设置的阈值时才会发送告警通知","format":"int32","type":"integer"},"topic_urn":{"description":"主题","type":"string"},"update_time":{"description":"更新时间","format":"int64","type":"integer"}}}},"description":null,"group_id":"29975c0bd7ce463ca70ad5c074e3974b","host":"waf.cn-north-4.myhuaweicloud.com","id":"cefd45fc8b0548aeb4decf15532b6194","info_version":"v1","method":"put","name":"UpdateAlertNoticeConfig","parameters":{},"paths":{"/v2/{project_id}/waf/alert/{alert_id}":{"put":{"description":"更新告警通知配置","operationId":"UpdateAlertNoticeConfig","parameters":[{"description":"用户项目ID","in":"path","name":"project_id","required":true,"type":"string"},{"description":"租户token","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"default":"application/json;charset=utf8","description":"内容类型","in":"header","name":"Content-Type","required":true,"type":"string"},{"description":"zh-cn/en-us","in":"header","name":"X-Language","required":true,"type":"string"},{"description":"告警通知id","in":"path","name":"alert_id","required":true,"type":"string"},{"description":"请求body","in":"body","name":"UpdateAlertNoticeConfigRequestBody","required":true,"schema":{"$ref":"#/definitions/UpdateAlertNoticeConfigRequestBody"}}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"请求成功","examples":{"application/json":{"enabled":true,"enterprise_project_id":"0","id":"7a19ee86a7dc43f0b12093decb795096","is_all_enterprise_project":true,"locale":"zh-cn","name":"demo","nearly_expired_time":60,"notice_class":"cert_alert_notice","prefer_html":false,"sendfreq":10080,"threat":[],"times":1,"topic_urn":"urn:smn:cn-north-7:550500b49078408682d0d4f7d923f3e1:ces_zyh_test"}},"schema":{"$ref":"#/definitions/UpdateAlertNoticeConfigResponseBody"}},"400":{"description":"请求失败","schema":{"$ref":"#/definitions/RestErrorResponse"}},"401":{"description":"token权限不足","schema":{"$ref":"#/definitions/RestErrorResponse"}},"500":{"description":"服务器内部错误","schema":{"$ref":"#/definitions/RestErrorResponse"}}},"summary":"更新告警通知配置","tags":["告警管理"],"x-constraint":"中东-阿布扎比暂不支持该功能。","x-is-registered":"Y","x-request-examples-1":{"name":"test","nearly_expired_time":60,"notice_class":"cert_alert_notice","sendfreq":10080,"topic_urn":"urn:smn:cn-north-7:550500b49078408682d0d4f7d923f3e1:ces_zyh_test"},"x-request-examples-description-1":"更新项目id为project_id的告警通知配置,更新通知类型为证书到期,主题URN为 \"urn:smn:cn-north-7:550500b49078408682d0d4f7d923f3e1:ces_zyh_test\",告警通知名称为“test”,提前60天通知,时间间隔10080分钟一次。","x-request-examples-url-1":"PUT https://{Endpoint}/v2/{project_id}/waf/alert/{alert_id}?enterprise_project_id=0","x-support-international":true,"x-support-sdk":"Y"}}},"product_short":"WAF","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"更新告警通知配置","tags":"告警管理","uri":null,"version":"2.0"}