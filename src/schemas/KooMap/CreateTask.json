{"base_path":"/","components":null,"consumes":"","definitions":{"CreateTaskDto":{"description":"创建任务请求体","properties":{"coordination":{"description":"成果影像坐标。","type":"string"},"csv_ids":{"description":"生产资料(csv文件)ID。","items":{"type":"string"},"type":"array"},"data_alias":{"additionalProperties":{"type":"string"},"description":"成果影像别名。\nkey从“校验原始影像文件”接口获取。\n- key:成果影像名称\n- value:成果影像别名","type":"object"},"data_description":{"additionalProperties":{"type":"string"},"description":"成果影像描述。","type":"object"},"data_ids":{"description":"待处理影像文件ID列表。","items":{"pattern":"^[a-z0-9]{32}$","type":"string"},"type":"array"},"isClip":{"description":"是否为矢量切割。\n- 0:否\n- 1:是","type":"string"},"isTile":{"description":"是否为金字塔切割。\n- 0:否\n- 1:是","type":"string"},"production_level":{"description":"任务输出结果影像级别,当前支持以下级别: L2、L3、L4、L5。","type":"string"},"shape_id":{"description":"矢量数据文件ID,“isClip”为“1”时必填。","maxLength":32,"minLength":32,"pattern":"^[a-z0-9]{32}$","type":"string"},"task_description":{"description":"任务描述,支持中英文、数字和“_”,长度为[0,255]。","maxLength":255,"minLength":0,"pattern":"[\\u4e00-\\u9fa5_a-zA-Z0-9_]{0,255}","type":"string"},"task_name":{"description":"任务名称,支持中英文、数字和“_”,长度为[1,50]。","maxLength":50,"minLength":1,"pattern":"[\\u4e00-\\u9fa5_a-zA-Z0-9_]{1,50}","type":"string"},"task_type":{"description":"任务类型,当前仅支持ORSIP(卫星影像生产)。","type":"string"},"workspace_id":{"description":"任务所属工作共享空间ID。","maxLength":32,"minLength":32,"pattern":"^[a-z0-9]{32}$","type":"string"}},"required":["task_name","task_type","workspace_id","data_ids","production_level","data_alias","coordination","data_description","csv_ids","isClip","isTile"],"type":"object"},"ErrorMsg":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"请求状态码。","maxLength":36,"minLength":3,"type":"string"},"error_msg":{"description":"错误描述。","maxLength":512,"minLength":2,"type":"string"}},"required":["error_code","error_msg"],"type":"object"},"TaskVo":{"properties":{"create_time":{"description":"创建时间。","example":"2022-11-07T08:54:36Z","type":"string"},"creator":{"description":"创建者ID。","example":"this is a demo","maxLength":512,"minLength":2,"type":"string"},"data_id":{"description":"数据ID。","example":["aab1b0770a2a4fcbbb6a6f422b1163b7","add9499ddcca4882bcaf91170d3d5e59"],"type":"string"},"domain_id":{"description":"租户ID。","type":"string"},"exec_start_time":{"description":"开始操作时间。\n缺省值:null","example":"2022-11-07T08:54:36Z","type":"string"},"exec_stop_time":{"description":"停止操作时间。\n缺省值:null","example":"2022-11-07T08:54:36Z","type":"string"},"fail_message":{"description":"任务失败原因。","type":"string"},"frozen_tag":{"description":"任务冻结状态。当前仅支持frozen(冻结中)。","type":"string"},"image_url":{"description":"影像链接。","type":"string"},"isClip":{"description":"是否为矢量切割。\n- 0:否\n- 1:是","type":"string"},"isTile":{"description":"是否为金字塔切割。\n- 0:否\n- 1:是","type":"string"},"is_deleted":{"description":"是否删除。\n- 0:未删除\n- 1:已删除","format":"int32","type":"integer"},"origin_data_alias":{"description":"原始数据别名。","type":"string"},"production_level":{"description":"任务输出结果影像级别,当前支持以下级别: L2、L3、L4、L5。","type":"string"},"shape_id":{"description":"矢量数据文件ID,“isClip”为“1”时必填。","type":"string"},"task_description":{"description":"任务描述。","type":"string"},"task_id":{"description":"任务唯一标识ID。","example":"28f61af50fc9452aa0ed5ea25c3cc3d3","maxLength":36,"minLength":32,"type":"string"},"task_name":{"description":"任务名称。","example":"MyDemo","maxLength":64,"minLength":2,"type":"string"},"task_progress":{"description":"任务执行进度。","example":0.0,"type":"string"},"task_status":{"description":"任务状态。包括INIT(初始化)、RUNNING(运行中)、SUCCESS(执行成功)、ARCHIVED(已归档)、FAILED(执行失败)、STOPPING(停止中)、STOP_SUCCESS(已停止)、STOP_FAILED(停止失败)、START_RUNNING(等待中)。","type":"string"},"task_type":{"description":"任务类型。\n当前仅支持ORSIP(卫星影像生产)。","type":"string"},"workspace_id":{"description":"工作共享空间ID。","example":"56bf8e2767cd4b44b86e16c21f769c66","type":"string"}},"required":["task_id","workspace_id","data_id","task_name","creator","create_time","task_status","task_type","production_level","task_progress"],"type":"object"}},"description":null,"group_id":"c6d55a9633064ef89f03a6779af07821","host":"koomap.cn-north-4.myhuaweicloud.com","id":"eb604ea800344cdeb81eb15d7ace21f5","info_version":"v1","method":"post","name":"CreateTask","parameters":{},"paths":{"/v1/kmp-control/tasks":{"post":{"description":"在工作共享空间内新建数据处理任务,新建任务的“成果影像名称”参数可从“校验原始影像文件”接口中获取。","operationId":"CreateTask","parameters":[{"in":"body","name":"task_dto","required":true,"schema":{"$ref":"#/definitions/CreateTaskDto"}},{"description":"IAM Token信息,用于租户鉴权,该字段由租户请求IAM的Token接口获得。","in":"header","name":"X-Auth-Token","required":true,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"请求成功。","examples":{"application/json":{"create_time":"2023-02-17T09:27:07Z","creator":"xxxxx","data_id":"[\"ed9313d537dd4cf7a6a7758f942xxxxx\",\"8dc0d6187b8e4f429c2d20d340xxxxxa\"]","domain_id":"234602bf93714dcba145eaa45xxxxxxx","exec_start_time":null,"exec_stop_time":null,"frozen_tag":null,"image_url":null,"is_clip":"0","is_deleted":0,"is_tile":"0","origin_data_alias":null,"production_level":"L2","shape_id":null,"task_description":"测试","task_id":"4d40e927514a40898d23a20155xxxxxx","task_name":"测试","task_progress":"0.0","task_status":"INIT","task_type":"ORSIP","workspace_id":"dfa3527b45a24de6a2d0ddbcb8xxxxxx"}},"schema":{"$ref":"#/definitions/TaskVo"}},"400":{"description":"非法请求。","schema":{"$ref":"#/definitions/ErrorMsg"}},"500":{"description":"服务内部错误。","schema":{"$ref":"#/definitions/ErrorMsg"}}},"security":[{"apig-auth-iam":[]}],"summary":"新建任务","tags":["卫星影像任务管理"],"x-apigateway-request-type":"Public","x-is-registered":"Y","x-opseverity":"Info","x-order":0,"x-request-examples-1":"{\n  \"task_name\": \"这是任务描述\",\n  \"task_type\": \"ORSIP\",\n  \"data_ids\": [\n    \"ed9313d537dd4cf7a6a7758f9xxxxd84\",\n    \"8dc0d6187b8e4f429c2d20d34xxxxx5a\"\n  ],\n  \"production_level\": \"L2\",\n  \"task_description\": \"这是任务描述\",\n  \"workspace_id\": \"dfa3527b45a24de6a2d0ddbcb8xxxxxx\",\n  \"shape_id\": null,\n  \"data_alias\": {\n    \"JL1_20160112_203_0018_L2\": \"JL1_20160112_203_0018_L2\"\n  },\n  \"coordination\": \"WGS84\",\n  \"data_description\": {\n    \"JL1_20160112_203_0018_L2\": null\n  },\n  \"csv_ids\": [3cd09e0xbf7949a59c9ec14012a4xxxx],\n  \"is_clip\": \"0\",\n  \"is_tile\": \"0\"\n}","x-request-examples-description-1":"新建处理任务,目前只支持卫星影像处理任务(ORSIP)。","x-request-examples-text-1":"{\n  \"task_name\": \"这是任务描述\",\n  \"task_type\": \"ORSIP\",\n  \"data_ids\": [\n    \"ed9313d537dd4cf7a6a7758f9xxxxd84\",\n    \"8dc0d6187b8e4f429c2d20d34xxxxx5a\"\n  ],\n  \"production_level\": \"L2\",\n  \"task_description\": \"这是任务描述\",\n  \"workspace_id\": \"dfa3527b45a24de6a2d0ddbcb8xxxxxx\",\n  \"shape_id\": null,\n  \"data_alias\": {\n    \"JL1_20160112_203_0018_L2\": \"JL1_20160112_203_0018_L2\"\n  },\n  \"coordination\": \"WGS84\",\n  \"data_description\": {\n    \"JL1_20160112_203_0018_L2\": null\n  },\n  \"csv_ids\": [3cd09e0xbf7949a59c9ec14012a4xxxx],\n  \"is_clip\": \"0\",\n  \"is_tile\": \"0\"\n}","x-request-examples-url-1":"POST https://{Endpoint}/v1/kmp-control/tasks","x-support-sdk":"Y"}}},"product_short":"KooMap","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-app":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-app-optional":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-opt":{"access-auth-type":"optional"},"x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-iam-none":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM_NONE"}},"summary":"新建任务","tags":"卫星影像任务管理","uri":null,"version":"2.0"}