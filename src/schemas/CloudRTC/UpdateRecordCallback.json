{"base_path":"/v2","components":null,"consumes":"","definitions":{"AppCallbackUrl":{"description":"回调配置","properties":{"auth_key":{"default":"","description":"回调秘钥,主要用于鉴权。如果不设置或者为空,则回调不会增加鉴权头域字段。","maxLength":64,"minLength":0,"type":"string"},"notify_event_subscription":{"description":"订阅云端录制通知消息。\n\n取值如下:\n\n- RECORD_NEW_FILE_START:开始创建新的录制文件。\n\n- RECORD_FILE_COMPLETE:录制文件生成完成。","items":{"enum":["RECORD_NEW_FILE_START","RECORD_FILE_COMPLETE"],"maxLength":16,"minLength":1,"type":"string"},"maxItems":16,"minItems":1,"type":"array"},"update_time":{"description":"更新时间,形如“2006-01-02T15:04:05.075Z”,时区为:UTC。","maxLength":64,"minLength":0,"type":"string"},"url":{"default":"","description":"回调通知url地址,url必须以http://或https://开头,需要支持POST调用。","maxLength":1024,"minLength":0,"type":"string"}}},"AppCallbackUrlReq":{"description":"修改app回调请求","example":{"auth_key":"8923ab8c2dcef4538923ab8c2dcef453","url":"http://mydomain.com"},"properties":{"auth_key":{"default":"01234567890123456789012345678912","description":"回调秘钥,主要用于鉴权","maxLength":64,"minLength":32,"type":"string"},"url":{"default":"http://127.0.0.1","description":"回调通知url地址,url必须以http://或https://开头,需要支持POST调用。","maxLength":256,"minLength":1,"type":"string"}},"required":["url"]},"AppRecordCallbackUrlRsp":{"description":"查询修改app回调响应","properties":{"app_id":{"description":"应用id","maxLength":32,"minLength":1,"type":"string"},"record_callback":{"$ref":"#/definitions/AppCallbackUrl","description":"回调信息"}}},"CommonRsp":{"description":"通用返回","properties":{"error_code":{"description":"错误码","maxLength":64,"minLength":1,"type":"string"},"error_msg":{"description":"错误描述","maxLength":256,"minLength":1,"type":"string"}},"required":["error_code","error_msg"]}},"description":null,"group_id":"fa76a612de62472485d55bfe6c61b3b3","host":"rtc-api.myhuaweicloud.com","id":"9b0c7ecf2f604180b86a8bb3b3b8790e","info_version":"v2","method":"put","name":"UpdateRecordCallback","parameters":{},"paths":{"/apps/{app_id}/record-callback":{"put":{"consumes":["application/json;charset=utf-8"],"description":"调用此接口配置增值(录制)事件上报回调。\n\n当任务发生订阅了的事件时,通过该接口配置的回调地址通知。\n\n回调格式参考/customer-record-notify-url定义。","operationId":"UpdateRecordCallback","parameters":[{"default":"application/json;charset=UTF-8","description":"内容类型。","in":"header","maxLength":64,"minLength":1,"name":"Content-Type","required":true,"type":"string"},{"description":"用户Token。使用Token鉴权方式时必选。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":256,"minLength":1,"name":"X-Auth-Token","required":false,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"使用AK/SK方式认证时必选,携带的鉴权信息。","in":"header","maxLength":256,"minLength":1,"name":"Authorization","required":false,"type":"string","x-example":"SDK-HMAC-SHA256 Access=xxx, SignedHeaders=content-type;host;x-sdk-date, Signature=xxx"},{"description":"使用AK/SK方式认证时必选,请求的发生时间。","in":"header","maxLength":256,"minLength":1,"name":"X-Sdk-Date","required":false,"type":"string","x-example":"20191115T033655Z"},{"description":"使用AK/SK方式认证时必选,携带项目ID信息。","in":"header","maxLength":64,"minLength":1,"name":"X-Project-Id","required":false,"type":"string","x-example":"70b76xxxxxx34253880af501cdxxxxxx"},{"description":"应用id","in":"path","maxLength":32,"minLength":1,"name":"app_id","required":true,"type":"string"},{"description":"增值(录制)事件回调请求体","in":"body","name":"UpdateRecordCallbackRequestBody","required":true,"schema":{"$ref":"#/definitions/AppCallbackUrlReq"}}],"produces":["application/json"],"responses":{"200":{"description":"配置成功","examples":{"application/json":{"app_id":"123456789abcdefghijklmno","record_callback":{"auth_key":"78912374ae8cdb38","notify_event_subscription":["RECORD_NEW_FILE_START","RECORD_FILE_COMPLETE","RTC_USER_ROLE_CHANGED","RTC_AUDIO_STREAM_OPEN","RTC_AUDIO_STREAM_CLOSE","RTC_VIDEO_STREAM_OPEN","RTC_VIDEO_STREAM_CLOSE"],"update_time":"2020-07-26T07:53:05.075Z","url":"http://mydomain.com"}}},"headers":{"X-request-Id":{"description":"此字段携带请求ID号,以便任务跟踪。","type":"string"}},"schema":{"$ref":"#/definitions/AppRecordCallbackUrlRsp"}},"400":{"description":"配置失败,语义有误,当前请求无法被服务器理解,或参数有误","examples":{"application/json":{"error_code":"RTC.00001003","error_msg":"InvalidParameterValue"}},"headers":{"X-request-Id":{"description":"此字段携带请求ID号,以便任务跟踪。","type":"string"}},"schema":{"$ref":"#/definitions/CommonRsp"}},"404":{"description":"配置失败,应用不存在","examples":{"application/json":{"error_code":"RTC.00001003","error_msg":"InvalidParameterValue"}},"headers":{"X-request-Id":{"description":"此字段携带请求ID号,以便任务跟踪。","type":"string"}},"schema":{"$ref":"#/definitions/CommonRsp"}},"500":{"description":"配置失败,服务器端错误","examples":{"application/json":{"error_code":"RTC.00002xxx","error_msg":"InternalError"}},"headers":{"X-request-Id":{"description":"此字段携带请求ID号,以便任务跟踪。","type":"string"}},"schema":{"$ref":"#/definitions/CommonRsp"}}},"summary":"配置RTC增值(录制)事件回调","tags":["应用回调管理"],"x-apiexplorer-hide":"N","x-is-registered":"Y","x-request-examples-1":{"auth_key":"8923ab8c2dcef4538923ab8c2dcef453","url":"http://mydomain.com/callback"},"x-request-examples-url-1":"PUT https://rtc-api.myhuaweicloud.com/v2/apps/{app_id}/record-callback","x-support-sdk":"Y"}}},"product_short":"CloudRTC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"配置RTC增值(录制)事件回调","tags":"应用回调管理","uri":null,"version":"2.0"}