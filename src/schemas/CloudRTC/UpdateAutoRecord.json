{"base_path":"/v2","components":null,"consumes":"","definitions":{"AppAutoRecordMode":{"description":"app自动录制模式","example":{"mode":"AUTO_RECORD_OFF","update_time":"2020-07-26T07:53:05.075Z"},"properties":{"mode":{"default":"AUTO_RECORD_OFF","description":"录制模式。\n- AUTO_RECORD_OFF:关闭自动录制。\n- AUTO_INDIVIDUAL_RECORD:开启单流自动录制,此时record_rule_id必须非空。","enum":["AUTO_RECORD_OFF","AUTO_INDIVIDUAL_RECORD"],"maxLength":32,"minLength":1,"type":"string"},"record_rule_id":{"default":"","description":"录制规则id。","maxLength":128,"minLength":0,"type":"string"},"update_time":{"description":"更新时间,形如“2006-01-02T15:04:05.075Z”,时区为:UTC。","maxLength":64,"minLength":0,"type":"string"}},"required":["mode"]},"AutoRecordModeReq":{"description":"配置app自动录制模式请求","example":{"mode":"AUTO_INDIVIDUAL_RECORD","record_rule_id":"123456789"},"properties":{"mode":{"default":"AUTO_RECORD_OFF","description":"录制模式。\n- AUTO_RECORD_OFF:关闭自动录制。\n- AUTO_INDIVIDUAL_RECORD:开启单流自动录制,此时record_rule_id必须非空。","enum":["AUTO_RECORD_OFF","AUTO_INDIVIDUAL_RECORD"],"maxLength":32,"minLength":1,"type":"string"},"record_rule_id":{"default":"","description":"录制规则id。","maxLength":128,"minLength":0,"type":"string"}},"required":["mode"]},"AutoRecordModeRsp":{"description":"查询修改app自动录制响应","example":{"app_id":"5f1d2ab42f29b38b6bae5633","auto_record_mode":{"mode":"AUTO_RECORD_OFF","update_time":"2020-07-26T07:53:05.075Z"}},"properties":{"app_id":{"description":"应用id","maxLength":32,"minLength":1,"type":"string"},"auto_record_mode":{"$ref":"#/definitions/AppAutoRecordMode","description":"自动录制配置"}}},"CommonRsp":{"description":"通用返回","properties":{"error_code":{"description":"错误码","maxLength":64,"minLength":1,"type":"string"},"error_msg":{"description":"错误描述","maxLength":256,"minLength":1,"type":"string"}},"required":["error_code","error_msg"]}},"description":null,"group_id":"fa76a612de62472485d55bfe6c61b3b3","host":"rtc-api.myhuaweicloud.com","id":"9a47f5edbc5d4cd880abd415b5b42042","info_version":"v2","method":"put","name":"UpdateAutoRecord","parameters":{},"paths":{"/apps/{app_id}/auto-record-mode":{"put":{"consumes":["application/json;charset=utf-8"],"description":"更新自动录制配置,租户可以开启自动单流录制或者停用自动单流录制。","operationId":"UpdateAutoRecord","parameters":[{"default":"application/json;charset=UTF-8","description":"内容类型。","in":"header","maxLength":64,"minLength":1,"name":"Content-Type","required":true,"type":"string"},{"description":"用户Token。使用Token鉴权方式时必选。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":256,"minLength":1,"name":"X-Auth-Token","required":false,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"使用AK/SK方式认证时必选,携带的鉴权信息。","in":"header","maxLength":256,"minLength":1,"name":"Authorization","required":false,"type":"string","x-example":"SDK-HMAC-SHA256 Access=xxx, SignedHeaders=content-type;host;x-sdk-date, Signature=xxx"},{"description":"使用AK/SK方式认证时必选,请求的发生时间。","in":"header","maxLength":256,"minLength":1,"name":"X-Sdk-Date","required":false,"type":"string","x-example":"20191115T033655Z"},{"description":"使用AK/SK方式认证时必选,携带项目ID信息。","in":"header","maxLength":64,"minLength":1,"name":"X-Project-Id","required":false,"type":"string","x-example":"70b76xxxxxx34253880af501cdxxxxxx"},{"description":"应用id","in":"path","maxLength":32,"minLength":1,"name":"app_id","required":true,"type":"string"},{"description":"自动录制配置参数","in":"body","name":"UpdateAutoRecordRequestBody","required":true,"schema":{"$ref":"#/definitions/AutoRecordModeReq"}}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"任务创建成功,返回app的概要信息,如包含app_id","examples":{"application/json":{"app_id":"123456789abcdefghijklmno","auto_record_mode":{"mode":"AUTO_RECORD_OFF","update_time":"2020-07-26T07:53:05.075Z"}}},"headers":{"X-request-Id":{"description":"此字段携带请求ID号,以便任务跟踪。","type":"string"}},"schema":{"$ref":"#/definitions/AutoRecordModeRsp"}},"400":{"description":"更新自动录制任务失败,语义有误,当前请求无法被服务器理解,或参数有误","examples":{"application/json":{"error_code":"RTC.00001003","error_msg":"InvalidParameterValue"}},"headers":{"X-request-Id":{"description":"此字段携带请求ID号,以便任务跟踪。","type":"string"}},"schema":{"$ref":"#/definitions/CommonRsp"}},"404":{"description":"更新自动录制任务失败,应用不存在","examples":{"application/json":{"error_code":"RTC.00001003","error_msg":"InvalidParameterValue"}},"headers":{"X-request-Id":{"description":"此字段携带请求ID号,以便任务跟踪。","type":"string"}},"schema":{"$ref":"#/definitions/CommonRsp"}},"500":{"description":"更新自动录制任务失败,服务器错误","examples":{"application/json":{"error_code":"RTC.00002xxx","error_msg":"InternalError"}},"headers":{"X-request-Id":{"description":"此字段携带请求ID号,以便任务跟踪。","type":"string"}},"schema":{"$ref":"#/definitions/CommonRsp"}}},"summary":"更新自动录制配置","tags":["自动录制配置"],"x-apiexplorer-hide":"N","x-constraint":"开启自动单流录制功能之后,只针对新创建的房间有效,对开启自动录制功能之前已经创建的房间不生效。\n\n单流自动录制任务的流名规则:\n\n{appid}\\_{roomid}\\_{userid}\\_{media_type}\\_{video_type}\n\n{media_type}可取值为v(代表纯视频录制),av(代表音视频录制)。\n\n{video_type}可取值为m(代表录主流摄像头视频),a(代表录辅流视频)。\n\n可能的组合有_av_m(自动录制主流和音频)和_v_a(自动录制辅流视频,无音频)。","x-is-registered":"Y","x-request-examples-1":{"mode":"AUTO_RECORD_OFF"},"x-request-examples-url-1":"PUT https://rtc-api.myhuaweicloud.com/v2/apps/{app_id}/auto-record-mode","x-support-sdk":"Y"}}},"product_short":"CloudRTC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"更新自动录制配置","tags":"自动录制配置","uri":null,"version":"2.0"}