{"base_path":"/","components":null,"consumes":"[\"application/json\",\"text/plain; charset=utf-8\"]","definitions":{"AlarmActions":{"properties":{"notificationList":{"description":"告警状态发生变化时,被通知对象的列表。通知对象ID最多可以配置5个。topicUrn可从SMN获取,具体操作请参考查询Topic列表。当type为notification时,notificationList列表不能为空;当type为autoscaling时,列表必须为[]。 说明:若alarm_action_enabled为true,对应的alarm_actions、insufficientdata_actions(该参数已废弃,建议无需配置)、ok_actions至少有一个不能为空。若alarm_actions、insufficientdata_actions(该参数已废弃,建议无需配置)、ok_actions同时存在时,notificationList值保持一致。","items":{"type":"string"},"type":"array"},"type":{"description":"告警通知类型,取值如下: notification:通知; autoscaling:弹性伸缩。","type":"string"}},"required":["notificationList","type"]},"Condition":{"description":"告警规则设置的告警策略","properties":{"comparison_operator":{"description":"告警阈值的比较条件,可以是>、=、<、>=、<=。","type":"string"},"count":{"description":"触发告警的连续发生次数,取值范围[1, 5]。","format":"int32","maximum":5,"minimum":1,"type":"integer"},"filter":{"description":"数据聚合的方式,支持max、min、average、sum、variance,分别表示最大值、最小值、平均值、求和值、方差值。","type":"string"},"period":{"description":"告警条件判断周期,单位为秒,支持的值为1,300,1200,3600,14400,86400。说明:当period设置为1时,表示以原始的指标数据判断告警。当alarm_type为(EVENT.SYS| EVENT.CUSTOM)时允许为0。","format":"int32","type":"integer"},"suppress_duration":{"description":"发送告警的周期,值可为0, 300, 600, 900, 1800, 3600, 10800, 21600, 43200, 86400;0表示只告警一次,300表示每5分钟告警一次,600表示每10分钟告警一次,900表示每15分钟告警一次,1800表示每30分钟告警一次,3600表示每1小时告警一次,10800表示每3小时告警一次,21600表示每6小时告警一次,43200表示每12小时告警一次,86400表示每1天告警一次。","format":"int32","type":"integer"},"unit":{"description":"数据的单位,最大长度为32位。","type":"string"},"value":{"description":"告警阈值,取值范围[0, Number.MAX_VALUE],Number.MAX_VALUE值为1.7976931348623157e+108。具体阈值取值请参见附录中各服务监控指标中取值范围,如支持监控的服务列表中ECS的CPU使用率cpu_util取值范围可配置80。","format":"double","type":"number"}},"required":["comparison_operator","count","filter","period","value"]},"MetricAlarms":{"properties":{"alarm_action_begin_time":{"description":"告警规则生效的开始时间,告警规则仅在生效时间内发送通知消息。例如alarm_action_begin_time为8:00,alarm_action_end_time为20:00时,则对应的告警规则仅在08:00-20:00发送通知消息。","type":"string"},"alarm_action_enabled":{"description":"是否启用该条告警触发的动作。","type":"boolean"},"alarm_action_end_time":{"description":"告警规则生效的结束时间,告警规则仅在生效时间内发送通知消息。例如alarm_action_begin_time为8:00,alarm_action_end_time为20:00时,则对应的告警规则仅在08:00-20:00发送通知消息。","type":"string"},"alarm_actions":{"description":"告警触发的动作。  结构如下:  {  \"type\": \"notification\", \"notificationList\": [\"urn:smn:southchina:68438a86d98e427e907e0097b7e35d47:sd\"]  }  type取值: notification:通知。 autoscaling:弹性伸缩。 notificationList:告警状态发生变化时,被通知对象的列表。","items":{"$ref":"#/definitions/AlarmActions"},"type":"array"},"alarm_description":{"description":"告警描述。","type":"string"},"alarm_enabled":{"description":"是否启用该条告警。","type":"boolean"},"alarm_id":{"description":"告警规则的ID。","type":"string"},"alarm_level":{"description":"告警级别,默认为2,级别为1、2、3、4。分别对应紧急、重要、次要、提示。","format":"int32","type":"integer"},"alarm_name":{"description":"告警名称。","type":"string"},"alarm_state":{"description":"告警状态,取值说明:  ok,正常 alarm,告警 insufficient_data,数据不足","type":"string"},"alarm_type":{"description":"告警类型。\n仅针对事件告警的参数,枚举类型:EVENT.SYS或者EVENT.CUSTOM","enum":["EVENT.SYS","EVENT.CUSTOM"],"type":"string"},"condition":{"$ref":"#/definitions/Condition"},"enterprise_project_id":{"description":"企业项目ID。 取值为all_granted_eps时,表示所有企业项目; 取值为0时,表示默认的企业项目default。","type":"string"},"insufficientdata_actions":{"description":"数据不足触发的动作。  结构如下:  {  \"type\": \"notification\", \"notificationList\": [\"urn:smn:southchina:68438a86d98e427e907e0097b7e35d47:sd\"]  }  type取值: 数据不足触发告警通知类型,取值为notification。 notificationList:数据不足触发告警通知时,被通知对象的ID列表。","items":{"$ref":"#/definitions/AlarmActions"},"type":"array"},"metric":{"$ref":"#/definitions/MetricInfoForAlarm"},"ok_actions":{"description":"告警恢复触发的动作。  结构如下:  {  \"type\": \"notification\", \"notificationList\": [\"urn:smn:southchina:68438a86d98e427e907e0097b7e35d47:sd\"]  } type取值:  notification:通知。  notificationList:告警状态发生变化时,被通知对象的列表。","items":{"$ref":"#/definitions/AlarmActions"},"type":"array"},"update_time":{"description":"告警状态变更的时间,UNIX时间戳,单位毫秒。","format":"int64","type":"integer"}},"required":["alarm_name","metric","condition","alarm_id","update_time","alarm_state"]},"MetricInfo":{"description":"指标信息","properties":{"dimensions":{"description":"指标维度,目前最大可添加4个维度。","items":{"$ref":"#/definitions/MetricsDimension"},"type":"array"},"metric_name":{"description":"资源的监控指标名称,必须以字母开头,只能包含0-9/a-z/A-Z/_,字符长度最短为1,最大为64;如:弹性云服务器中的监控指标cpu_util,表示弹性服务器的CPU使用率;文档数据库中的指标mongo001_command_ps,表示command执行频率;各服务的指标名称可查看:“[服务指标名称](https://support.huaweicloud.com/usermanual-ces/zh-cn_topic_0202622212.html)”。","maxLength":64,"minLength":1,"type":"string"},"namespace":{"description":"服务指标命名空间,格式为service.item;service和item必须是字符串,必须以字母开头,只能包含0-9/a-z/A-Z/_,字符总长度最短为3,最大为32。说明: 当alarm_type为(EVENT.SYS| EVENT.CUSTOM)时允许为空;如:弹性云服务器的命名空间为SYS.ECS,文档数据库的命名空间为SYS.DDS,各服务的命名空间可查看:“[服务命名空间](https://support.huaweicloud.com/usermanual-ces/zh-cn_topic_0202622212.html)”。","maxLength":32,"minLength":3,"type":"string"}},"required":["namespace","metric_name","dimensions"]},"MetricInfoForAlarm":{"allOf":[{"$ref":"#/definitions/MetricInfo"},{"properties":{"resource_group_id":{"description":"创建告警规则时选择的资源分组ID,如:rg1603786526428bWbVmk4rP;如果根据资源分组创建告警规则,则resource_group_id不能为空,且alarm_type值为RESOURCE_GROUP","type":"string"},"resource_group_name":{"description":"创建告警规则时选择的资源分组名称,如:Resource-Group-ECS-01","type":"string"}},"type":"object"}],"description":"创建规则中的监控指标信息"},"MetricsDimension":{"description":"指标维度","properties":{"name":{"description":"资源维度,如:弹性云服务器,则维度为instance_id;目前最大支持4个维度,各服务资源的指标维度名称可查看:“[服务指标维度](https://support.huaweicloud.com/usermanual-ces/zh-cn_topic_0202622212.html)”。","maxLength":32,"minLength":1,"pattern":"([a-z]|[A-Z]){1}([a-z]|[A-Z]|[0-9]|_|-)*$","type":"string"},"value":{"description":"资源维度值,为资源的实例ID,如:4270ff17-aba3-4138-89fa-820594c39755。","maxLength":256,"minLength":1,"pattern":"([a-z]|[A-Z]|[0-9]){1}([a-z]|[A-Z]|[0-9]|_|-)*$","type":"string"}},"required":["name","value"]},"ShowAlarmResponseBody":{"description":"","properties":{"metric_alarms":{"description":"告警对象列表。","items":{"$ref":"#/definitions/MetricAlarms"},"type":"array"}},"required":["metric_alarms"]}},"description":null,"group_id":"2062bc6f187f46ae8026a22ef9aceb0f","host":"ces.cn-north-4.myhuaweicloud.com","id":"24812b2ad28c4ae8aa5baa59c8a07786","info_version":"v1","method":"get","name":"ShowAlarm","parameters":{},"paths":{"/V1.0/{project_id}/alarms/{alarm_id}":{"get":{"deprecated":false,"description":"根据告警ID查询告警规则信息。","operationId":"ShowAlarm","parameters":[{"default":"application/json; charset=UTF-8","description":"发送的实体的MIME类型。推荐用户默认使用application/json,如果API是对象、镜像上传等接口,媒体类型可按照流类型的不同进行确定。","in":"header","name":"Content-Type","required":true,"type":"string","x-order":1},{"description":"用户Token。用户Token也就是调用获取用户Token接口的响应值,该接口是唯一不需要认证的接口。请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":2},{"description":"告警规则的ID。","in":"path","name":"alarm_id","required":true,"type":"string","x-order":3},{"description":"项目编号。","in":"path","name":"project_id","required":true,"type":"string","x-order":4}],"responses":{"200":{"description":"OK","examples":{"application/json":{"metric_alarms":[{"alarm_action_enabled":true,"alarm_actions":[{"notificationList":["urn:smn:southchina:68438a86d98e427e907e0097b7e35d48:sd"],"type":"notification"}],"alarm_description":"","alarm_enabled":true,"alarm_id":"al1604473956229Ym1m1Wx6e","alarm_level":2,"alarm_name":"alarm-rp0E","alarm_state":"insufficient_data","condition":{"comparison_operator":">=","count":1,"filter":"average","period":300,"unit":"B/s","value":6},"enterprise_project_id":"0","insufficientdata_actions":[{"notificationList":["urn:smn:southchina:68438a86d98e427e907e0097b7e35d48:sd"],"type":"notification"}],"metric":{"dimensions":[{"name":"instance_id","value":"33328f02-3814-422e-b688-bfdba93d4051"}],"metric_name":"network_outgoing_bytes_rate_inband","namespace":"SYS.ECS"},"ok_actions":[{"notificationList":["urn:smn:southchina:68438a86d98e427e907e0097b7e35d48:sd"],"type":"notification"}],"update_time":1604473956000}]}},"schema":{"$ref":"#/definitions/ShowAlarmResponseBody"}},"400":{"description":"Bad Request","schema":{"description":"请求错误。","type":"string"}},"401":{"description":"Unauthorized","schema":{"description":"未提供认证信息,或认证信息错误。","type":"string"}},"403":{"description":"Forbidden","schema":{"description":"请求页面被禁止访问。","type":"string"}},"408":{"description":"Request Timeout","schema":{"description":"请求超出了服务器的等待时间。","type":"string"}},"429":{"description":"Too Many Requests","schema":{"description":"前请求过多。","type":"string"}},"500":{"description":"Internal Server Error","schema":{"description":"请求未完成,服务异常。","type":"string"}},"503":{"description":"Service Unavailable","schema":{"description":"系统暂时不可用,请求受限。","type":"string"}}},"summary":"查询单条告警规则信息","tags":["告警规则管理"],"x-constraint":"","x-first_open_time":"","x-hybridcloud":false,"x-is_registered":"","x-name":"查询单条告警规则信息","x-order":6,"x-request-examples-1":"/V1.0/{project_id}/alarms/al1441967036681YkazZ0deN","x-request-examples-description-1":"","x-request-examples-text-1":"/V1.0/{project_id}/alarms/al1441967036681YkazZ0deN","x-scope":"Commercial","x-source":"SelfDeveloped","x-support-sdk":"Y","x-version":"V1"}}},"product_short":"CES","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询单条告警规则信息","tags":"告警规则管理","uri":null,"version":"2.0"}