{"base_path":"/","components":null,"consumes":"[\"application/json\",\"text/plain; charset=utf-8\"]","definitions":{"AgentStatusInfo":{"properties":{"extensions":{"description":"插件信息列表","items":{"$ref":"#/definitions/ExtensionInfo"},"maxItems":10,"minItems":1,"type":"array"},"instance_id":{"description":"机器id","pattern":"^[a-zA-Z0-9-]{1,64}$","type":"string"},"uniagent_status":{"description":"uniagent运行状态,none无,running运行中,silent静默中,unknown故障","enum":["none","running","silent","unknown"],"type":"string"}}},"ErrorResp":{"properties":{"error_code":{"description":"错误码","pattern":"^(taskmgr\\.[0-9]{4})$","type":"string"},"error_msg":{"description":"错误信息","maxLength":256,"minLength":1,"type":"string"}}},"ExtensionInfo":{"properties":{"name":{"description":"插件名称","maxLength":64,"minLength":1,"type":"string"},"status":{"description":"插件状态, none未安装,running运行中,stopped已停止,fault故障(进程异常),unknown故障(连接异常)","enum":["none","running","stopped","fault","unknown"],"type":"string"},"version":{"description":"插件版本","maxLength":32,"minLength":1,"type":"string"}}},"ListAgentStatusRequestBody":{"example":{"extension_name":"telescope","extension_status":"none","instance_ids":["111111111111"],"uniagent_status":"none"},"properties":{"extension_name":{"description":"插件名称,不传查所有插件,目前仅支持telescope","enum":["telescope"],"type":"string"},"extension_status":{"description":"插件状态,不传查所有状态, none未安装,running运行中,stopped已停止,fault故障(进程异常),unknown故障(连接异常)","enum":["none","running","stopped","fault","unknown"],"type":"string"},"instance_ids":{"description":"机器实例id列表","items":{"description":"机器实例id","pattern":"^[a-zA-Z0-9-]{1,64}$","type":"string"},"maxItems":2000,"minItems":1,"type":"array"},"uniagent_status":{"description":"uniagent运行状态,不传查所有状态,none无,running运行中,silent静默中,unknown故障","enum":["none","running","silent","unknown"],"type":"string"}},"required":["instance_ids"]},"ListAgentStatusResp":{"properties":{"agent_status":{"description":"agent插件状态列表","items":{"$ref":"#/definitions/AgentStatusInfo"},"maxItems":2000,"minItems":1,"type":"array"}}}},"description":null,"group_id":"2062bc6f187f46ae8026a22ef9aceb0f","host":"ces.cn-north-4.myhuaweicloud.com","id":"ecf6f747b4984faabb9073a1d563878f","info_version":"v3","method":"post","name":"ListAgentStatus","parameters":{"ContentType":{"default":"application/json; charset=UTF-8","description":"发送的实体的MIME类型。默认使用application/json; charset=UTF-8。","in":"header","maxLength":64,"minLength":1,"name":"Content-Type","required":true,"type":"string"},"ProjectAuthToken":{"description":"用户project Token。用户Token也就是调用获取用户Token接口的响应值,该接口是唯一不需要认证的接口。请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。","in":"header","maxLength":16384,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string"}},"paths":{"/v3/{project_id}/agent-status/batch-query":{"post":{"description":"插件状态查询,包括uniagent状态以及插件状态","operationId":"ListAgentStatus","parameters":[{"description":"项目id","in":"path","maxLength":64,"minLength":1,"name":"project_id","pattern":"^[a-z0-9]+$","required":true,"type":"string"},{"$ref":"#/parameters/ContentType"},{"$ref":"#/parameters/ProjectAuthToken"},{"description":"批量查询插件状态请求体","in":"body","name":"ListAgentStatusRequestBody","schema":{"$ref":"#/definitions/ListAgentStatusRequestBody"}}],"produces":["application/json"],"responses":{"200":{"description":"插件状态查询返回体","examples":{"application/json":{"agent_status":[{"extensions":[{"name":"telescope","status":"none","version":"2.5.6"}],"instance_id":"111111111111","uniagent_status":"none"}]}},"schema":{"$ref":"#/definitions/ListAgentStatusResp"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/ErrorResp"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/ErrorResp"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResp"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/ErrorResp"}}},"summary":"插件状态查询","tags":["插件状态查询"],"x-is-registered":"Y","x-open-region-cloud":"hc","x-support-sdk":"Y"}}},"product_short":"CES","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"插件状态查询","tags":"插件状态查询","uri":null,"version":"2.0"}