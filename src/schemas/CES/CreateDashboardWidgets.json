{"base_path":"/","components":null,"consumes":"[\"application/json\",\"text/plain; charset=utf-8\"]","definitions":{"BaseWidgetInfo":{"description":"监控视图信息","properties":{"location":{"description":"监控视图图表坐标","properties":{"height":{"description":"监控视图图表高度","example":"1","maximum":2147483647,"minimum":3,"type":"integer"},"left":{"description":"监控视图的左坐标","example":"1","maximum":9,"minimum":0,"type":"integer"},"top":{"description":"监控视图的上坐标","example":"0","maximum":2147483647,"minimum":0,"type":"integer"},"width":{"description":"监控视图图表宽度","example":"0","maximum":12,"minimum":3,"type":"integer"}}},"metric_display_mode":{"description":"指标展示类型,single 单指标展示,multiple 多指标展示","enum":["single","multiple"],"example":"single","type":"string"},"metrics":{"description":"指标列表","items":{"$ref":"#/definitions/WidgetMetric"},"maxItems":200,"minItems":1,"type":"array"},"properties":{"description":"额外信息,当view为bar时有效","properties":{"filter":{"description":"聚合类型,目前只有TopN这一种类型","enum":["topN"],"example":"topN","type":"string"},"order":{"description":"排序字段,asc正序,desc倒序","enum":["asc","desc"],"example":"asc","type":"string"},"topN":{"default":100,"description":"Top值前N个","example":"10","format":"int32","maximum":2147483647,"minimum":1,"type":"integer"}}},"threshold":{"description":"监控视图指标的阈值","example":90,"format":"double","maximum":1.7976931348623157e308,"minimum":0,"type":"number"},"threshold_enabled":{"description":"阈值是否展示,true:展示,false:不展示","example":true,"type":"boolean"},"title":{"description":"监控视图标题","example":"xxx-cpu","maxLength":128,"minLength":1,"pattern":"^([\\u4E00-\\u9FFF]|[a-z]|[A-Z]|[0-9]|_|-|:|;|\\(|\\)|\\.|~|(|))+$","type":"string"},"unit":{"$ref":"#/definitions/UnitItem"},"view":{"description":"监控视图图表类型, bar柱状图,line折线图","enum":["bar","line"],"example":"bar","type":"string"}},"type":"object"},"BatchCreateWidgetsResponseBody":{"properties":{"widget_ids":{"description":"批量创建监控视图返回结果","items":{"description":"监控看板id","example":"wgxxx-001","pattern":"^wg([a-z]|[A-Z]|[0-9]){22}$","type":"string"},"maxItems":50,"minItems":1,"type":"array"}}},"CreateDashboardWidgetsV2RequestBody":{"items":{"$ref":"#/definitions/BaseWidgetInfo","description":"监控视图信息","type":"object"},"type":"array"},"DimensionInfo":{"properties":{"filter_type":{"description":"资源类型, all_instances: 全部资源, specific_instances: 指定资源","enum":["all_instances","specific_instances"],"example":"all_instances","type":"string"},"name":{"description":"维度名称,多维度用逗号分隔,各服务支持的维度可参考:“[服务维度名称](https://support.huaweicloud.com/usermanual-ces/zh-cn_topic_0202622212.html)”","example":"cluster,instance","maxLength":131,"minLength":1,"pattern":"^([a-z]|[A-Z]){1}([a-z]|[A-Z]|[0-9]|_|-){0,31}(,([a-z]|[A-Z]){1}([a-z]|[A-Z]|[0-9]|_|-){0,31}){0,3}$","type":"string"},"values":{"description":"维度值列表","example":["cluster-value-001,instance-value-001","cluster-value-002,instance-value-002"],"items":{"description":"维度值,多维度用逗号分隔,与维度名顺序一一对应","example":"cluster-001,instance-001","maxLength":1024,"minLength":1,"pattern":"^([a-z]|[A-Z]|[0-9]){1}([a-z]|[A-Z]|[0-9]|_|-|\\\\.|){0,255}(,([a-z]|[A-Z]|[0-9]){1}([a-z]|[A-Z]|[0-9]|_|-|\\\\.|){0,255}){0,3}$","type":"string"},"maxItems":200,"minItems":0,"type":"array"}}},"ExtraInfo":{"properties":{"custom_proc_name":{"description":"自定义进程名称","example":"xxxx","maxLength":250,"minLength":1,"type":"string"},"metric_prefix":{"description":"指标名称前缀","example":"xxxx","maxLength":4096,"minLength":1,"pattern":"^([a-z]|[A-Z]|[0-9]|_|-|~|\\.|/|:)*$","type":"string"},"metric_type":{"description":"指标类型","example":"xxxx","maxLength":32,"minLength":1,"pattern":"^([a-z]|[A-Z]|[0-9]|_|-|~|\\.|/|:)*$","type":"string"},"origin_metric_name":{"description":"指标名称","example":"xxxx","maxLength":4096,"minLength":1,"pattern":"^([a-z]|[A-Z]|[0-9]|_|-|~|\\.|/|:)*$","type":"string"}},"type":"object"},"GoAPIErrorResponseV2":{"properties":{"error_code":{"description":"请求异常内部业务状态码","example":"ces.0001","maxLength":256,"minLength":0,"type":"string"},"error_msg":{"description":"请求异常信息","example":"the request format is invalid","maxLength":256,"minLength":0,"type":"string"},"request_id":{"description":"请求ID","example":"txnEntry-DESKTOP-4LPFH08.txnId-466541d0-f1a6-429b-b747-98d4991671c1.ts-1637909316688.c-95","maxLength":256,"minLength":0,"type":"string"}},"type":"object"},"UnitItem":{"description":"单位","example":"byte/s","maxLength":32,"minLength":0,"type":"string"},"WidgetMetric":{"properties":{"alias":{"description":"监控视图的指标别名列表","example":["cpu_01","cpu_02"],"items":{"description":"指标别名","maxLength":128,"minLength":1,"type":"string"},"maxItems":200,"minItems":0,"type":"array"},"dimensions":{"$ref":"#/definitions/DimensionInfo"},"extra_info":{"$ref":"#/definitions/ExtraInfo"},"metric_name":{"description":"指标名称","example":"cpu_util","maxLength":96,"minLength":1,"pattern":"^([A-Za-z]){1}([0-9A-Za-z]|_|-)*$","type":"string"},"namespace":{"description":"服务维度","example":"SYS.XXX","maxLength":32,"minLength":3,"pattern":"^([a-z]|[A-Z]){1}([a-z]|[A-Z]|[0-9]|_)*\\.([a-z]|[A-Z]){1}([a-z]|[A-Z]|[0-9]|_)*$","type":"string"}},"type":"object"}},"description":null,"group_id":"2062bc6f187f46ae8026a22ef9aceb0f","host":"ces.cn-north-4.myhuaweicloud.com","id":"b39a48348e0c47ad8910a3d6413d7c6e","info_version":"v2","method":"post","name":"CreateDashboardWidgets","parameters":{"AuthToken":{"description":"用户Token","in":"header","maxLength":16384,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-order":2},"ContentType":{"default":"application/json; charset=UTF-8","description":"发送的实体的MIME类型。默认使用application/json; charset=UTF-8。","in":"header","maxLength":64,"minLength":1,"name":"Content-Type","required":true,"type":"string","x-order":1},"DashboardId":{"description":"监控看板id,以db开头,包含22个字母和数字例:db16564943172807wjOmoLyn'","in":"path","maxItems":24,"minItems":24,"name":"dashboard_id","pattern":"^db([a-z]|[A-Z]|[0-9]){22}$","required":true,"type":"string"},"ProjectId":{"description":"租户ID","in":"path","maxLength":64,"minLength":1,"name":"project_id","pattern":"^[a-zA-Z0-9-]{1,64}$","required":true,"type":"string"}},"paths":{"/v2/{project_id}/dashboards/{dashboard_id}/widgets":{"post":{"description":"创建/复制/批量创建监控视图到指定的监控看板","operationId":"CreateDashboardWidgets","parameters":[{"$ref":"#/parameters/ContentType"},{"$ref":"#/parameters/AuthToken"},{"$ref":"#/parameters/ProjectId"},{"$ref":"#/parameters/DashboardId"},{"description":"创建单指标条形图类型监控视图到指定监控看板请求体","in":"body","name":"CreateDashboardWidgetsRequestBody","schema":{"$ref":"#/definitions/CreateDashboardWidgetsV2RequestBody"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BatchCreateWidgetsResponseBody"}},"400":{"description":"Bad Request, 请求错误","schema":{"$ref":"#/definitions/GoAPIErrorResponseV2"}},"401":{"description":"Unauthorized, 未提供认证信息,或认证信息错误","schema":{"$ref":"#/definitions/GoAPIErrorResponseV2"}},"500":{"description":"Internal Server Error, 请求未完成, 服务异常","schema":{"$ref":"#/definitions/GoAPIErrorResponseV2"}}},"summary":"创建/复制/批量创建监控视图到指定的监控看板","tags":["监控视图"],"x-is-registered":"Y","x-open-region-cloud":"hc,hk","x-support-sdk":"Y"}}},"product_short":"CES","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建/复制/批量创建监控视图到指定的监控看板","tags":"监控视图","uri":null,"version":"2.0"}