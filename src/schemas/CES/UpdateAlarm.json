{"base_path":"/","components":null,"consumes":"[\"application/json\",\"text/plain; charset=utf-8\"]","definitions":{"AlarmActions":{"properties":{"notificationList":{"description":"告警状态发生变化时,被通知对象的列表。通知对象ID最多可以配置5个。topicUrn可从SMN获取,具体操作请参考查询Topic列表。当type为notification时,notificationList列表不能为空;当type为autoscaling时,列表必须为[]。 说明:若alarm_action_enabled为true,对应的alarm_actions、insufficientdata_actions(该参数已废弃,建议无需配置)、ok_actions至少有一个不能为空。若alarm_actions、insufficientdata_actions(该参数已废弃,建议无需配置)、ok_actions同时存在时,notificationList值保持一致。","items":{"type":"string"},"type":"array"},"type":{"description":"告警通知类型,取值如下: notification:通知; autoscaling:弹性伸缩。","type":"string"}},"required":["notificationList","type"]},"Condition":{"description":"告警规则设置的告警策略","properties":{"comparison_operator":{"description":"告警阈值的比较条件,可以是>、=、<、>=、<=。","type":"string"},"count":{"description":"触发告警的连续发生次数,取值范围[1, 5]。","format":"int32","maximum":5,"minimum":1,"type":"integer"},"filter":{"description":"数据聚合的方式,支持max、min、average、sum、variance,分别表示最大值、最小值、平均值、求和值、方差值。","type":"string"},"period":{"description":"告警条件判断周期,单位为秒,支持的值为1,300,1200,3600,14400,86400。说明:当period设置为1时,表示以原始的指标数据判断告警。当alarm_type为(EVENT.SYS| EVENT.CUSTOM)时允许为0。","format":"int32","type":"integer"},"suppress_duration":{"description":"发送告警的周期,值可为0, 300, 600, 900, 1800, 3600, 10800, 21600, 43200, 86400;0表示只告警一次,300表示每5分钟告警一次,600表示每10分钟告警一次,900表示每15分钟告警一次,1800表示每30分钟告警一次,3600表示每1小时告警一次,10800表示每3小时告警一次,21600表示每6小时告警一次,43200表示每12小时告警一次,86400表示每1天告警一次。","format":"int32","type":"integer"},"unit":{"description":"数据的单位,最大长度为32位。","type":"string"},"value":{"description":"告警阈值,取值范围[0, Number.MAX_VALUE],Number.MAX_VALUE值为1.7976931348623157e+108。具体阈值取值请参见附录中各服务监控指标中取值范围,如支持监控的服务列表中ECS的CPU使用率cpu_util取值范围可配置80。","format":"double","type":"number"}},"required":["comparison_operator","count","filter","period","value"]},"UpdateAlarmRequestBody":{"description":"","properties":{"alarm_action_enabled":{"default":true,"description":"是否启用该条告警触发的动作,默认为true。注:若alarm_action_enabled为true,对应的alarm_actions、ok_actions至少有一个不能为空。若alarm_actions、ok_actions同时存在时,notificationList值保持一致。","type":"boolean"},"alarm_actions":{"description":"告警触发的动作。 结构样例如下: { \"type\": \"notification\",\"notificationList\": [\"urn:smn:southchina:68438a86d98e427e907e0097b7e35d47:sd\"] } type取值: notification:通知。 autoscaling:弹性伸缩。","items":{"$ref":"#/definitions/AlarmActions"},"type":"array"},"alarm_description":{"description":"告警描述,长度0-256。","type":"string"},"alarm_level":{"description":"告警级别,默认为2,级别为1、2、3、4。分别对应紧急、重要、次要、提示。","format":"int32","type":"integer"},"alarm_name":{"description":"告警名称,只能包含0-9/a-z/A-Z/_/-或汉字。","type":"string"},"alarm_type":{"description":"告警类型,支持的枚举类型:EVENT.SYS:针对系统事件的告警规则;EVENT.CUSTOM:针对自定义事件的告警规则;RESOURCE_GROUP:针对资源分组的告警规则。","enum":["EVENT.SYS","EVENT.CUSTOM","RESOURCE_GROUP"],"type":"string"},"condition":{"$ref":"#/definitions/Condition"},"insufficientdata_actions":{"description":"数据不足触发的动作(该参数已废弃,建议无需配置)。","items":{"$ref":"#/definitions/AlarmActions"},"type":"array"},"ok_actions":{"description":"告警恢复触发的动作","items":{"$ref":"#/definitions/AlarmActions"},"type":"array"}}}},"description":null,"group_id":"2062bc6f187f46ae8026a22ef9aceb0f","host":"ces.cn-north-4.myhuaweicloud.com","id":"008d03c9e5ee457e85062f391ed92726","info_version":"v1","method":"put","name":"UpdateAlarm","parameters":{},"paths":{"/V1.0/{project_id}/alarms/{alarm_id}":{"put":{"deprecated":false,"description":"修改告警规则。","operationId":"UpdateAlarm","parameters":[{"default":"application/json; charset=UTF-8","description":"发送的实体的MIME类型。推荐用户默认使用application/json,如果API是对象、镜像上传等接口,媒体类型可按照流类型的不同进行确定。","in":"header","name":"Content-Type","required":true,"type":"string","x-order":1},{"description":"用户Token。用户Token也就是调用获取用户Token接口的响应值,该接口是唯一不需要认证的接口。请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":2},{"default":"al15454523384878yogJg6ao","description":"告警规则的ID。","in":"path","maxLength":24,"minLength":24,"name":"alarm_id","pattern":"^([0-9A-Za-z]){24}$","required":true,"type":"string","x-order":3},{"description":"项目编号。","in":"path","maxLength":32,"minLength":0,"name":"project_id","pattern":"^([0-9A-Za-z]){32}$","required":true,"type":"string","x-order":4},{"description":"请求参数。","in":"body","name":"UpdateAlarmRequestBody","required":true,"schema":{"$ref":"#/definitions/UpdateAlarmRequestBody"},"x-default":null,"x-example":null,"x-order":5}],"responses":{"204":{"description":"No Content"},"400":{"description":"Bad Request","schema":{"description":"请求错误。","type":"string"}},"401":{"description":"Unauthorized","schema":{"description":"未提供认证信息,或认证信息错误。","type":"string"}},"403":{"description":"Forbidden","schema":{"description":"请求页面被禁止访问。","type":"string"}},"408":{"description":"Request Timeout","schema":{"description":"请求超出了服务器的等待时间。","type":"string"}},"429":{"description":"Too Many Requests","schema":{"description":"前请求过多。","type":"string"}},"500":{"description":"Internal Server Error","schema":{"description":"请求未完成,服务异常。","type":"string"}},"503":{"description":"Service Unavailable","schema":{"description":"系统暂时不可用,请求受限。","type":"string"}}},"summary":"修改告警规则","tags":["告警规则管理"],"x-constraint":"","x-first_open_time":"","x-hybridcloud":false,"x-is_registered":"","x-name":"启停告警规则","x-order":4,"x-request-examples-1":{"alarm_action_enabled":false,"alarm_description":"alarm-update-test01","alarm_level":2,"alarm_name":"alarm-update-test01","condition":{"comparison_operator":">=","count":3,"filter":"average","period":1,"value":95}},"x-request-examples-description-1":"","x-request-examples-text-1":{"alarm_action_enabled":false,"alarm_description":"alarm-update-test01","alarm_level":2,"alarm_name":"alarm-update-test01","condition":{"comparison_operator":">=","count":3,"filter":"average","period":1,"value":95}},"x-scope":"Commercial","x-source":"SelfDeveloped","x-support-sdk":"Y","x-version":"V1"}}},"product_short":"CES","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"修改告警规则","tags":"告警规则管理","uri":null,"version":"2.0"}