{"base_path":"/","components":null,"consumes":"","definitions":{"DbMatchInfo":{"properties":{"column_line":{"description":"风险数据行","items":{"format":"int64","type":"integer"},"type":"array"},"column_name":{"description":"列名","type":"string"},"rule_id":{"description":"匹配的规则ID","type":"string"},"rule_name":{"description":"匹配的规则名","type":"string"},"rule_risk_level":{"description":"匹配规则风险等级","type":"integer"}}},"DbScanResult":{"description":"数据库扫描结果","properties":{"db_scan_results":{"description":"数据库扫描结果列表","items":{"$ref":"#/definitions/DbScanResultInfo"},"type":"array"},"total":{"description":"扫描结果总数","type":"integer"}}},"DbScanResultInfo":{"properties":{"db_name":{"description":"数据库名称","type":"string"},"match_info":{"description":"表中各列匹配到的规则","items":{"$ref":"#/definitions/DbMatchInfo"},"type":"array"},"risk_level":{"description":"风险等级","format":"int32","type":"integer"},"sensitive_data_type":{"description":"匹配到的规则","items":{"type":"string"},"type":"array"},"table_id":{"description":"表ID","type":"string"},"table_name":{"description":"表名称","type":"string"},"task_id":{"description":"任务ID","type":"string"}}},"ErrorReturnInfo":{"properties":{"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误信息","type":"string"}},"required":["error_code","error_msg"]},"EsMatchInfo":{"description":"ES数据项匹配信息","properties":{"field_name":{"description":"数据字段名","type":"string"},"rule_id":{"description":"规则ID","type":"string"},"rule_name":{"description":"规则名","type":"string"},"rule_risk_level":{"description":"规则风险等级","format":"int32","type":"integer"}}},"EsScanResult":{"description":"ES扫描结果","properties":{"db_scan_results":{"description":"ES扫描结果列表","items":{"$ref":"#/definitions/EsScanResultInfo"},"type":"array"},"total":{"description":"扫描结果总数","type":"integer"}}},"EsScanResultInfo":{"description":"ES扫描结果信息","properties":{"index_name":{"description":"索引名","type":"string"},"match_info":{"description":"规则匹配具体信息","items":{"$ref":"#/definitions/EsMatchInfo"},"type":"array"},"risk_level":{"description":"风险等级","format":"int32","type":"integer"},"sensitive_data_type":{"description":"敏感数据类型","items":{"type":"string"},"type":"array"},"task_id":{"description":"任务ID","type":"string"},"type_id":{"description":"类型ID","type":"string"},"type_name":{"description":"类型名","type":"string"}}},"ObsScanResult":{"description":"OBS扫描结果","properties":{"db_scan_results":{"description":"OBS扫描结果列表","items":{"$ref":"#/definitions/ObsScanResultInfo"},"type":"array"},"total":{"description":"扫描结果总数","type":"integer"}}},"ObsScanResultInfo":{"properties":{"bucket_id":{"description":"OBS桶ID","type":"string"},"bucket_name":{"description":"OBS桶名称","type":"string"},"file_name":{"description":"文件名","type":"string"},"file_path":{"description":"文件路径","type":"string"},"md5":{"description":"文件md5值","type":"string"},"risk_level":{"description":"风险等级","format":"int32","type":"integer"},"sensitive_data_type":{"description":"风险数据类型","items":{"type":"string"},"type":"array"},"task_id":{"description":"任务ID","type":"string"}}},"ScanResultResponse":{"properties":{"db_scan_result":{"$ref":"#/definitions/DbScanResult"},"es_scan_result":{"$ref":"#/definitions/EsScanResult"},"job_id":{"description":"任务ID","type":"string"},"job_name":{"description":"任务名","type":"string"},"obs_scan_result":{"$ref":"#/definitions/ObsScanResult"},"type":{"description":"查询资产类型","type":"string"}}}},"description":null,"group_id":"e84d6351acc84ee2b87eb78df3141f45","host":"sdg.cn-north-4.myhuaweicloud.com","id":"b8824a949cfa41c7a3708fda3d47eaa3","info_version":"v1","method":"get","name":"ShowScanJobResults","parameters":{},"paths":{"/v1/{project_id}/sdg/scan/job/{job_id}/results":{"get":{"consumes":["application/json"],"description":"查询指定任务扫描结果","operationId":"ShowScanJobResults","parameters":[{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string"},{"description":"任务ID","in":"path","name":"job_id","required":true,"type":"string"},{"default":0,"description":"页码","format":"int32","in":"query","name":"offset","required":false,"type":"integer"},{"default":100,"description":"分页大小","format":"int32","in":"query","name":"limit","required":false,"type":"integer"},{"default":"DATABASE","description":"资产类型","enum":["DATABASE","OBS","BIGDATA"],"in":"query","name":"type","required":false,"type":"string"},{"description":"起始时间(预留,待启用)","in":"query","name":"start_time","required":false,"type":"string","x-todo":true},{"description":"结束时间(预留,待启用)","in":"query","name":"end_time","required":false,"type":"string","x-todo":true}],"produces":["*/*"],"responses":{"200":{"description":"OK","examples":{"application/json":{"db_scan_result":{"db_scan_results":[{"db_name":"xxxxxx","match_info":[{"column_line":[1,3],"column_name":"phone","rule_id":"xxxxxx","rule_name":"xxxxxx","rule_risk_level":6},{"column_line":[1,3],"column_name":"email","rule_id":"xxxxxx","rule_name":"xxxxxx","rule_risk_level":1}],"risk_level":6,"sensitive_data_type":["xxxxxx","xxxxxx"],"table_id":"xxxxxx","table_name":"student","task_id":"xxxxxx"}],"total":1},"es_scan_result":null,"job_id":"xxxxxx","job_name":"xxxxxx","obs_scan_result":null,"type":"DATABASE"}},"schema":{"$ref":"#/definitions/ScanResultResponse"}},"400":{"description":"无效请求","examples":{"application/json":{"error_code":"dsc.40000011","error_msg":"Invalid parameter"}},"schema":{"$ref":"#/definitions/ErrorReturnInfo"}}},"summary":"查询指定任务扫描结果","tags":["敏感数据发现"],"x-is-registered":"Y","x-request-examples-description-1":"查询指定任务扫描结果","x-request-examples-url-1":"GET /v1/{project_id}/sdg/scan/job/{job_id}/results","x-support-sdk":"Y"}}},"product_short":"DSC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询指定任务扫描结果","tags":"敏感数据发现","uri":null,"version":"2.0"}