{"base_path":"/","components":null,"consumes":"","definitions":{"CreateDocWatermarkByAddressRequestBody":{"description":"OBS文档嵌入水印请求体","properties":{"blind_watermark":{"description":"暗文字水印内容,与“visible_watermark”字段至少有一个不为空","type":"string"},"doc_type":{"description":"待嵌入水印的文档类型。","enum":["WORD","EXCEL","PDF","PPT"],"example":"WORD","type":"string"},"dst_file":{"description":"添加水印后的文档存放地址,格式和要求同src_file字段,不设置时,默认取src_file的值,即添加水印后覆盖原文件。","type":"string"},"file_password":{"description":"待加水印文件有密码时,读取文件的密码, 最大支持长度256。如果Office文档有读密码或域控的权限密码,请输入读密码,或者有读权限的域控密码。","maxLength":256,"minLength":0,"type":"string"},"front":{"description":"明水印字体大小,取值为[1,100],默认值50","format":"int32","maximum":100,"minimum":1,"type":"integer"},"image_mark":{"description":"待嵌入的图形明水印文件的地址,  字段格式要求同src_file字段,图形文件的格式必须为“png”或“jpg”,否则返回参数错误;图像文件大小不超过1MB","type":"string"},"marked_file_password":{"description":"添加水印后给文件设置密码, 最大支持长度256。默认不加文档密码。","maxLength":256,"minLength":0,"type":"string"},"opacity":{"description":"明水印的透明度,取值[0,1],默认值为0.3;","format":"float","maximum":1,"minimum":0,"type":"number"},"readonly_password":{"description":"添加水印后给文件设置只读密码, 最大支持长度256。默认不加只读密码。","maxLength":256,"minLength":0,"type":"string"},"region_id":{"description":"项目所在region的id,如:xx-xx-1。","type":"string"},"rotation":{"description":"明水印旋转角度,逆时针方向,取值为[0,90],默认值45。","format":"int32","maximum":90,"minimum":0,"type":"integer"},"src_file":{"description":"待添加水印的文档地址,当前只支持华为云OBS对象,格式为 **obs://bucket/object** ,其中bucket为和当前项目处于同一区域的OBS桶名称,object为对象全路径名。例如:**obs://hwbucket/hwinfo/hw.png**,其中obs://表示OBS存储,hwbucket为桶名,hwinfo/hw.png为对象全路径名。","type":"string"},"visible_type":{"description":"该字段控制明水印嵌入文字还是图片。默认为**TEXT**类型,需填写visible_watermark字段设置明文字水印; 当该字段为**IMAGE**时,需填写image_watermark字段设置水印图片地址此时 ,“visible_watermark”,“font_size”,“rotation”和“opacity”字段无效。","enum":["TEXT","IMAGE"],"type":"string"},"visible_watermark":{"description":"明文字水印内容,与暗水印“blind_watermark”字段至少有一个不为空。","type":"string"}},"required":["region_id","src_file","doc_type"]},"CreateDocWatermarkByAddressResponseBody":{"properties":{"region_id":{"description":"当前项目所在region的id,如:xx-xx-1。","type":"string"},"watermarked_file":{"description":"添加水印后的文档地址,当前只支持华为云OBS对象,格式为 **obs://bucket/object** ,其中bucket为和当前项目处于同一区域的OBS桶名称,object为对象全路径名。例如:**obs://hwbucket/hwinfo/hw.doc**,其中obs://表示OBS存储,hwbucket为桶名,hwinfo/hw.doc为对象全路径名。","type":"string"}},"required":["region_id","watermarked_file"]},"ErrorReturnInfo":{"properties":{"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误信息","type":"string"}},"required":["error_code","error_msg"]}},"description":null,"group_id":"e84d6351acc84ee2b87eb78df3141f45","host":"sdg.cn-north-4.myhuaweicloud.com","id":"8092efe365ac4d7ea5d392fa4889c2ae","info_version":"v1","method":"post","name":"CreateDocWatermarkByAddress","parameters":{},"paths":{"/v1/{project_id}/doc-address/watermark/embed":{"post":{"consumes":["application/json"],"description":"对WORD(.docx),PPT(.pptx),EXCEL(.xlsx),PDF(.pdf)*类型的文档嵌入文字暗水印、文字明水印或者图片明水印,用户传入待加水印的文档地址(目前支持OBS)和水印相关信息,DSC服务对文档加完水印后返回给用户已嵌入水印的文档的存放地址。","operationId":"CreateDocWatermarkByAddress","parameters":[{"description":"项目ID","in":"path","maxLength":32,"minLength":32,"name":"project_id","required":true,"type":"string","x-example":"05c214d53400d5c52fe7c00b83c93dsc"},{"description":"用户Token。通过调用IAM服务“获取用户Token接口”获取(响应消息头中X-Subject-Token的值)","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"待嵌入水印的文档类型","in":"body","name":"CreateDocWatermarkByAddressRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateDocWatermarkByAddressRequestBody"}}],"produces":["*/*"],"responses":{"200":{"description":"请求成功","examples":{"application/json":{"region_id":"xx-xx-1","watermarked_file":"obs://hwbucket/hwinfo/hw.docx"}},"schema":{"$ref":"#/definitions/CreateDocWatermarkByAddressResponseBody"}},"400":{"description":"无效请求","examples":{"application/json":{"error_code":"DSC.00000007 ","error_msg":"File format error"}},"schema":{"$ref":"#/definitions/ErrorReturnInfo"}}},"summary":"文档嵌入水印(文件地址版本)","tags":["文档水印"],"x-apiErrorCodes":"[]","x-is-registered":"Y","x-request-examples-1":{"blind_watermark":"blind_watermark","doc_type":"WORD","region_id":"xx-xx-1","src_file":"obs://hwbucket/hwinfo/hw.doc","visible_watermark":"visible_watermark"},"x-request-examples-text-1":{"blind_watermark":"blind_watermark","doc_type":"WORD","region_id":"xx-xx-1","src_file":"obs://hwbucket/hwinfo/hw.doc","visible_watermark":"visible_watermark"},"x-request-examples-url-1":"POST /v1/{project_id}/doc-address/watermark/embed","x-support-sdk":"Y"}}},"product_short":"DSC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"文档嵌入水印(文件地址版本)","tags":"文档水印","uri":null,"version":"2.0"}