{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"Match":{"description":"match字段数据结构。","properties":{"key":{"description":"键,表示要匹配的字段。\n\nkey不能重复,value为匹配的值。\n\n此字段为固定字典值。\n\n不允许为空字符串。\n\n当前key的参数值仅支持resource_name,此时value的参数值为专属主机名称。","enum":["resource_name"],"example":"resource_name","type":"string"},"value":{"description":"值。\n\n每个值最大长度为255个unicode字符。\n\n不可以为空 。","maxLength":255,"minLength":1,"type":"string"}},"required":["key","value"]},"ReqListDehByTags":{"description":"按标签查询专属主机列表请求参数。","properties":{"action":{"description":"操作标识,包括filter和count两种。\n1.filter:表示按标签过滤专属主机,返回符合条件的专属主机列表。此时,为分页查询。\n2.count:表示按标签搜索专属主机,返回符合条件的专属主机个数。","enum":["filter","count"],"type":"string"},"limit":{"description":"查询返回的专属主机数量限制,最多为1000,不能为负数。\n1.如果action的值为count,此参数无效。\n2.如果action的值为filter,limit默认为1000。","format":"int32","type":"integer"},"matches":{"description":"搜索字段,用于按条件搜索专属主机。\n\n当前仅支持按resource_name进行搜索。","items":{"$ref":"#/definitions/Match","description":""},"maxItems":10,"minItems":1,"type":"array"},"not_tags":{"description":"查询不包含所有指定标签的专属主机。\n1.最多包含10个key,每个key下面的value最多10个。\n2.结构体不能缺失。\n3.key不能为空或者空字符串。\n4.key不能重复。\n5.同一个key中value不能重复。","items":{"$ref":"#/definitions/Tag","description":""},"maxItems":10,"minItems":1,"type":"array"},"not_tags_any":{"description":"不包含任意标签。\n1.最多包含10个key,每个key下面的value最多10个,每个key对应的value可以为空数组但结构体不能缺失。\n2.key不能重复,同一个key中value不能重复。\n3.结果返回不包含标签的资源列表,key之间是“或”的关系,key-value结构中value是或的关系。\n4.无过滤条件时返回全量数据。","items":{"$ref":"#/definitions/Tag","description":""},"maxItems":10,"minItems":1,"type":"array"},"offset":{"description":"索引位置,从offset指定的下一条数据开始查询。必须为数字,不能为负数。\n查询第一页数据时,不需要传入此参数。查询后续页码数据时,将查询前一页数据时响应体中的值带入此参数。\n1.如果action的值为count,此参数无效。\n2.如果action的值为filter,offset默认为0。","format":"int32","type":"integer"},"tags":{"description":"查询包含所有指定标签的专属主机结构体不能缺失。\n1.最多包含10个key,每个key下面的value最多10个。\n2.结构体不能缺失。\n3.key不能为空或者空字符串。\n4.key不能重复。\n5.同一个key中value不能重复。","items":{"$ref":"#/definitions/Tag","description":""},"maxItems":10,"minItems":1,"type":"array"},"tags_any":{"description":"包含任意标签。\n1.最多包含10个key,每个key下面的value最多10个,每个key对应的value可以为空数组但结构体不能缺失。\n2.key不能重复,同一个key中value不能重复。\n3.结果返回包含标签的资源列表,key之间是“或”的关系,key-value结构中value是“或”的关系。\n4.无过滤条件时返回全量数据。","items":{"$ref":"#/definitions/Tag","description":""},"maxItems":10,"minItems":1,"type":"array"}},"required":["action"]},"ResourceTag":{"description":"专属主机标签结构体","properties":{"key":{"description":"键。\n长度不超过36个Unicode字符。\n不能为空。\n不能包含以下ASCII非打印字符:“=”,“*”,“<”,“>”,“\\”,“|”,“/”,“,”。","maxLength":36,"minLength":1,"type":"string"},"value":{"description":"值。\n长度不超过43个Unicode字符。\n不能包含以下ASCII非打印字符:“=”,“*”,“<”,“>”,“\\”,“|”,“/”,“,”。","maxLength":43,"minLength":0,"type":"string"}},"required":["key","value"]},"RespDeh":{"description":"resource字段数据结构。","properties":{"resource_detail":{"description":"专属主机详情。\n\n该字段用于后续扩展,默认为空。","type":"string"},"resource_id":{"description":"专属主机ID。","type":"string"},"resource_name":{"description":"资源名称。","type":"string"},"tags":{"description":"标签列表。","items":{"$ref":"#/definitions/ResourceTag","description":""},"type":"array"}},"required":["resource_detail","resource_id","resource_name","tags"]},"RespDehListByTag":{"description":"按标签查询专属主机列表响应消息体。","properties":{"resources":{"description":"返回的专属主机列表。","items":{"$ref":"#/definitions/RespDeh","description":""},"type":"array"},"total_count":{"description":"总记录数。","format":"int32","type":"integer"}},"required":["total_count"]},"Tag":{"description":"tag字段数据结构。","properties":{"key":{"description":"键。\n\n最大长度127个unicode字符。\n\nkey不能为空。","maxLength":127,"minLength":1,"type":"string"},"values":{"description":"值列表。\n\n最多10个value。\n\nvalue不允许重复。\n\n每个值最大长度255个unicode字符。\n\n如果value缺失则表示any_value。\n\nvalue之间为“或”的关系。","items":{"description":"","maxLength":255,"minLength":1,"type":"string"},"maxItems":10,"minItems":1,"type":"array"}},"required":["key"]}},"description":null,"group_id":"d5f25114875a4aaf874a5fe13e93351c","host":"deh.cn-north-4.myhuaweicloud.com","id":"d9d5dd15be524ddaa04436a9d91d88b5","info_version":"v1","method":"post","name":"ListDedicatedHostsByTags","parameters":{},"paths":{"/v1.0/{project_id}/dedicated-host-tags/resource_instances/action":{"post":{"consumes":[],"deprecated":false,"description":"使用标签过滤专属主机列表,并返回专属主机使用的所有标签。\n\n标签管理服务(TMS)使用该接口过滤专属主机列表。","operationId":"ListDedicatedHostsByTags","parameters":[{"description":"项目ID。","in":"path","name":"project_id","required":true,"type":"string","x-order":1},{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":2},{"description":"按标签查询专属主机列表请求消息体。","in":"body","name":"ReqListDehByTags","required":true,"schema":{"$ref":"#/definitions/ReqListDehByTags"},"x-order":3}],"produces":[],"responses":{"200":{"description":"OK 服务器已成功处理了请求。","examples":{"application/json":{"resources":[{"resource_detail":null,"resource_id":"cdfs_cefs_wesas_12_dsad","resource_name":"resouece1","tags":[{"key":"key1","value":"value1"}]}],"total_count":1},"application/json-1":{"total_count":100}},"schema":{"$ref":"#/definitions/RespDehListByTag"}},"400":{"description":"Bad Request 服务器未能处理请求。"},"401":{"description":"Unauthorized 被请求的页面需要用户名和密码。"},"403":{"description":"Forbidden 对被请求页面的访问被禁止。"},"404":{"description":"Not Found 服务器无法找到被请求的页面。"},"500":{"description":"Internal Server Error 请求未完成,服务异常。"}},"summary":"按标签查询专属主机列表","tags":["标签管理"],"x-constraint":"","x-first-open-time":"2018-11-30","x-hybridcloud":"false","x-is-registered":"Y","x-name":"按标签查询专属主机列表","x-open-region-cloud":"hc,hk","x-order":13,"x-request-examples-1":{"action":"filter","limit":"100","matches":[{"key":"resource_name","value":"resource1"}],"offset":"10","tags":[{"key":"key1","values":["value1"]}]},"x-request-examples-description-1":"","x-request-examples-text-1":"{\n    \"offset\": \"10\",\n    \"limit\": \"100\",\n    \"action\": \"filter\",\n    \"matches\":[\n    {\n        \"key\": \"resource_name\",\n        \"value\": \"resource1\"\n     }\n   ],\n    \"tags\":[\n    {\n        \"key\": \"key1\",\n        \"values\": [\"value1\"]\n     }\n  ]\n}","x-request-examples-url-1":"POST /v1.0/9c53a566cb3443ab910cf0daebca90c4/dedicated-host-tags/resource_instances/action","x-scope":"Commercial","x-source":"SelfDeveloped","x-support-sdk":"Y"}}},"product_short":"DeH","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"按标签查询专属主机列表","tags":"标签管理","uri":null,"version":"2.0"}