{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"BtrfsFileSystem":{"description":"btrfs分区类型","properties":{"data_profile":{"description":"数据配置(RAD)","maxLength":255,"minLength":0,"type":"string"},"default_subvol_mountpath":{"description":"默认子卷挂载路径/BTRFS文件系统的挂载路径","maxLength":255,"minLength":0,"type":"string"},"default_subvol_name":{"description":"默认子卷名称","maxLength":255,"minLength":0,"type":"string"},"default_subvolid":{"description":"默认子卷ID","maxLength":255,"minLength":0,"type":"string"},"device":{"description":"btrfs包含的设备名称","maxLength":255,"minLength":0,"type":"string"},"g_vol_used_size":{"description":"Btrfs卷已使用空间大小","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"global_reserve1":{"description":"Btrfs文件系统信息","maxLength":255,"minLength":0,"type":"string"},"label":{"description":"文件系统标签,若无标签为空字符串","maxLength":255,"minLength":0,"type":"string"},"metadata_profile":{"description":"元数据配置(RAD)","maxLength":255,"minLength":0,"type":"string"},"name":{"description":"文件系统名称","example":"/dev/vdb1","maxLength":255,"minLength":0,"type":"string"},"nodesize":{"description":"btrfs节点大小","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"sectorsize":{"description":"扇区大小","format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"size":{"description":"文件系统数据占用大小","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"subvolumn":{"description":"子卷信息","items":{"$ref":"#/definitions/BtrfsSubvolumn"},"maxItems":65535,"minItems":0,"type":"array"},"system_profile":{"description":"文件系统配置(RAD)","maxLength":255,"minLength":0,"type":"string"},"uuid":{"description":"文件系统的uuid","maxLength":255,"minLength":0,"type":"string"}},"type":"object"},"BtrfsSubvolumn":{"description":"btrfs子卷信息","properties":{"is_snapshot":{"description":"子卷是否为快照","maxLength":255,"minLength":0,"type":"string"},"parent_id":{"description":"父卷ID","maxLength":255,"minLength":0,"type":"string"},"subvol_id":{"description":"子卷的ID","maxLength":255,"minLength":0,"type":"string"},"subvol_mount_path":{"description":"子卷的挂载路径","maxLength":255,"minLength":0,"type":"string"},"subvol_name":{"description":"子卷的名称","maxLength":255,"minLength":0,"type":"string"},"uuid":{"description":"父卷的uuid","maxLength":255,"minLength":0,"type":"string"}},"type":"object"},"Forbiddenstatus":{"description":"接口请求鉴权失败时返回的response body格式","properties":{"details":{"description":"详细错误信息","items":{"properties":{"error_code":{"description":"SMS错误代码","example":"SMS.9004","maxLength":65535,"minLength":0,"type":"string"},"error_msg":{"description":"SMS错误信息","example":"You do not have permission to perform action XXX on resource XXX.","maxLength":65535,"minLength":0,"type":"string"}}},"maxItems":20,"minItems":1,"type":"array"},"encoded_authorization_message":{"description":"加密授权信息","example":"XXXXXX","maxLength":65535,"minLength":0,"type":"string"},"error_code":{"description":"错误代码","example":"SMS.9004","maxLength":255,"minLength":0,"type":"string"},"error_msg":{"description":"错误信息","example":"The current account does not have the permission to execute policy. You do not have permission to perform action XXX on resource XXX.","maxLength":255,"minLength":0,"type":"string"},"error_param":{"description":"错误参数","example":["You do not have permission to perform action XXX on resource XXX."],"items":{"example":"XXXXXX","maxLength":65535,"minLength":0,"type":"string"},"maxItems":20,"minItems":1,"type":"array"}},"type":"object"},"LogicalVolumes":{"description":"逻辑卷信息","properties":{"block_count":{"default":0,"description":"块数量","format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"block_size":{"default":0,"description":"块大小","format":"int64","maximum":1048576,"minimum":0,"type":"integer"},"device_use":{"description":"分区类型\n无强约束,可为空值,常见取值如下\nNORMAL:平常\nOS:系统设备\nBOOT:BOOT设备\nVOLUME_GROUP:VolumeGroup组成设备\nBTRFS:BTRFS组成设备","maxLength":255,"minLength":0,"type":"string"},"file_system":{"description":"文件系统","example":"ext4","maxLength":255,"minLength":0,"type":"string"},"free_size":{"description":"剩余空间","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer","x-annotations":"空闲空间"},"inode_nums":{"description":"inode节点数量","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"inode_size":{"description":"inode数量","example":128,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"mount_point":{"description":"挂载点","example":"/mnt/data1","maxLength":256,"minLength":0,"type":"string"},"name":{"description":"名称","example":"/dev/mapper/l1170-lvg","maxLength":1024,"minLength":0,"type":"string"},"size":{"description":"大小","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"used_size":{"description":"使用大小","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"}},"type":"object"},"NetWork":{"description":"网卡实体类","properties":{"gateway":{"description":"网关","maxLength":255,"minLength":0,"type":"string"},"id":{"description":"数据库ID","maxLength":255,"minLength":0,"type":"string"},"ip":{"description":"该网卡绑定的IP","maxLength":255,"minLength":0,"type":"string"},"ipv6":{"description":"IPv6地址","maxLength":255,"minLength":0,"type":"string"},"mac":{"description":"列表中第一个Mac地址必须非空","maxLength":255,"minLength":0,"type":"string"},"mtu":{"description":"Linux必选,网卡的MTU","format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"name":{"description":"网卡的名称","maxLength":255,"minLength":0,"type":"string"},"netmask":{"description":"掩码","maxLength":255,"minLength":0,"type":"string"}},"required":["mac"],"type":"object"},"PhysicalVolume":{"description":"使用大小","properties":{"device_use":{"description":"磁盘类型。\n无强约束,可为空值,常见取值如下\nNORMAL:平常\nOS:系统设备\nBOOT:BOOT设备\nVOLUME_GROUP:VolumeGroup组成设备\nBTRFS:BTRFS组成设备","maxLength":255,"minLength":0,"type":"string"},"file_system":{"description":"文件系统类型","example":"NTFS","maxLength":255,"minLength":0,"type":"string"},"index":{"description":"顺序","example":1,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"inode_nums":{"description":"inode节点数量","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"inode_size":{"description":"inode数量","format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"mount_point":{"description":"挂载点","example":"null","maxLength":255,"minLength":0,"type":"string"},"name":{"description":"名称,windows表示盘符,Linux表示设备号","example":"(Reserved)","maxLength":255,"minLength":0,"type":"string"},"size":{"description":"大小","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"size_per_cluster":{"description":"每个cluster大小","format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"used_size":{"description":"使用大小","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"uuid":{"description":"GUID,可从源端查询","example":"\\\\?\\Volume{f03444e4-7874-11e5-80b3-806e6f6e6963}\\","maxLength":255,"minLength":0,"type":"string"}},"type":"object"},"PostSourceServerBody":{"description":"源端服务器","properties":{"account_rights":{"description":"权限是否满足要求\nWindows场景必选,否则无法通过后续环境检查","type":"boolean"},"agent_version":{"description":"Agent版本","maxLength":255,"minLength":0,"type":"string"},"boot_loader":{"description":"系统引导类型\n仅允许“GRUB”取值,Linux场景必选,否则无法通过后续环境检查","maxLength":255,"minLength":0,"type":"string"},"btrfs_list":{"description":"源端的Btrfs信息。如果源端不存在Btrfs,则为[]\nLinux场景必选,否则无法通过后续环境检查","items":{"$ref":"#/definitions/BtrfsFileSystem"},"maxItems":65535,"minItems":0,"type":"array"},"cpu_quantity":{"description":"CPU个数,单位vCPU","format":"int32","maximum":65535,"minimum":0,"type":"integer"},"disks":{"description":"源端服务器的磁盘信息","items":{"$ref":"#/definitions/ServerDisk"},"maxItems":50,"minItems":0,"type":"array"},"domain_id":{"description":"租户的domainId","maxLength":255,"minLength":0,"type":"string"},"driver_files":{"description":"是否缺少驱动文件\nWindows场景必选,否则无法通过后续环境检查","type":"boolean"},"firmware":{"description":"源端服务器启动类型,如BIOS或者UEFI","enum":["BIOS","UEFI"],"maxLength":255,"minLength":0,"type":"string"},"has_rsync":{"description":"是否安装rsync组件,Linux系统此参数为必选,否则无法通过后续环境检查","type":"boolean"},"has_tc":{"description":"是否安装tc组件,Linux系统此参数为必选,否则无法通过后续环境检查","type":"boolean"},"hostname":{"description":"源端主机名","maxLength":64,"minLength":1,"type":"string"},"id":{"description":"源端在SMS数据库中的ID","maxLength":255,"minLength":0,"type":"string"},"io_read_wait":{"description":"磁盘IO读时延,单位为ms","format":"double","maximum":10000.0,"minimum":0.0,"type":"number"},"ip":{"description":"源端服务器ip,格式需满足ip标准格式。ip与ipv6必填一个。","maxLength":255,"minLength":0,"type":"string"},"ipv6":{"description":"源端服务器ip,格式需满足ipv6标准格式。ip与ipv6必填一个。","maxLength":255,"minLength":0,"type":"string"},"kernel_version":{"description":"内核版本信息","maxLength":255,"minLength":0,"type":"string"},"linux_block_check":{"description":"Linux操作系统块检查","maxLength":255,"minLength":0,"type":"string"},"memory":{"description":"内存大小,单位MB","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"migration_cycle":{"description":"迁移周期\ncutovering:启动目的端中\ncutovered:启动目的端完成\nchecking:检查中\nsetting:设置中\nreplicating:复制中\nsyncing:同步中","enum":["cutovering","cutovered","checking","setting","replicating","syncing"],"type":"string"},"name":{"description":"用来区分不同源端服务器的名称","maxLength":64,"minLength":1,"type":"string"},"networks":{"description":"源端服务器的网卡信息","items":{"$ref":"#/definitions/NetWork"},"maxItems":50,"minItems":1,"type":"array"},"oem_system":{"description":"是否是OEM操作系统(Windows)","type":"boolean"},"os_type":{"description":"源端服务器的OS类型,分为Windows和Linux,注册必选,更新非必选","enum":["WINDOWS","LINUX"],"maxLength":255,"minLength":0,"type":"string"},"os_version":{"description":"操作系统版本,注册必选,更新非必选","maxLength":255,"minLength":0,"type":"string"},"paravirtualization":{"description":"源端是否是半虚拟化\nLinux场景必选,否则无法通过后续环境检查","type":"boolean"},"platform":{"description":"平台信息:\nhw:华为 \nali:阿里\naws:亚马逊\nazure:微软云\ngcp:谷歌云\ntencent:腾讯云\nvmware:VMware\nhyperv:HyperV\nother:其他\ndefault:默认","enum":["hw","ali","aws","azure","gcp","tencent","vmware","hyperv","other","default"],"type":"string"},"raw_devices":{"description":"裸设备列表\nLinux场景必选,否则无法通过后续环境检查","maxLength":255,"minLength":0,"type":"string"},"start_type":{"description":"启动方式\n可以取值MANUAL、MGC或者空,不进行校验","maxLength":255,"minLength":0,"type":"string"},"state":{"description":"源端服务器状态\nunavailable:环境校验不通过\nwaiting:等待\ninitialize:初始化\nreplicate:复制\nsyncing:持续同步\nstopping:暂停中\nstopped:已暂停\nskipping:跳过中\ndeleting:删除中\nclearing: 清理快照资源中\ncleared:清理快照资源完成\nclearfailed:清理快照资源失败\npremigready:迁移演练就绪\npremiging:迁移演练中\npremiged:迁移演练完成\npremigfailed:迁移演练失败\ncloning:等待克隆完成\ncutovering:启动目的端中\nfinished:启动目的端完成\nerror:错误","enum":["unavailable","waiting","initialize","replicate","syncing","stopping","stopped","skipping","deleting","clearing","cleared","clearfailed","premigready","premiged","premigfailed","cloning","cutovering","finished","error"],"maxLength":255,"minLength":0,"type":"string"},"system_dir":{"description":"系统目录\nWindows场景必选,否则无法通过后续环境检查","maxLength":255,"minLength":0,"type":"string"},"system_services":{"description":"是否存在不正常服务\nWindows场景必选,否则无法通过后续环境检查","type":"boolean"},"volume_groups":{"description":"卷组\n如果没有卷组,输入[]\nLinux场景必选,否则无法通过后续环境检查","items":{"$ref":"#/definitions/VolumeGroups"},"maxItems":50,"minItems":0,"type":"array"}},"required":["name","os_type","os_version","networks","agent_version"],"type":"object"},"RegisterServerResp":{"description":"上报源端信息响应","properties":{"id":{"description":"源端ID","maxLength":255,"minLength":0,"type":"string"}},"required":["id"],"type":"object"},"ServerDisk":{"description":"磁盘信息","properties":{"device_use":{"description":"磁盘类型。\n无强约束,可为空值,常见取值如下\nNORMAL:平常\nOS:系统设备\nBOOT:BOOT设备\nVOLUME_GROUP:VolumeGroup组成设备\nBTRFS:BTRFS组成设备","maxLength":255,"minLength":0,"type":"string"},"inode_size":{"description":"inode大小","format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"name":{"description":"磁盘名称","maxLength":255,"minLength":0,"type":"string"},"os_disk":{"description":"是否为系统盘","type":"boolean"},"partition_style":{"description":"磁盘的分区类型,添加源端时源端磁盘必选,否则无法通过后续环境检查\n(非枚举数据,来源于EVS服务)\n常见类型如:MBR:主启动记录分区,GPT:Guid Partition Table,全局分区表。\n详细类型请参考EVS服务API文档中“MBR和GPT分区形式有何区别”部分描述","maxLength":255,"minLength":0,"type":"string"},"physical_volumes":{"description":"磁盘上的物理分区信息","items":{"$ref":"#/definitions/PhysicalVolume"},"maxItems":50,"minItems":0,"type":"array"},"relation_name":{"description":"Linux系统 目的端ECS中与源端关联的磁盘名称","maxLength":255,"minLength":0,"type":"string"},"size":{"description":"磁盘总大小,以字节为单位","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"used_size":{"description":"磁盘已使用大小,以字节为单位","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"}},"type":"object"},"VolumeGroups":{"description":"逻辑卷组信息","properties":{"components":{"description":"Pv信息","example":"/dev/vdd","maxLength":255,"minLength":0,"type":"string"},"free_size":{"description":"剩余空间","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"logical_volumes":{"description":"lv信息","example":"[{\"name\":\"/dev/mapper/l1170-lvg\",\"size\":104857600,\"used_size\":1587200,\"file_system\":\"ext4\",\"mount_point\":\"/mnt/data1\",\"inode_size\":128,\"block_size\":0,\"block_count\":0}]","items":{"$ref":"#/definitions/LogicalVolumes"},"maxItems":50,"minItems":0,"type":"array"},"name":{"description":"名称","example":"l1170","maxLength":255,"minLength":0,"type":"string"},"size":{"description":"大小","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"}},"type":"object"}},"description":null,"group_id":"b335e41b37154b9c865b003f5fa2e3dd","host":"sms.cn-north-4.myhuaweicloud.com","id":"ead3a3b926b042c69fc8e66f0b714eb9","info_version":"v3","method":"post","name":"RegisterServer","parameters":{},"paths":{"/v3/sources":{"post":{"consumes":["application/json"],"deprecated":false,"description":"上报源端服务器信息,上报成功后会在sms服务器列表中看到对应的源端服务器信息。","operationId":"RegisterServer","parameters":[{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":16384,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-annotations":"","x-order":1},{"description":"源端服务器信息","in":"body","name":"RegisterServerRequestBody","required":true,"schema":{"$ref":"#/definitions/PostSourceServerBody"},"x-annotations":"","x-order":2}],"produces":["application/json"],"responses":{"200":{"description":"源端注册成功","examples":{"application/json":{"id":"xxxxxxxxxxxxxxxxxxxxxxxx00000001"}},"schema":{"$ref":"#/definitions/RegisterServerResp"}},"403":{"description":"鉴权失败","examples":{"application/json":{"details":[{"error_code":"SMS.9004","error_msg":"You do not have permission to perform action XXX on resource XXX."}],"encoded_authorization_message":"XXXXXX","error_code":"SMS.9004","error_msg":"The current account does not have the permission to execute policy. You do not have permission to perform action XXX on resource XXX.","error_param":["You do not have permission to perform action XXX on resource XXX."]}},"schema":{"$ref":"#/definitions/Forbiddenstatus"}}},"summary":"上报源端服务器基本信息","tags":["源端管理"],"x-api-type":"TenantOpenAPI","x-apiErrorCodes":[{"errorCode":"SMS.6001","errorDescription":"源端名称为空","errorDescriptionEn":"The source server name is empty.","errorMessage":"The source server name is empty.","httpStatus":"400","solution":"源端名称不能为空","solutionEn":""},{"errorCode":"SMS.6102","errorDescription":"参数Json格式不满足要求","errorDescriptionEn":"The parameter JSON format does not meet the requirements","errorMessage":"参数Json格式不满足要求","httpStatus":"400","solution":"请按要求输入正确的Json格式","solutionEn":""},{"errorCode":"SMS.6303","errorDescription":"Agent版本过老","errorDescriptionEn":"The installed Agent is of an earlier version. Download the latest version.","errorMessage":"The installed Agent is of an earlier version. Download the latest version.","httpStatus":"400","solution":"请下载新的Agent","solutionEn":""},{"errorCode":"SMS.6501","errorDescription":"您最多只能添加1000个源端!","errorDescriptionEn":"You can add a maximum of 100 source servers.","errorMessage":"You can add a maximum of 100 source servers.","httpStatus":"400","solution":"请删除已迁移完成的源端","solutionEn":""},{"errorCode":"SMS.6503","errorDescription":"无法获取源端操作系统版本。","errorDescriptionEn":"Unable to obtain the source end operating system version.","errorMessage":"Unable to obtain the source end operating system version.","httpStatus":"400","solution":"请提供正确的源端系统类型","solutionEn":""}],"x-apiexplorer-hide":"false","x-apigateway-auth-type":"IAM","x-apigateway-match-mode":"NORMAL","x-apigateway-request-type":"public","x-constraint":"","x-is-registered":"Y","x-name":"上报源端服务器基本信息","x-open-region-cloud":"hc,hk","x-order":4,"x-publishpath":"RegisterServer","x-request-examples-1":{"agent_version":"2.2.1","boot_loader":"GRUB","btrfs_list":[{"data_profile":"single","default_subvol_mountpath":"/","default_subvol_name":"@/.snapshots/1/snapshot","default_subvolid":"259","device":"/dev/vda2","g_vol_used_size":"3894038528","global_reserve1":"single","label":"none","metadata_profile":"single","name":"/dev/vda2","nodesize":"16384","sectorsize":"4096","size":"3.30GiB","subvolumn":[{"is_snapshot":"false","parent_id":"5","subvol_id":"257","subvol_mount_path":"null","subvol_name":"@","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"258","subvol_mount_path":"/.snapshots","subvol_name":"@/.snapshots","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"true","parent_id":"258","subvol_id":"259","subvol_mount_path":"/","subvol_name":"@/.snapshots/1/snapshot","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"260","subvol_mount_path":"/boot/grub2/i386-pc","subvol_name":"@/boot/grub2/i386-pc","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"261","subvol_mount_path":"/boot/grub2/x86_64-efi","subvol_name":"@/boot/grub2/x86_64-efi","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"262","subvol_mount_path":"/opt","subvol_name":"@/opt","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"263","subvol_mount_path":"/srv","subvol_name":"@/srv","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"264","subvol_mount_path":"/tmp","subvol_name":"@/tmp","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"265","subvol_mount_path":"/usr/local","subvol_name":"@/usr/local","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"266","subvol_mount_path":"/var/cache","subvol_name":"@/var/cache","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"267","subvol_mount_path":"/var/crash","subvol_name":"@/var/crash","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"268","subvol_mount_path":"/var/lib/libvirt/images","subvol_name":"@/var/lib/libvirt/images","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"269","subvol_mount_path":"/var/lib/machines","subvol_name":"@/var/lib/machines","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"270","subvol_mount_path":"/var/lib/mailman","subvol_name":"@/var/lib/mailman","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"271","subvol_mount_path":"/var/lib/mariadb","subvol_name":"@/var/lib/mariadb","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"272","subvol_mount_path":"/var/lib/mysql","subvol_name":"@/var/lib/mysql","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"273","subvol_mount_path":"/var/lib/named","subvol_name":"@/var/lib/named","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"274","subvol_mount_path":"/var/lib/pgsql","subvol_name":"@/var/lib/pgsql","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"275","subvol_mount_path":"/var/log","subvol_name":"@/var/log","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"276","subvol_mount_path":"/var/opt","subvol_name":"@/var/opt","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"277","subvol_mount_path":"/var/spool","subvol_name":"@/var/spool","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"278","subvol_mount_path":"/var/tmp","subvol_name":"@/var/tmp","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"true","parent_id":"258","subvol_id":"282","subvol_mount_path":"null","subvol_name":"@/.snapshots/2/snapshot","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"}],"system_profile":"single","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"}],"cpu_quantity":1,"disks":[{"device_use":"BOOT","name":"/dev/vda","partition_style":"MBR","physical_volumes":[{"device_use":"NORMAL","file_system":"swap","inode_nums":0,"inode_size":0,"mount_point":"","name":"/dev/vda1","size":2153775104,"used_size":2153775104},{"device_use":"BTRFS","file_system":"btrfs","inode_nums":0,"inode_size":0,"mount_point":"","name":"/dev/vda2","size":16862150656,"used_size":16862150656},{"device_use":"NORMAL","file_system":"xfs","inode_nums":12345,"inode_size":0,"mount_point":"/home","name":"/dev/vda3","size":23932698624,"used_size":33988608}],"size":42949672960,"used_size":42948624384},{"device_use":"NORMAL","name":"/dev/vdb","partition_style":"MBR","physical_volumes":[{"device_use":"VOLUME_GROUP","file_system":"LVM2_member","inode_nums":0,"inode_size":0,"mount_point":"","name":"/dev/vdb1","size":21473787904,"used_size":21473787904}],"size":21474836480,"used_size":21473787904},{"device_use":"VOLUME_GROUP","name":"/dev/vdc","partition_style":"MBR","physical_volumes":[],"size":21474836480,"used_size":0}],"firmware":"BIOS","has_rsync":true,"io_read_wait":3.4,"ip":"192.168.136.xxx","kernel_version":"4.4.21-69-default","linux_block_check":"{\"release_type\": \"SUSE\", \"release_version\": \"12.2\", \"kernel_simplification\": \"4.4.21\", \"architecture\": \"x86_64\", \"kernel_version\": \"4.4.21-69-default\"}","memory":934752256,"name":"host-192-168-136-xxx","networks":[{"gateway":"gateway","ip":"192.168.136.xxx","mac":"1a9660eb8a3ffcf4df6d7865b52eb54f7b0cd194029e0eadd8e2c7f1267d80c0","name":"eth0","netmask":"netmask"}],"os_type":"LINUX","os_version":"SUSE12_64BIT_SP2","paravirtualization":true,"platform":"hw","volume_groups":[{"components":"/dev/vdb1;/dev/vdc","logical_volumes":[{"device_use":"NORMAL","file_system":"ext4","free_size":10713837568,"inode_nums":12345,"inode_size":"256","mount_point":"/mnt/lv1","name":"/dev/mapper/vg1-lv1","size":10737418240,"used_size":23580672}],"name":"vg1","size":42948624384}]},"x-request-examples-description-1":"上报源端服务器信息,源端的OS类型是Linux,名称是host-192-168-136-xxx,ip是192.168.136.xxx,操作系统版本是SUSE12_64BIT_SP2,系统盘的名称是/dev/vda,系统盘的磁盘类型是BOOT,系统盘总大小为42949672960,上报成功后会在sms服务器列表中看到对应的源端服务器信息。","x-request-examples-text-1":{"agent_version":"2.2.1","boot_loader":"GRUB","btrfs_list":[{"data_profile":"single","default_subvol_mountpath":"/","default_subvol_name":"@/.snapshots/1/snapshot","default_subvolid":"259","device":"/dev/vda2","g_vol_used_size":"3894038528","global_reserve1":"single","label":"none","metadata_profile":"single","name":"/dev/vda2","nodesize":"16384","sectorsize":"4096","size":"3.30GiB","subvolumn":[{"is_snapshot":"false","parent_id":"5","subvol_id":"257","subvol_mount_path":"null","subvol_name":"@","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"258","subvol_mount_path":"/.snapshots","subvol_name":"@/.snapshots","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"true","parent_id":"258","subvol_id":"259","subvol_mount_path":"/","subvol_name":"@/.snapshots/1/snapshot","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"260","subvol_mount_path":"/boot/grub2/i386-pc","subvol_name":"@/boot/grub2/i386-pc","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"261","subvol_mount_path":"/boot/grub2/x86_64-efi","subvol_name":"@/boot/grub2/x86_64-efi","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"262","subvol_mount_path":"/opt","subvol_name":"@/opt","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"263","subvol_mount_path":"/srv","subvol_name":"@/srv","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"264","subvol_mount_path":"/tmp","subvol_name":"@/tmp","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"265","subvol_mount_path":"/usr/local","subvol_name":"@/usr/local","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"266","subvol_mount_path":"/var/cache","subvol_name":"@/var/cache","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"267","subvol_mount_path":"/var/crash","subvol_name":"@/var/crash","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"268","subvol_mount_path":"/var/lib/libvirt/images","subvol_name":"@/var/lib/libvirt/images","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"269","subvol_mount_path":"/var/lib/machines","subvol_name":"@/var/lib/machines","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"270","subvol_mount_path":"/var/lib/mailman","subvol_name":"@/var/lib/mailman","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"271","subvol_mount_path":"/var/lib/mariadb","subvol_name":"@/var/lib/mariadb","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"272","subvol_mount_path":"/var/lib/mysql","subvol_name":"@/var/lib/mysql","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"273","subvol_mount_path":"/var/lib/named","subvol_name":"@/var/lib/named","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"274","subvol_mount_path":"/var/lib/pgsql","subvol_name":"@/var/lib/pgsql","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"275","subvol_mount_path":"/var/log","subvol_name":"@/var/log","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"276","subvol_mount_path":"/var/opt","subvol_name":"@/var/opt","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"277","subvol_mount_path":"/var/spool","subvol_name":"@/var/spool","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"false","parent_id":"257","subvol_id":"278","subvol_mount_path":"/var/tmp","subvol_name":"@/var/tmp","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"},{"is_snapshot":"true","parent_id":"258","subvol_id":"282","subvol_mount_path":"null","subvol_name":"@/.snapshots/2/snapshot","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"}],"system_profile":"single","uuid":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx0001"}],"cpu_quantity":1,"disks":[{"device_use":"BOOT","name":"/dev/vda","partition_style":"MBR","physical_volumes":[{"device_use":"NORMAL","file_system":"swap","inode_nums":0,"inode_size":0,"mount_point":"","name":"/dev/vda1","size":2153775104,"used_size":2153775104},{"device_use":"BTRFS","file_system":"btrfs","inode_nums":0,"inode_size":0,"mount_point":"","name":"/dev/vda2","size":16862150656,"used_size":16862150656},{"device_use":"NORMAL","file_system":"xfs","inode_nums":12345,"inode_size":0,"mount_point":"/home","name":"/dev/vda3","size":23932698624,"used_size":33988608}],"size":42949672960,"used_size":42948624384},{"device_use":"NORMAL","name":"/dev/vdb","partition_style":"MBR","physical_volumes":[{"device_use":"VOLUME_GROUP","file_system":"LVM2_member","inode_nums":0,"inode_size":0,"mount_point":"","name":"/dev/vdb1","size":21473787904,"used_size":21473787904}],"size":21474836480,"used_size":21473787904},{"device_use":"VOLUME_GROUP","name":"/dev/vdc","partition_style":"MBR","physical_volumes":[],"size":21474836480,"used_size":0}],"firmware":"BIOS","has_rsync":true,"io_read_wait":3.4,"ip":"192.168.136.xxx","kernel_version":"4.4.21-69-default","linux_block_check":"{\"release_type\": \"SUSE\", \"release_version\": \"12.2\", \"kernel_simplification\": \"4.4.21\", \"architecture\": \"x86_64\", \"kernel_version\": \"4.4.21-69-default\"}","memory":934752256,"name":"host-192-168-136-xxx","networks":[{"gateway":"gateway","ip":"192.168.136.xxx","mac":"1a9660eb8a3ffcf4df6d7865b52eb54f7b0cd194029e0eadd8e2c7f1267d80c0","name":"eth0","netmask":"netmask"}],"os_type":"LINUX","os_version":"SUSE12_64BIT_SP2","paravirtualization":true,"platform":"hw","volume_groups":[{"components":"/dev/vdb1;/dev/vdc","logical_volumes":[{"device_use":"NORMAL","file_system":"ext4","free_size":10713837568,"inode_nums":12345,"inode_size":"256","mount_point":"/mnt/lv1","name":"/dev/mapper/vg1-lv1","size":10737418240,"used_size":23580672}],"name":"vg1","size":42948624384}]},"x-request-examples-url-1":"POST https://{endpoint}/v3/sources","x-scope":"Commercial","x-support-sdk":"Y","x-version":"v3"}}},"product_short":"SMS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"上报源端服务器基本信息","tags":"源端管理","uri":null,"version":"2.0"}