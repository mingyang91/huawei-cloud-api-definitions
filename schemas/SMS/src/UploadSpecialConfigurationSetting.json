{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ConfigBody":{"description":"配置参数body","properties":{"config_key":{"description":"配置类型\nMIGRATE_EXCLUDE_DIR: 迁移时设定的不迁移目录\nSYNC_EXCLUDE_DIR: 同步时设定的不同步目录\nONLY_SYNC_DIR: 同步时设定的同步目录\nCONSISTENCY_DIR: 一致性校验的目录\nCONSISTENCY_DIR_ILLEGAL: 一致性校验后非法目录\nLINUX_BLOCK_COMPRESS_THREAD_NUM: linux块迁移压缩线程个数\nMIGRATE_DST_IP: 迁移目的ip\nLINUX_BLOCK_CACHE_SIZE: linux块迁移缓存大小\nLINUX_CPU_LIMIT: linux的cpu限制\nLINUX_MEM_LIMIT: linux的内存限制\nLINUX_IO_LIMIT: linux的IO限制\nNUM_PROCESS_MIGRATE: 迁移进程数\nNUM_PROCESS_SYNC: 同步进程数\nCONSISTENCY_RECHECK: 一致性校验再检\nCONSISTENCY_MODE: 一致性校验模式\nDYNAMIC_PORT: 动态端口","enum":["MIGRATE_EXCLUDE_DIR","SYNC_EXCLUDE_DIR","ONLY_SYNC_DIR","CONSISTENCY_DIR","CONSISTENCY_DIR_ILLEGAL","LINUX_BLOCK_COMPRESS_THREAD_NUM","MIGRATE_DST_IP","LINUX_BLOCK_CACHE_SIZE","LINUX_CPU_LIMIT","LINUX_MEM_LIMIT","LINUX_IO_LIMIT","NUM_PROCESS_MIGRATE","NUM_PROCESS_SYNC","CONSISTENCY_RECHECK","CONSISTENCY_MODE","DYNAMIC_PORT"],"type":"string"},"config_status":{"description":"描述配置状态的保留字段","maxLength":255,"minLength":0,"type":"string"},"config_value":{"description":"具体配置参数字段,保存于数据库,最终在agent端进行解析","maxLength":1024,"minLength":0,"type":"string"}},"required":["config_key","config_value"],"type":"object"},"ConfigurationRequestBody":{"properties":{"configurations":{"description":"配置项列表","items":{"$ref":"#/definitions/ConfigBody"},"maxItems":50,"minItems":0,"type":"array"}},"required":["configurations"],"type":"object"},"ErrorMsg":{"description":"错误信息","properties":{"error_code":{"description":"错误码","maxLength":255,"minLength":0,"type":"string"},"error_msg":{"description":"错误信息","maxLength":1024,"minLength":0,"type":"string"}},"required":["error_code","error_msg"]},"Forbiddenstatus":{"description":"接口请求鉴权失败时返回的response body格式","properties":{"details":{"description":"详细错误信息","items":{"properties":{"error_code":{"description":"SMS错误代码","example":"SMS.9004","maxLength":65535,"minLength":0,"type":"string"},"error_msg":{"description":"SMS错误信息","example":"You do not have permission to perform action XXX on resource XXX.","maxLength":65535,"minLength":0,"type":"string"}}},"maxItems":20,"minItems":1,"type":"array"},"encoded_authorization_message":{"description":"加密授权信息","example":"XXXXXX","maxLength":65535,"minLength":0,"type":"string"},"error_code":{"description":"错误代码","example":"SMS.9004","maxLength":255,"minLength":0,"type":"string"},"error_msg":{"description":"错误信息","example":"The current account does not have the permission to execute policy. You do not have permission to perform action XXX on resource XXX.","maxLength":255,"minLength":0,"type":"string"},"error_param":{"description":"错误参数","example":["You do not have permission to perform action XXX on resource XXX."],"items":{"example":"XXXXXX","maxLength":65535,"minLength":0,"type":"string"},"maxItems":20,"minItems":1,"type":"array"}},"type":"object"}},"description":null,"group_id":"b335e41b37154b9c865b003f5fa2e3dd","host":"sms.cn-north-4.myhuaweicloud.com","id":"c97def688dee4a89a806340aeb481394","info_version":"v3","method":"post","name":"UploadSpecialConfigurationSetting","parameters":{},"paths":{"/v3/tasks/{task_id}/configuration-setting":{"post":{"description":"配置迁移任务特殊设置,例如配置指定同步的文件或路径","operationId":"UploadSpecialConfigurationSetting","parameters":[{"description":"任务id","in":"path","maxLength":36,"minLength":1,"name":"task_id","required":true,"type":"string"},{"description":"用户Token。 通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":16384,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string"},{"description":"配置参数相关值","in":"body","name":"UploadSpecialConfigurationSettingRequestBody","required":true,"schema":{"$ref":"#/definitions/ConfigurationRequestBody"}}],"produces":["application/json"],"responses":{"200":{"description":"上传相关配置成功","examples":{"application/json":{}},"schema":{"description":"上传相关配置成功","type":"string"}},"403":{"description":"鉴权失败","examples":{"application/json":{"details":[{"error_code":"SMS.9004","error_msg":"You do not have permission to perform action XXX on resource XXX."}],"encoded_authorization_message":"XXXXXX","error_code":"SMS.9004","error_msg":"The current account does not have the permission to execute policy. You do not have permission to perform action XXX on resource XXX.","error_param":["You do not have permission to perform action XXX on resource XXX."]}},"schema":{"$ref":"#/definitions/Forbiddenstatus"}},"404":{"description":"任务不存在","schema":{"$ref":"#/definitions/ErrorMsg"}},"500":{"description":"上传配置设置结果异常。","schema":{"$ref":"#/definitions/ErrorMsg"}}},"summary":"迁移任务配置设置","tags":["配置设置管理"],"x-api-type":"open-api","x-apiexplorer-hide":false,"x-apigateway-auth-type":"IAM","x-apigateway-match-mode":"NORMAL","x-apigateway-request-type":"public","x-constraint":"","x-iftype":"TenantOpenAPI","x-is-registered":"Y","x-open-region-cloud":"hc,hk","x-publishpath":"UploadConfigSetting","x-request-examples-1":{"configurations":[{"config_key":"LINUX_CPU_LIMIT","config_value":50}]},"x-request-examples-description-1":"配置迁移任务特殊设置,配置任务是LINUX_CPU_LIMIT,限制值是50。","x-request-examples-text-1":{"configurations":[{"config_key":"LINUX_CPU_LIMIT","config_value":50}]},"x-request-examples-url-1":"POST https://{endpoint}/v3/tasks/{task_id}/configuration-setting","x-scope":"Commercial","x-support-sdk":"Y","x-version":"v3"}}},"product_short":"SMS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"迁移任务配置设置","tags":"配置设置管理","uri":null,"version":"2.0"}