{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CertKeyResponseBody":{"description":"获取SSL目的端证书和私钥","properties":{"ca":{"description":"ca证书","maxLength":1048576,"minLength":1,"type":"string"},"cert":{"description":"源端证书","maxLength":1048576,"minLength":1,"type":"string"},"private_key":{"description":"源端私钥","maxLength":1048576,"minLength":1,"type":"string"},"target_data_cert":{"description":"目的端数据层证书","maxLength":1048576,"minLength":1,"type":"string"},"target_data_private_key":{"description":"目的端数据层私钥","maxLength":1048576,"minLength":1,"type":"string"},"target_mgmt_cert":{"description":"目的端管理层证书","maxLength":1048576,"minLength":1,"type":"string"},"target_mgmt_private_key":{"description":"目的端管理层私钥","maxLength":1048576,"minLength":1,"type":"string"}},"type":"object"},"ErrorMsg":{"description":"错误信息","properties":{"error_code":{"description":"错误码","maxLength":255,"minLength":0,"type":"string"},"error_msg":{"description":"错误信息","maxLength":1024,"minLength":0,"type":"string"}},"required":["error_code","error_msg"]},"Forbiddenstatus":{"description":"接口请求鉴权失败时返回的response body格式","properties":{"details":{"description":"详细错误信息","items":{"properties":{"error_code":{"description":"SMS错误代码","example":"SMS.9004","maxLength":65535,"minLength":0,"type":"string"},"error_msg":{"description":"SMS错误信息","example":"You do not have permission to perform action XXX on resource XXX.","maxLength":65535,"minLength":0,"type":"string"}}},"maxItems":20,"minItems":1,"type":"array"},"encoded_authorization_message":{"description":"加密授权信息","example":"XXXXXX","maxLength":65535,"minLength":0,"type":"string"},"error_code":{"description":"错误代码","example":"SMS.9004","maxLength":255,"minLength":0,"type":"string"},"error_msg":{"description":"错误信息","example":"The current account does not have the permission to execute policy. You do not have permission to perform action XXX on resource XXX.","maxLength":255,"minLength":0,"type":"string"},"error_param":{"description":"错误参数","example":["You do not have permission to perform action XXX on resource XXX."],"items":{"example":"XXXXXX","maxLength":65535,"minLength":0,"type":"string"},"maxItems":20,"minItems":1,"type":"array"}},"type":"object"}},"description":null,"group_id":"b335e41b37154b9c865b003f5fa2e3dd","host":"sms.cn-north-4.myhuaweicloud.com","id":"6253673d742047859ee4bf57f4b3aa7c","info_version":"v3","method":"get","name":"ShowCertKey","parameters":{},"paths":{"/v3/tasks/{task_id}/certkey":{"get":{"consumes":["application/json"],"description":"当迁移采用块级迁移的方式时,安装在源端服务器上的迁移Agent通过SSLSocket同目的端服务器通信,该接口用于下载迁移传输过程所需要的证书和私钥(PEM格式)。","operationId":"ShowCertKey","parameters":[{"description":"X-Auth-Token \n用户Token。  \n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":16384,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-order":1},{"description":"迁移任务ID","in":"path","maxLength":36,"minLength":1,"name":"task_id","required":true,"type":"string"},{"default":false,"description":"是否生成ca证书","in":"query","name":"enable_ca_cert","required":false,"type":"boolean"}],"produces":["application/json"],"responses":{"200":{"description":"获取SSL证书和私钥成功","examples":{"application/json":{"ca":"-----BEGIN CERTIFICATE-----\n********************************\n-----END CERTIFICATE-----\n","cert":"-----BEGIN CERTIFICATE-----\n********************************\n-----END CERTIFICATE-----\n","private_key":"-----BEGIN RSA PRIVATE KEY-----\n********************************\n-----END RSA PRIVATE KEY-----\n","target_data_cert":"-----BEGIN CERTIFICATE-----\n********************************\n-----END CERTIFICATE-----\n","target_data_private_key":"-----BEGIN RSA PRIVATE KEY-----\n********************************\n-----END RSA PRIVATE KEY-----\n","target_mgmt_cert":"-----BEGIN CERTIFICATE-----\n********************************\n-----END CERTIFICATE-----\n","target_mgmt_private_key":"-----BEGIN RSA PRIVATE KEY-----\n********************************\n-----END RSA PRIVATE KEY-----\n"}},"schema":{"$ref":"#/definitions/CertKeyResponseBody"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/ErrorMsg"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/ErrorMsg"}},"403":{"description":"鉴权失败","examples":{"application/json":{"details":[{"error_code":"SMS.9004","error_msg":"You do not have permission to perform action XXX on resource XXX."}],"encoded_authorization_message":"XXXXXX","error_code":"SMS.9004","error_msg":"The current account does not have the permission to execute policy. You do not have permission to perform action XXX on resource XXX.","error_param":["You do not have permission to perform action XXX on resource XXX."]}},"schema":{"$ref":"#/definitions/Forbiddenstatus"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/ErrorMsg"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/ErrorMsg"}}},"summary":"获取SSL证书和私钥","tags":["密钥管理"],"x-api-type":"TenantOpenAPI","x-apiexplorer-hide":"false","x-apigateway-auth-type":"IAM","x-apigateway-match-mode":"NORMAL","x-apigateway-request-type":"public","x-constraint":"","x-is-registered":"Y","x-name":"生成安全证书","x-open-region-cloud":"hc,hk","x-order":0,"x-publishpath":"ShowSsl","x-request-examples-description-1":"获取迁移任务需要用到的证书和私钥","x-request-examples-url-1":"GET https://{endpoint}/v3/tasks/{task_id}/certkey?enable_ca_cert=true","x-scope":"Commercial","x-support-sdk":"Y","x-version":"v3"}}},"product_short":"SMS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"获取SSL证书和私钥","tags":"密钥管理","uri":null,"version":"2.0"}