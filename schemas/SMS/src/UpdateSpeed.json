{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"Forbiddenstatus":{"description":"接口请求鉴权失败时返回的response body格式","properties":{"details":{"description":"详细错误信息","items":{"properties":{"error_code":{"description":"SMS错误代码","example":"SMS.9004","maxLength":65535,"minLength":0,"type":"string"},"error_msg":{"description":"SMS错误信息","example":"You do not have permission to perform action XXX on resource XXX.","maxLength":65535,"minLength":0,"type":"string"}}},"maxItems":20,"minItems":1,"type":"array"},"encoded_authorization_message":{"description":"加密授权信息","example":"XXXXXX","maxLength":65535,"minLength":0,"type":"string"},"error_code":{"description":"错误代码","example":"SMS.9004","maxLength":255,"minLength":0,"type":"string"},"error_msg":{"description":"错误信息","example":"The current account does not have the permission to execute policy. You do not have permission to perform action XXX on resource XXX.","maxLength":255,"minLength":0,"type":"string"},"error_param":{"description":"错误参数","example":["You do not have permission to perform action XXX on resource XXX."],"items":{"example":"XXXXXX","maxLength":65535,"minLength":0,"type":"string"},"maxItems":20,"minItems":1,"type":"array"}},"type":"object"},"SpeedLimit":{"description":"修改速率的参数","properties":{"speed_limit":{"description":"按时间段限速信息","items":{"$ref":"#/definitions/SpeedLimitlJson"},"maxItems":5,"minItems":0,"type":"array"}},"required":["speed_limit"],"type":"object"},"SpeedLimitlJson":{"description":"速率参数","properties":{"end":{"description":"时间段结束时间,格式:XX:XX。","maxLength":255,"minLength":0,"type":"string"},"over_speed_threshold":{"default":10,"description":"停止迁移的超速阈值。 是一个迁移速率的保护机制,超出该阈值会停止任务。它主要用于控制迁移过程中资源(特别是网络带宽)的消耗,确保系统的整体性能不受单一迁移任务影响 单位是百分比","example":50.0,"format":"double","maximum":100,"minimum":10,"type":"number"},"speed":{"default":0,"description":"时间段的速率,0-1000的整数,单位:Mbit/s。","example":1000,"format":"int32","maximum":1000,"minimum":0,"type":"integer"},"start":{"description":"时间段开始时间,格式:XX:XX。","maxLength":255,"minLength":0,"type":"string"}},"required":["start","end"],"type":"object"}},"description":null,"group_id":"b335e41b37154b9c865b003f5fa2e3dd","host":"sms.cn-north-4.myhuaweicloud.com","id":"329651aafbd94b99a61ec6f4cdd5b1a4","info_version":"v3","method":"post","name":"UpdateSpeed","parameters":{},"paths":{"/v3/tasks/{task_id}/speed-limit":{"post":{"consumes":["application/json"],"deprecated":false,"description":"设置迁移任务的迁移速率。","operationId":"UpdateSpeed","parameters":[{"description":"X-Auth-Token \n用户Token。  \n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":16384,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-annotations":"","x-order":1},{"description":"主机迁移任务的ID","in":"path","maxLength":36,"minLength":1,"name":"task_id","required":true,"type":"string","x-order":2},{"description":"迁移中限速信息请求体","in":"body","name":"UpdateSpeedRequestBody","required":true,"schema":{"$ref":"#/definitions/SpeedLimit"},"x-annotations":"","x-order":3}],"produces":["application/json"],"responses":{"200":{"description":"设置迁移限速规则成功","examples":{"application/json":{}},"schema":{"description":"设置迁移限速规则成功","type":"string"}},"403":{"description":"鉴权失败","examples":{"application/json":{"details":[{"error_code":"SMS.9004","error_msg":"You do not have permission to perform action XXX on resource XXX."}],"encoded_authorization_message":"XXXXXX","error_code":"SMS.9004","error_msg":"The current account does not have the permission to execute policy. You do not have permission to perform action XXX on resource XXX.","error_param":["You do not have permission to perform action XXX on resource XXX."]}},"schema":{"$ref":"#/definitions/Forbiddenstatus"}}},"summary":"设置迁移限速规则","tags":["任务管理"],"x-api-type":"TenantOpenAPI","x-apiErrorCodes":[{"errorCode":"SMS.6102","errorDescription":"参数Json格式不满足要求","errorDescriptionEn":"The parameter JSON format does not meet the requirements","errorMessage":"The parameter JSON format does not meet the requirements","httpStatus":"400","solution":"请按要求输入正确的Json格式","solutionEn":"Please enter the correct JSON format as required"},{"errorCode":"SMS.6102","errorDescription":"Json格式转换失败","errorDescriptionEn":"Failed to convert into the JSON format.","errorMessage":"Failed to convert into the JSON format.","httpStatus":"400","solution":"请检查json格式是否正确","solutionEn":""},{"errorCode":"SMS.7703","errorDescription":"任务不存在","errorDescriptionEn":"Task doesn't exist","errorMessage":"Task doesn't exist","httpStatus":"404","solution":"请检查任务是否存在","solutionEn":""}],"x-apiexplorer-hide":"false","x-apigateway-auth-type":"IAM","x-apigateway-match-mode":"NORMAL","x-apigateway-request-type":"public","x-constraint":"","x-is-registered":"Y","x-name":"设置迁移限速规则","x-open-region-cloud":"hc,hk","x-order":19,"x-publishpath":"UpdateSpeed","x-request-examples-1":{"speed_limit":[{"end":"23:59","over_speed_threshold":50.0,"speed":1000,"start":"00:00"}]},"x-request-examples-2":{"speed_limit":[{"end":"8:00","speed":20,"start":"0:00"},{"end":"15:00","speed":50,"start":"8:00"},{"end":"23:59","speed":25,"start":"15:00"}]},"x-request-examples-description-1":"设置迁移任务的迁移速率和停止迁移的阈值速率,0:00到8:00是20M/s,8:00到15:00是50M/s,15:00到23:59是25M/s。","x-request-examples-description-2":"更新ID为a45a300b-86b5-4b13-8802-52274fa43016的迁移速率。","x-request-examples-text-1":{"speed_limit":[{"end":"23:59","over_speed_threshold":50.0,"speed":1000,"start":"00:00"}]},"x-request-examples-text-2":{"speed_limit":[{"end":"8:00","speed":20,"start":"0:00"},{"end":"15:00","speed":50,"start":"8:00"},{"end":"23:59","speed":25,"start":"15:00"}]},"x-request-examples-url-1":"POST https://{endpoint}/v3/tasks/7a9a9540-ff28-4869-b9e4-855fbe12xxxx/speed-limit","x-request-examples-url-2":"POST https://{endpoint}/v3/tasks/a45a300b-86b5-4b13-8802-52274fa43016/speed-limit","x-scope":"Commercial","x-support-sdk":"Y","x-version":"v3"}}},"product_short":"SMS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"设置迁移限速规则","tags":"任务管理","uri":null,"version":"2.0"}