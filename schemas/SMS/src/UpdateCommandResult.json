{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CommandBody":{"description":"命令参数body","properties":{"command_name":{"description":"命令名称,分为:START、STOP、DELETE、SYNC、UPLOAD_LOG、RSET_LOG_ACL","maxLength":255,"minLength":0,"type":"string"},"result":{"description":"命令执行结果\n\tsuccess代表执行命令成功\n\tfail代表命令执行失败\n","maxLength":255,"minLength":0,"type":"string"},"result_detail":{"description":"JSON格式的命令执行结果,只用于保存数据库,没有其他作用","type":"object"}},"required":["command_name","result","result_detail"]},"ErrorMsg":{"description":"错误信息","properties":{"error_code":{"description":"错误码","maxLength":255,"minLength":0,"type":"string"},"error_msg":{"description":"错误信息","maxLength":1024,"minLength":0,"type":"string"}},"required":["error_code","error_msg"]},"Forbiddenstatus":{"description":"接口请求鉴权失败时返回的response body格式","properties":{"details":{"description":"详细错误信息","items":{"properties":{"error_code":{"description":"SMS错误代码","example":"SMS.9004","maxLength":65535,"minLength":0,"type":"string"},"error_msg":{"description":"SMS错误信息","example":"You do not have permission to perform action XXX on resource XXX.","maxLength":65535,"minLength":0,"type":"string"}}},"maxItems":20,"minItems":1,"type":"array"},"encoded_authorization_message":{"description":"加密授权信息","example":"XXXXXX","maxLength":65535,"minLength":0,"type":"string"},"error_code":{"description":"错误代码","example":"SMS.9004","maxLength":255,"minLength":0,"type":"string"},"error_msg":{"description":"错误信息","example":"The current account does not have the permission to execute policy. You do not have permission to perform action XXX on resource XXX.","maxLength":255,"minLength":0,"type":"string"},"error_param":{"description":"错误参数","example":["You do not have permission to perform action XXX on resource XXX."],"items":{"example":"XXXXXX","maxLength":65535,"minLength":0,"type":"string"},"maxItems":20,"minItems":1,"type":"array"}},"type":"object"}},"description":null,"group_id":"b335e41b37154b9c865b003f5fa2e3dd","host":"sms.cn-north-4.myhuaweicloud.com","id":"38e52b1fd6054d23bc5addf572dda71b","info_version":"v3","method":"post","name":"UpdateCommandResult","parameters":{},"paths":{"/v3/sources/{server_id}/command_result":{"post":{"consumes":["application/json"],"deprecated":false,"description":"迁移Agent调用该接口向SMS服务端反馈指定指令的执行结果。","operationId":"UpdateCommandResult","parameters":[{"description":"X-Auth-Token \n用户Token。  \n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":16384,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-annotations":"","x-order":1},{"description":"请求参数","in":"body","name":"UpdateCommandResultRequestBody","required":true,"schema":{"$ref":"#/definitions/CommandBody"},"x-order":2},{"description":"上报命令执行结果的命令所对应的服务端ID","in":"path","maxLength":36,"minLength":1,"name":"server_id","required":true,"type":"string","x-order":3}],"produces":["application/json"],"responses":{"200":{"description":"上报服务端命令执行结果成功","examples":{"application/json":{}},"schema":{"description":"上报服务端命令执行结果成功","type":"string"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/ErrorMsg"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/ErrorMsg"}},"403":{"description":"鉴权失败","examples":{"application/json":{"details":[{"error_code":"SMS.9004","error_msg":"You do not have permission to perform action XXX on resource XXX."}],"encoded_authorization_message":"XXXXXX","error_code":"SMS.9004","error_msg":"The current account does not have the permission to execute policy. You do not have permission to perform action XXX on resource XXX.","error_param":["You do not have permission to perform action XXX on resource XXX."]}},"schema":{"$ref":"#/definitions/Forbiddenstatus"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/ErrorMsg"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/ErrorMsg"}}},"summary":"上报服务端命令执行结果","tags":["命令管理"],"x-api-type":"TenantOpenAPI","x-apiErrorCodes":[{"errorCode":"SMS.2031","errorDescription":"请求体不是json格式","errorDescriptionEn":"The request body is not in the JSON format.","errorMessage":"The request body is not in the JSON format.","httpStatus":"400","solution":"请按要求设置请求体","solutionEn":""},{"errorCode":"SMS.2032","errorDescription":"请求体json不符合规范","errorDescriptionEn":"The request body json does not meet the specifications","errorMessage":"The request body json does not meet the specifications","httpStatus":"400","solution":"请按要求设置请求体","solutionEn":"Please set request body as required"},{"errorCode":"SMS.2035","errorDescription":"请求体为空","errorDescriptionEn":"empty request body.","errorMessage":"empty request body.","httpStatus":"400","solution":"请按要求设置请求体","solutionEn":""},{"errorCode":"SMS.2323","errorDescription":"指定源端不存在","errorDescriptionEn":"SourceServer does not exist.","errorMessage":"SourceServer does not exist.","httpStatus":"404","solution":"","solutionEn":""}],"x-apiexplorer-hide":"false","x-apigateway-auth-type":"IAM","x-apigateway-match-mode":"NORMAL","x-apigateway-request-type":"public","x-constraint":"","x-is-registered":"Y","x-name":"上报服务端命令执行结果","x-open-region-cloud":"hc,hk","x-order":21,"x-publishpath":"UpdateCommandResult","x-request-examples-1":{"command_name":"START","result":"success","result_detail":{"msg":"xxx"}},"x-request-examples-description-1":"反馈指定指令的执行结果给SMS服务端。指令为START,执行结果是“success”。","x-request-examples-text-1":{"command_name":"START","result":"success","result_detail":{"msg":"xxx"}},"x-request-examples-url-1":"POST https://{endpoint}/v3/sources/f32ab4d6-d150-4fb3-aa55-edbb5cf9xxxx/command_result","x-scope":"Commercial","x-support-sdk":"Y","x-version":"v3"}}},"product_short":"SMS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"上报服务端命令执行结果","tags":"命令管理","uri":null,"version":"2.0"}