{"base_path":null,"components":{"schemas":{"ActionDto":{"description":"**参数解释:**\n提交动作设置参数。","properties":{"action":{"description":"**参数解释:**\n要执行的操作。\n**取值范围:**\n- create,创建文件。\n- create_dir,创建目录。\n- update,更新。\n- move,移动。\n- delete,删除。\n- chmod,更改权限。","enum":["create","create_dir","update","move","delete","chmod"],"type":"string"},"content":{"description":"**参数解释:**\n文件内容。\n**取值范围:**\n不涉及。","type":"string"},"encoding":{"default":"text","description":"**参数解释:**\n编码方式。\n**取值范围:**\n- text。\n- base64.","type":"string"},"execute_filemode":{"description":"**参数解释:**\n执行文件模式。\n**取值范围:**\n- true,启用文件上的执行标志。\n- false,禁用文件上的执行标志","type":"boolean"},"file_path":{"description":"**参数解释:**\n文件路径。\n**取值范围:**\n不涉及。","type":"string"},"last_commit_id":{"description":"**参数解释:**\n上次已知的文件提交ID。\n**取值范围:**\n不涉及。","type":"boolean"},"previous_path":{"description":"**参数解释:**\n上一个路径。\n**取值范围:**\n不涉及。","type":"string"}},"required":["action","file_path"],"type":"object"},"ApiError":{"description":"**参数解释:**\n错误信息。","properties":{"error_code":{"description":"**参数解释:**\n错误码。","maxLength":20,"minLength":0,"type":"string"},"error_msg":{"description":"**参数解释:**\n错误信息。","maxLength":1000,"minLength":0,"type":"string"}},"type":"object"},"CommitDetailDto":{"allOf":[{"$ref":"#/components/schemas/CommitDto"},{"properties":{"code_changes":{"description":"**参数解释:**\n代码变更内容。\n**取值范围:**\n不涉及。","items":{"$ref":"#/components/schemas/SimpleDiffDto"},"type":"array"},"last_pipeline":{"$ref":"#/components/schemas/PipelineBasicDto"},"merge_request":{"$ref":"#/components/schemas/SimpleMergeRequestDetailDto"},"project_id":{"description":"**参数解释:**\n仓库ID。\n**取值范围:**\n不涉及。","type":"integer"},"stats":{"$ref":"#/components/schemas/CommitStatsDto"},"status":{"description":"流水线状态,pending为排队,running为运行中,success为成功,failed为失败,canceled为取消,skipped为跳过,timedout为超时","enum":["pending","running","success","failed","canceled","skipped","timedout"],"type":"string"}}}],"type":"object"},"CommitDto":{"allOf":[{"$ref":"#/components/schemas/RepositoryCommitDto"},{"properties":{"author_avatar_url":{"description":"author_avatar_url","maxLength":100000,"minLength":1,"type":"string"},"committer_avatar_url":{"description":"committer_avatar_url","maxLength":100000,"minLength":1,"type":"string"},"created_at":{"description":"创建时间","maxLength":100000,"minLength":1,"type":"string"},"nick_name":{"description":"标题","maxLength":100000,"minLength":1,"type":"string"},"relate_url":{"description":"only for DevCloud","items":{"$ref":"#/components/schemas/RelatedCommitSimpleDto"},"type":"array"},"short_id":{"description":"短id","maxLength":100000,"minLength":1,"type":"string"},"tenant_name":{"description":"tenant_name","maxLength":100000,"minLength":1,"type":"string"},"title":{"description":"标题","maxLength":100000,"minLength":1,"type":"string"},"user_name":{"description":"用户名","maxLength":100000,"minLength":1,"type":"string"}}}],"description":"commit相关信息","type":"object"},"CommitParams":{"description":"**参数解释:**\n提交信息参数。","properties":{"actions":{"description":"**参数解释:**\n在提交时执行的操作。\n**取值范围:**\n不涉及。","items":{"$ref":"#/components/schemas/ActionDto"},"type":"array"},"author_email":{"description":"**参数解释:**\n作者邮箱。\n **取值范围:**\n不涉及。","type":"string"},"author_name":{"description":"**参数解释:**\n作者名称。\n **取值范围:**\n不涉及。","type":"string"},"branch":{"description":"**参数解释:**\n分支名称。\n**取值范围:**\n不涉及。","type":"string"},"commit_message":{"description":"**参数解释:**\n提交信息。\n**取值范围:**\n不涉及。","type":"string"},"force":{"default":false,"description":"**参数解释:**\n是否强制提交。\n**取值范围:**\n- true,强制提交。\n- false,非强制提交","type":"boolean"},"start_branch":{"description":"**参数解释:**\n从该分支开始新的提交。\n **取值范围:**\n不涉及。","type":"string"},"stats":{"default":true,"description":"**参数解释:**\n是否包括提交统计信息。\n**取值范围:**\n- true,包括提交统计信息。\n- false,不包括提交统计信息","type":"boolean"}},"required":["actions","branch","commit_message"],"type":"object"},"CommitStatsDto":{"properties":{"additions":{"description":"**参数解释:**\n增加行数。\n**取值范围:**\n不涉及。","type":"integer"},"deletions":{"description":"**参数解释:**\n删除行数。\n**取值范围:**\n不涉及。","type":"integer"},"total":{"description":"**参数解释:**\n变更行数。\n**取值范围:**\n不涉及。","type":"integer"}},"type":"object"},"PipelineBasicDto":{"description":"流水线基本信息","properties":{"id":{"description":"流水线ID","format":"int32","maximum":2147483647,"minimum":1,"type":"integer"},"ref":{"description":"分支","maxLength":100000,"minLength":1,"type":"string"},"sha":{"description":"commit id","maxLength":40,"minLength":40,"type":"string"},"status":{"description":"流水线状态,pending为排队,running为运行中,success为成功,failed为失败,canceled为取消,skipped为跳过,timedout为超时","enum":["pending","running","success","failed","canceled","skipped","timedout"],"type":"string"},"web_url":{"description":"流水线链接","maxLength":100000,"minLength":1,"type":"string"}},"type":"object"},"RelatedCommitSimpleDto":{"properties":{"related_id":{"description":"关联工作项ID","maxLength":100000,"minLength":1,"type":"string"},"related_url":{"description":"关联工作URL","maxLength":100000,"minLength":1,"type":"string"}},"type":"object"},"RepositoryCommitDto":{"properties":{"author_email":{"description":"创建者邮箱","maxLength":100000,"minLength":1,"type":"string"},"author_name":{"description":"创建者名称","maxLength":100000,"minLength":1,"type":"string"},"authored_date":{"description":"创建该分支的时间","maxLength":100000,"minLength":1,"type":"string"},"committed_date":{"description":"代码提交的日期和时间","maxLength":100000,"minLength":1,"type":"string"},"committer_email":{"description":"提交者邮箱","maxLength":100000,"minLength":1,"type":"string"},"committer_name":{"description":"提交者名称","maxLength":100000,"minLength":1,"type":"string"},"gpg_nick_name":{"description":"昵称","maxLength":100000,"minLength":1,"type":"string"},"gpg_primary_key_id":{"description":"GPG公钥的标识符","maxLength":100000,"minLength":1,"type":"string"},"gpg_tenant_name":{"description":"租户名","maxLength":100000,"minLength":1,"type":"string"},"gpg_user_name":{"description":"特定GPG用户相关的信息","maxLength":100000,"minLength":1,"type":"string"},"id":{"description":"id","maxLength":100000,"minLength":1,"type":"string"},"message":{"description":"消息","maxLength":100000,"minLength":1,"type":"string"},"name":{"description":"用户名","maxLength":100000,"minLength":1,"type":"string"},"open_gpg_verified":{"description":"是否打开gpg校验","type":"boolean"},"parent_ids":{"description":"父节点提交ID","items":{"maxLength":100000,"minLength":1,"type":"string"},"type":"array"},"verification_status":{"description":"验证状态","maximum":1,"minimum":0,"type":"integer"}},"type":"object"},"SimpleDiffDto":{"properties":{"added_line":{"description":"**参数解释:**\n增加行数。\n**取值范围:**\n不涉及。","format":"int32","type":"integer"},"deleted_line":{"description":"**参数解释:**\n删除行数。\n**取值范围:**\n不涉及。","format":"int32","type":"integer"},"path":{"description":"**参数解释:**\n路径。\n**取值范围:**\n不涉及。","type":"string"}},"type":"object"},"SimpleMergeRequestDetailDto":{"properties":{"author":{"$ref":"#/components/schemas/UserBasicDto"},"created_at":{"description":"**参数解释:**\n创建时间。\n**取值范围:**\n不涉及。","type":"string"},"description":{"description":"**参数解释:**\n描述。\n**取值范围:**\n不涉及。","type":"string"},"id":{"description":"**参数解释:**\n合并请求id。\n**取值范围:**\n不涉及。","type":"integer"},"iid":{"description":"**参数解释:**\n合并请求iid。\n**取值范围:**\n不涉及。","type":"integer"},"is_use_temp_branch":{"description":"**参数解释:**\n是否使用临时分支。\n**取值范围:**\n- true,使用。\n- false,不使用","type":"boolean"},"merge_request_type":{"description":"**参数解释:**\n合并请求类型。\n**取值范围:**\n不涉及。","type":"string"},"moderation_result":{"description":"**参数解释:**\n送审结果。\n**取值范围:**\n- true,成功。\n- false,失败","type":"boolean"},"moderation_status":{"description":"**参数解释:**\n送审状态码。\n**取值范围:**\n不涉及。","type":"integer"},"moderation_time":{"description":"**参数解释:**\n送审时间时间戳。\n**取值范围:**\n不涉及。","format":"int64","type":"integer"},"review_mode":{"description":"**参数解释:**\n审核模式。\n**取值范围:**\n不涉及。","type":"string"},"source_branch":{"description":"**参数解释:**\n源分支。\n**取值范围:**\n不涉及。","type":"string"},"state":{"description":"**参数解释:**\n状态。\n**取值范围:**\n不涉及。","type":"string"},"target_branch":{"description":"**参数解释:**\n目标分支。\n**取值范围:**\n不涉及。","type":"string"},"title":{"description":"**参数解释:**\n标题。\n**取值范围:**\n不涉及。","type":"string"}},"type":"object"},"UserBasicDto":{"allOf":[{"$ref":"#/components/schemas/UserSafeDto"},{"properties":{"avatar_path":{"description":"用户头像路径","type":"string"},"avatar_url":{"description":"用户头像url","type":"string"},"email":{"description":"用户邮箱","type":"string"},"error_message":{"description":"**参数解释:**\n部分查询接口校验到传参里的用户权限不足或不存在时,返回该用户但该字段不为空用于提示。","type":"string"},"name_cn":{"description":"用户中文名称","type":"string"},"nick_name":{"description":"用户昵称","type":"string"},"service_license_status":{"description":"服务级权限状态 0:停用 1:启用","type":"integer"},"state":{"description":"**参数解释:**\n用户状态。\n**取值范围:**\n- active: 可用账户。\n- blocked: 被锁定用户。\n- error: 未查询到该用户。","enum":["active","blocked","error"],"type":"string"},"tenant_name":{"description":"租户名称","type":"string"},"web_url":{"description":"用户个人首页","type":"string"}}}],"description":"用户信息","type":"object"},"UserSafeDto":{"description":"**参数解释:**\n用户基础信息。","properties":{"id":{"description":"**参数解释:**\n用户id。","format":"int32","maximum":2147483647,"minimum":1,"type":"integer"},"name":{"description":"**参数解释:**\n用户名称。","maxLength":255,"minLength":1,"type":"string"},"username":{"description":"**参数解释:**\n用户名。","maxLength":255,"minLength":1,"type":"string"}},"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"925c097b283b4428b3be97ce59d6d8f3","host":"codehub-ext.cn-north-4.myhuaweicloud.com","id":"5b98dbead01a4c45abf3c5e01ac89363","info_version":"v4","method":"post","name":"CreateCommit","parameters":null,"paths":{"/v4/repositories/{repository_id}/repository/commits":{"post":{"description":"创建提交信息","operationId":"CreateCommit","parameters":[{"description":"**参数解释:**\n用户Token。 通过调用IAM服务[获取用户Token](https://support.huaweicloud.com/api-iam/iam_30_0001.html)接口获取(响应消息头中X-Subject-Token的值)。\n **约束限制:**\n必传。\n **取值范围:**\n字符串长度不少于1,不超过10万。\n**默认取值:**\n不涉及。","explode":false,"in":"header","name":"X-Auth-Token","required":true,"schema":{"maxLength":100000,"minLength":1,"type":"string"},"style":"simple"},{"description":"**参数解释:**\n仓库的ID,通过[查询用户所有仓库](https://support.huaweicloud.com/api-codeartsrepo/ListUserAllRepositories.html)接口查询项目列表获取。\n**约束限制:**\n不涉及。","explode":false,"in":"path","name":"repository_id","required":true,"schema":{"maximum":2147483647,"minimum":1,"type":"integer"},"style":"simple"}],"requestBody":{"content":{"application/json":{"example":{"branch":"master","message":"","with_new_merge_request":true},"schema":{"$ref":"#/components/schemas/CommitParams"}}},"description":"创建提交请求体","required":true},"responses":{"201":{"content":{"application/json":{"example":{"author_avatar_url":"https://example.com/w3lab/rest/yellowpage/face/30042607/120","author_email":"example@example.com","author_name":"example","authored_date":"2025-01-22T02:56:21.000Z","code_changes":null,"committed_date":"2025-01-22T02:56:21.000Z","committer_avatar_url":"https://example.com/w3lab/rest/yellowpage/face/30042607/120","committer_email":"example@example.com","committer_name":"example","created_at":"2025-01-22T02:56:21.000Z","gpg_nick_name":null,"gpg_primary_key_id":null,"gpg_tenant_name":null,"gpg_user_name":null,"id":"d9586a73454ecceb12a53800c293174d601bd4e1","last_pipeline":null,"merge_request":null,"message":"1234test","name":null,"nick_name":"test","open_gpg_verified":null,"parent_ids":["ce25367f2d97093130bc7822ef48d1bb5bd18d86"],"project_id":2112029050,"relate_url":null,"short_id":"131ef0cb","stats":{"additions":0,"deletions":0,"total":0},"status":null,"tenant_name":"test","title":"1234test","user_name":"test","verification_status":0},"schema":{"$ref":"#/components/schemas/CommitDetailDto"}}},"description":"OK"},"401":{"content":{"application/json":{"example":{"error_code":"DEV.00000003","error_msg":"认证信息过期"},"schema":{"$ref":"#/components/schemas/ApiError"}}},"description":"Unauthorized"}},"summary":"创建提交信息","tags":["Commit"],"x-api-framework":"RestfulAPI","x-api-highrisk":"N","x-api-position":"Region_ZONE","x-api-type":"open-api","x-api-user":"IAM_User","x-is-registered":"Y","x-open-region-cloud":"hws,hws_hk","x-sec-auditlog":"Y","x-sec-authority-parameter-body":"null","x-sec-authority-parameter-url":"null","x-sec-privacy-parameter":"null","x-sec-sensitiveinfo":"null","x-sec-upload-download":0,"x-sec-userinput-untrust":"null","x-support-sdk":"Y"}}},"product_short":"CodeArtsRepo","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建提交信息","tags":"Commit","uri":null,"version":"3.0.1"}