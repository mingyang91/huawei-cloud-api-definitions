{"base_path":null,"components":{"schemas":{"AddTrustedIpAddressRequestBody":{"description":"**参数解释:**\n添加ip白名单请求体。","properties":{"download_flag":{"default":0,"description":"**参数解释:**\n是否允许下载代码。\n- 0,表示禁止下载。\n- 1,表示允许下载。","enum":[0,1],"type":"integer"},"ip_end":{"description":"**参数解释:**\n结束ip。","maxLength":1000,"minLength":0,"type":"string"},"ip_start":{"description":"**参数解释:**\n起始ip。","maxLength":1000,"minLength":0,"type":"string"},"ip_type":{"default":0,"description":"**参数解释:**\n格式类型。\n- 0,表示指定ip。\n- 1,表示ip范围。\n- 2,表示CIDR。","enum":[0,1,2],"type":"integer"},"remark":{"description":"**参数解释:**\n备注。\n**取值范围:**\n字符串长度不少于0,不超过200。","maxLength":200,"minLength":0,"type":"string"},"upload_flag":{"default":0,"description":"**参数解释:**\n是否允许提交代码。\n- 0,表示禁止提交。\n- 1,表示允许提交。","enum":[0,1],"type":"integer"},"view_flag":{"default":0,"description":"**参数解释:**\n是否允许访问代码仓库。\n- 0,表示禁止访问。\n- 1,表示允许访问。","enum":[0,1],"type":"integer"}},"type":"object"},"ApiError":{"description":"**参数解释:**\n错误信息。","properties":{"error_code":{"description":"**参数解释:**\n错误码。","maxLength":20,"minLength":0,"type":"string"},"error_msg":{"description":"**参数解释:**\n错误信息。","maxLength":1000,"minLength":0,"type":"string"}},"type":"object"},"TrustedIpAddressDto":{"description":"**参数解释:**\nip白名单信息。","properties":{"created_at":{"description":"**参数解释:**\n创建时间。\n**参数解释:**\nMMM dd, yyyy hh:mm:ss a","format":"MMM dd, yyyy hh:mm:ss a","maxLength":200,"minLength":0,"type":"string"},"download_flag":{"default":0,"description":"**参数解释:**\n是否允许下载代码。\n- 0,表示禁止下载。\n- 1,表示允许下载。","enum":[0,1],"type":"integer"},"id":{"description":"**参数解释:**\n白名单id。","maxLength":100,"minLength":0,"type":"string"},"ip_end":{"description":"**参数解释:**\n结束ip。","maxLength":1000,"maximum":1000,"minLength":0,"minimum":1,"type":"string"},"ip_range":{"description":"**参数解释:**\nip范围。","maxLength":2147483647,"minLength":1,"type":"string"},"ip_start":{"description":"**参数解释:**\n起始ip。","maxLength":1000,"minLength":0,"type":"string"},"ip_type":{"default":0,"description":"**参数解释:**\n格式类型。\n- 0,表示指定ip。\n- 1,表示ip范围。\n- 2,表示CIDR。","enum":[0,1,2],"type":"integer"},"order_flag":{"description":"**参数解释:**\n排序。\n- 0,表示默认规则。\n- 1,表示自定义规则。","enum":[0,1],"type":"integer"},"remark":{"description":"**参数解释:**\n备注。\n**取值范围:**\n字符串长度不少于0,不超过200。","maxLength":200,"minLength":0,"type":"string"},"repository_id":{"description":"**参数解释:**\n仓库id。","maxLength":2147483647,"maximum":2147483647,"minLength":1,"minimum":1,"type":"integer"},"updated_at":{"description":"**参数解释:**\n更新时间。\n**参数解释:**\nMMM dd, yyyy hh:mm:ss a","format":"MMM dd, yyyy hh:mm:ss a","maxLength":200,"minLength":0,"type":"string"},"upload_flag":{"default":0,"description":"**参数解释:**\n是否允许提交代码。\n- 0,表示禁止提交。\n- 1,表示允许提交。","enum":[0,1],"type":"integer"},"view_flag":{"default":0,"description":"**参数解释:**\n是否允许访问代码仓库。\n- 0,表示禁止访问。\n- 1,表示允许访问。","enum":[0,1],"type":"integer"}},"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"925c097b283b4428b3be97ce59d6d8f3","host":"codehub-ext.cn-north-4.myhuaweicloud.com","id":"43ea0f469cc24096ba36b1fa13360e3c","info_version":"v4","method":"post","name":"AddTrustedIpAddress","parameters":null,"paths":{"/v4/projects/{id}/trusted-ip-addresses":{"post":{"description":"添加仓库ip白名单","operationId":"AddTrustedIpAddress","parameters":[{"description":"**参数解释:**\n用户Token。 通过调用IAM服务[获取用户Token](https://support.huaweicloud.com/api-iam/iam_30_0001.html)接口获取(响应消息头中X-Subject-Token的值)。\n **约束限制:**\n必传。\n **取值范围:**\n字符串长度不少于1,不超过10万。\n**默认取值:**\n不涉及。","explode":false,"in":"header","name":"X-Auth-Token","required":true,"schema":{"maxLength":100000,"minLength":1,"type":"string"},"style":"simple"},{"description":"**参数解释:**\n仓库id,代码仓首页,Repository ID后的数字Id。","explode":false,"in":"path","name":"id","required":true,"schema":{"maximum":2147483647,"minimum":1,"type":"integer"},"style":"simple"}],"requestBody":{"content":{"application/json":{"example":{"download_flag":1,"ip_end":"2.2.1.1","ip_start":"2.2.1.1","ip_type":0,"remark":"","upload_flag":1,"view_flag":1},"schema":{"$ref":"#/components/schemas/AddTrustedIpAddressRequestBody"}}},"description":"添加ip白名单参数","required":false},"responses":{"200":{"content":{"application/json":{"example":{"download_flag":1,"id":19326,"ip_end":"1:1:1:1:1:1:1:1","ip_range":"1:1:1:1:1:1:1:1","ip_start":"1:1:1:1:1:1:1:1","ip_type":0,"order_flag":1,"remark":"","repository_id":2111897848,"upload_flag":1,"view_flag":1},"schema":{"$ref":"#/components/schemas/TrustedIpAddressDto"}}},"description":"OK"},"401":{"content":{"application/json":{"example":{"error_code":"DEV.00000003","error_msg":"认证信息过期"},"schema":{"$ref":"#/components/schemas/ApiError"}}},"description":"Unauthorized"}},"summary":"添加仓库ip白名单","tags":["Repository"],"x-api-framework":"RestfulAPI","x-api-highrisk":"N","x-api-position":"Region_ZONE","x-api-type":"open-api","x-api-user":"IAM_User","x-is-registered":"Y","x-open-region-cloud":"hws,hws_hk,hws_eu,hcs,hcs_sm","x-order":5,"x-request-examples-1":{"download_flag":1,"ip_end":"2.2.1.1","ip_start":"2.2.1.1","ip_type":0,"remark":"","upload_flag":1,"view_flag":1},"x-request-examples-url-1":"POST https://{endpoint}/v4/repositories/0000095191854de69b3ab0b6aa481684/trusted-ip-addresses","x-sec-auditlog":"Y","x-sec-authority-parameter-body":"null","x-sec-authority-parameter-url":"null","x-sec-privacy-parameter":"null","x-sec-sensitiveinfo":"null","x-sec-upload-download":0,"x-sec-userinput-untrust":"null","x-support-sdk":"Y"}}},"product_short":"CodeArtsRepo","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"添加仓库ip白名单","tags":"Repository","uri":null,"version":"3.0.1"}