{"base_path":null,"components":{"parameters":{"AuthToken":{"description":"租户token","in":"header","name":"X-Auth-Token","required":false,"schema":{"maxLength":65534,"minLength":0,"type":"string"}},"PathModelId":{"description":"Service ID","in":"path","name":"model_id","required":true,"schema":{"example":"0b5633ba2b904511ad514346f4d23d4b","pattern":"^[0-9a-zA-Z-]{1,36}$","type":"string"}},"PathWorkspaceId":{"allowEmptyValue":false,"deprecated":false,"description":"工作空间ID","in":"path","name":"workspace_id","required":true,"schema":{"description":"工作空间ID。","example":"e935d0ef-f4eb-4b95-aff1-9d33ae9f57a6","maxLength":36,"minLength":1,"pattern":"[a-zA-Z0-9-]{1,36}","type":"string"}}},"responses":{"BadRequestResponse":{"content":{"application/json":{"example":{"error_code":"common.01000001","error_msg":"failed to read http request, please check your input, code: 400, reason: Type mismatch., cause: TypeMismatchException"},"schema":{"$ref":"#/components/schemas/ErrorMessage"}}},"description":"Bad request error"},"ForbiddenResponse":{"content":{"application/json":{"example":{"error":{"code":"403","message":"X-Auth-Token is invalid in the request","title":"Forbidden"},"error_code":403,"error_msg":"X-Auth-Token is invalid in the request","title":"Forbidden"}}},"description":"Forbidden error"},"InternalErrorResponse":{"content":{"application/json":{"example":{"error_code":"common.00000500","error_msg":"internal error"},"schema":{"$ref":"#/components/schemas/ErrorMessage"}}},"description":"Internal error"},"NotFoundResponse":{"content":{"application/json":{"example":{"error_code":"common.01000001","error_msg":"response status exception, code: 404"},"schema":{"$ref":"#/components/schemas/ErrorMessage"}}},"description":"Not found error"},"RequestTimeoutResponse":{"content":{"application/json":{"example":{"error_code":"common.00000408","error_msg":"timeout exception occurred"},"schema":{"$ref":"#/components/schemas/ErrorMessage"}}},"description":"Request timeout error"},"UnauthorizedResponse":{"content":{"application/json":{"example":{"error_code":"APIG.1002","error_msg":"Incorrect token or token resolution failed"},"schema":{"$ref":"#/components/schemas/ErrorMessage"}}},"description":"Unauthorized error"},"UpdateModelResponse":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModelInfo"}}},"description":"OK"}},"schemas":{"BaseModelType":{"description":"类型请从ListBaseModels列举基模型接口响应中获取","properties":{},"type":"string"},"CreateTime":{"description":"创建时间","example":"2023-05-30T12:24:30.401Z","format":"date-time","type":"string"},"Description":{"description":"描述信息","example":"description","maxLength":1024,"minLength":0,"pattern":"^[^!<>=&\"']*$","properties":{},"type":"string"},"ErrorMessage":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":8,"type":"string"},"error_msg":{"description":"错误描述","maxLength":512,"minLength":2,"type":"string"},"solution_msg":{"description":"解决方案描述","maxLength":4096,"minLength":0,"type":"string"}},"required":["error_code","error_msg"],"type":"object"},"LlmModelConfig":{"properties":{"base_model_type":{"$ref":"#/components/schemas/BaseModelType"},"model_path":{"description":"模型文件路径","example":"obs://bucketname/objectdir/modelpath/","maxLength":1024,"minLength":8,"type":"string"}},"required":["base_model_type","model_path"],"type":"object"},"ModelConfig":{"description":"模型配置","properties":{"llm_model_config":{"$ref":"#/components/schemas/LlmModelConfig"}},"type":"object"},"ModelId":{"description":"模型ID,32~36位的英文、数字、短横组合","example":"0b5633ba2b904511ad514346f4d23d4b","pattern":"^[0-9a-zA-Z-]{32,36}$","type":"string"},"ModelInfo":{"allOf":[{"$ref":"#/components/schemas/VisibilityBody"},{"properties":{"create_time":{"$ref":"#/components/schemas/CreateTime"},"create_user":{"$ref":"#/components/schemas/User"},"current_version":{"$ref":"#/components/schemas/ModelVersionInfo"},"description":{"$ref":"#/components/schemas/Description"},"id":{"$ref":"#/components/schemas/ModelId"},"name":{"$ref":"#/components/schemas/ModelName"},"type":{"$ref":"#/components/schemas/ModelType"},"update_time":{"$ref":"#/components/schemas/UpdateTime"},"update_user":{"$ref":"#/components/schemas/User"}},"type":"object"}],"description":"模型详情信息"},"ModelName":{"description":"一个Model的名称,只能包含中文、字母、数字、下划线、中划线、点、空格","example":"LLama3-8b","maxLength":64,"minLength":1,"pattern":"^[a-zA-Z0-9.\\u4e00-\\u9fa5_\\-\\ ]*$","type":"string"},"ModelType":{"description":"模型的类型,可选值:\n- LLM_MODEL:大语言模型","enum":["LLM_MODEL"],"example":"LLM_MODEL","properties":{},"type":"string"},"ModelVersionId":{"description":"模型版本ID,32~36位的英文、数字、短横组合,系统自动生成无法修改,输入不生效。","example":"0b5633ba2b904511ad514346f4d23d4b","pattern":"^[0-9a-zA-Z-]{32,36}$","properties":{},"type":"string"},"ModelVersionInfo":{"description":"Model Version详情信息","properties":{"cap_white_list":{"description":"cap白名单","items":{"example":"cap1 cap2 ca* cap*","maxLength":1024,"minLength":0,"type":"string"},"maxItems":100,"minItems":0,"type":"array"},"config":{"$ref":"#/components/schemas/ModelConfig"},"create_time":{"$ref":"#/components/schemas/CreateTime"},"create_user":{"$ref":"#/components/schemas/User"},"description":{"$ref":"#/components/schemas/Description"},"id":{"$ref":"#/components/schemas/ModelVersionId"},"name":{"$ref":"#/components/schemas/ModelVersionName"}},"required":["name","config"],"type":"object"},"ModelVersionInput":{"description":"每个版本的详细信息","properties":{"config":{"$ref":"#/components/schemas/ModelConfig"},"description":{"$ref":"#/components/schemas/ResourceDescription"},"name":{"$ref":"#/components/schemas/ModelVersionName"}},"required":["name"],"type":"object"},"ModelVersionName":{"description":"模型版本名称, 只能包含中文、字母、数字、下划线、中划线、点、空格","example":"name","maxLength":64,"minLength":1,"pattern":"^[a-zA-Z0-9.\\u4e00-\\u9fa5_\\-\\ ]*$","properties":{},"type":"string"},"ResourceDescription":{"description":"描述信息","example":"description","maxLength":1000,"pattern":"^[^!<>=&\"']*$","type":"string"},"UpdateModelInput":{"description":"更新模型的输入请求","properties":{"current_version_id":{"$ref":"#/components/schemas/ModelVersionId"},"description":{"$ref":"#/components/schemas/Description"},"name":{"$ref":"#/components/schemas/ModelName"},"version":{"$ref":"#/components/schemas/ModelVersionInput"}},"type":"object"},"UpdateTime":{"description":"更新时间","example":"2023-05-30T12:24:30.401Z","format":"date-time","type":"string"},"User":{"description":"租户信息","properties":{"domain_id":{"description":"账号ID","example":"0b5633ba2b904511ad514346f4d23d4b","pattern":"^[0-9a-zA-Z-]{1,36}$","type":"string"},"domain_name":{"description":"账户名称","maxLength":64,"minLength":0,"type":"string"},"user_id":{"description":"用户ID","example":"0b5633ba2b904511ad514346f4d23d4b","pattern":"^[0-9a-zA-Z-]{1,36}$","type":"string"},"user_name":{"description":"用户名称","maxLength":64,"minLength":0,"type":"string"}},"type":"object"},"VisibilityBody":{"description":"可见性:\n - PRIVATE:私有\n - PUBLIC:公共\n 默认为PRIVATE","properties":{"visibility":{"default":"PRIVATE","description":"可见性:\n - PRIVATE:私有\n - PUBLIC:公共\n 默认为PRIVATE","maxLength":10,"minLength":2,"pattern":"PUBLIC|PRIVATE","type":"string"}},"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"f38f5f71f3f949409a5d2e01306df7ba","host":"fabric.cn-north-4.myhuaweicloud.com","id":"0aa771b2ca394445ab5ac459fd7a4a1c","info_version":"v1","method":"put","name":"UpdateModelDefinition","parameters":null,"paths":{"/v1/workspaces/{workspace_id}/models/{model_id}":{"put":{"description":"更新模型,会生成新版本","operationId":"UpdateModelDefinition","parameters":[{"$ref":"#/components/parameters/AuthToken"},{"$ref":"#/components/parameters/PathWorkspaceId"},{"$ref":"#/components/parameters/PathModelId"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateModelInput"}}},"required":false},"responses":{"200":{"$ref":"#/components/responses/UpdateModelResponse"},"400":{"$ref":"#/components/responses/BadRequestResponse"},"401":{"$ref":"#/components/responses/UnauthorizedResponse"},"403":{"$ref":"#/components/responses/ForbiddenResponse"},"404":{"$ref":"#/components/responses/NotFoundResponse"},"408":{"$ref":"#/components/responses/RequestTimeoutResponse"},"500":{"$ref":"#/components/responses/InternalErrorResponse"}},"summary":"更新模型","tags":["ModelDefinition"],"x-apiexplorer-hide":"N","x-apigw-publish":"Y","x-codegen-request-body-name":"UpdateModelDefinitionRequestBody","x-cts-meta-anno":{"isAsyncApi":"false","resourceType":"model","traceName":"updateModel"},"x-enable-auth-anno":{"type":"iam-token"},"x-iam-auth-meta-anno":{"abacAction":"DataArtsFabric:model:alter","authContextInitializerName":"modelIamAuthContextInitializer","authLevel":"INSTANCE_LIST","model":"v5-pkitoken","needAbacCheck":true,"needAbacResourceCheck":true,"needApigwJwtAuthCheck":true,"needCbcCheck":true,"needResourceTagCheck":false,"opType":"guessByHttpMethod","rbac":"te_admin","supportAllGrantedEps":false},"x-is-registered":"Y","x-openapi-hide":"N","x-order":3,"x-support-sdk":"Y"}}},"product_short":"DataArtsFabric","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"更新模型","tags":"ModelDefinition","uri":null,"version":"3.0.3"}