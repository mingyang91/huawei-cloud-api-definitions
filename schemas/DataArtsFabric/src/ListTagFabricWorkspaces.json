{"base_path":null,"components":{"parameters":{"AuthToken":{"description":"租户token","in":"header","name":"X-Auth-Token","required":false,"schema":{"maxLength":65534,"minLength":0,"type":"string"}},"ProjectId":{"description":"项目ID","in":"path","name":"project_id","required":true,"schema":{"example":"0b5633ba2b904511ad514346f4d23d4b","pattern":"^[0-9a-zA-Z-]{1,36}$","type":"string"}},"QueryLimit":{"description":"指定每一页返回的最大条目数,取值范围[1,100],默认为10。","in":"query","name":"limit","schema":{"default":10,"format":"int32","maximum":100,"minimum":1,"type":"integer"}},"QueryOffset":{"description":"偏移量,表示从此偏移量开始查询, offset大于等于0,默认为0。","in":"query","name":"offset","schema":{"default":0,"format":"int32","maximum":1000000000,"minimum":0,"type":"integer"}}},"responses":{"BadRequestResponse":{"content":{"application/json":{"example":{"error_code":"common.01000001","error_msg":"failed to read http request, please check your input, code: 400, reason: Type mismatch., cause: TypeMismatchException"},"schema":{"$ref":"#/components/schemas/ErrorMessage"}}},"description":"Bad request error"},"ForbiddenResponse":{"content":{"application/json":{"example":{"error":{"code":"403","message":"X-Auth-Token is invalid in the request","title":"Forbidden"},"error_code":403,"error_msg":"X-Auth-Token is invalid in the request","title":"Forbidden"}}},"description":"Forbidden error"},"InternalErrorResponse":{"content":{"application/json":{"example":{"error_code":"common.00000500","error_msg":"internal error"},"schema":{"$ref":"#/components/schemas/ErrorMessage"}}},"description":"Internal error"},"RequestTimeoutResponse":{"content":{"application/json":{"example":{"error_code":"common.00000408","error_msg":"timeout exception occurred"},"schema":{"$ref":"#/components/schemas/ErrorMessage"}}},"description":"Request timeout error"},"UnauthorizedResponse":{"content":{"application/json":{"example":{"error_code":"APIG.1002","error_msg":"Incorrect token or token resolution failed"},"schema":{"$ref":"#/components/schemas/ErrorMessage"}}},"description":"Unauthorized error"}},"schemas":{"ErrorMessage":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":8,"type":"string"},"error_msg":{"description":"错误描述","maxLength":512,"minLength":2,"type":"string"},"solution_msg":{"description":"解决方案描述","maxLength":4096,"minLength":0,"type":"string"}},"required":["error_code","error_msg"],"type":"object"},"ListTagWorkspacesRequestBody":{"description":"标签管理界面查询资源实例列表的请求体。","properties":{"matches":{"description":"搜索字段,key为要匹配的字段,如resource_name等。value为匹配的值。","items":{"$ref":"#/components/schemas/TagMatch"},"maxItems":10,"minItems":1,"type":"array"},"sys_tags":{"description":"系统标签列表,目前只包含一个tag结构体。key下面只包含一个value。","example":"","items":{"$ref":"#/components/schemas/SystemTagParam"},"maxItems":1,"minItems":1,"type":"array"},"tags":{"description":"包含标签,最多包含50个key,每个key下面的value最多10个,每个key对应的value可以为空数组但结构体不能缺失。","items":{"$ref":"#/components/schemas/ResourceTagParam"},"maxItems":20,"minItems":1,"type":"array"},"without_any_tag":{"default":false,"description":"不包含任意一个标签,该字段为true时查询所有不带标签的资源,此时忽略 “tags”、“tags_any”、“not_tags”、“not_tags_any”字段","example":false,"type":"boolean"}},"type":"object"},"ResourceTag":{"description":"资源标签。","properties":{"key":{"description":"键","example":"key1","pattern":"^[\\p{L}\\p{Z}\\p{N}_.:=+\\-@]{1,128}$","type":"string"},"value":{"description":"值","example":"value1","pattern":"^[\\p{L}\\p{Z}\\p{N}_.:\\/=+\\-@]{0,255}$","type":"string"}},"required":["key"],"type":"object"},"ResourceTagParam":{"description":"标签查询参数。","properties":{"key":{"description":"资源标签的键。","example":"tag_key","maxLength":128,"minLength":0,"type":"string"},"values":{"description":"资源标签的值列表。","example":["tag_value"],"items":{"maxLength":255,"minLength":0,"type":"string"},"maxItems":1000000,"minItems":0,"type":"array"}},"required":["key"],"type":"object"},"SystemTag":{"description":"系统标签。","properties":{"key":{"description":"键,固定值。","example":"_sys_enterprise_project_id","pattern":"^_sys_enterprise_project_id$","type":"string"},"value":{"description":"企业项目ID。","example":"01049549-82cd-4b2b-9733-ddb94350c125","maxLength":64,"minLength":1,"pattern":"^[a-zA-Z0-9-]{1,64}$","type":"string"}},"required":["key","value"],"type":"object"},"SystemTagParam":{"description":"系统标签查询参数。","properties":{"key":{"description":"键,固定值。","example":"_sys_enterprise_project_id","pattern":"^_sys_enterprise_project_id$","type":"string"},"values":{"description":"系统标签的值列表。","example":["tag_value"],"items":{"example":"01049549-82cd-4b2b-9733-ddb94350c125","maxLength":255,"minLength":0,"type":"string"},"maxItems":1,"minItems":1,"type":"array"}},"required":["key","values"],"type":"object"},"TagFabricWorkspace":{"description":"FabricWorkspace列表响应体。","properties":{"resource_detail":{"description":"资源详情。 资源对象,用于扩展。默认为空。","type":"object"},"resource_id":{"description":"workspace的ID","example":"01049549-82cd-4b2b-9733-ddb94350c125","pattern":"^[a-zA-Z0-9-]{36}$","type":"string"},"resource_name":{"description":"workspace名称","example":"resource_name","maxLength":65534,"minLength":0,"type":"string"},"sys_tags":{"items":{"$ref":"#/components/schemas/SystemTag"},"maxItems":1,"minItems":0,"type":"array"},"tags":{"description":"标签列表,没有标签默认为空数组。","items":{"$ref":"#/components/schemas/ResourceTag"},"maxItems":100000,"minItems":0,"type":"array"}},"type":"object"},"TagFabricWorkspaces":{"description":"查询资源实例列表","properties":{"resources":{"description":"资源列表。","items":{"$ref":"#/components/schemas/TagFabricWorkspace"},"maxItems":1000,"minItems":0,"type":"array"},"total_count":{"description":"资源总数","format":"int32","maximum":1000,"minimum":0,"type":"integer"}},"type":"object"},"TagMatch":{"description":"搜索字段,key为要匹配的字段,如resource_name等。value为匹配的值。","properties":{"key":{"description":"键。第一期限定为resource_name,后续扩展。","example":"resource_name","pattern":"^resource_name$","type":"string"},"value":{"description":"资源标签的值。","example":"tag_value","maxLength":255,"minLength":0,"type":"string"}},"required":["key"],"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"f38f5f71f3f949409a5d2e01306df7ba","host":"fabric.cn-north-4.myhuaweicloud.com","id":"479582762a28419daf164fa00dbabf9a","info_version":"v1","method":"post","name":"ListTagFabricWorkspaces","parameters":null,"paths":{"/v1/{project_id}/fabric-workspace/resource-instances/filter":{"post":{"description":"查询资源实例列表","operationId":"ListTagFabricWorkspaces","parameters":[{"$ref":"#/components/parameters/ProjectId"},{"$ref":"#/components/parameters/AuthToken"},{"$ref":"#/components/parameters/QueryOffset"},{"$ref":"#/components/parameters/QueryLimit"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListTagWorkspacesRequestBody"}}},"description":"查询资源实例列表的请求体。","required":false},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TagFabricWorkspaces"}}},"description":"查询资源实例列表的响应","headers":{"X-request-id":{"description":"请求ID","schema":{"type":"string"}}}},"400":{"$ref":"#/components/responses/BadRequestResponse"},"401":{"$ref":"#/components/responses/UnauthorizedResponse"},"403":{"$ref":"#/components/responses/ForbiddenResponse"},"408":{"$ref":"#/components/responses/RequestTimeoutResponse"},"500":{"$ref":"#/components/responses/InternalErrorResponse"}},"summary":"查询资源实例列表","tags":["TMS"],"x-apiexplorer-hide":"N","x-apigw-publish":"Y","x-iam-auth-meta-anno":{"abacAction":"DataArtsFabric::listResourcesByTag","abacActionAlias":["DataArtsFabric:workspace:listResourcesByTag"],"authContextInitializerName":"defaultIamAuthContextInitializer","authLevel":"PROJECT","model":"v5-pkitoken","needAbacCheck":true,"needAbacResourceCheck":false,"needApigwJwtAuthCheck":true,"needCbcCheck":true,"needResourceTagCheck":false,"opType":"guessByHttpMethod","rbac":"te_admin","supportAllGrantedEps":false},"x-is-registered":"Y","x-openapi-hide":"N","x-support-sdk":"Y"}}},"product_short":"DataArtsFabric","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询资源实例列表","tags":"TMS","uri":null,"version":"3.0.3"}