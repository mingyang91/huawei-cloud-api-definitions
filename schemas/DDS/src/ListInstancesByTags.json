{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"ErrorResponse":{"properties":{"error_code":{"description":"错误码。","example":"DBS.200001","type":"string"},"error_msg":{"description":"错误消息。","example":"参数错误。","type":"string"}},"required":["error_code","error_msg"]},"GetResouceInstanceResponseBody":{"properties":{"instances":{"description":"实例列表。","items":{"$ref":"#/definitions/InstanceItem"},"type":"array"},"total_count":{"description":"总记录数。","type":"integer"}},"required":["instances","total_count"]},"InstanceItem":{"properties":{"instance_id":{"description":"实例ID。","type":"string"},"instance_name":{"description":"实例名称","type":"string"},"tags":{"description":"标签列表。如果没有标签,默认为空数组。","items":{"$ref":"#/definitions/InstanceItemTagItem"},"type":"array"}},"required":["instance_id","instance_name","tags"]},"InstanceItemTagItem":{"description":"标签列表。","properties":{"key":{"description":"标签键。最大长度36个unicode字符,key不能为空。\n字符集:0-9,A-Z,a-z,“_”,“-”,中文。","type":"string"},"value":{"description":"标签值。最大长度43个unicode字符,可以为空字符串。\n字符集:0-9,A-Z,a-z,“_”,“.”,“-”,中文。","type":"string"}}},"ListInstancesByTagsRequestBody":{"properties":{"action":{"description":"操作标识。\n  - 取值为“filter”,表示根据标签过滤条件查询实例。\n  - 取值为“count”,表示仅返回总记录数,禁止返回其他字段。","enum":["filter","count"],"type":"string"},"limit":{"description":"查询记录数。\n  - “action”值为“count”时,不传该参数。\n  - “action”值为“filter”时,取值范围:1~100。不传该参数时,默认查询前100条实例信息。","minimum":0,"type":"string"},"matches":{"description":"搜索字段。\n  - 该字段值为空,表示不按照实例名称或实例ID查询。\n  - 该字段值不为空","items":{"$ref":"#/definitions/QueryMatchItem"},"type":"array"},"offset":{"description":"索引位置偏移量,表示从第一条数据偏移offset条数据后开始查询。 - “action”值为“count”时,不传该参数。 - “action”值为“filter”时,取值必须为数字,不能为负数。默认取0值,表示从第一条数据开始查询。'","type":"string"},"tags":{"description":"包含标签,最多包含10个key。","items":{"$ref":"#/definitions/QueryTagItem"},"type":"array"}},"required":["action"]},"QueryMatchItem":{"properties":{"key":{"description":"取值为“instance_name”或“instance_id”,分别表示按实例名称或按实例ID匹配查询。","enum":["instance_name","instance_id"],"type":"string"},"value":{"description":"待匹配的实例名称或实例ID,可以调用“查询实例列表和详情”接口获取。如果未申请实例,可以调用“创建实例”接口创建。","type":"string"}},"required":["key","value"]},"QueryTagItem":{"properties":{"key":{"description":"标签键。最大长度36个unicode字符,key不能为空或者空字符串,不能为空格,校验和使用之前先排除前后半角空格。","type":"string"},"values":{"description":"标签值列表。最大长度43个unicode字符,不能为空格,校验和使用之前先排除前后半角空格。如果values为空列表,则表示查询任意value。value之间为或的关系。","items":{"type":"string"},"type":"array"}},"required":["key","values"]}},"description":null,"group_id":"a2654930c2d440c78366c9c164a23e86","host":"dds.cn-north-4.myhuaweicloud.com","id":"69a7221d92594f6c8e1cd1a68588af2b","info_version":"v3","method":"post","name":"ListInstancesByTags","parameters":{},"paths":{"/v3/{project_id}/instances/action":{"post":{"description":"根据标签查询指定的数据库实例。","operationId":"ListInstancesByTags","parameters":[{"description":"用户Token。","in":"header","name":"x-auth-token","required":true,"type":"string","x-example":"******"},{"description":"租户在某一region下的project ID。","in":"path","name":"project_id","required":true,"type":"string","x-example":"619d3e78f61b4be68bc5aa0b59edcf7b"},{"description":"请求体。","in":"body","name":"ListInstancesByTagsRequestBody","required":true,"schema":{"$ref":"#/definitions/ListInstancesByTagsRequestBody"}}],"responses":{"200":{"description":"Success.","examples":{"application/json":{"instances":{"instance_id":"2acbf2223caf3bac3c33c6153423c3ccin02","instance_name":"test-single","tags":[{"key":"key1","value":"value1"},{"key":"key2","value":"value1"}]}}},"schema":{"$ref":"#/definitions/GetResouceInstanceResponseBody"}},"default":{"description":"Client or server error.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"查询资源实例","tags":["标签管理"],"x-constraint":"- 一个文档数据库实例具有10个标签配额,且标签key唯一。","x-is-registered":"N","x-request-examples-1":{"action":"filter","limit":100,"matches":{"key":"instance_name","value":"test-single"},"offset":100,"tags":{"key":"key1","values":["value1","value2"]}},"x-request-examples-2":{"action":"count","matches":[{"key":"instance_name","value":"test-single"},{"key":"instance_id","value":"958693039f284d6ebfb177375711072ein02"}],"tags":[{"key":"key1","values":["value1","value2"]},{"key":"key2","values":["value1","value2"]}]},"x-request-examples-description-1":"根据标签查询指定实例:","x-request-examples-description-2":"查询总记录数:","x-request-examples-url-1":"POST https://{endpoint}/v3/054e292c9880d4992f02c0196d3ea468/instances/action","x-request-examples-url-2":"POST https://{endpoint}/v3/054e292c9880d4992f02c0196d3ea468/instances/action","x-support-sdk":"Y"}}},"product_short":"DDS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询资源实例","tags":"标签管理","uri":null,"version":"2.0"}