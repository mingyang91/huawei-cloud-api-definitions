{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"ErrorResponse":{"properties":{"error_code":{"description":"错误码。","example":"DBS.200001","type":"string"},"error_msg":{"description":"错误消息。","example":"参数错误。","type":"string"}},"required":["error_code","error_msg"]},"QueryConnectionsResponse":{"properties":{"client_ip":{"description":"连接到该实例或节点的客户端IP地址。","type":"string"},"count":{"description":"该IP对应的连接数。","type":"integer"}},"required":["client_ip","count"]},"ShowConnectionStatisticsResponseBody":{"properties":{"inner_connections":{"description":"内部连接统计信息数组,最大记录数为200条。","items":{"$ref":"#/definitions/QueryConnectionsResponse"},"type":"array"},"outer_connections":{"description":"外部连接统计信息数组,最大记录数为200条。","items":{"$ref":"#/definitions/QueryConnectionsResponse"},"type":"array"},"total_connections":{"description":"总连接数,包括内部连接与外部连接。","type":"integer"},"total_inner_connections":{"description":"内部总连接数。","type":"integer"},"total_outer_connections":{"description":"外部总连接数。","type":"integer"}},"required":["total_connections","total_inner_connections","total_outer_connections","inner_connections","outer_connections"]}},"description":null,"group_id":"a2654930c2d440c78366c9c164a23e86","host":"dds.cn-north-4.myhuaweicloud.com","id":"acaab925e3fe457a9d9ff2869cbf70d3","info_version":"v3","method":"get","name":"ShowConnectionStatistics","parameters":{},"paths":{"/v3/{project_id}/instances/{instance_id}/conn-statistics":{"get":{"description":"查询客户端IP访问至DDS数据库实例的连接数统计信息。","operationId":"ShowConnectionStatistics","parameters":[{"description":"用户Token。","in":"header","name":"x-auth-token","required":true,"type":"string","x-example":"******"},{"description":"租户在某一region下的project ID。","in":"path","name":"project_id","required":true,"type":"string","x-example":"619d3e78f61b4be68bc5aa0b59edcf7b"},{"description":"实例ID,可以调用“查询实例列表和详情”接口获取。如果未申请实例,可以调用“创建实例”接口创建。","in":"path","name":"instance_id","required":true,"type":"string","x-example":"e73893ef73754465a8bd2e0857bbf13ein02"},{"description":"节点ID。\n- 如取空值,则默认查询实例下所有允许连接的节点的连接数信息。","in":"query","name":"node_id","type":"string"}],"responses":{"200":{"description":"Success.","examples":{"application/json":{"inner_connections":[{"client_ip":"10.10.10.24","count":9},{"client_ip":"9.3.185.42","count":6},{"client_ip":"10.10.4.156","count":3}],"outer_connections":[{"client_ip":"10.10.10.25","count":11},{"client_ip":"9.3.185.46","count":8},{"client_ip":"10.10.4.157","count":4}],"total_connections":75,"total_inner_connections":50,"total_outer_connections":25}},"schema":{"$ref":"#/definitions/ShowConnectionStatisticsResponseBody"}},"default":{"description":"Client or server error.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"查询实例连接数统计信息","tags":["连接管理"],"x-constraint":"- 支持版本为3.4和4.0的社区版实例","x-is-registered":"N","x-request-examples-description-1":"查询实例下所有节点的连接统计信息","x-request-examples-description-2":"查询实例下某个节点的连接统计信息:","x-request-examples-url-1":"GET https://dds.ap-southeast1.myhuaweicloud.com/v3/0549b4a43100d4f32f51c01c2fe4acdb/instances/cc6345c64cec47499182467ea0dd432ain02/conn-statistics","x-request-examples-url-2":"GET https://dds.ap-southeast1.myhuaweicloud.com/v3/0549b4a43100d4f32f51c01c2fe4acdb/instances/ cc6345c64cec47499182467ea0dd432ain02/conn-statistics?node_id=51a90da2cfc846688abcdd23861077b5no02","x-support-sdk":"Y"}}},"product_short":"DDS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询实例连接数统计信息","tags":"连接管理","uri":null,"version":"2.0"}