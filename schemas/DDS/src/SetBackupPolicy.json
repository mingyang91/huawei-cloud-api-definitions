{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"BackupPolicy":{"description":"备份策略对象,包括备份保留的天数和备份开始时间。","properties":{"enable_incremental_backup":{"description":"增量备份开关。不传这个参数则不对增备状态进行改动。开启增量备份后,系统会自动进行增量备份。增量备份开关的取值和约束如下:\n- false,代表关闭增量备份,关闭会将之前做的增量备份清理。\n- true,代表开启增量备份,开启增量备份会触发一次全量备份。","example":true,"type":"boolean"},"keep_days":{"description":"指定已生成的备份文件可以保存的天数。\n取值范围:0~732。取0值,表示关闭自动备份策略。","maximum":732,"minimum":0,"type":"string"},"period":{"description":"备份周期配置。自动备份将在每星期指定的天进行。取值范围:格式为半角逗号隔开的数字,数字代表星期。保留天数取值不同,备份周期约束如下:\n- 0天,不传该参数。\n- 1~6天,备份周期全选,取值为:1,2,3,4,5,6,7。\n- 7~732天,备份周期至少选择一周中的一天。示例:1,2,3,4。","example":"1,2,3,4","type":"string"},"start_time":{"description":"备份时间段。自动备份将在该时间段内触发。开启自动备份策略时,该参数必选;关闭自动备份策略时,不传该参数。\n取值范围:格式必须为hh:mm-HH:MM,且有效,当前时间指UTC时间。\n- HH取值必须比hh大1。\n- mm和MM取值必须相同,且取值必须为00、15、30或45。\n取值示例:\n- 08:15-09:15\n- 23:00-00:00","example":"08:15-09:15","type":"string"}}},"ErrorResponse":{"properties":{"error_code":{"description":"错误码。","example":"DBS.200001","type":"string"},"error_msg":{"description":"错误消息。","example":"参数错误。","type":"string"}},"required":["error_code","error_msg"]},"SetBackupPolicyRequestBody":{"properties":{"backup_policy":{"$ref":"#/definitions/BackupPolicy","description":"备份策略对象,包括备份保留的天数和备份开始时间。"}},"required":["backup_policy"]}},"description":null,"group_id":"a2654930c2d440c78366c9c164a23e86","host":"dds.cn-north-4.myhuaweicloud.com","id":"940b8dfd21364bcca3185cbc89c21d9b","info_version":"v3","method":"put","name":"SetBackupPolicy","parameters":{},"paths":{"/v3/{project_id}/instances/{instance_id}/backups/policy":{"put":{"description":"设置自动备份策略。","operationId":"SetBackupPolicy","parameters":[{"description":"用户Token。","in":"header","name":"x-auth-token","required":true,"type":"string","x-example":"******"},{"description":"租户在某一region下的project ID。","in":"path","name":"project_id","required":true,"type":"string","x-example":"619d3e78f61b4be68bc5aa0b59edcf7b"},{"description":"实例ID,可以调用“查询实例列表和详情”接口获取。如果未申请实例,可以调用“创建实例”接口创建。","in":"path","name":"instance_id","required":true,"type":"string","x-example":"e73893ef73754465a8bd2e0857bbf13ein02"},{"description":"请求体。","in":"body","name":"SetBackupPolicyRequestBody","required":true,"schema":{"$ref":"#/definitions/SetBackupPolicyRequestBody"}}],"responses":{"200":{"description":"Success."},"default":{"description":"Client or server error.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"设置自动备份策略","tags":["备份与恢复"],"x-is-registered":"N","x-request-examples-1":{"backup_policy":{"enable_incremental_backup":true,"keep_days":9,"period":"1,4,5,6,7","start_time":"08:15-09:15"}},"x-request-examples-2":{"backup_policy":{"enable_incremental_backup":false,"keep_days":9,"period":"1,4,5,6,7","start_time":"08:15-09:15"}},"x-request-examples-3":{"backup_policy":{"keep_days":9,"period":"1,4,5,6,7","start_time":"08:15-09:15"}},"x-request-examples-4":{"backup_policy":{"enable_incremental_backup":true}},"x-request-examples-5":{"backup_policy":{"keep_days":0}},"x-request-examples-description-1":"开启或修改自动备份策略,并开启增量备份策略","x-request-examples-description-2":"开启或修改自动备份策略,并关闭增量备份策略","x-request-examples-description-3":"仅开启或修改自动备份策略,增量备份策略状态保持不变","x-request-examples-description-4":"开启增量备份策略,需要在有自动全备策略情况下才能下发,关闭增量备份策略同理","x-request-examples-description-5":"关闭备份策略,包括自动备份策略和增量备份策略","x-request-examples-url-1":"PUT https://{endpoint}/v3/054e292c9880d4992f02c0196d3ea468/instances/3d39c18788b54a919bab633874c159dfin02/backups/policy","x-request-examples-url-2":"PUT https://{endpoint}/v3/054e292c9880d4992f02c0196d3ea468/instances/3d39c18788b54a919bab633874c159dfin02/backups/policy","x-request-examples-url-3":"PUT https://{endpoint}/v3/054e292c9880d4992f02c0196d3ea468/instances/3d39c18788b54a919bab633874c159dfin02/backups/policy","x-request-examples-url-4":"PUT https://{endpoint}/v3/054e292c9880d4992f02c0196d3ea468/instances/3d39c18788b54a919bab633874c159dfin02/backups/policy","x-request-examples-url-5":"PUT https://{endpoint}/v3/054e292c9880d4992f02c0196d3ea468/instances/3d39c18788b54a919bab633874c159dfin02/backups/policy","x-support-sdk":"Y"}}},"product_short":"DDS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"设置自动备份策略","tags":"备份与恢复","uri":null,"version":"2.0"}