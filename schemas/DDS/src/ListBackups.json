{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"BackupDatabase":{"properties":{"type":{"description":"**参数解释:**\n数据库引擎\n**取值范围:**\nDDS-Community。","type":"string"},"version":{"description":"**参数解释:**\n数据库版本。支持5.0、4.4、4.2、4.0、3.4版本。\n**取值范围:**\n取值为“5.0”、“4.4”、“4.2”、“4.0”、“3.4”。","type":"string"}},"required":["type","version"]},"BackupForList":{"description":"备份信息。","properties":{"backup_method":{"description":"**参数解释:**\n备份方式。\n**取值范围:**\n- Snapshot,快照备份。\n- Physical,物理备份。\n- Logical,逻辑备份。\n- Incremental,增量备份。","type":"string"},"begin_time":{"description":"**参数解释:**\n备份开始时间,格式为“yyyy-mm-dd hh:mm:ss”。该时间为UTC时间。\n**取值范围:**\n不涉及。","type":"string"},"datastore":{"$ref":"#/definitions/BackupDatabase","description":"**参数解释:**\n数据库版本信息。\n**取值范围:**\n不涉及。"},"deletable":{"description":"**参数解释:**\n是否支持删除该备份。当全备策略存在时,不允许删除自动备份。手动备份允许删除。\n**取值范围:**\n- true,允许删除该备份。\n- false,不允许删除该备份。","type":"boolean"},"description":{"description":"**参数解释:**\n备份描述。\n**取值范围:**\n不涉及。","type":"string"},"end_time":{"description":"**参数解释:**\n备份结束时间,格式为“yyyy-mm-dd hh:mm:ss”。该时间为UTC时间。\n**取值范围:**\n不涉及。","type":"string"},"id":{"description":"**参数解释:**\n备份ID。\n**取值范围:**\n不涉及。","type":"string"},"instance_id":{"description":"**参数解释:**\n备份所属的实例ID,可以调用“查询实例列表”接口获取。如果未申请实例,可以调用“创建实例”接口创建。\n**取值范围:**\n不涉及。","type":"string"},"instance_mode":{"description":"**参数解释:**\n实例模式。\n**取值范围:**\n- Sharding\n- ReplicaSet\n- Single","type":"string"},"instance_name":{"description":"**参数解释:**\n备份所属的实例名称。\n**取值范围:**\n不涉及。","type":"string"},"instance_status":{"description":"**参数解释:**\n实例状态。\n**取值范围:**\n- normal,表示实例正常。\n- abnormal,表示实例异常。\n- creating,表示实例创建中。\n- frozen,表示实例被冻结。\n- data_disk_full,表示存储空间满。\n- enlargefail,表示实例扩容节点个数失败。","enum":["normal","abnormal","creating","frozen","data_disk_full","enlargefail"],"type":"string"},"is_instance_restoring":{"description":"**参数解释:**\n当前实例是否处于恢复中或者恢复检查中。\n**取值范围:**\n- true,表示实例处于恢复中或者恢复检查中,不允许删除该实例备份。\n- false,当前实例未处于恢复中或者恢复检查中,允许删除该实例备份。","type":"boolean"},"kms_enable":{"description":"**参数解释:**\n是否开启kms加密。\n**取值范围:**\n- true,已开启kms加密。\n- false,未开启kms加密。","type":"boolean"},"name":{"description":"**参数解释:**\n备份名称。\n**取值范围:**\n不涉及。","type":"string"},"size":{"description":"**参数解释:**\n备份大小,单位:KB。\n**取值范围:**\n不涉及。","format":"int64","type":"integer"},"status":{"description":"**参数解释:**\n备份状态。\n**取值范围:**\n- BUILDING:备份中。\n- COMPLETED:备份完成。\n- FAILED:备份失败。\n- DISABLED:备份删除中。","enum":["BUILDING","COMPLETED","FAILED","DELETING"],"type":"string"},"type":{"description":"**参数解释:**\n备份类型。\n**取值范围:**\n- 取值为“Auto”,表示自动全量备份。\n- 取值为“Manual”,表示手动全量备份。\n- 取值为“Incremental”,表示自动增量备份。","enum":["auto","manual","fragment","incremental"],"type":"string"}},"required":["id","name","instance_id","instance_name","datastore","type","begin_time","end_time","status","size","description"]},"ErrorResponse":{"properties":{"error_code":{"description":"错误码。","example":"DBS.200001","type":"string"},"error_msg":{"description":"错误消息。","example":"参数错误。","type":"string"}},"required":["error_code","error_msg"]},"ListBackupsResponseBody":{"properties":{"backups":{"description":"**参数解释:**\n备份列表。\n**取值范围:**\n不涉及。","items":{"$ref":"#/definitions/BackupForList"},"type":"array"},"total_count":{"description":"**参数解释:**\n总记录数。\n**取值范围:**\n不涉及。","type":"integer"}},"required":["backups","total_count"]}},"description":null,"group_id":"a2654930c2d440c78366c9c164a23e86","host":"dds.cn-north-4.myhuaweicloud.com","id":"e8eb5e738421427eb7e26ea035d29432","info_version":"v3","method":"get","name":"ListBackups","parameters":{},"paths":{"/v3/{project_id}/backups":{"get":{"description":"根据指定条件查询备份列表。","operationId":"ListBackups","parameters":[{"description":"**参数解释:**\n用户Token。\n从IAM服务获取的用户Token。请参考“认证鉴权”。\n**约束限制:**\n不涉及。\n**取值范围:**\n不涉及。\n**默认取值:**\n不涉及。","in":"header","name":"x-auth-token","required":true,"type":"string","x-example":"******"},{"description":"**参数解释:**\n租户在某一region下的project ID。请参考“获取项目ID”章节获取项目编号。\n**约束限制:**\n不涉及。\n**取值范围:**\n不涉及。\n**默认取值:**\n不涉及。","in":"path","name":"project_id","required":true,"type":"string","x-example":"619d3e78f61b4be68bc5aa0b59edcf7b"},{"description":"**参数解释:**\n实例ID,可以调用“查询实例列表和详情-QueryingInstancesandDetails”接口获取。如果未申请实例,可以调用“创建实例-CreatingaDBInstance”接口创建。\n**约束限制:**\n不涉及。\n**取值范围:**\n不涉及。\n**默认取值:**\n不涉及。","in":"query","name":"instance_id","type":"string"},{"description":"**参数解释:**\n备份ID。\n**约束限制:**\n当该字段传入的备份ID归属为自动增量备份时,实例ID必传。\n**取值范围:**\n不涉及。\n**默认取值:**\n不涉及。","in":"query","name":"backup_id","type":"string"},{"description":"**参数解释:**\n备份类型。\n**约束限制:**\n当该字段取值为“Incremental”时,实例ID必传。\n**取值范围:**\n- 取值为“Auto”,表示自动全量备份。\n- 取值为“Manual”,表示手动全量备份。\n- 取值为“Incremental”,表示自动增量备份。\n- 当该字段未传入值时,默认只查询所有的全量备份,包括自动全备备份和手动全量备份。当该字段取值为“Incremental”时,实例ID必传。\n\n**默认取值:**\n不涉及。","enum":["Auto","Manual","Incremental"],"in":"query","name":"backup_type","type":"string"},{"description":"**参数解释:**\n索引位置偏移量,表示从指定project ID下最新的备份创建时间开始,按时间的先后顺序偏移offset条数据后查询对应的备份信息。\n**约束限制:**\n不涉及。\n**取值范围:**\n大于或等于0。\n**默认取值:**\n0,表示从最新的备份创建时间对应的备份开始查询。","in":"query","minimum":0,"name":"offset","type":"integer"},{"description":"**参数解释:**\n查询备份个数上限值。\n**约束限制:**\n不涉及。\n**取值范围:**\n1~100。\n**默认取值:**\n100。不传该参数时,默认查询前100条备份信息。","in":"query","maximum":100,"minimum":1,"name":"limit","type":"integer"},{"description":"**参数解释:**\n查询备份开始的时间,格式为“yyyy-mm-dd hh:mm:ss”。该时间为UTC时间。\n**约束限制:**\n“end_time”有值时,“begin_time”必选。\n**取值范围:**\n不涉及。\n**默认取值:**\n不涉及。","in":"query","name":"begin_time","type":"string"},{"description":"**参数解释:**\n查询备份开始的结束时间,格式为“yyyy-mm-dd hh:mm:ss”。该时间为UTC时间。\n**约束限制:**\n“begin_time”有值时,“end_time”必选。\n**取值范围:**\n不涉及。\n**默认取值:**\n不涉及。","in":"query","name":"end_time","type":"string"},{"description":"**参数解释:**\n实例模式。\n**约束限制:**\n不涉及。\n**取值范围:**\n- Sharding\n- ReplicaSet\n- Single\n\n**默认取值:**\n不涉及。","enum":["Sharding","ReplicaSet","Single"],"in":"query","name":"mode","type":"string"},{"description":"**参数解释:**\n排序字段。\n**约束限制:**\n“order_rule”有值时,“order_field”必选。\n**取值范围:**\n- name,备份名称。\n- instanceName,实例名称。\n- type,备份类型。\n- datastoreType,引擎类型。\n- beginTime,开始时间。\n- status,备份状态。\n\n**默认取值:**\n如果不传值,则默认根据备份开始时间,即响应参数的begin_time,倒序排序。","in":"query","name":"order_field","type":"string"},{"description":"**参数解释:**\n排序规则。\n**约束限制:**\n“order_field”有值时,“order_rule”必选。\n**取值范围:**\n- asc: 升序排序。\n- desc: 降序排序。\n\n**默认取值:**\n如果不传值,则默认根据备份开始时间,即响应参数的begin_time,倒序排序。","in":"query","name":"order_rule","type":"string"},{"description":"**参数解释:**\n备份状态。\n**约束限制:**\n不涉及。\n**取值范围:**\n- COMPLETED\n- BUILDING\n- FAILED\n\n**默认取值:**\n不涉及。","in":"query","name":"backup_status","type":"string"},{"description":"**参数解释:**\n备份名称,支持模糊匹配。\n**约束限制:**\n不涉及。\n**取值范围:**\n不涉及。\n**默认取值:**\n不涉及。","in":"query","name":"backup_name","type":"string"},{"description":"**参数解释:**\n备份描述,支持模糊匹配。\n**约束限制:**\n不涉及。\n**取值范围:**\n不涉及。\n**默认取值:**\n不涉及。","in":"query","name":"backup_description","type":"string"},{"description":"**参数解释:**\n实例名称,支持模糊匹配。\n**约束限制:**\n不涉及。\n**取值范围:**\n不涉及。\n**默认取值:**\n不涉及。","in":"query","name":"instance_name","type":"string"}],"responses":{"200":{"description":"Success.","examples":{"application/json":{"backups":[{"backup_method":"Physical","begin_time":"2025-12-16 18:40:06","datastore":{"type":"DDS-Community","version":4.0},"deletable":false,"description":"backup description","end_time":"2025-12-16 18:43:11","id ":"3ed665f1aba54201b5ca58372144f61fbr02","instance_id":"078c25598b1940abae1524bfa0988f63in02","instance_mode":"Sharding","instance_name":"cluster-test","instance_status":"normal","is_instance_restoring":false,"kms_enable":false,"name":"backup-test","size":403048,"status":"COMPLETED","type":"Auto"}],"total_count":1}},"schema":{"$ref":"#/definitions/ListBackupsResponseBody"}},"default":{"description":"Client or server error.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"查询备份列表","tags":["备份与恢复"],"x-is-registered":"N","x-open-region-cloud":"hc,hk","x-request-examples-description-1":"","x-request-examples-url-1":"GET https://{endpoint}/v3/054e292c9880d4992f02c0196d3ea468/backups?instance_id=a48e43ff268f4c0e879652d65e63d0fbin02","x-support-sdk":"Y"}}},"product_short":"DDS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询备份列表","tags":"备份与恢复","uri":null,"version":"2.0"}