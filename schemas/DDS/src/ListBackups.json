{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"BackupDatabase":{"properties":{"type":{"description":"数据库引擎。\n取值:DDS-Community。","type":"string"},"version":{"description":"数据库版本。取值:“3.4”、“4.0”、“4.2”、“4.4”、“5.0”。","type":"string"}},"required":["type","version"]},"BackupForList":{"description":"备份信息。","properties":{"begin_time":{"description":"备份开始时间,格式为“yyyy-mm-dd hh:mm:ss”。该时间为UTC时间。","type":"string"},"datastore":{"$ref":"#/definitions/BackupDatabase","description":"数据库版本信息。"},"description":{"description":"备份描述。","type":"string"},"end_time":{"description":"备份结束时间,格式为“yyyy-mm-dd hh:mm:ss”。该时间为UTC时间。","type":"string"},"id":{"description":"备份ID。","type":"string"},"instance_id":{"description":"备份所属的实例ID。","type":"string"},"instance_name":{"description":"备份所属的实例名称。","type":"string"},"name":{"description":"备份名称。","type":"string"},"size":{"description":"备份大小,单位:KB。","format":"int64","type":"integer"},"status":{"description":"备份状态。\n取值:\n- BUILDING:备份中。\n- COMPLETED:备份完成。\n- FAILED:备份失败。\n- DISABLED:备份删除中。","enum":["BUILDING","COMPLETED","FAILED","DELETING"],"type":"string"},"type":{"description":"备份类型。\n- 取值为“Auto”,表示自动全量备份。\n- 取值为“Manual”,表示手动全量备份。\n- 取值为“Incremental”,表示自动增量备份。","enum":["auto","manual","fragment","incremental"],"type":"string"}},"required":["id","name","instance_id","instance_name","datastore","type","begin_time","end_time","status","size","description"]},"ErrorResponse":{"properties":{"error_code":{"description":"错误码。","example":"DBS.200001","type":"string"},"error_msg":{"description":"错误消息。","example":"参数错误。","type":"string"}},"required":["error_code","error_msg"]},"ListBackupsResponseBody":{"properties":{"backups":{"description":"备份列表。","items":{"$ref":"#/definitions/BackupForList"},"type":"array"},"total_count":{"description":"总记录数。","type":"integer"}},"required":["backups","total_count"]}},"description":null,"group_id":"a2654930c2d440c78366c9c164a23e86","host":"dds.cn-north-4.myhuaweicloud.com","id":"e8eb5e738421427eb7e26ea035d29432","info_version":"v3","method":"get","name":"ListBackups","parameters":{},"paths":{"/v3/{project_id}/backups":{"get":{"description":"根据指定条件查询备份列表。","operationId":"ListBackups","parameters":[{"description":"用户Token。","in":"header","name":"x-auth-token","required":true,"type":"string","x-example":"******"},{"description":"租户在某一region下的project ID。","in":"path","name":"project_id","required":true,"type":"string","x-example":"619d3e78f61b4be68bc5aa0b59edcf7b"},{"description":"实例ID,可以调用“查询实例列表和详情”接口获取。如果未申请实例,可以调用“创建实例”接口创建。","in":"query","name":"instance_id","type":"string"},{"description":"备份ID。\n- 当该字段传入的备份ID归属为自动增量备份时,实例ID必传。","in":"query","name":"backup_id","type":"string"},{"description":"备份类型。\n- 取值为“Auto”,表示自动全量备份。\n- 取值为“Manual”,表示手动全量备份。\n- 取值为“Incremental”,表示自动增量备份。\n- 当该字段未传入值时,默认只查询所有的全量备份,包括自动全备备份和手动全量备份。当该字段取值为“Incremental”时,实例ID必传。","enum":["Auto","Manual","Incremental"],"in":"query","name":"backup_type","type":"string"},{"description":"索引位置偏移量,表示从指定project ID下最新的实例创建时间开始,按时间的先后顺序偏移offset条数据后查询对应的实例信息。\n取值大于或等于0。不传该参数时,查询偏移量默认为0,表示从最新的实例创建时间对应的实例开始查询。","in":"query","minimum":0,"name":"offset","type":"integer"},{"description":"查询备份个数上限值。\n取值范围:1~100。不传该参数时,默认查询前100条实例信息。","in":"query","maximum":100,"minimum":1,"name":"limit","type":"integer"},{"description":"查询开始时间,格式为“yyyy-mm-dd hh:mm:ss”。该时间为UTC时间。\n“end_time”有值时,“begin_time”必选。","in":"query","name":"begin_time","type":"string"},{"description":"查询结束时间,格式为“yyyy-mm-ddThh:mm:ssZ”,且大于查询开始时间。其中,T指某个时间的开始;Z指时区偏移量,例如北京时间偏移显示为+0800。\n“begin_time”有值时,“end_time”必选。","in":"query","name":"end_time","type":"string"},{"description":"实例模式。\n取值:\n- Sharding\n- ReplicaSet\n- Single","enum":["Sharding","ReplicaSet","Single"],"in":"query","name":"mode","type":"string"}],"responses":{"200":{"description":"Success.","examples":{"application/json":{"backups":[{"begin_time":"2018-08-06 12:41:14","datastore":{"type":"DDS-Community","version":3.2},"description":"backup description","end_time":"2018-08-06 12:43:14","id ":"43e4feaab48f11e89039fa163ebaa7e4br02","instance_id":"43e4feaab48f11e89039fa163ebaa7e4in02","instance_name":"cluster-test","name":"backup-test","size":2803,"status":"COMPLETED","type":"auto"}],"total_count":1}},"schema":{"$ref":"#/definitions/ListBackupsResponseBody"}},"default":{"description":"Client or server error.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"查询备份列表","tags":["备份与恢复"],"x-is-registered":"N","x-open-region-cloud":"hc,hk","x-request-examples-description-1":"","x-request-examples-url-1":"GET https://{endpoint}/v3/054e292c9880d4992f02c0196d3ea468/backups?instance_id=a48e43ff268f4c0e879652d65e63d0fbin02","x-support-sdk":"Y"}}},"product_short":"DDS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询备份列表","tags":"备份与恢复","uri":null,"version":"2.0"}