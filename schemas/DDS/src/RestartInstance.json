{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"ErrorResponse":{"properties":{"error_code":{"description":"错误码。","example":"DBS.200001","type":"string"},"error_msg":{"description":"错误消息。","example":"参数错误。","type":"string"}},"required":["error_code","error_msg"]},"JobId":{"properties":{"job_id":{"description":"**参数解释:**\n任务ID。\n**取值范围:**\n不涉及。","example":"6ad4eb1f-73bd-4876-aa31-aa9a1e41c4bc","type":"string"}},"required":["job_id"]},"RestartInstanceRequestBody":{"properties":{"is_force":{"description":"**参数解释:**\n是否强制重启。\n**约束限制:**\n仅支持节点状态为异常时进行强制重启。只读节点暂不支持强制重启。\n**取值范围:**\n- true:表示异常节点进行强制重启。\n- false:表示进行正常重启。\n**默认取值:**\nfalse。","type":"boolean"},"is_serial":{"description":"**参数解释:**\n是否选择节点串行重启。\n**约束限制:**\n只支持副本集实例。\n**取值范围:**\n- true:表示节点串行重启。\n- false:表示节点并行重启。\n**默认取值:**\nfalse。","type":"boolean"},"target_id":{"description":"**参数解释:**\n待重启对象的ID,可以调用“查询实例列表和详情”接口获取。如果未申请实例,可以调用“创建实例”接口创建。\n**约束限制:**\n节点状态为正常时,不允许重启主节点。\n**取值范围:**\n- 重启整个实例时,取值为实例ID。\n- 重启集群实例shard或config组时取值为shard或config的组ID。\n- 重启单个节点时,取值为对应节点的节点ID。\n**默认取值:**\n不涉及。","type":"string"},"target_type":{"description":"**参数解释:**\n待重启对象的类型。\n**约束限制:**\n重启集群实例下的节点或组时,该参数必选。\n- 重启mongos节点时,取值为“mongos”。\n- 重启shard组时,取值为“shard”。\n- 重启config组时,取值为“config”。\n- 重启实例(集群、副本集、单节点)时,不传该参数。\n**取值范围:**\n- mongos\n- shard\n- config\n**默认取值:**\n不涉及。","enum":["mongos","shard","config"],"type":"string"}},"required":["target_id"]}},"description":null,"group_id":"a2654930c2d440c78366c9c164a23e86","host":"dds.cn-north-4.myhuaweicloud.com","id":"b0f2bacfa313493bb1a5133420939f53","info_version":"v3","method":"post","name":"RestartInstance","parameters":{},"paths":{"/v3/{project_id}/instances/{instance_id}/restart":{"post":{"description":"重启实例的数据库服务。","operationId":"RestartInstance","parameters":[{"description":"**参数解释:**\n用户Token。通过调用IAM服务获取用户Token接口获取。\n**约束限制:**\n不涉及。\n**取值范围:**\n不涉及。\n**默认取值:**\n不涉及。","in":"header","name":"x-auth-token","required":true,"type":"string","x-example":"******"},{"description":"**参数解释:**\n租户在某一region下的project ID。\n**约束限制:**\n不涉及。\n**取值范围:**\n不涉及。\n**默认取值:**\n不涉及。","in":"path","name":"project_id","required":true,"type":"string","x-example":"619d3e78f61b4be68bc5aa0b59edcf7b"},{"description":"**参数解释:**\n实例ID,可以调用“查询实例列表和详情”接口获取。如果未申请实例,可以调用“创建实例”接口创建。\n**约束限制:**\n不涉及。\n**取值范围:**\n不涉及。\n**默认取值:**\n不涉及。","in":"path","name":"instance_id","required":true,"type":"string","x-example":"e73893ef73754465a8bd2e0857bbf13ein02"},{"description":"请求体。","in":"body","name":"RestartInstanceRequestBody","required":true,"schema":{"$ref":"#/definitions/RestartInstanceRequestBody"}}],"responses":{"200":{"description":"Success.","examples":{"application/json":{"job_id":"04efe8e2-9255-44ae-a98b-d87cae411890"}},"schema":{"$ref":"#/definitions/JobId"}},"default":{"description":"Client or server error.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"重启实例","tags":["实例管理"],"x-is-registered":"N","x-open-region-cloud":"hc,hk","x-request-examples-1":{"target_id":"9136fd2a9fcd405ea4674276ce36dae8in02"},"x-request-examples-2":{"target_id":"84e7c96b82aa4fedb3b00f98edd71ba4gr02","target_type":"shard"},"x-request-examples-3":{"target_id":"06439baa35c146d3a8965af59d370908gr02","target_type":"config"},"x-request-examples-4":{"target_id":"bd4dccbd53ae48d5bd3046bebf715079no02","target_type":"mongos"},"x-request-examples-5":{"is_serial":true,"target_id":"837f47dd0fa34219b1f5ce3f05cb5541in02"},"x-request-examples-description-1":"根据target_id重启整个实例:","x-request-examples-description-2":"根据target_type和target_id重启shard组:","x-request-examples-description-3":"根据target_type和target_id重启config组:","x-request-examples-description-4":"根据target_type和target_id重启mongos节点:","x-request-examples-description-5":"副本集实例串行重启:","x-request-examples-text-1":{"target_id":"9136fd2a9fcd405ea4674276ce36dae8in02"},"x-request-examples-text-2":{"target_id":"84e7c96b82aa4fedb3b00f98edd71ba4gr02","target_type":"shard"},"x-request-examples-text-3":{"target_id":"06439baa35c146d3a8965af59d370908gr02","target_type":"config"},"x-request-examples-text-4":{"target_id":"bd4dccbd53ae48d5bd3046bebf715079no02","target_type":"mongos"},"x-request-examples-text-5":{"is_serial":true,"target_id":"837f47dd0fa34219b1f5ce3f05cb5541in02"},"x-request-examples-url-1":"POST https://{endpoint}/v3/054e292c9880d4992f02c0196d3ea468/instances/e73893ef73754465a8bd2e0857bbf13ein02/restart","x-request-examples-url-2":"POST https://{endpoint}/v3/054e292c9880d4992f02c0196d3ea468/instances/e73893ef73754465a8bd2e0857bbf13ein02/restart","x-request-examples-url-3":"POST https://{endpoint}/v3/054e292c9880d4992f02c0196d3ea468/instances/e73893ef73754465a8bd2e0857bbf13ein02/restart","x-request-examples-url-4":"POST https://{endpoint}/v3/054e292c9880d4992f02c0196d3ea468/instances/e73893ef73754465a8bd2e0857bbf13ein02/restart","x-request-examples-url-5":"POST https://{endpoint}/v3/054e292c9880d4992f02c0196d3ea468/instances/837f47dd0fa34219b1f5ce3f05cb5541in02/restart","x-support-sdk":"Y"}}},"product_short":"DDS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"重启实例","tags":"实例管理","uri":null,"version":"2.0"}