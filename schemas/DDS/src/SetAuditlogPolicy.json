{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"ErrorResponse":{"properties":{"error_code":{"description":"错误码。","example":"DBS.200001","type":"string"},"error_msg":{"description":"错误消息。","example":"参数错误。","type":"string"}},"required":["error_code","error_msg"]},"SetAuditlogPolicyRequestBody":{"properties":{"audit_scope":{"description":"仅打开审计日志策略时有效,并且为空时,默认全部。审计范围。请输入数据库或集合名称,多个库或集合请用英文逗号分隔。若名称中有英文逗号,请在逗号前添加“$”符号,用以区分分隔符。","type":"string"},"audit_types":{"description":"仅打开审计日志策略时有效,并且为空时,默认全部。审计类型。支持insert,delete,update,query等。","items":{"type":"string"},"type":"array"},"keep_days":{"description":"审计日志保存天数,取值范围0,7~732。\n- 取值0,表示关闭审计日志策略。\n- 取值7~732,表示开启审计日志策略,并设置审计日志保存天数为该值。","type":"integer"},"reserve_auditlogs":{"description":"仅关闭审计日志策略时有效。\n- true(默认),表示关闭审计日志策略的同时,保留历史审计日志。\n- false,表示关闭审计日志策略的同时,删除已有的历史审计日志。","type":"string"}},"required":["keep_days"]}},"description":null,"group_id":"a2654930c2d440c78366c9c164a23e86","host":"dds.cn-north-4.myhuaweicloud.com","id":"2d308bfeae16472da657f88dd8392f4f","info_version":"v3","method":"post","name":"SetAuditlogPolicy","parameters":{},"paths":{"/v3/{project_id}/instances/{instance_id}/auditlog-policy":{"post":{"description":"设置审计日志策略。","operationId":"SetAuditlogPolicy","parameters":[{"description":"用户Token。","in":"header","name":"x-auth-token","required":true,"type":"string","x-example":"******"},{"description":"租户在某一region下的project ID。","in":"path","name":"project_id","required":true,"type":"string","x-example":"619d3e78f61b4be68bc5aa0b59edcf7b"},{"description":"实例ID,可以调用“查询实例列表和详情”接口获取。如果未申请实例,可以调用“创建实例”接口创建。","in":"path","name":"instance_id","required":true,"type":"string","x-example":"e73893ef73754465a8bd2e0857bbf13ein02"},{"description":"请求体。","in":"body","name":"SetAuditlogPolicyRequestBody","required":true,"schema":{"$ref":"#/definitions/SetAuditlogPolicyRequestBody"}}],"responses":{"200":{"description":"Success."},"default":{"description":"Client or server error.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"设置审计日志策略","tags":["获取日志信息"],"x-constraint":"- 冻结实例,异常实例不支持该操作。","x-is-registered":"N","x-request-examples-1":{"audit_scope":"all","audit_types":["insert","update"],"keep_days":7},"x-request-examples-2":{"keep_days":0,"reserve_auditlogs":false},"x-request-examples-description-1":"打开或更新审计日志策略","x-request-examples-description-2":"关闭审计日志策略","x-request-examples-url-1":"POST https://{endpoint}/v3/0549b4a43100d4f32f51c01c2fe4acdb/instances/5cecca4c20e04146862651b8d385f26ain02/auditlog-policy","x-request-examples-url-2":"POST https://{endpoint}/v3/0549b4a43100d4f32f51c01c2fe4acdb/instances/5cecca4c20e04146862651b8d385f26ain02/auditlog-policy","x-support-sdk":"Y"}}},"product_short":"DDS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"设置审计日志策略","tags":"获取日志信息","uri":null,"version":"2.0"}