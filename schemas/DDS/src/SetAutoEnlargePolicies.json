{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"DiskAutoExpansionPolicy":{"properties":{"instance_id":{"description":"实例ID。","type":"string"},"step":{"description":"扩容步长(s%),默认为10,支持输入10、15和20。当触发自动扩容的时候,自动扩容当前存储空间的s%(非10倍数向上取整。小数点后四舍五入,默认一次最小10G,账户余额不足时,会导致包年包月实例扩容失败)。","format":"int32","type":"integer"},"threshold":{"description":"触发自动扩容阈值,只支持输入80、85和90。默认阈值为90,即当已使用存储空间达到总存储空间的90%时就会触发扩容。集群实例的自动扩容阈值指的是每个shard。","format":"int32","type":"integer"}},"required":["instance_id"],"type":"object"},"ErrorResponse":{"properties":{"error_code":{"description":"错误码。","example":"DBS.200001","type":"string"},"error_msg":{"description":"错误消息。","example":"参数错误。","type":"string"}},"required":["error_code","error_msg"]},"SetAutoEnlargePoliciesRequestBody":{"properties":{"policies":{"description":"磁盘自动扩容策略。\n最大支持设置10个实例的策略。","items":{"$ref":"#/definitions/DiskAutoExpansionPolicy"},"type":"array"},"switch_option":{"description":"自动扩容开关。\n- on:开启磁盘自动扩容策略。\n- off: 关闭磁盘自动扩容策略。\n默认值为on。","example":false,"type":"string"}},"required":["policies"],"type":"object"}},"description":null,"group_id":"a2654930c2d440c78366c9c164a23e86","host":"dds.cn-north-4.myhuaweicloud.com","id":"e9f954c004e34da688260c29bd0945ec","info_version":"v3","method":"put","name":"SetAutoEnlargePolicies","parameters":{},"paths":{"/v3/{project_id}/instances/auto-enlarge-volume-policies":{"put":{"description":"设置磁盘自动扩容策略。","operationId":"SetAutoEnlargePolicies","parameters":[{"description":"租户在某一region下的project ID。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"用户token。","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"请求body。","in":"body","name":"SetAutoEnlargePoliciesRequestBody","required":true,"schema":{"$ref":"#/definitions/SetAutoEnlargePoliciesRequestBody"}}],"responses":{"200":{"description":"OK."},"400":{"description":"Client error.","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/ErrorResponse"}},"default":{"description":"Client or server error.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"设置磁盘自动扩容策略","tags":["实例管理"],"x-constraint":"包周期用户默认自动扣费,账户需要有足够的余额,才可进行自动扩容。\n\n有只读节点的副本集和集群实例不支持该操作。","x-is-registered":"Y","x-request-examples-1":{"policies":[{"instance_id":"93e4b3eda14349b1b870f72829bc3b9bin02","step":10,"threshold":90}]},"x-request-examples-2":{"policy":[{"instance_id":"93e4b3eda14349b1b870f72829bc3b9bin02"}],"switch_option":"off"},"x-request-examples-text-1":{"policies":[{"instance_id":"93e4b3eda14349b1b870f72829bc3b9bin02","step":10,"threshold":90}]},"x-request-examples-text-2":{"policy":[{"instance_id":"93e4b3eda14349b1b870f72829bc3b9bin02"}],"switch_option":"off"},"x-request-examples-url-1":"PUT https://{endpoint}/v3/619d3e78f61b4be68bc5aa0b59edcf7b/instances/auto-enlarge-volume-policies","x-request-examples-url-2":"PUT https://{endpoint}/v3/619d3e78f61b4be68bc5aa0b59edcf7b/instances/auto-enlarge-volume-policies","x-support-sdk":"Y"}}},"product_short":"DDS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"设置磁盘自动扩容策略","tags":"实例管理","uri":null,"version":"2.0"}