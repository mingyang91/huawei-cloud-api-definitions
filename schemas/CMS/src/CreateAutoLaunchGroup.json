{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"AutoLaunchGroupReqV2":{"description":"This is a auto create Body Object","properties":{"allocation_strategy":{"default":"lowest_price","description":"实例分配策略,枚举值\nlowest_price:价格最低策略,智能购买组购买的所有实例的价格总和最低。\nprioritized:优先级策略,按照规格设定的优先级创建实例。 \ncapacity_optimized:容量最优化策略,智能购买组购买的实例按照大规格优先进行购买。\n默认值:lowest_price","enum":["lowest_price","diversified","capacity_optimized","prioritized"],"type":"string","x-open-region-cloud":""},"dry_run":{"default":false,"description":"创建智能购买组参数核查\ntrue:发送检查请求,不会创建智能购买组。检查项包括是否填写了必需参数、请求格式等。\n如果检查不通过,则返回对应错误。\n如果检查通过,则返回202状态码。\nfalse:发送正常请求,通过检查后并且执行创建智能购买组请求。","type":"boolean"},"excess_fulfilled_capacity_behavior":{"default":"terminate","description":"超过目标容量或目标容量减少时的实例中断行为,枚举值\nterminate:释放\nnoTermination:不释放\n默认值:terminate","enum":["terminate","noTermination"],"maxLength":64,"minLength":1,"type":"string"},"guarantee_plan_id":{"description":"算力保障计划ID","type":"string"},"instances_behavior_with_expiration":{"default":"terminate","description":"请求到期正在的实例中断行为,枚举值\nterminate:释放\nnoTermination:不释放\n默认值:terminate","enum":["terminate","noTermination"],"maxLength":64,"minLength":1,"type":"string"},"name":{"description":"智能购买组名称。\n取值范围:1-64个字符,只能包含中文、字母、数字、下划线和中划线。","maxLength":64,"minLength":1,"pattern":"[a-zA-Z0-9-_一-龥]{1,64}","type":"string"},"region_specs":{"description":"智能购买组内各区域的资源描述","items":{"$ref":"#/definitions/RegionSpec","description":""},"type":"array"},"spot_price":{"description":"用户愿意为竞价实例每小时支付的最高价格。如果overrides中没有提供价格,可以使用该价格","format":"double","type":"number"},"stable_capacity":{"default":0,"description":"按需实例目标容量。\n目标容量指实例数量或CPU个数,必须小于等于target_capacity,智能购买组中可以没有按需实例。","format":"int32","maximum":10000,"minimum":0,"type":"integer"},"supply_option":{"default":"multiple","description":"资源供给中规格选择策略:枚举值\nsinglation:选择一种规格供给\nmultiple:组合多种规格供给\n默认值:multiple","enum":["singlation","multiple"],"type":"string","x-open-region-cloud":""},"target_capacity":{"default":0,"description":"智能购买组目标容量。\n实例数量或者CPU个数目标容量大于等于stable_capacity。竞价实例的容量为满配容量减去stable_capacity。","example":20,"format":"int32","maximum":10000,"minimum":0,"type":"integer"},"type":{"default":"maintain","description":"请求类型,枚举值\nrequest:一次性。仅在启动时交付实例集群,调度失败后不再重试。\nmaintain:持续供应。在启动时尝试交付实例集群,并监控实时容量,未达到目标容量则尝试继续创建ECS实例。\n默认值:maintain","enum":["request","maintain"],"example":"request或者maintain","type":"string","x-open-region-cloud":""},"valid_since":{"description":"请求开始时间,和valid_until共同确定有效时段。\n按照ISO8601标准表示,并使用UTC +0时间,格式为yyyy-MM-ddTHH:mm:ssZ。\n默认值:立即生效","format":"date-time","type":"string"},"valid_until":{"description":"请求结束时间,和valid_since共同确定有效时段。\n按照ISO8601标准表示,并使用UTC +0时间,格式为yyyy-MM-ddTHH:mm:ssZ。\n默认值:无限期","format":"date-time","type":"string"}},"required":["name","region_specs","target_capacity"]},"AutoLaunchGroupResponseBodyV2":{"description":"This is a auto create Response Object","properties":{"auto_launch_group_id":{"description":"创建好的智能购买组","type":"string","x-open-region-cloud":""},"error_code":{"description":"错误码。\n请求失败时,响应体中包含错误。\n请求成功时,不在响应消息体中包含错误码。","format":"int32","type":"integer","x-admin":"","x-internal":"","x-open-region-cloud":""},"error_msg":{"description":"错误描述\n请求失败时,响应体中包含错误\n请求成功时,不在响应消息体中包含错误描述","type":"string","x-admin":"","x-internal":"","x-open-region-cloud":""}}},"LaunchTemplateConfig":{"description":"启动模板相关配置","properties":{"launch_template":{"$ref":"#/definitions/LaunchTemplateInfo","description":"实例的启动模板"},"overrides":{"description":"实例的详细信息","items":{"$ref":"#/definitions/OverrideInfo","description":""},"type":"array"}},"required":["launch_template","overrides"]},"LaunchTemplateInfo":{"description":"实例的启动模板,创建虚拟机时,使用到安全组、网络、镜像、flavor等信息","properties":{"launch_template_id":{"description":"实例的启动模板ID,唯一标识一个启动模板","type":"string"},"version":{"description":"启动模板版本号","type":"string"}},"required":["launch_template_id","version"]},"OverrideInfo":{"description":"实例的详细信息","properties":{"availability_zone_id":{"description":"可用区ID","type":"string"},"flavor_id":{"description":"实例规格ID","type":"string"},"priority":{"description":"优先级。数值越小,优先级越高,优先购买。\n取值范围:0到Integer.MAX_VALUE\n默认值是Integer.MAX_VALUE","format":"int32","minimum":0,"type":"integer"},"spot_price":{"description":"用户愿意为竞价实例每小时支付的最高价格","format":"double","type":"number"},"weighted_capacity":{"default":1.0,"description":"实例规格的权重。取值越高,单台实例满足计算力需求的能力越大,所需的实例数量越小。\n取值范围:大于0\n可以根据指定实例规格的计算力和集群单节点最低计算力得出权重值。\n假设单节点最低计算力为8vcpu、60GB,则8vcpu、60GB的实例规格权重可设置为1,16vcpu、120GB的实例规格权重可设置为2","format":"double","maximum":500,"minimum":1.0,"type":"number"}},"required":["availability_zone_id","flavor_id"]},"RegionSpec":{"description":"一个区域内的资源需求描述","properties":{"expect_stable_capacity":{"description":"区域内期望的稳定算力容量","format":"int32","type":"integer"},"expect_target_capacity":{"description":"区域内期望的总算力容量","format":"int32","type":"integer"},"launch_template_config":{"$ref":"#/definitions/LaunchTemplateConfig","description":"启动模板配置"},"region_id":{"description":"区域ID","type":"string"}},"required":["launch_template_config","region_id","expect_target_capacity","expect_stable_capacity"]}},"description":null,"group_id":"cae58f5b7ae14e1ca9c0f4f255390a96","host":"cms.myhuaweicloud.com","id":"1784ae57142042efb765f08a1097d66c","info_version":"v1","method":"post","name":"CreateAutoLaunchGroup","parameters":{},"paths":{"/v2/{domain_id}/auto-launch-groups":{"post":{"consumes":[],"deprecated":false,"description":"创建智能购买组","operationId":"CreateAutoLaunchGroup","parameters":[{"description":"This is a auto create Body Object","in":"body","name":"AutoLaunchGroupReqV2","required":true,"schema":{"$ref":"#/definitions/AutoLaunchGroupReqV2"}},{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-open-region-cloud":"","x-order":1},{"description":"租户域ID","in":"path","maxLength":64,"minLength":1,"name":"domain_id","required":true,"type":"string","x-order":2}],"produces":[],"responses":{"200":{"description":"OK","examples":{"application/json":{"auto_launch_group_id":"c516c350-7091-4490-9338-47ddb90360f2"}},"schema":{"$ref":"#/definitions/AutoLaunchGroupResponseBodyV2"}}},"summary":"创建智能购买组","tags":["智能购买组管理"],"x-apiErrorCodes":[{"errorCode":"400","errorDescription":"Bad Request","errorDescriptionEn":"Bad Request","errorMessage":"","httpStatus":"400","parentId":"ifb1828f5d76414eb116cecf804ef35c","solution":"","solutionEn":""},{"errorCode":"401","errorDescription":"Unauthorized","errorDescriptionEn":"Unauthorized","errorMessage":"","httpStatus":"401","parentId":"ifb1828f5d76414eb116cecf804ef35c","solution":"","solutionEn":""},{"errorCode":"403","errorDescription":"Forbidden","errorDescriptionEn":"Forbidden","errorMessage":"","httpStatus":"403","parentId":"ifb1828f5d76414eb116cecf804ef35c","solution":"","solutionEn":""},{"errorCode":"404","errorDescription":"Not Found","errorDescriptionEn":"Not Found","errorMessage":"","httpStatus":"404","parentId":"ifb1828f5d76414eb116cecf804ef35c","solution":"","solutionEn":""},{"errorCode":"409","errorDescription":"Conflict","errorDescriptionEn":"Conflict","errorMessage":"","httpStatus":"409","parentId":"ifb1828f5d76414eb116cecf804ef35c","solution":"","solutionEn":""},{"errorCode":"500","errorDescription":"Internal Server Error","errorDescriptionEn":"Internal Server Error","errorMessage":"","httpStatus":"500","parentId":"ifb1828f5d76414eb116cecf804ef35c","solution":"","solutionEn":""},{"errorCode":"503","errorDescription":"Service Unavailable","errorDescriptionEn":"Service Unavailable","errorMessage":"","httpStatus":"503","parentId":"ifb1828f5d76414eb116cecf804ef35c","solution":"","solutionEn":""}],"x-apiexplorer-hide":"false","x-constraint":"1、不支持细粒度授权。\n2、不支持包年/包月计费模式。\n3、不支持对接QuotaManager,使用默认配置,单个租户最大支持创建30个智能购买组。\n4、不支持创建IPv6实例。\n5、不支持创建100ums云盘。\n6、不支持网络driver_mode配置。\n7、不支持创建时指定云服务器密码(可通过启动模板指定)。\n8、租户创建的实例个数、CPU以及网络配额同租户自身配额保持一致。\n9、不支持创建BMS实例。","x-first-open-time":"","x-huawei-security":{"policyCheck":{"adminRule":"rule:context_is_admin","authRule":"rule:all_admins_or_owner or rule:normal_admin_user_t"}},"x-hybridcloud":"","x-is-registered":"Y","x-name":"创建智能购买组","x-open-region-cloud":"hc","x-order":6,"x-publishpath":"","x-request-examples-1":{"allocation_strategy":"lowest_price","dry_run":false,"excess_fulfilled_capacity_behavior":"terminate","guarantee_plan_id":"plan_id","instances_behavior_with_expiration":"terminate","name":"test","region_specs":[{"expect_stable_capacity":5,"expect_target_capacity":10,"launch_template_config":{"launch_template":{"launch_template_id":"c516c350-7091-4490-9338-47ddb90360f2","version":"1.0"},"overrides":[{"availability_zone_id":"az1","flavor_id":"s3.large.2","priority":4,"spot_price":2.0,"weighted_capacity":6},{"availability_zone_id":"az2","flavor_id":"s3.large.2","priority":4,"spot_price":2.0,"weighted_capacity":12},{"availability_zone_id":"az3","flavor_id":"s3.large.2","priority":4,"spot_price":2.0,"weighted_capacity":2}]},"region_id":"region1"}],"spot_price":0.5,"stable_capacity":5,"supply_option":"multiple","target_capacity":10,"type":"maintain","valid_since":"2020-04-04T15:58:13Z","valid_until":"2021-04-06T15:58:13Z"},"x-request-examples-description-1":"创建智能购买组请求","x-request-examples-url-1":"POST https://{endpoint}/v2/{domain_id}/auto-launch-groups","x-scope":"Commercial","x-source":"","x-support-sdk":"Y","x-version":"v2"}}},"product_short":"CMS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建智能购买组","tags":"智能购买组管理","uri":null,"version":"2.0"}