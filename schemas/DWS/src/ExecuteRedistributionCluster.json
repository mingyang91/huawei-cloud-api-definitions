{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"EmptyResponse":{"description":"**参数解释**:\n请求成功时的空白响应。\n**取值范围**:\n不涉及。","type":"object"},"RedistributionReq":{"description":"**参数解释**:\n重分布请求。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","properties":{"parallel_jobs":{"description":"**参数解释**:\n重分布并发数。\n**约束限制**:\n不涉及。\n**取值范围**:\n4~200\n**默认取值**:\n4","example":4,"maximum":200,"minimum":4,"type":"integer"},"redis_mode":{"description":"**参数解释**:\n重分布模式\n**约束限制**:\n不涉及。\n**取值范围**:\nonline:在线重分布;\noffline:离线重分布;\n**默认取值**:\noffline","enum":["offline","online"],"example":"offline","maxLength":16,"minLength":0,"type":"string"}},"required":["redis_mode","parallel_jobs"],"type":"object"}},"description":null,"group_id":"b886262c55704cd0bb59f02cc32eca0c","host":"dws.cn-north-4.myhuaweicloud.com","id":"0bafda43ccdb48ffac3eec2d2d22f719","info_version":"v2","method":"post","name":"ExecuteRedistributionCluster","parameters":{},"paths":{"/v2/{project_id}/clusters/{cluster_id}/redistribution":{"post":{"deprecated":false,"description":"该接口用于集群扩容后将老节点数据均匀分布到新扩节点的数据重分布操作,数据“重分布”后将大大提升业务响应速率。\n重分布功能DWS 2.0 8.1.1.200及以上集群版本支持。\n离线调度重分布模式在8.2.0及以上版本将不再支持。\n只有在扩容之后,集群任务信息为“待重分布”状态时才能手动使用“重分布”功能,其他时段该功能不可使用。\n在扩容阶段也可以选择重分布模式等高级配置,详情参见设置高级配置。\n重分布队列的排序依据表的relpage大小进行,为确保relpage大小正确,建议在重分布之前对需要重分布的表执行analyze操作。","operationId":"ExecuteRedistributionCluster","parameters":[{"description":"**参数解释**:\n项目ID。获取方式方法请参见[获取项目ID](dws_02_0011.xml)。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","in":"path","name":"project_id","required":true,"type":"string","x-order":1},{"description":"**参数解释**:\n集群ID。获取方式方法请参见[获取集群ID](dws_02_00068.xml)。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","in":"path","name":"cluster_id","required":true,"type":"string","x-order":2},{"description":"**参数解释**:\n重分布请求。\n**约束限制**:\n重分布模式参数必传,建议offline。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","in":"body","name":"redistributionReq","required":true,"schema":{"$ref":"#/definitions/RedistributionReq"}}],"responses":{"200":{"description":"重分布下发成功。","examples":{"application/json":{}},"schema":{"$ref":"#/definitions/EmptyResponse"}},"400":{"description":"请求错误。"},"401":{"description":"鉴权失败。"},"403":{"description":"没有操作权限。"},"404":{"description":"找不到资源。"},"500":{"description":"服务内部错误。"},"503":{"description":"服务不可用。"}},"summary":"下发重分布","tags":["节点变更"],"x-constraint":"","x-ctc":"Y","x-ei-general-ai-release-status":"","x-fusioncloud":"","x-hc":"Y","x-hk":"Y","x-is-registered":"Y","x-name":"下发重分布","x-obc":"Y","x-order":30,"x-otc":"Y","x-request-examples-1":{"parallel_jobs":100,"redis_mode":"offline"},"x-request-examples-description-1":"下发集群离线重分布任务,设置并发数为100。","x-request-examples-text-1":{"parallel_jobs":100,"redis_mode":"offline"},"x-request-examples-url-1":"POST https://{Endpoint}/v2/89cd04f168b84af6be287f71730fdb4b/clusters/e59d6b86-9072-46eb-a996-13f8b44994c1/redistribution","x-scope":"Commercial","x-source":"","x-support-sdk":"Y","x-tlf":"Y"}}},"product_short":"DWS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"下发重分布","tags":"节点变更","uri":null,"version":"2.0"}