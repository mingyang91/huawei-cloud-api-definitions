{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ClusterCheckBody":{"properties":{"availability_zones":{"description":"可用区列表","items":{"type":"string"},"type":"array"},"cross_spec_restore":{"description":"跨规格恢复","type":"string"},"datastore_version":{"description":"集群版本","type":"string"},"db_name":{"description":"管理员用户","type":"string"},"db_password":{"description":"管理员密码","type":"string"},"db_port":{"description":"数据库端口","type":"string"},"dss_pool_id":{"description":"存储池ID","type":"string"},"enterprise_project_id":{"description":"企业项目ID","type":"string"},"flavor":{"description":"集群规格名称","type":"string"},"name":{"description":"集群名称","type":"string"},"num_cn":{"description":"cn节点数量","format":"int32","type":"integer"},"num_node":{"description":"实例节点个数","format":"int32","type":"integer"},"old_cluster_hostname":{"description":"旧主机名","type":"string"},"public_ip":{"$ref":"#/definitions/OpenPublicIp","description":"弹性IP对象"},"restore_point":{"$ref":"#/definitions/RestorePoint","description":"恢复指针"},"security_group_id":{"description":"集群安全组ID","type":"string"},"subnet_id":{"description":"集群子网ID","type":"string"},"tag_list":{"description":"标签列表","items":{"$ref":"#/definitions/Tag"},"type":"array"},"volume":{"$ref":"#/definitions/Volume","description":"磁盘"},"vpc_id":{"description":"集群虚拟私有云ID","type":"string"}},"required":["flavor","availability_zones","num_node","datastore_version","vpc_id","subnet_id"],"type":"object"},"ClusterCheckRequestBody":{"description":"创建集群校验请求体","properties":{"cluster":{"$ref":"#/definitions/ClusterCheckBody","description":"集群校验对象"}},"required":["cluster"],"type":"object"},"OpenPublicIp":{"description":"弹性公网IP对象","properties":{"eip_id":{"description":"弹性IP的ID","type":"string"},"public_bind_type":{"description":"弹性IP绑定类型,取值如下:\nauto_assign:自动绑定\nnot_use:暂未使用\nbind_existing :使用已有","example":"bind_existing","type":"string"}},"type":"object"},"RestorePoint":{"description":"恢复集群","properties":{"back_ref":{"description":"快照ID","type":"string"},"cluster_id":{"description":"集群ID","type":"string"},"restore_time":{"description":"恢复时间","format":"int64","type":"integer"}},"type":"object"},"Tag":{"description":"标签","properties":{"key":{"description":"标签key","type":"string"},"value":{"description":"标签值","type":"string"}},"type":"object"},"Volume":{"description":"磁盘","properties":{"capacity":{"description":"磁盘容量,单位:GB","format":"int32","type":"integer"},"volume":{"description":"磁盘名称,取值范围为 SSD(超高IO),高IO(SAS),普通IO(SATA)","type":"string"}},"required":["volume"],"type":"object"}},"description":null,"group_id":"b886262c55704cd0bb59f02cc32eca0c","host":"dws.cn-north-4.myhuaweicloud.com","id":"c632e926f2d34110bf433e064a61364e","info_version":"v2","method":"post","name":"CheckCluster","parameters":{},"paths":{"/v2/{project_id}/cluster-precheck":{"post":{"deprecated":false,"description":"创建集群前预检查","operationId":"CheckCluster","parameters":[{"description":"租户凭证ID","in":"path","name":"project_id","required":true,"type":"string"},{"description":"创建集群校验请求体","in":"body","name":"cluster","required":true,"schema":{"$ref":"#/definitions/ClusterCheckRequestBody"}}],"responses":{"200":{"description":"创建集群预检查成功"},"400":{"description":"请求错误。"},"401":{"description":"鉴权失败。"},"403":{"description":"没有操作权限。"},"404":{"description":"找不到资源。"},"500":{"description":"服务内部错误。"},"503":{"description":"服务不可用。"}},"summary":"创建集群前检查","tags":["集群管理"],"x-ctc":"Y","x-dest_url":"","x-ei-general-ai-release-status":"","x-first_open_time":"","x-flow_control_group":"","x-fusioncloud":"","x-hc":"Y","x-hk":"Y","x-in_cli":"","x-is-registered":"Y","x-multi_tenant_flow_value":18000,"x-obc":"Y","x-order":8,"x-request-examples-1":{"cluster":{"availability_zones":["cn-north-7c"],"datastore_version":"8.2.0","flavor":"dws.m3.xlarge","num_node":3,"public_ip":{"eip_id":"1923e8b0-cd40-4469-8cb1-64546c7b530c","public_bind_type":"bind_existing"},"security_group_id":"f54a4572-d5d2-40b6-823a-79049bd5b71c","subnet_id":"ad9ef23f-1d03-4e52-af80-69604645e109","vpc_id":"c9f1171e-dc90-4ae9-bf22-f9736983ce2d"}},"x-request-examples-description-1":"创建集群操作前检查是否具备创建条件,比如在cn-north-7c可用区下是否有dws.m3.xlarge规格、3节点、公网IP、安全组、虚拟私有云等创建条件。","x-request-examples-text-1":{"cluster":{"availability_zones":["cn-north-7c"],"datastore_version":"8.2.0","flavor":"dws.m3.xlarge","num_node":3,"public_ip":{"eip_id":"1923e8b0-cd40-4469-8cb1-64546c7b530c","public_bind_type":"bind_existing"},"security_group_id":"f54a4572-d5d2-40b6-823a-79049bd5b71c","subnet_id":"ad9ef23f-1d03-4e52-af80-69604645e109","vpc_id":"c9f1171e-dc90-4ae9-bf22-f9736983ce2d"}},"x-request-examples-url-1":"https://{Endpoint}/v2/4cf650fd46704908aa071b4df2453e1e/cluster-precheck","x-scope":"Commercial","x-source":"","x-support-sdk":"Y","x-tenant_flow_value":3000,"x-tlf":"Y","x-un_cli":""}}},"product_short":"DWS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建集群前检查","tags":"集群管理","uri":null,"version":"2.0"}