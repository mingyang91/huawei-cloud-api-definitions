{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ClusterCheckBody":{"description":"**参数解释**:\n集群校验对象。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","properties":{"availability_zones":{"description":"**参数解释**:\n可用区列表。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","items":{"type":"string"},"type":"array"},"cross_spec_restore":{"description":"**参数解释**:\n跨规格恢复信息。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\nnull","type":"string"},"datastore_version":{"description":"**参数解释**:\n集群版本。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","type":"string"},"db_name":{"description":"**参数解释**:\n管理员用户。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\ndbadmin","type":"string"},"db_password":{"description":"**参数解释**:\n管理员密码。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","type":"string"},"db_port":{"description":"**参数解释**:\n数据库端口。\n**约束限制**:\n不涉及。\n**取值范围**:\n8000~30000\n**默认取值**:\n8000","type":"string"},"dss_pool_id":{"description":"**参数解释**:\n存储池ID。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\nnull","type":"string"},"enterprise_project_id":{"description":"**参数解释**:\n企业项目ID,对集群指定企业项目。如果未指定,则使用默认企业项目“default”的ID,即0。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n0","type":"string"},"flavor":{"description":"**参数解释**:\n集群规格名称。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","type":"string"},"name":{"description":"**参数解释**:\n集群名称。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","type":"string"},"num_cn":{"description":"**参数解释**:\ncn节点数量。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","format":"int32","type":"integer"},"num_node":{"description":"**参数解释**:\n实例节点个数。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","format":"int32","type":"integer"},"old_cluster_hostname":{"description":"**参数解释**:\n旧主机名。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\nnull","type":"string"},"public_ip":{"$ref":"#/definitions/OpenPublicIp","description":"**参数解释**:\n弹性IP对象。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\nnull"},"restore_point":{"$ref":"#/definitions/RestorePoint","description":"**参数解释**:\n恢复集群相关对象信息。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\nnull"},"security_group_id":{"description":"**参数解释**:\n安全组ID。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","type":"string"},"subnet_id":{"description":"**参数解释**:\n集群子网ID。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","type":"string"},"tag_list":{"description":"**参数解释**:\n标签列表。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\nnull","items":{"$ref":"#/definitions/Tag"},"type":"array"},"volume":{"$ref":"#/definitions/Volume","description":"**参数解释**:\n磁盘信息对象。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\nnull"},"vpc_id":{"description":"**参数解释**:\n集群虚拟私有云ID。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","type":"string"}},"required":["flavor","availability_zones","num_node","datastore_version","vpc_id","subnet_id"],"type":"object"},"ClusterCheckRequestBody":{"description":"**参数解释**:\n创建集群校验请求体。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","properties":{"cluster":{"$ref":"#/definitions/ClusterCheckBody","description":"**参数解释**:\n集群校验对象。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。"}},"required":["cluster"],"type":"object"},"OpenPublicIp":{"description":"**参数解释**:\n弹性公网IP对象。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","properties":{"eip_id":{"description":"**参数解释**:\n弹性IP的ID\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","type":"string"},"public_bind_type":{"description":"**参数解释**:\n弹性IP绑定类型。\n**约束限制**:\n不涉及。\n**取值范围**:\n- auto_assign:自动绑定\n- not_use:暂未使用\n- bind_existing :使用已有\n\n**默认取值**:\n不涉及。","example":"bind_existing","type":"string"}},"type":"object"},"RestorePoint":{"description":"**参数解释**:\n恢复集群对象信息。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","properties":{"back_ref":{"description":"**参数解释**:\n快照ID。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","type":"string"},"cluster_id":{"description":"**参数解释**:\n原始集群ID。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","type":"string"},"restore_time":{"description":"**参数解释**:\n恢复时间。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","format":"int64","type":"integer"}},"type":"object"},"Tag":{"description":"**参数解释**:\n标签信息。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","properties":{"key":{"description":"**参数解释**:\n标签的键。\n**约束限制**:\n不涉及。\n**取值范围**:\n- 输入标签键的最大长度为128个unicode字符,不能为空字符串,且首尾字符不能为空格;\n- 不能包含“=”,“*”,“<”,“>”,“\\\\”,“,”,“|”,“/”;\n- 只能包含大写字母(A-Z)、小写字母(a-z)、数字(0-9)和特殊字符(中划线-、下划线_)以及中文字符;\n**默认取值**:\n不涉及。","type":"string"},"value":{"description":"**参数解释**:\n标签的值。\n**约束限制**:\n不涉及。\n**取值范围**:\n- 输入标签值的最大长度为256个字符,首尾字符不能为空格,可以为空字符串。\n- 不能包含“=”,“*”,“<”,“>”,“\\\\”,“,”,“|”,“/”。\n- 只能包含大写字母(A-Z)、小写字母(a-z)、数字(0-9)和特殊字符(中划线-、下划线_)以及中文字符。\n**默认取值**:\n不涉及。","type":"string"}},"type":"object"},"Volume":{"description":"**参数解释**:\n磁盘信息对象。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","properties":{"capacity":{"description":"**参数解释**:\n磁盘容量,单位:GB。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","format":"int32","type":"integer"},"volume":{"description":"**参数解释**:\n磁盘名称。\n**约束限制**:\n不涉及。\n**取值范围**:\n- SSD:超高IO\n- SAS:高IO\n- SATA:普通IO\n\n**默认取值**:\n不涉及。","type":"string"}},"required":["volume"],"type":"object"}},"description":null,"group_id":"b886262c55704cd0bb59f02cc32eca0c","host":"dws.cn-north-4.myhuaweicloud.com","id":"c632e926f2d34110bf433e064a61364e","info_version":"v2","method":"post","name":"CheckCluster","parameters":{},"paths":{"/v2/{project_id}/cluster-precheck":{"post":{"deprecated":false,"description":"创建集群前预检查,提前识别子网不足、配额不足等问题,避免发起创建集群请求后创建失败。","operationId":"CheckCluster","parameters":[{"description":"**参数解释**:\n项目ID。获取方式方法请参见[获取项目ID](dws_02_0011.xml)。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"**参数解释**:\n创建集群校验请求体。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","in":"body","name":"cluster","required":true,"schema":{"$ref":"#/definitions/ClusterCheckRequestBody"}}],"responses":{"200":{"description":"创建集群预检查成功"},"400":{"description":"请求错误。"},"401":{"description":"鉴权失败。"},"403":{"description":"没有操作权限。"},"404":{"description":"找不到资源。"},"500":{"description":"服务内部错误。"},"503":{"description":"服务不可用。"}},"summary":"创建集群前检查","tags":["集群管理"],"x-ctc":"Y","x-ei-general-ai-release-status":"","x-fusioncloud":"","x-hc":"Y","x-hk":"Y","x-is-registered":"Y","x-obc":"Y","x-order":4,"x-request-examples-1":{"cluster":{"availability_zones":["cn-north-7c"],"datastore_version":"8.2.0","flavor":"dws.m3.xlarge","num_node":3,"public_ip":{"eip_id":"1923e8b0-cd40-4469-8cb1-64546c7b530c","public_bind_type":"bind_existing"},"security_group_id":"f54a4572-d5d2-40b6-823a-79049bd5b71c","subnet_id":"ad9ef23f-1d03-4e52-af80-69604645e109","vpc_id":"c9f1171e-dc90-4ae9-bf22-f9736983ce2d"}},"x-request-examples-description-1":"创建集群操作前检查是否具备创建条件,比如在cn-north-7c可用区下是否有dws.m3.xlarge规格、3节点、公网IP、安全组、虚拟私有云等创建条件。","x-request-examples-text-1":{"cluster":{"availability_zones":["cn-north-7c"],"datastore_version":"8.2.0","flavor":"dws.m3.xlarge","num_node":3,"public_ip":{"eip_id":"1923e8b0-cd40-4469-8cb1-64546c7b530c","public_bind_type":"bind_existing"},"security_group_id":"f54a4572-d5d2-40b6-823a-79049bd5b71c","subnet_id":"ad9ef23f-1d03-4e52-af80-69604645e109","vpc_id":"c9f1171e-dc90-4ae9-bf22-f9736983ce2d"}},"x-request-examples-url-1":"https://{Endpoint}/v2/4cf650fd46704908aa071b4df2453e1e/cluster-precheck","x-scope":"Commercial","x-source":"","x-support-sdk":"Y","x-tlf":"Y"}}},"product_short":"DWS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建集群前检查","tags":"集群管理","uri":null,"version":"2.0"}