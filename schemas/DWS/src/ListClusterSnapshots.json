{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ClusterListSnapshotsResponseBody":{"description":"**参数解释**:\n快照对象列表。\n**取值范围**:\n不涉及。","properties":{"cluster_id":{"description":"**参数解释**:\n集群ID。\n**取值范围**:\n36位UUID。","type":"string"},"count":{"description":"**参数解释**:\n快照对象列表总数。\n**取值范围**:\n不涉及。","format":"int32","type":"integer"},"project_id":{"description":"**参数解释**:\n项目ID。获取方法请参见[获取项目ID](dws_02_0011.xml)。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","type":"string"},"snapshots":{"description":"**参数解释**:\n快照对象列表。\n**取值范围**:\n不涉及。","items":{"$ref":"#/definitions/ClusterSnapshots"},"type":"array"}},"required":["snapshots","count"]},"ClusterSnapshots":{"description":"**参数解释**:\n集群快照对象列表。\n**取值范围**:\n不涉及。","properties":{"backup_device":{"description":"**参数解释**:\n备份介质。\n**取值范围**:\n不涉及。","example":"obs","type":"string"},"backup_key":{"description":"**参数解释**:\n快照备份key。\n**取值范围**:\n不涉及。","example":20221026201555,"type":"string"},"backup_level":{"description":"**参数解释**:\n备份级别。\n**取值范围**:\n不涉及。","example":"","type":"string"},"bak_expected_start_time":{"description":"**参数解释**:\n快照预计开始时间。\n**取值范围**:\n不涉及。","example":1666843740000,"type":"string"},"bak_keep_day":{"description":"**参数解释**:\n快照保留天数。\n**取值范围**:\n不涉及。","example":3,"type":"integer"},"bak_period":{"description":"**参数解释**:\n快照策略。\n**取值范围**:\n不涉及。","example":"0 9 4/8 ? * 2,3,4,5,6,7","type":"string"},"base_backup_key":{"description":"**参数解释**:\n对应全量快照备份key。\n**取值范围**:\n不涉及。","example":20221025201555,"type":"string"},"base_backup_name":{"description":"**参数解释**:\n对应全量快照名称。\n**取值范围**:\n不涉及。","example":125142,"type":"string"},"cluster_id":{"description":"**参数解释**:\n快照对应的集群ID。\n**取值范围**:\n不涉及。","example":"4f87d3c4-9e33-482f-b962-e23b30d1a18c","type":"string"},"cluster_name":{"description":"**参数解释**:\n快照对应的集群名称。\n**取值范围**:\n不涉及。","example":"cluster","type":"string"},"cluster_status":{"description":"**参数解释**:\n集群状态。\n**取值范围**:\n- AVAILABLE:可用。\n- FAILED:不可用。\n- DELETING:删除中。\n- DELETE_FAILED:删除失败。\n- FROZEN:普通冻结。\n- POLICE_FROZEN:公安冻结。","example":"AVAILABLE","type":"string"},"cluster_task_status":{"description":"**参数解释**:\n集群任务状态。\n**取值范围**:\n不涉及。","type":"string"},"datastore":{"$ref":"#/definitions/Datastore","description":"**参数解释**:\n快照版本。\n**取值范围**:\n不涉及。"},"db_user":{"description":"**参数解释**:\n数据库用户。\n**取值范围**:\n不涉及。","example":"dbadmin","type":"string"},"description":{"description":"**参数解释**:\n快照描述。\n**取值范围**:\n不涉及。","type":"string"},"fine_grained_backup":{"description":"**参数解释**:\n是否是细粒度备份。\n**取值范围**:\n不涉及。","example":true,"type":"boolean"},"fine_grained_backup_detail":{"$ref":"#/definitions/FineGrainedSnapshotDetail","description":"**参数解释**:\n细粒度备份信息。\n**取值范围**:\n不涉及。"},"finished":{"description":"**参数解释**:\n快照创建的结束时间,格式为:ISO8601: YYYY-MM-DDThh:mm:ssZ。\n**取值范围**:\n不涉及。","type":"string"},"guest_agent_version":{"description":"**参数解释**:\nguestAgent版本。\n**取值范围**:\n不涉及。","example":"8.2.0","type":"string"},"id":{"description":"**参数解释**:\n快照ID。\n**取值范围**:\n不涉及。","example":"2a4d0f86-67cd-408a-8b66-017454fb7793","type":"string"},"name":{"description":"**参数解释**:\n快照名称。\n**取值范围**:\n不涉及。","example":"snapshot-1","type":"string"},"prior_backup_key":{"description":"**参数解释**:\n增量快照,使用的前一个快照备份key。\n**取值范围**:\n不涉及。","example":20221025201555,"type":"string"},"progress":{"description":"**参数解释**:\n快照进度。\n**取值范围**:\n不涉及。","example":0,"type":"string"},"size":{"description":"**参数解释**:\n快照大小,单位 GB。\n**取值范围**:\n不涉及。","example":500,"format":"double","type":"number"},"started":{"description":"**参数解释**:\n快照创建的日期时间,格式为 ISO8601: YYYY-MM-DDThh:mm:ssZ。\n**取值范围**:\n不涉及。","example":"2016-08-23T03:59:23Z","type":"string"},"status":{"description":"**参数解释**:\n快照状态。\n**取值范围**:\n- CREATING:创建中。\n- AVAILABLE:可用。\n- UNAVAILABLE:不可用。\n- RESTORING:恢复中。\n- FROZEN: 普通冻结。\n- POLICE_FROZEN: 公安冻结。","example":"AVAILABLE","type":"string"},"support_inplace_restore":{"description":"**参数解释**:\n是否支持就地恢复。\n**取值范围**:\n不涉及。","example":true,"type":"boolean"},"total_backup_size":{"description":"**参数解释**:\n累计快照大小。\n**取值范围**:\n不涉及。","example":125142,"type":"integer"},"type":{"description":"**参数解释**:\n快照类型。\n**取值范围**:\nMANUAL:手动快照。\nAUTO:自动快照。","example":0,"type":"string"},"updated":{"description":"**参数解释**:\n快照更新时间。\n**取值范围**:\n不涉及。","example":"cluster","type":"string"}},"type":"object"},"Datastore":{"description":"**参数解释**:\n集群版本。\n**取值范围**:\n不涉及。","properties":{"type":{"description":"**参数解释**:\n集群类型。\n**取值范围**:\n- dws: dws存算一体。\n- dws3.0: dws存算分离。\n- hybrid: dws实时数仓。","example":"dws","type":"string"},"version":{"description":"**参数解释**:\n集群版本。\n**取值范围**:\n不涉及。","type":"string"}}},"FineGrainedSnapshotDetail":{"description":"**参数解释**:\n细粒度备份信息。\n**取值范围**:\n不涉及。","properties":{"database":{"description":"**参数解释**:\n数据库。\n**取值范围**:\n不涉及。","type":"string"},"schema_list":{"description":"**参数解释**:\n模式列表。\n**取值范围**:\n不涉及。","items":{"type":"string"},"type":"array"},"table_list":{"description":"**参数解释**:\n表集合。\n**取值范围**:\n不涉及。","items":{"type":"string"},"type":"array"}}}},"description":null,"group_id":"b886262c55704cd0bb59f02cc32eca0c","host":"dws.cn-north-4.myhuaweicloud.com","id":"3b353dbaab47491b8e0c4847a3cc4aee","info_version":"v2","method":"get","name":"ListClusterSnapshots","parameters":{},"paths":{"/v1.0/{project_id}/clusters/{cluster_id}/snapshots":{"get":{"deprecated":false,"description":"该接口用于查询集群快照列表。","operationId":"ListClusterSnapshots","parameters":[{"description":"**参数解释**:\n项目ID。获取方法请参见[获取项目ID](dws_02_0011.xml)。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","in":"path","name":"project_id","required":true,"type":"string","x-order":1},{"description":"**参数解释**:\n集群ID。获取方法请参见[获取集群ID](dws_02_00068.xml)。\n**约束限制**:\n必须是有效的dws集群ID。\n**取值范围**:\n36位UUID。\n**默认取值**:\n不涉及。","in":"path","name":"cluster_id","required":true,"type":"string","x-order":2},{"description":"**参数解释**:\n分页单页大小。\n**约束限制**:\n不涉及。\n**取值范围**:\n大于0。\n**默认取值**:\n不限制。","in":"query","name":"limit","required":false,"type":"integer"},{"description":"**参数解释**:\n分页偏移量,从0开始,页数减1。\n**约束限制**:\n不涉及。\n**取值范围**:\n大于等于0。\n**默认取值**:\n0","in":"query","name":"offset","required":false,"type":"integer"},{"description":"**参数解释**:\n排序字段。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","in":"query","name":"sort_key","required":false,"type":"string"},{"description":"**参数解释**:\n排序规则。\n**约束限制**:\n不涉及。\n**取值范围**:\nasc:升序。\ndesc:降序。\n**默认取值**:\n不涉及。","in":"query","name":"sort_dir","required":false,"type":"string"}],"responses":{"200":{"description":"查询快照列表成功。","examples":{"application/json":{"cluster_id":"e59d6b86-9072-46eb-a996-13f8b44994c1","count":1,"project_id":"2a4d0f86-67cd-408a-8b66-017454fb7793","snapshots":[{"backup_device":"obs","backup_key":"20221027_041552","bak_expected_start_time":"1666843740000","bak_keep_day":3,"bak_period":"0 9 4/8 ? * 2,3,4,5,6,7","base_backup_key":"20221025_201556","base_backup_name":"dws-test-20221025201427","cluster_id":"e59d6b86-9072-46eb-a996-13f8b44994c1","cluster_name":"test_1025_02","cluster_task_status":null,"datastore":{"type":"dws","version":"8.2.0"},"db_user":"dbadmin","description":"","fine_grained_backup":false,"guest_agent_version":"8.2.0","id":"2a4d0f86-67cd-408a-8b66-017454fb7793","name":"snapshot-1","prior_backup_key":"20221026_201555","size":500,"status":"AVAILABLE","support_inplace_restore":true,"total_backup_size":813475,"type":"MANUAL","updated":"2022-10-27T04:18:57"}]}},"schema":{"$ref":"#/definitions/ClusterListSnapshotsResponseBody"}},"400":{"description":"请求错误。"},"401":{"description":"鉴权失败。"},"403":{"description":"没有操作权限。"},"404":{"description":"找不到资源。"},"500":{"description":"服务内部错误。"},"503":{"description":"服务不可用。"}},"summary":"查询集群快照列表","tags":["快照管理"],"x-constraint":"","x-ctc":"Y","x-ei-general-ai-release-status":"","x-fusioncloud":"","x-hc":"Y","x-hk":"Y","x-is-registered":"Y","x-name":"查询集群快照列表","x-obc":"Y","x-order":10,"x-otc":"Y","x-request-examples-url-1":"GET https://{Endpoint}/v1.0/89cd04f168b84af6be287f71730fdb4b/clusters/e59d6b86-9072-46eb-a996-13f8b44994c1/snapshots","x-scope":"Commercial","x-source":"","x-support-sdk":"Y","x-tlf":"Y"}}},"product_short":"DWS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询集群快照列表","tags":"快照管理","uri":null,"version":"2.0"}