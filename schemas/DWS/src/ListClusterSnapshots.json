{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ClusterListSnapshotsResponseBody":{"description":"This is a auto create Response Object","properties":{"cluster_id":{"description":"**参数解释**:\n集群ID。\n**取值范围**:\n36位UUID。","type":"string"},"count":{"description":"快照对象列表总数","format":"int32","type":"integer"},"project_id":{"description":"**参数解释**:\n项目ID。获取方式方法请参见[获取项目ID](dws_02_0011.xml)。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","type":"string"},"snapshots":{"description":"快照对象列表。","items":{"$ref":"#/definitions/ClusterSnapshots"},"type":"array"}},"required":["snapshots","count"]},"ClusterSnapshots":{"description":"集群快照对象列表","properties":{"backup_device":{"description":"备份介质。","example":"obs","type":"string"},"backup_key":{"description":"快照BakcupKey。","example":20221026201555,"type":"string"},"backup_level":{"description":"备份级别。","example":"","type":"string"},"bak_expected_start_time":{"description":"快照预计开始时间。","example":1666843740000,"type":"string"},"bak_keep_day":{"description":"快照保留天数。","example":3,"type":"integer"},"bak_period":{"description":"快照策略。","example":"0 9 4/8 ? * 2,3,4,5,6,7","type":"string"},"base_backup_key":{"description":"对应全量快照BakcupKey。","example":20221025201555,"type":"string"},"base_backup_name":{"description":"对应全量快照名称。","example":125142,"type":"string"},"cluster_id":{"description":"快照对应的集群ID","example":"4f87d3c4-9e33-482f-b962-e23b30d1a18c","type":"string"},"cluster_name":{"description":"快照对应的集群名称。","example":"cluster","type":"string"},"cluster_status":{"description":"集群状态。","example":"AVAILABLE","type":"string"},"datastore":{"$ref":"#/definitions/Datastore","description":"快照版本。"},"db_user":{"description":"数据库用户。","example":"dbadmin","type":"string"},"description":{"description":"快照描述。","type":"string"},"fine_grained_backup":{"description":"是否是细粒度备份。","example":true,"type":"boolean"},"fine_grained_backup_detail":{"$ref":"#/definitions/FineGrainedSnapshotDetail","description":"细粒度备份信息。"},"guest_agent_version":{"description":"guestAgent版本。","example":"8.2.0","type":"string"},"id":{"description":"快照ID。","example":"2a4d0f86-67cd-408a-8b66-017454fb7793","type":"string"},"name":{"description":"快照名称。","example":"snapshot-1","type":"string"},"prior_backup_key":{"description":"增量快照,使用的前一个快照BakcupKey。","example":20221025201555,"type":"string"},"progress":{"description":"快照进度。","example":0,"type":"string"},"size":{"description":"快照大小,单位 GB。","example":500,"format":"double","type":"number"},"started":{"description":"快照创建的日期时间,格式为 ISO8601: YYYY-MM-DDThh:mm:ssZ。","example":"2016-08-23T03:59:23Z","type":"string"},"status":{"description":"快照状态:\n- CREATING:创建中。\n- AVAILABLE:可用。\n- UNAVAILABLE:不可用。\n- RESTORING:恢复中。\n- FROZEN: 普通冻结。\n- POLICE_FROZEN: 公安冻结。","example":"AVAILABLE","type":"string"},"support_inplace_restore":{"description":"是否支持就地恢复。","example":true,"type":"boolean"},"total_backup_size":{"description":"累计快照大小。","example":125142,"type":"integer"},"type":{"description":"快照类型:\n- MANUAL :手动快照,\n- AUTO :自动快照。","example":0,"type":"string"},"updated":{"description":"快照更新时间。","example":"cluster","type":"string"}}},"Datastore":{"description":"集群版本","properties":{"type":{"description":"集群类型。","type":"string"},"version":{"description":"集群版本。","type":"string"}}},"FineGrainedSnapshotDetail":{"description":"细粒度备份信息","properties":{"database":{"description":"数据库。","type":"string"},"schema_list":{"description":"模式列表。","items":{"type":"string"},"type":"array"},"table_list":{"description":"表集合。","items":{"type":"string"},"type":"array"}}}},"description":null,"group_id":"b886262c55704cd0bb59f02cc32eca0c","host":"dws.cn-north-4.myhuaweicloud.com","id":"3b353dbaab47491b8e0c4847a3cc4aee","info_version":"v2","method":"get","name":"ListClusterSnapshots","parameters":{},"paths":{"/v1.0/{project_id}/clusters/{cluster_id}/snapshots":{"get":{"consumes":[],"deprecated":false,"description":"该接口用于查询集群快照列表。","operationId":"ListClusterSnapshots","parameters":[{"description":"**参数解释**:\n项目ID。获取方式方法请参见[获取项目ID](dws_02_0011.xml)。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","in":"path","name":"project_id","required":true,"type":"string","x-order":1},{"description":"**参数解释**:\n集群ID。获取方式方法请参见[获取集群ID](dws_02_00068.xml)。\n**约束限制**:\n必须是有效的dws集群ID。\n**取值范围**:\n36位UUID。\n**默认取值**:\n不涉及。","in":"path","name":"cluster_id","required":true,"type":"string","x-order":2},{"description":"**参数解释**:\n分页单页大小。\n**约束限制**:\n不涉及。\n**取值范围**:\n大于0。\n**默认取值**:\n不限制。","in":"query","name":"limit","required":false,"type":"integer"},{"description":"**参数解释**:\n分页查询,偏移量。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n0","in":"query","name":"offset","required":false,"type":"integer"},{"description":"排序字段","in":"query","name":"sort_key","required":false,"type":"string"},{"description":"排序规则","in":"query","name":"sort_dir","required":false,"type":"string"}],"produces":[],"responses":{"200":{"description":"查询快照列表成功。","examples":{"application/json":{"cluster_id":"e59d6b86-9072-46eb-a996-13f8b44994c1","count":2,"project_id":"2a4d0f86-67cd-408a-8b66-017454fb7793","snapshots":[{"backup_device":"obs","backup_key":"20221027_041552","bak_expected_start_time":"1666843740000","bak_keep_day":3,"bak_period":"0 9 4/8 ? * 2,3,4,5,6,7","base_backup_key":"20221025_201556","base_backup_name":"dws-test-20221025201427","cluster_id":"e59d6b86-9072-46eb-a996-13f8b44994c1","cluster_name":"test_1025_02","datastore":{"type":"dws","version":"8.2.0"},"db_user":"dbadmin","description":"","fine_grained_backup":false,"guest_agent_version":"8.2.0","id":"2a4d0f86-67cd-408a-8b66-017454fb7793","name":"snapshot-1","prior_backup_key":"20221026_201555","size":500,"status":"AVAILABLE","support_inplace_restore":true,"total_backup_size":813475,"type":"MANUAL","updated":"2022-10-27T04:18:57"}]}},"schema":{"$ref":"#/definitions/ClusterListSnapshotsResponseBody"}},"400":{"description":"请求错误。"},"401":{"description":"鉴权失败。"},"403":{"description":"没有操作权限。"},"404":{"description":"找不到资源。"},"500":{"description":"服务内部错误。"},"503":{"description":"服务不可用。"}},"summary":"查询集群快照列表","tags":["快照管理"],"x-constraint":"","x-ctc":"Y","x-ei-general-ai-release-status":"","x-fusioncloud":"","x-hc":"Y","x-hk":"Y","x-is-registered":"Y","x-name":"查询集群快照列表","x-obc":"Y","x-order":10,"x-otc":"Y","x-request-examples-description-1":"","x-request-examples-url-1":"GET https://{Endpoint}/v1.0/89cd04f168b84af6be287f71730fdb4b/clusters/e59d6b86-9072-46eb-a996-13f8b44994c1/snapshots","x-scope":"Commercial","x-source":"","x-support-sdk":"Y","x-tlf":"Y"}}},"product_short":"DWS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询集群快照列表","tags":"快照管理","uri":null,"version":"2.0"}