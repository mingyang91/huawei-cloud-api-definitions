{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"EventSubRequest":{"description":"**参数解释**:\n创建事件订阅请求体。\n**取值范围**:\n不涉及。","properties":{"category":{"description":"**参数解释**:\n事件类别。\n**取值范围**:\n支持management、monitor、security、system alarm。","example":"management、monitor","type":"string"},"enable":{"description":"**参数解释**:\n是否开启订阅。\n**取值范围**:\n1为开启,0为关闭。","example":1,"format":"int32","type":"integer"},"name":{"description":"**参数解释**:\n事件订阅名称。\n**取值范围**:\n不涉及。","type":"string"},"notification_target":{"description":"**参数解释**:\n消息通知地址。\n**取值范围**:\n不涉及。","type":"string"},"notification_target_name":{"description":"**参数解释**:\n消息主题名称。\n**取值范围**:\n不涉及。","type":"string"},"notification_target_type":{"description":"**参数解释**:\n消息通知类型只支持SMN。\n**取值范围**:\n不涉及。","example":"SMN","type":"string"},"severity":{"description":"**参数解释**:\n事件级别。\n**取值范围**:\n支持normal、warning。","example":"normal、warning","type":"string"},"source_id":{"description":"**参数解释**:\n事件源ID。\n**取值范围**:\n不涉及。","type":"string"},"source_type":{"description":"**参数解释**:\n事件源类型。\n**取值范围**:\n支持cluster,backup,disaster-recovery。","example":"cluster、backup","type":"string"},"tag":{"description":"**参数解释**:\n事件标签。\n**取值范围**:\n不涉及。","type":"string"},"time_zone":{"description":"**参数解释**:\n时区。\n**取值范围**:\n不涉及。","type":"string"}},"required":["name","notification_target","notification_target_name","notification_target_type"],"type":"object"},"EventSubscriptionResponse":{"description":"**参数解释**:\n事件订阅详情。\n**取值范围**:\n不涉及。","properties":{"category":{"description":"**参数解释**:\n事件类别。\n**取值范围**:\n不涉及。","type":"string"},"enable":{"description":"**参数解释**:\n是否开启订阅。\n**取值范围**:\n1为开启,0为关闭。","format":"int32","type":"integer"},"id":{"description":"**参数解释**:\n订阅ID。\n**取值范围**:\n不涉及。","type":"string"},"language":{"description":"**参数解释**:\n语言。\n**取值范围**:\n不涉及。","type":"string"},"name":{"description":"**参数解释**:\n订阅名称。\n**取值范围**:\n不涉及。","type":"string"},"name_space":{"description":"**参数解释**:\n所属服务。\n**取值范围**:\n不涉及。","type":"string"},"notification_target":{"description":"**参数解释**:\n消息通知主题地址。\n**取值范围**:\n不涉及。","type":"string"},"notification_target_name":{"description":"**参数解释**:\n消息通知主题名称。\n**取值范围**:\n不涉及。","type":"string"},"notification_target_type":{"description":"**参数解释**:\n消息通知类型。\n**取值范围**:\n不涉及。","type":"string"},"project_id":{"description":"**参数解释**:\n项目ID。\n**取值范围**:\n不涉及。","type":"string"},"severity":{"description":"**参数解释**:\n事件级别。\n**取值范围**:\n不涉及。","type":"string"},"source_id":{"description":"**参数解释**:\n事件源ID。\n**取值范围**:\n不涉及。","type":"string"},"source_type":{"description":"**参数解释**:\n事件源类型。\n**取值范围**:\n不涉及。","type":"string"},"tag":{"description":"**参数解释**:\n事件标签。\n**取值范围**:\n不涉及。","type":"string"},"time_zone":{"description":"**参数解释**:\n时区。\n**取值范围**:\n不涉及。","type":"string"}},"type":"object"}},"description":null,"group_id":"b886262c55704cd0bb59f02cc32eca0c","host":"dws.cn-north-4.myhuaweicloud.com","id":"6989e68e2ed34f199bcb4959fc78a40c","info_version":"v2","method":"post","name":"CreateEventSub","parameters":{},"paths":{"/v2/{project_id}/event-subs":{"post":{"deprecated":false,"description":"添加订阅的事件。","operationId":"CreateEventSub","parameters":[{"description":"**参数解释**:\n项目ID。获取方法请参见[获取项目ID](dws_02_0011.xml)。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"**参数解释**:\n创建事件订阅请求体。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","in":"body","name":"eventSubReq","required":true,"schema":{"$ref":"#/definitions/EventSubRequest"}}],"responses":{"200":{"description":"添加事件订阅成功。","examples":{"application/json":{"category":"","enable":1,"id":"41eb162b-cd3b-4c66-88d0-0c2c17fdfc2b","language":"zh-cn","name":"zrf-test-66","name_space":"DWS","notification_target":"urn:smn:cn-north-7:4cf650fd46704908aa071b4df2453e1e:dws-test-nodelete","notification_target_name":"dws-test-nodelete","notification_target_type":"SMN","project_id":"4cf650fd46704908aa071b4df2453e1e","severity":"normal,warning","source_id":"","source_type":"","tag":"","time_zone":"GMT+08:00"}},"schema":{"$ref":"#/definitions/EventSubscriptionResponse"}},"400":{"description":"请求错误。"},"401":{"description":"鉴权失败。"},"403":{"description":"没有操作权限。"},"404":{"description":"找不到资源。"},"500":{"description":"服务内部错误。"},"503":{"description":"服务不可用。"}},"summary":"创建订阅事件","tags":["事件管理"],"x-ctc":"Y","x-ei-general-ai-release-status":"","x-fusioncloud":"","x-hc":"Y","x-hk":"Y","x-is-registered":"Y","x-obc":"Y","x-request-examples-1":{"category":"","enable":1,"name":"zrf-test-66","notification_target":"urn:smn:cn-north-7:4cf650fd46704908aa071b4df2453e1e:dws-test-nodelete","notification_target_name":"dws-test-nodelete","notification_target_type":"SMN","severity":"normal,warning","source_id":"","source_type":"","tag":"","time_zone":"GMT+08:00"},"x-request-examples-description-1":"开启名为zrf-test-66的正常和警告事件订阅,并选择地址为“urn:smn:cn-north-7:4cf650fd46704908aa071b4df2453e1e:dws-test-nodelete”的SMN消息主题“dws-test-nodelete”。","x-request-examples-text-1":{"category":"","enable":1,"name":"zrf-test-66","notification_target":"urn:smn:cn-north-7:4cf650fd46704908aa071b4df2453e1e:dws-test-nodelete","notification_target_name":"dws-test-nodelete","notification_target_type":"SMN","severity":"normal,warning","source_id":"","source_type":"","tag":"","time_zone":"GMT+08:00"},"x-request-examples-url-1":"https://{Endpoint}/v2/4cf650fd46704908aa071b4df2453e1e/event-subs","x-scope":"Commercial","x-source":"","x-support-sdk":"Y","x-tlf":"Y"}}},"product_short":"DWS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建订阅事件","tags":"事件管理","uri":null,"version":"2.0"}