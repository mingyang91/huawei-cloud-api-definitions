{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ExceptRuleBo":{"description":"**参数解释**:\n异常规则信息对象。\n**取值范围**:\n不涉及。","properties":{"action":{"description":"**参数解释**:\n触发异常规则操作。\n**取值范围**:\n不涉及。","example":"abort","type":"string"},"except_rules":{"additionalProperties":{"type":"string"},"description":"**参数解释**:\n异常规则配置项。\n**取值范围**:\n不涉及。","type":"object"},"name":{"description":"**参数解释**:\n规则名称。\n**取值范围**:\n不涉及。","example":"default_cpu_percent","type":"string"},"queues":{"description":"**参数解释**:\n异常规则绑定的资源池名称列表。\n**取值范围**:\n不涉及。","example":[],"items":{"type":"string"},"type":"array"}},"type":"object"},"ExceptRuleResp":{"description":"**参数解释**:\n异常规则信息对象。\n**取值范围**:\n不涉及。","properties":{"count":{"description":"**参数解释**:\n异常规则总条数。\n**取值范围**:\n大于等于0","example":3,"format":"int32","type":"integer"},"items":{"description":"**参数解释**:\n异常规则列表。\n**取值范围**:\n不涉及。","items":{"$ref":"#/definitions/ExceptRuleBo"},"type":"array"},"workload_res_code":{"description":"**参数解释**:\n错误编码。\n**取值范围**:\n不涉及。","example":0,"format":"int32","type":"integer"},"workload_res_str":{"description":"**参数解释**:\n查询错误详情。\n**取值范围**:\n不涉及。","example":"null","type":"string"}},"type":"object"}},"description":null,"group_id":"b886262c55704cd0bb59f02cc32eca0c","host":"dws.cn-north-4.myhuaweicloud.com","id":"2ced0a59177b49e98088e40541a32649","info_version":"v2","method":"post","name":"AddWorkloadRule","parameters":{},"paths":{"/v1/{project_id}/clusters/{cluster_id}/workload/rules":{"post":{"deprecated":false,"description":"添加异常规则。","operationId":"AddWorkloadRule","parameters":[{"description":"**参数解释**:\n项目ID。获取方式方法请参见[获取项目ID](dws_02_0011.xml)。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","in":"path","maxLength":64,"minLength":32,"name":"project_id","required":true,"type":"string","x-order":1},{"description":"**参数解释**:\n集群ID。获取方式方法请参见[获取集群ID](dws_02_00068.xml)。\n**约束限制**:\n必须是有效的dws集群ID。\n**取值范围**:\n36位UUID。\n**默认取值**:\n不涉及。","in":"path","maxLength":64,"minLength":32,"name":"cluster_id","required":true,"type":"string","x-order":2}],"responses":{"200":{"description":"查询成功。","examples":{"application/json":{"count":3,"items":[{"action":"abort","except_rules":{"action":"abort","cpuavgpercent":"50","elapsedtime":"900"},"name":"default_cpu_percent","queues":[]}],"workload_res_code":0,"workload_res_str":null}},"schema":{"$ref":"#/definitions/ExceptRuleResp"}},"400":{"description":"请求错误。"},"401":{"description":"鉴权失败。"},"403":{"description":"没有操作权限。"},"404":{"description":"找不到资源。"},"500":{"description":"服务内部错误。"},"503":{"description":"服务不可用。"}},"summary":"添加异常规则","tags":["资源管理"],"x-api-type":"open-api","x-constraint":"","x-ctc":"Y","x-ei-general-ai-release-status":"","x-fusioncloud":"","x-hc":"Y","x-hk":"Y","x-is-registered":"Y","x-name":"查询当前集群的异常规则列表","x-obc":"Y","x-order":12,"x-otc":"Y","x-request-examples-1":{"except_rules":[{"rule_key":"blocktime","rule_value":"600"},{"rule_key":"elapsedtime","rule_value":"300"},{"rule_key":"action","rule_value":"abort"}],"rule_name":"rule910_1"},"x-request-examples-description-1":"创建异常规则","x-request-examples-text-1":{"except_rules":[{"rule_key":"blocktime","rule_value":"600"},{"rule_key":"elapsedtime","rule_value":"300"},{"rule_key":"action","rule_value":"abort"}],"rule_name":"rule910_1"},"x-request-examples-url-1":"POST https://{Endpoint}/v1/89cd04f168b84af6be287f71730fdb4b/clusters/4ca46bf1-5c61-48ff-b4f3-0ad4e5e3ba90/workload/rules","x-scope":"Commercial","x-source":"","x-support-sdk":"Y","x-tlf":"Y"}}},"product_short":"DWS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"添加异常规则","tags":"资源管理","uri":null,"version":"2.0"}