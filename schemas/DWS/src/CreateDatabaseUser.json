{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"EmptyResponse":{"description":"**参数解释**:\n请求成功时的空白响应。\n**取值范围**:\n不涉及。","type":"object"},"Grant":{"description":"**参数解释**:\n授权信息。\n**取值范围**:\n不涉及。","properties":{"grant_with":{"description":"**参数解释**:\n是否包含授权选项。\n**取值范围**:\n不涉及。","type":"boolean"},"permission":{"description":"**参数解释**:\n权限名称,根据不同数据库对象类型,拥有权限不同。\n**取值范围**:\n- database:CREATE | CONNECT | TEMPORARY | TEMP  ALL  PRIVILEGES\n- schema:CREATE | USAGE | ALTER | DROP  ALL  PRIVILEGES\n- table:SELECT | INSERT | UPDATE | DELETE | TRUNCATE | REFERENCES | TRIGGER | ANALYZE | ANALYSE | VACUUM | ALTER | DROP  ALL  PRIVILEGES\n- view:SELECT | INSERT | UPDATE | DELETE | TRUNCATE | REFERENCES | TRIGGER | ANALYZE | ANALYSE | VACUUM | ALTER | DROP  ALL  PRIVILEGES\n- column:SELECT | INSERT | UPDATE | REFERENCES  ALL  PRIVILEGES\n- function:EXECUTE  ALL  PRIVILEGES\n- sequence:SELECT | UPDATE | USAGE  ALL  PRIVILEGES\n- nodegroup:CREATE | USAGE | COMPUTE  ALL  PRIVILEGES\n- role:role_name(角色名称)","type":"string"}},"required":["permission","grant_with"],"type":"object"},"GrantAuthority":{"description":"**参数解释**:\n权限详情。\n**取值范围**:\n不涉及。","properties":{"all_object":{"description":"**参数解释**:\n是否所有对象生效。\n**取值范围**:\n不涉及。","example":false,"type":"boolean"},"column_name":{"description":"**参数解释**:\n列名。\n**取值范围**:\n不涉及。","example":"null","items":{"type":"string"},"type":"array"},"database":{"description":"**参数解释**:\n数据库名称。\n**取值范围**:\n不涉及。","example":"gaussdb","type":"string"},"future":{"description":"**参数解释**:\n是否对未来对象生效。\n**取值范围**:\n不涉及。","example":false,"type":"boolean"},"future_object_owners":{"description":"**参数解释**:\n未来对象-所属用户。\n**取值范围**:\n不涉及。","example":"null","type":"string"},"obj_name":{"description":"**参数解释**:\n对象名称。\n**取值范围**:\n不涉及。","example":"null","type":"string"},"privileges":{"description":"**参数解释**:\n权限。\n**取值范围**:\n不涉及。","items":{"$ref":"#/definitions/Grant"},"type":"array"},"schema":{"description":"**参数解释**:\n模式名称。\n**取值范围**:\n不涉及。","example":"null","type":"string"},"type":{"description":"**参数解释**:\n权限类型。\n**取值范围**:\n不涉及。","example":"DATABASE","type":"string"}},"type":"object"},"UserAuthorityReq":{"description":"**参数解释**:\n创建用户/角色请求体。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","properties":{"conn_limit":{"description":"**参数解释**:\n连接数限制。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","example":-1,"format":"int32","type":"integer"},"create_db":{"description":"**参数解释**:\n是否允许创建数据库。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\nfalse","example":false,"type":"boolean"},"create_role":{"description":"**参数解释**:\n是否允许创建角色。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\nfalse","example":false,"type":"boolean"},"desc":{"description":"**参数解释**:\n描述信息。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","example":"","type":"string"},"grant_list":{"description":"**参数解释**:\n授权列表。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","example":[],"items":{"$ref":"#/definitions/GrantAuthority"},"type":"array"},"grant_members":{"description":"**参数解释**:\n授权对象信息。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","example":[],"items":{"type":"string"},"type":"array"},"inherit":{"description":"**参数解释**:\n是否允许继承权限。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\nfalse","example":true,"type":"boolean"},"logical_cluster":{"description":"**参数解释**:\n关联的逻辑集群名称。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","example":"v3_logical","type":"string"},"login":{"description":"**参数解释**:\n类型。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\nfalse","example":true,"type":"boolean"},"name":{"description":"**参数解释**:\n用户名/角色名称。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","example":"user1","type":"string"},"password":{"description":"**参数解释**:\n密码。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","example":"*****","type":"string"},"password_disable":{"description":"**参数解释**:\n是否允许密码登录。\n**约束限制**:\n不涉及。\n**取值范围**:\n- true:允许密码登录\n- false:不允许密码登录\n\n**默认取值**:\nfalse","example":false,"type":"boolean"},"system_admin":{"description":"**参数解释**:\n是否是系统管理员。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","example":false,"type":"boolean"},"type":{"description":"**参数解释**:\n类型。\n**约束限制**:\n不涉及。\n**取值范围**:\nuser:数据库用户。\nrole:数据库角色。\n**默认取值**:\n不涉及。","example":"user","type":"string"}},"required":["name","type"],"type":"object"}},"description":null,"group_id":"b886262c55704cd0bb59f02cc32eca0c","host":"dws.cn-north-4.myhuaweicloud.com","id":"d74c5c520cdc4c789a221c44e8bdb6b1","info_version":"v2","method":"post","name":"CreateDatabaseUser","parameters":{},"paths":{"/v1/{project_id}/clusters/{cluster_id}/db-manager/users":{"post":{"deprecated":false,"description":"创建数据库用户/角色。","operationId":"CreateDatabaseUser","parameters":[{"description":"**参数解释**:\n项目ID。获取方法请参见[获取项目ID](dws_02_0011.xml)。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","in":"path","maxLength":64,"minLength":32,"name":"project_id","required":true,"type":"string"},{"description":"**参数解释**:\n集群ID。获取方法请参见[获取集群ID](dws_02_00068.xml)。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","in":"path","maxLength":64,"minLength":32,"name":"cluster_id","required":true,"type":"string"},{"description":"**参数解释**:\n创建数据库用户/角色请求体。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","in":"body","name":"CreateDatabaseUserRequestBody","required":true,"schema":{"$ref":"#/definitions/UserAuthorityReq"}}],"responses":{"200":{"description":"请求下发成功。","examples":{"application/json":{}},"schema":{"$ref":"#/definitions/EmptyResponse"}},"400":{"description":"请求错误。"},"401":{"description":"鉴权失败。"},"403":{"description":"没有操作权限。"},"417":{"description":"服务内部错误。"},"500":{"description":"服务内部错误。"}},"summary":"创建数据库用户/角色","tags":["数据库权限管理"],"x-api-type":"open-api","x-constraint":"","x-ctc":"Y","x-ei-general-ai-release-status":"","x-fusioncloud":"","x-hc":"Y","x-hk":"Y","x-is-registered":"Y","x-name":"查询所有数据库用户/角色","x-obc":"Y","x-otc":"Y","x-request-examples-1":{"conn_limit":-1,"create_db":false,"create_role":false,"desc":"","grant_list":[],"grant_members":[],"inherit":true,"logical_cluster":"v3_logical","login":true,"name":"user1","password":"*****","password_disable":false,"system_admin":false,"type":"user"},"x-request-examples-description-1":"创建数据库用户,用户名user1,密码需要自己替换成实际值。","x-request-examples-text-1":{"conn_limit":-1,"create_db":false,"create_role":false,"desc":"","grant_list":[],"grant_members":[],"inherit":true,"logical_cluster":"v3_logical","login":true,"name":"user1","password":"*****","password_disable":false,"system_admin":false,"type":"user"},"x-request-examples-url-1":"POST https://{Endpoint}/v1/05f2cff45100d5112f4bc00b794ea08e/clusters/cc6588d6-8301-4c9a-b0c0-186bb824e8c0/db-manager/users","x-scope":"Commercial","x-source":"","x-support-sdk":"Y","x-tlf":"Y"}}},"product_short":"DWS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建数据库用户/角色","tags":"数据库权限管理","uri":null,"version":"2.0"}