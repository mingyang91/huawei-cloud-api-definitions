{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CreateDisasterRecovery":{"properties":{"cluster_role":{"description":"**参数解释**:\n集群角色。\n**取值范围**:\n不涉及。","type":"string"},"discovery_recovery_id":{"description":"**参数解释**:\n容灾ID。\n**取值范围**:\n不涉及。","type":"string"},"dr_sync_period":{"description":"**参数解释**:\n同步周期。\n**取值范围**:\n不涉及。","example":"30m","type":"string"},"dr_type":{"description":"**参数解释**:\n容灾类型。\n**取值范围**:\n- az,跨az容灾。\n- region,跨region容灾。","example":"az","type":"string"},"name":{"description":"**参数解释**:\n名称。\n**取值范围**:\n不涉及。","example":"test_disaster","type":"string"},"primary_cluster_id":{"description":"**参数解释**:\n主集群ID。\n**取值范围**:\n不涉及。","example":"3ef5daaa-d017-4354-80b3-8a69caf2e094","type":"string"},"primary_cluster_info":{"$ref":"#/definitions/CreateDrClusterDto","description":"**参数解释**:\n容灾主集群信息。\n**取值范围**:\n不涉及。"},"primary_cluster_project_id":{"description":"**参数解释**:\n容灾主集群项目ID。\n**取值范围**:\n不涉及。","type":"string"},"primary_cluster_region":{"description":"**参数解释**:\n容灾主Region。\n**取值范围**:\n不涉及。","type":"string"},"primary_obs_bucket":{"description":"**参数解释**:\n主集群OBS桶。\n**取值范围**:\n不涉及。","example":"","type":"string"},"standby_cluster_id":{"description":"**参数解释**:\n备集群ID。\n**取值范围**:\n不涉及。","example":"a07cb2f7-b17e-4d95-923b-a33d0c884d37","type":"string"},"standby_cluster_project_id":{"description":"**参数解释**:\n容灾备集群项目ID。\n**取值范围**:\n不涉及。","type":"string"},"standby_cluster_region":{"description":"**参数解释**:\n容灾备Region。\n**取值范围**:\n不涉及。","type":"string"},"standby_obs_bucket":{"description":"**参数解释**:\n备集群obs桶。\n**取值范围**:\n不涉及。","example":"","type":"string"}},"required":["name","dr_type","primary_cluster_id","standby_cluster_id","dr_sync_period"],"type":"object"},"CreateDisasterRecoveryReq":{"properties":{"disaster_recovery":{"$ref":"#/definitions/CreateDisasterRecovery","description":"**参数解释**:\n容灾信息。\n**取值范围**:\n不涉及。"}},"required":["disaster_recovery"],"type":"object"},"CreateDrClusterDto":{"description":"**参数解释**:\n备集群obs桶。\n**取值范围**:\n不涉及。","properties":{"cidr":{"description":"**参数解释**:\n子网的网段。\n**取值范围**:\n不涉及。","type":"string"},"cluster_id":{"description":"**参数解释**:\n集群ID。\n**取值范围**:\n不涉及。","type":"string"},"cluster_name":{"description":"**参数解释**:\n集群名称。\n**取值范围**:\n不涉及。","type":"string"},"db_admin_pwd":{"description":"**参数解释**:\n数据库管理员密码。\n**取值范围**:\n不涉及。","type":"string"},"disaster_recovery_id":{"description":"**参数解释**:\n容灾ID。\n**取值范围**:\n不涉及。","type":"string"},"endpoint":{"description":"**参数解释**:\n域名。\n**取值范围**:\n不涉及。","type":"string"},"gateway_ip":{"description":"**参数解释**:\n子网的网关。\n**取值范围**:\n不涉及。","type":"string"},"internal_ips":{"description":"**参数解释**:\n主网卡IP。\n**取值范围**:\n不涉及。","type":"string"},"kernel_version":{"description":"**参数解释**:\n内核的版本。\n**取值范围**:\n不涉及。","type":"string"},"private_ips":{"description":"**参数解释**:\n内网IP。\n**取值范围**:\n不涉及。","type":"string"}},"type":"object"},"DisasterRecoveryId":{"properties":{"id":{"description":"**参数解释**:\n容灾ID。\n**取值范围**:\n不涉及。","example":"","type":"string"}},"type":"object"},"DisasterRecoveryResp":{"properties":{"disaster_recovery":{"$ref":"#/definitions/DisasterRecoveryId","description":"**参数解释**:\n容灾ID对象。\n**取值范围**:\n不涉及。"}},"type":"object"}},"description":null,"group_id":"b886262c55704cd0bb59f02cc32eca0c","host":"dws.cn-north-4.myhuaweicloud.com","id":"789e539bf6db4ed9811f8a8f7a8480c2","info_version":"v2","method":"post","name":"CreateDisasterRecovery","parameters":{},"paths":{"/v2/{project_id}/disaster-recoveries":{"post":{"deprecated":false,"description":"该接口用于创建集群间容灾。\n集群处于可用状态或者非均衡状态才可进行创建容灾操作。\n仅支持DWS 2.0集群。","operationId":"CreateDisasterRecovery","parameters":[{"description":"**参数解释**:\n项目ID。获取方法请参见[获取项目ID](dws_02_0011.xml)。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"**参数解释**:\n容灾信息。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","in":"body","name":"disaster_recovery","required":true,"schema":{"$ref":"#/definitions/CreateDisasterRecoveryReq"}}],"responses":{"200":{"description":"创建容灾成功。","examples":{"application/json":"{\"disaster_recovery\":{\"id\":\"e59d6b86-9072-46eb-a996-13f8b44994c1\"}}"},"schema":{"$ref":"#/definitions/DisasterRecoveryResp"}},"400":{"description":"请求错误。"},"401":{"description":"鉴权失败。"},"403":{"description":"没有操作权限。"},"404":{"description":"找不到资源。"},"500":{"description":"服务内部错误。"},"503":{"description":"服务不可用。"}},"summary":"创建容灾","tags":["容灾管理"],"x-constraint":"","x-ctc":"Y","x-ei-general-ai-release-status":"","x-fusioncloud":"","x-hc":"Y","x-hk":"Y","x-is-registered":"Y","x-name":"创建容灾","x-obc":"Y","x-otc":"Y","x-request-examples-1":{"disaster_recovery":{"dr_sync_period":"5m","dr_type":null,"name":"test_dr4","primary_cluster_id":"3ef5daaa-d017-4354-80b3-8a69caf2e09","primary_obs_bucket":null,"standby_cluster_id":"e7fed7fe-f4a7-499a-afed-1fdb5c1978cb","standby_obs_bucket":null}},"x-request-examples-description-1":"创建名为test_dr4的跨AZ容灾,设置每5分钟同步一次数据,其中主集群ID为“3ef5daaa-d017-4354-80b3-8a69caf2e09”,备集群ID为“e7fed7fe-f4a7-499a-afed-1fdb5c1978cb”。","x-request-examples-text-1":{"disaster_recovery":{"dr_sync_period":"5m","dr_type":null,"name":"test_dr4","primary_cluster_id":"3ef5daaa-d017-4354-80b3-8a69caf2e09","primary_obs_bucket":null,"standby_cluster_id":"e7fed7fe-f4a7-499a-afed-1fdb5c1978cb","standby_obs_bucket":null}},"x-request-examples-url-1":"POST https://{Endpoint}/v2/89cd04f168b84af6be287f71730fdb4b/disaster-recoveries","x-scope":"Commercial","x-source":"","x-support-sdk":"Y","x-tlf":"Y"}}},"product_short":"DWS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建容灾","tags":"容灾管理","uri":null,"version":"2.0"}