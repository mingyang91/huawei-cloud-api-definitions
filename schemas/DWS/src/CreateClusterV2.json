{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"Cluster":{"description":"**参数解释**:\n集群对象信息。\n**取值范围**:\n不涉及。","properties":{"id":{"description":"**参数解释**:\n集群ID。\n**取值范围**:\n不涉及。","example":"7d85f602-a948-4a30-afd4-e84f47471c15","type":"string"}},"required":["id"],"type":"object"},"CreateClusterResponseBody":{"description":"**参数解释**:\n创建集群响应体。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","properties":{"cluster":{"$ref":"#/definitions/Cluster","description":"**参数解释**:\n集群对象。\n**取值范围**:\n不涉及。"}},"required":["cluster"],"type":"object"},"PublicIp":{"description":"**参数解释**:\n弹性公网IP信息对象。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\nnull","properties":{"eip_id":{"description":"**参数解释**:\n弹性公网IP的id。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\nnull","type":"string"},"public_bind_type":{"description":"**参数解释**:\n弹性IP绑定类型。\n**约束限制**:\n不涉及。\n**取值范围**:\n- auto_assign:自动绑定\n- not_use:暂未使用\n- bind_existing :使用已有\n\n**默认取值**:\nnull","example":"auto_assign","type":"string"}},"type":"object"},"Tags":{"description":"**参数解释**:\n标签列表。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","properties":{"key":{"description":"**参数解释**:\n标签的键。\n**约束限制**:\n不涉及。\n**取值范围**:\n- 输入标签键的最大长度为128个unicode字符,不能为空字符串,且首尾字符不能为空格;\n- 不能包含“=”,“*”,“<”,“>”,“\\\\”,“,”,“|”,“/”;\n- 只能包含大写字母(A-Z)、小写字母(a-z)、数字(0-9)和特殊字符(中划线-、下划线_)以及中文字符;\n\n**默认取值**:\n不涉及。","example":"Flower","type":"string"},"value":{"description":"**参数解释**:\n标签的值。\n**约束限制**:\n不涉及。\n**取值范围**:\n- 输入标签值的最大长度为256个字符,首尾字符不能为空格,可以为空字符串。\n- 不能包含“=”,“*”,“<”,“>”,“\\\\”,“,”,“|”,“/”。\n- 只能包含大写字母(A-Z)、小写字母(a-z)、数字(0-9)和特殊字符(中划线-、下划线_)以及中文字符。\n\n**默认取值**:\n不涉及。","example":"rose","type":"string"}},"required":["key","value"],"type":"object"},"V2CreateCluster":{"description":"**参数解释**:\nv2创建集群请求。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","properties":{"availability_zones":{"description":"**参数解释**:\n可用区列表。\n**约束限制**:\n不涉及。\n**取值范围**:\n集群可用区选择详情请参见地区和终端节点地区和终端节点。\n**默认取值**:\n不涉及。","items":{"type":"string"},"type":"array"},"crypt_algorithm":{"description":"**参数解释**:\nKMS加密算法。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","type":"string"},"datastore_version":{"description":"**参数解释**:\n集群版本。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","type":"string"},"db_name":{"description":"**参数解释**:\n管理员用户名称。\n**约束限制**:\n不涉及。\n**取值范围**:\n只能由小写字母、数字或下划线组成。\n必须由小写字母或下划线开头。\n长度为1~63个字符。\n用户名不能为DWS数据库的关键字。\n**默认取值**:\n不涉及。","type":"string"},"db_password":{"description":"**参数解释**:\n管理员用户密码。\n**约束限制**:\n不涉及。\n**取值范围**:\n12~32个字符;\n至少包含以下字符中的3种:大写字母、小写字母、数字和特殊字符(~!?,.:;-_(){}[]/<>@#%^&*+|\\=)。\n不能与用户名或倒序的用户名相同。\n**默认取值**:\n不涉及。","type":"string"},"db_port":{"description":"**参数解释**:\n集群数据库端口。\n**约束限制**:\n不涉及。\n**取值范围**:\n8000~30000\n**默认取值**:\n8000","format":"int32","type":"integer"},"dss_pool_id":{"description":"**参数解释**:\n专属存储池ID,一般不需要填写。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\nnull","type":"string"},"enterprise_project_id":{"description":"**参数解释**:\n企业项目ID,对集群指定企业项目。如果未指定,则使用默认企业项目“default”的ID,即0。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n0","type":"string"},"flavor":{"description":"**参数解释**:\n集群规格编码。\n**约束限制**:\n不涉及。\n**取值范围**:\n请参见集群规格接口返回的规格编码。\n**默认取值**:\n不涉及。","type":"string"},"ipv6_enable":{"description":"**参数解释**:\n指定网络协议类型,表明是否支持IPv6,默认不使用IPv6。使用ipv6时必须所选择的子网也支持ipv6。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","type":"boolean"},"master_key_id":{"description":"**参数解释**:\nKMS密钥ID。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","type":"string"},"master_key_name":{"description":"**参数解释**:\nKMS密钥名称。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","type":"string"},"name":{"description":"**参数解释**:\n集群名称,要求唯一性。\n**约束限制**:\n不涉及。\n**取值范围**:\n要求唯一性,必须以字母开头并只包含字母、数字、中划线或下划线,长度为4~64个字符。\n**默认取值**:\n不涉及。","type":"string"},"num_cn":{"description":"**参数解释**:\n集群CN数量。\n**约束限制**:\n不涉及。\n**取值范围**:\n取值范围为2~集群节点数,最大值为20,默认值为3。\n**默认取值**:\n不涉及。","format":"int32","type":"integer"},"num_node":{"description":"**参数解释**:\n集群节点数量。\n**约束限制**:\n不涉及。\n**取值范围**:\n集群模式取值范围为3~256,实时数仓(单机模式)取值为1。\n**默认取值**:\n不涉及。","format":"int32","type":"integer"},"public_ip":{"$ref":"#/definitions/PublicIp","description":"**参数解释**:\n公网IP地址,如果未指定,则默认不使用公网连接。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。"},"security_group_id":{"description":"**参数解释**:\n指定安全组ID,用于集群网络配置。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","type":"string"},"subnet_id":{"description":"**参数解释**:\n指定子网ID,用于集群网络配置。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","type":"string"},"tags":{"description":"**参数解释**:\n标签信息。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","items":{"$ref":"#/definitions/Tags"},"type":"array"},"volume":{"$ref":"#/definitions/Volume","description":"**参数解释**:\n磁盘信息。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。"},"vpc_id":{"description":"**参数解释**:\n指定虚拟私有云ID,用于集群网络配置。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","type":"string"}},"required":["name","flavor","num_node","db_name","db_password","db_port","availability_zones","vpc_id","subnet_id","datastore_version","volume"],"type":"object"},"V2CreateClusterReq":{"description":"**参数解释**:\nV2接口创建集群请求体。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","properties":{"cluster":{"$ref":"#/definitions/V2CreateCluster","description":"**参数解释**:\nV2接口创建集群请求体。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。"}},"type":"object"},"Volume":{"description":"**参数解释**:\n磁盘信息对象。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","properties":{"capacity":{"description":"**参数解释**:\n磁盘容量,单位:GB。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","format":"int32","type":"integer"},"volume":{"description":"**参数解释**:\n磁盘名称。\n**约束限制**:\n不涉及。\n**取值范围**:\n- SSD:超高IO\n- SAS:高IO\n- SATA:普通IO\n\n**默认取值**:\n不涉及。","type":"string"}},"required":["volume"],"type":"object"}},"description":null,"group_id":"b886262c55704cd0bb59f02cc32eca0c","host":"dws.cn-north-4.myhuaweicloud.com","id":"1f593ad418d94bbb979a019bdcfadb64","info_version":"v2","method":"post","name":"CreateClusterV2","parameters":{},"paths":{"/v2/{project_id}/clusters":{"post":{"deprecated":false,"description":"该接口用于创建集群。\n集群必须要运行在VPC之内,创建集群前,您需要先创建VPC,并获取VPC和子网的id。\n该接口为异步接口,创建集群需要10~15分钟。","operationId":"CreateClusterV2","parameters":[{"description":"**参数解释**:\n项目ID。获取方式方法请参见[获取项目ID](dws_02_0011.xml)。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","in":"path","name":"project_id","required":true,"type":"string","x-order":1},{"description":"**参数解释**:\n创建集群对象。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","in":"body","name":"V2CreateClusterReqBody","required":true,"schema":{"$ref":"#/definitions/V2CreateClusterReq"}}],"responses":{"200":{"description":"创建集群请求发起成功。","examples":{"application/json":{"cluster":{"id":"7d85f602-a948-4a30-afd4-e84f47471c15"}}},"schema":{"$ref":"#/definitions/CreateClusterResponseBody"}},"400":{"description":"请求错误。"},"401":{"description":"鉴权失败。"},"403":{"description":"没有操作权限。"},"500":{"description":"服务内部错误。"},"503":{"description":"服务不可用。"}},"summary":"创建集群V2","tags":["集群管理"],"x-constraint":"","x-ctc":"Y","x-ei-general-ai-release-status":"","x-fusioncloud":"","x-hc":"Y","x-hk":"Y","x-is-registered":"Y","x-name":"V2创建集群","x-obc":"Y","x-order":5,"x-otc":"Y","x-request-examples-1":{"cluster":{"availability_zones":["az1","az2"],"datastore_version":"8.2.1","db_name":"dbadmin","db_password":"Passw0rd!","db_port":8000,"enterprise_project_id":"aca4e50a-266f-4786-827c-f8d6cc3fbada","flavor":"dws.m1.xlarge.ultrahigh","name":"dws-1","num_cn":3,"num_node":3,"public_ip":{"eip_id":"","public_bind_type":"auto_assign"},"security_group_id":"dc3ec145-9029-4b39-b5a3-ace5a01f772b","subnet_id":"374eca02-cfc4-4de7-8ab5-dbebf7d9a720","volume":{"capacity":100,"volume":"SSD"},"vpc_id":"85b20d7e-9eb7-4b2a-98f3-3c8843ea3574"}},"x-request-examples-description-1":"创建多AZ DWS集群,集群版本为8.2.1,可用区是az1和az2,节点规格为dws.m1.xlarge.ultrahigh,3节点,SSD磁盘,容量为100GB,数据库端口为8000,带公网IP,安全组ID,子网ID,虚拟私有云ID。","x-request-examples-text-1":{"cluster":{"availability_zones":["az1","az2"],"datastore_version":"8.2.1","db_name":"dbadmin","db_password":"Passw0rd!","db_port":8000,"enterprise_project_id":"aca4e50a-266f-4786-827c-f8d6cc3fbada","flavor":"dws.m1.xlarge.ultrahigh","name":"dws-1","num_cn":3,"num_node":3,"public_ip":{"eip_id":"","public_bind_type":"auto_assign"},"security_group_id":"dc3ec145-9029-4b39-b5a3-ace5a01f772b","subnet_id":"374eca02-cfc4-4de7-8ab5-dbebf7d9a720","volume":{"capacity":100,"volume":"SSD"},"vpc_id":"85b20d7e-9eb7-4b2a-98f3-3c8843ea3574"}},"x-request-examples-url-1":"POST https://{Endpoint}/v2/89cd04f168b84af6be287f71730fdb4b/clusters","x-scope":"Commercial","x-source":"","x-support-sdk":"Y","x-tlf":"Y"}}},"product_short":"DWS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建集群V2","tags":"集群管理","uri":null,"version":"2.0"}