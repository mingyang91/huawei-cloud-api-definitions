{"base_path":null,"components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"AllowedAddressPair":{"description":"是否开启源/目的检查开关。","properties":{"ip_address":{"description":"是否开启源/目的检查开关。\n\n默认是开启,不允许置空。\n\n关闭:1.1.1.1/0\n开启:除“1.1.1.1/0”以外的其余值均按开启处理","type":"string"}}},"Ipv6Bandwidth":{"description":"IPv6信息","properties":{"id":{"description":"IPv6共享带宽的ID。","pattern":"[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}","type":"string"}},"required":["id"]},"LbaasListeners":{"description":"增强型负载均衡器","properties":{"pool_id":{"description":"后端云服务器组ID","pattern":"[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}","type":"string"},"protocol_port":{"description":"后端协议号,指后端云服务器监听的端口,取值范围[1,65535]","format":"int32","maximum":65535,"minimum":1,"type":"integer"},"protocol_version":{"description":"指定ip协议版本","enum":["IPV4","IPV6"],"type":"string"},"weight":{"description":"权重,指后端云服务器经分发得到的请求数量的比例,取值范围[0, 100]。","format":"int32","type":"integer"}},"required":["pool_id","protocol_port","weight"],"type":"object"},"Networks":{"description":"网络信息","properties":{"allowed_address_pairs":{"description":"是否开启源/目的检查开关。","items":{"$ref":"#/definitions/AllowedAddressPair"},"type":"array"},"id":{"description":"子网的网络id。","example":"3cd35bca-5a10-416f-8994-f79169559870","pattern":"[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}","type":"string"},"ipv6_bandwidth":{"$ref":"#/definitions/Ipv6Bandwidth"},"ipv6_enable":{"description":"是否启用IPv6。取值为true时,标识此网卡已启用IPv6。","type":"boolean"}},"required":["id"]},"ScalingGroupId":{"description":"请求正常","properties":{"scaling_group_id":{"description":"伸缩组ID","example":"a8327883-6b07-4497-9c61-68d03ee193a1","pattern":"[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}","type":"string"}}},"SecurityGroup":{"description":"安全组信息","properties":{"id":{"description":"安全组ID。","example":"23b7b999-0a30-4b48-ae8f-ee201a88a6ab","pattern":"[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}","type":"string"}},"required":["id"]},"UpdateScalingGroupOption":{"description":"修改伸缩组详情","properties":{"available_zones":{"description":"可用分区信息。弹性伸缩活动中自动添加的云服务器会被创建在指定的可用区中。如果没有指定可用分区,会由系统自动指定可用分区。详情请参考地区和终端节点。仅当同时满足以下条件时才可以修改:伸缩组中无伸缩活动;实例数为0;伸缩组为非启用状态。","items":{"type":"string"},"type":"array"},"cool_down_time":{"description":"冷却时间,取值范围0-86400,单位是秒。","format":"int32","maximum":86400,"type":"integer"},"delete_publicip":{"description":"配置删除云服务器时是否删除云服务器绑定的弹性IP。取值为true或false,默认为false。true:删除云服务器时,会同时删除绑定在云服务器上的弹性IP。当弹性IP的计费方式为包年包月时,不会被删除。false:删除云服务器时,仅解绑定在云服务器上的弹性IP,不删除弹性IP。","type":"boolean"},"delete_volume":{"description":"配置删除云服务器时是否删除云服务器绑定的数据盘。取值为true或false,默认为false。  true:删除云服务器时,会同时删除绑定在云服务器上的数据盘。当数据盘的计费方式为包年包月时,不会被删除。 false:删除务器时,仅云服解绑定在云服务器上的数据盘,不删除数据盘。","type":"boolean"},"description":{"description":"伸缩组描述信息(0-256个字符)","type":"string"},"desire_instance_number":{"description":"期望实例数量,默认值为最小实例数。最小实例数<=期望实例数<=最大实例数","format":"int32","type":"integer"},"enterprise_project_id":{"description":"企业项目ID,用于指定伸缩组归属的企业项目。取值为0或无该值,表示属于default企业项目。取值为UUID,表示属于该UUID对应的企业项目,如何获取企业项目ID,请参考[查询企业项目列表](https://support.huaweicloud.com/api-em/zh-cn_topic_0121230880.html)。当伸缩组配置企业项目时,由该伸缩组创建的弹性云服务器将归属于该企业项目。否则将使用默认企业项目。说明:关于企业项目特性的详细信息,请参见[企业项目管理](https://support.huaweicloud.com/usermanual-em/zh-cn_topic_0131965280.html)。","pattern":"[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}","type":"string"},"health_periodic_audit_grace_period":{"description":"伸缩组实例健康状况检查宽限期,取值范围0-86400,单位是秒。当实例加入伸缩组并且进入已启用状态后,健康状况检查宽限期才会启动,伸缩组会等健康状况检查宽限期结束后才检查实例的运行状况。当伸缩组实例健康检查方式为ELB_AUDIT时,该参数生效,若不设置该参数,默认为10分钟。","format":"int32","maximum":86400,"type":"integer"},"health_periodic_audit_method":{"description":"伸缩组实例健康检查方式:ELB_AUDIT和NOVA_AUDIT。当伸缩组参数中设置负载均衡时,默认为ELB_AUDIT;否则默认为NOVA_AUDIT。ELB_AUDIT表示负载均衡健康检查方式,在有监听器的伸缩组中有效。NOVA_AUDIT表示弹性伸缩自带的健康检查方式。","enum":["ELB_AUDIT","NOVA_AUDIT"],"type":"string"},"health_periodic_audit_time":{"description":"伸缩组实例健康检查周期(分钟):1、5、15、60、180。若设置为0,可以实现10秒级健康检查。","format":"int32","type":"integer"},"iam_agency_name":{"description":"委托的名称委托是由租户管理员在统一身份认证服务(Identity and Access Management,IAM)上创建的,可以为弹性云服务器提供访问云服务的临时凭证。","type":"string"},"instance_terminate_policy":{"description":"伸缩组实例移除策略:OLD_CONFIG_OLD_INSTANCE(默认):从根据“较早创建的配置”创建的实例中筛选出较早创建的实例被优先移除。OLD_CONFIG_NEW_INSTANCE:从根据“较早创建的配置”创建的实例中筛选出较新创建的实例被优先移除。OLD_INSTANCE:较早创建的实例被优先移除。NEW_INSTANCE:较新创建的实例将被优先移除。","enum":["OLD_CONFIG_OLD_INSTANCE","OLD_CONFIG_NEW_INSTANCE","OLD_INSTANCE","NEW_INSTANCE"],"type":"string"},"lb_listener_id":{"description":"弹性负载均衡(经典型)监听器ID,最多支持绑定3个负载均衡监听器,多个负载均衡监听器ID以逗号分隔。首先使用vpc_id通过查询ELB服务负载均衡器列表接口获取负载均衡器的ID,详见《弹性负载均衡API参考》的“查询负载均衡器列表”,再使用该ID查询监听器列表获取,详见《弹性负载均衡API参考》的“查询监听器列表”。仅当同时满足以下条件时,才可以修改:伸缩组无伸缩活动;实例数为0;伸缩组为非启用状态。","maxLength":32,"minLength":1,"type":"string"},"lbaas_listeners":{"description":"弹性负载均衡器(增强型)信息,最多支持绑定3个负载均衡。该字段与lb_listener_id互斥。","items":{"$ref":"#/definitions/LbaasListeners"},"type":"array"},"max_instance_number":{"description":"最大实例数量,大于等于最小实例数。","format":"int32","type":"integer"},"min_instance_number":{"description":"最小实例数量。","format":"int32","type":"integer"},"multi_az_priority_policy":{"description":"伸缩组扩缩容时目标AZ选择的优先级策略:  EQUILIBRIUM_DISTRIBUTE(默认):均衡分布,虚拟机扩缩容时优先保证available_zones列表中各AZ下虚拟机数量均衡,当无法在目标AZ下完成虚拟机扩容时,按照PICK_FIRST原则选择其他可用AZ。 PICK_FIRST:选择优先,虚拟机扩缩容时目标AZ的选择按照available_zones列表的顺序进行优先级排序。","type":"string"},"networks":{"description":"网络信息,最多支持选择5个子网,传入的第一个子网默认作为云服务器的主网卡。使用vpc_id通过查询VPC服务子网列表接口获取,仅当同时满足以下条件时,才可以修改:伸缩组中无伸缩活动;实例数为0;伸缩组为非启用状态。","items":{"$ref":"#/definitions/Networks"},"type":"array"},"notifications":{"description":"通知方式:EMAIL为发送邮件通知。该通知方式即将被废除,建议给弹性伸缩组配置通知功能。详见通知。","items":{"type":"string"},"type":"array"},"scaling_configuration_id":{"description":"伸缩配置ID,通过查询弹性伸缩配置列表接口获取,详见查询弹性伸缩配置列表","pattern":"[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}","type":"string"},"scaling_group_name":{"description":"伸缩组名称(1-64个字符),只能包含中文、字母、数字、下划线、中划线。","type":"string"},"security_groups":{"description":"安全组信息,最多支持选择1个安全组。使用vpc_id通过查询VPC服务安全组列表接口获取,详见《虚拟私有云API参考》的“查询安全组列表”。当伸缩配置和伸缩组同时指定安全组时,将以伸缩配置中的安全组为准;当伸缩配置和伸缩组都没有指定安全组时,将使用默认安全组。为了使用灵活性更高,推荐在伸缩配置中指定安全组。仅当同时满足以下条件时,才可以修改:伸缩组无伸缩活动;实例数为0;伸缩组为非启用状态。","items":{"$ref":"#/definitions/SecurityGroup"},"type":"array"}},"type":"object"}},"description":null,"group_id":"c14e7adea4354f78bb333ea8451df077","host":"as.cn-north-4.myhuaweicloud.com","id":"9d457c5902024b3682fcbe5e7c9190b1","info_version":"v1","method":"put","name":"UpdateScalingGroup","parameters":{},"paths":{"/autoscaling-api/v1/{project_id}/scaling_group/{scaling_group_id}":{"put":{"description":"修改一个指定弹性伸缩组中的信息。更换伸缩组的伸缩配置,伸缩组中已经存在的使用之前伸缩配置创建的云服务器云主机不受影响。伸缩组为没有正在进行的伸缩活动时,可以修改伸缩组的子网、可用区和负载均衡配置。当伸缩组的期望实例数改变时,会触发伸缩活动加入或移出实例。期望实例数必须大于或等于最小实例数,必须小于或等于最大实例数。","operationId":"UpdateScalingGroup","parameters":[{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string","x-example":"0513757xxxxxd5eb2f08xxxb93ef4f0f","x-order":1},{"description":"伸缩组ID","in":"path","name":"scaling_group_id","required":true,"type":"string","x-example":"66e0f775-c4ac-xxxx-xxxx-f93ba217aa5f","x-order":2},{"description":"用户Token。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX...","x-order":3},{"description":"BodyParameters","in":"body","name":"bodyparam","required":true,"schema":{"$ref":"#/definitions/UpdateScalingGroupOption"}}],"responses":{"200":{"description":"请求正常","examples":{"application/json":{"scaling_group_id":"a8327883-6b07-4497-9c61-68d03ee193a1"}},"schema":{"$ref":"#/definitions/ScalingGroupId"}},"400":{"description":"Bad Request 服务器未能处理请求。"},"401":{"description":"Unauthorized 被请求的页面需要用户名和密码。"},"403":{"description":"Forbidden 对被请求的页面访问禁止。"},"404":{"description":"Not Found 服务器无法找到被请求的页面。"},"405":{"description":"Method Not Allowed 请求中指定的方法不被允许。"},"406":{"description":"Not Acceptable 服务器生成的响应无法被客户端所接受。"},"407":{"description":"Proxy Authentication 用户必须首先使用代理服务器进行验证,这样请求才会被处理"},"408":{"description":"Request Timeout 请求超出了服务器的等待时间。"},"409":{"description":"Conflict 由于冲突,请求无法被完成。"},"500":{"description":"Internal Server Error 请求未完成。服务异常。"},"501":{"description":"Not Implemented 请求未完成。服务器不支持所请求的功能。"},"502":{"description":"Bad Gateway 请求未完成。服务器从上游服务器收到一个无效的响应。"},"503":{"description":"Service Unavailable 请求未完成。系统暂时异常。"},"504":{"description":"Gateway Timeout 网关超时。"}},"summary":"修改弹性伸缩组","tags":["弹性伸缩组管理"],"x-apiErrorCodes":"","x-apigateway-auth-type":"","x-apigateway-match-mode":"","x-apigateway-request-type":"","x-call_frequency":"","x-constraint":"","x-ctc":"Y","x-first_open_time":"2016-06-30","x-flow_control_group":"as","x-hc":"Y","x-hk":"Y","x-hybridcloud":"true","x-iftype":"公开接口","x-in_cli":"","x-is-registered":"Y","x-is_calling":"Y","x-multi_tenant_flow_time":"1","x-multi_tenant_flow_value":"260","x-name":"修改弹性伸缩组","x-obc":"Y","x-order":4,"x-otc":"Y","x-request-examples-1":{"cool_down_time":200,"desire_instance_number":1,"enterprise_project_id":"c92b1a5d-6f20-43f2-b1b7-7ce35e58e413","max_instance_number":3,"min_instance_number":1,"multi_az_priority_policy":"PICK_FIRST","scaling_configuration_id":"f8327883-6a07-4497-9a61-68c03e8e72a2","scaling_group_name":"group_1"},"x-request-examples-description-1":"本示例展示了修改ID为a8327883-6b07-4497-9c61-68d03ee193a1的伸缩组,修改其名称、伸缩配置、企业项目、期望实例数、最小实例数、最大实例数和冷却时间等参数。","x-request-examples-text-1":{"cool_down_time":200,"desire_instance_number":1,"enterprise_project_id":"c92b1a5d-6f20-43f2-b1b7-7ce35e58e413","max_instance_number":3,"min_instance_number":1,"multi_az_priority_policy":"PICK_FIRST","scaling_configuration_id":"f8327883-6a07-4497-9a61-68c03e8e72a2","scaling_group_name":"group_1"},"x-request-examples-url-1":"PUT https://{Endpoint}/autoscaling-api/v1/{project_id}/scaling_group/a8327883-6b07-4497-9c61-68d03ee193a1","x-scope":"Commercial","x-source":"SelfDeveloped","x-source_url":"","x-support-sdk":"Y","x-tenant_flow_time":"1","x-tenant_flow_value":"26","x-timeout":"10s","x-tlf":"Y","x-un_cli":"","x-version":"v1"}}},"product_short":"AS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"修改弹性伸缩组","tags":"弹性伸缩组管理","uri":null,"version":"2.0"}