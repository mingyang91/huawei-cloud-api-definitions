{"base_path":null,"components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CreateNotificationOption":{"description":"配置伸缩组通知","properties":{"topic_scene":{"description":"通知场景,有以下五种类型。SCALING_UP:扩容成功。SCALING_UP_FAIL:扩容失败。SCALING_DOWN:减容成功。SCALING_DOWN_FAIL:减容失败。SCALING_GROUP_ABNORMAL:伸缩组发生异常","items":{"enum":["SCALING_UP","SCALING_UP_FAIL","SCALING_DOWN","SCALING_DOWN_FAIL","SCALING_GROUP_ABNORMAL"],"type":"string"},"type":"array"},"topic_urn":{"description":"SMN服务中Topic的唯一的资源标识。","type":"string"}},"required":["topic_scene","topic_urn"]},"CreateNotificationResult":{"description":"请求正常","properties":{"topic_name":{"description":"SMN服务中Topic的资源名称。","example":"gsh","type":"string"},"topic_scene":{"description":"通知场景,有以下五种类型。SCALING_UP:扩容成功。SCALING_UP_FAIL:扩容失败。SCALING_DOWN:减容成功。SCALING_DOWN_FAIL:减容失败。SCALING_GROUP_ABNORMAL:伸缩组发生异常","example":["SCALING_UP","SCALING_UP_FAIL","SCALING_DOWN","SCALING_DOWN_FAIL","SCALING_GROUP_ABNORMAL"],"items":{"type":"string"},"type":"array"},"topic_urn":{"description":"SMN服务中Topic的唯一的资源标识。","example":"urn:smn:regionId:b53e5554fad0494d96206fb84296510b:gsh","type":"string"}}}},"description":null,"group_id":"c14e7adea4354f78bb333ea8451df077","host":"as.cn-north-4.myhuaweicloud.com","id":"f28035f970dd424fb6baffdaf8cf8771","info_version":"v1","method":"put","name":"CreateScalingNotification","parameters":{},"paths":{"/autoscaling-api/v1/{project_id}/scaling_notification/{scaling_group_id}":{"put":{"description":"给弹性伸缩组配置通知功能。每调用一次该接口,伸缩组即配置一个通知主题及其通知场景,每个伸缩组最多可以增加5个主题。通知主题由用户事先在SMN创建并进行订阅,当通知主题对应的通知场景出现时,伸缩组会向用户的订阅终端发送通知。","operationId":"CreateScalingNotification","parameters":[{"description":"项目ID。","in":"path","name":"project_id","required":true,"type":"string","x-example":"0513757xxxxxd5eb2f08xxxb93ef4f0f","x-order":1},{"description":"用户Token。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX...","x-order":2},{"description":"伸缩组标识。","in":"path","name":"scaling_group_id","pattern":"[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}","required":true,"type":"string","x-example":"66e0f775-c4ac-xxxx-xxxx-f93ba217aa5f","x-order":3},{"description":"BodyParameters","in":"body","name":"bodyparam","required":true,"schema":{"$ref":"#/definitions/CreateNotificationOption"}}],"responses":{"200":{"description":"请求正常","examples":{"application/json":{"topic_name":"gsh","topic_scene":["SCALING_UP","SCALING_DOWN","SCALING_DOWN_FAIL","SCALING_GROUP_ABNORMAL"],"topic_urn":"urn:smn:regionId:b53e5554fad0494d96206fb84296510b:gsh"}},"schema":{"$ref":"#/definitions/CreateNotificationResult"}},"400":{"description":"Bad Request 服务器未能处理请求。"},"401":{"description":"Unauthorized 被请求的页面需要用户名和密码。"},"403":{"description":"Forbidden 对被请求的页面访问禁止。"},"404":{"description":"Not Found 服务器无法找到被请求的页面。"},"405":{"description":"Method Not Allowed 请求中指定的方法不被允许。"},"406":{"description":"Not Acceptable 服务器生成的响应无法被客户端所接受。"},"407":{"description":"Proxy Authentication 用户必须首先使用代理服务器进行验证,这样请求才会被处理"},"408":{"description":"Request Timeout 请求超出了服务器的等待时间。"},"409":{"description":"Conflict 由于冲突,请求无法被完成。"},"500":{"description":"Internal Server Error 请求未完成。服务异常。"},"501":{"description":"Not Implemented 请求未完成。服务器不支持所请求的功能。"},"502":{"description":"Bad Gateway 请求未完成。服务器从上游服务器收到一个无效的响应。"},"503":{"description":"Service Unavailable 请求未完成。系统暂时异常。"},"504":{"description":"Gateway Timeout 网关超时。"}},"summary":"配置伸缩组通知","tags":["通知管理"],"x-apiErrorCodes":"","x-apigateway-auth-type":"","x-apigateway-match-mode":"","x-apigateway-request-type":"","x-call_frequency":"","x-constraint":"","x-ctc":"Y","x-first_open_time":"2016-06-30","x-flow_control_group":"as","x-hc":"Y","x-hk":"Y","x-hybridcloud":true,"x-iftype":"公开接口","x-in_cli":"","x-is-registered":"Y","x-is_calling":"Y","x-multi_tenant_flow_time":"1","x-multi_tenant_flow_value":"260","x-name":"配置伸缩组通知","x-obc":"Y","x-order":1,"x-otc":"Y","x-request-examples-1":{"topic_scene":["SCALING_UP","SCALING_UP_FAIL","SCALING_DOWN","SCALING_DOWN_FAIL","SCALING_GROUP_ABNORMAL"],"topic_urn":"urn:smn:regionId:b53e5554fad0494d96206fb84296510b:gsh"},"x-request-examples-description-1":"本示例展示了在ID为e5d27f5c-dd76-4a61-b4bc-a67c5686719a的伸缩组内创建一个topic_urn为urn:smn:regionId:b53e5554fad0494d96206fb84296510b:gsh的通知,在扩容成功,扩容失败,缩容成功,缩容失败,伸缩组发生异常场景下会发送消息。","x-request-examples-text-1":{"topic_scene":["SCALING_UP","SCALING_UP_FAIL","SCALING_DOWN","SCALING_DOWN_FAIL","SCALING_GROUP_ABNORMAL"],"topic_urn":"urn:smn:regionId:b53e5554fad0494d96206fb84296510b:gsh"},"x-request-examples-url-1":"PUT https://{Endpoint}/autoscaling-api/v1/{project_id}/scaling_notification/e5d27f5c-dd76-4a61-b4bc-a67c5686719a","x-scope":"Commercial","x-source":"SelfDeveloped","x-source_url":"","x-support-sdk":"Y","x-tenant_flow_time":"1","x-tenant_flow_value":"26","x-timeout":"10s","x-tlf":"Y","x-un_cli":"","x-version":"v1"}}},"product_short":"AS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"配置伸缩组通知","tags":"通知管理","uri":null,"version":"2.0"}