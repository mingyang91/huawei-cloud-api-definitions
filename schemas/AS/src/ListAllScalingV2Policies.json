{"base_path":null,"components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"AllScalingPolicies":{"description":"查询伸缩策略列表","properties":{"limit":{"description":"查询记录数。","example":20,"maximum":100,"minimum":0,"type":"integer"},"scaling_policies":{"description":"伸缩策略列表","items":{"$ref":"#/definitions/ScalingAllPolicyDetail"},"type":"array"},"start_number":{"description":"查询的起始行号。","example":0,"format":"int32","type":"integer"},"total_number":{"description":"总记录数。","example":3,"format":"int32","type":"integer"}}},"IntervalAlarmActionsV2":{"description":"操作告警区间","properties":{"limits":{"description":"操作限制。当scaling_resource_type为BANDWIDTH,且operation不为SET时,limits参数生效,单位为Mbit/s。此时,当operation为ADD时,limits表示带宽可调整的上限;当operation为REDUCE时,limits表示带宽可调整的下限。","format":"int32","type":"integer"},"lower_bound":{"format":"int32","type":"integer"},"operation":{"description":"操作选项,默认为ADD。\n当scaling_resource_type为SCALING_GROUP,支持如下操作:\nADD:增加\nREMOVE/REDUCE:减少\nSET:设置为\n当scaling_resource_type为BANDWIDTH,支持如下操作:\nADD:增加\nREDUCE:减少","type":"string"},"size":{"description":"操作大小,取值范围为0到300的整数,默认为1。当scaling_resource_type为SCALING_GROUP时,size为实例个数,取值范围为0-300的整数,默认为1。当scaling_resource_type为BANDWIDTH时,size表示带宽大小,单位为Mbit/s,取值范围为1到300的整数,默认为1。当scaling_resource_type为SCALING_GROUP时,size和percentage参数只能选其中一个进行配置。","format":"int32","type":"integer"},"upper_bound":{"format":"int32","type":"integer"}},"type":"object"},"ScalingAllPolicyDetail":{"description":"伸缩策略","properties":{"alarm_id":{"description":"告警ID。","maxLength":64,"minLength":1,"type":"string"},"cool_down_time":{"description":"冷却时间,取值范围0-86400,默认为300,单位是秒。","maximum":86400,"type":"integer"},"create_time":{"description":"创建伸缩策略时间,遵循UTC时间","format":"date-time","type":"string"},"description":{"description":"伸缩策略描述(1-256个字符)","type":"string"},"interval_alarm_actions":{"items":{"$ref":"#/definitions/IntervalAlarmActionsV2"},"type":"array"},"meta_data":{"$ref":"#/definitions/ScalingPolicyV2MetaData"},"policy_status":{"description":"伸缩策略状态。INSERVICE:使用中。PAUSED:停止。EXECUTING:执行中。","enum":["INSERVICE","PAUSED","EXECUTING"],"type":"string"},"scaling_policy_action":{"$ref":"#/definitions/ScalingPolicyActionV2"},"scaling_policy_id":{"description":"伸缩策略ID。","pattern":"[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}","type":"string"},"scaling_policy_name":{"description":"伸缩策略名称。","maxLength":64,"minLength":1,"type":"string"},"scaling_policy_type":{"description":"伸缩策略类型:ALARM:告警策略,此时alarm_id有返回,scheduled_policy不会返回。SCHEDULED:定时策略,此时alarm_id不会返回,scheduled_policy有返回,并且recurrence_type、recurrence_value、start_time和end_time不会返回。RECURRENCE:周期策略,此时alarm_id不会返回,scheduled_policy有返回,并且recurrence_type、recurrence_value、start_time和end_time有返回。","enum":["ALARM","SCHEDULED","RECURRENCE"],"type":"string"},"scaling_resource_id":{"description":"伸缩资源ID。","pattern":"[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}","type":"string"},"scaling_resource_type":{"description":"伸缩资源类型。伸缩组:SCALING_GROUP。带宽:BANDWIDTH。","enum":["SCALING_GROUP","BANDWIDTH"],"type":"string"},"scheduled_policy":{"$ref":"#/definitions/ScheduledPolicy"}}},"ScalingPolicyActionV2":{"description":"策略执行具体动作。","properties":{"limits":{"description":"操作限制。当scaling_resource_type为BANDWIDTH,且operation不为SET时,limits参数生效,单位为Mbit/s。此时,当operation为ADD时,limits表示带宽可调整的上限;当operation为REDUCE时,limits表示带宽可调整的下限。","example":10,"format":"int32","type":"integer"},"operation":{"description":"操作选项,默认为ADD。\n当scaling_resource_type为SCALING_GROUP,支持如下操作:\n- ADD:增加\n- REMOVE/REDUCE:减少\n- SET:设置为\n当scaling_resource_type为BANDWIDTH,支持如下操作:\n- ADD:增加\n- REDUCE:减少\n- SET:设置为","enum":["ADD","REMOVE","REDUCE","SET"],"example":"ADD","type":"string"},"percentage":{"description":"操作百分比,取值为0到20000的整数。当scaling_resource_type为SCALING_GROUP时,size和instance_percentage参数均无配置,则size默认为1。当scaling_resource_type为BANDWIDTH时,不支持配置instance_percentage参数。","maximum":20000,"minimum":0,"type":"integer"},"size":{"description":"操作大小,取值范围为0到300的整数,默认为1。当scaling_resource_type为SCALING_GROUP时,size为实例个数,取值范围为0-300的整数,默认为1。当scaling_resource_type为BANDWIDTH时,size表示带宽大小,单位为Mbit/s,取值范围为1到300的整数,默认为1。当scaling_resource_type为SCALING_GROUP时,size和percentage参数只能选其中一个进行配置。","example":1,"maximum":300,"minimum":0,"type":"integer"}}},"ScalingPolicyV2MetaData":{"description":"附件信息","properties":{"metadata_bandwidth_share_type":{"description":"伸缩带宽策略中带宽对应的共享类型","type":"string"},"metadata_eip_address":{"description":"伸缩带宽策略中带宽对应的EIP地址","type":"string"},"metadata_eip_id":{"description":"伸缩带宽策略中带宽对应的EIP的ID","type":"string"}}},"ScheduledPolicy":{"description":"定时、周期任务策略","properties":{"end_time":{"description":"周期策略重复执行结束时间,遵循UTC时间,scaling_policy_type为RECURRENCE时该项必选。当为周期类型策略时,不得早于当前时间和开始时间。格式为:YYYY-MM-DDThh:mmZ","type":"string"},"launch_time":{"description":"触发时间,遵循UTC时间。如果scaling_policy_type为SCHEDULED,则格式为:YYYY-MM-DDThh:mmZ。如果scaling_policy_type为RECURRENCE,则格式为:hh:mm。","type":"string"},"recurrence_type":{"description":"周期触发类型,scaling_policy_type为RECURRENCE时该项必选。Daily:每天执行一次。Weekly:每周指定天执行一次。Monthly:每月指定天执行一次。","enum":["Daily","Weekly","Monthly"],"type":"string"},"recurrence_value":{"description":"周期触发任务数值,scaling_policy_type为RECURRENCE时该项必选。类型为Daily时,该字段为null,表示每天执行类型为Weekly时,该字段取值范围为1-7,1表示星期日,以此类推,以”,”分割,例如:1,3,5。类型为Monthly时,该字段取值范围为1-31,分别表示每月的日期,以“,”分割,例如:1,10,13,28。说明:- 当recurrence_type类型为Daily时,recurrence_value参数不生效。","maxLength":64,"minLength":1,"type":"string"},"start_time":{"description":"周期策略重复执行开始时间,遵循UTC时间。默认为当前时间,格式为:YYYY-MM-DDThh:mZ","type":"string"}},"required":["launch_time"]}},"description":null,"group_id":"c14e7adea4354f78bb333ea8451df077","host":"as.cn-north-4.myhuaweicloud.com","id":"8ab2cce326804a2c9c5f198f62ddaa8b","info_version":"v1","method":"get","name":"ListAllScalingV2Policies","parameters":{},"paths":{"/autoscaling-api/v2/{project_id}/scaling_policy":{"get":{"description":"根据输入条件过滤查询弹性伸缩策略,支持查询当前租户下全量伸缩策略。查询结果分页显示。可根据伸缩资源ID,伸缩资源类型,伸缩策略名称,伸缩策略ID,告警ID,企业项目ID,起始行号,记录数,排序方式等条件进行过滤查询。若不加过滤添加默认查询该租户下最多20条伸缩策略信息。","operationId":"ListAllScalingV2Policies","parameters":[{"description":"租户标识。","in":"path","name":"project_id","required":true,"type":"string","x-example":"0513757xxxxxd5eb2f08xxxb93ef4f0f","x-order":1},{"description":"Token认证。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX...","x-order":2},{"description":"伸缩组ID。","in":"query","name":"scaling_resource_id","pattern":"[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}","required":false,"type":"string","x-example":"66e0f775-c4ac-xxxx-xxxx-f93ba217aa5f","x-order":3},{"description":"伸缩资源类型:伸缩组:SCALING_GROUP;带宽:BANDWIDTH","enum":["SCALING_GROUP","BANDWIDTH"],"in":"query","name":"scaling_resource_type","required":false,"type":"string","x-example":"SCALING_GROUP","x-order":4},{"description":"伸缩策略名称。","in":"query","maxLength":64,"minLength":1,"name":"scaling_policy_name","required":false,"type":"string","x-example":"test","x-order":5},{"description":"策略类型。  告警策略:ALARM ,定时策略:SCHEDULED, 周期策略:RECURRENCE","enum":["ALARM","SCHEDULED","RECURRENCE"],"in":"query","name":"scaling_policy_type","required":false,"type":"string","x-example":"ALARM","x-order":6},{"description":"伸缩策略ID。","in":"query","name":"scaling_policy_id","pattern":"[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}","required":false,"type":"string","x-example":"66e0f775-c4ac-xxxx-xxxx-f93ba217aa5f","x-order":7},{"description":"查询的起始行号,默认为0。","format":"int32","in":"query","name":"start_number","required":false,"type":"integer","x-example":0,"x-order":8},{"description":"查询记录数,默认20,最大100。","format":"int32","in":"query","name":"limit","required":false,"type":"integer","x-example":5,"x-order":9},{"description":"排序方法POLICY_NAME:根据策略名称排序;TRIGGER_CONDITION:根据触发条件排序,如升序下,告警策略最先,其余根据最近一次触发时间升序排列;CREATE_TIME:根据策略的创建时间排序。","enum":["POLICY_NAME","TRIGGER_CONDITION","CREATE_TIME"],"in":"query","name":"sort_by","required":false,"type":"string","x-example":"POLICY_NAME","x-order":10},{"description":"排序顺序ASC:升序;DESC:降序","enum":["ASC","DESC"],"in":"query","name":"order","required":false,"type":"string","x-example":"ASC","x-order":11},{"description":"企业项目ID。当scaling_resource_type指定为:SCALING_GROUP传入all_granted_eps时:华为云帐号和拥有全局权限的IAM用户可以查询该用户所有的伸缩组对应的伸缩策略。授予部分企业项目的IAM用户,可以查询该用户所有授权企业项目下的伸缩组对应的伸缩策略。说明:如果授予部分企业项目的IAM用户拥有超过100个企业项目,则只能返回有权限的前100个企业项目对应伸缩组的伸缩策略列表。当scaling_resource_type指定为:BANDWIDTH传入all_granted_eps时:华为云帐号和拥有全局权限的IAM用户可以查询该用户所有带宽对应的伸缩策略。授予部分企业项目的IAM用户,可以查询该用户所有授权企业项目下的带宽对应的伸缩策略,带宽在all_granted_eps场景下返回策略请参见[《EIP接口参口》查询带宽列表](https://support.huaweicloud.com/api-eip/eip_apiBandwidth_0002.html)。不指定scaling_resource_type当传入all_granted_eps时:华为云帐号和拥有全局权限的IAM用户可以查询该用户所有的伸缩组和带宽对应的伸缩策略。授予部分企业项目的IAM用户,可以查询该用户所有授权企业项目下的伸缩组和带宽对应的伸缩策略。说明:如果授予部分企业项目的IAM用户拥有超过100个企业项目,则只能返回有权限的前100个企业项目对应伸缩组的伸缩策略列表;带宽在all_granted_eps场景下返回策略请参见[《EIP接口参口》查询带宽列表](https://support.huaweicloud.com/api-eip/eip_apiBandwidth_0002.html)。","in":"query","name":"enterprise_project_id","required":false,"type":"string","x-example":"66e0f775-c4ac-xxxx-xxxx-f93ba217aa5f","x-order":12},{"description":"告警ID,即告警规则的ID。","in":"query","name":"alarm_id","required":false,"type":"string"}],"responses":{"200":{"description":"请求正常。","examples":{"application/json":{"limit":20,"scaling_policies":[{"cool_down_time":900,"create_time":"2017-08-31T03:02:41Z","policy_status":"INSERVICE","scaling_policy_action":{"operation":"ADD","size":1},"scaling_policy_id":"803a35a5-38fb-4d27-a042-496c14bc1fb8","scaling_policy_name":"as-policy-7a75","scaling_policy_type":"RECURRENCE","scaling_resource_id":"8ade64b5-d685-40b8-8582-4ce306ea37a6","scaling_resource_type":"SCALING_GROUP","scheduled_policy":{"end_time":"2017-09-01T03:08Z","launch_time":"03:30","recurrence_type":"Daily","start_time":"2017-08-28T03:08Z"}}],"start_number":0,"total_number":1}},"schema":{"$ref":"#/definitions/AllScalingPolicies"}},"400":{"description":"Bad Request 服务器未能处理请求。"},"401":{"description":"Unauthorized 被请求的页面需要用户名和密码。"},"403":{"description":"Forbidden 对被请求的页面访问禁止。"},"404":{"description":"Not Found 服务器无法找到被请求的页面。"},"405":{"description":"Method Not Allowed 请求中指定的方法不被允许。"},"406":{"description":"Not Acceptable 服务器生成的响应无法被客户端所接受。"},"407":{"description":"Proxy Authentication 用户必须首先使用代理服务器进行验证,这样请求才会被处理"},"408":{"description":"Request Timeout 请求超出了服务器的等待时间。"},"409":{"description":"Conflict 由于冲突,请求无法被完成。"},"500":{"description":"Internal Server Error 请求未完成。服务异常。"},"501":{"description":"Not Implemented 请求未完成。服务器不支持所请求的功能。"},"502":{"description":"Bad Gateway 请求未完成。服务器从上游服务器收到一个无效的响应。"},"503":{"description":"Service Unavailable 请求未完成。系统暂时异常。"},"504":{"description":"Gateway Timeout 网关超时。"}},"summary":"查询弹性伸缩策略全量列表(V2版本)","tags":["弹性伸缩策略管理V2"],"x-apiErrorCodes":"","x-apigateway-auth-type":"","x-apigateway-match-mode":"","x-apigateway-request-type":"","x-call_frequency":"","x-constraint":"","x-ctc":"Y","x-first_open_time":"2018-09-30","x-flow_control_group":"as","x-hc":"Y","x-hk":"Y","x-hybridcloud":"true","x-iftype":"公开接口","x-in_cli":"","x-is-registered":"Y","x-is_calling":"Y","x-multi_tenant_flow_time":"1","x-multi_tenant_flow_value":"520","x-name":"查询弹性伸缩策略全量列表(V2版本)","x-obc":"Y","x-order":7,"x-otc":"Y","x-request-examples-description-1":"本示例展示了查询伸缩资源ID为8ade64b5-d685-40b8-8582-4ce306ea37a6且策略类型为周期策略的所有伸缩策略。","x-request-examples-url-1":"GET https://{Endpoint}/autoscaling-api/v2/{project_id}/scaling_policy?scaling_resource_id=8ade64b5-d685-40b8-8582-4ce306ea37a6&scaling_policy_type=RECURRENCE","x-scope":"Commercial","x-source":"SelfDeveloped","x-source_url":"","x-support-sdk":"Y","x-tenant_flow_time":"1","x-tenant_flow_value":"52","x-timeout":"10s","x-tlf":"Y","x-un_cli":"","x-version":"v1"}}},"product_short":"AS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询弹性伸缩策略全量列表(V2版本)","tags":"弹性伸缩策略管理V2","uri":null,"version":"2.0"}