{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ErrorResponse":{"example":{"error_code":"DEVCP.00000001","error_msg":"The format of message is error"},"properties":{"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误信息","type":"string"}},"type":"object"},"PipelineParameter":{"example":{"name":"serviceName","value":"pipeline-20200424154438"},"properties":{"name":{"description":"参数名称","type":"string"},"value":{"description":"参数值","type":"string"}},"required":["name","value"]},"PipelineStateStatus":{"example":{"children":[],"elapsed_time":"0","end_time":"2020-06-09 15:18:04","error_code":null,"error_msg":null,"id":"initial","name":"源代码","outcome":"success","start_time":"2020-06-09 15:18:04","status":"completed","type":"stage"},"properties":{"children":{"description":"子任务运行信息(对任务来说是空的)","items":{"$ref":"#/definitions/PipelineStateStatus"},"type":"array"},"detail_url":{"description":"任务运行记录跳转链接","type":"string"},"elapsed_time":{"description":"运行耗时","type":"string"},"end_time":{"description":"执行结束时间","type":"string"},"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误信息","type":"string"},"id":{"description":"阶段或任务标识","type":"string"},"name":{"description":"阶段或任务名称","type":"string"},"outcome":{"description":"运行结果","type":"string"},"start_time":{"description":"执行开始时间","type":"string"},"status":{"description":"运行状态","type":"string"},"type":{"description":"类别(阶段/任务)","type":"string"}},"required":["id","name","type","start_time","end_time","elapsed_time","status","outcome","error_code","error_msg","children","detail_url"]},"PipelineStatusDetail":{"description":"根据流水线ID和执行ID获取流水线运行状态信息","example":{"build_id":"22","detail_url":"https://alpha.devcloud.inhuawei.com/pipeline/detail/36ec78d912d6428bbe4a3a8ed357d176","elapsed_time":"14","end_time":"2020-06-11 11:54:23\"","executor":"devcloud_devcloud_h00485561_01","outcome":"error","parameters":[{"$ref":"#/definitions/PipelineParameter/example"}],"pipeline_id":"36ec78d912d6428bbe4a3a8ed357d176","pipeline_name":"pipeline-202004241544382","start_time":"2020-06-11 11:54:08","states":[{"$ref":"#/definitions/PipelineStateStatus/example"}],"status":"waiting"},"properties":{"build_id":{"description":"流水线执行ID","type":"string"},"detail_url":{"description":"流水线详情页地址","type":"string"},"elapsed_time":{"description":"执行耗时","type":"string"},"end_time":{"description":"结束执行时间","type":"string"},"executor":{"description":"执行人","type":"string"},"outcome":{"description":"流水线执行结果","type":"string"},"parameters":{"description":"流水线参数","items":{"$ref":"#/definitions/PipelineParameter"},"type":"array"},"pipeline_id":{"description":"流水线ID","type":"string"},"pipeline_name":{"description":"流水线名称","type":"string"},"start_time":{"description":"开始执行时间","type":"string"},"states":{"description":"流水线执行情况","items":{"$ref":"#/definitions/PipelineStateStatus"},"type":"array"},"status":{"description":"流水线运行状态","type":"string"}},"required":["pipeline_id","pipeline_name","executor","build_id","start_time","end_time","elapsed_time","status","outcome","detail_url","parameters","states"]}},"description":null,"group_id":"c3a482c4cf99488098f21e88b06458be","host":"cloudpipeline-ext.cn-north-4.myhuaweicloud.com","id":"62820dc032f945fca95b1c10520deaab","info_version":"v2","method":"get","name":"ShowPipleineStatus","parameters":{},"paths":{"/v3/pipelines/{pipeline_id}/status":{"get":{"consumes":["application/json"],"deprecated":false,"description":"获取流水线状态,阶段及任务信息","operationId":"ShowPipleineStatus","parameters":[{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"要获取状态的流水线ID","in":"path","maxLength":32,"minLength":32,"name":"pipeline_id","required":true,"type":"string","x-example":"8025ba36a87a4dd5af496708c2961817"},{"description":"要获取状态的执行ID","in":"query","maxLength":10,"minLength":1,"name":"build_id","required":false,"type":"string","x-example":"2"}],"produces":["application/json;charset=UTF-8"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PipelineStatusDetail"}},"400":{"description":"Bad request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"apig-auth-iam":[]}],"summary":"获取流水线状态","tags":["流水线管理"],"x-apigateway-backend":{"httpEndpoints":{"address":"10.63.38.190:40115","description":"","method":"GET","path":"/CloudPipelineServer/v3/pipelines/{pipeline_id}/status","scheme":"https","timeout":30000},"parameters":[{"description":"流水线ID","in":"PATH","name":"pipeline_id","origin":"REQUEST","type":"string"},{"description":"流水线执行ID","in":"QUERY","name":"build_id","origin":"REQUEST","type":"string"}],"type":"HTTP"},"x-apigateway-cors":false,"x-apigateway-match-mode":"NORMAL","x-apigateway-request-type":"public","x-is-registered":"Y","x-name":"查看流水线状态","x-request-examples-url-1":"GET https://{endpoint}/v3/pipelines/8025ba36a87a4dd5af496708c2961817/status?build_id=2","x-support-sdk":"Y"}}},"product_short":"CloudPipeline","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-app":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-iam-none":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM_NONE"}},"summary":"获取流水线状态","tags":"流水线管理","uri":null,"version":"2.0"}