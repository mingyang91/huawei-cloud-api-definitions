{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"WebImageContactInfo":{"description":"","properties":{"city":{"description":"传入contact_info时的返回,市。","type":"string"},"detail_address":{"description":"传入contact_info时的返回,详细地址(不含省市区)。","type":"string"},"district":{"description":"传入contact_info时的返回,县区。","type":"string"},"name":{"description":"传入contact_info时的返回,为姓名。","type":"string"},"phone":{"description":"传入contact_info时的返回,联系电话。","type":"string"},"province":{"description":"传入contact_info时的返回,省。","type":"string"}}},"WebImageErrorResponseBody":{"description":"","properties":{"error_code":{"description":"调用失败时的错误码,具体请参见错误码。\n调用成功时无此字段。","type":"string"},"error_msg":{"description":"调用失败时的错误信息。\n调用成功时无此字段。","type":"string"}},"required":["error_code","error_msg"]},"WebImageExtractedData":{"description":"","properties":{"contact_info":{"$ref":"#/definitions/WebImageContactInfo","description":"该字段表示提取的联系人信息,包括:姓名、联系电话、省市区以及详细地址。\n若入参extract_type列表中无该字段,则此字段不存在。","type":"object"},"image_size":{"$ref":"#/definitions/WebImageImageSize","description":"该字段表示返回图片宽高信息。\n如入参extract_type列表中无该字段,则此字段不存在。","type":"object"}}},"WebImageImageSize":{"description":"","properties":{"height":{"description":"传入image_size时的返回,为图像高度。","format":"int32","type":"integer"},"width":{"description":"传入image_size时的返回,为图像宽度。","format":"int32","type":"integer"}}},"WebImageRequestBody":{"description":"","properties":{"detect_direction":{"description":"图片朝向检测开关,可选值包括:\n- true:检测图片朝向;\n- false:不检测图片朝向。\n\n> 说明:\n- 支持任意角度的图片朝向检测。未传入该参数时默认为false,即不检测图片朝向。","type":"boolean"},"detect_font":{"description":"为Boolean类型,若不传该字段,默认不检测切片字体,为True时,将检测切片的字体类型,并返回最相似的5种字体名称。","type":"boolean"},"detect_text_direction":{"description":"为Boolean类型,若不传该字段,默认为True,即检测每个字段的文字方向。为False时,则不检测文字方向。若图片中所有文字方向均是水平朝上时,建议将该值设为False,即不检测文字方向。","type":"boolean"},"extract_type":{"description":"结构化数据提取参数列表,目前只支持联系人信息、图像宽高,其入参值分别为\"contact_info\",\"image_size\",若该字段为空列表或缺失该字段,默认不提取。","items":{"type":"string"},"type":"array"},"image":{"description":"与url二选一\n\n图像数据,base64编码,要求base64编码后大小不超过10MB。图片最小边不小于15px,最长边不超过30000px,支持JPEG、JPG、PNG、BMP、TIFF、GIF、WEBP格式。\n\n图片文件Base64编码字符串,点击[这里](https://support.huaweicloud.com/ocr_faq/ocr_01_0032.html)查看详细获取方式。","type":"string"},"url":{"description":"与image二选一\n\n要求图片Base64编码后大小不超过10MB。\n图片最小边不小于15px,最长边不超过30000px,支持JPEG、JPG、PNG、BMP、TIFF、GIF、WEBP格式。\n图片的URL路径,目前支持:\n- 公网http/https url\n- OBS提供的url,使用OBS数据需要进行授权。包括对服务授权、临时授权、匿名公开授权,详情参见[配置OBS访问权限](https://support.huaweicloud.com/api-ocr/ocr_03_0132.html)。 \n> 说明:\n- 接口响应时间依赖于图片的下载时间,如果图片下载时间过长,会返回接口调用失败。\n- 请保证被检测图片所在的存储服务稳定可靠,推荐使用OBS服务存储图片数据。\n- url中不能存在中文字符,若存在,中文需要进行utf8编码。","type":"string"}}},"WebImageResponseBody":{"description":"","properties":{"result":{"$ref":"#/definitions/WebImageResult","description":"调用成功时表示调用结果。\n\n调用失败时无此字段。"}},"required":["result"]},"WebImageResult":{"description":"","properties":{"extracted_data":{"$ref":"#/definitions/WebImageExtractedData","description":"提取出的结构化JSON结果,该字典内的key值与入参列表extract_type的值一致,目前仅支持联系人信息提取,亦即key值为\"contact_info\"的字段。\n若入参extract_type为空列表或该字段缺失时,不进行提取,此字段为空。","type":"object"},"words_block_count":{"description":"代表检测识别出来的文字块数目。","format":"int32","type":"integer"},"words_block_list":{"description":"识别文字块列表,输出顺序从左到右,从上到下。","items":{"$ref":"#/definitions/WebImageWordsBlockList"},"type":"array"}},"required":["words_block_count","words_block_list","extracted_data"]},"WebImageWordsBlockList":{"description":"","properties":{"confidence":{"description":"相关字段的置信度信息,置信度越大,表示本次识别的对应字段的可靠性越高,在统计意义上,置信度越大,准确率越高。\n置信度由算法给出,不直接等价于对应字段的准确率。","format":"float","type":"number"},"font_list":{"description":"文字块所属字体类型,列表形式,表示与文字块的文字最接近的字体类型。","items":{"type":"string"},"type":"array"},"font_scores":{"description":"文字块所属字体类型的概率,列表形式,与font_list一一对应,表示文字块的文字属于某种字体类型的概率。","items":{"format":"float","type":"number"},"type":"array"},"location":{"description":"文字块的区域位置信息,列表形式,包含文字区域四个顶点的二维坐标(x,y);坐标原点为图片左上角,x轴沿水平方向,y轴沿竖直方向。","items":{"items":{"description":"文字块的区域位置信息。","format":"int32","type":"integer"},"type":"array"},"type":"array"},"words":{"description":"文字块识别结果。","type":"string"}}}},"description":null,"group_id":"1c08976078264963b5b1b4d4fcddc6cb","host":"ocr.cn-north-4.myhuaweicloud.com","id":"17bff33050574befbc93e97005d80b36","info_version":"v1","method":"post","name":"RecognizeWebImage","parameters":{},"paths":{"/v2/{project_id}/ocr/web-image":{"post":{"consumes":[],"deprecated":false,"description":"识别网络图片中的文字内容,并返回识别的结构化结果。该接口的使用限制请参见[约束与限制](https://support.huaweicloud.com/productdesc-ocr/ocr_01_0006.html#section2),详细使用指导请参见[OCR服务使用简介](https://support.huaweicloud.com/qs-ocr/ocr_05_0001.html)章节。","operationId":"RecognizeWebImage","parameters":[{"description":"用户Token。\n用于获取操作API的权限。[获取Token接口](https://support.huaweicloud.com/api-ocr/ocr_03_0005.html)响应消息头中X-Subject-Token的值即为Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIINRwYJKoZIhvcNAQcCoIINODCCDTQCAQExDTALBglghkgBZQMEAgEwgguVBgkqhkiG...","x-order":1},{"description":"项目ID,您可以从[获取项目ID](https://support.huaweicloud.com/api-ocr/ocr_03_0130.html)中获取。","in":"path","name":"project_id","required":true,"type":"string","x-order":2},{"description":"企业项目ID。OCR支持通过企业项目管理(EPS)对不同用户组和用户的资源使用,进行分账。\n获取方法:进入“[企业项目管理](https://console.huaweicloud.com/eps/?region=cn-north-4#/projects/list)”页面,单击企业项目名称,在企业项目详情页获取Enterprise-Project-Id(企业项目ID)。\n企业项目创建步骤请参见用户指南。\n> 说明:\n创建企业项目后,在传参时,有以下三类场景。\n- 携带正确的ID,正常使用OCR服务,账单的企业项目会被分类到企业ID对应的企业项目中。\n- 携带格式正确但不存在的ID,正常使用OCR服务,账单的企业项目会显示对应不存在的企业项目ID。\n- 不携带ID或格式错误ID(包含特殊字符等),正常使用OCR服务,账单的企业项目会被分类到\"default\"中。","in":"header","name":"Enterprise-Project-Id","required":false,"type":"string","x-order":3},{"description":"This is a Web Image Body Object","in":"body","name":"RecognizeWebImageRequestBody","required":true,"schema":{"$ref":"#/definitions/WebImageRequestBody"}}],"produces":[],"responses":{"200":{"description":"成功响应示例","examples":{"application/json":{"result":{"extracted_data":{"contact_info":{"city":"深圳市","detail_address":"五和大道华为D区","district":"龙岗区","name":"张三","phone":"13112345678","province":"广东省"},"image_size":{"height":480,"width":640}},"words_block_count":2,"words_block_list":[{"confidence":0.9188,"font_list":["黑体","Arial","华文中宋体","微软正黑粗体","文泉驿等宽正黑体"],"font_scores":[0.36,0.2761,0.2117,0.0616,0.0606],"location":[[13,476],[91,332],[125,351],[48,494]],"words":"收件人:张三,联系电话:13112345678,收件地址:广东省深圳市龙岗区五和大道华为D区"},{"confidence":0.8631,"font_list":["方正铭石体","方正黑简体","文泉驿等宽正黑体","腾祥孔淼石头简体","微软正黑粗体"],"font_scores":[0.9999,0.0,0.0,0.0,0.0],"location":[[13,476],[91,332],[125,351],[48,494]],"words":"方正字体"}]}}},"headers":{"X-Request-Id":{"description":"This field is the request ID number for task tracking. Format is request_uuid-timestamp-hostname.","type":"string"}},"schema":{"$ref":"#/definitions/WebImageResponseBody"}},"400":{"description":"失败响应示例","examples":{"application/json":{"error_code":"AIS.0103","error_msg":"The image size does not meet the requirements."}},"schema":{"$ref":"#/definitions/WebImageErrorResponseBody"}}},"summary":"网络图片识别","tags":["网络图片识别"],"x-is-registered":"Y","x-name":"网络图片识别","x-open-region-cloud":"hc,hk","x-order":1,"x-request-examples-1":{"detect_direction":true,"detect_font":true,"extract_type":["contact_info","image_size"],"image":"/9j/4AAQSkZJRgABAgEASABIAAD/4RFZRXhpZgAATU0AKgAAAA..."},"x-request-examples-2":{"detect_direction":true,"detect_font":true,"extract_type":["contact_info","image_size"],"url":"https://BucketName.obs.myhuaweicloud.com/ObjectName"},"x-request-examples-description-1":"传入网络图片的base64编码进行文字识别,识别过程校验图片倾斜角度,判断待识别字体类型,并校验图片是否包含联系人信息","x-request-examples-description-2":"传入网络图片的url进行文字识别,识别过程校验图片倾斜角度,判断待识别字体类型,并校验图片是否包含联系人信息","x-request-examples-url-1":"POST https://{endpoint}/v2/{project_id}/ocr/web-image","x-request-examples-url-2":"POST https://{endpoint}/v2/{project_id}/ocr/web-image","x-support-sdk":"Y"}}},"product_short":"OCR","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"网络图片识别","tags":"网络图片识别","uri":null,"version":"2.0"}