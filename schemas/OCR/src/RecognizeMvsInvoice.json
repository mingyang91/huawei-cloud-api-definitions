{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"MvsInvoiceErrorResponseBody":{"description":"","properties":{"error_code":{"description":"调用失败时的错误码,具体请参见错误码。\n调用成功时无此字段。","type":"string"},"error_msg":{"description":"调用失败时的错误信息。\n调用成功时无此字段。","type":"string"}},"required":["error_code","error_msg"]},"MvsInvoiceRequestBody":{"description":"","properties":{"image":{"description":"与url二选一\n\n图像数据,base64编码,要求base64编码后大小不超过10MB。图片最小边不小于100px,最长边不超过8000px。支持JPEG、JPG、PNG、BMP、TIFF格式。\n\n图片文件Base64编码字符串,点击[这里](https://support.huaweicloud.com/ocr_faq/ocr_01_0032.html)查看详细获取方式。","type":"string"},"return_confidence":{"description":"如果为True,返回体中会包含confidence对象,内容是各字段的置信度。如果是False或者没有这个key,则返回体中不包含confidence对象。","type":"boolean"},"return_text_location":{"description":"如果为True,返回体中会包含text_location对象,内容是各字段的检测框四点坐标。如果是False或者没有这个key,则返回体中不包含text_location对象。","type":"boolean"},"type":{"description":"如果没有type字段则默认返回原机动车销售发票出参;\n若存在type字段但是不属于 auto、new或者used三个枚举值,API返回AIS.0101入参错误;\n如果type为auto,API自动判断发票类型,并在返回参数中添加type出参以指明发票类型;\n如果type为new,API在检测出的类型为机动车发票时返回原版机动车发票出参并添加type出参(机动车销售统一发票),不一致时报错AIS.0104图像质量差;\n如果type为used,API在检测出的类型为二手车时返回二手车发票出参,并添加type出参(二手车销售统一发票),不一致时报错AIS.0104图像质量差。","type":"string"},"url":{"description":"与image二选一\n图片的URL路径,目前支持:\n- 公网http/https url\n- OBS提供的url,使用OBS数据需要进行授权。包括对服务授权、临时授权、匿名公开授权,详情参见[配置OBS访问权限](https://support.huaweicloud.com/api-ocr/ocr_03_0132.html)。\n> 说明:\n- 接口响应时间依赖于图片的下载时间,如果图片下载时间过长,会返回接口调用失败。\n- 请保证被检测图片所在的存储服务稳定可靠,推荐使用OBS服务存储图片数据。\n- url中不能存在中文字符,若存在,中文需要进行utf8编码。","type":"string"}}},"MvsInvoiceResponseBody":{"description":"","properties":{"result":{"$ref":"#/definitions/MvsInvoiceResult","description":"调用成功时表示调用结果。\n\n调用失败时无此字段。"}},"required":["result"]},"MvsInvoiceResult":{"properties":{"auction_org_address":{"description":"二手车经营拍卖单位地址。\n当请求参数\"type\"设置为\"auto\"或\"used\"时才返回。","type":"string"},"auction_org_bank_account":{"description":"二手车经营拍卖单位银行和账号。\n当请求参数\"type\"设置为\"auto\"或\"used\"时才返回。","type":"string"},"auction_org_id":{"description":"二手车经营拍卖单位纳税人识别号。\n当请求参数\"type\"设置为\"auto\"或\"used\"时才返回。","type":"string"},"auction_org_name":{"description":"二手车经营拍卖单位名称。\n当请求参数\"type\"设置为\"auto\"或\"used\"时才返回。","type":"string"},"auction_org_phone":{"description":"二手车经营拍卖单位电话。\n当请求参数\"type\"设置为\"auto\"或\"used\"时才返回。","type":"string"},"brand_model":{"description":"厂牌型号。","type":"string"},"buyer_address":{"description":"二手车买方单位/个人住址。\n当请求参数\"type\"设置为\"auto\"或\"used\"时才返回。","type":"string"},"buyer_id":{"description":"购买方纳税人识别号、二手车买方单位代码/身份证号","type":"string"},"buyer_name":{"description":"购买方名称、二手车买方单位/个人","type":"string"},"buyer_organization_number":{"description":"购买方身份证号码/组织机构代码。","type":"string"},"buyer_phone":{"description":"二手车买方单位/个人电话。\n当请求参数\"type\"设置为\"auto\"或\"used\"时才返回。","type":"string"},"code":{"description":"发票代码。","type":"string"},"confidence":{"description":"字段文字内容置信度,内容为字段-字符置信度对,如code:0.9999。这个数值为字段中每个字符置信度,格式为fp32,保留四位。若字段不存在则返回0.0。","properties":{},"type":"object"},"dept_motor_vehicles":{"description":"二手车转入地车管所名称。\n当请求参数\"type\"设置为\"auto\"或\"used\"时才返回。","type":"string"},"drawer_name":{"description":"开票人","type":"string"},"engine_number":{"description":"发动机号码。","type":"string"},"fiscal_code":{"description":"税控码。","type":"string"},"import_certificate":{"description":"进口证明书号。","type":"string"},"inspection_number":{"description":"商检单号。","type":"string"},"issue_date":{"description":"开票日期。","type":"string"},"licence_plate_number":{"description":"二手车车牌照号。\n当请求参数\"type\"设置为\"auto\"或\"used\"时才返回。","type":"string"},"machine_number":{"description":"机器编号。","type":"string"},"machine_printed_code":{"description":"机打代码。","type":"string"},"machine_printed_number":{"description":"机打号码。","type":"string"},"manufacturing_location":{"description":"产地。","type":"string"},"number":{"description":"发票号码。","type":"string"},"quality_certificate":{"description":"合格证号。","type":"string"},"registration_number":{"description":"二手车登记证号。\n当请求参数\"type\"设置为\"auto\"或\"used\"时才返回。","type":"string"},"remark":{"description":"备注","type":"string"},"reverse_issue":{"description":"二手车反向开具标识,True表示是反向开具发票,False表示不是反向开具发票。\n当请求参数\"type\"设置为\"auto\"或\"used\"时才返回。","type":"boolean"},"seating_capacity":{"description":"限乘人数。","type":"string"},"seller_account":{"description":"销售方账号。","type":"string"},"seller_address":{"description":"销售方地址、二手车卖方单位/个人地址","type":"string"},"seller_bank":{"description":"销售方开户行。","type":"string"},"seller_id":{"description":"销售方纳税人识别号、二手车卖方单位代码/身份证号","type":"string"},"seller_name":{"description":"销货单位名称、二手车卖方单位/个人","type":"string"},"seller_phone":{"description":"销售方电话、二手车卖方电话","type":"string"},"tax":{"description":"增值税税额。","type":"string"},"tax_authority":{"description":"主管税务机关。","type":"string"},"tax_authority_code":{"description":"主管税务机关代码。","type":"string"},"tax_exclusive_price":{"description":"不含税价。","type":"string"},"tax_payment_receipt":{"description":"完税凭证号码。","type":"string"},"tax_rate":{"description":"增值税税率或征收率。","type":"string"},"text_location":{"description":"检测框对象,内部为字段-框坐标对。如 code:[[x0, y0],[x1,y1],[x2,y2],[x3,y3]], 点的顺序是左上角、右上角、右下角、左下角。如果原图找不到字段,返回空列表。","properties":{},"type":"object"},"tonnage":{"description":"吨位。","type":"string"},"total":{"description":"价税合计、二手车车价合计(小写)","type":"string"},"total_chinese":{"description":"价税合计大写、二手车车价合计(大写)","type":"string"},"type":{"description":"枚举值,机动车销售统一发票或者二手车销售统一发票。\n当入参中包含type时返回。","type":"string"},"used_vehicle_market_address":{"description":"二手车市场地址。\n当请求参数\"type\"设置为\"auto\"或\"used\"时才返回。","type":"string"},"used_vehicle_market_bank_account":{"description":"二手车市场银行和账号。\n当请求参数\"type\"设置为\"auto\"或\"used\"时才返回。","type":"string"},"used_vehicle_market_id":{"description":"二手车市场纳税人识别号。\n当请求参数\"type\"设置为\"auto\"或\"used\"时才返回。","type":"string"},"used_vehicle_market_name":{"description":"二手车市场名称。\n当请求参数\"type\"设置为\"auto\"或\"used\"时才返回。","type":"string"},"used_vehicle_market_phone":{"description":"二手车市场电话。\n当请求参数\"type\"设置为\"auto\"或\"used\"时才返回。","type":"string"},"vehicle_identification_number":{"description":"车辆识别代号/车架号码。","type":"string"},"vehicle_type":{"description":"车辆类型。","type":"string"}}}},"description":null,"group_id":"1c08976078264963b5b1b4d4fcddc6cb","host":"ocr.cn-north-4.myhuaweicloud.com","id":"683c171169c7417cb144a18d00d0b0ff","info_version":"v1","method":"post","name":"RecognizeMvsInvoice","parameters":{},"paths":{"/v2/{project_id}/ocr/mvs-invoice":{"post":{"consumes":[],"deprecated":false,"description":"识别机动车销售发票、二手车销售发票图片(服务能自动分辨两种类型,返回对应的字段)中的文字内容,并将识别的结果以JSON格式返回给用户。该接口的使用限制请参见[约束与限制](https://support.huaweicloud.com/productdesc-ocr/ocr_01_0006.html#section17),详细使用指导请参见[OCR服务使用简介](https://support.huaweicloud.com/qs-ocr/ocr_05_0001.html)章节。\n说明:\n该增值税发票仅限于中华人民共和国境内使用的增值税发票。\n如果图片中包含多张卡证票据,请调用[智能分类识别](https://apiexplorer.developer.huaweicloud.com/apiexplorer/doc?product=OCR&api=AutoClassification)服务。","operationId":"RecognizeMvsInvoice","parameters":[{"description":"用户Token。\n用于获取操作API的权限。[获取Token接口](https://support.huaweicloud.com/api-ocr/ocr_03_0005.html)响应消息头中X-Subject-Token的值即为Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIINRwYJKoZIhvcNAQcCoIINODCCDTQCAQExDTALBglghkgBZQMEAgEwgguVBgkqhkiG...","x-order":1},{"description":"项目ID,您可以从[获取项目ID](https://support.huaweicloud.com/api-ocr/ocr_03_0130.html)中获取。","in":"path","name":"project_id","required":true,"type":"string","x-order":2},{"description":"企业项目ID。OCR支持通过企业项目管理(EPS)对不同用户组和用户的资源使用,进行分账。\n获取方法:进入“[企业项目管理](https://console.huaweicloud.com/eps/?region=cn-north-4#/projects/list)”页面,单击企业项目名称,在企业项目详情页获取Enterprise-Project-Id(企业项目ID)。\n企业项目创建步骤请参见用户指南。\n> 说明:\n创建企业项目后,在传参时,有以下三类场景。\n- 携带正确的ID,正常使用OCR服务,账单归到企业ID对应的企业项目中。\n- 携带错误的ID,正常使用OCR服务,账单的企业项目会被分类为“未归集”。\n- 不携带ID,正常使用OCR服务,账单的企业项目会被分类为“未归集”。","in":"header","name":"Enterprise-Project-Id","required":false,"type":"string","x-order":3},{"description":"This is a MvsInvoice Body Object","in":"body","name":"RecognizeMvsInvoiceRequestBody","required":true,"schema":{"$ref":"#/definitions/MvsInvoiceRequestBody"}}],"produces":[],"responses":{"200":{"description":"成功响应示例","examples":{"application/json":{"result":{"brand_model":"东风日产牌/XXX","buyer_id":"XXX","buyer_name":"深圳市宝安区XXX","buyer_organization_number":"XXX","code":"144031624150","engine_number":"XXX","fiscal_code":"","import_certificate":"","inspection_number":"","issue_date":"2017-07-19","machine_number":"49991450XXXX","machine_printed_code":"144031624150","machine_printed_number":"00446874","manufacturing_location":"大连市","number":"00446874","quality_certificate":"XXX","seating_capacity":"5","seller_account":"XXX","seller_address":"深圳市宝安区松岗街道办XXX","seller_bank":"建设银行深圳XX支行","seller_id":"XXX","seller_name":"深圳市XXX服务有限公司","seller_phone":"0755-XXX","tax":"¥21475.21","tax_authority":"深圳市宝安区国家税务局XXX税务分局","tax_authority_code":"144030614","tax_exclusive_price":"¥126324.79","tax_payment_receipt":"","tax_rate":"17%","tonnage":"","total":"¥147800.00","total_chinese":"壹拾肆万柒仟捌佰圆整","vehicle_identification_number":"XXX","vehicle_type":"多用途乘用车"}},"application/json-1":{"result":{"auction_org_address":"广东省佛山市","auction_org_bank_account":"10468888888830","auction_org_id":"AB37836SDWGDUOHDOEHD3","auction_org_name":"某拍卖行","auction_org_phone":"13988888888","brand_model":"吉利莫车型","buyer_address":"佛山市","buyer_id":"AB37836SDWGDUOHDOEHD3","buyer_name":"汽车贸易有限公司","buyer_phone":"13988888888","code":"044008888817","dept_motor_vehicles":"广东省佛山市车管所","drawer_name":"张三","fiscal_code":"017807816386738245","issue_date":"1987-12-27","licence_plate_number":"粤A88888","machine_number":"4888888182","machine_printed_code":"10468888888830","machine_printed_number":"00888858","number":"003753534","registration_number":"1234EHWEGG8888830","remark":"免税开具","reverse_issue":false,"seller_address":"广东省佛山市","seller_id":"AB37836SDWGDUOHDOEHD3","seller_name":"李四","seller_phone":"13988888888","total":"¥20000.00","total_chinese":"贰万圆整","type":"二手车销售统一发票","used_vehicle_market_address":"佛山市","used_vehicle_market_bank_account":"中国农业银行","used_vehicle_market_id":"91DEDD3782733DJ6R","used_vehicle_market_name":"动车交易有限公司","used_vehicle_market_phone":"07588888888","vehicle_identification_number":"L6T7804826379E3GG875","vehicle_type":"小型轿车"}}},"schema":{"$ref":"#/definitions/MvsInvoiceResponseBody"}},"400":{"description":"失败响应样例","examples":{"application/json":{"error_code":"AIS.0103","error_msg":"The image size does not meet the requirements."}},"schema":{"$ref":"#/definitions/MvsInvoiceErrorResponseBody"}}},"summary":"机动车销售发票识别","tags":["机动车销售发票识别"],"x-is-registered":"Y","x-name":"机动车销售发票识别","x-open-region-cloud":"hc","x-order":1,"x-request-examples-1":{"image":"/9j/4AAQSkZJRgABAgEASABIAAD/4RFZRXhpZgAATU0AKgAAAA...","type":"auto"},"x-request-examples-2":{"url":"https://BucketName.obs.myhuaweicloud.com/ObjectName"},"x-request-examples-description-1":"传入机动车销售发票图片的base64编码进行文字识别","x-request-examples-description-2":"传入机动车销售发票图片的url进行文字识别","x-request-examples-url-1":"POST https://{endpoint}/v2/{project_id}/ocr/mvs-invoice","x-request-examples-url-2":"POST https://{endpoint}/v2/{project_id}/ocr/mvs-invoice","x-support-sdk":"Y"}}},"product_short":"OCR","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"机动车销售发票识别","tags":"机动车销售发票识别","uri":null,"version":"2.0"}