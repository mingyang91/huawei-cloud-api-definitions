{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"FlightItineraryErrorResponseBody":{"description":"","properties":{"error_code":{"description":"调用失败时的错误码,具体请参见错误码。\n调用成功时无此字段。","type":"string"},"error_msg":{"description":"调用失败时的错误信息。\n调用成功时无此字段。","type":"string"}},"required":["error_code","error_msg"]},"FlightItineraryRequestBody":{"description":"","properties":{"image":{"description":"与url二选一。\n\n图片的Base64编码,要求单个图片其对应的Base64编码不超过10MB。文件在Base64编码后会大于文件原本大小,请注意做好边界判断,建议文件大小不超过7MB。\n图片最小边不小于15px,最长边不超过8192px,支持JPEG、JPG、PNG、BMP、TIFF格式。\n\n图片文件Base64编码字符串,点击[这里](https://support.huaweicloud.com/ocr_faq/ocr_01_0032.html)查看详细获取方式。","type":"string"},"url":{"description":"与image二选一。\n\n单个图片其对应的Base64编码不超过10MB。文件在Base64编码后会大于文件原本大小,请注意做好边界判断,建议文件大小不超过7MB。\n图片最小边不小于15px,最长边不超过8192px,支持JPEG、JPG、PNG、BMP、TIFF格式。\n图片的URL路径,目前支持:\n- 公网http/https url\n- OBS提供的url,使用OBS数据需要进行授权。包括对服务授权、临时授权、匿名公开授权,详情参见[配置OBS访问权限](https://support.huaweicloud.com/api-ocr/ocr_03_0132.html)。\n> 说明:\n- 接口响应时间依赖于图片的下载时间,如果图片下载时间过长,会返回接口调用失败。\n- 请保证被检测图片所在的存储服务稳定可靠,推荐使用OBS服务存储图片数据。\n- url中不能存在中文字符,若存在,中文需要进行utf8编码。","type":"string"}}},"FlightItineraryResponseBody":{"description":"","properties":{"result":{"$ref":"#/definitions/FlightItineraryResult","description":"调用成功时表示调用结果。\n\n调用失败时无此字段。"}},"required":["result"]},"FlightItineraryResult":{"description":"","properties":{"agent_code":{"description":"销售单位代号。","type":"string"},"buyer_id":{"description":"购买方纳税人识别号","type":"string"},"buyer_name":{"description":"购买方名称","type":"string"},"caac_development_fund":{"description":"民航(CAAC)发展基金。","type":"string"},"check_code":{"description":"验证码。","type":"string"},"confidence":{"description":"相关字段的置信度信息,取值范围0~1。\n\n置信度越大,表示本次识别的对应字段的可靠性越高,在统计意义上,置信度越大,准确率越高。\n置信度由算法给出,不直接等价于对应字段的准确率。\n\n> 说明:\n\n- (1)置信度中的相关字段均与返回值中的相关字段一一对应;\n\n- (2)置信度中的itinerary_list的顺序与返回值中的itinerary_list的顺序是一致的。","properties":{},"type":"object"},"e_ticket_number":{"description":"电子客票号码。","type":"string"},"endorsements_restrictions":{"description":"备注。","type":"string"},"fare":{"description":"票价。","type":"string"},"fuel_surcharge":{"description":"燃油附加费。","type":"string"},"gp_number":{"description":"gp单号。","type":"string"},"id_number":{"description":"有效身份证件号码。","type":"string"},"insurance":{"description":"保险费。","type":"string"},"international_flag":{"description":"国内国际标签","type":"string"},"issue_date":{"description":"填开日期。","type":"string"},"issue_organization":{"description":"填开单位。","type":"string"},"issue_status":{"description":"开具状态","type":"string"},"itinerary_list":{"description":"机票行程列表。","items":{"$ref":"#/definitions/ItineraryList"},"type":"array"},"number":{"description":"发票号码","type":"string"},"order_number":{"description":"订单号。","type":"string"},"other_taxes":{"description":"其他税费。","type":"string"},"passenger_name":{"description":"旅客姓名。","type":"string"},"reference_information":{"description":"提示信息。","type":"string"},"serial_number":{"description":"印刷序号。","type":"string"},"tax":{"description":"增值税税额","type":"string"},"tax_rate":{"description":"增值税税率","type":"string"},"total":{"description":"合计。","type":"string"}}},"ItineraryList":{"description":"机票行程列表。","properties":{"baggage_allowance":{"description":"免费行李。","type":"string"},"cabin_class":{"description":"座位等级。","type":"string"},"carrier":{"description":"承运人。","type":"string"},"date":{"description":"日期。","type":"string"},"departure_station":{"description":"始发站。","type":"string"},"destination_station":{"description":"目的站。","type":"string"},"effective_date":{"description":"客票生效日期。","type":"string"},"expiry_date":{"description":"有效截止日期。","type":"string"},"fare_basis":{"description":"客票类别。","type":"string"},"flight":{"description":"航班号。","type":"string"},"time":{"description":"时间。","type":"string"}}}},"description":null,"group_id":"1c08976078264963b5b1b4d4fcddc6cb","host":"ocr.cn-north-4.myhuaweicloud.com","id":"95fd52adfd3a4efabcec83fd1d185280","info_version":"v1","method":"post","name":"RecognizeFlightItinerary","parameters":{},"paths":{"/v2/{project_id}/ocr/flight-itinerary":{"post":{"consumes":[],"deprecated":false,"description":"识别飞机行程单中的文字信息,并返回识别的结构化结果。该接口的使用限制请参见[约束与限制](https://support.huaweicloud.com/productdesc-ocr/ocr_01_0006.html#section20),详细使用指导请参见[OCR服务使用简介](https://support.huaweicloud.com/qs-ocr/ocr_05_0001.html)章节。\n说明:\n如果图片中包含多张卡证票据,请调用[智能分类识别](https://apiexplorer.developer.huaweicloud.com/apiexplorer/doc?product=OCR&api=AutoClassification)服务。","operationId":"RecognizeFlightItinerary","parameters":[{"description":"用户Token。\n用于获取操作API的权限。[获取Token接口](https://support.huaweicloud.com/api-ocr/ocr_03_0005.html)响应消息头中X-Subject-Token的值即为Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIINRwYJKoZIhvcNAQcCoIINODCCDTQCAQExDTALBglghkgBZQMEAgEwgguVBgkqhkiG...","x-order":1},{"description":"项目ID,您可以从[获取项目ID](https://support.huaweicloud.com/api-ocr/ocr_03_0130.html)中获取。","in":"path","name":"project_id","required":true,"type":"string","x-order":2},{"description":"企业项目ID。OCR支持通过企业项目管理(EPS)对不同用户组和用户的资源使用,进行分账。\n获取方法:进入“[企业项目管理](https://console.huaweicloud.com/eps/?region=cn-north-4#/projects/list)”页面,单击企业项目名称,在企业项目详情页获取Enterprise-Project-Id(企业项目ID)。\n企业项目创建步骤请参见用户指南。\n> 说明:\n创建企业项目后,在传参时,有以下三类场景。\n- 携带正确的ID,正常使用OCR服务,账单的企业项目会被分类到企业ID对应的企业项目中。\n- 携带格式正确但不存在的ID,正常使用OCR服务,账单的企业项目会显示对应不存在的企业项目ID。\n- 不携带ID或格式错误ID(包含特殊字符等),正常使用OCR服务,账单的企业项目会被分类到\"default\"中。","in":"header","name":"Enterprise-Project-Id","required":false,"type":"string","x-order":3},{"description":"This is a flightitinerary Body Object","in":"body","name":"RecognizeFlightItineraryRequestBody","required":false,"schema":{"$ref":"#/definitions/FlightItineraryRequestBody"}}],"produces":[],"responses":{"200":{"description":"成功响应示例","examples":{"application/json":{"result":{"agent_code":"SHA777  08677265","buyer_id":"","buyer_name":"","caac_development_fund":"CN 100.00","check_code":"4122","confidence":{"agent_code":0.9913,"buyer_id":"0,","buyer_name":"0,","caac_development_fund":0.993,"check_code":0.9985,"e_ticket_number":0.9631,"endorsements_restrictions":0.998,"fare":0.9882,"fuel_surcharge":0.9968,"id_number":0.9836,"insurance":0.7749,"international_flag":"0,","issue_date":0.9936,"issue_organization":0.7142,"issue_status":"0,","itinerary_list":[{"baggage_allowance":0.9897,"cabin_class":0.8744,"carrier":0.9677,"date":0.9993,"departure_station":0.9179,"destination_station":0.9577,"effective_date":0,"expiry_date":0,"fare_basis":0.4006,"flight":0.9957,"time":0.9978},{"baggage_allowance":0.5265,"cabin_class":0.4239,"carrier":0.9763,"date":0.76,"departure_station":0.9351,"destination_station":0.9844,"effective_date":0,"expiry_date":0,"fare_basis":0.4353,"flight":0.7453,"time":0.7311}],"number":"0,","other_taxes":0,"passenger_name":0.9851,"reference_information":0.8408,"serial_number":0.9993,"tax":"0,","tax_rate":"0,","total":0.9999},"e_ticket_number":"7318230329982","endorsements_restrictions":"Q/不得签转/退改收费","fare":"CNY 2340.00","fuel_surcharge":"YQ EXEMPT","gp_number":"","id_number":"G35018300","insurance":"XXX","international_flag":"","issue_date":"2017-12-27","issue_organization":"中国东方航空股份有限公司(95530 南州中心","issue_status":"","itinerary_list":[{"baggage_allowance":"广州","cabin_class":"B","carrier":"东航","date":"2017-12-27","departure_station":"T2上海虹桥","destination_station":"广州","effective_date":"","expiry_date":"","fare_basis":"B","flight":"MU5393","time":"13:00"},{"baggage_allowance":"20K","cabin_class":"B","carrier":"T2东航","date":"2017-12-29","departure_station":"上海虹桥","destination_station":"T2东航","effective_date":"","expiry_date":"","fare_basis":"B","flight":"MU5312","time":"16:30"}],"number":"","other_taxes":"","passenger_name":"WANG/FEI","reference_information":"白云机场起飞前45分停办值机","serial_number":"12741641220","tax":"","tax_rate":"","total":"CNY 2440.00"}}},"headers":{"X-Request-Id":{"description":"This field is the request ID number for task tracking. Format is request_uuid-timestamp-hostname.","type":"string"}},"schema":{"$ref":"#/definitions/FlightItineraryResponseBody"}},"400":{"description":"失败响应示例","examples":{"application/json":{"result":{"error_code":"AIS.0103","error_msg":"The image size does not meet the requirements."}}},"schema":{"$ref":"#/definitions/FlightItineraryErrorResponseBody"}}},"summary":"飞机行程单识别","tags":["飞机行程单识别"],"x-is-registered":"Y","x-name":"飞机行程单识别","x-open-region-cloud":"hc","x-order":1,"x-request-examples-1":{"image":"/9j/4AAQSkZJRgABAgEASABIAAD/4RFZRXhpZgAATU0AKgAAAA..."},"x-request-examples-2":{"url":"https://BucketName.obs.myhuaweicloud.com/ObjectName"},"x-request-examples-description-1":"传入飞机行程单图片的base64编码进行文字识别","x-request-examples-description-2":"传入飞机行程单图片的url进行文字识别","x-request-examples-url-1":"POST https://{endpoint}/v2/{project_id}/ocr/flight-itinerary","x-request-examples-url-2":"POST https://{endpoint}/v2/{project_id}/ocr/flight-itinerary","x-support-sdk":"Y"}}},"product_short":"OCR","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"飞机行程单识别","tags":"飞机行程单识别","uri":null,"version":"2.0"}