{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"AutoClassificationErrorResponseBody":{"description":"","properties":{"error_code":{"description":"调用失败时的错误码,具体请参见错误码。\n调用成功时无此字段。","type":"string"},"error_msg":{"description":"调用失败时的错误信息。\n调用成功时无此字段。","type":"string"}},"required":["error_code","error_msg"]},"AutoClassificationRequestBody":{"description":"","properties":{"detect_seal":{"description":"检测印章开关,开启时则返回单张票证是否含有印章,否则不返回是否含有印章。可选值包括:\n- true:开启检测票证是否含有印章功能。\n\n- false:关闭检测票证是否含有印章功能。\n> 说明:\n- 该功能仅检测判断有无印章,不返回印章具体内容。","type":"boolean"},"extended_parameters":{"description":"可指定需要识别票证的传入参数,具体参数可参考各票证API文档。若不指定则默认传入image 。\n当前版本支持票证类型如下:\n- vat_invoice:增值税发票\n\n- quota_invoice:定额发票\n\n- taxi_invoice:出租车票\n\n- train_ticket:火车票\n\n- flight_itinerary:飞机行程单\n\n- toll_invoice:车辆通行费发票\n\n- mvs_invoice:机动车销售发票\n\n- id_card:身份证\n\n- passport:护照\n\n- driver_license:驾驶证\n\n- vehicle_license:行驶证\n\n- transportation_license:道路运输证\n\n- bankcard:银行卡\n\n- bus_ship_ticket:车船票\n\n- ride_hailing_itinerary:网约车行程单\n\n- machine_printed_invoice:通用机打发票\n> 说明:\n- 若指定票证参数填写错误会导致该票证识别错误,会提示\"AIS.0101\":\"The input parameter is invalid.\"报错。","properties":{},"type":"object"},"image":{"description":"与url二选一\n\n图像数据,base64编码,要求base64编码后大小不超过10MB。图片最小边不小于15px,最长边不超过8000px,支持JPEG、JPG、PNG、BMP、TIFF、PDF格式。\n\n图片文件Base64编码字符串,点击[这里](https://support.huaweicloud.com/ocr_faq/ocr_01_0032.html)查看详细获取方式。","type":"string"},"type_list":{"description":"可以指定要识别的票证,指定后不出现在此List的票证不识别。不指定时默认返回所有支持类别票证的识别信息。","items":{"description":"票证类型,目前支持:\n- >-\n  vat_invoice: 增值税发票\n- >-\n  taxi_invoice: 出租车票\n- >-\n  vat_invoice_sales_list:增值税发票销货清单\n- >-\n  flight_itinerary: 飞机行程单\n- >-\n  mvs_invoice: 机动车销售统一发票\n- >-\n  id_card_portrait_side: 身份证头像面\n- >-\n  driver_license_front: 驾驶证主页\n- >-\n  vehicle_license_front: 行驶证主页\n- >-\n  transportation_license: 道路运输证\n- >-\n  quota_invoice: 定额发票\n- >-\n  train_ticket: 火车票\n- >-\n  toll_invoice: 车辆通行费发票\n- >-\n  passport: 护照\n- >-\n  id_card_emblem_side: 身份证国徽面\n- >-\n  driver_license_back: 驾驶证副页\n- >-\n  vehicle_license_back: 行驶证副页\n- >-\n  bankcard: 银行卡\n- >-\n  bus_ship_ticket:车船票\n- >-\n  ride_hailing_itinerary:网约车行程单\n- >-\n  machine_printed_invoice:通用机打发票","type":"string"},"type":"array"},"url":{"description":"与image二选一\n图片的URL路径,目前支持:\n- 公网http/https url\n- OBS提供的url,使用OBS数据需要进行授权。包括对服务授权、临时授权、匿名公开授权,详情参见[配置OBS访问权限](https://support.huaweicloud.com/api-ocr/ocr_03_0132.html)。\n> 说明:\n- 接口响应时间依赖于图片的下载时间,如果图片下载时间过长,会返回接口调用失败。\n- 请保证被检测图片所在的存储服务稳定可靠,推荐使用OBS服务存储图片数据。\n- url中不能存在中文字符,若存在,中文需要进行utf8编码。","type":"string"}}},"AutoClassificationResponseBody":{"description":"","properties":{"result":{"description":"调用成功时表示调用结果。\n\n调用失败时无此字段。","items":{"$ref":"#/definitions/AutoClassificationResult"},"type":"array"}},"required":["result"]},"AutoClassificationResult":{"description":"","properties":{"content":{"description":"对应票证具体结构化识别的结果。","properties":{},"type":"object"},"location":{"description":"文字块的区域位置信息,列表形式,包含文字区域四个顶点的二维坐标(x,y);坐标原点为图片左上角,x轴沿水平方向,y轴沿竖直方向。","items":{"items":{"description":"文字块的区域位置信息","format":"int32","type":"integer"},"type":"array"},"type":"array"},"seal_mark":{"description":"对应票证中是否含有印章。可选值包括:\n-  true:该票证中含有印章。\n-  false:该票证中不含有印章。","type":"boolean"},"status":{"description":"对应票证的状态信息及状态码","properties":{"error_code":{"description":"指示各对应票证的状态码","type":"string"},"error_msg":{"description":"指示各对应票证的状态信息","type":"string"}}},"type":{"description":"对应票证的类别。","type":"string"}},"required":["content","location","status","type"]}},"description":null,"group_id":"1c08976078264963b5b1b4d4fcddc6cb","host":"ocr.cn-north-4.myhuaweicloud.com","id":"558db7ede3504ecf898da23bc48fae5b","info_version":"v1","method":"post","name":"RecognizeAutoClassification","parameters":{},"paths":{"/v2/{project_id}/ocr/auto-classification":{"post":{"consumes":[],"deprecated":false,"description":"检测定位图片上指定要识别的票证(票据、证件或其他文字载体),并对其进行结构化识别。接口以列表形式返回图片上要识别票证的位置坐标、结构化识别的内容以及对应的类别。该接口的使用限制请参见[约束与限制](https://support.huaweicloud.com/productdesc-ocr/ocr_01_0006.html#section3),详细使用指导请参见[OCR服务使用简介](https://support.huaweicloud.com/qs-ocr/ocr_05_0001.html)章节。\n计费次数说明:\n只对识别成功的票证进行计费,识别失败的票证不计费。例如图片中包含三张票证,有两张识别成功,一张识别失败,此时接口计费两次。","operationId":"RecognizeAutoClassification","parameters":[{"description":"用户Token。\n用于获取操作API的权限。[获取Token接口](https://support.huaweicloud.com/api-ocr/ocr_03_0005.html)响应消息头中X-Subject-Token的值即为Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIINRwYJKoZIhvcNAQcCoIINODCCDTQCAQExDTALBglghkgBZQMEAgEwgguVBgkqhkiG...","x-order":1},{"description":"项目ID,您可以从[获取项目ID](https://support.huaweicloud.com/api-ocr/ocr_03_0130.html)中获取。","in":"path","name":"project_id","required":true,"type":"string","x-order":2},{"description":"企业项目ID。OCR支持通过企业项目管理(EPS)对不同用户组和用户的资源使用,进行分账。\n获取方法:进入“[企业项目管理](https://console.huaweicloud.com/eps/?region=cn-north-4#/projects/list)”页面,单击企业项目名称,在企业项目详情页获取Enterprise-Project-Id(企业项目ID)。\n企业项目创建步骤请参见用户指南。\n> 说明:\n创建企业项目后,在传参时,有以下三类场景。\n- 携带正确的ID,正常使用OCR服务,账单的企业项目会被分类到企业ID对应的企业项目中。\n- 携带格式正确但不存在的ID,正常使用OCR服务,账单的企业项目会显示对应不存在的企业项目ID。\n- 不携带ID或格式错误ID(包含特殊字符等),正常使用OCR服务,账单的企业项目会被分类到\"default\"中。","in":"header","name":"Enterprise-Project-Id","required":false,"type":"string","x-order":3},{"description":"This is a auto create Body Object","in":"body","name":"RecognizeAutoClassificationRequestBody","required":true,"schema":{"$ref":"#/definitions/AutoClassificationRequestBody"}}],"produces":[],"responses":{"200":{"description":"成功响应示例","examples":{"application/json":{"result":[{"content":{"city":"台州市","code":"133101982501","confidence":{"city":0.9999,"code":0.9344,"currency":0.9999,"departure_date":0.9992,"departure_station":0.9984,"departure_time":0.964,"destination_station":0.9232,"id_number":0.9752,"name":0.9024,"number":0.9864,"province":0.9999,"title":0.322,"total_amount":0.9992},"currency":"RMB","departure_date":"2020年12月02日","departure_station":"黄岩站","departure_time":"20:00","destination_station":"温岭火车","id_number":"331021xxxxxx3018","name":"鲁xx","number":"00462506","province":"浙江省","title":"台州市xxx经营有限公司汽车客运机1打310","total_amount":"9.00"},"location":[[10,11],[607,9],[608,244],[9,247]],"seal_mark":true,"status":{"error_code":"AIS.0000","error_msg":"Succeeded."},"type":"bus_ship_ticket"},{"content":{"date":"2020-06-28","date_end":"2020-06-24","date_start":"2020-06-19","items_list":[{"amount":"166.90","city":"北京市","departure":"xxxx有限公司-西门","destination":"北家路一区","dropoff_time":"","mileage":"45","pickup_time":"06-19 21:37 周五","provider":"","remarks":"","serial_number":"1","time_order":"","vehicle_type":"快车"},{"amount":"144.10","city":"北京市","departure":"xxxx有限公司-西门","destination":"北家路一区","dropoff_time":"","mileage":"34.48","pickup_time":"06-24 21:46 周三","provider":"","remarks":"","serial_number":"2","time_order":"","vehicle_type":"快车"}],"itineraries":"2","phone_number":"17xxxx99344","title":"滴滴出行-行程单","total":"351.40"},"location":[[70,330],[560,330],[559,558],[70,557]],"seal_mark":true,"status":{"error_code":"AIS.0000","error_msg":"Succeeded."},"type":"ride_hailing_itinerary"},{"content":{},"location":[[816,103],[2125,103],[2125,978],[816,978]],"seal_mark":false,"status":{"error_code":"AIS.0104","error_msg":"The image is not supported or the image quality is poor."},"type":"quota_invoice"}]}},"headers":{"X-Request-Id":{"description":"This field is the request ID number for task tracking. Format is request_uuid-timestamp-hostname.","type":"string"}},"schema":{"$ref":"#/definitions/AutoClassificationResponseBody"}},"400":{"description":"失败响应示例","examples":{"application/json":{"result":{"error_code":"AIS.0103","error_msg":"The image size does not meet the requirements."}}},"schema":{"$ref":"#/definitions/AutoClassificationErrorResponseBody"}}},"summary":"智能分类识别","tags":["智能分类识别"],"x-is-registered":"Y","x-name":"智能分类识别","x-open-region-cloud":"hc","x-order":1,"x-request-examples-1":{"extended_parameters":{"bankcard":{"return_text_location":true},"driver_license":{"return_issuing_authority":true,"return_text_location":true},"flight_itinerary":{},"id_card":{"detect_copy":true,"detect_reproduce":true,"return_text_location":true,"return_verification":true},"mvs_invoice":{},"passport":{},"quota_invoice":{},"taxi_invoice":{"return_text_location":true},"toll_invoice":{},"train_ticket":{"return_text_location":true},"transportation_license":{},"vat_invoice":{"advanced_mode":true,"return_text_location":true},"vehicle_license":{"return_issuing_authority":true,"return_text_location":true}},"image":"/9j/4AAQSkZJRgABAgEASABIAAD/4RFZRXhpZgAATU0AKgAAAA...","type_list":["vat_invoice","train_ticket","taxi_invoice"]},"x-request-examples-2":{"url":"https://BucketName.obs.myhuaweicloud.com/ObjectName"},"x-request-examples-description-1":"传入图片的base64编码,进行图片分类和内容识别","x-request-examples-description-2":"传入图片的url,进行图片分类和内容识别","x-request-examples-url-1":"POST https://ocr.n-north-4.myhuaweicloud.com/v2/{project_id}/ocr/auto-classification","x-request-examples-url-2":"POST https://{endpoint}/v2/{project_id}/ocr/auto-classification","x-support-sdk":"Y"}}},"product_short":"OCR","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"智能分类识别","tags":"智能分类识别","uri":null,"version":"2.0"}