{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"IdCardErrorResponseBody":{"description":"","properties":{"error_code":{"description":"调用失败时的错误码,具体请参见错误码。\n调用成功时无此字段。","type":"string"},"error_msg":{"description":"调用失败时的错误信息。\n调用成功时无此字段。","type":"string"}},"required":["error_code","error_msg"]},"IdCardRequestBody":{"description":"","properties":{"detect_copy":{"description":"返回判断身份证图像是否是黑白复印件的开关,默认false,可选值如下所示:\n\n- true :返回身份证图像是否是复印件\n\n- false : 不返回身份证图像是否是复印件","type":"boolean"},"detect_reproduce":{"description":"返回判断身份证图像是否经过翻拍的开关,默认false,可选值如下所示:\n\n- true :返回身份证图像是否经过翻拍\n\n- false:不返回身份证图像是否经过翻拍","type":"boolean"},"image":{"description":"与url二选一\n\n图像数据,base64编码,要求base64编码后大小不超过10MB。图片最小边不小于15px,最长边不超过8000px。支持JPEG、JPG、PNG、BMP、TIFF格式。\n\n图片文件Base64编码字符串,点击[这里](https://support.huaweicloud.com/ocr_faq/ocr_01_0032.html)查看详细获取方式。","type":"string"},"return_portrait_location":{"description":"返回头像位置信息的开关,默认false,可选值如下所示:\n\n- true :开启返回头像位置信息的功能\n- false : 关闭返回头像位置信息的功能","type":"boolean"},"return_text_location":{"description":"识别到的文字块的区域位置信息。可选值包括:\n\n- true:返回各个文字块区域\n\n- false:不返回各个文字块区域\n\n如果无该参数,系统默认不返回文字块区域。如果输入参数不是Boolean类型,则会报非法参数错误。","type":"boolean"},"return_verification":{"description":"返回校验身份证号等信息的开关,默认false,可选值如下所示:\n\n- true:返回校验信息\n\n- false:不返回校验信息","type":"boolean"},"side":{"description":"- front:身份证正面。\n- back:身份证背面。\n\n> 说明: 如果参数值为空或无该参数,系统自动识别,建议填写,准确率更高。","type":"string"},"url":{"description":"与image二选一\n图片的URL路径,目前支持:\n- 公网http/https url\n- OBS提供的url,使用OBS数据需要进行授权。包括对服务授权、临时授权、匿名公开授权,详情参见[配置OBS访问权限](https://support.huaweicloud.com/api-ocr/ocr_03_0132.html)。\n> 说明:\n- 接口响应时间依赖于图片的下载时间,如果图片下载时间过长,会返回接口调用失败。\n- 请保证被检测图片所在的存储服务稳定可靠,推荐使用OBS服务存储图片数据。\n- url中不能存在中文字符,若存在,中文需要进行utf8编码。","type":"string"}}},"IdCardResponseBody":{"description":"","properties":{"result":{"$ref":"#/definitions/IdCardResult","description":"调用成功时表示调用结果。\n\n调用失败时无此字段。"}},"required":["result"]},"IdCardResult":{"description":"","properties":{"address":{"description":"地址。","type":"string"},"birth":{"description":"出生日期。","type":"string"},"detect_copy_result":{"description":"判断身份证图像是黑白复印件还是原件,“true”表示是复印件,“false”表示是原件。仅在输入参数detect_copy为true时,返回该字段。","type":"boolean"},"detect_reproduce_result":{"description":"判断身份证图像是否经过翻拍,“true”表示是翻拍,“false”表示未经过翻拍。仅在输入参数detect_reproduce为true时,返回该字段。","type":"boolean"},"ethnicity":{"description":"民族。","type":"string"},"issue":{"description":"发证机关。","type":"string"},"name":{"description":"姓名。","type":"string"},"number":{"description":"身份证号。","type":"string"},"portrait_location":{"description":"身份证头像位置信息的结果,仅在输入参数“return_portrait_location”为true时,返回该字段,当输入身份证背面时返回为空列表。","items":{"items":{"description":"头像在原图上的位置","format":"int32","type":"integer"},"type":"array"},"type":"array"},"sex":{"description":"性别。","type":"string"},"text_location":{"description":"文本框在原图位置。输出左上、右上、右下、左下四个点坐标。当“return_text_location”设置为“true”时才返回。","properties":{},"type":"object"},"valid_from":{"description":"有效起始日期。","type":"string"},"valid_to":{"description":"有效结束日期。\n\n> 说明:\n- 身份证识别支持中华人民共和国居民身份证识别。","type":"string"},"verification_result":{"$ref":"#/definitions/IdcardVerificationResult"}}},"IdcardVerificationResult":{"description":"校验信息。仅在输入参数return_verification为true时,返回该字段,该字段包含valid_number、valid_birth、valid_sex和valid_date的校验信息。","properties":{"valid_birth":{"description":"出生日期与身份证号所表示的出生日期是否一致。“true”表示一致,“false”表示不一致。当身份证图片是国徽面,或者身份证号规则校验不通过时,默认是false。仅在输入参数return_verification为true时,返回该字段。","type":"boolean"},"valid_date":{"description":"当前日期是否在有效期内。“true”表示当前日期在有效期内,“false”表示当前日期不在有效期内。当身份证图片是人像面时,默认是false。仅在输入参数return_verification为true时,返回该字段。","type":"boolean"},"valid_number":{"description":"身份证号规则校验是否通过。“true”表示身份证号规则校验通过,“false”表示身份证号规则校验不通过。当身份证图片是国徽面时,默认是false。仅在输入参数return_verification为true时,返回该字段。","type":"boolean"},"valid_sex":{"description":"性别与身份证号所表示的性别信息是否一致。“true”表示一致,“false”表示不一致。当身份证图片是国徽面,或者身份证号规则校验不通过时,默认是false。仅在输入参数return_verification为true时,返回该字段。","type":"boolean"}}}},"description":null,"group_id":"1c08976078264963b5b1b4d4fcddc6cb","host":"ocr.cn-north-4.myhuaweicloud.com","id":"1292314b575049298975496b1ba79f17","info_version":"v1","method":"post","name":"RecognizeIdCard","parameters":{},"paths":{"/v2/{project_id}/ocr/id-card":{"post":{"consumes":[],"deprecated":false,"description":"识别身份证图片中的文字内容,并将识别的结果返回给用户。该接口的使用限制请参见[约束与限制](https://support.huaweicloud.com/productdesc-ocr/ocr_01_0006.html#section5),详细使用指导请参见[OCR服务使用简介](https://support.huaweicloud.com/qs-ocr/ocr_05_0001.html)章节。\n\n说明: \n\n身份证识别支持中华人民共和国居民身份证识别。\n\n如果图片中包含多张卡证票据,请调用[智能分类识别](https://apiexplorer.developer.huaweicloud.com/apiexplorer/doc?product=OCR&api=AutoClassification)服务。","operationId":"RecognizeIdCard","parameters":[{"description":"用户Token。\n用于获取操作API的权限。[获取Token接口](https://support.huaweicloud.com/api-ocr/ocr_03_0005.html)响应消息头中X-Subject-Token的值即为Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIINRwYJKoZIhvcNAQcCoIINODCCDTQCAQExDTALBglghkgBZQMEAgEwgguVBgkqhkiG...","x-order":1},{"description":"项目ID,您可以从[获取项目ID](https://support.huaweicloud.com/api-ocr/ocr_03_0130.html)中获取。","in":"path","name":"project_id","required":true,"type":"string","x-order":2},{"description":"企业项目ID。OCR支持通过企业项目管理(EPS)对不同用户组和用户的资源使用,进行分账。\n获取方法:进入“[企业项目管理](https://console.huaweicloud.com/eps/?region=cn-north-4#/projects/list)”页面,单击企业项目名称,在企业项目详情页获取Enterprise-Project-Id(企业项目ID)。\n企业项目创建步骤请参见用户指南。\n> 说明:\n创建企业项目后,在传参时,有以下三类场景。\n- 携带正确的ID,正常使用OCR服务,账单归到企业ID对应的企业项目中。\n- 携带错误的ID,正常使用OCR服务,账单的企业项目会被分类为“未归集”。\n- 不携带ID,正常使用OCR服务,账单的企业项目会被分类为“未归集”。","in":"header","name":"Enterprise-Project-Id","required":false,"type":"string","x-order":3},{"description":"This is a idcard Body Object","in":"body","name":"RecognizeIdCardRequestBody","required":true,"schema":{"$ref":"#/definitions/IdCardRequestBody"}}],"produces":[],"responses":{"200":{"description":"成功响应示例","examples":{"application/json":{"result":{"address":"XX省XX市XX区XX街道XX号","birth":"2000-03-06","detect_copy_result":true,"detect_reproduce_result":true,"ethnicity":"汉","name":"张三","number":"610XXXXXXXXXXXXXXX","sex":"男","verification_result":{"valid_birth":true,"valid_date":false,"valid_number":true,"valid_sex":true}}},"application/json-1":{"result":{"detect_copy_result":true,"detect_reproduce_result":true,"issue":"XX省XX市XX区XX派出所","valid_from":"2004-08-26","valid_to":"2034-08-26","verification_result":{"valid_birth":false,"valid_date":true,"valid_number":false,"valid_sex":false}}}},"schema":{"$ref":"#/definitions/IdCardResponseBody"}},"400":{"description":"失败响应样例","examples":{"application/json":{"error_code":"AIS.0103","error_msg":"The image size does not meet the requirements."}},"schema":{"$ref":"#/definitions/IdCardErrorResponseBody"}}},"summary":"身份证识别","tags":["身份证识别"],"x-is-registered":"Y","x-name":"身份证识别","x-open-region-cloud":"hc","x-order":1,"x-request-examples-1":{"detect_copy":true,"detect_reproduce":true,"image":"/9j/4AAQSkZJRgABAgEASABIAAD/4RFZRXhpZgAATU0AKgAAAA...","return_text_location":true,"return_verification":true,"side":"front"},"x-request-examples-2":{"detect_copy":true,"detect_reproduce":true,"return_text_location":true,"return_verification":true,"side":"front","url":"https://BucketName.obs.myhuaweicloud.com/ObjectName"},"x-request-examples-description-1":"传入身份证图片的base64编码进行文字识别,并对身份证号进行规则校验,同时判断身份证是否为翻拍、复印件以及返回文字块的区域位置信息","x-request-examples-description-2":"传入身份证图片的url进行文字识别,并对身份证号进行规则校验,同时判断身份证是否为翻拍、复印件以及返回文字块的区域位置信息","x-request-examples-url-1":"POST https://{endpoint}/v2/{project_id}/ocr/id-card","x-request-examples-url-2":"POST https://{endpoint}/v2/{project_id}/ocr/id-card","x-support-sdk":"Y"}}},"product_short":"OCR","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"身份证识别","tags":"身份证识别","uri":null,"version":"2.0"}