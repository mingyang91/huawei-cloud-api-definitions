{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"GeneralTextCharList":{"properties":{"char":{"description":"单字符识别结果。","type":"string"},"char_confidence":{"description":"单字符识别结果的置信度。","format":"float","type":"number"},"char_location":{"description":"单字符的区域位置信息,列表形式,包含字符区域四个顶点的二维坐标(x,y);坐标原点为图片左上角,x轴沿水平方向,y轴沿竖直方向。","items":{"items":{"description":"单字符的区域位置信息。","format":"int32","type":"integer"},"type":"array"},"type":"array"}}},"GeneralTextErrorResponseBody":{"description":"","properties":{"error_code":{"description":"调用失败时的错误码,具体请参见错误码。\n调用成功时无此字段。","type":"string"},"error_msg":{"description":"调用失败时的错误信息。\n调用成功时无此字段。","type":"string"}},"required":["error_code","error_msg"]},"GeneralTextRequestBody":{"description":"","properties":{"character_mode":{"description":"单字符模式开关。可选值包括:\n- true:打开单字符模式\n- false:关闭单字符模式\n\n未传入该参数时默认为false,即不返回单个文本行的单字符信息。","type":"boolean"},"detect_direction":{"description":"图片朝向检测开关,可选值包括:\n- true:检测图片朝向;\n- false:不检测图片朝向。\n\n> 说明:\n- 支持任意角度的图片朝向检测。未传入该参数时默认为false,即不检测图片朝向。","type":"boolean"},"image":{"description":"与url二选一\n\n图像数据,base64编码,要求base64编码后大小不超过10MB。图片最小边不小于15px,最长边不超过4096px。支持JPEG、JPG、PNG、BMP、GIF、TIFF、WEBP、PCX、ICO、PSD、PDF格式。\n\n图片文件Base64编码字符串,点击[这里](https://support.huaweicloud.com/ocr_faq/ocr_01_0032.html)查看详细获取方式。","type":"string"},"language":{"description":"语种选择,可选值可参考表1中英文列。未传入该参数时默认为中英文识别模式。\n**表1* 语种选择说明\n| 英文 |     中文     |\n| :--: | :----------: |\n| auto | 自动语种分类 |\n|  ms  |    马来语    |\n|  uk  |   乌克兰语   |\n|  hi  |    印地语    |\n|  ru  |     俄语     |\n|  vi  |    越南语    |\n|  id  |    印尼语    |\n|  th  |     泰语     |\n|  zh  |    中英文    |\n|  ar  |   阿拉伯语   |\n|  de  |     德语     |\n|  la  |    拉丁语    |\n|  fr  |     法语     |\n|  it  |   意大利语   |\n|  es  |   西班牙语   |\n|  pt  |   葡萄牙语   |\n|  ro  |  罗马尼亚语  |\n|  pl  |    波兰语    |\n|  am  |  阿姆哈拉语  |\n|  ja  |     日语     |\n|  ko  |     韩语     |\n|  tr  |   土耳其语   |\n|  no  |   挪威语     |\n|  da  |   丹麦语     |\n|  sv  |   瑞典语     |\n|  km  |   柬埔寨语   |\n|  he  |   希伯来语   |","type":"string"},"pdf_page_number":{"description":"指定PDF页码识别。传入该参数时,则识别指定页码的内容。如果不传该参数,则默认识别第1页。","format":"int32","type":"integer"},"quick_mode":{"description":"快速模式开关,针对单行文字图片(要求图片只包含一行文字,且文字区域占比超过50%),打开时可以更快返回识别。可选值包括:\n- true:打开快速模式;\n- false:关闭快速模式。\n\n> 说明:\n- 未传入该参数时默认为false,即关闭快速模式。","type":"boolean"},"single_orientation_mode":{"description":"单朝向模式开关。可选值包括:\n- true:打开单朝向模式\n\n- false:关闭单朝向模\n\n图片文字方向一致时,打开该开关可提升识别精度;图片文字方向不一致时,关闭该开关可支持多朝向文字识别。未传入该参数时默认为false,即默认图片中的字段为多朝向。","type":"boolean"},"url":{"description":"与image二选一\n图片的URL路径,目前支持:\n- 公网http/https url\n- OBS提供的url,使用OBS数据需要进行授权。包括对服务授权、临时授权、匿名公开授权,详情参见[配置OBS访问权限](https://support.huaweicloud.com/api-ocr/ocr_03_0132.html)。 \n> 说明:\n- 接口响应时间依赖于图片的下载时间,如果图片下载时间过长,会返回接口调用失败。\n- 请保证被检测图片所在的存储服务稳定可靠,推荐使用OBS服务存储图片数据。\n- url中不能存在中文字符,若存在,中文需要进行utf8编码。","type":"string"}}},"GeneralTextResponseBody":{"description":"","properties":{"result":{"$ref":"#/definitions/GeneralTextResult","description":"调用成功时表示调用结果。\n\n调用失败时无此字段。"}},"required":["result"]},"GeneralTextResult":{"description":"","properties":{"direction":{"description":"图片朝向,仅当detect_direction为true时,该字段有效。返回图片逆时针旋转角度,值区间为[0, 359],保留四位小数。\n当detect_direction为false时,该字段值为 -1。","format":"float","type":"number"},"words_block_count":{"description":"识别文字块数目。","format":"int32","type":"integer"},"words_block_list":{"description":"识别文字块列表,输出顺序从左到右,先上后下。","items":{"$ref":"#/definitions/GeneralTextWordsBlockList"},"type":"array"}},"required":["direction","words_block_count","words_block_list"]},"GeneralTextWordsBlockList":{"description":"识别文字块列表,输出顺序从左到右,先上后下。","properties":{"char_list":{"description":"文字块对应的单字符识别列表,输出顺序从左到右,先上后下。","items":{"$ref":"#/definitions/GeneralTextCharList"},"type":"array"},"confidence":{"description":"文字块识别结果的置信度。","format":"float","type":"number"},"location":{"description":"文字块的区域位置信息,列表形式,包含文字区域四个顶点的二维坐标(x,y);坐标原点为图片左上角,x轴沿水平方向,y轴沿竖直方向。","items":{"description":"文字块的区域位置信息。","items":{"format":"int32","type":"integer"},"type":"array"},"type":"array"},"words":{"description":"文字块识别结果。","type":"string"}},"required":["location","words","confidence","char_list"]}},"description":null,"group_id":"1c08976078264963b5b1b4d4fcddc6cb","host":"ocr.cn-north-4.myhuaweicloud.com","id":"e5af87cd191f42dbaa8617f84a8a640e","info_version":"v1","method":"post","name":"RecognizeGeneralText","parameters":{},"paths":{"/v2/{project_id}/ocr/general-text":{"post":{"consumes":[],"deprecated":false,"description":"识别图片上的文字信息,返回识别的文字和坐标。支持扫描文件、电子文档、书籍、票据和表单等多种场景的文字识别。该接口的使用限制请参见[约束与限制](https://support.huaweicloud.com/productdesc-ocr/ocr_01_0006.html#section1),详细使用指导请参见[OCR服务使用简介](https://support.huaweicloud.com/qs-ocr/ocr_05_0001.html)章节。","operationId":"RecognizeGeneralText","parameters":[{"description":"用户Token。\n用于获取操作API的权限。[获取Token接口](https://support.huaweicloud.com/api-ocr/ocr_03_0005.html)响应消息头中X-Subject-Token的值即为Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIINRwYJKoZIhvcNAQcCoIINODCCDTQCAQExDTALBglghkgBZQMEAgEwgguVBgkqhkiG...","x-order":1},{"description":"项目ID,您可以从[获取项目ID](https://support.huaweicloud.com/api-ocr/ocr_03_0130.html)中获取。","in":"path","name":"project_id","required":true,"type":"string","x-order":2},{"description":"企业项目ID。OCR支持通过企业项目管理(EPS)对不同用户组和用户的资源使用,进行分账。\n获取方法:进入“[企业项目管理](https://console.huaweicloud.com/eps/?region=cn-north-4#/projects/list)”页面,单击企业项目名称,在企业项目详情页获取Enterprise-Project-Id(企业项目ID)。\n企业项目创建步骤请参见用户指南。\n> 说明:\n创建企业项目后,在传参时,有以下三类场景。\n- 携带正确的ID,正常使用OCR服务,账单的企业项目会被分类到企业ID对应的企业项目中。\n- 携带格式正确但不存在的ID,正常使用OCR服务,账单的企业项目会显示对应不存在的企业项目ID。\n- 不携带ID或格式错误ID(包含特殊字符等),正常使用OCR服务,账单的企业项目会被分类到\"default\"中。","in":"header","name":"Enterprise-Project-Id","required":false,"type":"string","x-order":3},{"description":"This is a generaltext Body Object","in":"body","name":"RecognizeGeneralTextRequestBody","required":false,"schema":{"$ref":"#/definitions/GeneralTextRequestBody"}}],"produces":[],"responses":{"200":{"description":"成功响应示例","examples":{"application/json":{"result":{"direction":67.6506,"words_block_count":1,"words_block_list":[{"char_list":[{"char":"文","char_confidence":0.9999,"char_location":[[517,447],[530,479],[495,493],[482,461]]},{"char":"字","char_confidence":0.9999,"char_location":[[530,479],[540,504],[505,518],[495,493]]}],"confidence":0.9999,"location":[[517,447],[540,504],[505,518],[482,461]],"words":"文字"}]}}},"headers":{"X-Request-Id":{"description":"This field is the request ID number for task tracking. Format is request_uuid-timestamp-hostname.","type":"string"}},"schema":{"$ref":"#/definitions/GeneralTextResponseBody"}},"400":{"description":"失败响应示例","examples":{"application/json":{"error_code":"AIS.0103","error_msg":"The image size does not meet the requirements."}},"schema":{"$ref":"#/definitions/GeneralTextErrorResponseBody"}}},"summary":"通用文字识别","tags":["通用文字识别"],"x-is-registered":"Y","x-name":"通用文字识别","x-open-region-cloud":"hk,hc","x-order":1,"x-request-examples-1":{"detect_direction":false,"image":"/9j/4AAQSkZJRgABAgEASABIAAD/4RFZRXhpZgAATU0AKgAAAA...","quick_mode":false},"x-request-examples-2":{"detect_direction":false,"quick_mode":false,"url":"https://BucketName.obs.myhuaweicloud.com/ObjectName"},"x-request-examples-description-1":"传入图片的base64编码进行文字识别,识别过程不校验图片倾斜角度,并关闭快速模式","x-request-examples-description-2":"传入图片的url进行文字识别,识别过程不校验图片倾斜角度,并关闭快速模式","x-request-examples-url-1":"POST https://{endpoint}/v2/{project_id}/ocr/general-text","x-request-examples-url-2":"POST https://{endpoint}/v2/{project_id}/ocr/general-text","x-support-sdk":"Y"}}},"product_short":"OCR","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"通用文字识别","tags":"通用文字识别","uri":null,"version":"2.0"}