{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"Entitie":{"description":"Job操作的对象。根据不同Job类型,显示不同的内容。裸金属服务器相关操作显示server_id;网卡相关操作显示nic_id","properties":{"nic_id":{"description":"网卡相关操作显示nic_id","type":"string"},"server_id":{"description":"裸金属服务器相关操作显示server_id","type":"string"}}},"Entities":{"description":"entities字段数据结构说明","properties":{"sub_jobs":{"description":"每个子任务的执行信息。没有子任务时为空列表","items":{"$ref":"#/definitions/SubJobs"},"type":"array"},"sub_jobs_total":{"description":"子任务数量。没有子任务时为0","format":"int32","type":"integer"}}},"Error":{"description":"提交任务异常时返回的异常信息","properties":{"code":{"description":"任务异常错误信息编码","type":"string"},"message":{"description":"任务异常错误信息描述","type":"string"}}},"FailedRsp":{"description":"FailedRsp","properties":{"error":{"$ref":"#/definitions/Error","description":"提交任务异常时返回的异常信息"}}},"JobRes":{"description":"响应参数","properties":{"begin_time":{"description":"开始时间。时间戳格式为ISO 8601,例如:2019-04-25T20:04:47.591Z","type":"string"},"code":{"description":"出现错误时,返回的错误码。错误码和其对应的含义请参考8.1-状态码。","type":"string"},"end_time":{"description":"结束时间。时间戳格式为ISO 8601,例如:2019-04-26T20:04:47.591Z","type":"string"},"entities":{"$ref":"#/definitions/Entities","description":"Job操作的对象。请参见表 entities字段数据结构说明。根据不同Job类型,显示不同的内容。裸金属服务器相关操作显示server_id;网卡相关操作显示nic_id;有子Job时为子Job的详情。"},"error_code":{"description":"Job执行失败时的错误码","type":"string"},"fail_reason":{"description":"Job执行失败时的错误原因","type":"string"},"job_id":{"description":"Job ID","type":"string"},"job_type":{"description":"Job的类型,包含以下类型:baremetalBatchCreate:批量创建裸金属服务器baremetalBatchOperate:批量修改裸金属服务器电源状态baremetalBatchCreate:批量创建裸金属服务器baremetalChangeOsVolumeBoot:切换快速发放裸金属服务器操作系统baremetalChangeOsLocalDisk:切换本地盘裸金属服务器操作系统baremetalVolumeBootReinstallOs:重装快速发放裸金属服务器操作系统baremetalReinstallOs:重装本地盘裸金属服务器操作系统baremetalAttachVolume:挂载单个磁盘baremetalDetachVolume:卸载单个磁盘baremetalBatchAttachVolume:裸金属服务器批量挂载共享磁盘","type":"string"},"message":{"description":"出现错误时,返回的错误消息","type":"string"},"status":{"description":"Job的状态。SUCCESS:成功RUNNING:运行中FAIL:失败INIT:正在初始化","enum":["SUCCESS","RUNNING","FAIL","INIT"],"type":"string"}}},"SubJobs":{"description":"sub_jobs字段数据结构说明","properties":{"begin_time":{"description":"开始时间。时间戳格式为ISO 8601,例如:2019-04-25T20:04:47.591Z","type":"string"},"code":{"description":"出现错误时,返回的错误码","type":"string"},"end_time":{"description":"结束时间。时间戳格式为ISO 8601,例如:2019-04-26T20:04:47.591Z","type":"string"},"entities":{"$ref":"#/definitions/Entitie","description":"Job操作的对象。根据不同Job类型,显示不同的内容。裸金属服务器相关操作显示server_id;网卡相关操作显示nic_id。请参见表 entities字段数据结构说明。"},"error_code":{"description":"Job执行失败时的错误码","type":"string"},"fail_reason":{"description":"Job执行失败时的错误原因","type":"string"},"job_id":{"description":"Job ID","type":"string"},"job_type":{"description":"Job的类型,包含以下类型:baremetalSingleCreate:创建单个裸金属服务器;baremetalSingleOperate:修改单个裸金属服务器电源状态;baremetalAttachSingleVolume:挂载单个共享磁盘","type":"string"},"message":{"description":"出现错误时,返回的错误消息","type":"string"},"status":{"description":"Job的状态。SUCCESS:成功RUNNING:运行中FAIL:失败INIT:正在初始化","enum":["SUCCESS","RUNNING","FAIL","INIT"],"type":"string"}}}},"description":null,"group_id":"d5d01a1b3fe74f92969f750cb27d6842","host":"bms.cn-north-4.myhuaweicloud.com","id":"31faa5e880f24adbb5e0ef5d45d04caa","info_version":"v1","method":"get","name":"ShowJobInfos","parameters":{},"paths":{"/v1/{project_id}/jobs/{job_id}":{"get":{"consumes":[],"deprecated":false,"description":"查询Job的执行状态。对于创建裸金属服务器物理机、挂卸卷等异步API,命令下发后,会返回job_id,通过job_id可以查询任务的执行状态","operationId":"ShowJobInfos","parameters":[{"description":"用户Token。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":1},{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string","x-order":2},{"description":"Job ID","in":"path","name":"job_id","required":true,"type":"string","x-order":3}],"produces":[],"responses":{"200":{"description":"服务器已成功处理了请求","examples":{"application/json":{"begin_time":"2019-04-25T20:04:34.604Z","end_time":"2019-04-25T20:08:41.593Z","entities":{"sub_jobs":[{"begin_time":"2019-04-25T20:04:47.591Z","end_time":"2019-04-25T20:08:21.328Z","entities":{"server_id":"bae51750-0089-41a1-9b18-5c777978ff6d"},"error_code":null,"fail_reason":null,"job_id":"2c9eb2c5544cbf6101544f0635672b60","job_type":"baremetalSingleCreate","status":"SUCCESS"}],"sub_jobs_total":1},"error_code":null,"fail_reason":null,"job_id":"2c9eb2c5544cbf6101544f0602af2b4f","job_type":"baremetalBatchCreate","status":"SUCCESS"}},"schema":{"$ref":"#/definitions/JobRes"}},"400":{"description":"服务器未能处理请求","schema":{"$ref":"#/definitions/FailedRsp"}},"401":{"description":"被请求的页面需要用户名和密码","schema":{"$ref":"#/definitions/FailedRsp"}},"403":{"description":"对被请求页面的访问被禁止","schema":{"$ref":"#/definitions/FailedRsp"}},"404":{"description":"服务器无法找到被请求的页面","schema":{"$ref":"#/definitions/FailedRsp"}},"405":{"description":"请求中指定的方法不被允许","schema":{"$ref":"#/definitions/FailedRsp"}},"406":{"description":"服务器生成的响应无法被客户端所接受","schema":{"$ref":"#/definitions/FailedRsp"}},"407":{"description":"用户必须首先使用代理服务器进行验证,这样请求才会被处理","schema":{"$ref":"#/definitions/FailedRsp"}},"408":{"description":"请求超出了服务器的等待时间","schema":{"$ref":"#/definitions/FailedRsp"}},"409":{"description":"由于冲突,请求无法被完成","schema":{"$ref":"#/definitions/FailedRsp"}},"500":{"description":"请求未完成。服务异常","schema":{"$ref":"#/definitions/FailedRsp"}},"501":{"description":"请求未完成。服务器不支持所请求的功能","schema":{"$ref":"#/definitions/FailedRsp"}},"502":{"description":"请求未完成。服务器从上游服务器收到一个无效的响应","schema":{"$ref":"#/definitions/FailedRsp"}},"503":{"description":"请求未完成。系统暂时异常","schema":{"$ref":"#/definitions/FailedRsp"}},"504":{"description":"网关超时","schema":{"$ref":"#/definitions/FailedRsp"}}},"summary":"查询Job状态","tags":["Job管理"],"x-ctc":"Y","x-first_open_time":"2018-05-30","x-flow_control_group":"bmsGetJobStatus","x-hc":"Y","x-hk":"Y","x-hybridcloud":"false","x-in_cli":"","x-is-registered":"Y","x-is_calling":"Y","x-multi_tenant_flow_time":"1","x-multi_tenant_flow_value":"4000","x-name":"查询Job状态","x-obc":"Y","x-order":1,"x-otc":"Y","x-request-examples-1":"GET https://{BMS Endpoint}/v1/bbf1946d374b44a0a2a95533562ba954/jobs/2c9eb2c5544cbf6101544f0635672b60","x-scope":"Commercial","x-source":"SelfDeveloped","x-support-sdk":"Y","x-tenant_flow_time":"1","x-tenant_flow_value":"2000","x-timeout":"60s","x-tlf":"Y","x-un_cli":"","x-version":"v1"}}},"product_short":"BMS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询Job状态","tags":"Job管理","uri":null,"version":"2.0"}