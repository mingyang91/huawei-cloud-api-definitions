{"base_path":"/","components":null,"consumes":"[\"application/bson;charset=UTF-8\"]","definitions":{"CreateTableRequestBody":{"properties":{"bill_mode":{"default":"on_demand","description":"表计费模式,可为\"provisioned\"或\"on_demand\"\n- 预置模式:provisioned\n- 按需模式:on_demand","type":"string"},"global_secondary_index_schema":{"description":"全局二级索引模板。","items":{"$ref":"#/definitions/global_secondary_index"},"type":"array"},"local_secondary_index_schema":{"description":"本地二级索引模板,可以多个。","items":{"$ref":"#/definitions/secondary_index"},"type":"array"},"pre_split_key_options":{"$ref":"#/definitions/pre_split_key_options","description":"按照设定的分裂键值或者键值前缀进行预分裂.\n> range分区时该参数有效,且只作用于主表,其他场景无效。"},"primary_key_schema":{"$ref":"#/definitions/primary_key_schema","description":"主键模板, 最多1个,必须指定主键schema。"},"provisioned_throughput":{"$ref":"#/definitions/provisioned_throughput","description":"预置吞吐读写请求单元数,在bill_mode=\"provisioned\"有效"},"table_name":{"description":"表名,仓内唯一。","type":"string"}},"required":["table_name","primary_key_schema"],"type":"object"},"CreateTableResponseBody":{"properties":{"bill_mode":{"description":"计费模式,可为\"provisioned\"或\"on_demand\"","type":"string"},"global_secondary_index_schema":{"description":"全局二级索引模板。","items":{"$ref":"#/definitions/global_secondary_index"},"type":"array"},"local_secondary_index_schema":{"description":"本地二级索引模板,可以多个。","items":{"$ref":"#/definitions/secondary_index"},"type":"array"},"pre_split_key_options":{"$ref":"#/definitions/pre_split_key_options","description":"按照设定的分裂键值或者键值前缀进行预分裂.\n> range分区时该参数有效,且只作用于主表,其他场景无效。"},"primary_key_schema":{"$ref":"#/definitions/primary_key_schema","description":"主键模板, 最多1个,必须指定主键schema。"},"provisioned_throughput":{"$ref":"#/definitions/provisioned_throughput","description":"预置吞吐读写请求单元数,在bill_mode=\"provisioned\"有效"},"table_name":{"description":"表名,仓内唯一。","type":"string"}},"required":["table_name","primary_key_schema"],"type":"object"},"ErrorResp":{"properties":{"error_code":{"description":"请求返回的错误码。","example":"KVS.00000001","type":"string"},"error_msg":{"description":"请求返回的错误信息。","example":"系统遇到内部错误,请重试。","type":"string"}},"required":["error_code","error_msg"],"type":"object"},"field":{"properties":{"name":{"description":"字段名。","type":"string"},"order":{"description":"bool值预留无意义。","type":"boolean"}},"required":["name"],"type":"object"},"global_secondary_index":{"properties":{"abstract_fields":{"description":"摘要字段名数组。","items":{"type":"string"},"type":"array"},"index_name":{"description":"二级索引名称,表内唯一。","type":"string"},"provisioned_throughput":{"$ref":"#/definitions/provisioned_throughput","description":"预置吞吐读写请求单元数,在bill_mode=\"provisioned\"有效"},"shard_key_fields":{"description":"分区键字段名数组,顺序组合。","items":{"$ref":"#/definitions/field"},"type":"array"},"shard_mode":{"description":"分区模式。","type":"string"},"sort_key_fields":{"description":"排序键字段名数组,顺序组合。","items":{"$ref":"#/definitions/field"},"type":"array"}},"required":["index_name","shard_key_fields"],"type":"object"},"pre_split_key_options":{"description":"按照设定的键值前缀进行预分裂。","properties":{"range_split_points":{"description":"在range分区模式有效,最大10个。","items":{"format":"bson-document","type":"string"},"type":"array"}},"type":"object"},"primary_key_schema":{"properties":{"shard_key_fields":{"description":"分区键字段名数组,顺序组合。","items":{"$ref":"#/definitions/field"},"type":"array"},"shard_mode":{"description":"分区模式。","type":"string"},"sort_key_fields":{"description":"排序键字段名数组,顺序组合。","items":{"$ref":"#/definitions/field"},"type":"array"}},"required":["shard_key_fields"],"type":"object"},"provisioned_throughput":{"properties":{"rcu":{"default":0,"description":"预置表级读请求单元数","format":"int64","type":"integer"},"wcu":{"default":0,"description":"预置表级写请求单元数","format":"int64","type":"integer"}},"required":["rcu","wcu"],"type":"object"},"secondary_index":{"description":"二级索引定义,元素key为数组下标。","properties":{"abstract_fields":{"description":"摘要字段名数组。","items":{"type":"string"},"type":"array"},"index_name":{"description":"二级索引名称,表内唯一。","type":"string"},"sort_key_fields":{"description":"排序键字段名数组,顺序组合。","items":{"$ref":"#/definitions/field"},"type":"array"}},"required":["index_name","sort_key_fields"],"type":"object"}},"description":null,"group_id":"1d253eb51d8046a894e8b1aa21b72079","host":"kvs.cn-north-4.myhuaweicloud.com","id":"5428fcc323c24bb68530e1473b92050c","info_version":"v1","method":"post","name":"CreateTable","parameters":{},"paths":{"/v1/create-table":{"post":{"consumes":["application/bson"],"description":"在指定仓内创建表,表名在仓内唯一;创建表时,指定主键模板及本地二级索引模板及全局二级索引模板。创建表时,如果仓不存在,将会自动创建仓。","operationId":"CreateTable","parameters":[{"description":"仓名,全域唯一,不同租户的仓名不能相同。 \n- 格式:${prefix}-${region-code}-${account-id},其中prefix为自定义前缀,region-code为kvs集群所在的区域代码,account-id为用户的账户id\n- 取值字符限制:[a-z0-9-]+\n- 长度:[16,52]\n> \"-\"不能出现在名字头部或尾部","in":"query","name":"store_name","type":"string","x-location-cname":true},{"description":"创建表的请求体","in":"body","name":"CreateTableRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateTableRequestBody"}}],"produces":["application/bson"],"responses":{"200":{"description":"表示创建表成功。","examples":{"application/bson":{"primary_key_schema":{"shard_key_fields":[{"name":"owner","order":true}],"sort_key_fields":[{"name":"filename","order":true}]},"table_name":"test_table"}},"schema":{"$ref":"#/definitions/CreateTableResponseBody"},"x-response-examples-description-1":"创建表的返回体,为Table的全量属性。","x-response-examples-tags-1":"hws"},"400":{"description":"BadRequest","schema":{"$ref":"#/definitions/ErrorResp"}},"409":{"description":"表已存在","schema":{"$ref":"#/definitions/ErrorResp"}}},"summary":"创建表","tags":["仓接口"],"x-request-examples-1":{"primary_key_schema":{"shard_key_fields":[{"name":"owner","order":true}],"sort_key_fields":[{"name":"filename","order":true}]},"table_name":"test_table"},"x-request-examples-description-1":"创建表,表名为test-table,分区键字段名为owner,排序键字段名称为filename","x-request-examples-tags-1":"hws","x-request-examples-url-1":"POST https://{endpoint}/v1/create-table","x-support-sdk":"Y"}}},"product_short":"KVS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建表","tags":"仓接口","uri":null,"version":"2.0"}