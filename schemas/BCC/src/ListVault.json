{"base_path":"/","components":null,"consumes":"","definitions":{"CbrVaultDetail":{"properties":{"created":{"description":"创建时间","type":"string"},"domain_id":{"description":"租户id","type":"string"},"enterprise_project_id":{"description":"企业项目id,默认为‘0’。","type":"string","x-open-region-cloud":"hc,hk,hcso,tm,hcso_g42_b,hk_vdf"},"id":{"description":"存储库ID","type":"string"},"project_id":{"description":"项目ID","type":"string"},"provider":{"description":"存储库提供云服务,CBR","type":"string"},"region_id":{"description":"地域id","type":"string"},"resource_detail":{"description":"资源详情","properties":{"auto_expand":{"description":"是否开启存储库自动扩容能力(只支持按需存储库)。","type":"boolean"},"bind_rules":{"description":"绑定规则","type":"string"},"charging_mode":{"description":"创建模式,按需:post_paid,包周期:pre_paid,默认为post_paid","type":"string"},"cross_account":{"description":"是否跨账号","type":"boolean"},"cross_account_urn":{"description":"跨账号URN","type":"string"},"is_multi_az":{"description":"存储库是否多az","type":"boolean"},"locked":{"description":"是否已锁定","type":"boolean"},"object_type":{"description":"对象类型:云服务器(server),云硬盘(disk),文件系统(turbo),云桌面(workspace),VMware(vmware),关系型数据库(rds),文件(file)","type":"string"},"policy_ids":{"description":"存储库关联的保护策略id","items":{"type":"string"},"type":"array"},"protect_status":{"description":"保护状态","items":{"type":"string"},"type":"array"},"protect_type":{"description":"保护类型:备份(backup)、复制(replication)。","type":"string"},"provider_id":{"description":"存储库资源类型id","type":"string"},"size":{"description":"容量,单位GB","format":"int32","type":"integer"},"spec_code":{"description":"规格编码。","type":"string"},"status":{"description":"status","type":"string"},"used":{"description":"已使用容量,单位MB","type":"string"},"vault_resources":{"description":"存储库资源列表","items":{"type":"string"},"type":"array"}}},"resource_label":{"description":"资源标签","items":{"$ref":"#/definitions/Tag"},"type":"array"},"resource_name":{"description":"存储库名称","maxLength":64,"minLength":1,"pattern":"^[\\u4E00-\\u9FA5\\uf900-\\ufa2da-zA-Z0-9_\\-]*$","type":"string"}},"type":"object"},"ErrorRsp":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":8,"type":"string"},"error_msg":{"description":"错误描述","maxLength":512,"minLength":2,"type":"string"}},"required":["error_code","error_msg"]},"Tag":{"description":"","properties":{"key":{"description":"键。\n\nkey最大长度为36个字符。\n\nkey不能为空字符串。\n\nkey前后空格会被丢弃。\n\nkey不能包含非打印字符ASCII(0-31),“=”,“*”,“<”,“>”,“\\”,“,”,“|”,“/”。\n\nkey只能由中文,字母,数字,“-”,“_”组成。","type":"string","x-open-region-cloud":"hc,hk,otc,ocb,tlf,ctc,hcso,sbc,g42,tm,hcso_dt,hcso_g42_b,hk_vdf"},"value":{"description":"值。\n\n添加标签时value值必选,删除标签时value值可选。\n\nvalue最大长度为43个字符。\n\nvalue可以为空字符串。\n\nvalue前后的空格会被丢弃。\n\nvalue不能包含非打印字符ASCII(0-31),“=”,“*”,“<”,“>”,“\\”,“,”,“|”,“/”。\n\nvalue只能由中文,字母,数字,“-”,“_”,“.”组成。","type":"string","x-open-region-cloud":"hc,hk,otc,ocb,tlf,ctc,hcso,sbc,g42,tm,hcso_dt,hcso_g42_b,hk_vdf"}},"required":["key","value"]},"VaultListResp":{"properties":{"count":{"description":"存储库个数","format":"int32","type":"integer"},"vaults":{"description":"存储库实例列表","items":{"$ref":"#/definitions/CbrVaultDetail"},"type":"array"}},"required":["vaults","count"],"type":"object"}},"description":null,"group_id":"0cb6191c2c524d62be604224b207d979","host":"bcc.cn-north-4.myhuaweicloud.com","id":"b1ba07e110c547bf9a7f5d352e3a94bb","info_version":"v1","method":"get","name":"ListVault","parameters":{},"paths":{"/v1/{domain_id}/backup/vaults":{"get":{"description":"列举存储库","operationId":"ListVault","parameters":[{"description":"账号ID","in":"path","maxLength":32,"minLength":16,"name":"domain_id","pattern":"^[a-z0-9]{16,32}$","required":true,"type":"string"},{"description":"归属region","in":"query","maxLength":32,"minLength":6,"name":"region_id","pattern":"^[a-z0-9-]{6,32}$","required":false,"type":"string"},{"description":"企业项目id或all_granted_eps,all_granted_eps表示查询用户有权限的所有企业项目id","in":"query","maxLength":36,"minLength":1,"name":"enterprise_project_id","pattern":"^[a-zA-Z0-9_-]{1,36}$","required":false,"type":"string","x-open-region-cloud":"hc,hk,ctc,hcso,tm,hk_vdf","x-order":8},{"description":"合规id","in":"query","maxLength":24,"minLength":24,"name":"compliance_id","pattern":"^[0-9a-f]{24}$","required":false,"type":"string"},{"description":"策略ID","in":"query","maxLength":128,"minLength":2,"name":"policy_id","pattern":"^[0-9a-zA-Z_-]{2,128}$","required":false,"type":"string","x-order":10},{"description":"资源id,支持多资源,以英文逗号分隔","in":"query","maxLength":1024,"minLength":2,"name":"resource_ids","pattern":"^[0-9a-zA-Z_,-]{2,1024}$","required":false,"type":"string","x-open-region-cloud":"","x-order":13},{"description":"状态,available可用,lock锁定,frozen冻结,error错误,deleting删除中","enum":["available","lock","frozen","error","deleting"],"in":"query","maxLength":16,"minLength":2,"name":"status","required":false,"type":"string","x-admin":"","x-internal":"","x-order":12},{"description":"存储库存储类型,server云服务器,disk磁盘,turbo,workspace云空间,vmware,rds,file","enum":["server","disk","turbo","workspace","vmware","rds","file"],"in":"query","maxLength":16,"minLength":2,"name":"object_type","required":false,"type":"string"},{"description":"存储库保护类型,backup:备份,replication:复制","enum":["backup","replication"],"in":"query","maxLength":16,"minLength":2,"name":"protect_type","required":false,"type":"string"},{"allowEmptyValue":true,"default":10,"description":"每页显示条目数,正整数","format":"int32","in":"query","maximum":100,"minimum":1,"name":"limit","required":false,"type":"integer","x-admin":"","x-internal":"","x-order":1},{"allowEmptyValue":true,"default":0,"description":"偏移值,正整数","format":"int64","in":"query","maximum":100000,"minimum":0,"name":"offset","required":false,"type":"integer"}],"produces":["application/json"],"responses":{"200":{"description":"ListVault返回体","examples":{"application/json":{"count":15,"vaults":[{"created":"2024-06-25T02:09:38.736346Z","domain_id":"06dde4de1800d3f50f52c002xxxxxxxx","enterprise_project_id":"0","id":"17e6427c-0487-4f31-8c09-2c8a17a84711","project_id":"06dde4de1800d3f50f52c002xxxxxxxx","provider":"cbr","region_id":"region-xx","resource_detail":{"auto_expand":true,"bind_rules":null,"charging_mode":"post_paid","cross_account":false,"cross_account_urn":null,"is_multi_az":false,"locked":false,"policy_ids":null,"protect_status":null,"provider_id":"d1603440-187d-4516-af25-121250c7cc97","size":100,"spec_code":"vault.backup.volume.normal","status":"error","vault_resources":["f37516d9-966c-4da5-8a83-2df57fdb1604"]},"resource_label":null,"resource_name":"vault-2808"}]}},"schema":{"$ref":"#/definitions/VaultListResp"}},"400":{"description":"请求错误。","schema":{"$ref":"#/definitions/ErrorRsp"}},"401":{"description":"未提供认证信息或认证信息错误。","schema":{"$ref":"#/definitions/ErrorRsp"}},"403":{"description":"请求页面被禁止访问。","schema":{"$ref":"#/definitions/ErrorRsp"}},"404":{"description":"未找到资源。","schema":{"$ref":"#/definitions/ErrorRsp"}},"408":{"description":"请求超出了服务器的等待时间。","schema":{"$ref":"#/definitions/ErrorRsp"}},"429":{"description":"当前请求过多。","schema":{"$ref":"#/definitions/ErrorRsp"}},"500":{"description":"请求未完成,服务异常。","schema":{"$ref":"#/definitions/ErrorRsp"}},"503":{"description":"服务端错误","schema":{"$ref":"#/definitions/ErrorRsp"}}},"summary":"列举存储库","tags":["存储库"],"x-api-type":"open-api","x-iam-auth-meta-anno":{"abacAction":"bcc::listVault","authContextInitializerName":"baseIamAuthContextInitializer","authLevel":"NO_INSTANCE","model":"v5","needAbacCheck":true,"needAbacResourceCheck":false,"needApigwJwtAuthCheck":false,"needCbcCheck":false,"needRbacCheck":false,"needResourceTagCheck":false,"supportAllGrantedEps":false},"x-is-registered":"Y","x-request-examples-1":"https://{endpoint}/v1/{domain_id}/backup/vaults?enterprise_project_id=&region_id=&compliance_id=&policy_id=&resource_ids=&status=&object_type=&limit=1&offset=0","x-request-examples-text-1":"https://{endpoint}/v1/{domain_id}/backup/vaults?enterprise_project_id=&region_id=&compliance_id=&policy_id=&resource_ids=&status=&object_type=&limit=1&offset=0","x-request-examples-url-1":"GET  https://{endpoint}/v1/{domain_id}/backup/vaults","x-support-sdk":"Y"}}},"product_short":"BCC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"列举存储库","tags":"存储库","uri":null,"version":"2.0"}