{"base_path":"/","components":null,"consumes":"","definitions":{"AlarmEntity":{"description":"告警实体类","properties":{"abnormal_resource":{"description":"异常资源数量","type":"string"},"additional_info":{"description":"告警记录额外字段","type":"string"},"alarm_actions":{"description":"告警触发的动作","type":"string"},"alarm_datapoints":{"description":"计算出该条告警记录的资源监控数据上报时间和监控数值","type":"string"},"alarm_policy":{"description":"告警策略","type":"string"},"alarm_record_id":{"description":"告警记录ID","type":"string"},"alarm_rule_id":{"description":"告警规则ID","type":"string"},"alarm_rule_name":{"description":"告警规则名称","type":"string"},"alarm_type":{"$ref":"#/definitions/AlarmTypeEnum"},"condition":{"description":"告警触发条件","type":"string"},"duration":{"description":"持续时长","type":"string"},"eps_id":{"description":"企业项目ID","type":"string"},"generate_time":{"description":"告警产生时间","type":"string"},"last_update_time":{"description":"最后更新时间","type":"string"},"metric":{"description":"告警指标","type":"string"},"namespace":{"$ref":"#/definitions/AlarmNamespaceEnum"},"ok_actions":{"description":"告警恢复触发的动作","type":"string"},"region_id":{"description":"RegionID","type":"string"},"severity":{"description":"告警级别,取值范围:1,2,3,4","example":"1","type":"string"},"status":{"$ref":"#/definitions/AlarmStatusEnum"}},"required":["alarm_record_id","alarm_rule_id"],"type":"object"},"AlarmNamespaceEnum":{"description":"告警命名空间,取值范围:SYS.CBR,SYS.RDS,SYS.GaussDB","enum":["SYS.CBR","SYS.RDS","SYS.GaussDB"],"example":"SYS.CBR","type":"string"},"AlarmStatusEnum":{"description":"告警状态,取值范围:ok,alarm,invalid","enum":["ok","alarm","invalid"],"example":"ok","type":"string"},"AlarmTypeEnum":{"description":"告警类型","enum":["EVENT.SYS","EVENT.CUSTOM","ALL_INSTANCE","MULTI_INSTANCE","RESOURCE_GROUP"],"example":"EVENT.SYS","type":"string"},"ErrorRsp":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":8,"type":"string"},"error_msg":{"description":"错误描述","maxLength":512,"minLength":2,"type":"string"}},"required":["error_code","error_msg"]},"ListAlarmsResponseBody":{"description":"查询告警列表","properties":{"alarms":{"description":"告警数据","items":{"$ref":"#/definitions/AlarmEntity"},"maxItems":100,"minItems":0,"type":"array"},"count":{"description":"本次分页查询响应的告警数量","exclusiveMaximum":true,"format":"int64","maximum":65535,"minimum":0,"type":"integer"},"next_marker":{"description":"下一页的marker","maxLength":38,"type":"string"}},"required":["count","alarms"],"type":"object"}},"description":null,"group_id":"0cb6191c2c524d62be604224b207d979","host":"bcc.cn-north-4.myhuaweicloud.com","id":"a35a0d3451504c1c89d641bc1121e65a","info_version":"v1","method":"get","name":"ListAlarms","parameters":{},"paths":{"/v1/{domain_id}/alarms":{"get":{"description":"查询告警列表","operationId":"ListAlarms","parameters":[{"description":"账号ID","in":"path","maxLength":32,"minLength":16,"name":"domain_id","pattern":"^[a-z0-9]{16,32}$","required":true,"type":"string"},{"description":"告警命名空间,取值范围:SYS.CBR,SYS.RDS,SYS.GaussDB","enum":["SYS.CBR","SYS.RDS","SYS.GaussDB"],"in":"query","maxLength":16,"minLength":2,"name":"namespace","required":false,"type":"string"},{"description":"告警状态,取值范围:ok,alarm,invalid。","enum":["ok","alarm","invalid"],"in":"query","maxLength":16,"minLength":2,"name":"status","required":false,"type":"string"},{"description":"RegionID","in":"query","maxLength":32,"minLength":6,"name":"region_id","pattern":"^[a-z0-9-]{6,32}$","required":false,"type":"string"},{"description":"资源ID","in":"query","maxLength":64,"minLength":16,"name":"resource_id","pattern":"^[0-9a-zA-Z-]{16,64}$","required":false,"type":"string"},{"description":"告警规则ID","in":"query","maxLength":24,"minLength":24,"name":"alarm_rule_id","pattern":"^[0-9a-zA-Z]{24}$","required":false,"type":"string"},{"description":"查询范围起始时间,例如:2025-03-20T09:31:45Z。","in":"query","maxLength":24,"minLength":20,"name":"start_time","pattern":"^\\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](?:\\.\\d{1,3})?Z$","required":false,"type":"string"},{"description":"查询范围结束时间,例如:2025-03-21T09:31:45Z。","in":"query","maxLength":24,"minLength":20,"name":"end_time","pattern":"^\\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](?:\\.\\d{1,3})?Z$","required":false,"type":"string"},{"description":"分页参数,通过上一个请求中返回的marker信息作为输入,获取当前页。","in":"query","maxLength":38,"minLength":38,"name":"marker","required":false,"type":"string"},{"default":10,"description":"单次查询的条数限制,取值范围(0,100],默认值为10,用于限制结果数据条数。","format":"int32","in":"query","maximum":100,"minimum":1,"name":"limit","required":false,"type":"integer"}],"produces":["application/json"],"responses":{"200":{"description":"操作成功","examples":{"application/json":{"alarms":[{"abnormal_resource":"[{\"name\":\"resource_id\",\"value\":\"f943ef69-1071-4a46-9c45-962c7f826da5\",\"resource_name\":\"\",\"ep_id\":\"\"}]","additional_info":"{\"resource_id\":\"f943ef69-1071-4a46-9c45-962c7f826da5\",\"resource_name\":\"vault-bcc-01\",\"event_id\":\"ev1746577941317md5OORL7o\"}","alarm_actions":"[]","alarm_datapoints":"[{\"time\":\"2025-05-07T08:32:21+08:00\",\"value\":1.0}]","alarm_policy":"{\"period\":\"0\",\"filter\":\"average\",\"comparison_operator\":\">=\",\"value\":1.0,\"unit\":\"count\",\"count\":1,\"suppress_duration\":null}","alarm_record_id":"ah1746577942094DeKqqmW8J","alarm_rule_id":"al1744938349038MxeekzOjp","alarm_rule_name":"alarm-3gdt-test","alarm_type":"EVENT.SYS","condition":null,"duration":"1554591000","eps_id":"","generate_time":"2025-04-19T00:42:30Z","last_update_time":"2025-05-07T00:32:21Z","metric":null,"namespace":"SYS.CBR","ok_actions":"[]","region_id":"region-xx-7","severity":"2","status":"alarm"}],"count":3}},"schema":{"$ref":"#/definitions/ListAlarmsResponseBody"}},"400":{"description":"请求错误。","schema":{"$ref":"#/definitions/ErrorRsp"}},"401":{"description":"未提供认证信息或认证信息错误。","schema":{"$ref":"#/definitions/ErrorRsp"}},"403":{"description":"请求页面被禁止访问。","schema":{"$ref":"#/definitions/ErrorRsp"}},"404":{"description":"未找到资源。","schema":{"$ref":"#/definitions/ErrorRsp"}},"408":{"description":"请求超出了服务器的等待时间。","schema":{"$ref":"#/definitions/ErrorRsp"}},"429":{"description":"当前请求过多。","schema":{"$ref":"#/definitions/ErrorRsp"}},"500":{"description":"请求未完成,服务异常。","schema":{"$ref":"#/definitions/ErrorRsp"}},"503":{"description":"系统暂时不可用,请求受限。","schema":{"$ref":"#/definitions/ErrorRsp"}}},"summary":"查询告警列表","tags":["告警管理"],"x-api-type":"open-api","x-iam-auth-meta-anno":{"abacAction":"bcc::listAlarm","authContextInitializerName":"baseIamAuthContextInitializer","authLevel":"NO_INSTANCE","model":"v5","needAbacCheck":true,"needAbacResourceCheck":false,"needApigwJwtAuthCheck":false,"needCbcCheck":false,"needRbacCheck":false,"needResourceTagCheck":false,"supportAllGrantedEps":false},"x-is-registered":"Y","x-request-examples-1":"https://{endpoint}/v1/{domain_id}/alarms?resource_type=&status=&region_id=&resource_id=&alarm_rule_id=&from=&to=&limit=1","x-request-examples-text-1":"https://{endpoint}/v1/{domain_id}/alarms?resource_type=&status=&region_id=&resource_id=&alarm_rule_id=&from=&to=&limit=1","x-request-examples-url-1":"GET  https://{endpoint}/v1/{domain_id}/alarms","x-support-sdk":"Y"}}},"product_short":"BCC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询告警列表","tags":"告警管理","uri":null,"version":"2.0"}