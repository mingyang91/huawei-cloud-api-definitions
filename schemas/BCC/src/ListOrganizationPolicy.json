{"base_path":"/","components":null,"consumes":"","definitions":{"BccOrganizationPolicy":{"description":"BccOrganizationPolicy","properties":{"detail":{"description":"组织策略详情","properties":{"description":{"description":"策略描述","example":"This is a detailed description of the organization policy.","type":"string"},"domain_id":{"description":"账号ID","example":"domain-123456","type":"string"},"domain_name":{"description":"账号名称","example":"Example Domain","type":"string"},"effective_scope":{"description":"组织策略生效范围","type":"string"},"id":{"description":"策略ID","example":"detail-id-123","type":"string"},"name":{"description":"组织策略名称","example":"Detail Policy Name","type":"string"},"operation_type":{"description":"保护类型:备份(backup)、复制(replication)。","example":"backup","type":"string"},"policy_enabled":{"description":"策略是否开启","example":true,"type":"boolean"},"policy_name":{"description":"策略名称","example":"Detailed Policy Name","type":"string"},"policy_operation_definition":{"description":"策略定义,备份和复制里面的具体字段各不相同,和策略的保持一致。","properties":{"day_backups":{"description":"保留日备个数,该备份不受保留最大备份数限制。取值为0到100。","example":7,"format":"int32","type":"integer"},"destination_project_id":{"description":"复制的目标项目ID,仅在跨区域复制时才会使用并且必须指定。","example":"project-123456","type":"string"},"destination_region":{"description":"复制的目标区域。","example":"destination-region-123","type":"string"},"enable_acceleration":{"description":"跨区域复制时,是否启用加速从而缩减复制的时间,如果不指定,默认不启用加速。","example":true,"type":"boolean"},"full_backup_interval":{"description":"每间隔多少次执行一次全量备份,当取值为 -1 时,不执行全量备份。最小值:-1,最大值:100。","example":7,"format":"int32","type":"integer"},"max_backups":{"description":"单个备份对象自动备份的最大备份数。取值为-1或1-99999。-1代表不按备份数清理。","example":30,"format":"int32","type":"integer"},"month_backups":{"description":"保留月备个数,该备份不受保留最大备份数限制。取值为0到100。","example":30,"format":"int32","type":"integer"},"retention_duration_days":{"description":"备份保留时长,单位天。最长支持99999天。-1代表不按时间清理。","example":365,"format":"int32","type":"integer"},"timezone":{"description":"用户所在时区,格式形如UTC+08:00。","example":"UTC","type":"string"},"week_backups":{"description":"保留周备个数,该备份不受保留最大备份数限制。取值为0到100。","example":4,"format":"int32","type":"integer"},"year_backups":{"description":"保留年备个数,该备份不受保留最大备份数限制。取值为0到100。","example":52,"format":"int32","type":"integer"}}},"policy_trigger":{"$ref":"#/definitions/PolicyTriggerResp"},"status":{"description":"状态","example":"active","type":"string"}}},"region_id":{"description":"区域ID","example":"region-123456","type":"string"}},"type":"object"},"ErrorRsp":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":8,"type":"string"},"error_msg":{"description":"错误描述","maxLength":512,"minLength":2,"type":"string"}},"required":["error_code","error_msg"]},"OrganizationPolicyListResp":{"properties":{"bcc_organization_policies":{"description":"bccOrganizationPolicies","items":{"$ref":"#/definitions/BccOrganizationPolicy"},"type":"array"},"count":{"description":"count","format":"int32","type":"integer"}},"required":["count","bcc_organization_policies"],"type":"object"},"PolicyTriggerPropertiesResp":{"properties":{"pattern":{"description":"调度规则。限制24条规则。调度器的调度规则,可参照iCalendar RFC 2445规范中的事件规则,但仅支持FREQ、BYDAY、BYHOUR、BYMINUTE、INTERVAL等参数,其中FREQ仅支持WEEKLY和DAILY,BYDAY支持一周七天(MO、TU、WE、TH、FR、SA、SU),BYHOUR支持0-23小时,BYMINUTE支持0-59分钟,并且间隔不能小于一小时,一天最大24个时间点。例如,周一到周天,每天UTC时间的14:00调度,其规则为:'FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR,SA,SU;BYHOUR=14;BYMINUTE=00'。例如:某个地区的时间为 UTC+8,如果在该地区每天14:00调度,则在14点基础上减8,其规则为'FREQ=DAILY;INTERVAL=1;BYHOUR=6;BYMINUTE=00'。","items":{"type":"string"},"type":"array","x-admin":"False"}},"required":["pattern"],"type":"object"},"PolicyTriggerResp":{"properties":{"properties":{"$ref":"#/definitions/PolicyTriggerPropertiesResp","description":"调度器属性"}},"required":["properties"],"type":"object"}},"description":null,"group_id":"0cb6191c2c524d62be604224b207d979","host":"bcc.cn-north-4.myhuaweicloud.com","id":"9d3ddb1ae15c4bfc988be02ce8b24627","info_version":"v1","method":"get","name":"ListOrganizationPolicy","parameters":{},"paths":{"/v1/{domain_id}/backup/organizationpolicies":{"get":{"description":"列举策略","operationId":"ListOrganizationPolicy","parameters":[{"description":"账号ID","in":"path","maxLength":32,"minLength":16,"name":"domain_id","pattern":"^[a-z0-9]{16,32}$","required":true,"type":"string"},{"allowEmptyValue":true,"default":10,"description":"分页limit","format":"int32","in":"query","maximum":1000,"minimum":1,"name":"limit","required":false,"type":"integer"},{"allowEmptyValue":true,"default":0,"description":"分页offset","format":"int64","in":"query","maximum":65535,"minimum":0,"name":"offset","required":false,"type":"integer"},{"description":"组织策略类型,取值范围:backup:备份,replication:复制","enum":["backup","replication"],"in":"query","name":"operation_type","required":false,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"","examples":{"application/json":{"bcc_organization_policies":[{"detail":{"description":null,"domain_id":"05753bd8a500d29e0f19c006516a4420","domain_name":"Iaas_cbr_x00415522","id":null,"name":"org_test_0226","operation_type":"backup","policy_enabled":true,"policy_name":"policy_zc_0226","policy_operation_definition":{"day_backups":0,"destination_project_id":null,"destination_region":null,"enable_acceleration":null,"full_backup_interval":-1,"max_backups":-1,"month_backups":0,"retention_duration_days":30,"timezone":"UTC+08:00","week_backups":0,"year_backups":0},"policy_trigger":{"id":null,"name":null,"properties":{"pattern":["FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR,SA,SU;BYHOUR=14;BYMINUTE=00"],"start_time":null},"type":null},"status":"available"},"region_id":"cn-southwest-242"}],"count":11}},"headers":{"X-request-id":{"description":"此字段是用于任务跟踪的请求ID号。","type":"string"}},"schema":{"$ref":"#/definitions/OrganizationPolicyListResp"}},"400":{"description":"请求错误。","schema":{"$ref":"#/definitions/ErrorRsp"}},"401":{"description":"未提供认证信息或认证信息错误。","schema":{"$ref":"#/definitions/ErrorRsp"}},"403":{"description":"请求页面被禁止访问。","schema":{"$ref":"#/definitions/ErrorRsp"}},"404":{"description":"未找到资源。","schema":{"$ref":"#/definitions/ErrorRsp"}},"408":{"description":"请求超出了服务器的等待时间。","schema":{"$ref":"#/definitions/ErrorRsp"}},"429":{"description":"当前请求过多。","schema":{"$ref":"#/definitions/ErrorRsp"}},"500":{"description":"请求未完成,服务异常。","schema":{"$ref":"#/definitions/ErrorRsp"}},"503":{"description":"服务端错误","schema":{"$ref":"#/definitions/ErrorRsp"}}},"summary":"列举策略","tags":["组织策略"],"x-api-type":"open-api","x-iam-auth-meta-anno":{"abacAction":"bcc::listOrganizationPolicy","authContextInitializerName":"baseIamAuthContextInitializer","authLevel":"NO_INSTANCE","model":"v5","needAbacCheck":true,"needAbacResourceCheck":false,"needApigwJwtAuthCheck":false,"needCbcCheck":false,"needRbacCheck":false,"needResourceTagCheck":false,"supportAllGrantedEps":false},"x-is-registered":"Y","x-request-examples-1":" https://{endpoint}/v1/{06dde4de1800d3f50f52c002xxxxxxxx}/backup/organizationpolicies?limit=1&offset=0&opertation_type=backup","x-request-examples-text-1":" https://{endpoint}/v1/{06dde4de1800d3f50f52c002xxxxxxxx}/backup/organizationpolicies?limit=1&offset=0&opertation_type=backup","x-request-examples-url-1":"GET  https://{endpoint}/v1/{domain_id}/backup/organizationpolicies","x-support-sdk":"Y"}}},"product_short":"BCC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"列举策略","tags":"组织策略","uri":null,"version":"2.0"}