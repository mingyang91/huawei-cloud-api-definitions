{"base_path":"/","components":null,"consumes":"","definitions":{"ErrorRsp":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":8,"type":"string"},"error_msg":{"description":"错误描述","maxLength":512,"minLength":2,"type":"string"}},"required":["error_code","error_msg"]},"ListVaultTopsResponseBody":{"description":"存储库统计信息","properties":{"count":{"description":"存储库总数","exclusiveMaximum":true,"format":"int64","maximum":65535,"minimum":0,"type":"integer"},"vaults":{"description":"存储库统计信息","items":{"properties":{"dimension":{"description":"指标数据维度","type":"string"},"id":{"description":"存储库ID","type":"string"},"time":{"description":"指标时间,单位毫秒","format":"int64","type":"integer"},"unit":{"description":"指标数据的单位,例如:个、GB、%","type":"string"},"value":{"description":"指标数据取值","format":"double","type":"number"}},"required":["id","time","dimension","value"]},"maxItems":100,"minItems":0,"type":"array"}},"required":["count","vaults"],"type":"object"}},"description":null,"group_id":"0cb6191c2c524d62be604224b207d979","host":"bcc.cn-north-4.myhuaweicloud.com","id":"42203be36c8c4eceb9b50acadbeb06da","info_version":"v1","method":"get","name":"ListVaultTops","parameters":{},"paths":{"/v1/{domain_id}/backup/vault-tops":{"get":{"description":"查询使用最高的存储库,按使用容量或者按使用率排序返回","operationId":"ListVaultTops","parameters":[{"description":"账号ID","in":"path","maxLength":32,"minLength":16,"name":"domain_id","pattern":"^[a-z0-9]{16,32}$","required":true,"type":"string"},{"description":"区域ID","in":"query","maxLength":32,"minLength":6,"name":"region_id","pattern":"^[a-z0-9-]{6,32}$","required":false,"type":"string"},{"description":"返回的类型:按容量排序返回或者按使用率排序返回,取值范围:vault_util,used_vault_size","enum":["vault_util","used_vault_size"],"in":"query","maxLength":16,"minLength":2,"name":"metric_name","required":true,"type":"string"},{"default":5,"description":"返回的存储库数量,取值范围(0,100],默认值为5,用于限制结果数据条数。","format":"int32","in":"query","maximum":100,"minimum":1,"name":"limit","required":false,"type":"integer"}],"produces":["application/json"],"responses":{"200":{"description":"操作成功。","examples":{"application/json":{"count":3,"vaults":[{"dimension":"instance_id,f943ef69-1071-4a46-9c45-962c7f826da5","time":1746576000000,"unit":"%","value":50.37},{"dimension":"instance_id,0aae4cbc-f79c-4670-b178-bef948373197","time":1746576000000,"unit":"%","value":0},{"dimension":"instance_id,d2afb771-71e5-47a7-ba82-59d98ba24c0a","time":1746576000000,"unit":"%","value":0}]}},"schema":{"$ref":"#/definitions/ListVaultTopsResponseBody"}},"400":{"description":"请求错误。","schema":{"$ref":"#/definitions/ErrorRsp"}},"401":{"description":"未提供认证信息或认证信息错误。","schema":{"$ref":"#/definitions/ErrorRsp"}},"403":{"description":"请求页面被禁止访问。","schema":{"$ref":"#/definitions/ErrorRsp"}},"404":{"description":"未找到资源。","schema":{"$ref":"#/definitions/ErrorRsp"}},"408":{"description":"请求超出了服务器的等待时间。","schema":{"$ref":"#/definitions/ErrorRsp"}},"429":{"description":"当前请求过多。","schema":{"$ref":"#/definitions/ErrorRsp"}},"500":{"description":"请求未完成,服务异常。","schema":{"$ref":"#/definitions/ErrorRsp"}},"503":{"description":"系统暂时不可用,请求受限。","schema":{"$ref":"#/definitions/ErrorRsp"}}},"summary":"查询使用最高的存储库","tags":["监控"],"x-api-type":"open-api","x-iam-auth-meta-anno":{"abacAction":"bcc::listVaultTop","authContextInitializerName":"baseIamAuthContextInitializer","authLevel":"NO_INSTANCE","model":"v5","needAbacCheck":true,"needAbacResourceCheck":false,"needApigwJwtAuthCheck":false,"needCbcCheck":false,"needRbacCheck":false,"needResourceTagCheck":false,"supportAllGrantedEps":false},"x-is-registered":"Y","x-request-examples-1":"https://{endpoint}/v1/{domain_id}/backup/vault-tops?metric_name=vault_util&region_id=&limit=3","x-request-examples-text-1":"https://{endpoint}/v1/{domain_id}/backup/vault-tops?metric_name=vault_util&region_id=&limit=3","x-request-examples-url-1":"GET https://{endpoint}/v1/{domain_id}/backup/vault-tops","x-support-sdk":"Y"}}},"product_short":"BCC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询使用最高的存储库","tags":"监控","uri":null,"version":"2.0"}