{"base_path":"/","components":null,"consumes":"","definitions":{"BccPolicy":{"description":"BccPolicy","properties":{"cbr_policy_detail":{"$ref":"#/definitions/CbrPolicyDetail","description":"cbr备份策略详情"},"cyber":{"default":"false","description":"是否启用加密","example":"string","type":"string"},"db_policy_detail":{"$ref":"#/definitions/DbPolicyDetail","description":"数据库保护策略详情"},"enabled":{"default":false,"description":"是否启用策略","type":"boolean"},"id":{"description":"策略ID","type":"string"},"name":{"description":"区域名称","type":"string"},"policy_type":{"description":"策略类型","example":"string","type":"string"},"protection_type":{"description":"保护类型","example":"string","type":"string"},"region_id":{"description":"区域ID","type":"string"},"service_type":{"description":"保护服务类型","example":"string","type":"string"},"storage_type":{"default":"obs","description":"存储类型,默认obs","example":"string","type":"string"}},"type":"object"},"BccPolicyAssociateVault":{"description":"policy关联存储库vault","properties":{"destination_vault_id":{"description":"目标region vaultId","type":"string"},"vault_id":{"description":"vaultId","type":"string"}},"type":"object"},"CbrPolicyDetail":{"description":"CbrPolicyDetail","properties":{"domain_id":{"description":"账号ID","example":"06dde4de1800d3f50f52c002xxxxxxxx","type":"string"},"enterprise_project_id":{"description":"企业项目ID","example":"null","type":"string"},"id":{"description":"策略ID","example":"022b2902-87af-402b-bb0c-5b68d8141c61","type":"string"},"project_id":{"description":"项目ID","example":"null","type":"string"},"provider":{"description":"资源归属云服务","example":"cbr","type":"string"},"region_id":{"description":"区域ID","example":"region-xx","type":"string"},"resource_detail":{"description":"资源详情","properties":{"associate_vaults":{"description":"管理存储库列表","example":"null","items":{"$ref":"#/definitions/BccPolicyAssociateVault"},"type":"array"},"cross_account_urn":{"description":"账号备份的账号urn","example":"null","type":"string"},"day_backups":{"description":"保留日备个数,该备份不受保留最大备份数限制。取值为0到100。","example":0,"format":"int32","type":"integer"},"destination_project_id":{"description":"复制的目标项目ID,仅在跨区域复制时才会使用并且必须指定。","example":"null","type":"string"},"destination_region":{"description":"目标region","example":"null","type":"string"},"enable_acceleration":{"description":"跨区域复制时,是否启用加速从而缩减复制的时间,如果不指定,默认不启用加速。","example":false,"type":"boolean"},"enabled":{"description":"是否启用","example":true,"type":"boolean"},"full_backup_interval":{"description":"每间隔多少次执行一次全量备份,当取值为 -1 时,不执行全量备份。最小值:-1,最大值:100。","example":100,"format":"int32","type":"integer"},"max_backups":{"description":"最大备份数量max_backups","example":-1,"format":"int32","type":"integer"},"month_backups":{"description":"保留月备个数,该备份不受保留最大备份数限制。取值为0到100。","example":100,"format":"int32","type":"integer"},"operation_type":{"description":"数据保护类型","example":"backup","type":"string"},"pattern":{"description":"pattern","example":["RRULE:FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR,SA,SU;BYHOUR=14;BYMINUTE=00"],"type":"string"},"retention_duration_days":{"description":"备份保留时长,单位天。最长支持99999天。-1代表不按时间清理。","example":-1,"format":"int32","type":"integer"},"start_time":{"description":"开始时间start_time","example":"2025-03-25T03:26:29Z","type":"string"},"timezone":{"description":"用户所在时区,格式形如UTC+08:00。","example":"UTC+08:00","type":"string"},"week_backups":{"description":"保留周备个数,该备份不受保留最大备份数限制。取值为0到100。","example":0,"format":"int32","type":"integer"},"year_backups":{"description":"保留年备个数,该备份不受保留最大备份数限制。取值为0到100。","example":100,"format":"int32","type":"integer"}}},"resource_label":{"description":"资源标签","example":"null","items":{"$ref":"#/definitions/Tag"},"type":"array"},"resource_name":{"description":"资源名称","example":"robin-test-policy101","type":"string"}},"type":"object"},"DbPolicyDetail":{"properties":{"backup_policy":{"description":"数据库备份策略","properties":{"differential_period":{"description":"gaussdb差异备份周期","format":"int32","type":"integer"},"enable_standby_backup":{"description":"gaussdb是否启用standby备份","type":"boolean"},"file_split_size":{"description":"gaussdb文件拆分大小","format":"int32","type":"integer"},"keep_days":{"description":"备份保留时长","example":7,"format":"int32","type":"integer"},"period":{"description":"备份周期,一周哪几天","example":"1,2,3,4,5,6,7","type":"string"},"prefetch_block":{"description":"gaussdb预取页面个数","format":"int32","type":"integer"},"rate_limit":{"description":"gaussdb备份限速","format":"int32","type":"integer"},"start_time":{"description":"备份开始时间","example":"18:00-19:00","type":"string"}}},"offsite_backup_policy":{"description":"数据库复制策略","items":{"properties":{"backup_type":{"description":"备份类型,增量或全量","example":"xx","type":"string"},"destination_projectId":{"description":"目标项目ID","example":"xx","type":"string"},"destination_region":{"description":"目标区域ID","example":"xx","type":"string"},"keep_days":{"description":"复制保留时长","example":0,"format":"int32","type":"integer"}}},"type":"array"}},"type":"object"},"ErrorRsp":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":8,"type":"string"},"error_msg":{"description":"错误描述","maxLength":512,"minLength":2,"type":"string"}},"required":["error_code","error_msg"]},"PolicyListResp":{"properties":{"bcc_policies":{"description":"bccPolicies","items":{"$ref":"#/definitions/BccPolicy"},"type":"array"},"count":{"description":"count","example":10,"format":"int32","type":"integer"}},"required":["count","bccPolicies"],"type":"object"},"Tag":{"description":"","properties":{"key":{"description":"键。\n\nkey最大长度为36个字符。\n\nkey不能为空字符串。\n\nkey前后空格会被丢弃。\n\nkey不能包含非打印字符ASCII(0-31),“=”,“*”,“<”,“>”,“\\”,“,”,“|”,“/”。\n\nkey只能由中文,字母,数字,“-”,“_”组成。","type":"string","x-open-region-cloud":"hc,hk,otc,ocb,tlf,ctc,hcso,sbc,g42,tm,hcso_dt,hcso_g42_b,hk_vdf"},"value":{"description":"值。\n\n添加标签时value值必选,删除标签时value值可选。\n\nvalue最大长度为43个字符。\n\nvalue可以为空字符串。\n\nvalue前后的空格会被丢弃。\n\nvalue不能包含非打印字符ASCII(0-31),“=”,“*”,“<”,“>”,“\\”,“,”,“|”,“/”。\n\nvalue只能由中文,字母,数字,“-”,“_”,“.”组成。","type":"string","x-open-region-cloud":"hc,hk,otc,ocb,tlf,ctc,hcso,sbc,g42,tm,hcso_dt,hcso_g42_b,hk_vdf"}},"required":["key","value"]}},"description":null,"group_id":"0cb6191c2c524d62be604224b207d979","host":"bcc.cn-north-4.myhuaweicloud.com","id":"b464548b65724fcdaae9544108feb7d3","info_version":"v1","method":"get","name":"ListPolicy","parameters":{},"paths":{"/v1/{domain_id}/backup/policies":{"get":{"description":"列举策略","operationId":"ListPolicy","parameters":[{"description":"账号ID","in":"path","maxLength":32,"minLength":16,"name":"domain_id","pattern":"^[a-z0-9]{16,32}$","required":true,"type":"string"},{"description":"区域ID","in":"query","maxLength":32,"minLength":1,"name":"region_id","required":false,"type":"string"},{"description":"策略类型,备份 backup, 复制 replication","enum":["backup","replication"],"in":"query","maxLength":32,"minLength":1,"name":"operation_type","required":false,"type":"string"},{"allowEmptyValue":true,"default":10,"description":"分页参数limit","format":"int32","in":"query","maximum":1000,"minimum":1,"name":"limit","required":false,"type":"integer"},{"allowEmptyValue":true,"default":0,"description":"分页参数offset","format":"int64","in":"query","maximum":65535,"minimum":0,"name":"offset","required":false,"type":"integer"}],"produces":["application/json"],"responses":{"200":{"description":"Demo Information","examples":{"application/json":{"bcc_policies":[{"cbr_policy_detail":{"domain_id":"06dde4de1800d3f50f52c002xxxxxxxx","enterprise_project_id":null,"id":"10cde105-06fe-4e73-a59e-d1c1f08e5f3c","project_id":null,"provider":"cbr","region_id":"region-xx","resource_detail":{"associate_vaults":[],"cross_account_urn":null,"day_backups":0,"destination_project_id":"","destination_region":"","enable_acceleration":false,"enabled":true,"full_backup_interval":100,"max_backups":-1,"month_backups":0,"operation_type":"backup","pattern":"[FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR,SA,SU;BYHOUR=14;BYMINUTE=00]","retention_duration_days":-1,"start_time":"2025-04-17 11:29:03","timezone":"UTC+08:00","week_backups":0,"year_backups":100},"resource_label":null,"resource_name":"robin-test-policy001"},"cyber":null,"enabled":null,"name":"robin-test-policy001","policy_type":null,"protection_type":null,"region_id":"region-xx","service_type":null,"storage_type":null}],"count":15}},"schema":{"$ref":"#/definitions/PolicyListResp"}},"400":{"description":"Error response","schema":{"$ref":"#/definitions/ErrorRsp"}}},"summary":"列举策略","tags":["策略"],"x-api-type":"open-api","x-iam-auth-meta-anno":{"abacAction":"bcc::listPolicy","authContextInitializerName":"baseIamAuthContextInitializer","authLevel":"NO_INSTANCE","model":"v5","needAbacCheck":true,"needAbacResourceCheck":false,"needApigwJwtAuthCheck":false,"needCbcCheck":false,"needRbacCheck":false,"needResourceTagCheck":false,"supportAllGrantedEps":false},"x-is-registered":"Y","x-order":0,"x-request-examples-1":"https://{endpoint}/v1/{domain_id}/backup/policies?limit=1&offset=0","x-request-examples-text-1":"https://{endpoint}/v1/{domain_id}/backup/policies?limit=1&offset=0","x-request-examples-url-1":"GET  https://{endpoint}/v1/{domain_id}/backup/policies","x-support-sdk":"Y"}}},"product_short":"BCC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"列举策略","tags":"策略","uri":null,"version":"2.0"}