{"base_path":"/","components":null,"consumes":"","definitions":{"CreateReportSettingResponseBody":{"description":"创建报告配置返回响应体Body","properties":{"setting_id":{"description":"配置ID","maxLength":24,"minLength":24,"pattern":"^[0-9a-f]{24}$","type":"string"}},"required":["setting_id"],"type":"object"},"ErrorRsp":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":8,"type":"string"},"error_msg":{"description":"错误描述","maxLength":512,"minLength":2,"type":"string"}},"required":["error_code","error_msg"]},"ReportSetting":{"description":"报告配置请求参数","properties":{"enabled":{"description":"是否启用,取值范围:true,false","enum":[true,false],"example":true,"type":"boolean"},"frequency":{"description":"生成报告的频率(每隔多少天生成一次报告),默认7天,取值范围7到30天","example":7,"format":"int32","maximum":30,"minimum":7,"type":"integer"},"region_ids":{"default":"[]","description":"参与统计的资源归属的区域列表,不设置表示全部区域,默认不设置","example":["region-xx-4"],"items":{"maxLength":32,"minLength":7,"pattern":"^[a-z](?:[a-z0-9]|-(?!$)){5,30}[a-z0-9]$","type":"string"},"maxItems":8,"minItems":0,"type":"array","uniqueItems":true},"report_name_prefix":{"description":"报告名称的前缀,取值长度为2到32个字符","example":"my-report-","maxLength":32,"minLength":2,"type":"string"},"report_template_name":{"description":"报告模板名称,例如TEMPLATE.TASK","example":"my-template-name","maxLength":32,"minLength":2,"type":"string"},"resource_types":{"default":"[]","description":"参与统计的资源类型列表,不设置表示全部资源类型,默认不设置","example":"[Server,Volume]","items":{"$ref":"#/definitions/ResourceTypeEnum"},"maxItems":9,"minItems":0,"type":"array","uniqueItems":true},"retention_duration":{"default":7,"description":"报告保留天数,默认7天,取值范围7到1095天","example":100,"format":"int32","maximum":365,"minimum":7,"type":"integer"},"setting_name":{"description":"配置名称,取值长度为2到32个字符","example":"my-setting-name","maxLength":32,"minLength":2,"type":"string"},"time_range":{"default":7,"description":"参与统计的数据范围(生成报告时刻往前多少天内的数据参与统计,滚动计算),默认7天,取值范围:7到30天,详情类数据报告不受此项配置约束","example":7,"format":"int32","maximum":30,"minimum":7,"type":"integer"}},"required":["setting_name","enabled","time_range","report_template_name","frequency","retention_duration","report_name_prefix"],"type":"object"},"ResourceTypeEnum":{"description":"Server:云服务器\nVolume:云硬盘\nSfs-Turbo:高性能文件系统\nWorkspace:云桌面\nMySQL:云数据库RDS(MySQL)\nPostgreSQL:云数据库RDS(PostgreSQL)\nSQLServer:云数据库RDS(SQLServer)\nMariaDB:云数据库RDS(MariaDB)\nGaussDB:云数据库GaussDB","enum":["Server","Volume","Sfs-Turbo","Workspace","MySQL","PostgreSQL","SQLServer","MariaDB","GaussDB"],"example":"Server","maxLength":16,"minLength":2,"type":"string"}},"description":null,"group_id":"0cb6191c2c524d62be604224b207d979","host":"bcc.cn-north-4.myhuaweicloud.com","id":"33883fc63abe4d03b5c6f0490cf4972a","info_version":"v1","method":"post","name":"CreateReportSetting","parameters":{},"paths":{"/v1/{domain_id}/report/settings":{"post":{"consumes":["application/json"],"description":"创建报告配置","operationId":"CreateReportSetting","parameters":[{"description":"账号ID","in":"path","maxLength":32,"minLength":16,"name":"domain_id","pattern":"^[a-z0-9]{16,32}$","required":true,"type":"string"},{"description":"创建报告配置的请求体","in":"body","name":"CreateReportSettingRequestBody","required":true,"schema":{"$ref":"#/definitions/ReportSetting"}}],"produces":["application/json"],"responses":{"200":{"description":"操作成功","examples":{"application/json":{"setting_id":"6822eb4e106c99765412c9b3"}},"schema":{"$ref":"#/definitions/CreateReportSettingResponseBody"}},"400":{"description":"请求错误。","schema":{"$ref":"#/definitions/ErrorRsp"}},"401":{"description":"未提供认证信息或认证信息错误。","schema":{"$ref":"#/definitions/ErrorRsp"}},"403":{"description":"请求页面被禁止访问。","schema":{"$ref":"#/definitions/ErrorRsp"}},"408":{"description":"请求超出了服务器的等待时间。","schema":{"$ref":"#/definitions/ErrorRsp"}},"429":{"description":"当前请求过多。","schema":{"$ref":"#/definitions/ErrorRsp"}},"500":{"description":"请求未完成,服务异常。","schema":{"$ref":"#/definitions/ErrorRsp"}},"503":{"description":"系统暂时不可用,请求受限。","schema":{"$ref":"#/definitions/ErrorRsp"}}},"summary":"创建报告配置","tags":["报告配置"],"x-api-type":"open-api","x-iam-auth-meta-anno":{"abacAction":"bcc::createReportSetting","authContextInitializerName":"baseIamAuthContextInitializer","authLevel":"NO_INSTANCE","model":"v5","needAbacCheck":true,"needAbacResourceCheck":false,"needApigwJwtAuthCheck":false,"needCbcCheck":false,"needRbacCheck":false,"needResourceTagCheck":false,"supportAllGrantedEps":false},"x-is-registered":"Y","x-order":0,"x-request-examples-1":{"enabled":true,"frequency":7,"region_ids":["region-xx-4","region-xx-1"],"report_name_prefix":"my-bcc-report-","report_template_name":"TEMPLATE.TASK","resource_types":["Server","Volume","Sfs-Turbo"],"retention_duration":30,"setting_name":"my-setting-name","time_range":7},"x-request-examples-description-1":"创建报告配置请求体示例","x-request-examples-text-1":{"enabled":true,"frequency":7,"region_ids":["region-xx-4","region-xx-1"],"report_name_prefix":"my-bcc-report-","report_template_name":"TEMPLATE.TASK","resource_types":["Server","Volume","Sfs-Turbo"],"retention_duration":30,"setting_name":"my-setting-name","time_range":7},"x-request-examples-url-1":"https://{bcc_endpoint}/v1/{domain_id}/report/settings","x-support-sdk":"Y"}}},"product_short":"BCC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建报告配置","tags":"报告配置","uri":null,"version":"2.0"}