{"base_path":null,"components":{"responses":{"Cam500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CamErrorResponse"}}},"description":"内部错误。"}},"schemas":{"CamErrorResponse":{"properties":{"error_code":{"description":"错误码。","type":"string"},"error_msg":{"description":"错误信息。","type":"string"},"error_sol":{"description":"详细定位信息。","type":"string"}},"type":"object"},"CreateInstanceResp":{"description":"创建、更新实例响应体","example":{"id":"2c90905e882f432e0188319ef8230015"},"properties":{"id":{"description":"实例ID","example":"8a0e84e78842500f018842cd433e0001","type":"string"}},"type":"object"},"InstanceCreation":{"description":"创建实例请求体","properties":{"desc":{"description":"实例描述,非必填","example":"","type":"string"},"diagram":{"description":"架构部署图,通过设计器创建时必填","example":"{\"nodes\":[],\"groups\":[{\"id\":\"1\",\"title\":\"虚拟私有云 VPC\",\"label\":\"1\",\"parent\":[],\"graphType\":2,\"data\":{\"module-id\":\"terraform-huaweicloud-vpc\",\"query-form\":{},\"creation-form\":{\"name\":\"vpc-456b\",\"cidr\":\"10.0.0.0/8\"}},\"position\":[205.38348388671875,59.545440673828125],\"x\":205.38348388671875,\"y\":59.545440673828125,\"width\":530,\"height\":610,\"style\":\"shape=image;groupStyle;isBg=1;image=//127.0.0.1:8992/cam/assets/images/architecture-editor/create/group-terraform-huaweicloud-vpc.png\",\"defaultParentId\":\"layer1\"}],\"links\":[]}","type":"string"},"image":{"description":"设计器架构图base64编码,通过设计器创建或更新实例时可选","example":"data:image/png;base64,iVBORw0xxxxxxx....","type":"string"},"instance_id":{"description":"实例id,更新时必填","example":"2c90953586b5e6xxxx6b6b60e860003","type":"string"},"name":{"description":"实例名称,必填","example":"instance-cam","type":"string"},"template_id":{"description":"预置模板id,通过模板创建时必填","example":"2c90953586b5e6xxxx6b6b60e860003","type":"string"},"variables":{"description":"变量值,通过模板创建时必填","properties":{"components":{"description":"组件变量","example":{},"type":"object"},"environment":{"description":"环境变量","example":{},"type":"object"}},"type":"object"}},"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"66601b9b4dd246ddab6e76d90a0b0ecd","host":"servicestage.cn-north-4.myhuaweicloud.com","id":"87d89e4292a84394b29768dee9817cd4","info_version":"v2","method":"post","name":"CreateCamInstance","parameters":null,"paths":{"/v1/{project_id}/instances":{"post":{"description":"创建、更新实例","operationId":"CreateCamInstance","parameters":[{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"schema":{"type":"string"},"x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"项目ID","in":"path","name":"project_id","required":true,"schema":{"type":"string"},"x-example":"46b6f338fc3445b8846c71dfb1fbd9e8"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InstanceCreation"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateInstanceResp"}}},"description":"操作成功。"},"500":{"$ref":"#/components/responses/Cam500"}},"summary":"创建、更新实例","tags":["云应用模型"],"x-request-examples-1":{"desc":"instance-desc","diagram":"{\"nodes\":[],\"groups\":[{\"id\":\"1\",\"title\":\"虚拟私有云 VPC\",\"label\":\"虚拟私有云 VPC\",\"graphType\":2,\"data\":{\"module-id\":\"terraform-huaweicloud-vpc\",\"query-form\":{},\"creation-form\":{\"name\":\"vpc-c518\",\"cidr\":\"10.0.0.0/8\",\"enterprise_project_id\":\"0\"}},\"position\":[245,58],\"x\":245,\"y\":58,\"width\":760,\"height\":670,\"defaultParentId\":\"layer1\",\"properties\":{\"graphType\":2},\"parent\":[],\"configInfoInvalid\":false}],\"links\":[],\"configs\":{\"zoomRatio\":1}}","name":"instance-cam"},"x-request-examples-2":{"desc":"instance-desc","name":"instance-cam","template_id":"202212081602","variables":{"environment":{"vpc_name":"test1121"}}},"x-request-examples-3":{"desc":"instance-desc","diagram":"{\"nodes\":[],\"groups\":[{\"id\":\"1\",\"title\":\"虚拟私有云 VPC\",\"label\":\"虚拟私有云 VPC\",\"graphType\":2,\"data\":{\"module-id\":\"terraform-huaweicloud-vpc\",\"query-form\":{},\"creation-form\":{\"name\":\"vpc-c518\",\"cidr\":\"10.0.0.0/8\",\"enterprise_project_id\":\"0\"}},\"position\":[245,58],\"x\":245,\"y\":58,\"width\":760,\"height\":670,\"defaultParentId\":\"layer1\",\"properties\":{\"graphType\":2},\"parent\":[],\"configInfoInvalid\":false}],\"links\":[],\"configs\":{\"zoomRatio\":1}}","name":"instance-cam"},"x-request-examples-url-1":"POST https://{cam_endpoint}/v1/{project_id}/instances","x-request-examples-url-2":"POST https://{cam_endpoint}/v1/{project_id}/instances","x-request-examples-url-3":"POST https://{cam_endpoint}/v1/{project_id}/instances"}}},"product_short":"ServiceStage","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建、更新实例","tags":"云应用模型","uri":null,"version":"3.0.1"}