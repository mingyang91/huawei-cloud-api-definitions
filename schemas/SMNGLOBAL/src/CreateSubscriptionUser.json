{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CreateSubscriptionUserRequestBody":{"properties":{"email":{"$ref":"#/definitions/CreateSubscriptionUserRequestEmailEndpointInfo","description":"email协议订阅用户终端地址。"},"group":{"description":"订阅用户分组。每个订阅分组只能包含中英文、数字([0-9])、下划线(_),下划线不能出现在开始或结尾,下划线不能连续出现,长度为1到32个字符。","items":{"example":"分组1","maxLength":32,"minLength":1,"pattern":"^[a-z0-9](?!.*?_{2,})([a-z0-9_]{0,30}[a-z0-9])?$","type":"string"},"maxItems":10,"minItems":0,"type":"array"},"http":{"$ref":"#/definitions/CreateSubscriptionUserRequestHttpEndpointInfo","description":"http协议订阅用户终端地址。"},"https":{"$ref":"#/definitions/CreateSubscriptionUserRequestHttpsEndpointInfo","description":"https协议订阅用户终端地址。"},"name":{"description":"订阅用户名称。","example":"SubscriptionUserName","maxLength":128,"minLength":1,"pattern":"^[^+]+$","type":"string"},"sms":{"$ref":"#/definitions/CreateSubscriptionUserRequestSmsEndpointInfo","description":"sms协议订阅用户终端地址。"}},"required":["name"],"type":"object"},"CreateSubscriptionUserRequestEmailEndpointInfo":{"properties":{"endpoint":{"description":"终端地址。必须是邮件地址。","type":"string"}},"required":["endpoint"],"type":"object"},"CreateSubscriptionUserRequestHttpEndpointInfo":{"properties":{"endpoint":{"description":"终端地址。必须以“http://”开头。","type":"string"},"header":{"additionalProperties":{"type":"string"},"description":"http协议订阅用户的自定义请求头。http协议订阅用户可以自定义请求头。","type":"object"}},"required":["endpoint"],"type":"object"},"CreateSubscriptionUserRequestHttpsEndpointInfo":{"properties":{"endpoint":{"description":"终端地址。必须以“https://”开头。","type":"string"},"header":{"additionalProperties":{"type":"string"},"description":"https协议订阅用户的自定义请求头。https协议订阅用户可以自定义请求头。","type":"object"}},"required":["endpoint"],"type":"object"},"CreateSubscriptionUserRequestSmsEndpointInfo":{"properties":{"endpoint":{"description":"终端地址。必须是一个电话号码。","type":"string"}},"required":["endpoint"],"type":"object"},"CreateSubscriptionUserResponseBody":{"properties":{"id":{"description":"订阅用户ID。","example":"e08d1d82a57a4772b353d85445cefd7b","type":"string"},"request_id":{"description":"请求的唯一标识ID。","example":"4143732b537348ecb69688da56d629c4","type":"string"}},"required":["request_id","id"],"type":"object"},"FailedResponse":{"properties":{"error_code":{"description":"返回信息对应的代码。","example":"SMN.00020001","type":"string"},"error_msg":{"description":"服务异常错误信息描述。","example":"Error","type":"string"},"request_id":{"description":"请求的唯一标示ID。","example":"47e870bb4c6a4766a5c67d15b639c573","type":"string"}},"required":["error_code","error_msg","request_id"],"type":"object"}},"description":null,"group_id":"2dec62c1dd84479d80805d5737344ea9","host":"smn-global.myhuaweicloud.com","id":"7c30ccbd6e604d11848c41875c8c821f","info_version":"v2","method":"post","name":"CreateSubscriptionUser","parameters":{"X-Auth-Token":{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string"}},"paths":{"/v2/{domain_id}/subscription-users":{"post":{"description":"添加订阅用户。如果订阅用户的状态为未确认,则会向订阅用户发送一条确认订阅消息。订阅用户点击订阅链接确认订阅后,则订阅用户的状态变更为已确认,同时会向订阅用户发送一条取消订阅消息,便于订阅用户随时可以取消订阅。订阅用户点击取消订阅链接后,则订阅用户的状态变更为已取消,同时会向订阅用户发送一条重新订阅消息,便于订阅用户可以重新订阅。","operationId":"CreateSubscriptionUser","parameters":[{"description":"租户账号ID。","in":"path","name":"domain_id","required":true,"type":"string"},{"in":"body","name":"CreateSubscriptionUserRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateSubscriptionUserRequestBody"}},{"$ref":"#/parameters/X-Auth-Token"}],"responses":{"201":{"description":"OK","schema":{"$ref":"#/definitions/CreateSubscriptionUserResponseBody"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/FailedResponse"}},"403":{"description":"Unauthorized","schema":{"$ref":"#/definitions/FailedResponse"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/FailedResponse"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/FailedResponse"}}},"summary":"添加订阅用户","tags":["订阅用户"],"x-apiexplorer-hide":"N","x-iftype":"externalAPI","x-is-registered":"Y","x-name":"添加订阅用户","x-open-region-cloud":"hk,hc","x-support-sdk":"Y"}}},"product_short":"SMNGLOBAL","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"添加订阅用户","tags":"订阅用户","uri":null,"version":"2.0"}