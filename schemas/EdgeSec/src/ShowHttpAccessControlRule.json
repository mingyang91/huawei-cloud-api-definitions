{"base_path":null,"components":{"schemas":{"ErrorResponseBody":{"description":"通用错误响应","properties":{"encoded_authorization_message":{"description":"对接IAM5.0的服务,拒绝访问时需要返回IAM的相关响应","type":"string"},"error_code":{"description":"标准化错误码:服务名.八位数字编码","type":"string"},"error_msg":{"description":"清晰的错误信息","type":"string"}},"type":"object"},"HttpAccessControlRuleCondition":{"description":"条件列表参数较为复杂,存在级联关系,建议同时使用控制台上的添加误报屏蔽规则,单击F12键查看路径后缀为/access-control-rule,方法为POST的请求参数,便于理解参数的填写","properties":{"category":{"description":"字段类型。可选值为:url、custom_asn、custom_geoip、robot、user-agent、ip、params、cookie、referer、header、method、request_line、request、response_code、response_length、response_time、response_header、response_body","pattern":"^[a-zA-Z0-9_\\-/:.]{0,256}$","type":"string"},"check_all_indexes_logic":{"description":"1.所有子字段/2.任意子字段","type":"integer"},"contents":{"description":"内容列表","items":{"pattern":"^[\\s\\S]{0,4096}$","type":"string"},"type":"array"},"index":{"description":"子字段:\n - 字段类型为url、custom_asn、custom_geoip、robot、user-agent、referer、request_line、method、request、response_code、response_length、response_time、response_body时,不需要传index参数  \n - 字段类型为params、cookie、header、response_header并且子字段为自定义时,index的值为自定义子字段","pattern":"^[\\s\\S]{0,4096}$","type":"string"},"logic_operation":{"description":"处理逻辑","pattern":"^[a-zA-Z0-9_\\-/:.]{0,256}$","type":"string"},"size":{"description":"若防护规则涉及阈值,即使用该字段","format":"int64","type":"integer"},"value_list_id":{"description":"引用表id","type":"string"}},"type":"object"},"HttpRuleAction":{"description":"防护规则动作","properties":{"category":{"description":"操作类型。 \n - “block”:拦截。 \n - “pass”:放行。 \n - “log”:仅记录","pattern":"^[a-zA-Z0-9_\\-/:.]{0,256}$","type":"string"},"detail":{"$ref":"#/components/schemas/HttpRuleActionDetail"},"followed_action_id":{"description":"攻击惩罚规则id,只有当category参数值为block时才可配置该参数","pattern":"^[a-zA-Z0-9-]{32,36}$","type":"string"}},"required":["category"],"type":"object"},"HttpRuleActionDetail":{"description":"防护规则动作","properties":{"redirect_url":{"description":"返回页面重定向的url","pattern":"^[\\s\\S]{0,2048}$","type":"string"},"response":{"$ref":"#/components/schemas/HttpRuleActionResponse"}},"type":"object"},"HttpRuleActionResponse":{"description":"防护规则返回页面","properties":{"content":{"description":"内容","pattern":"^[\\s\\S]{0,2048}$","type":"string"},"content_type":{"description":"内容类型","pattern":"^[\\s\\S]{0,256}$","type":"string"}},"type":"object"},"ShowHttpAccessControlRuleResponseBody":{"properties":{"action":{"$ref":"#/components/schemas/HttpRuleAction"},"conditions":{"description":"命中条件","items":{"$ref":"#/components/schemas/HttpAccessControlRuleCondition"},"type":"array"},"description":{"description":"规则描述","type":"string"},"id":{"description":"规则id","type":"string"},"name":{"description":"规则名称","type":"string"},"policy_id":{"description":"规则所在策略id","type":"string"},"policy_name":{"description":"规则所在策略名称","type":"string"},"priority":{"description":"优先级","type":"integer"},"producer":{"description":"创建来源","type":"integer"},"start":{"description":"生效时间","format":"int64","type":"integer"},"status":{"description":"规则开关状态","type":"integer"},"terminal":{"description":"失效时间","format":"int64","type":"integer"},"time":{"description":"是否设定生效时间","type":"boolean"},"timestamp":{"description":"创建规则时间戳","format":"int64","type":"integer"}},"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"097b41aa00ce42768253a0a028ddb99b","host":"esa.cn-north-4.myhuaweicloud.com","id":"fc638eb6c55542b6b62c8fd108fa0943","info_version":"v2","method":"get","name":"ShowHttpAccessControlRule","parameters":null,"paths":{"/v1/edgesec/configuration/http/policies/{policy_id}/access-control-rule/{rule_id}":{"get":{"description":"查询精准防护规则","operationId":"ShowHttpAccessControlRule","parameters":[{"description":"auth token","in":"header","name":"X-Auth-Token","required":true,"schema":{"type":"string"}},{"description":"策略id","in":"path","name":"policy_id","required":true,"schema":{"pattern":"^[a-zA-Z0-9-]{32,36}$","type":"string"}},{"description":"防护规则id","in":"path","name":"rule_id","required":true,"schema":{"pattern":"^[a-zA-Z0-9-]{32,36}$","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ShowHttpAccessControlRuleResponseBody"}}},"description":"请求成功"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseBody"}}},"description":"请求失败"},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseBody"}}},"description":"token权限不足"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseBody"}}},"description":"服务器内部错误"}},"summary":"查询精准防护规则","tags":["Http防护规则管理-精准防护"],"x-iam-auth-meta-anno":{"abacAction":"edgesec:wafCustomRule:get","authLevel":"token","rbac":"{\"op_service\",\"te_admin\",\"op_restricted\",\"readonly\"}"},"x-is-registered":"Y","x-support-sdk":"Y"}}},"product_short":"EdgeSec","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询精准防护规则","tags":"Http防护规则管理-精准防护","uri":null,"version":"3.0.1"}