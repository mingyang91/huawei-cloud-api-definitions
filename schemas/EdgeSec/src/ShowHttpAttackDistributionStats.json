{"base_path":null,"components":{"schemas":{"CommonStatItem":{"description":"单个统计模型","properties":{"key":{"description":"对应请求参数group_by的子类别。例如在Http攻击分布统计接口中,group_by为action时,key可为:log、block、captcha、js_challenge;在Http攻击Top接口中,group_by为url时,key可为请求的URL,例:/abc。","type":"string"},"value":{"description":"攻击请求数","format":"int64","type":"integer"}},"required":["key","value"],"type":"object"},"ErrorRsp":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":8,"type":"string"},"error_msg":{"description":"错误描述","maxLength":512,"minLength":2,"type":"string"}},"required":["error_code","error_msg"],"type":"object"},"HttpDistributionResponse":{"description":"http distribution response","properties":{"end_time":{"description":"结束时间","format":"int64","type":"integer"},"group_by":{"description":"分组统计维度","type":"string"},"start_time":{"description":"开始时间","format":"int64","type":"integer"},"stat_num":{"default":0,"description":"统计数量","format":"int64","type":"integer"},"stat_type":{"description":"安全统计指标类型。","type":"string"},"values":{"description":"统计数组","items":{"$ref":"#/components/schemas/CommonStatItem"},"type":"array"}},"required":["end_time","group_by","start_time","stat_num","stat_type","values"],"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"097b41aa00ce42768253a0a028ddb99b","host":"esa.cn-north-4.myhuaweicloud.com","id":"62c8e6aec96b463aa9e1cb5ab1e9a173","info_version":"v2","method":"get","name":"ShowHttpAttackDistributionStats","parameters":null,"paths":{"/v1/edgesec/stat/http-attack-distribution":{"get":{"description":"查询HTTP攻击分布数据","operationId":"ShowHttpAttackDistributionStats","parameters":[{"description":"租户token","in":"header","name":"X-Auth-Token","required":true,"schema":{"type":"string"}},{"description":"您可以通过调用企业项目管理服务(EPS)的查询企业项目列表接口(ListEnterpriseProject)查询企业项目id,默认为0","in":"query","name":"enterprise_project_id","schema":{"type":"string"}},{"description":"域名","in":"query","name":"domain_name","schema":{"type":"string"}},{"description":"安全统计指标类型。\n比如req_num(请求次数),bw(带宽),目前支持req_num","in":"query","name":"stat_type","required":true,"schema":{"enum":["req_num","bw"],"type":"string"}},{"description":"目前支持action(防护动作), attack_type(攻击类型)","in":"query","name":"group_by","required":true,"schema":{"enum":["action","attack_type"],"type":"string"}},{"description":"起始时间,使用秒级时间戳","in":"query","name":"start_time","required":true,"schema":{"format":"int64","type":"integer"}},{"description":"结束时间,使用秒级时间戳","in":"query","name":"end_time","required":true,"schema":{"format":"int64","type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpDistributionResponse"}}},"description":"请求成功"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorRsp"}}},"description":"请求失败"},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorRsp"}}},"description":"token权限不足"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorRsp"}}},"description":"服务器内部错误"}},"summary":"查询HTTP攻击分布数据","tags":["Http统计"],"x-iam-auth-meta-anno":{"abacAction":"edgesec:statistics:get","authContextInitializerName":"defaultIamAuthContextInitializer","authLevel":"TOKEN","model":"v5-pkitoken","needAbacCheck":true,"needAbacResourceCheck":false,"needApigwJwtAuthCheck":true,"needCbcCheck":false,"needRbacCheck":false,"needResourceTagCheck":false,"supportAllGrantedEps":true},"x-is-registered":"Y","x-support-sdk":"Y"}}},"product_short":"EdgeSec","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询HTTP攻击分布数据","tags":"Http统计","uri":null,"version":"3.0.1"}