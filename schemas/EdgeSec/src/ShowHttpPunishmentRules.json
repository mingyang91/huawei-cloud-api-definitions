{"base_path":null,"components":{"schemas":{"ErrorResponseBody":{"description":"通用错误响应","properties":{"encoded_authorization_message":{"description":"对接IAM5.0的服务,拒绝访问时需要返回IAM的相关响应","type":"string"},"error_code":{"description":"标准化错误码:服务名.八位数字编码","type":"string"},"error_msg":{"description":"清晰的错误信息","type":"string"}},"type":"object"},"ShowHttpPunishmentRuleResponseBody":{"properties":{"block_time":{"description":"拦截时长","type":"integer"},"category":{"description":"拦截类型,可选值为:long_ip_block(长时间IP拦截)、long_cookie_block(长时间Cookie拦截)、long_params_block(长时间Params拦截)、short_ip_block(短时间IP拦截)、short_cookie_block(短时间Cookie拦截)、short_params_block(短时间Params拦截)","type":"string"},"description":{"description":"规则描述","type":"string"},"id":{"description":"规则id","type":"string"},"policy_id":{"description":"规则所在策略id","type":"string"},"timestamp":{"description":"创建规则时间戳","format":"int64","type":"integer"}},"type":"object"},"ShowHttpPunishmentRulesResponseBody":{"properties":{"items":{"description":"防护规则列表","items":{"$ref":"#/components/schemas/ShowHttpPunishmentRuleResponseBody"},"type":"array"},"total":{"description":"策略下防护规则数量","type":"integer"}},"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"097b41aa00ce42768253a0a028ddb99b","host":"esa.cn-north-4.myhuaweicloud.com","id":"67c755a9fe1447f9b204333f13b8e857","info_version":"v2","method":"get","name":"ShowHttpPunishmentRules","parameters":null,"paths":{"/v1/edgesec/configuration/http/policies/{policy_id}/punishment-rule":{"get":{"description":"查询攻击惩罚规则列表","operationId":"ShowHttpPunishmentRules","parameters":[{"description":"auth token","in":"header","name":"X-Auth-Token","required":true,"schema":{"type":"string"}},{"description":"策略id","in":"path","name":"policy_id","required":true,"schema":{"pattern":"^[a-zA-Z0-9-]{32,36}$","type":"string"}},{"description":"分页查询参数,第page页","in":"query","name":"page","schema":{"default":1,"maximum":1000,"minimum":1,"type":"integer"}},{"description":"分页查询参数,每页显示pagesize条记录","in":"query","name":"pagesize","schema":{"default":10,"maximum":1000,"minimum":-1,"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ShowHttpPunishmentRulesResponseBody"}}},"description":"OK"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseBody"}}},"description":"请求失败"},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseBody"}}},"description":"token权限不足"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseBody"}}},"description":"服务器内部错误"}},"summary":"查询攻击惩罚规则列表","tags":["Http防护规则管理-攻击惩罚"],"x-iam-auth-meta-anno":{"abacAction":"edgesec:wafPunishmentRule:list","authLevel":"token","rbac":"{\"op_service\",\"te_admin\",\"op_restricted\",\"readonly\"}"},"x-is-registered":"Y","x-support-sdk":"Y"}}},"product_short":"EdgeSec","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询攻击惩罚规则列表","tags":"Http防护规则管理-攻击惩罚","uri":null,"version":"3.0.1"}