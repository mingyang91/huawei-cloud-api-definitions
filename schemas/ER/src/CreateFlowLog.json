{"base_path":null,"components":{"parameters":{"ErIdInPath":{"description":"企业路由器实例ID","explode":false,"in":"path","name":"er_id","required":true,"schema":{"pattern":"[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}","type":"string"},"style":"simple"},"ProjectIdInPath":{"description":"项目ID","explode":false,"in":"path","name":"project_id","required":true,"schema":{"pattern":"[a-fA-F0-9]{32}","type":"string"},"style":"simple"},"XClientTokenInHeader":{"description":"幂等性标识","explode":false,"in":"header","name":"X-Client-Token","required":false,"schema":{"maxLength":64,"minLength":1,"type":"string"},"style":"simple"}},"schemas":{"CreateFlowLogRequestBody":{"description":"创建流日志请求体","properties":{"flow_log":{"$ref":"#/components/schemas/FlowLogRequest"}},"required":["flow_log"],"type":"object"},"FlowLog":{"description":"流日志详情","properties":{"created_at":{"description":"创建时间","format":"date-time","type":"string"},"description":{"description":"流日志描述","example":"string","type":"string"},"enabled":{"description":"日志开关:true|false","type":"boolean"},"id":{"description":"流日志ID","example":"string","type":"string"},"log_aggregation_interval":{"description":"日志聚合时间,单位s,取值范围:60-600","example":600,"type":"integer"},"log_group_id":{"description":"日志组ID","example":"string","type":"string"},"log_store_type":{"description":"流日志存储类型","example":"string","type":"string"},"log_stream_id":{"description":"日志流ID","example":"string","type":"string"},"name":{"description":"流日志名称","example":"string","type":"string"},"project_id":{"description":"流日志任务创建者项目ID","example":"string","type":"string"},"resource_id":{"description":"采集的资源ID","example":"string","type":"string"},"resource_type":{"description":"采集的资源类型:attachment","example":"string","type":"string"},"state":{"description":"日志资源状态:pending|available|modifying|deleting|deleted|failed","type":"string"},"updated_at":{"description":"更新时间","format":"date-time","type":"string"}},"required":["created_at","enabled","id","log_group_id","log_store_name","log_store_type","log_stream_id","name","project_id","resource_id","resource_type","state"],"type":"object"},"FlowLogRequest":{"description":"创建流日志请求体","properties":{"description":{"description":"流日志描述","maxLength":255,"minLength":0,"pattern":"[^<>]*","type":"string"},"log_group_id":{"description":"日志组ID。请在云日志服务中获取,详情请参见《云日志服务用户指南》。","pattern":"[0-9a-fA-F]{8}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{12}","type":"string"},"log_store_type":{"description":"流日志的存储类型:\n- LTS: 云日志服务器存储","enum":["LTS"],"type":"string"},"log_stream_id":{"description":"日志主题ID。请在云日志服务中获取,详情请参见《云日志服务用户指南》。","pattern":"[0-9a-fA-F]{8}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{12}","type":"string"},"name":{"description":"流日志名称","maxLength":64,"minLength":1,"pattern":"[\\u4e00-\\u9fa5a-zA-Z0-9-_.]*","type":"string"},"resource_id":{"description":"要采集的资源ID","pattern":"[0-9a-fA-F]{8}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{12}","type":"string"},"resource_type":{"description":"流日志采集的资源类型:\n  - VPC连接\n  - 虚拟网关连接\n  - 对等连接","enum":["attachment"],"type":"string"}},"required":["log_group_id","log_store_type","log_stream_id","name","resource_id","resource_type"],"type":"object"},"ShowFlowLogResponseBody":{"description":"流日志详情","properties":{"flow_log":{"$ref":"#/components/schemas/FlowLog"},"request_id":{"description":"请求id","type":"string"}},"required":["flow_log","request_id"],"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"4edc6305921947bbb54dc306bc43ad6c","host":"er.cn-north-4.myhuaweicloud.com","id":"8438ec0b1788449d92b638a09022f05f","info_version":"v3","method":"post","name":"CreateFlowLog","parameters":null,"paths":{"/v3/{project_id}/enterprise-router/{er_id}/flow-logs":{"post":{"deprecated":false,"description":"给ER实例创建流日志。","operationId":"CreateFlowLog","parameters":[{"$ref":"#/components/parameters/XClientTokenInHeader"},{"$ref":"#/components/parameters/ProjectIdInPath"},{"$ref":"#/components/parameters/ErIdInPath"}],"requestBody":{"content":{"application/json":{"example":{"flow_log":{"description":"flow log test","log_group_id":"0139393c-eeb2-49f0-bbd4-c5faec6b1497","log_store_type":"LTS","log_stream_id":"d22c3b44-2f71-470f-83f3-96a8af6956ad","name":"flow-log","resource_id":"6f83b848-8331-4271-ac0c-ef94b7686402","resource_type":"attachment"}},"schema":{"$ref":"#/components/schemas/CreateFlowLogRequestBody"}}},"description":"创建流日志的消息体","required":true},"responses":{"202":{"content":{"application/json":{"example":{"flow_log":{"created_at":"2020-03-11T15:13:31Z","description":"ER流日志","enabled":true,"id":"b216bc1d-5963-41a7-89f9-779a5128c5ac","log_aggregation_interval":600,"log_group_id":"0139393c-eeb2-49f0-bbd4-c5faec6b1497","log_store_type":"LTS","log_stream_id":"d22c3b44-2f71-470f-83f3-96a8af6956ad","name":"flow_log","project_id":"0605767a9980d5762fbcc00b3537e757","resource_id":"6f83b848-8331-4271-ac0c-ef94b7686402","resource_type":"attachment","state":"available","updated_at":"2022-03-11T15:13:31Z"},"request_id":"915a14a6-867b-4af7-83d1-70efceb146f9"},"schema":{"$ref":"#/components/schemas/ShowFlowLogResponseBody"}}},"description":"Accepted","headers":{"X-Client-Token":{"description":"幂等性标识","explode":false,"schema":{"type":"string"},"style":"simple"}}}},"summary":"创建流日志","tags":["FlowLog"],"x-huawei-security":{"enableEProject":true,"epsAction":"create","pdpKey":"er:flowLogs:create"},"x-is-registered":"Y","x-open-region-cloud":"hc,hk,dt,ctc","x-request-examples-description-1":"创建流日志","x-request-examples-url-1":"POST https://{erouter_endpoint}/v3/0605767a9980d5762fbcc00b3537e757/enterprise-router/a43c55e9-4911-4030-90e1-5c2bf6ae6fe2/flow-logs","x-support-sdk":"Y"}}},"product_short":"ER","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建流日志","tags":"流日志","uri":null,"version":"3.0.1"}