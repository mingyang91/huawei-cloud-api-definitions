{"base_path":null,"components":{"parameters":{"ErIdInPath":{"description":"企业路由器实例ID","explode":false,"in":"path","name":"er_id","required":true,"schema":{"pattern":"[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}","type":"string"},"style":"simple"},"FlowLogResourceIdInQuery":{"description":"连接对应的资源ID列表","explode":true,"in":"query","name":"resource_id","required":false,"schema":{"items":{"pattern":"[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}","type":"string"},"type":"array"},"style":"form"},"FlowLogResourceTypeInQuery":{"description":"采集的资源类型","explode":true,"in":"query","name":"resource_type","required":false,"schema":{"enum":["attachment"],"type":"string"},"style":"form"},"LimitInQuery":{"description":"每页返回的个数。\n取值范围:0~2000。","example":10,"explode":true,"in":"query","name":"limit","required":false,"schema":{"format":"int32","maximum":2000,"minimum":0,"type":"integer"},"style":"form"},"MarkerInQuery":{"description":"上一页最后一条记录的企业路由器实例的id,为空时为查询第一页。\n使用说明:必须与limit一起使用。","example":"7f7f738f-453c-40b1-be26-28e7b9e390c1","explode":true,"in":"query","name":"marker","required":false,"schema":{"maxLength":128,"minLength":1,"type":"string"},"style":"form"},"ProjectIdInPath":{"description":"项目ID","explode":false,"in":"path","name":"project_id","required":true,"schema":{"pattern":"[a-fA-F0-9]{32}","type":"string"},"style":"simple"},"SortDirInQuery":{"description":"返回结果按照升序或降序排列,默认为asc,降序为desc","explode":true,"in":"query","name":"sort_dir","required":false,"schema":{"items":{"enum":["asc","desc"],"type":"string"},"type":"array"},"style":"form"},"SortKeyInQuery":{"description":"按关键字排序,默认按照id排序,可选值:id|name|state","explode":true,"in":"query","name":"sort_key","required":false,"schema":{"items":{"maxLength":128,"minLength":0,"type":"string"},"type":"array"},"style":"form"}},"schemas":{"FlowLog":{"description":"流日志详情","properties":{"created_at":{"description":"创建时间","format":"date-time","type":"string"},"description":{"description":"流日志描述","example":"string","type":"string"},"enabled":{"description":"日志开关:true|false","type":"boolean"},"id":{"description":"流日志ID","example":"string","type":"string"},"log_aggregation_interval":{"description":"日志聚合时间,单位s,取值范围:60-600","example":600,"type":"integer"},"log_group_id":{"description":"日志组ID","example":"string","type":"string"},"log_store_type":{"description":"流日志存储类型","example":"string","type":"string"},"log_stream_id":{"description":"日志流ID","example":"string","type":"string"},"name":{"description":"流日志名称","example":"string","type":"string"},"project_id":{"description":"流日志任务创建者项目ID","example":"string","type":"string"},"resource_id":{"description":"采集的资源ID","example":"string","type":"string"},"resource_type":{"description":"采集的资源类型:attachment","example":"string","type":"string"},"state":{"description":"日志资源状态:pending|available|modifying|deleting|deleted|failed","type":"string"},"updated_at":{"description":"更新时间","format":"date-time","type":"string"}},"required":["created_at","enabled","id","log_group_id","log_store_name","log_store_type","log_stream_id","name","project_id","resource_id","resource_type","state"],"type":"object"},"ListFlowLogResponseBody":{"description":"流日志列表","properties":{"flow_logs":{"items":{"$ref":"#/components/schemas/FlowLog"},"type":"array"},"page_info":{"$ref":"#/components/schemas/PageInfo"},"request_id":{"description":"请求ID","type":"string"},"total_count":{"description":"总计数量","format":"int64","type":"integer"}},"required":["flow_logs","request_id"],"type":"object"},"PageInfo":{"description":"分页查询的信息","properties":{"current_count":{"description":"当前列表中资源数量","format":"int32","type":"integer"},"next_marker":{"description":"下一页的marker,为空时表示最后一页","type":"string"}},"required":["current_count"],"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"4edc6305921947bbb54dc306bc43ad6c","host":"er.cn-north-4.myhuaweicloud.com","id":"30017d8d57fd42cdaba339e70747b2ed","info_version":"v3","method":"get","name":"ListFlowLogs","parameters":null,"paths":{"/v3/{project_id}/enterprise-router/{er_id}/flow-logs":{"get":{"deprecated":false,"description":"查询企业路由器实例下的流日志列表","operationId":"ListFlowLogs","parameters":[{"$ref":"#/components/parameters/ProjectIdInPath"},{"$ref":"#/components/parameters/ErIdInPath"},{"$ref":"#/components/parameters/FlowLogResourceTypeInQuery"},{"$ref":"#/components/parameters/FlowLogResourceIdInQuery"},{"$ref":"#/components/parameters/LimitInQuery"},{"$ref":"#/components/parameters/MarkerInQuery"},{"$ref":"#/components/parameters/SortKeyInQuery"},{"$ref":"#/components/parameters/SortDirInQuery"}],"responses":{"200":{"content":{"application/json":{"example":{"flow_logs":[{"created_at":"2020-03-11T15:13:31Z","description":"ER流日志","domain_id":"0605767a9980d5762fbcc00b3537e757","enabled":true,"id":"b216bc1d-5963-41a7-89f9-779a5128c5ac","log_aggregation_interval":600,"log_group_id":"0139393c-eeb2-49f0-bbd4-c5faec6b1497","log_store_type":"LTS","log_stream_id":"d22c3b44-2f71-470f-83f3-96a8af6956ad","name":"flow_log","project_id":"0605767a9980d5762fbcc00b3537e757","resource_id":"6f83b848-8331-4271-ac0c-ef94b7686402","resource_type":"attachment","state":"available","updated_at":"2022-03-11T15:13:31Z"}],"page_info":{"current_count":1,"next_marker":"1"},"request_id":"915a14a6-867b-4af7-83d1-70efceb146f9"},"schema":{"$ref":"#/components/schemas/ListFlowLogResponseBody"}}},"description":"OK"}},"summary":"查询流日志列表","tags":["FlowLog"],"x-constraint":"- 支持过滤查询,过滤条件有resource_type,resource_id,enterprise_project_id过滤条件可以重复和组合。\n- 支持分页查询,limit和marker组合实现分页查询。\n- 支持单字段排序功能,排序字段有[id,name,state],不支持多字段排序。","x-huawei-security":{"enableEProject":true,"epsAction":"list","pdpKey":"er:flowLogs:list"},"x-is-registered":"Y","x-open-region-cloud":"hc,hk,dt,ctc","x-request-examples-description-1":"查询流日志列表","x-request-examples-url-1":"GET https://{erouter_endpoint}/v3/0605767a9980d5762fbcc00b3537e757/enterprise-router/a43c55e9-4911-4030-90e1-5c2bf6ae6fe2/flow-logs","x-support-sdk":"Y"}}},"product_short":"ER","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询流日志列表","tags":"流日志","uri":null,"version":"3.0.1"}