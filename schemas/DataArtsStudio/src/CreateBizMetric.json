{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ApprovalStatusEnum":{"description":"业务审批状态。DEVELOPING(审核中)、APPROVED(审核通过)、REJECT(审核驳回)、WITHDREW(审核撤销)。","enum":["DEVELOPING","APPROVED","REJECT","WITHDREW"],"readOnly":true,"type":"string"},"ApprovalTypeEnum":{"description":"业务审核类型。PUBLISH(发布)、OFFLINE(下线)。","enum":["PUBLISH","OFFLINE"],"type":"string"},"ApprovalVO":{"description":"审批信息,只读参数。业务对象最近一次的审批信息,包括审批的业务详情、审核人信息、审核时间等。","properties":{"approval_status":{"$ref":"#/definitions/ApprovalStatusEnum"},"approval_time":{"description":"审核时间。","format":"date-time","type":"string"},"approval_type":{"$ref":"#/definitions/ApprovalTypeEnum"},"approver":{"description":"审核人。","type":"string"},"biz_id":{"description":"业务ID。","format":"int64","type":"string"},"biz_info":{"description":"业务详情。","type":"string"},"biz_info_obj":{"description":"业务详情。","type":"object"},"biz_status":{"$ref":"#/definitions/BizStatusEnum"},"biz_type":{"$ref":"#/definitions/BizTypeEnum"},"biz_version":{"description":"业务版本。","type":"integer"},"create_by":{"description":"创建者。","type":"string"},"directory_path":{"description":"目录树。","type":"string"},"email":{"description":"审核人邮箱。","type":"string"},"id":{"description":"审批单ID。","format":"int64","type":"string"},"l1":{"description":"主题域分组。","readOnly":true,"type":"string"},"l2":{"description":"主题域。","readOnly":true,"type":"string"},"l3":{"description":"业务对象。","readOnly":true,"type":"string"},"msg":{"description":"审核信息。","type":"string"},"name_ch":{"description":"业务中文名。","type":"string"},"name_en":{"description":"业务英文名。","type":"string"},"submit_time":{"description":"提交时间。","format":"date-time","type":"string"},"tenant_id":{"description":"项目ID。","type":"string"}},"readOnly":true,"type":"object"},"BizMetricVO":{"description":"业务指标信息。","example":{"apply_scenario":"","biz_catalog_id":"1029701703198519304","code":"ZB000000","data_origin":"","definition":"example","destination":"example","dimensions":"公司","expression":"a+b+c","general_filters":"example","id":"1036590187955851264","interval_type":"DAY","measure":"","name":"业务指标实例","name_alias":"bizMetricDemo","owner":"tester","owner_department":"testDep","remark":"example","technical_metric":1036590187955851745,"time_filters":"天","unit":""},"properties":{"apply_scenario":{"description":"应用场景。","maxLength":255,"type":"string"},"approval_info":{"$ref":"#/definitions/ApprovalVO"},"biz_catalog_id":{"description":"归属的流程架构的ID。","format":"int64","type":"integer"},"biz_catalog_path":{"description":"归属的流程架构路径。","readOnly":true,"type":"string"},"biz_metric":{"$ref":"#/definitions/SyncStatusEnum","description":"业务指标同步状态。","readOnly":true},"biz_type":{"$ref":"#/definitions/BizTypeEnum"},"code":{"description":"指标编码。","readOnly":true,"type":"string"},"create_by":{"description":"创建人。","readOnly":true,"type":"string"},"create_time":{"description":"创建时间,格式遵循RFC3339,精确到秒,UTC时区,即yyyy-mm-ddTHH:MM:SSZ,如1970-01-01T00:00:00Z。","format":"date-time","readOnly":true,"type":"string"},"data_origin":{"description":"数据来源。","maxLength":1000,"pattern":"^[^\\\\\\\\]*$","type":"string"},"definition":{"description":"指标定义。","maxLength":1000,"type":"string"},"destination":{"description":"设置目的。","maxLength":1000,"type":"string"},"dimensions":{"description":"统计维度。","maxLength":1000,"pattern":"^[\\u4e00-\\u9fa5a-zA-Z\\d_\\(\\)\\-\\/()\\,]*$","type":"string"},"expression":{"description":"计算公式。","maxLength":1000,"type":"string"},"general_filters":{"description":"统计口径和修饰词。","maxLength":1000,"type":"string"},"guid":{"description":"资产同步后的guid。","readOnly":true,"type":"string"},"id":{"description":"编码,更新时必填,创建是为空。","format":"int64","type":"integer"},"interval_type":{"default":"DAY","description":"刷新频率。MINUTE(每分钟)、HOUR(每小时)、DAY(每天)、WEEK(每周)、MONTH(每月)、YEAR(每年)、REAL_TIME(实时)、HALF_HOUR(每半小时)、QUART(每15分钟)、DOUBLE_WEEK(每两周)、HALF_YEAR(每半年)、HALF_DAY(每半天)。","enum":["MINUTE","HOUR","DAY","WEEK","MONTH","YEAR","REAL_TIME","HALF_HOUR","QUART","DOUBLE_WEEK","HALF_YEAR","HALF_DAY"],"type":"string"},"l1":{"$ref":"#/definitions/l1"},"l2":{"$ref":"#/definitions/l2"},"l3":{"$ref":"#/definitions/l3"},"measure":{"description":"度量对象。","maxLength":255,"type":"string"},"name":{"description":"指标名称。","maxLength":500,"pattern":"^[\\u4e00-\\u9fa5a-zA-Z\\d_\\(\\)\\-\\/()]*$","type":"string"},"name_alias":{"description":"指标别名。","maxLength":500,"pattern":"^[^\\\\<>]*$","type":"string"},"new_biz":{"$ref":"#/definitions/BizVersionManageVO"},"owner":{"description":"指标责任人。","maxLength":100,"pattern":"^[a-zA-Z\\u4e00-\\u9fa5][a-zA-Z0-9_\\u4e00-\\u9fa5\\-\\(\\)\\.\\s]*$","type":"string"},"owner_department":{"description":"指标管理部门。","maxLength":600,"pattern":"^[\\u4e00-\\u9fa5a-zA-Z\\d_\\-\\s]*$","type":"string"},"remark":{"description":"备注。","maxLength":600,"pattern":"^[^\\\\\\\\]*$","type":"string"},"status":{"$ref":"#/definitions/BizStatusEnum","readOnly":true},"summary_status":{"$ref":"#/definitions/SyncStatusEnum","description":"同步统计状态。","readOnly":true},"technical_metric":{"description":"关联技术指标。","format":"int64","type":"integer"},"technical_metric_name":{"description":"关联技术指标名称。","readOnly":true,"type":"string"},"technical_metric_type":{"$ref":"#/definitions/BizTypeEnum"},"time_filters":{"description":"统计周期(时间限定)。","maxLength":500,"type":"string"},"unit":{"description":"计量单位。","maxLength":50,"type":"string"},"update_by":{"description":"更新人。","readOnly":true,"type":"string"},"update_time":{"description":"更新时间,格式遵循RFC3339,精确到秒,UTC时区,即yyyy-mm-ddTHH:MM:SSZ,如1970-01-01T00:00:00Z。","format":"date-time","readOnly":true,"type":"string"}},"required":["biz_catalog_id","name","time_filters","interval_type","owner","owner_department","destination","definition","expression"],"type":"object"},"BizStatusEnum":{"description":"实体的发布状态,只读,创建和更新时无需填写。DRAFT(草稿)、PUBLISH_DEVELOPING(发布待审核)、PUBLISHED(已发布)、OFFLINE_DEVELOPING(下线待审核)、OFFLINE(已下线)、REJECT(已驳回)。","enum":["DRAFT","PUBLISH_DEVELOPING","PUBLISHED","OFFLINE_DEVELOPING","OFFLINE","REJECT"],"readOnly":true,"type":"string"},"BizTypeEnum":{"description":"业务实体类型。AGGREGATION_LOGIC_TABL(汇总表)、ATOMIC_INDE(原子指标)、ATOMIC_METRI(原子指标(新))、BIZ_CATALO(流程架构目录)、BIZ_METRI(业务指标)、CODE_TABL(码表)、COMMON_CONDITIO(通用限定)、COMPOSITE_METRI(复合指标(新))、COMPOUND_METRI(复合指标)、CONDITION_GROU(限定分组)、DEGENERATE_DIMENSIO(退化维度)、DERIVATIVE_INDE(衍生指标)、DERIVED_METRI(衍生指标(新))、DIMENSIO(维度)、DIMENSION_ATTRIBUT(维度属性)、DIMENSION_HIERARCHIE(维度层级)、DIMENSION_LOGIC_TABL(维度表)、DIMENSION_TABLE_ATTRIBUT(维度属性)、DIRECTOR(目录)、FACT_ATTRIBUT(事实表属性)、FACT_DIMENSIO(事实表维度)、FACT_LOGIC_TABL(事实表)、FACT_MEASUR(事实表度量)、FUNCTIO(函数)、INFO_ARC(信息架构(批量修改主题使用))、MODE(模型)、QUALITY_RUL(质量规则)、SECRECY_LEVE(密级)、STANDARD_ELEMEN(数据标准)、STANDARD_ELEMENT_TEMPLAT(数据标准模板)、SUBJEC(主题)、SUMMARY_DIMENSION_ATTRIBUT(汇总表维度属性)、SUMMARY_INDE(汇总表指标属性)、SUMMARY_TIM(汇总表时间周期属性)、TABLE_MODE(关系模型(逻辑模型/物理模型))、TABLE_MODEL_ATTRIBUT(关系模型属性(逻辑模型/物理模型))、TABLE_MODEL_LOGI(逻辑实体)、TABLE_TYP(表类型)、TA(标签)、TIME_CONDITIO(时间限定)。","enum":["AGGREGATION_LOGIC_TABLE","ATOMIC_INDEX","ATOMIC_METRIC","BIZ_CATALOG","BIZ_METRIC","CODE_TABLE","COMMON_CONDITION","COMPOSITE_METRIC","COMPOUND_METRIC","CONDITION_GROUP","DEGENERATE_DIMENSION","DERIVATIVE_INDEX","DERIVED_METRIC","DIMENSION","DIMENSION_ATTRIBUTE","DIMENSION_HIERARCHIES","DIMENSION_LOGIC_TABLE","DIMENSION_TABLE_ATTRIBUTE","DIRECTORY","FACT_ATTRIBUTE","FACT_DIMENSION","FACT_LOGIC_TABLE","FACT_MEASURE","FUNCTION","INFO_ARCH","MODEL","QUALITY_RULE","SECRECY_LEVEL","STANDARD_ELEMENT","STANDARD_ELEMENT_TEMPLATE","SUBJECT","SUMMARY_DIMENSION_ATTRIBUTE","SUMMARY_INDEX","SUMMARY_TIME","TABLE_MODEL","TABLE_MODEL_ATTRIBUTE","TABLE_MODEL_LOGIC","TABLE_TYPE","TAG","TIME_CONDITION"],"type":"string"},"BizVersionManageVO":{"default":null,"description":"业务版本管理。","properties":{"biz_id":{"description":"业务ID。","format":"int64","type":"integer"},"biz_info":{"description":"业务对象信息。","type":"string"},"biz_type":{"$ref":"#/definitions/BizTypeEnum"},"biz_version":{"description":"业务版本。","readOnly":true,"type":"integer"},"create_time":{"description":"创建时间,格式遵循RFC3339,精确到秒,UTC时区,即yyyy-mm-ddTHH:MM:SSZ,如1970-01-01T00:00:00Z。","format":"date-time","readOnly":true,"type":"string"},"id":{"description":"ID信息。","format":"int64","type":"integer"},"status":{"$ref":"#/definitions/BizStatusEnum"},"update_time":{"description":"更新时间,格式遵循RFC3339,精确到秒,UTC时区,即yyyy-mm-ddTHH:MM:SSZ,如1970-01-01T00:00:00Z。","format":"date-time","readOnly":true,"type":"string"}},"readOnly":true,"type":"object"},"DsResponseVO":{"properties":{"data":{"description":"返回的数据信息。","type":"object"}},"type":"object"},"SyncStatusEnum":{"description":"同步状态。NO_NEED(未同步)、CREATE_SUCCESS(创建成功)、CREATE_FAILED(创建失败)、UPDATE_SUCCESS(更新成功)、UPDATE_FAILED(更新失败)、SUMMARY_SUCCESS(整体成功)、SUMMARY_FAILED(整体失败)、RUNNING(整体运行)、OFFLINE(已下线)。","enum":["NO_NEED","CREATE_SUCCESS","CREATE_FAILED","UPDATE_SUCCESS","UPDATE_FAILED","SUMMARY_SUCCESS","SUMMARY_FAILED","RUNNING","OFFLINE"],"type":"string"},"l1":{"description":"主题域分组中文名,只读,创建和更新时无需填写。","readOnly":true,"type":"string"},"l2":{"description":"主题域中文名,只读,创建和更新时无需填写。","readOnly":true,"type":"string"},"l3":{"description":"业务对象中文名,只读,创建和更新时无需填写。","readOnly":true,"type":"string"}},"description":null,"group_id":"23bb69798aaf409da161a43a90617121","host":"dayu.cn-north-4.myhuaweicloud.com","id":"f5db5ad18f3a4a62997c050dcbdd60de","info_version":"v1","method":"post","name":"CreateBizMetric","parameters":{"contextTypeParam":{"description":"默认值:application/json;charset=UTF-8\n可选,有Body体的情况下必选,没有Body体则无需填写和校验。","in":"header","maxLength":64,"minLength":3,"name":"Content-Type","required":false,"type":"string"},"tenantIdParam":{"description":"项目ID,获取方法请参见[项目ID和账号ID](projectid_accountid.xml)。","in":"path","maxLength":64,"minLength":3,"name":"project_id","required":true,"type":"string"},"tenantXIdParam":{"description":"项目ID,获取方法请参见[项目ID和账号ID](projectid_accountid.xml)。\n\n多project场景采用AK/SK认证的接口请求,则该字段必选。","in":"header","maxLength":64,"minLength":3,"name":"X-Project-Id","required":false,"type":"string"},"tokenParam":{"description":"IAM Token,通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)\n使用Token认证时必选。","in":"header","maxLength":4096,"minLength":0,"name":"X-Auth-Token","required":true,"type":"string"},"workspaceParam":{"description":"工作空间ID,获取方法请参见[实例ID和工作空间ID](dataartsstudio_02_0350.xml)。","in":"header","maxLength":64,"minLength":3,"name":"workspace","required":true,"type":"string"}},"paths":{"/v2/{project_id}/design/biz-metrics":{"post":{"description":"创建业务指标。","operationId":"CreateBizMetric","parameters":[{"$ref":"#/parameters/tokenParam"},{"$ref":"#/parameters/workspaceParam"},{"$ref":"#/parameters/tenantIdParam"},{"$ref":"#/parameters/tenantXIdParam"},{"$ref":"#/parameters/contextTypeParam"},{"description":"待创建的业务指标。","in":"body","name":"CreateBizMetricRequestBody","required":true,"schema":{"$ref":"#/definitions/BizMetricVO"}}],"produces":["application/json;charset=UTF-8"],"responses":{"200":{"description":"Success,返回data数据是BizMetricVO。","examples":{"application/json":{"data":{"value":{"apply_scenario":"","approval_info":null,"biz_catalog_id":"1029701703198519304","biz_catalog_path":"营销/门店营销/门店","biz_metric":null,"biz_type":null,"code":"ZB000000","create_by":"ei_dlf_l00341563","create_time":"2022-10-31T10:39:20+08:00","data_origin":"","definition":"example","destination":"example","dimensions":"公司","expression":"a+b+c","general_filters":"example","guid":null,"id":"1036590187955851264","interval_type":"DAY","l1":"营销","l2":"门店营销","l3":"门店","measure":"","name":"业务指标实例","name_alias":"bizMetricDemo","new_biz":null,"owner":"tester","owner_department":"testDep","remark":"example","status":"DRAFT","summary_status":null,"technical_metric":null,"technical_metric_name":null,"technical_metric_type":null,"time_filters":"天","unit":"","update_by":"ei_dlf_l00341563","update_time":"2022-10-31T10:39:20+08:00"}}}},"schema":{"$ref":"#/definitions/DsResponseVO"}},"400":{"$ref":"#/responses/400"},"401":{"$ref":"#/responses/401"},"403":{"$ref":"#/responses/403"}},"summary":"创建业务指标","tags":["业务指标接口"],"x-api-type":"doc-open","x-is-registered":"Y","x-support-sdk":"Y"}}},"product_short":"DataArtsStudio","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建业务指标","tags":"业务指标接口","uri":null,"version":"2.0"}