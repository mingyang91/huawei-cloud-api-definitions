{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ErrorResponse":{"properties":{"error_code":{"description":"错误码","example":"DLS.1000","maxLength":128,"minLength":1,"type":"string"},"error_msg":{"description":"错误描述","example":"process failed","maxLength":10240,"minLength":1,"type":"string"}},"type":"object"},"MemberPolicyItem":{"properties":{"member_id":{"description":"成员id","maxLength":128,"minLength":1,"type":"string"},"member_name":{"description":"成员名称","maxLength":128,"minLength":1,"type":"string"},"member_type":{"description":"成员类型:USER,USER_GROUP,WORKSPACE_ROLE,分别代表空间用户、空间用户组、空间角色","enum":["USER","USER_GROUP","WORKSPACE_ROLE"],"type":"string"}},"required":["member_id","member_name","member_Type"],"type":"object"},"PermissionResourcePolicy":{"example":{"create_time":1698202688247,"create_user":"ei_dayu_test_01","members":[{"member_id":"fea96c90024711b8bf8d6886407b814b","member_name":"common_user","member_type":"USER"},{"member_id":"0833a5736980d53b0f22c0102ffcbfc0","member_name":"ei_dayu_test_usergroup_01","member_type":"USER_GROUP"}],"policy_id":"b43927a45a514e93ba70524b28923500","policy_name":"test_dataconnection_permission_policy","resources":[{"resource_id":"7c8a2d85d917492bb3195377cd9c36be","resource_name":"hive","resource_type":"DATA_CONNECTION"}],"update_time":1698202688247},"properties":{"create_time":{"description":"创建时间","format":"int64","maximum":4070880010000,"minimum":0,"type":"integer"},"create_user":{"description":"创建用户","maxLength":256,"minLength":0,"type":"string"},"members":{"description":"成员列表","items":{"$ref":"#/definitions/MemberPolicyItem"},"maxItems":10000,"minItems":0,"type":"array"},"policy_id":{"description":"策略id","maxLength":32,"minLength":0,"type":"string"},"policy_name":{"description":"策略名称","maxLength":128,"minLength":0,"type":"string"},"resources":{"description":"资源对象列表","items":{"$ref":"#/definitions/ResourcePolicyItem"},"maxItems":10000,"minItems":0,"type":"array"},"update_time":{"description":"修改时间","format":"int64","maximum":4070880010000,"minimum":0,"type":"integer"}},"required":["policy_id","policy_name","resources","members"],"type":"object"},"PermissionResourcePolicyCreateDTO":{"example":{"members":[{"member_id":"fea96c90024711b8bf8d6886407b814b","member_name":"common_user","member_type":"USER"},{"member_id":"0833a5736980d53b0f22c0102ffcbfc0","member_name":"ei_dayu_test_usergroup_01","member_type":"USER_GROUP"}],"policy_name":"test_resource_permission_policy","resources":[{"resource_id":"7c8a2d85d917492bb3195377cd9c36be","resource_name":"hive","resource_type":"DATA_CONNECTION"}]},"properties":{"members":{"description":"成员列表。 成员包含空间用户、空间用户组、空间用户角色。空间用户、用户组获取方法请参见[获取工作空间用户信息](ListWorkspaceusers.xml),空间角色获取方法参见[获取工作空间用户角色](ListWorkspaceRoles.xml)","items":{"$ref":"#/definitions/MemberPolicyItem"},"maxItems":10000,"minItems":0,"type":"array"},"policy_name":{"description":"策略名称:英文和汉字开头, 支持英文、汉字、数字、下划线, 2-64字符","maxLength":64,"minLength":2,"type":"string"},"resources":{"description":"资源对象列表。资源对象包含 数据连接, 连接获取方法详见[查询数据连接列表](ListDataconnections.xml)","items":{"$ref":"#/definitions/ResourcePolicyItem"},"maxItems":10000,"minItems":0,"type":"array"}},"required":["policy_name","resources","members"],"type":"object"},"ResourcePolicyItem":{"properties":{"resource_id":{"description":"资源id","maxLength":32,"minLength":1,"type":"string"},"resource_name":{"description":"资源名称","maxLength":128,"minLength":1,"type":"string"},"resource_type":{"description":"资源类型:DATA_CONNECTION,AGENCY","enum":["DATA_CONNECTION","AGENCY"],"type":"string"}},"required":["resource_id","resource_name","resource_type"],"type":"object"}},"description":null,"group_id":"23bb69798aaf409da161a43a90617121","host":"dayu.cn-north-4.myhuaweicloud.com","id":"3db1fcf774d5466693b44eaa706be989","info_version":"v1","method":"post","name":"CreateSecurityResourcePermissionPolicy","parameters":{"X-Auth-Token":{"description":"token","in":"header","maxLength":10240,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string"},"project_id":{"description":"project id","in":"path","maxLength":128,"minLength":1,"name":"project_id","required":true,"type":"string"},"workspace":{"description":"DataArts Studio工作空间ID","in":"header","maxLength":128,"minLength":1,"name":"workspace","required":true,"type":"string"}},"paths":{"/v1/{project_id}/security/permission-resource":{"post":{"description":"创建空间资源权限策略","operationId":"CreateSecurityResourcePermissionPolicy","parameters":[{"$ref":"#/parameters/project_id"},{"$ref":"#/parameters/workspace"},{"$ref":"#/parameters/X-Auth-Token"},{"description":"创建空间资源权限策略参数","in":"body","name":"CreateSecurityResourcePermissionPolicyRequestBody","required":true,"schema":{"$ref":"#/definitions/PermissionResourcePolicyCreateDTO"}}],"produces":["application/json"],"responses":{"200":{"description":"OK","examples":{"application/json":{"create_time":1698202688247,"create_user":"ei_dayu_test_01","members":[{"member_id":"fea96c90024711b8bf8d6886407b814b","member_name":"common_user","member_type":"USER"},{"member_id":"0833a5736980d53b0f22c0102ffcbfc0","member_name":"ei_dayu_test_usergroup_01","member_type":"USER_GROUP"}],"policy_id":"b43927a45a514e93ba70524b28923500","policy_name":"test_dataconnection_permission_policy","resources":[{"resource_id":"7c8a2d85d917492bb3195377cd9c36be","resource_name":"hive","resource_type":"DATA_CONNECTION"}],"update_time":1698202688247}},"schema":{"$ref":"#/definitions/PermissionResourcePolicy"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"创建空间资源权限策略","tags":["空间资源权限策略管理接口"],"x-is-registered":"Y","x-request-examples-1":{"members":[{"member_id":"fea96c90024711b8bf8d6886407b814b","member_name":"common_user","member_type":"USER"},{"member_id":"0833a5736980d53b0f22c0102ffcbfc0","member_name":"ei_dayu_test_usergroup_01","member_type":"USER_GROUP"}],"policy_name":"test_resource_permission_policy","resources":[{"resource_id":"7c8a2d85d917492bb3195377cd9c36be","resource_name":"hive","resource_type":"DATA_CONNECTION"}]},"x-request-examples-url-1":"/v1/0833a5737480d53b2f25c010dc1a7b88/security/permission-resource","x-support-sdk":"Y"}}},"product_short":"DataArtsStudio","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建空间资源权限策略","tags":"空间资源权限策略管理接口","uri":null,"version":"2.0"}