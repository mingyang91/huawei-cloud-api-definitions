{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"PartitionReassignEntity":{"properties":{"assignment":{"description":"手动指定的分配方案。brokers参数与该参数不能同时为空。","items":{"$ref":"#/definitions/TopicAssignment"},"type":"array"},"brokers":{"description":"分区平衡到的broker列表,自动生成分配方案时需指定该参数。","example":[0,1,2],"items":{"format":"int32","type":"integer"},"type":"array"},"replication_factor":{"description":"副本因子,自动生成分配方案时可指定。","example":3,"format":"int32","type":"integer"},"topic":{"description":"Topic名称","example":"topic-1513476102","type":"string"}},"required":["topic"],"type":"object"},"PartitionReassignRequest":{"properties":{"execute_at":{"description":"定时时间,格式为Unix时间戳,单位为毫秒","format":"int64","type":"integer"},"is_schedule":{"description":"是否作为定时任务执行。若非定时执行,is_schedule和execute_at字段可为空。若为定时执行,is_schedule为true,execute_at字段非空。","type":"boolean"},"reassignments":{"description":"分区平衡分配方案。","items":{"$ref":"#/definitions/PartitionReassignEntity"},"type":"array"},"throttle":{"description":"分区平衡门限值。","example":10000000,"format":"int32","type":"integer"},"time_estimate":{"default":false,"description":"设为true表示执行时间预估任务,false为执行分区平衡任务。","example":true,"type":"boolean"}},"required":["reassignments"],"type":"object"},"PartitionReassignmentResp":{"properties":{"job_id":{"description":"任务ID(当执行分区平衡任务时仅返回job_id)。","type":"string"},"reassignment_time":{"description":"预估时间,单位为秒(当执行预估时间任务时仅返回reassignment_time)。","type":"integer"}},"type":"object"},"TopicAssignment":{"properties":{"partition":{"description":"手动指定分配方案时的分区号。","example":0,"format":"int32","type":"integer"},"partition_brokers":{"description":"手动指定某个分区将要分配的broker列表","example":[0,1,2],"items":{"format":"int32","type":"integer"},"type":"array"}},"type":"object"}},"description":null,"group_id":"8a85d11de826424da4cfa5ef6ad2ef39","host":"dms.cn-north-4.myhuaweicloud.com","id":"c0e67dc996f043f2a6607798bedb8e67","info_version":"v2","method":"post","name":"CreateReassignmentTask","parameters":{},"paths":{"/v2/kafka/{project_id}/instances/{instance_id}/reassign":{"post":{"description":"该接口用于向Kafka实例提交分区平衡任务或计算分区平衡预估时间。","operationId":"CreateReassignmentTask","parameters":[{"description":"项目ID,获取方式请参见[获取项目ID](kafka-api-0036212547.xml)。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"实例ID。","in":"path","name":"instance_id","required":true,"type":"string","x-order":2},{"description":"请求消息。","in":"body","name":"CreateReassignmentTaskRequestBody","required":true,"schema":{"$ref":"#/definitions/PartitionReassignRequest"},"x-order":3}],"responses":{"200":{"description":"提交分区平衡任务成功(若为预估时间任务则返回预估时间)。","examples":{"application/json":{"job_id":"8a2c259182ab0e9d0182ab1882560009","reassignment_time":10}},"schema":{"$ref":"#/definitions/PartitionReassignmentResp"}}},"schemes":["https"],"security":[{"apig-auth-iam":[]}],"summary":"Kafka实例开始分区平衡任务","tags":["实例管理"],"x-api-type":"open-api","x-apigateway-backend":{"httpEndpoints":{"address":"#dms_endpoint#","description":"","method":"POST","path":"/v2/kafka/{project_id}/instances/{instance_id}/reassign","scheme":"https","timeout":60000},"parameters":[{"description":"","in":"path","name":"instance_id","origin":"REQUEST","value":"instance_id"},{"description":"","in":"path","name":"project_id","origin":"REQUEST","value":"project_id"}],"type":"HTTP"},"x-apigateway-cors":false,"x-apigateway-match-mode":"NORMAL","x-apigateway-ratelimit":"dms01","x-apigateway-request-type":"public","x-hybridcloud":true,"x-is-registered":"Y","x-name":"Kafka实例提交分区平衡任务","x-open-region-cloud":"hws,hws_hk,dt,ocb,hws_ocb,ctc,sbc,hk_sbc,cmcc,hws_eu,g42,tm,hk_g42,hk_tm,hcs,fcs","x-order":17,"x-produc-type":"kafka01","x-request-examples-1":{"reassignments":[{"assignment":[{"partition":0,"partition_brokers":[0,1,2]},{"partition":1,"partition_brokers":[1,2,0]},{"partition":2,"partition_brokers":[2,0,1]}],"brokers":[0,1,2],"replication_factor":3,"topic":"topic-1513476102"},{"assignment":[{"partition":0,"partition_brokers":[0,1,2]},{"partition":1,"partition_brokers":[1,2,0]},{"partition":2,"partition_brokers":[2,0,1]}],"brokers":[0,1,4],"replication_factor":3,"topic":"topic-1513558717"}],"throttle":10000000,"time_estimate":false},"x-request-examples-url-1":"POST https://{endpoint}/v2/kafka/{project_id}/instances/{instance_id}/reassign","x-support-sdk":"Y"}}},"product_short":"Kafka","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"IAM_AUTH_TYPE_NEW":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-app":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-app-optional":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-opt":{"access-auth-type":"optional"},"x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-iam-none":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM_NONE"}},"summary":"Kafka实例开始分区平衡任务","tags":"实例管理","uri":null,"version":"2.0"}