{"base_path":null,"components":null,"consumes":"[\"application/json\"]","definitions":{"BaseResp":{"description":"API响应基类。","properties":{"error_code":{"description":"错误码,失败时返回。","example":"WKS.00149901","maxLength":16,"minLength":1,"type":"string"},"error_msg":{"description":"错误描述。","example":"The request message is invalid.","maxLength":255,"minLength":1,"type":"string"}}},"CheckQuotasResp":{"description":"校验本次订单提交资源是否足额响应类。","properties":{"is_enough":{"default":true,"description":"配额是否足够true:足够 false:不足。","example":true,"type":"boolean"},"quota_remainder":{"description":"配额剩余数量信息。","items":{"$ref":"#/definitions/QuotaRemainderData"},"maxItems":2147483647,"minItems":0,"type":"array"}}},"QuotaRemainderData":{"description":"配额剩余数量信息","properties":{"need":{"description":"所需配额。","format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"remainder":{"description":"剩余配额。","format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"type":{"$ref":"#/definitions/QuotaResourceTypeEnum"}}},"QuotaResourceTypeEnum":{"description":"配额-资源类型:\n* GPU_INSTANCES:GPU资源实例数,单位个。\n* INSTANCES:普通实例数,单位个。\n* VOLUME_GIGABYTES:磁盘总容量,单位GB。\n* VOLUMES:磁盘数量,单位个。\n* CORES:CPU数量,单位个。\n* MEMORY:内存容量,单位MB。","enum":["GPU_INSTANCES","INSTANCES","VOLUME_GIGABYTES","VOLUMES","CORES","MEMORY"],"type":"string"}},"description":null,"group_id":"fe7dbee2e20f4aa589be7dce935a38ad","host":"appstream.cn-north-4.myhuaweicloud.com","id":"7b69c1dfb5b94a37adf7628bde8f8f7a","info_version":"v1","method":"get","name":"CheckQuota","parameters":{},"paths":{"/v1/{project_id}/check/quota":{"get":{"consumes":["application/json"],"description":"配额校验,购买服务器前可用调用该接口,校验本次创建服务器资源是否足够。","operationId":"CheckQuota","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":2147483647,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."},{"description":"项目唯一标识。","in":"path","maxLength":128,"minLength":1,"name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"产品id。","in":"query","maxLength":255,"minLength":1,"name":"product_id","required":true,"type":"string"},{"description":"订单需要创建总实例数、订购数量。","format":"int32","in":"query","maximum":100,"minimum":1,"name":"subscription_num","required":true,"type":"integer"},{"description":"单台实例所需的磁盘大小(最大系统盘1块*1024、数据盘10块*32768)。","format":"int32","in":"query","maximum":328704,"minimum":10,"name":"disk_size","required":true,"type":"integer"},{"description":"单台实例所需的磁盘数量(最大系统盘1块、数据盘10块)。","format":"int32","in":"query","maximum":11,"minimum":1,"name":"disk_num","required":true,"type":"integer"},{"default":false,"description":"是否包周期。","in":"query","name":"is_period","required":false,"type":"boolean"},{"description":"主机id。","in":"query","maxLength":255,"minLength":1,"name":"deh_id","required":false,"type":"string"},{"description":"云专属分布式存储池id。","in":"query","maxLength":255,"minLength":0,"name":"cluster_id","required":false,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"校验本次订单提交资源是否足额响应类。","examples":{"application/json":{"is_enough":true,"quota_remainder":[{"need":1,"remainder":490,"type":"INSTANCES"},{"need":60,"remainder":69360,"type":"VOLUME_GIGABYTES"},{"need":1,"remainder":9990,"type":"VOLUMES"},{"need":2,"remainder":39980,"type":"CORES"},{"need":4096,"remainder":99959040,"type":"MEMORY"}]}},"schema":{"$ref":"#/definitions/CheckQuotasResp"}},"400":{"description":"由于包含语法错误,当前请求无法被服务器理解。","schema":{"$ref":"#/definitions/BaseResp"}},"401":{"description":"鉴权失败。","schema":{"$ref":"#/definitions/BaseResp"}},"403":{"description":"没有操作权限。","schema":{"$ref":"#/definitions/BaseResp"}},"500":{"description":"服务内部错误,具体返回错误码请参见错误码说明。","schema":{"$ref":"#/definitions/BaseResp"}}},"security":[{"apig-auth-iam":[]}],"summary":"配额校验","tags":["Quota"],"x-api-type":"open-api","x-apiexplorer-hide":"N","x-apig-group":"internal,public","x-apigateway-backend":{"httpVpcEndpoints":{"description":"","method":"GET","name":"wks-bundlemanager-lb","path":"/v1/{project_id}/check/quota","scheme":"https","timeout":30000},"parameters":[{"description":"","in":"header","name":"X-Auth-Token","origin":"request","value":"X-Auth-Token"},{"description":"","in":"path","name":"project_id","origin":"request","value":"project_id"}],"type":"HTTP-VPC"},"x-apigateway-cors":false,"x-apigateway-match-mode":"NORMAL","x-apigateway-ratelimit":"workspace_base","x-apigateway-request-type":"public","x-is-registered":"Y","x-request-examples-url-1":"/v1/a4da8115c9d8464ead3a38309130523f/check/quota?disk_size=60&subscription_num=1&disk_num=1&product_id=workspace.appstream.general.xlarge.2","x-support-sdk":"Y"}}},"product_short":"WorkspaceApp","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-app":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"}},"summary":"配额校验","tags":"配额管理","uri":null,"version":"2.0"}