{"base_path":null,"components":null,"consumes":"[\"application/json\"]","definitions":{"AddVolumes":{"description":"磁盘订单请求。","properties":{"service_id":{"description":"服务ID。","maxLength":255,"minLength":1,"type":"string"},"volumes":{"description":"订单的磁盘信息列表。","items":{"$ref":"#/definitions/Volume"},"maxItems":10,"minItems":1,"type":"array","x-maxLength":10,"x-minLength":1}},"title":"AddVolumes","type":"object"},"BadRequestErrorResp":{"description":"API错误响应。","properties":{"error_code":{"description":"错误码,失败时返回。","example":"WKS.00211102","readOnly":true,"type":"string"},"error_msg":{"description":"错误描述。","example":"The parameter is invalid.","readOnly":true,"type":"string"}}},"CreateOrderReq":{"description":"创建订单请求体。","properties":{"resources":{"description":"包周期资源对象。","items":{"$ref":"#/definitions/Resource"},"maxItems":1,"minItems":1,"type":"array","x-annotations":"@Size(max = 1, min = 1)"},"type":{"description":"createApps【添加云应用】。","example":"createApps","pattern":"^(createApps)$","type":"string","x-is-registered":"N"}},"required":["resources","type"],"title":"CreateOrderReq","type":"object"},"CreateOrderResp":{"description":"创建订单响应体。","properties":{"order_id":{"description":"订单ID。","example":"CS23060117315YQ6Z","maxLength":255,"minLength":1,"type":"string"}},"title":"CreateOrderResp","type":"object"},"CreateServices":{"description":"云服务下单实体。","properties":{"availability_zone":{"description":"可用分区。\n> - 将服务创建到指定的可用分区,如果不指定则使用系统随机的可用分区。\n> - 获取方式详见可用区管理ListAvailabilityZone:\"GET  /v1/{project_id}/availability-zone\"。","example":"cn-north-5a","maxLength":255,"minLength":0,"type":"string"},"data_volumes":{"description":"数据盘。","items":{"$ref":"#/definitions/Volume"},"maxItems":255,"minItems":0,"type":"array"},"flavor_id":{"description":"规格ID。","example":"c3.large.4","maxLength":255,"minLength":1,"type":"string"},"nics":{"description":"网卡信息,该字段当前未使用。","items":{"$ref":"#/definitions/Nic"},"maxItems":5,"minItems":0,"type":"array","x-maxLength":5,"x-minLength":0},"os_type":{"description":"操作系统类型,当前仅支持Windows\n- Linux\n- Windows","example":"Windows","maxLength":32,"minLength":0,"type":"string"},"ou_name":{"description":"OU名称,在对接AD时使用,需提前在AD中创建OU。","maxLength":255,"minLength":0,"type":"string"},"product_id":{"description":"产品ID。\n> - 获取方式详见产品套餐管理ListProduct:\"GET  /v1/{project_id}/product\"。","example":"workspacehost.s.large2.p01","maxLength":128,"minLength":1,"type":"string"},"root_volume":{"$ref":"#/definitions/Volume","description":"默认系统卷信息 size取值:minLength: 10,maxLength: 1024。"},"security_groups":{"description":"服务器使用的安全组,如果不指定则默认使用服务器代理中指定的安全组。\n**⚠ 警告: 预留属性,目前未使用**","items":{"$ref":"#/definitions/SecurityGroup"},"maxItems":5,"minItems":0,"type":"array"},"server_group_id":{"description":"服务器组ID, 云应用创建服务组时生成。","example":"1","maxLength":128,"minLength":1,"type":"string"},"service_type":{"description":"云服务类型,云桌面固定为DEDICATED。","maxLength":50,"minLength":0,"type":"string"},"subnet_id":{"description":"子网ID。","example":"197c1aa4-2611-48bd-a3af-ac4ce2c17c4c","maxLength":255,"minLength":1,"type":"string"},"update_access_agent":{"default":false,"description":"是否自动升级hda版本。","example":true,"type":"boolean"},"vpc_id":{"description":"自动开户的时候,用于LiteAs第一次开户传进来。","maxLength":255,"minLength":1,"type":"string"}},"required":["product_id","root_volume","server_group_id","subnet_id","subscription_num","vpc_id"],"title":"CreateServices","type":"object"},"ForbiddenErrorResp":{"description":"API错误响应。","properties":{"error_code":{"description":"错误码,失败时返回。","example":"WKS.00081102","readOnly":true,"type":"string"},"error_msg":{"description":"错误描述。","example":"User does not have permission to access this resource.","readOnly":true,"type":"string"}}},"InternalServerErrorResp":{"description":"API错误响应。","properties":{"error_code":{"description":"错误码,失败时返回。","example":"WKS.00211401","readOnly":true,"type":"string"},"error_msg":{"description":"错误描述。","example":"The requested operation failed. Please try again later.","readOnly":true,"type":"string"}}},"MethodNotAllowedErrorResp":{"description":"API错误响应。","properties":{"error_code":{"description":"错误码,失败时返回。","example":"WKS.00000405","readOnly":true,"type":"string"},"error_msg":{"description":"错误描述。","example":"The method specified in the request is not allowed for this resource.","readOnly":true,"type":"string"}}},"Nic":{"description":"云服务对应的网卡信息。","properties":{"ip_address":{"description":"IP地址。","maxLength":255,"minLength":1,"type":"string"},"subnet_id":{"description":"网卡对应的子网ID。","example":"197c1aa4-2611-48bd-a3af-ac4ce2c17c4c","maxLength":255,"minLength":0,"type":"string"}},"title":"Nic","type":"object"},"NotFoundErrorResp":{"description":"API错误响应。","properties":{"error_code":{"description":"错误码,失败时返回。","example":"WKS.00211902","readOnly":true,"type":"string"},"error_msg":{"description":"错误描述。","example":"The application does not exist","readOnly":true,"type":"string"}}},"Resource":{"description":"包周期资源对象。","properties":{"add_volumes":{"$ref":"#/definitions/AddVolumes","description":"磁盘订单请求。"},"cloud_service_console_url":{"description":"支付后跳转的地址。","example":"http://10.*.*.0:8003/v1/{project_id}/bundles/services/create","maxLength":255,"minLength":1,"type":"string"},"create_services":{"$ref":"#/definitions/CreateServices","description":"云服务产品下单实体。"},"is_auto_renew":{"description":"订购关系当前是否是自动续费:0 否 1 是。","example":1,"format":"int32","maximum":1,"minimum":0,"type":"integer"},"period_num":{"description":"订购周期数取值大于0。","example":3,"format":"int32","maximum":2147483647,"minimum":1,"type":"integer"},"period_type":{"description":"包周期订单订购周期类型:2:月;3:年;4:包小时(仅限带宽加油包购买场景使用)5:绝对时间;(追加附属资源场景使用,比如主机上追加云硬盘)6:一次性(chargingMode=1 一次性计费场景使用),必填。","example":3,"format":"int32","maximum":6,"minimum":0,"type":"integer"},"subscription_num":{"description":"订购数量。","example":3,"format":"int32","maximum":100,"minimum":1,"type":"integer"}},"required":["create_services","subscription_num"],"title":"Resource","type":"object"},"SecurityGroup":{"description":"云应用使用的安全组,如果不指定则默认使用云服务代理中指定的安全组。","properties":{"id":{"description":"安全组ID。","maxLength":255,"minLength":0,"type":"string"},"name":{"description":"安全组名称。","maxLength":55,"minLength":0,"type":"string"}},"title":"SecurityGroup","type":"object"},"ServiceUnavailableErrorResp":{"description":"API错误响应。","properties":{"error_code":{"description":"错误码,失败时返回。","example":"WKS.00050902","readOnly":true,"type":"string"},"error_msg":{"description":"错误描述。","example":"The service is now unavailable to process the request.","readOnly":true,"type":"string"}}},"UnauthorizedErrorResp":{"description":"API错误响应。","properties":{"error_code":{"description":"错误码,失败时返回。","example":"WKS.00211302","readOnly":true,"type":"string"},"error_msg":{"description":"错误描述。","example":"User authorization error.","readOnly":true,"type":"string"}}},"Volume":{"description":"磁盘。","properties":{"cluster_id":{"description":"云服务器系统盘对应的存储池的ID。","example":"c950ee97-587c-4f24-8a74-3367e3da570f","maxLength":255,"minLength":0,"type":"string"},"size":{"description":"磁盘容量,单位GB,数值约束为10的倍数。\n* `系统盘` minLength: 10,maxLength: 1024\n* `数据盘` minLength: 10,maxLength: 32768","example":10,"maximum":32768,"minimum":10,"type":"integer"},"type":{"$ref":"#/definitions/VolumeType"}},"required":["size","type"]},"VolumeType":{"description":"磁盘类型,获取可用磁盘类型详见接口磁盘管理ListVolumeType。\n* `ESSD` - 极速型SSD\n* `SSD` - 超高IO\n* `GPSSD` - 通用型SSD\n* `SAS` - 高IO\n* `SATA` - 普通IO","enum":["ESSD","SSD","GPSSD","SAS","SATA"],"example":"SSD","type":"string"}},"description":null,"group_id":"fe7dbee2e20f4aa589be7dce935a38ad","host":"appstream.cn-north-4.myhuaweicloud.com","id":"83426ed4402e4a48913a13d7febe6511","info_version":"v1","method":"post","name":"CreateOrder","parameters":{},"paths":{"/v1/{project_id}/bundles/subscribe/order":{"post":{"consumes":["application/json"],"description":"创建订单。","operationId":"CreateOrder","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":2147483647,"minLength":0,"name":"X-Auth-Token","required":false,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."},{"description":"项目唯一标识。","in":"path","maxLength":128,"minLength":1,"name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"创建订单请求结构体。","in":"body","name":"createOrderRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateOrderReq"}}],"produces":["application/json"],"responses":{"200":{"description":"成功响应。","examples":{"application/json":{"order_id":"CS23060117315YQ6Z"}},"schema":{"$ref":"#/definitions/CreateOrderResp"}},"400":{"description":"由于包含语法错误,当前请求无法被服务器理解。","schema":{"$ref":"#/definitions/BadRequestErrorResp"}},"401":{"description":"鉴权失败。","schema":{"$ref":"#/definitions/UnauthorizedErrorResp"}},"403":{"description":"没有操作权限。","schema":{"$ref":"#/definitions/ForbiddenErrorResp"}},"404":{"description":"找不到资源。","schema":{"$ref":"#/definitions/NotFoundErrorResp"}},"405":{"description":"请求中指定的方法不被允许。","schema":{"$ref":"#/definitions/MethodNotAllowedErrorResp"}},"500":{"description":"服务内部错误,具体返回错误码请参见错误码说明。","schema":{"$ref":"#/definitions/InternalServerErrorResp"}},"503":{"description":"服务不可用。","schema":{"$ref":"#/definitions/ServiceUnavailableErrorResp"}}},"security":[{"apig-auth-iam-used-authn5":[]}],"summary":"创建订单","tags":["ApplicationOrder"],"x-api-type":"open-api","x-apiexplorer-hide":"N","x-apig-group":"internal,public","x-apigateway-backend":{"httpVpcEndpoints":{"description":"","method":"POST","name":"wks-bundlemanager-lb","path":"/v1/{project_id}/bundles/subscribe/order","scheme":"https","timeout":30000},"parameters":[{"description":"","in":"header","name":"X-Auth-Token","origin":"request","value":"X-Auth-Token"},{"description":"","in":"path","name":"project_id","origin":"request","value":"project_id"}],"type":"HTTP-VPC"},"x-apigateway-cors":false,"x-apigateway-match-mode":"NORMAL","x-apigateway-ratelimit":"workspace_default_operate","x-apigateway-request-type":"public","x-is-registered":"N","x-request-examples-1":{"resources":[{"add_volumes":{"service_id":"string","volumes":[{"cluster_id":"c950ee97-587c-4f24-8a74-3367e3da570f","size":10,"type":"SSD"}]},"cloud_service_console_url":"http://10.*.*.0:8003/v1/{project_id}/bundles/services/create","create_services":{"availability_zone":"cn-north-5a","data_volumes":[{"cluster_id":"c950ee97-587c-4f24-8a74-3367e3da570f","size":10,"type":"SSD"}],"flavor_id":"c3.large.4","nics":[{"ip_address":"string","subnet_id":"197c1aa4-2611-48bd-a3af-ac4ce2c17c4c"}],"os_type":"Windows","ou_name":"string","product_id":"workspacehost.s.large2.p01","root_volume":{"cluster_id":"c950ee97-587c-4f24-8a74-3367e3da570f","size":10,"type":"SSD"},"security_groups":[{"id":"string","name":"string"}],"server_group_id":"1","service_type":"string","subnet_id":"197c1aa4-2611-48bd-a3af-ac4ce2c17c4c","update_access_agent":"true","vpc_id":"string"},"is_auto_renew":1,"period_num":3,"period_type":3,"subscription_num":3}],"type":"createApps"},"x-request-examples-text-1":{"resources":[{"add_volumes":{"service_id":"string","volumes":[{"cluster_id":"c950ee97-587c-4f24-8a74-3367e3da570f","size":10,"type":"SSD"}]},"cloud_service_console_url":"http://10.*.*.0:8003/v1/{project_id}/bundles/services/create","create_services":{"availability_zone":"cn-north-5a","data_volumes":[{"cluster_id":"c950ee97-587c-4f24-8a74-3367e3da570f","size":10,"type":"SSD"}],"flavor_id":"c3.large.4","nics":[{"ip_address":"string","subnet_id":"197c1aa4-2611-48bd-a3af-ac4ce2c17c4c"}],"os_type":"Windows","ou_name":"string","product_id":"workspacehost.s.large2.p01","root_volume":{"cluster_id":"c950ee97-587c-4f24-8a74-3367e3da570f","size":10,"type":"SSD"},"security_groups":[{"id":"string","name":"string"}],"server_group_id":"1","service_type":"string","subnet_id":"197c1aa4-2611-48bd-a3af-ac4ce2c17c4c","update_access_agent":"true","vpc_id":"string"},"is_auto_renew":1,"period_num":3,"period_type":3,"subscription_num":3}],"type":"createApps"},"x-support-sdk":"Y"}}},"product_short":"WorkspaceApp","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-app":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-iam-used-authn5":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-opt":{"inner-auth-type":"iam_auth_n5"},"x-apigateway-auth-type":"IAM"}},"summary":"创建订单","tags":"订单","uri":null,"version":"2.0"}