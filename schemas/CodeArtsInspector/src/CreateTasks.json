{"base_path":"/v3","components":null,"consumes":"[\"application/json; charset=UTF-8\"]","definitions":{"CreateTasksRequestBody":{"allOf":[{"$ref":"#/definitions/TaskInfos"},{"$ref":"#/definitions/TaskSettings"}]},"CreateTasksResponseBody":{"allOf":[{"$ref":"#/definitions/OperateInfoResponseBody"},{"properties":{"task_id":{"description":"任务ID","example":"017281b97c9845b08174895992ba179643028","maxLength":50,"minLength":32,"type":"string"},"task_status":{"description":"任务状态:\n  * running - 正在运行\n  * success - 成功\n  * canceled - 已取消\n  * waiting - 正在等待\n  * ready - 已就绪,排队中\n  * failure - 失败\n","enum":["running","success","canceled","waiting","ready","failure"],"example":"waiting","type":"string"}},"type":"object"}]},"ErrorResponseBody":{"properties":{"error_code":{"description":"错误码","example":"VSS.00006016","maxLength":50,"minLength":0,"type":"string"},"error_msg":{"description":"错误描述","example":"Invalid domain parameter.","maxLength":256,"minLength":0,"type":"string"}}},"OperateInfoResponseBody":{"properties":{"info_code":{"description":"状态码:\n  * success - 成功\n  * failure - 失败\n","enum":["success","failure"],"example":"success","type":"string"},"info_description":{"description":"返回的提示信息","example":"Operation succeeded","maxLength":64,"minLength":0,"type":"string"}}},"TaskInfos":{"properties":{"task_name":{"description":"任务名称","example":"测试任务1","maxLength":16,"minLength":1,"type":"string"},"task_type":{"default":"normal","description":"扫描任务类型:\n  * normal - 普通任务\n  * monitor - 监测任务\n","enum":["normal","monitor"],"type":"string"},"url":{"description":"待扫描的目标网址","example":"https://127.0.0.1:8080","maxLength":256,"minLength":1,"type":"string"}},"required":["task_name","url"]},"TaskSettings":{"properties":{"task_config":{"description":"扫描任务配置","properties":{"cve_check":{"default":true,"description":"是否进行CVE漏洞扫描","type":"boolean"},"malicious_code":{"default":false,"description":"是否进行网站挂马检测","type":"boolean"},"malicious_link":{"default":false,"description":"是否进行链接健康检测(死链、暗链、恶意外链)","type":"boolean"},"picture_check":{"default":false,"description":"是否进行网站内容合规图片检测","type":"boolean"},"port_scan":{"default":true,"description":"是否进行端口扫描","type":"boolean"},"scan_mode":{"default":"normal","description":"扫描模式:\n  * fast - 快速扫描\n  * normal - 标准扫描\n  * deep - 深度扫描\n","enum":["fast","normal","deep"],"type":"string"},"text_check":{"default":true,"description":"是否进行网站内容合规文字检测","type":"boolean"},"weak_pwd_scan":{"default":true,"description":"是否进行弱密码扫描","type":"boolean"}},"type":"object"},"task_period":{"description":"监测任务的定时触发周期:\n  * everyday - 每日\n  * threedays - 每三天\n  * everyweek - 每星期\n  * everymonth - 每月\n","enum":["everyday","threedays","everyweek","everymonth"],"type":"string"},"timer":{"description":"普通任务的定时启动时间","example":"2021-09-18 16:26:24","maxLength":19,"minLength":0,"type":"string"},"trigger_time":{"description":"监测任务的定时触发时间","example":"2021-09-18 16:26:24","maxLength":19,"minLength":0,"type":"string"}}}},"description":null,"group_id":"8f2854999e424ea3a8f2be6bd7e13cab","host":"vss.myhuaweicloud.com","id":"395d3b7ce1eb48abbf7c0be6fa5cd994","info_version":"v3","method":"post","name":"CreateTasks","parameters":{},"paths":{"/{project_id}/webscan/tasks":{"post":{"description":"创建网站漏洞扫描任务并启动","operationId":"CreateTasks","parameters":[{"description":"用户Token,通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":102400,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string"},{"description":"用户的project_id,获取方法请参见[获取项目ID](https://support.huaweicloud.com/api-vss/vss_api_04_019.html)。","in":"path","maxLength":32,"minLength":32,"name":"project_id","required":true,"type":"string"},{"default":false,"description":"是否将本次扫描升级为专业版规格(¥99.00/次)","in":"query","name":"upgrade","required":false,"type":"boolean","x-example":true},{"description":"创建网站漏洞扫描任务请求体","in":"body","name":"CreateTasksRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateTasksRequestBody"}}],"responses":{"200":{"description":"OK","examples":{"application/json":{"info_code":"success","info_description":"Operation succeeded","task_id":"017281b97c9845b08174895992ba179643028","task_status":"running"}},"schema":{"$ref":"#/definitions/CreateTasksResponseBody"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/ErrorResponseBody"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/ErrorResponseBody"}},"418":{"description":"I'm a teapot","schema":{"$ref":"#/definitions/ErrorResponseBody"}}},"summary":"创建网站扫描任务并启动","tags":["web_tasks"],"x-apiexplorer-hide":"N","x-is-registered":"Y","x-request-examples-1":{"task_config":{"cve_check":false,"malicious_code":false,"malicious_link":false,"picture_check":false,"port_scan":false,"scan_mode":"normal","text_check":false,"weak_pwd_scan":false},"task_name":"测试任务1","task_type":"normal","url":"https://127.0.0.1:8080"},"x-request-examples-url-1":"POST https://{endpoint}/v3/{project_id}/webscan/tasks","x-support-sdk":"Y"}}},"product_short":"CodeArtsInspector","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建网站扫描任务并启动","tags":"网站任务管理","uri":null,"version":"2.0"}