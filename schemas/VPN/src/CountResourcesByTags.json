{"base_path":null,"components":{"parameters":{"ContentType":{"description":"内容类型","explode":false,"in":"header","name":"Content-Type","required":true,"schema":{"default":"application/json","type":"string"},"style":"simple"},"ProjectId":{"description":"项目id","explode":false,"in":"path","name":"project_id","required":true,"schema":{"pattern":"[a-fA-F0-9]{32}","type":"string"},"style":"simple"},"XAuthTokenInHeader":{"description":"header中的用户Token","explode":false,"in":"header","name":"X-Auth-Token","required":false,"schema":{"type":"string"},"style":"simple"}},"schemas":{"ErrorResponse":{"properties":{"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误消息内容","type":"string"}},"type":"object"},"QueryResourcesCountResponseBody":{"properties":{"total_count":{"description":"总记录数","type":"integer"}},"type":"object"},"QueryResourcesRequestBody":{"properties":{"matches":{"description":"搜索字段,包含key和value。key为要匹配的字段,如resource_name等。value为匹配的值。key为固定字典值","items":{"$ref":"#/components/schemas/match"},"type":"array"},"tags":{"description":"标签列表","items":{"$ref":"#/components/schemas/tag"},"type":"array"},"without_any_tag":{"description":"该字段为true时查询所有不带标签的资源,此时忽略 “tags”字段。该字段为false或者未提供该参数时,该条件不生效,即返回所有资源或按\"tags\",\"matches\"等条件过滤","type":"boolean"}},"type":"object"},"match":{"properties":{"key":{"description":"匹配的键","enum":["resource_name"],"type":"string"},"value":{"description":"匹配的值","maxLength":255,"type":"string"}},"required":["key","value"],"type":"object"},"tag":{"properties":{"key":{"description":"标签的键","maxLength":128,"minLength":1,"type":"string"},"values":{"description":"标签的值列表","items":{"maxLength":255,"pattern":"^([\\p{L}\\p{Z}\\p{N}_.:\\/=+\\-@]*)$","type":"string"},"type":"array"}},"required":["key","values"],"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"530f5778ed8b4ac6a3b039053a113eb6","host":"vpn.cn-north-4.myhuaweicloud.com","id":"a6f18e60c1f34183802ae13fcc229d66","info_version":"v5","method":"post","name":"CountResourcesByTags","parameters":null,"paths":{"/v5/{project_id}/{resource_type}/resource-instances/count":{"post":{"description":"根据标签查询资源实例数量","operationId":"CountResourcesByTags","parameters":[{"$ref":"#/components/parameters/ContentType"},{"$ref":"#/components/parameters/XAuthTokenInHeader"},{"$ref":"#/components/parameters/ProjectId"},{"description":"资源类型","explode":false,"in":"path","name":"resource_type","required":true,"schema":{"enum":["vpn-gateway","vpn-connection","customer-gateway","p2c-vpn-gateways"],"type":"string"},"style":"simple"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QueryResourcesRequestBody"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QueryResourcesCountResponseBody"}}},"description":"查询成功"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"参数非法"},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"鉴权失败"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"权限不足"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"资源未找到"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"系统异常"}},"summary":"查询资源实例数量","tags":["Tags"],"x-huawei-security":{"enableEProject":true,"epsAction":"count","pdpKey":"vpn:resourceInstances:count"},"x-is-registered":"Y","x-support-sdk":"Y"}}},"product_short":"VPN","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询资源实例数量","tags":"Tags","uri":null,"version":"3.0.1"}