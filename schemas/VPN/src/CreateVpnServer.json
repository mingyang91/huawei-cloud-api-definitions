{"base_path":null,"components":{"parameters":{"P2cVgwId":{"description":"P2C VPN网关实例ID","explode":false,"in":"path","name":"p2c_vgw_id","required":true,"schema":{"type":"string"},"style":"simple"},"ProjectId":{"description":"项目id","explode":false,"in":"path","name":"project_id","required":true,"schema":{"pattern":"[a-fA-F0-9]{32}","type":"string"},"style":"simple"},"XAuthTokenInHeader":{"description":"header中的用户Token","explode":false,"in":"header","name":"X-Auth-Token","required":false,"schema":{"type":"string"},"style":"simple"},"XClientTokenInHeader":{"description":"幂等性标识","explode":false,"in":"header","name":"X-Client-Token","required":false,"schema":{"maxLength":36,"minLength":36,"pattern":"[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}","type":"string"},"style":"simple"}},"schemas":{"CreateServerRequest":{"properties":{"client_auth_type":{"default":"LOCAL_PASSWORD","description":"客户端认证类型","enum":["CERT","LOCAL_PASSWORD"],"type":"string"},"client_ca_certificates":{"description":"客户端证书列表。隧道协议类型是SSL且认证方式是证书认证时,必填","items":{"properties":{"content":{"description":"证书内容","example":"-----BEGIN CERTIFICATE-----\nXXXXXXXXXXXXXXXXXXXXXXXXXXX\n-----END CERTIFICATE-----","type":"string","x-sensitive":true},"name":{"description":"证书名","example":"client_ca_8sux3d","maxLength":64,"pattern":"[一-龥A-Za-z0-9_-]+","type":"string"}},"required":["content"],"type":"object"},"maxItems":10,"type":"array"},"client_cidr":{"description":"客户端网段","example":"172.16.0.1/24","maxLength":18,"minLength":9,"type":"string"},"dns_servers":{"description":"DNS服务器列表,最多两个DNS","items":{"maxLength":15,"minLength":7,"type":"string"},"maxItems":2,"type":"array"},"local_subnets":{"description":"本端网段列表,至少有一个本端网段","example":["172.16.0.0/24","172.16.1.0/24"],"items":{"maxLength":18,"minLength":9,"type":"string"},"type":"array"},"server_certificate":{"description":"服务端证书。 隧道协议类型是SSL时,必填","properties":{"id":{"description":"服务端证书ID,为CCM服务中的证书ID。服务端证书类型为CCM时,必填","example":"scsxxx9545502xxx","maxLength":36,"minLength":16,"type":"string"},"source":{"description":"证书来源","enum":["CCM","SERVICE_SIGN"],"type":"string"}},"type":"object"},"ssl_options":{"description":"SSL隧道协议的可选配置项。隧道协议类型是SSL时,必填","properties":{"encryption_algorithm":{"default":"AES-128-GCM","description":"加密算法","enum":["AES-128-GCM","AES-256-GCM"],"example":"AES-128-GCM","type":"string"},"is_compressed":{"default":false,"description":"是否压缩","example":false,"type":"boolean"},"port":{"default":443,"description":"端口","enum":[443,1194],"example":443,"type":"integer"},"protocol":{"default":"TCP","description":"协议","enum":["TCP"],"example":"TCP","type":"string"}},"type":"object"},"tunnel_protocol":{"default":"SSL","description":"隧道协议类型","enum":["SSL"],"type":"string"}},"required":["client_cidr","local_subnets"],"type":"object"},"CreateServerRequestBody":{"properties":{"vpn_server":{"$ref":"#/components/schemas/CreateServerRequest"}},"required":["vpn_server"],"type":"object"},"CreateServerResponseBody":{"properties":{"request_id":{"description":"请求id","type":"string"},"vpn_server":{"properties":{"id":{"description":"VPN服务端 ID","example":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx","type":"string"}},"type":"object"}},"type":"object"},"ErrorResponse":{"properties":{"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误消息内容","type":"string"}},"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"530f5778ed8b4ac6a3b039053a113eb6","host":"vpn.cn-north-4.myhuaweicloud.com","id":"94b77dc4427946e699b9829ad1bb5e2a","info_version":"v5","method":"post","name":"CreateVpnServer","parameters":null,"paths":{"/v5/{project_id}/p2c-vpn-gateways/{p2c_vgw_id}/vpn-servers":{"post":{"description":"创建一个VPN 服务端","operationId":"CreateVpnServer","parameters":[{"$ref":"#/components/parameters/ProjectId"},{"$ref":"#/components/parameters/P2cVgwId"},{"$ref":"#/components/parameters/XClientTokenInHeader"},{"$ref":"#/components/parameters/XAuthTokenInHeader"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateServerRequestBody"}}},"description":"请求参数对象","required":true},"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateServerResponseBody"}}},"description":"successful operation","headers":{"header-response-token":{"explode":false,"schema":{"type":"string"},"style":"simple"}}},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"输入参数不合法"},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"认证失败"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"拒绝访问"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"资源未找到"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"服务器内部错误"}},"summary":"创建一个VPN 服务端","tags":["VpnServer"],"x-huawei-common":{"support-idempotent":true},"x-huawei-security":{"pdpKey":"vpn:p2cVpnGateway:createServer"},"x-is-registered":"Y","x-support-sdk":"Y"}}},"product_short":"VPN","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建一个VPN 服务端","tags":"VpnServer","uri":null,"version":"3.0.1"}