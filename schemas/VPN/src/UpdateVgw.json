{"base_path":null,"components":{"examples":{"UpdateVgwRequestBodyExample":{"summary":"更新网关请求示例","value":{"vpn_gateway":{"local_subnets":["192.168.0.0/24"],"name":"vpngw-1234"}}}},"parameters":{"ProjectId":{"description":"项目id","explode":false,"in":"path","name":"project_id","required":true,"schema":{"pattern":"[a-fA-F0-9]{32}","type":"string"},"style":"simple"},"VpnGatewayId":{"description":"VPN网关实例ID","explode":false,"in":"path","name":"vgw_id","required":true,"schema":{"type":"string"},"style":"simple"},"XAuthTokenInHeader":{"description":"header中的用户Token","explode":false,"in":"header","name":"X-Auth-Token","required":false,"schema":{"type":"string"},"style":"simple"}},"schemas":{"ErrorResponse":{"properties":{"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误消息内容","type":"string"}},"type":"object"},"PolicyTemplate":{"properties":{"ike_policy":{"$ref":"#/components/schemas/VgwIkePolicy","description":"ike 策略对象"},"ipsec_policy":{"$ref":"#/components/schemas/VgwIpsecPolicy","description":"ipsec 策略对象"}},"type":"object"},"ResponseEip":{"properties":{"bandwidth_billing_info":{"description":"带宽订单信息","maxLength":1024,"minLength":0,"type":"string"},"bandwidth_id":{"description":"功能说明:带宽ID","example":"cff40e5e-4473-4b1e-95f2-7366077bf097","maxLength":36,"minLength":36,"pattern":"[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}","type":"string"},"bandwidth_name":{"description":"带宽名称","maxLength":64,"minLength":1,"pattern":"[一-龥A-Za-z0-9_.-]+","type":"string"},"bandwidth_size":{"description":"带宽大小Mbit/s,flavor为V300时,取值不能大于300,flavor为V1G时,取值不能大于1000","format":"int32","maximum":1000,"minimum":1,"type":"integer"},"charge_mode":{"description":"功能说明:按流量计费还是按带宽计费\n 取值范围:\n bandwidth:按带宽计费\n traffic:按流量计费\n 95peak_plus:按增强型95计费","enum":["bandwidth","traffic","95peak_plus"],"example":"traffic","maxLength":36,"minLength":0,"type":"string"},"id":{"description":"功能说明:公网IP的唯一标识","example":"f1469b4a-df0b-4a98-a538-bb7de91cf493","maxLength":36,"minLength":36,"pattern":"[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}","type":"string"},"ip_address":{"description":"功能说明: 公网IPv4地址","example":"192.168.9.8","maxLength":64,"minLength":0,"type":"string"},"ip_billing_info":{"description":"功能说明:公网IP的订单信息\n约束:包周期才会有订单信息,按需资源此字段为空","example":"billinginfo","maxLength":1024,"minLength":0,"type":"string"},"ip_version":{"description":"功能说明: 公网IP版本号\n 取值范围:4","format":"int32","type":"integer"},"share_type":{"description":"功能说明:类型\n \"WHOLE\"为共享带宽,\"PER\"为独占带宽","example":"PER","maxLength":36,"minLength":0,"type":"string"},"type":{"description":"功能说明:EIP的类型\n 取值范围:5_bgp(全动态BGP),5_sbgp(静态BGP)\n 华南-广州:5_bgp、5_sbgp\n 华东-上海一:5_bgp、5_sbgp\n 华东-上海二:5_bgp、5_sbgp\n 华北-北京一:5_bgp、5_sbgp\n 中国-香港:5_bgp\n 亚太-曼谷:5_bgp\n 亚太-新加坡:5_bgp\n 非洲-约翰内斯堡:5_bgp\n 西南-贵阳一:5_bgp、5_sbgp\n 华北-北京四:5_bgp、5_sbgp\n 拉美-圣地亚哥:5_bgp\n 拉美-圣保罗一:5_bgp\n 拉美-墨西哥城一:5_bgp\n 拉美-布宜诺斯艾利一:5_bgp\n 拉美-利马一:5_bgp\n 拉美-圣地亚哥二: 5_bgp\n约束:必须是系统具体支持的类型。","example":"5_telcom","maxLength":36,"minLength":0,"type":"string"}},"type":"object"},"UpdateRequestPolicyTemplate":{"properties":{"ike_policy":{"$ref":"#/components/schemas/UpdateVgwIkePolicy","description":"ike 策略对象"},"ipsec_policy":{"$ref":"#/components/schemas/UpdateVgwIpsecPolicy","description":"ipsec 策略对象"}},"type":"object"},"UpdateResponseVpnGateway":{"properties":{"access_private_ip_1":{"description":"私网类型VPN网关的接入私网IP,VPN网关使用该私网IP与对端网关建连。双活网关表示使用的第一个私网地址,主备表示主私网地址。","maxLength":64,"type":"string"},"access_private_ip_2":{"description":"私网类型VPN网关的接入私网IP,VPN网关使用该私网IP与对端网关建连。双活网关表示使用的第二个私网地址,主备表示备私网地址。","maxLength":64,"type":"string"},"access_subnet_id":{"description":"VPN网关北向接入VPC中的接入子网ID","pattern":"[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}","type":"string"},"access_vpc_id":{"description":"VPN网关北向接入VPC ID,不填时默认使用vpc_id字段的值","pattern":"[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}","type":"string"},"attachment_type":{"description":"关联模式","enum":["vpc","er"],"type":"string"},"availability_zone_ids":{"description":"可用区列表","items":{"type":"string"},"type":"array"},"bgp_asn":{"description":"bgp所使用的asn号","format":"int64","maximum":4294967295,"minimum":1,"type":"integer"},"certificate_id":{"description":"证书ID","maxLength":64,"type":"string"},"connect_subnet":{"description":"VPN网关所使用的VPC子网ID","type":"string"},"connection_number":{"description":"最大可创建的VPN连接数","format":"int32","type":"integer"},"created_at":{"description":"创建时间","format":"date-time","type":"string"},"eip1":{"$ref":"#/components/schemas/ResponseEip","description":"双活VPN网关表示使用的第一个EIP,主备VPN网关表示主EIP"},"eip2":{"$ref":"#/components/schemas/ResponseEip","description":"双活VPN网关表示使用的第二个EIP,主备VPN网关表示备EIP"},"enterprise_project_id":{"description":"企业项目ID","maxLength":64,"minLength":1,"type":"string"},"er_id":{"description":"VPN网关所连接的ER实例的ID","type":"string"},"flavor":{"description":"VPN网关的规格类型","maxLength":64,"type":"string"},"ha_mode":{"description":"ha模式","type":"string"},"id":{"description":"VPN网关ID","type":"string"},"ip_version":{"description":"网关的IP协议版本","enum":["ipv4","ipv6"],"type":"string"},"local_subnets":{"description":"本端子网","items":{"type":"string"},"type":"array"},"local_subnets_v6":{"description":"使能ipv6的本端子网","items":{"type":"string"},"type":"array"},"name":{"description":"VPN网关名称","maxLength":64,"minLength":1,"pattern":"[一-龥a-zA-Z0-9-_.]+","type":"string"},"network_type":{"default":"public","description":"VPN网关的网络类型,默认为公网(public)","enum":["public","private"],"type":"string"},"policy_template":{"$ref":"#/components/schemas/PolicyTemplate","description":"策略模板"},"tags":{"description":"标签","items":{"$ref":"#/components/schemas/VpnResourceTag"},"maxItems":20,"type":"array"},"updated_at":{"description":"更新时间","format":"date-time","type":"string"},"used_connection_group":{"description":"当前已经使用的VPN连接组个数","format":"int32","type":"integer"},"used_connection_number":{"description":"当前已经使用的VPN连接数","format":"int32","type":"integer"},"vpc_id":{"description":"VPN网关所连接的VPC的ID","type":"string"}},"type":"object"},"UpdateVgwIkePolicy":{"properties":{"authentication_algorithm":{"description":"加密算法","enum":["sha2-256","sha2-384","sha2-512"],"example":"sha2-256","type":"string"},"dh_group":{"description":"DH密钥组","enum":["group14","group15","group16","group19","group20","group21"],"example":"group15","type":"string"},"encryption_algorithm":{"description":"加密算法","enum":["aes-128","aes-192","aes-256","aes-128-gcm-16","aes-256-gcm-16"],"example":"aes-128","type":"string"},"lifetime_seconds":{"description":"表示SA的生存周期,当该生存周期超时后IKE SA将自动更新","example":86400,"maximum":604800,"minimum":60,"type":"integer"}},"type":"object"},"UpdateVgwIpsecPolicy":{"properties":{"authentication_algorithm":{"description":"加密算法","enum":["sha2-256","sha2-384","sha2-512"],"example":"sha2-256","type":"string"},"encryption_algorithm":{"description":"加密算法","enum":["aes-128","aes-192","aes-256","aes-128-gcm-16","aes-256-gcm-16"],"example":"aes-128","type":"string"},"lifetime_seconds":{"description":"表示配置IPSec连接建立的隧道以时间为基准的生存周期","example":3600,"maximum":604800,"minimum":30,"type":"integer"},"pfs":{"description":"PFS使用的DH密钥组","enum":["group14","group15","group16","group19","group20","group21","disable"],"type":"string"}},"type":"object"},"UpdateVgwRequestBody":{"properties":{"vpn_gateway":{"$ref":"#/components/schemas/UpdateVgwRequestBodyContent","description":"VPN网关"}},"required":["vpn_gateway"],"type":"object"},"UpdateVgwRequestBodyContent":{"properties":{"eip_id_1":{"description":"有效的EIP的ID,表示绑定新的EIP作为双活VPN网关使用的第一个EIP或主备VPN网关的主EIP。","example":"f1469b4a-df0b-4a98-a538-bb7de91cf493","maxLength":36,"minLength":36,"pattern":"[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}","type":"string"},"eip_id_2":{"description":"有效的EIP的ID,表示绑定新的EIP作为双活VPN网关使用的第二个EIP或主备VPN网关的备EIP。","example":"4d3e6ad3-5c54-403d-8a68-1bcfbf780cbc","maxLength":36,"minLength":36,"pattern":"[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}","type":"string"},"local_subnets":{"description":"本端子网","items":{"type":"string"},"type":"array"},"local_subnets_v6":{"description":"使能ipv6的本端子网","items":{"type":"string"},"type":"array"},"name":{"description":"网关名称","maxLength":64,"minLength":1,"pattern":"[一-龥a-zA-Z0-9-_.]+","type":"string"},"policy_template":{"$ref":"#/components/schemas/UpdateRequestPolicyTemplate","description":"策略模板"}},"type":"object"},"UpdateVgwResponseBody":{"properties":{"request_id":{"description":"请求ID","type":"string"},"vpn_gateway":{"$ref":"#/components/schemas/UpdateResponseVpnGateway","description":"VPN网关对象"}},"type":"object"},"VgwIkePolicy":{"properties":{"authentication_algorithm":{"description":"认证算法","type":"string"},"dh_group":{"description":"DH密钥组","example":"group15","type":"string"},"encryption_algorithm":{"description":"加密算法","example":"aes-128","type":"string"},"lifetime_seconds":{"description":"表示SA的生存周期,当该生存周期超时后IKE SA将自动更新","example":86400,"maximum":604800,"minimum":60,"type":"integer"}},"type":"object"},"VgwIpsecPolicy":{"properties":{"authentication_algorithm":{"description":"认证算法","maxLength":16,"type":"string"},"encryption_algorithm":{"description":"加密算法","example":"aes-128","maxLength":16,"type":"string"},"lifetime_seconds":{"description":"表示配置IPSec连接建立的隧道以时间为基准的生存周期","example":3600,"maximum":604800,"minimum":30,"type":"integer"},"pfs":{"description":"DH密钥组","example":"group15","maxLength":16,"type":"string"}},"type":"object"},"VpnResourceTag":{"properties":{"key":{"description":"标签的key","maxLength":128,"minLength":1,"pattern":"^((?!\\s)(?!_sys_)[\\p{L}\\p{Z}\\p{N}_.:=+\\-@]*)(?<!\\s)$","type":"string"},"value":{"description":"标签的value","maxLength":255,"pattern":"^([\\p{L}\\p{Z}\\p{N}_.:\\/=+\\-@]*)$","type":"string"}},"required":["key","value"],"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"530f5778ed8b4ac6a3b039053a113eb6","host":"vpn.cn-north-4.myhuaweicloud.com","id":"a61a42ffe8b04ca4aec3b6fa8b667a27","info_version":"v5","method":"put","name":"UpdateVgw","parameters":null,"paths":{"/v5/{project_id}/vpn-gateways/{vgw_id}":{"put":{"description":"根据VPN网关ID,更新指定的VPN网关","operationId":"UpdateVgw","parameters":[{"$ref":"#/components/parameters/ProjectId"},{"$ref":"#/components/parameters/VpnGatewayId"},{"$ref":"#/components/parameters/XAuthTokenInHeader"}],"requestBody":{"content":{"application/json":{"examples":{"UpdateVgwRequestBodyExample":{"$ref":"#/components/examples/UpdateVgwRequestBodyExample"}},"schema":{"$ref":"#/components/schemas/UpdateVgwRequestBody"}}},"description":"请求参数对象","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateVgwResponseBody"}}},"description":"successful operation","headers":{"header-response-token":{"description":"响应头令牌","explode":false,"schema":{"type":"string"},"style":"simple"}}},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"输入参数不合法"},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"认证失败"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"拒绝访问"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"资源未找到"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"服务器内部错误"}},"summary":"更新VPN网关","tags":["VpnGateway"],"x-huawei-security":{"enableEProject":true,"epsAction":"update","pdpKey":"vpn:vpnGateways:update"},"x-is-registered":"Y","x-support-sdk":"Y"}}},"product_short":"VPN","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"更新VPN网关","tags":"VpnGateway","uri":null,"version":"3.0.1"}