{"base_path":null,"components":{"parameters":{"ProjectId":{"description":"项目id","explode":false,"in":"path","name":"project_id","required":true,"schema":{"pattern":"[a-fA-F0-9]{32}","type":"string"},"style":"simple"},"XAuthTokenInHeader":{"description":"header中的用户Token","explode":false,"in":"header","name":"X-Auth-Token","required":false,"schema":{"type":"string"},"style":"simple"}},"schemas":{"CaCertificate":{"description":"对端网关CA证书信息","properties":{"expire_time":{"description":"证书过期时间","format":"date-time","type":"string"},"id":{"description":"证书ID","maxLength":36,"type":"string"},"is_updatable":{"description":"是否能更新内容","type":"boolean"},"issuer":{"description":"证书颁发者","maxLength":256,"type":"string","x-sensitive":true},"serial_number":{"description":"证书序列号","maxLength":64,"type":"string"},"signature_algorithm":{"description":"签名算法","maxLength":64,"type":"string"},"subject":{"description":"证书主题","maxLength":256,"type":"string"}},"type":"object"},"CaCertificateRequest":{"description":"对端网关CA证书","properties":{"content":{"description":"对端网关CA证书内容","maxLength":8192,"minLength":1,"type":"string","x-sensitive":true},"id":{"description":"使用已有证书ID","maxLength":36,"type":"string"}},"type":"object"},"CreateCgwRequestBody":{"properties":{"customer_gateway":{"$ref":"#/components/schemas/CreateCgwRequestBodyContent"}},"required":["customer_gateway"],"type":"object"},"CreateCgwRequestBodyContent":{"properties":{"bgp_asn":{"description":"网关的bgp asn号","format":"int64","maximum":4294967295,"minimum":1,"type":"integer"},"ca_certificate":{"$ref":"#/components/schemas/CaCertificateRequest"},"id_type":{"default":"ip","description":"对端网关标识类型","enum":["ip","fqdn"],"type":"string"},"id_value":{"description":"对端网关标识值","maxLength":128,"minLength":1,"type":"string"},"name":{"description":"网关名称","maxLength":64,"minLength":1,"pattern":"[一-龥a-zA-Z0-9-_.]+","type":"string"},"tags":{"description":"标签","items":{"$ref":"#/components/schemas/VpnResourceTag"},"maxItems":20,"type":"array"}},"required":["id_value"],"type":"object"},"CreateCgwResponseBody":{"properties":{"customer_gateway":{"$ref":"#/components/schemas/ResponseCustomerGateway"},"request_id":{"description":"请求id","type":"string"}},"type":"object"},"ErrorResponse":{"properties":{"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误消息内容","type":"string"}},"type":"object"},"ResponseCustomerGateway":{"properties":{"bgp_asn":{"description":"网关的bgp asn号","format":"int64","type":"integer"},"ca_certificate":{"$ref":"#/components/schemas/CaCertificate"},"created_at":{"description":"创建时间","format":"date-time","type":"string"},"id":{"description":"网关的ID","type":"string"},"id_type":{"description":"对端网关标识类型","type":"string"},"id_value":{"description":"对端网关标识值","type":"string"},"name":{"description":"网关名称","type":"string"},"tags":{"description":"标签","items":{"$ref":"#/components/schemas/VpnResourceTag"},"maxItems":20,"type":"array"},"updated_at":{"description":"更新时间","format":"date-time","type":"string"}},"type":"object"},"VpnResourceTag":{"properties":{"key":{"description":"标签的key","maxLength":128,"minLength":1,"pattern":"^((?!\\s)(?!_sys_)[\\p{L}\\p{Z}\\p{N}_.:=+\\-@]*)(?<!\\s)$","type":"string"},"value":{"description":"标签的value","maxLength":255,"pattern":"^([\\p{L}\\p{Z}\\p{N}_.:\\/=+\\-@]*)$","type":"string"}},"required":["key","value"],"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"530f5778ed8b4ac6a3b039053a113eb6","host":"vpn.cn-north-4.myhuaweicloud.com","id":"31a52564db934ca8b7a034d12058d1b0","info_version":"v5","method":"post","name":"CreateCgw","parameters":null,"paths":{"/v5/{project_id}/customer-gateways":{"post":{"description":"创建租户用于与VPN网关相连的对端网关","operationId":"CreateCgw","parameters":[{"$ref":"#/components/parameters/ProjectId"},{"$ref":"#/components/parameters/XAuthTokenInHeader"}],"requestBody":{"content":{"application/json":{"example":{"customer_gateway":{"bgp_asn":64512,"id_type":"ip","id_value":"10.12.13.21","name":"stub-customer-gateway-id-1","tags":[]}},"schema":{"$ref":"#/components/schemas/CreateCgwRequestBody"}}},"required":true},"responses":{"201":{"content":{"application/json":{"example":{"customer_gateway":{"bgp_asn":64512,"created_at":"2021-12-21T16:49:28.108+08:00","id":"03c0aa3d-ebb0-4d5f-9be4-9d82473765d4","id_type":"ip","id_value":"10.12.13.21","name":"stub-customer-gateway-id-1","project_id":"065803628080d5e72fcac018766843e4","updated_at":"2021-12-21T16:49:28.108+08:00"},"request_id":"285e43cb-0a96-4fe3-8b58-37f9b37fe59c"},"schema":{"$ref":"#/components/schemas/CreateCgwResponseBody"}}},"description":"创建成功","headers":{"header-response-token":{"explode":false,"schema":{"type":"string"},"style":"simple"}}},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"输入参数不合法"},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"认证失败"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"拒绝访问"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"资源未找到"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"服务器内部错误"}},"summary":"创建对端网关","tags":["CustomerGateway"],"x-huawei-security":{"enableEProject":true,"epsAction":"create","pdpKey":"vpn:customerGateways:create"},"x-is-registered":"Y","x-support-sdk":"Y"}}},"product_short":"VPN","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建对端网关","tags":"CustomerGateway","uri":null,"version":"3.0.1"}