{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"Answers":{"description":"","properties":{"answer":{"description":"答案。","type":"string"},"domain":{"description":"Domain.","type":"string"},"ex_questions":{"description":"扩展问。","items":{"$ref":"#/definitions/ExQuestions"},"type":"array"},"qa_pair_id":{"description":"Answers.","type":"string"},"score":{"description":"相似度得分,精确到小数点后3位。","format":"double","type":"number"},"st_question":{"description":"标准问题。","type":"string"}}},"ErrorResp":{"description":"Bad Request","properties":{"error_code":{"description":"调用失败时的错误码。\n调用成功时无此字段。","type":"string"},"error_msg":{"description":"调用失败时的错误信息。\n调用成功时无此字段。","type":"string"}},"required":["error_code","error_msg"]},"ExQuestions":{"description":"","properties":{"content":{"description":"扩展问题。","type":"string"}},"required":["content"]},"OldExtends":{"description":"","properties":{"domains":{"description":"领域列表,多个领域用分号隔开。如果设置了领域且领域不为空,就从这些领域中匹配答案,否则就从该用户的全部知识库匹配答案。\n\n当前最多支持10个领域。\n","items":{"description":"","type":"string"},"maxItems":10,"type":"array"},"top":{"description":"返回答案数量,默认为5,取值范围1~10。","type":"integer"}}},"PostOldRequestsReq":{"description":"","properties":{"chat_enable":{"default":false,"description":"默认false\ntrue:使用内部闲聊语料进行兜底\nfalse:不使用闲聊兜底","type":"boolean"},"extends":{"$ref":"#/definitions/OldExtends","description":"扩展参数。"},"operate_type":{"description":"调用接口时候传入,用以标记的问答的行为,默认为0,最终会展示在问答日志里。 0 用户输入 1 单击热点问题 3 单击推荐问题 4 单击问题提示","type":"integer"},"question":{"description":"用户输入","type":"string"},"session_id":{"description":"会话标识符,UUID格式。如:c04e6f7b-61d7-4a2d-a0c8-f9ecd2f62359。\n\n每次对话开启,机器人创建会话id,下次请求中传入该id表示继续该轮对话,每轮会话有效时间为2分钟。\n若传入的会话id已过期或者为空,则机器人会重新创建新的会话id(重新创建会话id会消耗一定时间)。","type":"string"},"threshold_enable":{"default":false,"description":"true:启动内部阈值 返回经过阈值处理之后的答案。\nfalse:不启用内部阈值 返回原答案。","type":"boolean"},"user_id":{"description":"用户id,在日志中用于标识不通用户,可以为任意String","type":"string"}},"required":["question"]},"PostRequestsResp":{"description":"","properties":{"answers":{"description":"最相似的问题集。\n调用失败时无此字段。","items":{"$ref":"#/definitions/Answers"},"type":"array"},"extends":{"$ref":"#/definitions/OldExtends","description":"扩展参数项。\n调用失败时无此字段。"},"question":{"description":"问题。\n\n调用失败时无此字段。","type":"string"},"request_id":{"description":"请求ID。\n\n调用失败时无此字段。","type":"string"}},"required":["question","request_id"]}},"description":null,"group_id":"afdd5824ea9744af89d9deb2587e3541","host":"cbs-ext.cn-north-4.myhuaweicloud.com","id":"a3d328eef0ba4f9d8462bf40546db0cc","info_version":"v1","method":"post","name":"PostRequests","parameters":{},"paths":{"/v1/{project_id}/qabots/{qabot_id}/requests":{"post":{"consumes":[],"deprecated":true,"description":"问答服务的输入为用户提问,输出是与输入最匹配的Top N(默认为top5)个知识点,知识点按得分从高到低排序。\n\n说明: \n返回知识点如果含有答案字段(answer),则表示返回匹配成功结果,如果没有答案字段,则表示推荐结果。","operationId":"PostRequests","parameters":[{"description":"来自公有云的Project ID,用于资源隔离。","in":"path","name":"project_id","required":true,"type":"string","x-order":1},{"description":"qabot编号,UUID格式,如:303a0a00-c88a-43e3-aa2f-d5b8b9832b02。","in":"path","name":"qabot_id","required":true,"type":"string","x-order":2},{"description":"请求体。","in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/PostOldRequestsReq"},"x-order":3},{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":4}],"produces":[],"responses":{"200":{"description":"OK","examples":{"application/json":{"answers":[{"answer":"用户账号不对","domain":"桌面云","qa_pair_id":"123","score":0.952,"st_question":"桌面云打开不了"},{"answer":"用户账号不对","domain":"桌面云","qa_pair_id":"123","score":0.901,"st_question":"桌面云打开不了了"},{"answer":"桌面云是可以远程办公的系统","domain":"桌面云","qa_pair_id":"123","score":0.352,"st_question":"桌面云是啥"},{"answer":"请检查下显示器是否开启","domain":"桌面云","qa_pair_id":"123","score":0.352,"st_question":"电脑桌面打不开"}],"question":"桌面云打不开","request_id":"303a0a00-c88a"}},"schema":{"$ref":"#/definitions/PostRequestsResp"}},"400":{"description":"Bad Request","examples":{"application/json":{"error_code":"CBS.0022","error_msg":"session_id can not be null"}},"schema":{"$ref":"#/definitions/ErrorResp"}}},"summary":"PostRequests","tags":["其他问答API"],"x-apiexplorer-hide":"N","x-constraint":"","x-is-registered":"Y","x-name":"PostRequests","x-open-region-cloud":"hc,hk","x-order":2,"x-publishpath":"","x-request-examples-1":{"chat_enable":true,"extends":{"domains":["桌面云"],"top":5},"operate_type":3,"question":"桌面云无法登陆","session_id":"xxxxxxxxxxxxxxxxxx","threshold_enable":false,"user_id":"z00123456"},"x-request-examples-description-1":"","x-request-examples-text-1":"{\n    \"user_id\": \"z00123456\",\n    \"session_id\": \"xxxxxxxxxxxxxxxxxx\",\n    \"operate_type\":3,      \n    \"question\": \"桌面云无法登陆\",\n    \"extends\":{\n\t\"domains\":[\"桌面云\"],\n\t\"top\":5\n    },\n    \"threshold_enable\":false,\n    \"chat_enable\":true\n}","x-request-examples-url-1":"https://{endpoint}/v1/1604d8170cd84440a81281e5a3a04f8b/qabots/303a0a00-c88a-43e3-aa2f-d5b8b9832b02/requests","x-scope":"Deprecated","x-support-sdk":"Y","x-version":"v1"}}},"product_short":"CBS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"PostRequests","tags":"其他问答API","uri":null,"version":"2.0"}