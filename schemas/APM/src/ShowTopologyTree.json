{"base_path":null,"components":null,"consumes":"","definitions":{"TopologyTree":{"properties":{"tree":{"description":"拓扑树节点。","items":{"$ref":"#/definitions/TreeNode"},"type":"array"}},"type":"object"},"TreeInfoVO":{"properties":{"topology_tree":{"$ref":"#/definitions/TopologyTree","description":"拓扑树信息。"}},"type":"object"},"TreeNode":{"description":"拓扑树节点信息。","properties":{"app_id":{"description":"组件id。","format":"int64","type":"integer"},"app_name":{"description":"组件名称。","type":"string"},"business_id":{"description":"应用id。","format":"int64","type":"integer"},"display_name":{"description":"拓扑树节点展示名称。","type":"string"},"id":{"description":"拓扑树节点id。","type":"string"},"is_admin":{"description":"是否是管理节点。","type":"boolean"},"is_default":{"description":"是否是默认的节点。","type":"boolean"},"is_root":{"description":"是否是根节点。","type":"boolean"},"name":{"description":"拓扑树节点名称。","type":"string"},"node_type":{"description":"节点类型。","enum":["BUSINESS","SUB_BUSINESS","APPLICATION","ENVIRONMENT"],"example":"BUSINESS","type":"string"},"parent":{"description":"拓扑树节点的父节点。","type":"string"},"real_id":{"description":"拓扑树节点的实际id。","format":"int64","type":"integer"},"region":{"description":"区域。","type":"string"}},"type":"object"}},"description":null,"group_id":"948fcecbff6f450fbe29bcc3e90c3eca","host":"apm2.cn-north-4.myhuaweicloud.com","id":"44694dec08fd4bf3b980234c5b1ef7f9","info_version":"v1","method":"get","name":"ShowTopologyTree","parameters":{},"paths":{"/v1/apm2/openapi/cmdb/topology-trees/get-topology-trees":{"get":{"description":"获取应用树。","operationId":"ShowTopologyTree","parameters":[{"description":"区域id。","in":"query","name":"region_id","required":false,"type":"string"},{"description":"应用id。","format":"int64","in":"query","name":"business_id","required":true,"type":"integer"},{"description":"环境标签id。","format":"int64","in":"query","name":"env_tag_id","required":false,"type":"integer"},{"description":"环境关键字。","in":"query","name":"env_keyword","required":false,"type":"string"},{"description":"应用id。","format":"int64","in":"header","name":"x-business-id","required":true,"type":"integer"},{"description":"从IAM服务获取的用户Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"OK,请求响应成功。","examples":{"application/json":{"topology_tree":{"tree":[{"admin":false,"app_id":null,"app_name":null,"business_id":162,"default":false,"display_name":"apm-pu-task","id":"162-55-11","is_admin":false,"is_default":false,"is_root":false,"name":"apm-pu-task","node_type":"APPLICATION","parent":"162-55","real_id":11,"region":null},{"admin":false,"app_id":null,"app_name":null,"business_id":162,"default":false,"display_name":"App","id":"162-55","is_admin":false,"is_default":false,"is_root":false,"name":"App","node_type":"SUB_BUSINESS","parent":"162","real_id":55,"region":null},{"admin":false,"app_id":null,"app_name":null,"business_id":162,"default":false,"display_name":"LubanApm","id":"162","is_admin":false,"is_default":false,"is_root":true,"name":"LubanApm","node_type":"BUSINESS","parent":null,"real_id":162,"region":null},{"admin":false,"app_id":11,"app_name":"apm-pu-task","business_id":162,"default":false,"display_name":"suzhou-roma-2","id":"162-55-11-11","is_admin":false,"is_default":false,"is_root":false,"name":"suzhou-roma-2","node_type":"ENVIRONMENT","parent":"162-55-11","real_id":11,"region":"suzhou-roma-2"}]}}},"schema":{"$ref":"#/definitions/TreeInfoVO"}},"401":{"description":"Unauthorized,没有权限。","schema":{"type":"string"}},"403":{"description":"Forbidden,禁止访问。","schema":{"type":"string"}},"404":{"description":"Not Found,没有找到要请求的资源。","schema":{"type":"string"}}},"summary":"获取应用树","tags":["CMDB"],"x-hybridcloud":true,"x-is-registered":"Y","x-request-examples-description-1":"入参为应用Id。","x-request-examples-url-1":"/v1/apm2/openapi/cmdb/topology-trees/get-topology-trees?business_id=162","x-support-sdk":"Y"}}},"product_short":"APM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-app":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-app-optional":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-opt":{"access-auth-type":"optional"},"x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-iam-none":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM_NONE"}},"summary":"获取应用树","tags":"CMDB","uri":null,"version":"2.0"}