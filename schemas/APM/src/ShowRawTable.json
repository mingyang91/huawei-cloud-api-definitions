{"base_path":null,"components":null,"consumes":"","definitions":{"FieldItem":{"description":"所需展示的字段列表模型。","properties":{"as":{"description":"作为。","type":"string"},"default_value":{"description":"默认值。","type":"string"},"function":{"description":"表达式。","type":"string"},"precision":{"description":"百分比。","format":"int32","type":"integer"},"trace":{"description":"是否是trace。","type":"boolean"},"unit":{"description":"单位。","type":"string"},"visible":{"description":"是否可见。","type":"boolean"}},"required":["function"],"type":"object"},"FrontCell":{"description":"数据单元。","properties":{"data_type":{"description":"数据类型。","type":"string"},"function":{"description":"函数。","type":"string"},"precision":{"description":"小数点位数。","format":"int32","type":"integer"},"span":{"description":"是否是span信息,如果是就跳到调用链搜索页面。","type":"boolean"},"span_field":{"description":"span字段。","type":"string"},"text":{"description":"文本信息。","type":"string"},"trace":{"description":"是否调用链。","type":"boolean"},"unit":{"description":"单位。","type":"string"},"visible":{"description":"是否可见。","type":"boolean"}},"type":"object"},"FrontRow":{"description":"数据行。","properties":{"cell_list":{"description":"数据单元集合。","items":{"$ref":"#/definitions/FrontCell"},"type":"array"},"filter":{"description":"将group by的字段拼接成过滤字符串,用于后续点网格点击使用。","type":"string"},"header":{"description":"是否是header信息。","type":"boolean"},"tx_id":{"description":"Url跟踪id。","format":"int64","type":"integer"}},"type":"object"},"RawTableParam":{"description":"获取原始数据表格入参。","properties":{"end_time":{"description":"结束时间。","type":"string"},"env_id":{"description":"环境id。","format":"int64","type":"integer"},"instance_id":{"description":"实例id。","format":"int64","type":"integer"},"last_row_id":{"description":"上一次扫描的数据ID。","type":"string"},"monitor_item_id":{"description":"监控项id。","format":"int64","type":"integer"},"order_by":{"description":"排序。","type":"string"},"page":{"description":"当前页码。","format":"int32","type":"integer"},"page_size":{"description":"每页数据总数。","format":"int32","type":"integer"},"search_word":{"description":"搜索关键字。","type":"string"},"start_time":{"description":"开始时间。","type":"string"},"view_config":{"$ref":"#/definitions/RawTableView","description":"原始数据表格视图。"}},"required":["view_config","page","page_size","search_word","instance_id","monitor_item_id","env_id","start_time","end_time"],"type":"object"},"RawTableResponse":{"description":"获取原始数据表格返回结果。","properties":{"latest_data_Time":{"description":"最近一笔数据的时间。","type":"string"},"real_end_time":{"description":"实际结束的时间。","format":"int64","type":"integer"},"real_start_time":{"description":"实际开始的时间,主要用于下一次调用,特别是分页调用的时候传的参数。","format":"int64","type":"integer"},"result_id":{"description":"上次请求id。","type":"string"},"row_list":{"items":{"$ref":"#/definitions/FrontRow"},"type":"array"},"table_direction":{"description":"表格的方向,H:默认,表头横向,V:表头纵向。","enum":["H","V"],"example":"H","type":"string"}},"type":"object"},"RawTableView":{"description":"原始数据视图。","properties":{"collector_name":{"description":"采集器名称。","type":"string"},"field_item_list":{"description":"所需展示的字段列表模型集合。","items":{"$ref":"#/definitions/FieldItem"},"type":"array"},"filter":{"description":"过滤列表模型。","type":"string"},"group_by":{"description":"分组规则。","type":"string"},"latest":{"description":"是否只展示最近一笔数据。","type":"boolean"},"metric_set":{"description":"视图对应的指标集的名称。","type":"string"},"order_by":{"description":"排序规则。","type":"string"},"span":{"description":"跨度。","type":"boolean"},"span_field":{"description":"跨度字段。","type":"string"},"table_direction":{"description":"表格的方向,H:默认,表头横向,V:表头纵向。","enum":["H","V"],"example":"H","type":"string"},"title":{"description":"图标所需展示的标题。","type":"string"},"view_type":{"description":"视图类型。","enum":["trend","sumtable","rawtable"],"example":"trend","type":"string"}},"required":["view_type","collector_name","metric_set","title","table_direction","group_by","filter","field_item_list","span","span_field"],"type":"object"}},"description":null,"group_id":"948fcecbff6f450fbe29bcc3e90c3eca","host":"apm2.cn-north-4.myhuaweicloud.com","id":"149d783f1baa4978b819aea5b6ad9c3d","info_version":"v1","method":"post","name":"ShowRawTable","parameters":{},"paths":{"/v1/apm2/openapi/view/metric/raw-table":{"post":{"description":"获取原始数据表格。","operationId":"ShowRawTable","parameters":[{"description":"获取原始数据表格入参。","in":"body","name":"rawTableParam","required":true,"schema":{"$ref":"#/definitions/RawTableParam"}},{"description":"从IAM服务获取的用户Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"应用id。","format":"int64","in":"header","name":"x-business-id","required":true,"type":"integer"}],"produces":["application/json"],"responses":{"200":{"description":"OK,请求响应成功。","examples":{"application/json":{"latest_data_Time":"2022-11-03 08:41:00","real_end_time":1667436600000,"real_start_time":1667435400000,"result_id":null,"row_list":[{"cell_list":[{"data_type":"STRING","function":null,"precision":null,"span":null,"span_field":null,"text":"time","trace":null,"unit":null,"visible":true},{"data_type":"CLOB","function":null,"precision":null,"span":null,"span_field":null,"text":"异常堆栈","trace":null,"unit":null,"visible":true}],"filter":null,"header":true,"tx_id":null},{"cell_list":[{"data_type":null,"function":null,"precision":null,"span":null,"span_field":null,"text":"2022-11-03 08:41:00","trace":null,"unit":null,"visible":true},{"data_type":null,"function":null,"precision":null,"span":null,"span_field":null,"text":"6-973f4c1c78928bcf67d67dfaccc9d3a09f3cef97b2de70bd11f103a1af449b94","trace":null,"unit":null,"visible":true}],"filter":null,"header":null,"tx_id":null}],"table_direction":"H"}},"schema":{"$ref":"#/definitions/RawTableResponse"}},"401":{"description":"Unauthorized,没有权限。","schema":{"type":"string"}},"403":{"description":"Forbidden,禁止访问。","schema":{"type":"string"}},"404":{"description":"Not Found,没有找到要请求的资源。","schema":{"type":"string"}}},"summary":"获取原始数据表格","tags":["VIEW"],"x-hybridcloud":true,"x-is-registered":"Y","x-request-examples-1":{"end_time":1667436600000,"env_id":"913","monitor_item_id":10499,"page":1,"page_size":10,"start_time":1667435400000,"view_config":{"collector_name":"Exception","field_item_list":[{"as":"异常堆栈","default_value":null,"function":"stackTrace","precision":null,"trace":null,"unit":null,"visible":true}],"filter":"className=com.huawei.hwclouds.lubanops.apm.alarm.service.impl.AviatorService^exceptionType=java.lang.ClassCastException^logType=sl4j_logback_error","group_by":"","latest":null,"metric_set":"exception","span":null,"span_field":null,"table_direction":null,"title":"异常堆栈","view_type":"rawtable"}},"x-request-examples-description-1":"入参为view_type参数为rawtable的视图配置,可从查询监控项配置信息接口获取。","x-request-examples-text-1":{"end_time":1667436600000,"env_id":"913","monitor_item_id":10499,"page":1,"page_size":10,"start_time":1667435400000,"view_config":{"collector_name":"Exception","field_item_list":[{"as":"异常堆栈","default_value":null,"function":"stackTrace","precision":null,"trace":null,"unit":null,"visible":true}],"filter":"className=com.huawei.hwclouds.lubanops.apm.alarm.service.impl.AviatorService^exceptionType=java.lang.ClassCastException^logType=sl4j_logback_error","group_by":"","latest":null,"metric_set":"exception","span":null,"span_field":null,"table_direction":null,"title":"异常堆栈","view_type":"rawtable"}},"x-request-examples-url-1":"/v1/apm2/openapi/view/metric/raw-table","x-support-sdk":"Y"}}},"product_short":"APM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-app":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-app-optional":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-opt":{"access-auth-type":"optional"},"x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-iam-none":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM_NONE"}},"summary":"获取原始数据表格","tags":"VIEW","uri":null,"version":"2.0"}