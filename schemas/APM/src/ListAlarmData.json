{"base_path":null,"components":null,"consumes":"","definitions":{"AlarmDataListRequest":{"description":"告警消息请求参数。","properties":{"alarm_end_time":{"description":"告警结束时间。","type":"string"},"alarm_level":{"description":"告警级别 \nCOMMON:轻微  CRITICAL:严重。","type":"string"},"alarm_start_time":{"description":"告警开始时间。","type":"string"},"app_name":{"description":"组件环境名称。","type":"string"},"business_id":{"description":"应用id。","format":"int64","type":"integer"},"collector_id":{"description":"采集器id。","format":"int32","type":"integer"},"env_list":{"description":"环境集合。","items":{"format":"int64","type":"integer"},"type":"array"},"ip_address":{"description":"实例ip地址。","type":"string"},"keyword":{"description":"关键字。","type":"string"},"monitor_item_id":{"description":"监控项id。","format":"int64","type":"integer"},"page":{"description":"页码。","format":"int32","type":"integer"},"page_size":{"description":"每页数量。","format":"int32","type":"integer"},"region":{"description":"region英文名称。","type":"string"},"status":{"description":"告警状态 \nRECOVER:已恢复 ABNORMAL:异常 ALERT:告警中。","type":"string"}},"required":["business_id"],"type":"object"},"AlarmDataListVO":{"description":"告警列表返回结果。","properties":{"alarm_data_list":{"description":"告警列表。","items":{"$ref":"#/definitions/AlarmDataVO"},"type":"array"},"total_count":{"description":"消息总数。","format":"int32","type":"integer"}},"type":"object"},"AlarmDataVO":{"description":"告警信息视图。","properties":{"alarm_first_time":{"description":"开始报警时间。","type":"string"},"alarm_last_time":{"description":"最后一次报警时间。","type":"string"},"alarm_level":{"description":"告警级别。","type":"string"},"alarm_rule_expression":{"description":"告警表达式。","type":"string"},"alarm_rule_id":{"description":"告警规则id。","format":"int64","type":"integer"},"alarm_rule_name":{"description":"告警规则名称。","type":"string"},"alarm_rule_type":{"description":"告警规则类别。","type":"string"},"app_name":{"description":"组件名称。","type":"string"},"business_id":{"description":"应用id。","format":"int64","type":"integer"},"business_name":{"description":"应用名称。","type":"string"},"collector_id":{"description":"采集器id。","format":"int32","type":"integer"},"collector_name":{"description":"采集器名称。","type":"string"},"env_id":{"description":"环境id。","format":"int64","type":"integer"},"gmt_create":{"description":"创建时间。","type":"string"},"gmt_modify":{"description":"修改时间。","type":"string"},"id":{"description":"告警通知id。","format":"int64","type":"integer"},"instance_id":{"description":"实例id。","format":"int64","type":"integer"},"instance_name":{"description":"实例名称。","type":"string"},"ip_address":{"description":"实例ip地址。","type":"string"},"monitor_item_id":{"description":"监控项id。","format":"int64","type":"integer"},"process_unit":{"description":"处理单元。","type":"string"},"region":{"description":"区域名称。","type":"string"},"region_alarm_event_id":{"description":"region中事件的id。","format":"int64","type":"integer"},"restrain_key":{"description":"唯一告警标识符。","type":"string"},"status":{"description":"告警状态。","type":"string"},"template_id":{"description":"模板id。","format":"int64","type":"integer"},"version_number":{"description":"版本。","format":"int32","type":"integer"}},"type":"object"}},"description":null,"group_id":"948fcecbff6f450fbe29bcc3e90c3eca","host":"apm2.cn-north-4.myhuaweicloud.com","id":"fc25c1eef8d340a7b965d20b7b85d35c","info_version":"v1","method":"post","name":"ListAlarmData","parameters":{},"paths":{"/v1/apm2/openapi/alarm/data/get-alarm-data-list":{"post":{"description":"查询系统中存在的告警。","operationId":"ListAlarmData","parameters":[{"description":"应用id。","format":"int64","in":"header","name":"x-business-id","required":true,"type":"integer"},{"description":"从IAM服务获取的用户Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"告警消息请求参数。","in":"body","name":"alarmDataListRequest","required":true,"schema":{"$ref":"#/definitions/AlarmDataListRequest"}}],"produces":["application/json"],"responses":{"200":{"description":"OK,请求响应成功。","examples":{"application/json":{"alarm_data_list":[{"alarm_content":"CPU0.025使用率为0.025","alarm_data_type":"SINGLE","alarm_first_time":"2022-10-23 18:12:53","alarm_last_time":"2022-10-25 16:05:55","alarm_level":"COMMON","alarm_rule_expression":"(cpuRatio>0)","alarm_rule_id":3,"alarm_rule_name":"alarm","alarm_rule_type":"TEMPLATE","app_name":"app_new3","business_id":1,"business_name":"default","collector_id":28,"collector_name":"JVM监控","env_id":7,"gmt_create":null,"gmt_modify":null,"id":42,"instance_id":8,"instance_name":"ins11_3","ip_address":"192.168.0.87","monitor_item_id":46,"process_unit":"suzhou-roma-2-process-unit","region":"suzhou-roma-2","region_alarm_event_id":122,"restrain_key":"7:8:3:TEMPLATE","status":"ALERT","template_id":2,"version_number":null},{"alarm_content":"CPU0.025使用率为0.025","alarm_data_type":"SINGLE","alarm_first_time":"2022-10-23 18:02:44","alarm_last_time":"2022-10-25 16:05:46","alarm_level":"COMMON","alarm_rule_expression":"(cpuRatio>0)","alarm_rule_id":3,"alarm_rule_name":"alarm","alarm_rule_type":"TEMPLATE","app_name":"app_new5","business_id":1,"business_name":"default","collector_id":28,"collector_name":"JVM监控","env_id":5,"gmt_create":null,"gmt_modify":null,"id":41,"instance_id":4,"instance_name":"ins10_5","ip_address":"192.168.0.87","monitor_item_id":28,"process_unit":"suzhou-roma-2-process-unit","region":"suzhou-roma-2","region_alarm_event_id":121,"restrain_key":"5:4:3:TEMPLATE","status":"ALERT","template_id":2,"version_number":null}],"total_count":2}},"schema":{"$ref":"#/definitions/AlarmDataListVO"}},"401":{"description":"Unauthorized,没有权限。","schema":{"type":"string"}},"403":{"description":"Forbidden,禁止访问。","schema":{"type":"string"}},"404":{"description":"Not Found,没有找到要请求的资源。","schema":{"type":"string"}}},"summary":"查询告警列表","tags":["ALARM"],"x-hybridcloud":true,"x-is-registered":"Y","x-request-examples-1":{"business_id":1,"page":1,"page_size":10,"status":"ALERT"},"x-request-examples-description-1":"入参为应用id,分页情况,告警状态。","x-request-examples-text-1":{"business_id":1,"page":1,"page_size":10,"status":"ALERT"},"x-request-examples-url-1":"/v1/apm2/openapi/alarm/data/get-alarm-data-list","x-support-sdk":"Y"}}},"product_short":"APM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-app":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-app-optional":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-opt":{"access-auth-type":"optional"},"x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-iam-none":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM_NONE"}},"summary":"查询告警列表","tags":"ALARM","uri":null,"version":"2.0"}