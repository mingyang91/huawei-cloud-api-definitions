{"base_path":null,"components":null,"consumes":"","definitions":{"InstanceInfo":{"description":"实例信息。","properties":{"agent_version":{"description":"Javaagent版本。","type":"string"},"app_name":{"description":"组件名称。","type":"string"},"business_id":{"description":"应用id。","format":"int64","type":"integer"},"business_name":{"description":"应用名称。","type":"string"},"env_id":{"description":"环境ID。","format":"int64","type":"integer"},"host_name":{"description":"主机名称。","type":"string"},"instance_id":{"description":"实例id。","format":"int64","type":"integer"},"instance_name":{"description":"实例名称。","type":"string"},"instance_status":{"description":"实例状态。","format":"int32","type":"integer"},"ip_address":{"description":"主机ip地址。","type":"string"},"last_heartbeat":{"description":"最后心跳时间。","format":"int64","type":"integer"},"last_modify_time":{"description":"最后修改时间。","format":"int64","type":"integer"},"last_modify_user_id":{"description":"最后修改用户id。","type":"string"},"last_modify_user_name":{"description":"最后修改用户名称。","type":"string"},"register_time":{"description":"注册时间。","format":"int64","type":"integer"}},"type":"object"},"InstanceListResult":{"description":"获取实例信息列表返回结果。","properties":{"disable_count":{"description":"停止实例总数。","format":"int32","type":"integer"},"instance_info_list":{"description":"实例信息列表。","items":{"$ref":"#/definitions/InstanceInfo"},"type":"array"},"offline_count":{"description":"离线实例总数。","format":"int32","type":"integer"},"online_count":{"description":"在线实例总数。","format":"int32","type":"integer"},"total_count":{"description":"实例总数。","format":"int32","type":"integer"}},"type":"object"},"InstanceSearchParam":{"description":"获取实例信息列表入参。","properties":{"env_id":{"description":"环境id。","format":"int64","type":"integer"},"keyword":{"description":"关键字。","type":"string"},"page":{"description":"当前页码。","format":"int32","type":"integer"},"page_size":{"description":"每页数据容量。","format":"int32","type":"integer"},"return_count":{"description":"是否返回计数结果。","type":"boolean"},"status":{"description":"实例状态。","format":"int32","type":"integer"}},"required":["env_id","page"],"type":"object"}},"description":null,"group_id":"948fcecbff6f450fbe29bcc3e90c3eca","host":"apm2.cn-north-4.myhuaweicloud.com","id":"547778bd9f674c26b2e09ae712862f35","info_version":"v1","method":"post","name":"ListEnvInstances","parameters":{},"paths":{"/v1/apm2/openapi/view/mainview/get-env-instance-list":{"post":{"description":"获取实例信息列表。","operationId":"ListEnvInstances","parameters":[{"description":"获取实例信息列表入参。","in":"body","name":"instanceSearchParam","required":true,"schema":{"$ref":"#/definitions/InstanceSearchParam"}},{"description":"从IAM服务获取的用户Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"应用id。","format":"int64","in":"header","name":"x-business-id","required":true,"type":"integer"}],"produces":["application/json"],"responses":{"200":{"description":"OK,请求响应成功。","examples":{"application/json":{"disable_count":0,"instance_info_list":[{"agent_version":"2.2.8","app_name":null,"business_id":null,"business_name":null,"env_id":null,"host_name":"apm2-apm-pu-task-6b5bbfc84d-rxlhr","instance_id":15,"instance_name":"default","instance_status":0,"ip_address":"172.16.3.39","last_heartbeat":1666682386000,"last_modify_time":0,"last_modify_user_id":null,"last_modify_user_name":null,"register_time":1666664387000},{"agent_version":"2.2.8","app_name":null,"business_id":null,"business_name":null,"env_id":null,"host_name":"apm2-apm-pu-task-6b5bbfc84d-gtrrs","instance_id":16,"instance_name":"default","instance_status":0,"ip_address":"172.16.3.7","last_heartbeat":1666682377000,"last_modify_time":0,"last_modify_user_id":null,"last_modify_user_name":null,"register_time":1666664436000}],"offline_count":0,"online_count":0,"total_count":2}},"schema":{"$ref":"#/definitions/InstanceListResult"}},"401":{"description":"Unauthorized,没有权限。","schema":{"type":"string"}},"403":{"description":"Forbidden,禁止访问。","schema":{"type":"string"}},"404":{"description":"Not Found,没有找到要请求的资源。","schema":{"type":"string"}}},"summary":"获取实例信息列表","tags":["VIEW"],"x-hybridcloud":true,"x-is-registered":"Y","x-request-examples-1":{"env_id":"11","page":1,"page_size":10},"x-request-examples-description-1":"入参为环境id和分页信息。","x-request-examples-text-1":{"env_id":"11","page":1,"page_size":10},"x-request-examples-url-1":"/v1/apm2/openapi/view/mainview/get-env-instance-list","x-support-sdk":"Y"}}},"product_short":"APM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-app":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-app-optional":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-opt":{"access-auth-type":"optional"},"x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-iam-none":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM_NONE"}},"summary":"获取实例信息列表","tags":"VIEW","uri":null,"version":"2.0"}