{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CountPreoccupyIpNumResponseBody":{"description":"This is a auto create Response Object","properties":{"preoccupy_ip":{"$ref":"#/definitions/PreoccupyIp","description":"预占IP信息"},"request_id":{"description":"请求ID。\n\n注:自动生成 。","type":"string"}},"required":["preoccupy_ip","request_id"]},"PreoccupyIp":{"description":"","properties":{"total":{"description":"预占IP总数","format":"int32","type":"integer"}},"required":["total"]}},"description":null,"group_id":"dbd0be272eaa427280cd04f618f990db","host":"elb.cn-north-4.myhuaweicloud.com","id":"d62d52a12daf4593a749b1bfabd029a0","info_version":"v3","method":"get","name":"CountPreoccupyIpNum","parameters":{},"paths":{"/v3/{project_id}/elb/preoccupy-ip-num":{"get":{"deprecated":false,"description":"计算以下几种场景的预占用IP数量:\n\n- 计算创建LB的第一个七层监听器后总占用IP数量:\n传入loadbalancer_id、l7_flavor_id为空、ip_target_enable不传或为false。\n\n- 计算LB规格变更或开启跨VPC后总占用IP数量:\n传入参数loadbalancer_id,及l7_flavor_id不为空或ip_target_enable为true。\n\n- 计算创建LB所需IP数量:传入参数availability_zone_id,\n及可选参数l7_flavor_id、ip_target_enable、ip_version,不能传loadbalancer_id。\n\n说明:\n- 计算出来的预占IP数大于等于最终实际占用的IP数。\n- 总占用IP数量,即整个LB所占用的IP数量。","operationId":"CountPreoccupyIpNum","parameters":[{"description":"参数解释: IAM鉴权Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":1},{"description":"所属项目id。","in":"path","name":"project_id","required":true,"type":"string","x-order":2},{"description":"负载均衡器七层规格的ID。传入该字段表示计算创建该规格的LB,或变更LB的原七层规格到该规格所需要的预占IP。\n\n适用场景:创建负LB,变更LB规格。","in":"query","name":"l7_flavor_id","required":false,"type":"string","x-order":3},{"description":"是否开启跨VPC转发。\n\n取值true表示计算创建或变更为开启跨VPC转发的LB的预占IP。\n\n取值false表示计算创建或变更为不开启跨VPC转发的LB的预占IP。不传等价false。\n\n适用场景:创建LB,变更LB规格。","in":"query","name":"ip_target_enable","required":false,"type":"boolean","x-order":4},{"description":"负载均衡器IP地址类型,取值4,6 。\n\n取值4表示计算创建支持IPv4地址的LB的预占IP。\n\n取值6表示计算创建支持IPv6地址的LB的预占IP。\n\n适用场景:创建LB。","format":"int32","in":"query","name":"ip_version","required":false,"type":"integer","x-order":5},{"description":"负载均衡器ID。计算LB规格变更或创建LB中的第一个七层监听器的预占IP。\n\n适用场景:变更LB规格,创建LB中的第一个七层监听器。","in":"query","name":"loadbalancer_id","required":false,"type":"string","x-order":6},{"collectionFormat":"multi","description":"计算创建AZ列表为availability_zone_id的负载局衡器实例的预占IP。\n\n适用场景:创建LB。\n\n使用说明:传入loadbalancer_id时,该参数无效。","in":"query","items":{"type":"string"},"name":"availability_zone_id","required":false,"type":"array","x-order":7}],"responses":{"200":{"description":"操作正常返回。","examples":{"application/json":{"preoccupy_ip":{"total":20},"request_id":"63388ec8-fa3c-4c99-b9c8-d2c83b2a9a68"}},"schema":{"$ref":"#/definitions/CountPreoccupyIpNumResponseBody"}}},"summary":"计算预占IP数","tags":["预占IP"],"x-apiexplorer-hide":"false","x-constraint":"","x-first-open-time":"","x-hybridcloud":"","x-is-registered":"Y","x-name":"计算预占IP数","x-open-region-cloud":"hc,hk,hws_eu,ctc,tm,cmcc","x-order":14,"x-publishpath":"","x-request-examples-1":{"preoccupy_ip":{"total":6},"request_id":"8844e9a0-6a2d-44b7-aad9-15a7f75e4059"},"x-request-examples-2":{"preoccupy_ip":{"total":20},"request_id":"63388ec8-fa3c-4c99-b9c8-d2c83b2a9a68"},"x-request-examples-3":{"preoccupy_ip":{"total":2},"request_id":"febfce48-318d-45ba-a9d9-855462123f3b"},"x-request-examples-description-1":"查询变更负载均衡的七层规格需要预占的ip数","x-request-examples-description-2":"查询创建一个双az且开启跨VPC的负载均衡需要预占的IP数","x-request-examples-description-3":"查询指定负载均衡中创建第一个7层监听器所需预占的IP数","x-request-examples-text-1":{"preoccupy_ip":{"total":6},"request_id":"8844e9a0-6a2d-44b7-aad9-15a7f75e4059"},"x-request-examples-text-2":{"preoccupy_ip":{"total":20},"request_id":"63388ec8-fa3c-4c99-b9c8-d2c83b2a9a68"},"x-request-examples-text-3":{"preoccupy_ip":{"total":2},"request_id":"febfce48-318d-45ba-a9d9-855462123f3b"},"x-request-examples-url-1":"https://{ELB_Endpoint}/v3/060576782980d5762f9ec014dd2f1148/elb/preoccupy-ip-num?loadbalancer_id=aff4fc31-d635-4f59-a862-edadf32e407d&l7_flavor_id=0051bc4c-a562-4b7c-953b-a250b51d992b","x-request-examples-url-2":"GET /v3/{project_id}/elb/preoccupy-ip-num?l7_flavor_id=8278944d-f92c-4393-82b2-6fb9cc1d7e53&availability_zone_id=az1&availability_zone_id=az2&ip_target_enable=true","x-request-examples-url-3":"GET /v3/{project_id}/elb/preoccupy-ip-num?loadbalancer_id=aff4fc31-d635-4f59-a862-edadf32e407d","x-scope":"Commercial","x-source":"SelfDeveloped","x-support-sdk":"Y","x-version":"v3"}}},"product_short":"ELB","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"计算预占IP数","tags":"预占IP","uri":null,"version":"2.0"}