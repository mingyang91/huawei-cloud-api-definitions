{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"L7Rule":{"description":"L7转发规则","properties":{"admin_state_up":{"description":"**参数解释**:转发规则的管理状。\n\n**取值范围**:固定为true。\n\n不支持该字段,请勿使用。","type":"boolean"},"compare_type":{"description":"**参数解释**:转发规则的匹配方式。\n\n**取值范围**:type为HOST_NAME时可以为EQUAL_TO。type为PATH时可以为REGEX,STARTS_WITH,EQUAL_TO。","type":"string"},"conditions":{"description":"**参数解释**:转发规则的匹配条件。\n\n**取值范围**:不涉及","items":{"$ref":"#/definitions/RuleCondition"},"type":"array"},"created_at":{"description":"**参数解释**:创建时间。\n\n**取值范围**:格式:yyyy-MM-dd'T'HH:mm:ss'Z',UTC时区。\n\n注意:独享型实例的历史数据以及共享型实例下的资源,不返回该字段。","type":"string"},"id":{"description":"**参数解释**:规则ID。\n\n**取值范围**:不涉及","type":"string"},"invert":{"description":"**参数解释**:是否反向匹配。\n\n**取值范围**:不涉及","type":"boolean"},"key":{"description":"**参数解释**:匹配内容的键值。\n\n**取值范围**:不涉及","maxLength":255,"minLength":1,"type":"string"},"project_id":{"description":"**参数解释**:转发规则所在的项目ID。\n\n**取值范围**:不涉及","type":"string"},"provisioning_status":{"description":"**参数解释**:provisioning状态。该字段无效,默认为ACTIVE。\n\n**取值范围**:ACTIVE、PENDING_CREATE 或者ERROR。","type":"string"},"type":{"description":"**参数解释**:转发规则类别。\n\n**取值范围**:\n- HOST_NAME:匹配域名。\n- PATH:匹配请求路径。\n- METHOD:匹配请求方法。\n- HEADER:匹配请求头。\n- QUERY_STRING:匹配请求查询参数。\n- SOURCE_IP:匹配请求源IP地址。\n- COOKIE: 匹配cookie信息。","enum":["HOST_NAME","PATH","METHOD","HEADER","QUERY_STRING","SOURCE_IP"],"type":"string"},"updated_at":{"description":"**参数解释**:更新时间。\n\n**取值范围**:格式:yyyy-MM-dd'T'HH:mm:ss'Z',UTC时区。\n\n注意:独享型实例的历史数据以及共享型实例下的资源,不返回该字段。","type":"string"},"value":{"description":"**参数解释**:匹配内容的值。\n\n**取值范围**:\n- 当type为HOST_NAME时,字符串只能包含英文字母、数字、-.*,必须以字母、数字或*开头。若域名中包含*,则*只能出现在开头且必须以*.开始。当*开头时表示通配0~任一个字符。\n- 当type为PATH时,当转发规则的compare_type为STARTS_WITH、EQUAL_TO时,字符串只能包含英文字母、数字、_~';@^-%#&$.*+?,=!:|\\\\/()\\[\\]{},且必须以/开头。\n- 当type为METHOD、SOURCE_IP、HEADER、QUERY_STRING时,该字段无意义,使用conditions来指定key,value。","maxLength":128,"minLength":1,"type":"string"}},"required":["admin_state_up","compare_type","key","project_id","type","value","provisioning_status","invert","id","conditions"],"type":"object"},"ListL7RulesResponseBody":{"description":"This is a auto create Response Object","properties":{"page_info":{"$ref":"#/definitions/PageInfo"},"request_id":{"description":"**参数解释**:请求ID。\n\n**取值范围**:由数字、小写字母和中划线(-)组成的字符串,自动生成。","type":"string"},"rules":{"description":"**参数解释**:规则对象列表。","items":{"$ref":"#/definitions/L7Rule","description":""},"type":"array"}},"required":["page_info","request_id","rules"]},"PageInfo":{"description":"**参数解释**:分页信息。","properties":{"current_count":{"description":"**参数解释**:当前页返回记录数。\n\n**取值范围**:不涉及","format":"int32","type":"integer"},"next_marker":{"description":"**参数解释**:分页查询结果中最后一条记录的ID。通常用于查询下一页。\n\n**取值范围**:不涉及","type":"string"},"previous_marker":{"description":"**参数解释**:分页查询结果中第一条记录的ID。通常用于配合page_reverse=true查询上一页。\n\n**取值范围**:不涉及","type":"string"}},"required":["previous_marker","current_count"],"type":"object"},"RuleCondition":{"properties":{"key":{"description":"**参数解释**:匹配项的名称。\n\n**约束限制**:同一个rule内的conditions列表中所有key必须相同。\n\n**取值范围**:\n- 当转发规则类别type为HOST_NAME、PATH、METHOD、SOURCE_IP时,该字段固定为空字符串。\n- 当转发规则类别type为HEADER时,key表示请求头、响应头参数的名称,value表示请求头、响应头参数的值。key的长度限制1-40字符,只允许包含字母、数字和-_。\n- 当转发规则类别type为QUERY_STRING时,key表示查询参数的名称,value表示查询参数的值。key的长度限制为1-128字符,不支持空格,中括号,大括号,尖括号,反斜杠,双引号,'#','&','|',‘%’,‘~’,字母区分大小写。\n\n**默认取值**:不涉及","maxLength":128,"minLength":1,"type":"string"},"value":{"description":"**参数解释**:匹配项的值。\n\n**约束限制**:同一个rule内的conditions列表中所有value不允许重复。\n\n**取值范围**:\n- 当转发规则类别type为HOST_NAME时,key固定为空字符串,value表示域名的值。value长度1-128字符,字符串只能包含英文字母、数字、-.\\*,必须以字母、数字或\\*开头,\\*只能出现在开头且必须以\\*.开始。\n- 当转发规则类别type为PATH时,key固定为空字符串,value表示请求路径的值。value长度1-128字符。当转发规则的compare_type为STARTS_WITH、EQUAL_TO时,字符串只能包含英文字母、数字、_~';@^-%#&$.*+?,=!:|\\\\/()\\[\\]{},且必须以\"/\"开头。\n- 当转发规则类别type为HEADER时,key表示请求头参数的名称,value表示请求头参数的值。value长度限制1-128字符,不支持空格,双引号,支持以下通配符:*(匹配0个或更多字符)和?(正好匹配1个字符)。\n- 当转发规则类别type为QUERY_STRING时,key表示查询参数的名称,value表示查询参数的值。value长度限制为1-128字符,不支持空格,中括号,大括号,尖括号,反斜杠,双引号,'#','&','|',‘%’,‘~’,字母区分大小写,支持通配符:*(匹配0个或更多字符)和?(正好匹配1个字符)\n- 当转发规则类别type为METHOD时,key固定为空字符串,value表示请求方式。value取值范围为:GET, PUT,POST,DELETE, PATCH, HEAD, OPTIONS。\n\n- 当转发规则类别type为SOURCE_IP时,key固定为空字符串,value表示请求源地址。value为CIDR格式,支持ipv4,ipv6。例如192.168.0.2/32,2049::49/64。\n\n**默认取值**:不涉及","maxLength":128,"minLength":1,"type":"string"}},"required":["key","value"],"type":"object"}},"description":null,"group_id":"dbd0be272eaa427280cd04f618f990db","host":"elb.cn-north-4.myhuaweicloud.com","id":"0987a7a95fca4aaf85e2061a4cfa929c","info_version":"v3","method":"get","name":"ListAllL7Rules","parameters":{},"paths":{"/v3/{project_id}/elb/l7policies/rules":{"get":{"description":"查询当前项目下的转发规则列表。","operationId":"ListAllL7Rules","parameters":[{"description":"**参数解释**:IAM鉴权Token。\n\n**约束限制**:不涉及\n\n**取值范围**:不涉及\n\n**默认取值**:不涉及","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":1},{"description":"**参数解释**:项目ID。获取方式请参见[获取项目ID](elb_fl_0008.xml)。\n\n**约束限制**:不涉及\n\n**取值范围**:长度为32个字符,由小写字母和数字组成。\n\n**默认取值**:不涉及","in":"path","name":"project_id","required":true,"type":"string","x-order":2},{"default":2000,"description":"**参数解释**:每页返回的个数。\n\n**约束限制**:不涉及\n\n**取值范围**:0-2000\n\n**默认取值**:2000","format":"int32","in":"query","maximum":2000,"minimum":0,"name":"limit","required":false,"type":"integer","x-order":4},{"description":"**参数解释**:上一页最后一条记录的ID。\n\n**约束限制**:\n- 必须与limit一起使用。\n- 不指定时表示查询第一页。\n- 该字段不允许为空或无效的ID。\n\n**取值范围**:不涉及\n\n**默认取值**:不涉及","in":"query","name":"marker","required":false,"type":"string","x-order":5},{"description":"**参数解释**:是否反向查询。\n\n**约束限制**:\n- 必须与limit一起使用。\n- 当page_reverse=true时,若要查询上一页,marker取值为当前页返回值的previous_marker。\n\n**取值范围**:\n- true:查询上一页。\n- false:查询下一页。\n\n**默认取值**:false","in":"query","name":"page_reverse","required":false,"type":"boolean","x-order":6},{"collectionFormat":"multi","description":"转发规则ID。\n\n支持多值查询,查询条件格式:*id=xxx&id=xxx*。","in":"query","items":{"type":"string"},"name":"id","required":false,"type":"array","x-order":7},{"collectionFormat":"multi","description":"转发匹配方式。\n\n取值:\n- EQUAL_TO 表示精确匹配。\n- REGEX 表示正则匹配。\n- STARTS_WITH 表示前缀匹配。\n\n支持多值查询,查询条件格式:*compare_type=xxx&compare_type=xxx*。","in":"query","items":{"type":"string"},"name":"compare_type","required":false,"type":"array","x-order":8},{"collectionFormat":"multi","description":"转发规则的配置状态。\n\n取值:ACTIVE 表示正常。\n\n支持多值查询,查询条件格式:*provisioning_status=xxx&provisioning_status=xxx*。","in":"query","items":{"type":"string"},"name":"provisioning_status","required":false,"type":"array","x-order":9},{"description":"是否反向匹配。使用说明:固定为false。该字段能更新但不会生效。","in":"query","name":"invert","required":false,"type":"boolean","x-order":10},{"description":"转发规则的管理状态。\n\n不支持该字段,请勿使用。","in":"query","name":"admin_state_up","required":false,"type":"boolean","x-order":11},{"collectionFormat":"multi","description":"匹配内容的值。\n\n支持多值查询,查询条件格式:*value=xxx&value=xxx*。","in":"query","items":{"type":"string"},"name":"value","required":false,"type":"array","x-order":12},{"collectionFormat":"multi","description":"匹配内容的键值,用于标识规则。\n\n支持多值查询,查询条件格式:*key=xxx&key=xxx*。\n\n不支持该字段,请勿使用。","in":"query","items":{"type":"string"},"name":"key","required":false,"type":"array","x-order":13},{"collectionFormat":"multi","description":"匹配类别,可以为HOST_NAME,PATH。\n\n一个l7policy下创建的l7rule的type不能重复。\n\n支持多值查询,查询条件格式:*type=xxx&type=xxx*。","in":"query","items":{"type":"string"},"name":"type","required":false,"type":"array","x-order":14},{"collectionFormat":"multi","description":"**参数解释**:所属的企业项目ID。\n如果enterprise_project_id不传值,默认查询所有企业项目下的资源,鉴权按照细粒度权限鉴权,必须在用户组下分配elb:l7rules:list权限。\n如果enterprise_project_id传值,鉴权按照企业项目权限鉴权,分为传入具体eps_id和all_granted_eps两种场景,前者查询指定eps_id的eps下的资源,后者查询的是所有有list权限的eps下的资源。\n\n支持多值查询,查询条件格式:\n*enterprise_project_id=xxx&enterprise_project_id=xxx*。","in":"query","items":{"type":"string"},"name":"enterprise_project_id","required":false,"type":"array","x-order":15}],"responses":{"200":{"description":"操作正常返回。","examples":{"application/json":{"page_info":{"current_count":1,"previous_marker":"84f4fcae-9c15-4e19-a99f-72c0b08fd3d7"},"request_id":"ae4dbd7d-9271-4040-98b6-3bfe45bb15ee","rules":[{"admin_state_up":true,"compare_type":"STARTS_WITH","id":"84f4fcae-9c15-4e19-a99f-72c0b08fd3d7","invert":false,"key":null,"l7policy_id":"1534dd84-44bf-4e0c-84b0-8842d5f828e2","project_id":"99a3fff0d03c428eac3678da6a7d0f24","provisioning_status":"ACTIVE","type":"PATH","value":"/ccc.html"}]}},"schema":{"$ref":"#/definitions/ListL7RulesResponseBody"}}},"summary":"查询转发规则列表","tags":["转发规则"],"x-api-type":"open-api","x-apiErrorCodes":[{"errorCode":"SYS.0400","errorDescription":"无效的请求参数或请求body体。","errorMessage":"","httpStatus":"400","solution":"请输入有效的请求参数或请求body体,重新发送请求。"},{"errorCode":"SYS.0401","errorDescription":"token不正确。","errorMessage":"","httpStatus":"401","solution":"请输入有效的token,重新发送请求。"},{"errorCode":"SYS.0403","errorDescription":"企业项目管理验证不过,token验证不过。","httpStatus":"403","solution":"请使用正确的未过期的token。"},{"errorCode":"ELB.8904","errorDescription":"查找的资源不存在。","httpStatus":"404","solution":"请输入有效的请求参数。"},{"errorCode":"SYS.0404","errorDescription":"查找的资源不存在。","errorMessage":"","httpStatus":"404","solution":"请输入合法的参数。"},{"errorCode":"ELB.8906","errorDescription":"系统内部错误。","httpStatus":"500","solution":"请联系运维人员处理。"}],"x-apiexplorer-hide":"false","x-constraint":"- 分页查询使用的参数为marker、limit、page_reverse。\n\n- marker和page_reverse只有和limit一起使用时才会生效,单独使用无效。","x-first-open-time":"2019-04-30","x-hybridcloud":"","x-is-registered":"Y","x-name":"查询转发规则列表","x-open-region-cloud":"hc,hk,hws_eu,otc,ocb,tlf,ctc,hcso,ct,sbc,g42,tm,cmcc,hk_g42,hcso_dt,mix,hk_sbc,hws_ocb,hk_vdf,fcs,fcs_dt,dt","x-order":2,"x-publishpath":"","x-request-examples-description-1":"查询转发规则列表","x-request-examples-url-1":"GET https://{ELB_Endpoint}/v3/{99a3fff0d03c428eac3678da6a7d0f24}/elb/l7policies/rules","x-scope":"Commercial","x-source":"SelfDeveloped","x-support-sdk":"Y","x-version":"v3"}}},"product_short":"ELB","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询转发规则列表","tags":"转发规则","uri":null,"version":"2.0"}