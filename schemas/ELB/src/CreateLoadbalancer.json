{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"CreateLoadbalancerReq":{"description":"创建负载均衡器的请求体","properties":{"admin_state_up":{"description":"负载均衡器的管理状态。只支持设定为true,该字段的值无实际意义。","type":"boolean"},"description":{"description":"负载均衡器的描述信息","maxLength":255,"minLength":0,"type":"string"},"enterprise_project_id":{"description":"企业项目ID。创建负载均衡器时,给负载均衡器绑定企业项目ID。取值范围:最大长度36字节,带“-”连字符的UUID格式,或者是字符串“0”。“0”表示默认企业项目。\n关于企业项目ID的获取及企业项目特性的详细信息,请参见《企业管理用户指南》。","type":"string"},"name":{"description":"负载均衡器名称。","maxLength":255,"minLength":0,"type":"string"},"prepaid_options":{"$ref":"#/definitions/PrepaidCreateOption","description":"设置保护的原因\n>仅当protection_status为consoleProtection时有效。","x-open-region-cloud":"hc"},"protection_reason":{"description":"设置保护的原因\n>仅当protection_status为consoleProtection时有效。","maxLength":255,"minLength":0,"type":"string","x-open-region-cloud":"hc,hk"},"protection_status":{"description":"修改保护状态, 取值:\n- nonProtection: 不保护,默认值为nonProtection\n- consoleProtection: 控制台修改保护","enum":["nonProtection","consoleProtection"],"type":"string","x-open-region-cloud":"hc,hk"},"provider":{"description":"负载均衡器的供应者名称。只支持vlb","enum":["vlb"],"type":"string"},"tenant_id":{"description":"负载均衡器所在的项目ID。","maxLength":255,"minLength":0,"type":"string"},"vip_address":{"description":"负载均衡器的虚拟IP。","type":"string"},"vip_subnet_id":{"description":"负载均衡器所在的子网IPv4子网ID","type":"string"}},"required":["vip_subnet_id"],"type":"object"},"CreateLoadbalancerRequestBody":{"description":"This is a auto create Body Object","properties":{"loadbalancer":{"$ref":"#/definitions/CreateLoadbalancerReq","description":"负载均衡器对象"}},"required":["loadbalancer"]},"CreateLoadbalancerResponseBody":{"description":"This is a auto create Response Object","properties":{"loadbalancer":{"$ref":"#/definitions/LoadbalancerResp","description":"负载均衡器对象(按需场景返回该字段)"},"loadbalancer_id":{"description":"负载均衡器的ID(包周期场景返回该字段)","type":"string","x-open-region-cloud":"hc"},"order_id":{"description":"订单号(包周期场景返回该字段)","type":"string","x-open-region-cloud":"hc"}},"type":"object"},"ElbError":{"description":"错误信息响应体","properties":{"error":{"description":"错误信息","type":"string"}},"required":["error"]},"LoadbalancerResp":{"description":"负载均衡器响应体","properties":{"admin_state_up":{"description":"负载均衡器的管理状态。只支持设定为true,该字段的值无实际意义。","type":"boolean"},"billing_info":{"description":"资源账单信息,取值:\n    - 空:按需计费。\n    - 非空:包周期计费,\n\n包周期计费billing_info字段的格式为:order_id:product_id:region_id:project_id。","maxLength":1024,"minLength":1,"type":"string"},"charge_mode":{"description":"收费模式。取值:\n\nflavor:按规格计费\nlcu:按使用量计费\n说明:弹性扩缩容实例该字段无效,按lcu收费;包周期实例该字段无效,按预付费收费。","type":"string"},"created_at":{"description":"负载均衡器的创建时间","maxLength":19,"minLength":0,"type":"string"},"description":{"description":"负载均衡器的描述信息","maxLength":255,"minLength":0,"type":"string"},"enterprise_project_id":{"description":"负载均衡器的企业项目ID。","type":"string"},"frozen_scene":{"description":"负载均衡器的冻结场景。若负载均衡器有多个冻结场景,用逗号分隔。取值:\n\nPOLICE:公安冻结场景。\nILLEGAL:违规冻结场景。\nVERIFY:客户未实名认证冻结场景。\nPARTNER:合作伙伴冻结(合作伙伴冻结子客户资源)。\nAREAR:欠费冻结场景。","type":"string","x-open-region-cloud":"hc,hk"},"id":{"description":"负载均衡器ID","type":"string"},"listeners":{"description":"负载均衡器关联的监听器ID的列表","items":{"$ref":"#/definitions/ResourceList"},"type":"array"},"name":{"description":"负载均衡器名称。","maxLength":255,"minLength":0,"type":"string"},"operating_status":{"description":"负载均衡器的操作状态","enum":["ONLINE","OFFLINE","DEGRADED","DISABLED","NO_MONITOR"],"maxLength":16,"minLength":0,"type":"string"},"pools":{"description":"负载均衡器关联的后端云服务器组ID的列表。","items":{"$ref":"#/definitions/ResourceList"},"type":"array"},"project_id":{"description":"负载均衡器所在的项目ID。","type":"string"},"protection_reason":{"description":"设置保护的原因\n>仅当protection_status为consoleProtection时有效。","type":"string","x-open-region-cloud":"hc,hk"},"protection_status":{"description":"修改保护状态, 取值:\n- nonProtection: 不保护,默认值为nonProtection\n- consoleProtection: 控制台修改保护","enum":["nonProtection","consoleProtection"],"type":"string","x-open-region-cloud":"hc,hk"},"provider":{"description":"负载均衡器的供应者名称。只支持vlb","type":"string"},"provisioning_status":{"description":"负载均衡器的配置状态","enum":["ACTIVE","PENDING_CREATE","ERROR"],"maxLength":16,"minLength":0,"type":"string"},"publicips":{"description":"负载均衡器绑定的公网IP。只支持绑定一个公网IP。","items":{"$ref":"#/definitions/PublicIpInfo"},"type":"array"},"tags":{"description":"负载均衡器的标签列表","items":{"description":"标签值","type":"string"},"type":"array"},"tenant_id":{"description":"负载均衡器所在的项目ID。","maxLength":255,"minLength":0,"type":"string"},"updated_at":{"description":"负载均衡器的更新时间","maxLength":19,"minLength":0,"type":"string"},"vip_address":{"description":"负载均衡器的虚拟IP。","type":"string"},"vip_port_id":{"description":"负载均衡器虚拟IP对应的端口ID","type":"string"},"vip_subnet_id":{"description":"负载均衡器所在的子网的IPv4子网ID。仅支持内网类型。","type":"string"}},"required":["id","tenant_id","name","description","vip_subnet_id","vip_port_id","vip_address","listeners","pools","provider","operating_status","provisioning_status","admin_state_up","created_at","updated_at","enterprise_project_id","project_id","tags","publicips","charge_mode","billing_info"],"type":"object"},"PrepaidCreateOption":{"description":"创建负载均衡器的包周期信息,若传入该结构体,则创建包周期的LB","properties":{"auto_pay":{"default":false,"description":"下单订购后,是否自动从客户的账户中支付;\ntrue:自动支付;\nfalse:不自动支付。\n自动支付时,只能使用账户的现金支付;如果要使用代金券,请选择不自动支付,然后在用户费用中心,选择代金券支付。","type":"boolean"},"auto_renew":{"default":false,"description":"是否自动续订;\ntrue:自动续订\nfalse:不自动续订","type":"boolean"},"period_num":{"default":1,"description":"订购周期数,取值会随运营策略变化。 period_type为month时,为[1,9], period_type为year时,为[1,3]","format":"int32","maximum":9,"minimum":1,"type":"integer"},"period_type":{"description":"订购周期类型,当前支持包月和包年: month:月; year:年;","enum":["month","year"],"type":"string"}},"required":["period_type"],"type":"object"},"PublicIpInfo":{"description":"弹性公网EIP信息","properties":{"ip_version":{"description":"IP版本信息。 取值范围:4和6 4:IPv4 6:IPv6","format":"int32","type":"integer"},"publicip_address":{"description":"IP地址","type":"string"},"publicip_id":{"description":"弹性公网ip配置id","type":"string"}},"required":["ip_version","publicip_address","publicip_id"]},"ResourceList":{"description":"资源对象id列表。","properties":{"id":{"description":"资源ID","type":"string"}},"required":["id"]}},"description":null,"group_id":"dbd0be272eaa427280cd04f618f990db","host":"elb.cn-north-4.myhuaweicloud.com","id":"365113e3364f409b8a909c29ed5e168f","info_version":"v2","method":"post","name":"CreateLoadbalancer","parameters":{},"paths":{"/v2/{project_id}/elb/loadbalancers":{"post":{"deprecated":false,"description":"创建私网类型的增强型负载均衡器。创建成功后,该接口会返回创建的增强型负载均衡器的ID、所属子网ID、负载均衡器IP等详细信息。若要创建公网类型的增强型负载均衡器,还需调用创建浮动IP的接口,将浮动IP与私网负载均衡器的vip_port_id绑定。","operationId":"CreateLoadbalancer","parameters":[{"description":"This is a auto create Body Object","in":"body","name":"CreateLoadbalancerRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateLoadbalancerRequestBody"}},{"description":"用户token","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":2},{"description":"项目id","in":"path","name":"project_id","required":true,"type":"string","x-order":1}],"responses":{"201":{"description":"Created","examples":{"application/json":{"loadbalancer":{"admin_state_up":true,"billing_info":null,"charge_mode":"flavor","created_at":"2022-11-04T09:58:58","description":"","enterprise_project_id":"0","frozen_scene":null,"id":"0517bb97-ce1b-4164-9d59-eef538bdc146","listeners":[],"name":"myelb","operating_status":"ONLINE","pools":[],"project_id":"060576798a80d5762fafc01a9b5eedc7","provider":"vlb","provisioning_status":"ACTIVE","publicips":[{"ip_version":4,"publicip_address":"97.97.2.171","publicip_id":"0c07e04d-e2f9-41ad-b934-f58a65b6734d"}],"tags":[],"tenant_id":"060576798a80d5762fafc01a9b5eedc7","updated_at":"2022-11-07T02:14:39","vip_address":"192.168.0.87","vip_port_id":"56ac3450-7622-4385-bc72-67a96d2a5ff0","vip_subnet_id":"79385dd9-c65e-4d4a-b030-ae73ed2faec2"}}},"schema":{"$ref":"#/definitions/CreateLoadbalancerResponseBody"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/ElbError"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/ElbError"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ElbError"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/ElbError"}},"409":{"description":"Conflict","schema":{"$ref":"#/definitions/ElbError"}}},"summary":"创建负载均衡器","tags":["负载均衡器"],"x-constraint":"只支持指定子网的IPv4子网ID。暂不支持IPv6。同一个负载均衡器关联的member和VIP必须在同一个router下。不支持指定flavor参数创建loadbalancer。admin_state_up参数的值必须是true。provider参数的值必须是vlb。vip_subnet_id参数对应的子网类型必须是内网。","x-first-open-time":"2017-03-30","x-hybridcloud":"true","x-is-registered":"Y","x-name":"创建负载均衡器","x-open-region-cloud":"hc,hk,otc,ctc,ct,ocb","x-order":47,"x-publishpath":"","x-request-examples-1":"POST https://{ELB_Endpoint}/v2/7f38b160526648ee837ca4bdc05f4d09/elb/loadbalancers\n{\n    \"loadbalancer\": {\n        \"name\": \"myelb\",\n        \"description\": \"lb\",\n        \"tenant_id\": \"060576798a80d5762fafc01a9b5eedc7\",\n        \"vip_subnet_id\": \"79385dd9-c65e-4d4a-b030-ae73ed2faec2\"\",\n        \"vip_address\": \"192.168.0.87\"\n    }\n}","x-request-examples-text-1":"POST https://{ELB_Endpoint}/v2/7f38b160526648ee837ca4bdc05f4d09/elb/loadbalancers\n{\n    \"loadbalancer\": {\n        \"name\": \"myelb\",\n        \"description\": \"lb\",\n        \"tenant_id\": \"060576798a80d5762fafc01a9b5eedc7\",\n        \"vip_subnet_id\": \"79385dd9-c65e-4d4a-b030-ae73ed2faec2\"\",\n        \"vip_address\": \"192.168.0.87\"\n    }\n}","x-scope":"Commercial","x-source":"Native","x-support-sdk":"Y","x-version":"v2"}}},"product_short":"ELB","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建负载均衡器","tags":"负载均衡器","uri":null,"version":"2.0"}