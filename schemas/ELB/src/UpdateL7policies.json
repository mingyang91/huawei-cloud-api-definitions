{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"ElbError":{"description":"错误信息响应体","properties":{"error":{"description":"错误信息","type":"string"}},"required":["error"]},"L7policyResp":{"description":"转发策略对象","properties":{"action":{"description":"转发策略的转发动作;取值:REDIRECT_TO_POOL:转发到后端云服务器组;REDIRECT_TO_LISTENER:重定向到监听器","enum":["REDIRECT_TO_POOL","REDIRECT_TO_LISTENER"],"type":"string"},"admin_state_up":{"description":"转发策略的管理状态;该字段为预留字段,暂未启用。默认为true。","type":"boolean"},"description":{"description":"转发策略额描述信息","maxLength":255,"minLength":1,"type":"string"},"id":{"description":"转发策略ID","type":"string"},"listener_id":{"description":"转发策略对应的监听器ID","type":"string"},"name":{"description":"转发策略名称","maxLength":255,"minLength":0,"type":"string"},"position":{"description":"转发策略的优先级,从1递增,最高100。该字段为预留字段,暂未启用。","format":"int32","maximum":100,"minimum":1,"type":"integer"},"project_id":{"description":"转发策略所在的项目ID。","maxLength":255,"minLength":1,"type":"string"},"provisioning_status":{"description":"健康检查的配置状态;该字段为预留字段,暂未启用。默认为ACTIVE。","type":"string"},"redirect_listener_id":{"description":"转发到的listener的ID,当action为REDIRECT_TO_LISTENER时生效。","type":"string"},"redirect_pool_id":{"description":"转发到pool的ID。转发到pool的ID。当action为REDIRECT_TO_POOL时生效。","type":"string"},"redirect_url":{"description":"转发到的url。该字段未启用。","maxLength":255,"minLength":1,"type":"string"},"rules":{"description":"转发策略关联的转发规则列表","items":{"$ref":"#/definitions/ResourceList","description":""},"type":"array"},"tenant_id":{"description":"转发策略所在的项目ID。","maxLength":255,"minLength":1,"type":"string"}},"required":["action","admin_state_up","description","id","listener_id","name","position","project_id","provisioning_status","redirect_listener_id","redirect_pool_id","redirect_url","rules","tenant_id"]},"ResourceList":{"description":"资源对象id列表。","properties":{"id":{"description":"资源ID","type":"string"}},"required":["id"]},"UpdateL7policiesRequestBody":{"description":"This is a auto create Body Object","properties":{"l7policy":{"$ref":"#/definitions/UpdateL7policyReq","description":"转发策略对象"}},"required":["l7policy"]},"UpdateL7policiesResponseBody":{"description":"This is a auto create Response Object","properties":{"l7policy":{"$ref":"#/definitions/L7policyResp","description":"转发策略对象"}},"required":["l7policy"]},"UpdateL7policyReq":{"description":"更新转发策略对象请求体","properties":{"admin_state_up":{"description":"转发策略的管理状态;该字段为预留字段,暂未启用。默认为true。","type":"boolean"},"description":{"description":"转发策略额描述信息","maxLength":255,"minLength":1,"type":"string"},"name":{"description":"转发策略名称","maxLength":255,"minLength":0,"type":"string"},"redirect_listener_id":{"description":"转发到的listener的ID,当action为REDIRECT_TO_LISTENER时生效。当action为REDIRECT_TO_LISTENER时必选","type":"string"},"redirect_pool_id":{"description":"转发到pool的ID。当action为REDIRECT_TO_POOL时生效。使用说明:redirect_pool不能是listener的default_pool,不能已经被其他listener的l7policy所使用。当action为REDIRECT_TO_LISTENER时,不可指定。不允许更新为空。","type":"string"}}}},"description":null,"group_id":"dbd0be272eaa427280cd04f618f990db","host":"elb.cn-north-4.myhuaweicloud.com","id":"d6e22d6482ea4ec19a1183db24d8a8f2","info_version":"v2","method":"put","name":"UpdateL7policies","parameters":{},"paths":{"/v2/{project_id}/elb/l7policies/{l7policy_id}":{"put":{"consumes":[],"deprecated":false,"description":"更新转发策略","operationId":"UpdateL7policies","parameters":[{"description":"This is a auto create Body Object","in":"body","name":"UpdateL7policiesRequestBody","required":true,"schema":{"$ref":"#/definitions/UpdateL7policiesRequestBody"}},{"description":"用户token","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":3},{"description":"待更新的转发策略id","in":"path","name":"l7policy_id","required":true,"type":"string","x-order":1},{"description":"项目id","in":"path","name":"project_id","required":true,"type":"string","x-order":2}],"produces":[],"responses":{"200":{"description":"OK","examples":{"application/json":{"l7policy":{"action":"REDIRECT_TO_POOL","admin_state_up":true,"description":"","id":"5ae0e1e7-5f0f-47a1-b39f-5d4c428a1586","listener_id":"26058b64-6185-4e06-874e-4bd68b7633d0","name":"test","position":2,"project_id":"a31d2bdcf7604c0faaddb058e1e08819","redirect_pool_id":"431a03eb-81bb-408e-ae37-7ce19023692b","redirect_url":null,"rules":[{"id":"67d8a8fa-b0dd-4bd4-a85b-671db19b2ef3"},{"id":"f02b3bca-69d2-4335-a3fa-a8054e996213"}],"tenant_id":"a31d2bdcf7604c0faaddb058e1e08819"}}},"schema":{"$ref":"#/definitions/UpdateL7policiesResponseBody"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/ElbError"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/ElbError"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ElbError"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/ElbError"}},"409":{"description":"Conflict","schema":{"$ref":"#/definitions/ElbError"}}},"summary":"更新转发策略","tags":["转发策略"],"x-constraint":"如果该健康检查绑定的负载均衡器的provisioning状态不是ACTIVE,不能更新该健康检查。","x-first-open-time":"2017-03-30","x-hybridcloud":"true","x-is-registered":"Y","x-name":"更新转发策略","x-open-region-cloud":"hc,hk,otc,ctc","x-order":54,"x-publishpath":"","x-request-examples-1":"PUT https://{ELB_Endpoint}/v2/7f38b160526648ee837ca4bdc05f4d09/elb/l7policies/5ae0e1e7-5f0f-47a1-b39f-5d4c428a1586\n{\n    \"l7policy\": {\n        \"name\": \"test\"\n    }\n}","x-request-examples-description-1":"","x-request-examples-text-1":"PUT https://{ELB_Endpoint}/v2/7f38b160526648ee837ca4bdc05f4d09/elb/l7policies/5ae0e1e7-5f0f-47a1-b39f-5d4c428a1586\n{\n    \"l7policy\": {\n        \"name\": \"test\"\n    }\n}","x-request-examples-url-1":"","x-scope":"Commercial","x-source":"Native","x-support-sdk":"Y","x-version":"v2"}}},"product_short":"ELB","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"更新转发策略","tags":"转发策略","uri":null,"version":"2.0"}