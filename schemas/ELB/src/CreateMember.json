{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CreateMemberOption":{"description":"创建后端服务器请求参数","properties":{"address":{"description":"**参数解释**:后端服务器对应的IP地址。\n\n**约束限制**:\n- 若subnet_cidr_id为空,表示添加IP类型后端,此时address必须为**私网IPv4**地址。\n- 若subnet_cidr_id不为空,表示是一个关联到ECS的后端服务器。该IP地址必须在subnet_cidr_id对应的子网网段中,可以是**私网IPv4**或IPv6。\n\n**取值范围**:不涉及\n\n**默认取值**:不涉及","maxLength":64,"minLength":1,"type":"string"},"admin_state_up":{"description":"**参数解释**:后端服务器的管理状态。\n\n**约束限制**:虽然创建、更新请求支持该字段,但实际取值决定于后端服务器对应的弹性云服务器是否存在。若存在,该值为true,否则,该值为false。\n\n**取值范围**:true 弹性云服务器存在,false 弹性云服务器不存在。\n\n**默认取值**:不涉及","type":"boolean"},"availability_zone":{"description":"**参数解释**:后端服务器的可用区。\n\n**约束限制**:\n- 仅支持IP类型后端服务器设置该字段。且后端服务器组开启可用区亲和时,IP类型后端服务器必须配置该字段为有效非空值。\n\n**取值范围**:本region中ECS可选择的可用区。\n\n**默认取值**:不涉及","type":"string"},"name":{"description":"**参数解释**:后端服务器名称。注意:该名称并非ECS名称,若不传则返回为空。\n\n**约束限制**:不涉及\n\n**取值范围**:不涉及\n\n**默认取值**:不涉及","maxLength":255,"minLength":0,"type":"string"},"project_id":{"description":"**参数解释**:后端服务器所在的项目ID。\n\n**约束限制**:不涉及\n\n**取值范围**:不涉及\n\n**默认取值**:不涉及","maxLength":32,"minLength":1,"pattern":"[0-9a-fA-F]{32}","type":"string"},"protocol_port":{"description":"**参数解释**:后端服务器业务端口。\n\n**约束限制**:\n- 在开启端口透传的pool下创建member传该字段不生效,可不传该字段。\n- 网关型LB,即pool协议为IP时,protocol_port必须设置为0。\n\n**取值范围**:不涉及\n\n**默认取值**:不涉及","format":"int32","maximum":65535,"minimum":1,"type":"integer"},"subnet_cidr_id":{"description":"**参数解释**:后端服务器所在的子网,可以是IPv4或IPv6子网。若是IPv4子网,使用对应子网的子网ID(neutron_subnet_id);若是IPv6子网,使用对应子网的网络ID(neutron_network_id)。\nIPv4子网的子网ID可以通过GET https://{VPC_Endpoint}/v1/{project_id}/subnets响应参数中的neutron_subnet_id得到\nIPv6子网的网络ID可以通过GET https://{VPC_Endpoint}/v1/{project_id}/subnets 响应参数中的neutron_network_id得到\n\n**约束限制**:\n- 该子网和关联的负载均衡器的子网必须在同一VPC下。\n- 若所属LB的IP类型后端转发已开启(ip_target_enable=true),则该字段可以不传,表示添加跨VPC的后端服务器。此时address必须为**私网IPv4**地址,所在的pool的协议必须为UDP/TCP/TLS/HTTP/HTTPS/QUIC/GRPC。\n- 若所属LB未开启IP类型后端转发,该参数必填。\n- 网关型LB,即pool协议为IP时,必须指定该子网,且必须和负载均衡器的子网在同一个VPC下,但不能相同。\n\n\n**取值范围**:不涉及\n\n**默认取值**:不涉及","maxLength":36,"minLength":1,"type":"string"},"weight":{"description":"**参数解释**:后端服务器的权重,请求将根据pool配置的负载均衡算法和后端服务器的权重进行负载分发。\n权重值越大,分发的请求越多。权重为0的后端不再接受新的请求。\n\n**约束限制**:若所在pool的lb_algorithm取值为SOURCE_IP或QUIC_CID,该字段无效。\n\n**取值范围**:0-100,默认1。\n\n**默认取值**:不涉及","format":"int32","type":"integer"}},"required":["address"],"type":"object"},"CreateMemberRequestBody":{"description":"This is a auto create Body Object","properties":{"member":{"$ref":"#/definitions/CreateMemberOption","description":"**参数解释**:后端服务器对象。\n\n**约束限制**:不涉及"}},"required":["member"]},"CreateMemberResponseBody":{"description":"This is a auto create Response Object","properties":{"member":{"$ref":"#/definitions/Member","description":"**参数解释**:后端服务器对象。"},"request_id":{"description":"**参数解释**:请求ID。\n\n**取值范围**:由数字、小写字母和中划线(-)组成的字符串,自动生成。","type":"string"}},"required":["member","request_id"]},"Member":{"properties":{"address":{"description":"**参数解释**:后端服务器对应的IP地址。\n\n**取值范围**:不涉及","type":"string"},"admin_state_up":{"description":"**参数解释**:后端服务器的管理状态。\n\n**取值范围**:true、false。","type":"boolean"},"availability_zone":{"description":"**参数解释**:后端服务器所在的可用区。\n\n**取值范围**:不涉及","type":"string"},"created_at":{"description":"**参数解释**:创建时间。格式:yyyy-MM-dd'T'HH:mm:ss'Z',UTC时区。\n\n**取值范围**:不涉及\n\n注意:独享型实例的历史数据以及共享型实例下的资源,不返回该字段。","type":"string"},"id":{"description":"**参数解释**:后端服务器ID。\n\n**取值范围**:不涉及\n\n> 此处并非ECS服务器的ID,而是ELB为绑定的后端服务器自动生成的member ID。","type":"string"},"instance_id":{"description":"**参数解释**:member关联的实例ID。空表示member关联的实例为非真实设备 (如:跨VPC场景)\n\n**取值范围**:不涉及","type":"string"},"ip_version":{"description":"**参数解释**:当前后端服务器的IP地址版本,由后端系统自动根据传入的address字段确定。\n\n**取值范围**:v4、v6","type":"string"},"member_type":{"description":"**参数解释**:后端服务器的类型。\n\n**取值范围**:\n- ip:IP类型的member。\n- instance:关联到ECS的member。","type":"string"},"name":{"description":"**参数解释**:后端服务器名称。\n\n**取值范围**:不涉及\n\n注意:该名称并非ECS名称。","type":"string"},"operating_status":{"description":"**参数解释**:后端服务器的健康状态。当status非空时,以status字段中监听器粒度的健康检查状态优先。\n\n**取值范围**:\n- NO_MONITOR:后端服务器所在的服务器组没有开启健康检查。\n- INITIAL:初始化中,表示负载均衡实例配置了健康检查,但查不到数据。\n- ONLINE:后端服务器正常。\n- OFFLINE:后端服务器关联的ECS服务器不存在或已关机。\n- UNKNOWN:未关联LB实例的pool下的member,或者创建后从未关联ECS的云服务器类型member,状态置为UNKNOWN。","type":"string"},"project_id":{"description":"**参数解释**:后端服务器所在的项目ID。\n\n**取值范围**:不涉及","type":"string"},"protocol_port":{"description":"**参数解释**:后端服务器业务端口。\n\n**取值范围**:不涉及\n\n>在开启端口透传的pool下创建member传该字段不生效,可不传该字段。","format":"int32","maximum":65535,"minimum":1,"type":"integer"},"reason":{"$ref":"#/definitions/MemberHealthCheckFailedReason","description":"**参数解释**:健康检查异常的原因。"},"status":{"description":"**参数解释**:后端服务器监听器粒度的的健康状态。\n\n**取值范围**:不涉及","items":{"$ref":"#/definitions/MemberStatus"},"type":"array"},"subnet_cidr_id":{"description":"**参数解释**:后端服务器所在的子网,可以是IPv4或IPv6子网。若是IPv4子网,使用对应子网的子网ID(neutron_subnet_id);若是IPv6子网,使用对应子网的网络ID(neutron_network_id)。\nipv4子网的子网ID可以通过GET https://{VPC_Endpoint}/v1/{project_id}/subnets 响应参数中的neutron_subnet_id得到\nipv6子网的网络ID可以通过GET https://{VPC_Endpoint}/v1/{project_id}/subnets 响应参数中的neutron_network_id得到\n\n**取值范围**:不涉及","type":"string"},"updated_at":{"description":"**参数解释**:更新时间。格式:yyyy-MM-dd'T'HH:mm:ss'Z',UTC时区。\n\n**取值范围**:不涉及\n\n注意:独享型实例的历史数据以及共享型实例下的资源,不返回该字段。","type":"string"},"weight":{"description":"**参数解释**:后端服务器的权重,请求将根据pool配置的负载均衡算法和后端服务器的权重进行负载分发。\n权重值越大,分发的请求越多。权重为0的后端不再接受新的请求。\n\n**取值范围**:0-100","format":"int32","maximum":100,"minimum":0,"type":"integer"}},"required":["id","availability_zone","name","project_id","admin_state_up","protocol_port","weight","address","ip_version","operating_status","status"],"type":"object"},"MemberHealthCheckFailedReason":{"properties":{"expected_response":{"description":"**参数解释**:健康检查预期响应状态码。支持HTTP,HTTPS,GRPC健康检查。只有reason_code为RESPONSE_MISMATCH时,支持非null取值。\n\n**取值范围**:\n- 单值:单个返回码。当type为GRPC时,取值范围为0-99;当type为其他协议时,取值范围为200-599。例如:\"0\"或\"200\"。\n- 列表:多个特定返回码,逗号分隔,最多支持5个返回码。例如:\"200,202\"或\"0,1\"。\n- 区间:一个返回码区间,区间内\"-\"分隔,区间之间逗号分隔,最多支持5个区间。例如\"200-204,300-399\"或\"0-5,10-12,20-30\"。","type":"string"},"healthcheck_response":{"description":"**参数解释**:健康检查探测实际响应状态码。支持HTTP,HTTPS,GRPC健康检查。只有reason_code为RESPONSE_MISMATCH时,支持非null取值。\n\n**取值范围**:\n- 单个返回码。当type为GRPC时,取值范围为0-99;当type为其他协议时,取值范围为200-599。例如:\"0\"或\"200\"。","type":"string"},"reason_code":{"description":"**参数解释**:健康检查异常原因码。\n\n**取值范围**:\n- CONNECT_TIMEOUT: 负载均衡健康检查时向后端服务器建立连接超时。\n- CONNECT_REFUSED: 负载均衡健康检查时向后端服务器拒绝连接。\n- CONNECT_FAILED: 负载均衡健康检查时向后端服务器建立连接失败。\n- CONNECT_INTERRUPT: 负载均衡健康检查与后端服务器连接中断。\n- SSL_HANDSHAKE_ERROR: 负载均衡健康检查时与后端服务器SSL握手失败。\n- RECV_RESPONSE_FAILED: 负载均衡健康检查时从后端服务器接收响应失败。\n- RECV_RESPONSE_TIMEOUT: 负载均衡健康检查时从后端服务器接收响应超时。\n- SEND_REQUEST_FAILED: 负载均衡健康检查时向后端服务器发送请求失败。\n- SEND_REQUEST_TIMEOUT: 负载均衡健康检查时向后端服务器发送请求超时。\n- RESPONSE_FORMAT_ERROR: 负载均衡健康检查时从后端服务器接收响应格式错误。\n- RESPONSE_MISMATCH: 负载均衡健康检查时从后端服务器接收的响应码与预期配置返回码不一致。","type":"string"}},"required":["reason_code","expected_response","healthcheck_response"]},"MemberStatus":{"properties":{"created_at":{"description":"**参数解释**:创建时间。格式:yyyy-MM-dd'T'HH:mm:ss'Z',UTC时区。\n\n**取值范围**:不涉及","type":"string"},"listener_id":{"description":"**参数解释**:监听器ID\n\n**取值范围**:不涉及","example":"d65d12f4-2851-4be6-a1e3-e8354b16095d","type":"string"},"operating_status":{"description":"**参数解释**:后端服务器的健康状态。\n\n**取值范围**:\n- ONLINE:后端服务器正常。\n- NO_MONITOR:后端服务器所在的服务器组没有健康检查器。\n- OFFLINE:后端服务器关联的ECS服务器不存在或已关机。\n- INITIAL:后端云服务器健康检查打开时的初始状态。\n- UNKNOWN: 后端云服务器组没有绑定监听器或者后端云服务器没有关联ECS等原因,后端云服务器健康检查结果未知。","example":"OFFLINE","type":"string"},"reason":{"$ref":"#/definitions/MemberHealthCheckFailedReason","description":"**参数解释**:后端服务器的健康状态。"},"updated_at":{"description":"**参数解释**:更新时间。格式:yyyy-MM-dd'T'HH:mm:ss'Z',UTC时区。\n\n**取值范围**:不涉及","type":"string"}},"required":["listener_id","operating_status"]}},"description":null,"group_id":"dbd0be272eaa427280cd04f618f990db","host":"elb.cn-north-4.myhuaweicloud.com","id":"6565f99cd5dc4d7b91c6e3b5056c8cd8","info_version":"v3","method":"post","name":"CreateMember","parameters":{},"paths":{"/v3/{project_id}/elb/pools/{pool_id}/members":{"post":{"description":"创建后端服务器。","operationId":"CreateMember","parameters":[{"description":"This is a auto create Body Object","in":"body","name":"CreateMemberRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateMemberRequestBody"}},{"description":"**参数解释**:IAM鉴权Token。\n\n**约束限制**:不涉及\n\n**取值范围**:不涉及\n\n**默认取值**:不涉及","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":1},{"description":"**参数解释**:后端服务器组ID。\n\n**约束限制**:不涉及\n\n**取值范围**:不涉及\n\n**默认取值**:不涉及","in":"path","name":"pool_id","required":true,"type":"string","x-order":3},{"description":"**参数解释**:项目ID。获取方式请参见[获取项目ID](elb_fl_0008.xml)。\n\n**约束限制**:不涉及\n\n**取值范围**:长度为32个字符,由小写字母和数字组成。\n\n**默认取值**:不涉及","in":"path","name":"project_id","required":true,"type":"string","x-order":2}],"responses":{"201":{"description":"POST操作正常返回。","examples":{"application/json":{"member":{"address":"120.10.10.16","admin_state_up":false,"availability_zone":"","id":"1923923e-fe8a-484f-bdbc-e11559b1f48f","ip_version":"v4","name":"My member","operating_status":"NO_MONITOR","project_id":"99a3fff0d03c428eac3678da6a7d0f24","protocol_port":89,"status":[{"listener_id":"427eee03-b569-4d6c-b1f1-712032f7ec2d","operating_status":"NO_MONITOR"}],"subnet_cidr_id":"c09f620e-3492-4429-ac15-445d5dd9ca74","weight":1},"request_id":"f354090d-41db-41e0-89c6-7a943ec50792"}},"schema":{"$ref":"#/definitions/CreateMemberResponseBody"}}},"summary":"创建后端服务器","tags":["后端服务器"],"x-api-type":"open-api","x-apiexplorer-hide":"false","x-constraint":"1.同一个pool下的两个member不能有相同的address和port。\n\n2.若所属LB开启跨VPC特性,创建member时可以不指定的子网,表示创建跨VPC的后端服务器。\n此时address必须为**私网IPv4**地址,pool的协议必须为TCP/HTTP/HTTPS。\n\n3.创建member时若指定了子网,则该子网必须和负载均衡器所在子网处在同一个VPC下。\n\n4.如果pool是dualstack的,address支持IPv4格式也支持IPv6格式,\n如果pool是v4的,address 只支持IPv4。\n\n5.创建member时,若请求参数type为instance,则参数address不允许为任何ELB的私网IP。\n\n6.如果pool是IP协议的,member的protocol_port必须为0,且不支持ip类型的member。","x-first-open-time":"2019-04-30","x-hybridcloud":"","x-is-registered":"Y","x-name":"创建后端服务器","x-open-region-cloud":"hc,hk,hws_eu,otc,ocb,tlf,ctc,hcso,ct,sbc,g42,tm,cmcc,hk_g42,hcso_dt,mix,hk_sbc,hws_ocb,hk_vdf,srg,fcs,fcs_dt,dt","x-order":0,"x-publishpath":"","x-request-examples-1":{"member":{"address":"120.10.10.16","name":"My member","protocol_port":89,"subnet_cidr_id":"c09f620e-3492-4429-ac15-445d5dd9ca74"}},"x-request-examples-2":{"member":{"address":"120.10.10.16","name":"My member","protocol_port":89}},"x-request-examples-3":{"member":{"address":"120.10.10.16","name":"My IP pool member","protocol_port":0}},"x-request-examples-description-1":"示例1:创建后端服务器","x-request-examples-description-2":"示例2:创建开启IP类型的后端服务器","x-request-examples-description-3":"示例3:创建pool为IP协议时的后端服务器","x-request-examples-tags-3":"hws_eu","x-request-examples-text-1":{"member":{"address":"120.10.10.16","name":"My member","protocol_port":89,"subnet_cidr_id":"c09f620e-3492-4429-ac15-445d5dd9ca74"}},"x-request-examples-text-2":{"member":{"address":"120.10.10.16","name":"My member","protocol_port":89}},"x-request-examples-text-3":{"member":{"address":"120.10.10.16","name":"My IP pool member","protocol_port":0}},"x-request-examples-url-1":"POST https://{ELB_Endpoint}/v3/99a3fff0d03c428eac3678da6a7d0f24/elb/pools/36ce7086-a496-4666-9064-5ba0e6840c75/members","x-request-examples-url-2":"POST https://{ELB_Endpoint}/v3/99a3fff0d03c428eac3678da6a7d0f24/elb/pools/36ce7086-a496-4666-9064-5ba0e6840c75/members","x-request-examples-url-3":"POST https://{ELB_Endpoint}/v3/99a3fff0d03c428eac3678da6a7d0f24/elb/pools/36ce7086-a496-4666-9064-5ba0e6840c75/members","x-scope":"Commercial","x-source":"SelfDeveloped","x-support-sdk":"Y","x-version":"v3"}}},"product_short":"ELB","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建后端服务器","tags":"后端服务器","uri":null,"version":"2.0"}