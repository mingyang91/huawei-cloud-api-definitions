{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"ElbError":{"description":"错误信息响应体","properties":{"error":{"description":"错误信息","type":"string"}},"required":["error"]},"InsertHeader":{"description":"监听器HTTP扩展头部对象。","properties":{"X-Forwarded-ELB-IP":{"description":"负载均衡器弹性公网IP透传开关。","type":"boolean"},"X-Forwarded-Host":{"default":true,"description":"X-Forwarded-Host设为true可以将客户请求头的第一个X-Forwarded-Host设置为请求头的Host带到后端云服务器。","type":"boolean"}}},"ListListenersResponseBody":{"description":"This is a auto create Response Object","properties":{"listeners":{"description":"监听器对象列表","items":{"$ref":"#/definitions/ListenerResp"},"type":"array"}},"required":["listeners"]},"ListenerResp":{"description":"监听器响应体","properties":{"admin_state_up":{"description":"监听器的管理状态。只支持设定为true,该字段的值无实际意义。","type":"boolean"},"client_ca_tls_container_ref":{"description":"监听器使用的CA证书ID。","type":"string"},"connection_limit":{"description":"监听器的最大连接数。该字段为预留字段,暂未启用。默认为-1。","format":"int32","minimum":-1,"type":"integer"},"created_at":{"description":"监听器的创建时间。","maxLength":19,"minLength":0,"type":"string"},"default_pool_id":{"description":"监听器的默认后端云服务器组ID。当请求没有匹配的转发策略时,转发到默认后端云服务器上处理。","type":"string"},"default_tls_container_ref":{"description":"监听器使用的服务器证书ID。","type":"string"},"description":{"description":"监听器的描述信息","maxLength":255,"minLength":0,"type":"string"},"http2_enable":{"description":"HTTP2功能的开启状态。该字段只有当监听器的协议是TERMINATED_HTTPS时生效。","type":"boolean"},"id":{"description":"监听器ID","type":"string"},"insert_headers":{"$ref":"#/definitions/InsertHeader","description":"可选的HTTP头插入,可以将从负载均衡器到后端云服务器的路径中需要被后端云服务器用到的信息写入HTTP中,随报文传递到后端云服务器使。例如可通过X-Forwarded-ELB-IP开关,将负载均衡器的弹性公网IP传到后端云服务器"},"loadbalancers":{"description":"监听器绑定的负载均衡器ID的列表。","items":{"$ref":"#/definitions/ResourceList"},"type":"array"},"name":{"description":"监听器名称。","maxLength":255,"minLength":0,"type":"string"},"project_id":{"description":"监听器所在的项目ID。","type":"string"},"protection_reason":{"description":"设置保护的原因。\n>仅当protection_status为consoleProtection时有效。","maxLength":255,"minLength":0,"type":"string","x-open-region-cloud":"hc,hk"},"protection_status":{"description":"修改保护状态, 取值:\n- nonProtection: 不保护,默认值为nonProtection\n- consoleProtection: 控制台修改保护","enum":["nonProtection","consoleProtection"],"type":"string","x-open-region-cloud":"hc,hk"},"protocol":{"description":"监听器的监听协议","enum":["UDP","TCP","HTTP","TERMINATED_HTTPS"],"type":"string"},"protocol_port":{"description":"监听器的监听端口。","format":"int32","maximum":65535,"minimum":1,"type":"integer"},"sni_container_refs":{"description":"监听器使用的SNI证书(带域名的服务器证书)ID的列表。","items":{"type":"string"},"type":"array"},"tags":{"description":"监听器的标签。","items":{"type":"string"},"type":"array"},"tenant_id":{"description":"监听器所在的项目ID。","maxLength":255,"minLength":0,"type":"string"},"tls_ciphers_policy":{"description":"监听器使用的安全策略,仅对TERMINATED_HTTPS协议类型的监听器有效,且默认值为tls-1-0。\n\n取值包括:tls-1-0, tls-1-1, tls-1-2, tls-1-2-strict多种安全策略","type":"string"},"updated_at":{"description":"监听器的更新时间。","maxLength":19,"minLength":0,"type":"string"}},"required":["id","tenant_id","name","description","admin_state_up","loadbalancers","connection_limit","http2_enable","protocol","protocol_port","default_pool_id","default_tls_container_ref","client_ca_tls_container_ref","sni_container_refs","tags","created_at","updated_at","insert_headers","project_id","tls_ciphers_policy"],"type":"object"},"ResourceList":{"description":"资源对象id列表。","properties":{"id":{"description":"资源ID","type":"string"}},"required":["id"]}},"description":null,"group_id":"dbd0be272eaa427280cd04f618f990db","host":"elb.cn-north-4.myhuaweicloud.com","id":"8fa7fa4fe9e9491f91e9beeb8c5b808f","info_version":"v2","method":"get","name":"ListListeners","parameters":{},"paths":{"/v2/{project_id}/elb/listeners":{"get":{"deprecated":false,"description":"查询监听器列表。支持过滤查询和分页查询。可以通过监听器ID、协议类型、监听端口号、关联的后端云服务器的IP等查询监听器。","operationId":"ListListeners","parameters":[{"description":"分页查询中每页的监听器个数","format":"int32","in":"query","minimum":0,"name":"limit","required":false,"type":"integer","x-example":100,"x-order":1},{"description":"分页查询的起始的资源id,表示上一页最后一条查询记录的监听器的id。不指定时表示查询第一页。","in":"query","name":"marker","required":false,"type":"string","x-order":2},{"description":"分页的顺序,true表示从后往前分页,false表示从前往后分页,默认为false。","in":"query","name":"page_reverse","required":false,"type":"boolean","x-order":3},{"description":"项目id","in":"path","name":"project_id","required":true,"type":"string","x-order":4},{"description":"监听器ID。","in":"query","name":"id","required":false,"type":"string","x-order":5},{"description":"监听器名称。","in":"query","maxLength":255,"minLength":0,"name":"name","required":false,"type":"string","x-order":6},{"description":"监听器的描述信息。","in":"query","maxLength":255,"minLength":0,"name":"description","required":false,"type":"string","x-order":7},{"description":"监听器所在的负载均衡器ID。","in":"query","name":"loadbalancer_id","required":false,"type":"string"},{"description":"监听器的最大连接数。","format":"int32","in":"query","name":"connection_limit","required":false,"type":"integer"},{"description":"监听器的管理状态。该字段为预留字段,暂未启用。默认为true。","in":"query","name":"admin_state_up","required":false,"type":"boolean"},{"description":"监听器的默认后端云服务器组ID。","in":"query","name":"default_pool_id","required":false,"type":"string","x-order":8},{"description":"监听器使用的服务器证书ID。","in":"query","name":"default_tls_container_ref","required":false,"type":"string","x-order":9},{"description":"监听器使用的CA证书ID。","in":"query","name":"client_ca_tls_container_ref","required":false,"type":"string","x-order":10},{"description":"监听器的监听协议。取值范围:TCP、HTTP、UDP、TERMINATED_HTTPS。","in":"query","name":"protocol","required":false,"type":"string","x-order":11},{"description":"监听器的监听端口。","format":"int32","in":"query","name":"protocol_port","required":false,"type":"integer","x-order":12},{"description":"监听器使用的安全策略,仅对TERMINATED_HTTPS协议类型的监听器有效,且默认值为tls-1-0。取值包括:tls-1-0, tls-1-1, tls-1-2, tls-1-2-strict四种安全策略。","in":"query","name":"tls_ciphers_policy","required":false,"type":"string","x-order":13},{"description":"用户token","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":17},{"description":"查询证书所关联的监听器","in":"query","name":"tls_container_id","required":false,"type":"string","x-order":18},{"description":"HTTP2功能的开启状态。取值范围:true/false。true:开启。false:关闭。","in":"query","name":"http2_enable","required":false,"type":"boolean"},{"description":"企业项目ID。\n\n传入all_granted_eps表示查询所有有权限的企业项目资源;\"0\"表示查询默认企业项目资源;或者指定的企业项目ID下的资源。","in":"query","name":"enterprise_project_id","required":false,"type":"string"}],"responses":{"200":{"description":"OK","examples":{"application/json":{"listeners":[{"admin_state_up":true,"client_ca_tls_container_ref":null,"connection_limit":-1,"created_at":"2018-11-29T13:56:21","default_pool_id":"2f6895be-019b-4c82-9b53-c4a2ac009e20","default_tls_container_ref":null,"description":"","http2_enable":false,"id":"5c63d176-444f-4c75-9cfe-bcb8a05a845c","insert_headers":null,"loadbalancers":[{"id":"c1127125-64a9-4394-a08a-ef3be8f7ef9c"}],"name":"listener-tvp8","project_id":"601240b9c5c94059b63d484c92cfe308","protection_reason":null,"protection_status":null,"protocol":"UDP","protocol_port":64809,"sni_container_refs":[],"tags":[],"tenant_id":"601240b9c5c94059b63d484c92cfe308","updated_at":"2018-11-29T13:56:22"}]}},"schema":{"$ref":"#/definitions/ListListenersResponseBody"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/ElbError"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/ElbError"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ElbError"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/ElbError"}},"409":{"description":"Conflict","schema":{"$ref":"#/definitions/ElbError"}}},"summary":"查询监听器列表","tags":["监听器"],"x-constraint":"支持分页查询,分页查询使用的参数为marker、limit、page_reverse。marker和page_reverse只有和limit一起使用时才会生效,单独使用无效。","x-first-open-time":"2017-03-30","x-hybridcloud":"true","x-is-registered":"Y","x-name":"查询监听器列表","x-open-region-cloud":"hc,hk,otc,ctc,ocb","x-order":40,"x-publishpath":"","x-request-examples-1":"GET https://{ELB_Endpoint}/v2/601240b9c5c94059b63d484c92cfe308/elb/listeners?limit=10&marker=165b6a38-5278-4569-b747-b2ee65ea84a4","x-request-examples-2":"GET https://{ELB_Endpoint}/v2/601240b9c5c94059b63d484c92cfe308/elb/listeners","x-request-examples-3":"GET https://{ELB_Endpoint}/v2/601240b9c5c94059b63d484c92cfe308/elb/listeners?member_address=192.168.0.191&protocol=UDP","x-request-examples-text-1":"GET https://{ELB_Endpoint}/v2/601240b9c5c94059b63d484c92cfe308/elb/listeners?limit=10&marker=165b6a38-5278-4569-b747-b2ee65ea84a4","x-request-examples-text-2":"GET https://{ELB_Endpoint}/v2/601240b9c5c94059b63d484c92cfe308/elb/listeners","x-request-examples-text-3":"GET https://{ELB_Endpoint}/v2/601240b9c5c94059b63d484c92cfe308/elb/listeners?member_address=192.168.0.191&protocol=UDP","x-scope":"Commercial","x-source":"Native","x-support-sdk":"Y","x-version":"v2"}}},"product_short":"ELB","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询监听器列表","tags":"监听器","uri":null,"version":"2.0"}