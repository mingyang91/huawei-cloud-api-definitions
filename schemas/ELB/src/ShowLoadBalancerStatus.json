{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"LoadBalancerStatus":{"properties":{"id":{"description":"负载均衡器ID。","type":"string"},"listeners":{"description":"负载均衡器关联的监听器列表。","items":{"$ref":"#/definitions/LoadBalancerStatusListener"},"type":"array"},"name":{"description":"负载均衡器名称。","maxLength":255,"minLength":1,"type":"string"},"operating_status":{"description":"负载均衡器的操作状态。\n\n取值:\n- ONLINE:创建时默认状态,表示负载均衡器正常运行。\n- FROZEN:已冻结。\n- DEGRADED:负载均衡器下存在member的operating_status为OFFLINE时返回这个状态。\n- DISABLED:负载均衡器的admin_state_up属性值为false。\n\n说明:DEGRADED和DISABLED状态仅在当前接口中返回,LB详情等其他接口不返回这两个状态值。","type":"string"},"pools":{"description":"负载均衡器关联的后端服务器组列表。","items":{"$ref":"#/definitions/LoadBalancerStatusPool"},"type":"array"},"provisioning_status":{"description":"负载均衡器的配置状态。\n\n取值:\n- ACTIVE:使用中。\n- PENDING_DELETE:删除中。","type":"string"}},"required":["name","provisioning_status","listeners","pools","id","operating_status"]},"LoadBalancerStatusHealthMonitor":{"description":"LB状态树的后端服务器组健康检查器状态信息。","properties":{"id":{"description":"健康检查器ID。","type":"string"},"name":{"description":"健康检查器名称。","maxLength":255,"minLength":1,"type":"string"},"provisioning_status":{"description":"健康检查器的配置状态。取值:ACTIVE表示使用中。","type":"string"},"type":{"description":"协议类型。取值:TCP、UDP_CONNECT或HTTP。","type":"string"}}},"LoadBalancerStatusL7Rule":{"description":"查询负载均衡状态树返回对象中的rule数据模型。","properties":{"id":{"description":"L7转发规则ID。","type":"string"},"provisioning_status":{"description":"转发规则的配置状态。\n\n取值:\n- ACTIVE:使用中,默认值。\n- ERROR:当前规则所属策略与同一监听器下的其他策略存在相同的规则配置。","type":"string"},"type":{"description":"匹配内容类型。\n\n取值:\n- HOST_NAME:域名匹配。\n- PATH:URL路径匹配。\n\n使用说明:\n同一个l7policy下创建的所有的l7rule的HOST_NAME不能重复。","type":"string"}},"required":["id","type","provisioning_status"]},"LoadBalancerStatusListener":{"description":"LB状态树的监听器状态信息","properties":{"id":{"description":"监听器ID。","type":"string"},"l7policies":{"description":"监听器下的7层转发策略操作状态。","items":{"$ref":"#/definitions/LoadBalancerStatusPolicy"},"type":"array"},"name":{"description":"监听器的名称。","maxLength":255,"minLength":1,"type":"string"},"operating_status":{"description":"监听器的操作状态。\n\n取值:\n- ONLINE:创建时默认状态,表示监听器正常运行。\n- DEGRADED:该监听器下存在l7policy或l7rule的Provisioning_status=ERROR时返回这个状态。\n或者状态树该监听器下存在member的operating_status=OFFLINE。\n- DISABLED:负载均衡器或监听器的admin_state_up=false。\n\n说明:\nDEGRADED和DISABLED状态仅在当前接口返回,查询监听器详情等其他接口返回字段operating_status不存在这两个状态值。","type":"string"},"pools":{"description":"监听器下的后端主机组操作状态。","items":{"$ref":"#/definitions/LoadBalancerStatusPool"},"type":"array"},"provisioning_status":{"description":"监听器的配置状态。\n\n取值:\n- ACTIVE:使用中。","type":"string"}},"type":"object"},"LoadBalancerStatusMember":{"description":"LB状态树的后端服务器组的后端服务器状态信息","properties":{"address":{"description":"后端服务器的IP地址。","type":"string"},"id":{"description":"后端服务器ID。","type":"string"},"operating_status":{"description":"后端服务器的操作状态。\n\n取值:\n- ONLINE:后端服务器正常运行。\n- NO_MONITOR:后端服务器健康检查未开启。\n- DISABLED:后端服务器不可用。所属负载均衡器或后端服务器组或该后端服务器的admin_state_up=flase时,\n会出现该状态。注意该状态仅在当前接口中返回。\n- OFFLINE:关联ECS已下线。","type":"string"},"protocol_port":{"description":"后端服务器的端口号。取值范围[1, 65535]。","format":"int32","type":"integer"},"provisioning_status":{"description":"后端服务器配置状态。取值:ACTIVE表示使用中。","type":"string"}},"type":"object"},"LoadBalancerStatusPolicy":{"description":"LB状态树的转发策略状态信息","properties":{"action":{"description":"匹配后动作。\n\n取值:\n- REDIRECT_TO_POOL:转发到后端服务器组。\n- REDIRECT_TO_LISTENER:转发到监听器。","type":"string"},"id":{"description":"转发策略ID。","type":"string"},"name":{"description":"转发策略名称。","maxLength":255,"minLength":1,"type":"string"},"provisioning_status":{"description":"转发策略的配置状态。\n\n取值范围:\n- ACTIVE: 默认值,表示正常。\n- ERROR: 表示当前策略与同一监听器下的其他策略存在相同的规则配置。","type":"string"},"rules":{"description":"转发规则状态信息。","items":{"$ref":"#/definitions/LoadBalancerStatusL7Rule"},"type":"array"}}},"LoadBalancerStatusPool":{"description":"LB状态树的后端服务器组状态信息。","properties":{"healthmonitor":{"$ref":"#/definitions/LoadBalancerStatusHealthMonitor"},"id":{"description":"参数解释:后端服务器组ID。","type":"string"},"members":{"description":"后端服务器状态信息。","items":{"$ref":"#/definitions/LoadBalancerStatusMember"},"type":"array"},"name":{"description":"后端服务器组名。","maxLength":255,"minLength":1,"type":"string"},"operating_status":{"description":"后端服务器组的操作状态。\n\n取值:\n- ONLINE:创建时默认状态,表后端服务器组正常。\n- DEGRADED:该后端服务器组下存在member为的operating_status=OFFLINE。\n- DISABLED:负载均衡器或后端服务器组的admin_state_up=false。\n\n说明:\nDEGRADED和DISABLED仅在当前接口返回,\n查询后端服务器组详情等其他接口返回的operating_status字段不存在这两个状态值。","type":"string"},"provisioning_status":{"description":"后端服务器组的配置状态。\n\n取值:\n- ACTIVE:使用中。","type":"string"}},"type":"object"},"LoadBalancerStatusResult":{"description":"","properties":{"loadbalancer":{"$ref":"#/definitions/LoadBalancerStatus","description":"负载均衡器的详细信息。"}},"required":["loadbalancer"]},"ShowLoadBalancerStatusResponseBody":{"description":"This is a auto create Response Object","properties":{"request_id":{"description":"参数解释:请求ID。\n\n注:自动生成 。","type":"string"},"statuses":{"$ref":"#/definitions/LoadBalancerStatusResult","description":"参数解释:负载均衡器状态树信息。"}},"required":["request_id","statuses"]}},"description":null,"group_id":"dbd0be272eaa427280cd04f618f990db","host":"elb.cn-north-4.myhuaweicloud.com","id":"3ce8cf6e805846e4a39925189d2b6235","info_version":"v3","method":"get","name":"ShowLoadBalancerStatus","parameters":{},"paths":{"/v3/{project_id}/elb/loadbalancers/{loadbalancer_id}/statuses":{"get":{"deprecated":false,"description":"查询负载均衡器状态树,包括负载均衡器及其关联的子资源的状态信息。\n注意:该接口中的operating_status不一定与对应资源的operating_status相同。\n如:当Member的admin_state_up=false且operating_status=OFFLINE时,\n该接口返回member的operating_status=DISABLE。","operationId":"ShowLoadBalancerStatus","parameters":[{"description":"参数解释:IAM鉴权Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":1},{"description":"参数解释:项目ID。","in":"path","name":"project_id","required":true,"type":"string","x-order":2},{"description":"负载均衡器ID。","in":"path","name":"loadbalancer_id","required":true,"type":"string","x-order":3}],"responses":{"200":{"description":"操作成功正常返回。","examples":{"application/json":{"statuses":{"loadbalancer":{"id":"38278031-cfca-44be-81be-a412f618773b","listeners":[{"id":"eb84c5b4-9bc5-4bee-939d-3900fb05dc7b","l7policies":[],"name":"listener-jy-1","operating_status":"ONLINE","pools":[{"healthmonitor":{"id":"7422b51a-0ed2-4702-9429-4f88349276c6","name":"","provisioning_status":"ACTIVE","type":"TCP"},"id":"c54b3286-2349-4c5c-ade1-e6bb0b26ad18","members":[{"address":"192.168.44.11","id":"7bbf7151-0dce-4087-b316-06c7fa17b894","operating_status":"ONLINE","protocol_port":80,"provisioning_status":"ACTIVE"}],"name":"pool-jy-1","operating_status":"ONLINE","provisioning_status":"ACTIVE"}],"provisioning_status":"ACTIVE"}],"name":"lb-jy","operating_status":"ONLINE","pools":[{"healthmonitor":{"id":"7422b51a-0ed2-4702-9429-4f88349276c6","name":"","provisioning_status":"ACTIVE","type":"TCP"},"id":"c54b3286-2349-4c5c-ade1-e6bb0b26ad18","members":[{"address":"192.168.44.11","id":"7bbf7151-0dce-4087-b316-06c7fa17b894","operating_status":"ONLINE","protocol_port":80,"provisioning_status":"ACTIVE"}],"name":"pool-jy-1","operating_status":"ONLINE","provisioning_status":"ACTIVE"}],"provisioning_status":"ACTIVE"}}}},"schema":{"$ref":"#/definitions/ShowLoadBalancerStatusResponseBody"}}},"summary":"查询负载均衡器状态树","tags":["负载均衡器"],"x-apiexplorer-hide":"false","x-constraint":"","x-first-open-time":"","x-hybridcloud":"","x-is-registered":"Y","x-name":"查询负载均衡器状态树","x-open-region-cloud":"hc,hk,hws_eu,otc,ocb,tlf,ctc,hcso,ct,sbc,g42,tm,cmcc,hk_g42,dt_test,hcso_dt,mix,hk_sbc,hws_ocb,hk_vdf,srg,fcs,fcs_dt,dt","x-order":7,"x-publishpath":"","x-request-examples-description-1":"查询负载均衡器的状态树","x-request-examples-url-1":"GET https://{ELB_Endpoint}/v3/{project_id}/elb/loadbalancers/38278031-cfca-44be-81be-a412f618773b/statuses","x-scope":"Commercial","x-source":"SelfDeveloped","x-support-sdk":"Y","x-version":"v3"}}},"product_short":"ELB","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询负载均衡器状态树","tags":"负载均衡器","uri":null,"version":"2.0"}