{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ListAllMembersResponseBody":{"description":"This is a auto create Response Object","properties":{"members":{"description":"后端服务器对象列表。","items":{"$ref":"#/definitions/MemberInfo"},"type":"array"},"page_info":{"$ref":"#/definitions/PageInfo","description":"分页信息。"},"request_id":{"description":"请求ID。\n\n注:自动生成 。","type":"string"}},"required":["members","page_info","request_id"]},"MemberHealthCheckFailedReason":{"description":"健康检查异常的原因。","properties":{"expected_response":{"description":"参数解释:健康检查预期响应状态码。\n支持HTTP,HTTPS,GRPC健康检查。\n只有reason_code为RESPONSE_MISMATCH时,支持非null取值。\n\n取值范围:\n- 单值:单个返回码。当type为GRPC时,取值范围为0-99;当type为其他协议时,取值范围为200-599。例如:\"0\"或\"200\"。\n- 列表:多个特定返回码,逗号分隔,最多支持5个返回码。例如:\"200,202\"或\"0,1\"。\n- 区间:一个返回码区间,区间内\"-\"分隔,区间之间逗号分隔,最多支持5个区间。例如\"200-204,300-399\"或\"0-5,10-12,20-30\"。","type":"string"},"healthcheck_response":{"description":"参数解释:健康检查探测实际响应状态码。\n支持HTTP,HTTPS,GRPC健康检查。\n只有reason_code为RESPONSE_MISMATCH时,支持非null取值。\n\n取值范围:\n- 单个返回码。当type为GRPC时,取值范围为0-99;当type为其他协议时,取值范围为200-599。例如:\"0\"或\"200\"。","type":"string"},"reason_code":{"description":"参数解释:健康检查异常原因码。\n取值范围:\n- CONNECT_TIMEOUT: 负载均衡健康检查时向后端服务器建立连接超时。\n- CONNECT_REFUSED: 负载均衡健康检查时向后端服务器拒绝连接。\n- CONNECT_FAILED: 负载均衡健康检查时向后端服务器建立连接失败。\n- CONNECT_INTERRUPT: 负载均衡健康检查与后端服务器连接中断。\n- SSL_HANDSHAKE_ERROR: 负载均衡健康检查时与后端服务器SSL握手失败。\n- RECV_RESPONSE_FAILED: 负载均衡健康检查时从后端服务器接收响应失败。\n- RECV_RESPONSE_TIMEOUT: 负载均衡健康检查时从后端服务器接收响应超时。\n- SEND_REQUEST_FAILED: 负载均衡健康检查时向后端服务器发送请求失败。\n- SEND_REQUEST_TIMEOUT: 负载均衡健康检查时向后端服务器发送请求超时。\n- RESPONSE_FORMAT_ERROR: 负载均衡健康检查时从后端服务器接收响应格式错误。\n- RESPONSE_MISMATCH: 负载均衡健康检查时从后端服务器接收的响应码与预期配置返回码不一致。","type":"string"}},"required":["reason_code","expected_response","healthcheck_response"]},"MemberInfo":{"description":"后端服务器信息。","properties":{"address":{"description":"后端服务器对应的IP地址。\n\n使用说明:\n- 若subnet_cidr_id为空,表示添加跨VPC后端,此时address必须为**私网IPv4**地址。\n- 若subnet_cidr_id不为空,表示是一个关联到ECS的后端服务器。该IP地址必须在subnet_cidr_id对应的子网网段中,可以是**私网IPv4**或IPv6。","type":"string"},"admin_state_up":{"description":"后端服务器的管理状态。\n\n取值:true、false。\n\n虽然创建、更新请求支持该字段,但实际取值决定于后端服务器对应的弹性云服务器是否存在。若存在,该值为true,否则,该值为false。","type":"boolean"},"created_at":{"description":"创建时间。格式:yyyy-MM-dd'T'HH:mm:ss'Z',UTC时区。\n\n注意:独享型实例的历史数据以及共享型实例下的资源,不返回该字段。","type":"string"},"device_id":{"description":"关联的ECS ID,为空表示后端服务器未关联到ECS。\n\n不支持该字段,请勿使用。","type":"string"},"device_owner":{"description":"设备所有者。\n\n取值:\n- 空,表示后端服务器未关联到ECS。\n- compute:{az_name},表示关联到ECS,其中{az_name}表示ECS所在可用区名。\n- compute:subeni,表示辅助弹性网卡。\n\n不支持该字段,请勿使用。","type":"string"},"id":{"description":"后端服务器ID。\n> 此处并非ECS服务器的ID,而是ELB为绑定的后端服务器自动生成的member ID。","type":"string"},"instance_id":{"description":"member关联的实例ID。空表示member关联的实例为非真实设备 (如:跨VPC场景)","type":"string"},"ip_version":{"description":"当前后端服务器的IP地址版本,由后端系统自动根据传入的address字段确定。取值:v4、v6。","type":"string"},"loadbalancer_id":{"description":"所属负载均衡器ID。\n\n不支持该字段,请勿使用。","type":"string"},"loadbalancers":{"description":"后端服务器关联的负载均衡器ID列表。\n\n不支持该字段,请勿使用。","items":{"$ref":"#/definitions/ResourceID"},"type":"array"},"member_type":{"description":"后端服务器的类型。\n\n取值:\n- ip:跨VPC的member。\n- instance:关联到ECS的member。","type":"string"},"name":{"description":"后端服务器名称。注意:该名称并非ECS名称。","type":"string"},"operating_status":{"description":"后端服务器的健康状态。当status非空时,以status字段中监听器粒度的健康检查状态优先。\n\n取值:\n- ONLINE:后端服务器正常。\n- NO_MONITOR:后端服务器所在的服务器组没有健康检查器。\n- OFFLINE:后端服务器关联的ECS服务器不存在或已关机。","type":"string"},"pool_id":{"description":"所在后端服务器组ID。\n\n不支持该字段,请勿使用。","type":"string"},"project_id":{"description":"后端服务器所在的项目ID。","type":"string"},"protocol_port":{"description":"后端服务器业务端口。\n\n\n\n>在开启端口透传的pool下创建member传该字段不生效,可不传该字段。","format":"int32","maximum":65535,"minimum":1,"type":"integer"},"reason":{"$ref":"#/definitions/MemberHealthCheckFailedReason"},"status":{"description":"后端服务器监听器粒度的的健康状态。\n若绑定的监听器在该字段中,则以该字段中监听器对应的operating_stauts为准。\n若绑定的监听器不在该字段中,则以外层的operating_status为准。","items":{"$ref":"#/definitions/MemberStatus"},"type":"array"},"subnet_cidr_id":{"description":"后端服务器所在的子网,可以是IPv4或IPv6子网。若是IPv4子网,使用对应子网的子网ID(neutron_subnet_id);若是IPv6子网,使用对应子网的网络ID(neutron_network_id)。\n\nipv4子网的子网ID可以通过GET\nhttps://{VPC_Endpoint}/v1/{project_id}/subnets\n响应参数中的neutron_subnet_id得到\n\nipv6子网的网络ID可以通过GET\nhttps://{VPC_Endpoint}/v1/{project_id}/subnets\n响应参数中的neutron_network_id得到\n\n使用说明:\n- 该子网和关联的负载均衡器的子网必须在同一VPC下。\n- 若所属LB的跨VPC后端转发特性已开启,则该字段可以不传,表示添加跨VPC的后端服务器。此时address必须为**私网IPv4**地址,所在的pool的协议必须为UDP/TCP/TLS/HTTP/HTTPS/QUIC/GRPC。","type":"string"},"updated_at":{"description":"更新时间。格式:yyyy-MM-dd'T'HH:mm:ss'Z',UTC时区。\n\n注意:独享型实例的历史数据以及共享型实例下的资源,不返回该字段。","type":"string"},"weight":{"description":"后端服务器的权重,请求将根据pool配置的负载均衡算法和后端服务器的权重进行负载分发。\n权重值越大,分发的请求越多。权重为0的后端不再接受新的请求。\n\n取值:0-100,默认1。\n\n使用说明:若所在pool的lb_algorithm取值为SOURCE_IP或QUIC_CID,该字段无效。","format":"int32","maximum":100,"minimum":0,"type":"integer"}},"required":["id","name","project_id","admin_state_up","protocol_port","weight","address","ip_version","operating_status","status"],"type":"object"},"MemberStatus":{"description":"后端服务器操作状态。","properties":{"created_at":{"description":"创建时间。格式:yyyy-MM-dd'T'HH:mm:ss'Z',UTC时区。","type":"string"},"listener_id":{"description":"参数解释:监听器ID","example":"d65d12f4-2851-4be6-a1e3-e8354b16095d","type":"string"},"operating_status":{"description":"参数解释:后端服务器的健康状态。\n\n取值范围:\n- ONLINE:后端服务器正常。\n- NO_MONITOR:后端服务器所在的服务器组没有健康检查器。\n- OFFLINE:后端服务器关联的ECS服务器不存在或已关机。","example":"OFFLINE","type":"string"},"reason":{"$ref":"#/definitions/MemberHealthCheckFailedReason"},"updated_at":{"description":"更新时间。格式:yyyy-MM-dd'T'HH:mm:ss'Z',UTC时区。","type":"string"}},"required":["listener_id","operating_status"]},"PageInfo":{"description":"分页信息","properties":{"current_count":{"description":"参数解释:当前的记录数。","format":"int32","type":"integer"},"next_marker":{"description":"参数解释:分页查询结果中最后一条记录的ID。通常用于查询下一页。","type":"string"},"previous_marker":{"description":"参数解释:分页查询结果中第一条记录的ID。通常用于配合page_reverse=true查询上一页。","type":"string"}},"required":["previous_marker","current_count"],"type":"object"},"ResourceID":{"description":"资源ID","properties":{"id":{"description":"资源ID","type":"string"}},"required":["id"]}},"description":null,"group_id":"dbd0be272eaa427280cd04f618f990db","host":"elb.cn-north-4.myhuaweicloud.com","id":"377d22efaed24768a3b7ef41aac1649d","info_version":"v3","method":"get","name":"ListAllMembers","parameters":{},"paths":{"/v3/{project_id}/elb/members":{"get":{"description":"查询当前项目下的后端服务器列表。","operationId":"ListAllMembers","parameters":[{"description":"参数解释:IAM鉴权Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":1},{"description":"参数解释:项目ID。","in":"path","name":"project_id","required":true,"type":"string","x-order":2},{"description":"上一页最后一条记录的ID。\n\n使用说明:\n- 必须与limit一起使用。\n- 不指定时表示查询第一页。\n- 该字段不允许为空或无效的ID。","in":"query","name":"marker","required":false,"type":"string","x-order":3},{"default":2000,"description":"参数解释:每页返回的个数。\n\n取值范围:0-2000\n\n默认取值:2000","format":"int32","in":"query","maximum":2000,"minimum":0,"name":"limit","required":false,"type":"integer","x-order":4},{"description":"是否反向查询。\n\n取值:\n- true:查询上一页。\n- false:查询下一页,默认。\n\n使用说明:\n- 必须与limit一起使用。\n- 当page_reverse=true时,若要查询上一页,marker取值为当前页返回值的previous_marker。","in":"query","name":"page_reverse","required":false,"type":"boolean","x-order":5},{"collectionFormat":"multi","description":"后端服务器名称。\n\n支持多值查询,查询条件格式:*name=xxx&name=xxx*。","in":"query","items":{"type":"string"},"name":"name","required":false,"type":"array","x-order":7},{"collectionFormat":"multi","description":"后端服务器的权重,请求按权重在同一后端服务器组下的后端服务器间分发。\n权重为0的后端不再接受新的请求。\n当后端服务器所在的后端服务器组的lb_algorithm的取值为SOURCE_IP时,该字段无效。\n\n支持多值查询,查询条件格式:*weight=xxx&weight=xxx*。","in":"query","items":{"format":"int32","type":"integer"},"name":"weight","required":false,"type":"array","x-order":8},{"description":"后端服务器的管理状态;该字段虽然支持创建、更新,但实际取值决定于member对应的弹性云服务器是否存在。\n若存在,该值为true,否则,该值为false。","in":"query","name":"admin_state_up","required":false,"type":"boolean","x-order":9},{"collectionFormat":"multi","description":"后端服务器所在的子网ID。该子网和后端服务器关联的负载均衡器的子网必须在同一VPC下。只支持指定IPv4的子网ID。\n\n支持多值查询,查询条件格式:***subnet_cidr_id=xxx&subnet_cidr_id=xxx*。","in":"query","items":{"type":"string"},"name":"subnet_cidr_id","required":false,"type":"array","x-order":10},{"collectionFormat":"multi","description":"后端服务器的对应的IP地址,这个IP必须在subnet_cidr_id字段的子网网段中。\n例如:192.168.3.11。\n\n支持多值查询,查询条件格式:*address=xxx&address=xxx*。","in":"query","items":{"type":"string"},"name":"address","required":false,"type":"array","x-order":11},{"collectionFormat":"multi","description":"后端服务器端口号。\n\n支持多值查询,查询条件格式:*protocol_port=xxx&protocol_port=xxx*。","in":"query","items":{"format":"int32","type":"integer"},"name":"protocol_port","required":false,"type":"array","x-order":12},{"collectionFormat":"multi","description":"后端服务器ID。\n\n支持多值查询,查询条件格式:*id=xxx&id=xxx*。","in":"query","items":{"type":"string"},"name":"id","required":false,"type":"array","x-order":13},{"collectionFormat":"multi","description":"后端服务器的健康状态。\n\n取值:\n- ONLINE,后端服务器正常运行。\n- NO_MONITOR,后端服务器无健康检查。\n- OFFLINE,已下线。\n\n支持多值查询,查询条件格式:*operating_status=xxx&operating_status=*。","in":"query","items":{"type":"string"},"name":"operating_status","required":false,"type":"array","x-order":14},{"collectionFormat":"multi","description":"参数解释:所属的企业项目ID。\n如果enterprise_project_id不传值,默认查询所有企业项目下的资源,鉴权按照细粒度权限鉴权,必须在用户组下分配elb:members:list权限。\n如果enterprise_project_id传值,鉴权按照企业项目权限鉴权,分为传入具体eps_id和all_granted_eps两种场景,前者查询指定eps_id的eps下的资源,后者查询的是所有有list权限的eps下的资源。\n\n支持多值查询,查询条件格式:\n*enterprise_project_id=xxx&enterprise_project_id=xxx*。","in":"query","items":{"type":"string"},"name":"enterprise_project_id","required":false,"type":"array","x-order":15},{"collectionFormat":"multi","description":"IP版本,取值v4、v6。\n\n支持多值查询,查询条件格式:*ip_version=xxx&ip_version=xxx*。","in":"query","items":{"type":"string"},"name":"ip_version","required":false,"type":"array","x-order":16},{"collectionFormat":"multi","description":"member所属的服务器组ID\n\n支持多值查询,查询条件格式:*pool_id=xxx&pool_id=xxx*。","in":"query","items":{"type":"string"},"name":"pool_id","required":false,"type":"array","x-order":16},{"collectionFormat":"multi","description":"member所属的负载均衡器ID。\n\n支持多值查询,查询条件格式:*loadbalancer_id=xxx&loadbalancer_id=xxx*。","in":"query","items":{"type":"string"},"name":"loadbalancer_id","required":false,"type":"array","x-order":17}],"responses":{"200":{"description":"操作正常返回。","examples":{"application/json":{"members":[{"address":"192.168.0.157","admin_state_up":true,"created_at":"2023-05-04T06:55:33Z","device_id":"39b7d471-fbb4-4e6d-ac81-635b4415a27f","device_owner":"compute:cn-southwest-242a","id":"f5e20309-c79c-470c-b59c-3c8378792897","instance_id":"39b7d471-fbb4-4e6d-ac81-635b4415a27f","ip_version":"v4","loadbalancer_id":"9eafbe79-4d48-46f6-95e6-0bc3da57b96d","loadbalancers":[{"id":"9eafbe79-4d48-46f6-95e6-0bc3da57b96d"}],"member_type":"instance","name":"member-1","operating_status":"ONLINE","pool_id":"46cd9381-3d99-4e32-b799-efaf5c274586","project_id":"86f9bb15ce80442680229fcd4dc96582","protocol_port":80,"status":[{"listener_id":"0663b12d-4a8f-4ee1-8ba2-dd09f2c92ef7","operating_status":"ONLINE"},{"listener_id":"19ac6a54-336f-44ce-9679-50c4f56e9407","operating_status":"ONLINE"}],"subnet_cidr_id":"1aee2ab8-f238-4c26-8659-2a7a0c201d0a","updated_at":"2023-05-08T01:34:02Z","weight":1},{"address":"192.168.0.157","admin_state_up":true,"created_at":"2023-05-04T12:46:55Z","device_id":"39b7d471-fbb4-4e6d-ac81-635b4415a27f","device_owner":"compute:cn-southwest-242a","id":"f834d6c6-b376-4031-931e-57cb36bca4a8","instance_id":"39b7d471-fbb4-4e6d-ac81-635b4415a27f","ip_version":"v4","loadbalancers":[],"member_type":"instance","name":"member-2","operating_status":"OFFLINE","pool_id":"d17d07db-5bab-4a15-aa6f-8561af133ca7","project_id":"86f9bb15ce80442680229fcd4dc96582","protocol_port":80,"status":[],"subnet_cidr_id":"1aee2ab8-f238-4c26-8659-2a7a0c201d0a","updated_at":"2023-05-05T03:56:40Z"}],"page_info":{"current_count":2,"next_marker":"fb1ce58f-2525-4bd9-9606-10851533bd22","previous_marker":"fb19f821-5d5f-4d72-b11c-503e874d3915"},"request_id":"9bd54b2c-b6c6-4635-9495-dd89bdd917ad"}},"schema":{"$ref":"#/definitions/ListAllMembersResponseBody"}}},"summary":"后端服务器全局列表","tags":["后端服务器"],"x-apiexplorer-hide":"false","x-constraint":"分页查询使用的参数为marker、limit、page_reverse。\n\nmarker和page_reverse只有和limit一起使用时才会生效,单独使用无效。","x-first-open-time":"","x-hybridcloud":"","x-is-registered":"Y","x-name":"后端服务器全局列表","x-open-region-cloud":"hc,hk","x-order":6,"x-publishpath":"","x-request-examples-description-1":"查询当前项目下的所有后端服务器列表","x-request-examples-url-1":"GET https://{ELB_Endpoint}/v3/7a9941d34fc1497d8d0797429ecfd354/elb/members","x-scope":"Commercial","x-source":"SelfDeveloped","x-support-sdk":"Y","x-version":"v3"}}},"product_short":"ELB","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"后端服务器全局列表","tags":"后端服务器","uri":null,"version":"2.0"}