{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CreateHealthMonitorOption":{"description":"**参数解释**:创建健康检查请求参数。\n\n**约束限制**:不涉及","properties":{"admin_state_up":{"description":"**参数解释**:健康检查的管理状态。\n\n**约束限制**:不涉及\n\n**取值范围**:\n- true:表示开启健康检查。\n- false表示关闭健康检查。\n\n**默认取值**:true","type":"boolean"},"delay":{"description":"**参数解释**:健康检查间隔。\n\n**约束限制**:不涉及\n\n**取值范围**:1-50,单位:秒。\n\n**默认取值**:不涉及","format":"int32","type":"integer"},"domain_name":{"description":"**参数解释**:发送健康检查请求的域名。\n\n**约束限制**:当type为HTTP/HTTPS时生效。\n\n**取值范围**:以数字或字母开头,只能包含数字、字母、’-’、’.’。\n\n**默认取值**:默认为空,表示使用负载均衡器的vip作为http请求的目的地址。","maxLength":100,"minLength":1,"pattern":"^[a-zA-Z0-9][a-zA-Z0-9-.]*$","type":"string"},"expected_codes":{"description":"**参数解释**:期望响应状态码。\n\n**约束限制**:该字段仅在HTTP/HTTPS/GRPC协议下有效,其他协议可以设置但不会生效。\n\n**取值范围**:\n- 单值:单个返回码,例如200。\n- 列表:多个特定返回码,例如200,202。\n- 区间:一个返回码区间,例如200-204。\n\n**默认取值**:若健康检查type为GRPC,则默认值为0,其他为200。","maxLength":64,"minLength":1,"pattern":"^(([2-5]\\d{2})|(([2-5]\\d{2})-([2-5]\\d{2})))(,(([2-5]\\d{2})|(([2-5]\\d{2})-([2-5]\\d{2})))){0,4}$","type":"string"},"http_method":{"description":"**参数解释**:HTTP请求方法。\n\n**约束限制**:当type为HTTP/HTTPS时生效。\n\n**取值范围**:GET、HEAD、POST。\n\n**默认取值**:GET","maxLength":16,"minLength":1,"type":"string"},"max_retries":{"description":"**参数解释**:健康检查连续成功多少次后,将后端服务器的健康检查状态由OFFLINE判定为ONLINE。\n\n**约束限制**:不涉及\n\n**取值范围**:1-10\n\n**默认取值**:不涉及","format":"int32","maximum":10,"minimum":1,"type":"integer"},"max_retries_down":{"description":"**参数解释**:健康检查连续失败多少次后,将后端服务器的健康检查状态由ONLINE判定为OFFLINE。\n\n**约束限制**:不涉及\n\n**取值范围**:1-10\n\n**默认取值**:3","format":"int32","maximum":10,"minimum":1,"type":"integer"},"monitor_port":{"description":"**参数解释**:健康检查端口号。\n\n**约束限制**:\n- 当绑定的pool开启了端口透传功能时,该字段为必填。\n- 当pool协议为IP时,monitor_port必须指定为非0值。\n\n**取值范围**:1-65535和null,传null表示使用后端服务器端口号。\n\n**默认取值**:null","format":"int32","maximum":65535,"minimum":1,"type":"integer"},"name":{"description":"**参数解释**:健康检查名称。\n\n**约束限制**:不涉及\n\n**取值范围**:不涉及\n\n**默认取值**:不涉及","maxLength":255,"minLength":0,"type":"string"},"pool_id":{"description":"**参数解释**:健康检查所在的后端服务器组ID\n\n**约束限制**:不涉及\n\n**取值范围**:不涉及\n\n**默认取值**:不涉及","type":"string"},"project_id":{"description":"**参数解释**:健康检查所在的项目ID。\n\n**约束限制**:不涉及\n\n**取值范围**:不涉及\n\n**默认取值**:不涉及","maxLength":32,"minLength":1,"pattern":"[0-9a-fA-F]{32}","type":"string"},"timeout":{"description":"**参数解释**:一次健康检查请求的超时时间。建议该值小于delay的值。\n\n**约束限制**:不涉及\n\n**取值范围**:不涉及\n\n**默认取值**:不涉及","format":"int32","maximum":50,"minimum":1,"type":"integer"},"type":{"description":"**参数解释**:健康检查请求协议。\n\n**约束限制**:\n- 若pool的protocol为QUIC,则type只能是UDP_CONNECT。\n- 若pool的protocol为UDP,则type只能UDP_CONNECT。\n- 若pool的protocol为TCP,则type可以是TCP、HTTP、HTTPS。\n- 若pool的protocol为IP,则type可以是TCP、HTTP、HTTPS。\n- 若pool的protocol为HTTP,则type可以是TCP、HTTP、HTTPS、TLS、GRPC。\n- 若pool的protocol为HTTPS,则type可以是TCP、HTTP、HTTPS、TLS、GRPC。\n- 若pool的protocol为GRPC,则type可以是TCP、HTTP、HTTPS、TLS、GRPC。\n\n- 若pool的protocol为TLS,则type可以是TCP、HTTP、HTTPS、TLS、GRPC。\n\n\n**取值范围**:TCP、UDP_CONNECT、HTTP、HTTPS、TLS、GRPC。\n\n**默认取值**:不涉及","type":"string"},"url_path":{"default":"/","description":"**参数解释**:健康检查请求的请求路径。以\"/\"开头,默认为\"/\"。\n\n**约束限制**:当type为HTTP/HTTPS时生效。\n\n**取值范围**:支持使用字母、数字和短划线(-)、正斜线(/)、半角句号(.)、百分号(%)、半角问号(?)、井号(#)和and(&)以及扩展字符集_;~!()*[]@$^:',+\n\n**默认取值**:不涉及","maxLength":80,"minLength":1,"pattern":"^(/([a-zA-Z0-9-._~!$\\[\\]^%?#&amp;'()*+,;=:@]|(%[a-fA-F0-9]{2}))*)+$","type":"string"}},"required":["delay","max_retries","pool_id","timeout","type"],"type":"object"},"CreateHealthMonitorRequestBody":{"description":"This is a auto create Body Object","properties":{"healthmonitor":{"$ref":"#/definitions/CreateHealthMonitorOption","description":"**参数解释**:创建健康检查请求参数。\n\n**约束限制**:不涉及"}},"required":["healthmonitor"],"type":"object"},"CreateHealthMonitorResponseBody":{"description":"This is a auto create Response Object","properties":{"healthmonitor":{"$ref":"#/definitions/HealthMonitor","description":"**参数解释**:健康检查对象。\n\n**约束限制**:不涉及"},"request_id":{"description":"**参数解释**:请求ID。\n\n**取值范围**:由数字、小写字母和中划线(-)组成的字符串,自动生成。","type":"string"}},"required":["healthmonitor","request_id"]},"HealthMonitor":{"properties":{"admin_state_up":{"description":"健康检查的管理状态。\n\n**取值范围**:\n- true:表示开启健康检查。\n- false表示关闭健康检查。","type":"boolean"},"created_at":{"description":"**参数解释**:创建时间。\n\n**取值范围**:yyyy-MM-dd'T'HH:mm:ss'Z',UTC时区。\n\n注意:独享型实例的历史数据以及共享型实例下的资源,不返回该字段。","type":"string"},"delay":{"description":"**参数解释**:健康检查间隔。\n\n**取值范围**:1-50,单位:秒。","format":"int32","maximum":50,"minimum":1,"type":"integer"},"domain_name":{"description":"**参数解释**:发送健康检查请求的域名。\n\n**取值范围**:以数字或字母开头,只能包含数字、字母、’-’、’.’。","type":"string"},"expected_codes":{"description":"**参数解释**:期望响应状态码。\n\n**取值范围**:\n- 单值:单个返回码,例如200。\n- 列表:多个特定返回码,例如200,202。\n- 区间:一个返回码区间,例如200-204。","type":"string"},"http_method":{"description":"**参数解释**:HTTP请求方法。\n\n**取值范围**:GET、HEAD、POST","type":"string"},"id":{"description":"**参数解释**:健康检查ID。\n\n**取值范围**:不涉及","type":"string"},"max_retries":{"description":"**参数解释**:健康检查连续成功多少次后,将后端服务器的健康检查状态由OFFLINE判定为ONLINE。\n\n**取值范围**:1-10","format":"int32","maximum":10,"minimum":1,"type":"integer","x-huawei-extraAnnotation":""},"max_retries_down":{"description":"**参数解释**:健康检查连续失败多少次后,将后端服务器的健康检查状态由ONLINE判定为OFFLINE。\n\n**取值范围**:1-10","format":"int32","maximum":10,"minimum":1,"type":"integer","x-huawei-extraAnnotation":""},"monitor_port":{"description":"**参数解释**:健康检查端口号。\n\n**取值范围**:1-65535和null,传null表示使用后端服务器端口号。","format":"int32","maximum":65535,"minimum":1,"type":"integer"},"name":{"description":"**参数解释**:健康检查名称。\n\n**取值范围**:不涉及","type":"string"},"pools":{"description":"**参数解释**:健康检查所在的后端服务器组ID列表。实际只会有一个后端服务器组ID。\n\n**取值范围**:不涉及","items":{"$ref":"#/definitions/PoolRef"},"type":"array"},"project_id":{"description":"**参数解释**:健康检查所在的项目ID。\n\n**取值范围**:不涉及","type":"string"},"timeout":{"description":"**参数解释**:一次健康检查请求的超时时间。\n\n**取值范围**:不涉及","format":"int32","maximum":50,"minimum":1,"type":"integer"},"type":{"description":"**参数解释**: 健康检查请求协议。\n\n**取值范围**:TCP、UDP_CONNECT、HTTP、HTTPS、TLS、GRPC。","type":"string"},"updated_at":{"description":"**参数解释**: 更新时间。\n\n**取值范围**:格式:yyyy-MM-dd'T'HH:mm:ss'Z',UTC时区。\n\n注意:独享型实例的历史数据以及共享型实例下的资源,不返回该字段。","type":"string"},"url_path":{"description":"**参数解释**:健康检查请求的请求路径。以\"/\"开头,默认为\"/\"。\n\n**取值范围**:支持使用字母、数字和短划线(-)、正斜线(/)、半角句号(.)、百分号(%)、半角问号(?)、井号(#)和and(&)以及扩展字符集_;~!()*[]@$^:',+","type":"string"}},"required":["admin_state_up","delay","domain_name","expected_codes","http_method","id","max_retries","max_retries_down","monitor_port","name","pools","project_id","timeout","type","url_path"],"type":"object"},"PoolRef":{"description":"**参数解释**:关联的后端服务器组。","properties":{"id":{"description":"**参数解释**:后端服务器组ID。\n\n**取值范围**:不涉及","type":"string","x-huawei-extraAnnotation":""}},"required":["id"]}},"description":null,"group_id":"dbd0be272eaa427280cd04f618f990db","host":"elb.cn-north-4.myhuaweicloud.com","id":"77308da6b7f14e358cd7c44d80bfb0f4","info_version":"v3","method":"post","name":"CreateHealthMonitor","parameters":{},"paths":{"/v3/{project_id}/elb/healthmonitors":{"post":{"deprecated":false,"description":"创建健康检查。","operationId":"CreateHealthMonitor","parameters":[{"description":"This is a auto create Body Object","in":"body","name":"CreateHealthMonitorRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateHealthMonitorRequestBody"}},{"description":"**参数解释**:IAM鉴权Token。\n\n**约束限制**:不涉及\n\n**取值范围**:不涉及\n\n**默认取值**:不涉及","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":1},{"description":"**参数解释**:项目ID。获取方式请参见[获取项目ID](elb_fl_0008.xml)。\n\n**约束限制**:不涉及\n\n**取值范围**:长度为32个字符,由小写字母和数字组成。\n\n**默认取值**:不涉及","in":"path","name":"project_id","required":true,"type":"string","x-order":2}],"responses":{"201":{"description":"POST操作正常返回。","examples":{"application/json":{"healthmonitor":{"admin_state_up":true,"created_at":"2024-08-08T09:00:34Z","delay":1,"domain_name":null,"expected_codes":"200","http_method":"HEAD","id":"00b42a6a-0a16-47af-be4e-dc821fc316a3","max_retries":1,"max_retries_down":1,"monitor_port":null,"name":"elbv3_l2_2024_08_08_16_55_06","pools":[{"id":"c73600be-e3af-4d9f-bec2-f7c4ccf84b33"}],"project_id":"0c1503d710984bad92306faea3654dfd","timeout":1,"type":"HTTP","updated_at":"2024-08-08T09:00:34Z","url_path":"/"},"request_id":"0e837340-f1bd-4037-8f61-9923d0f0b19e"}},"schema":{"$ref":"#/definitions/CreateHealthMonitorResponseBody"}}},"summary":"创建健康检查","tags":["健康检查"],"x-api-type":"open-api","x-apiexplorer-hide":"false","x-constraint":"1.安全组需放通网段100.125.0.0/16流量。\n2.UDP的检查健康只能使用在UDP的后端服务器组上。","x-first-open-time":"2019-04-30","x-hybridcloud":"","x-is-registered":"Y","x-name":"创建健康检查","x-open-region-cloud":"hc,hk,hws_eu,otc,ocb,tlf,ctc,hcso,ct,sbc,g42,tm,cmcc,hk_g42,hcso_dt,mix,hk_sbc,hws_ocb,hk_vdf,srg,fcs,fcs_dt,dt","x-order":1,"x-publishpath":"","x-request-examples-1":{"healthmonitor":{"delay":1,"max_retries":3,"name":"My Healthmonitor","pool_id":"488acc50-6bcf-423d-8f0a-0f4184f5b8a0","timeout":30,"type":"HTTP"}},"x-request-examples-2":{"healthmonitor":{"delay":1,"max_retries":3,"monitor_port":80,"name":"My Healthmonitor","pool_id":"488acc50-6bcf-423d-8f0a-0f4184f5b8a0","timeout":30,"type":"HTTP"}},"x-request-examples-description-1":"创建健康检查,并指定检查协议为HTTP协议","x-request-examples-description-2":"创建IP协议的pool的健康检查","x-request-examples-tags-2":"hws_eu","x-request-examples-text-1":{"healthmonitor":{"delay":1,"max_retries":3,"name":"My Healthmonitor","pool_id":"488acc50-6bcf-423d-8f0a-0f4184f5b8a0","timeout":30,"type":"HTTP"}},"x-request-examples-text-2":{"healthmonitor":{"delay":1,"max_retries":3,"monitor_port":80,"name":"My Healthmonitor","pool_id":"488acc50-6bcf-423d-8f0a-0f4184f5b8a0","timeout":30,"type":"HTTP"}},"x-request-examples-url-1":"POST https://{ELB_Endpoint}/v3/99a3fff0d03c428eac3678da6a7d0f24/elb/healthmonitors","x-request-examples-url-2":"POST https://{ELB_Endpoint}/v3/99a3fff0d03c428eac3678da6a7d0f24/elb/healthmonitors","x-scope":"Commercial","x-source":"SelfDeveloped","x-support-sdk":"Y","x-version":"v3"}}},"product_short":"ELB","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建健康检查","tags":"健康检查","uri":null,"version":"2.0"}