{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"AutoscalingRef":{"description":"弹性扩缩容配置信息。负载均衡器配置并开启弹性扩缩容后,可根据负载情况自动调整负载均衡器的规格。\n\n使用说明:\n- 仅当租户白名单放开后该字段才有效\n- 开启弹性扩缩容后,l4_flavor_id和l7_flavor_id表示该LB实例弹性规格的上限。\n\n\n\n该字段已经废弃,但仍然保留兼容性支持,建议不要使用该字段。如果传入该字段,创建的弹性实例将会有保底规格并产生对应保底规格的费用。","properties":{"enable":{"description":"当前负载均衡器是否开启弹性扩缩容。\n\n取值:\n- true:开启。\n- false:不开启,默认值。","type":"boolean"},"min_l7_flavor_id":{"description":"弹性扩缩容的最小七层规格ID(规格类型L7_elastic),有七层监听器时,该字段不能为空。\n\n该字段已经废弃,但仍然保留兼容性支持,建议不要使用该字段。如果传入该字段,创建的弹性实例将会有保底规格并产生对应保底规格的费用。","maxLength":36,"minLength":1,"type":"string"}},"required":["enable"]},"BandwidthRef":{"description":"带宽对象ID,仅在创建或更新公网IPv6负载均衡器时有效。若选择创建新EIP并指定共享带宽时,此EIP会被分进共享带宽里面。","properties":{"id":{"description":"共享带宽的id","type":"string","x-admin":"False"}},"required":["id"]},"BatchRemoveAvailableZonesRequestBody":{"description":"移除负载均衡器可用区请求body。","properties":{"availability_zone_list":{"description":"移除的可用区列表,不能为空。","example":["br-iaas-odin1b"],"items":{"type":"string"},"type":"array"}},"required":["availability_zone_list"],"type":"object"},"BatchRemoveAvailableZonesResponseBody":{"description":"This is a auto create Response Object","properties":{"loadbalancer":{"$ref":"#/definitions/LoadBalancer","description":"负载均衡器对象。"},"request_id":{"description":"请求ID。\n\n注:自动生成 。","maxLength":36,"minLength":0,"type":"string"}},"required":["request_id"],"type":"object"},"EipInfo":{"description":"弹性ip,同publicips","properties":{"eip_address":{"description":"eip_address","type":"string"},"eip_id":{"description":"eip_id","type":"string"},"ip_version":{"description":"IP版本号。\n\n取值:4表示IPv4,6表示IPv6。","format":"int32","type":"integer"}}},"GlobalEipInfo":{"properties":{"global_eip_address":{"description":"global eip的ip地址","type":"string"},"global_eip_id":{"description":"global eip的id","type":"string"},"ip_version":{"description":"IP版本信息。 取值范围:4和6 4:IPv4 6:IPv6","format":"int32","type":"integer"}}},"ListenerRef":{"description":"监听器","properties":{"id":{"description":"监听器ID。","type":"string"}},"required":["id"]},"LoadBalancer":{"description":"负载均衡器的详细信息。","properties":{"admin_state_up":{"description":"负载均衡器的管理状态。取值:false停用,true启用。","type":"boolean"},"autoscaling":{"$ref":"#/definitions/AutoscalingRef"},"availability_zone_list":{"description":"负载均衡器所在的可用区列表。","items":{"type":"string"},"type":"array"},"billing_info":{"description":"资源账单信息。\n\n取值:\n- 空:按需计费。","maxLength":1024,"minLength":1,"type":"string"},"charge_mode":{"description":"收费模式。取值:\n- flavor:按规格计费\n- lcu:按使用量计费","type":"string"},"created_at":{"description":"负载均衡器的创建时间。格式:yyyy-MM-dd'T'HH:mm:ss'Z'","type":"string"},"deletion_protection_enable":{"description":"是否开启删除保护。\n\n取值:\n- false:不开启。\n- true:开启。\n>退场时需要先关闭所有资源的删除保护开关。\n\n仅当前局点启用删除保护特性后才会返回该字段。","type":"boolean"},"description":{"description":"负载均衡器描述信息。","maxLength":255,"minLength":1,"type":"string"},"eips":{"description":"负载均衡器绑定的EIP。只支持绑定一个EIP。\n\n注:该字段与publicips一致。","items":{"$ref":"#/definitions/EipInfo"},"type":"array"},"elb_virsubnet_ids":{"description":"下联面子网的网络ID列表。","items":{"type":"string"},"type":"array"},"elb_virsubnet_type":{"description":"下联面子网类型\n- ipv4:ipv4\n- dualstack:双栈","enum":["ipv4","dualstack"],"type":"string"},"enterprise_project_id":{"description":"企业项目ID。创建时不传则返回\"0\",表示资源属于default企业项目。\n\n注:\"0\"并不是真实存在的企业项目ID,在创建、更新和查询时不能作为请求参数传入。","type":"string"},"frozen_scene":{"description":"负载均衡器的冻结场景。\n若负载均衡器有多个冻结场景,用逗号分隔。\n\n取值:\n- POLICE:公安冻结场景。\n- ILLEGAL:违规冻结场景。\n- VERIFY:客户未实名认证冻结场景。\n- PARTNER:合作伙伴冻结(合作伙伴冻结子客户资源)。\n- AREAR:欠费冻结场景。","type":"string"},"global_eips":{"description":"负载均衡器绑定的global eip。只支持绑定一个globaleip。","items":{"$ref":"#/definitions/GlobalEipInfo"},"type":"array"},"guaranteed":{"description":"是否独享型LB。\n\n取值:\n- false:共享型。\n- true:独享型。","type":"boolean"},"id":{"description":"负载均衡器ID。","type":"string"},"ip_target_enable":{"description":"是否启用跨VPC后端转发。\n\n开启跨VPC后端转发后,后端服务器组不仅支持添加云上VPC内的服务器,还支持添加其他VPC、其他公有云、云下数据中心的服务器。\n\n使用共享VPC的实例使用此特性时,需确保共享资源所有者已开通VPC对等连接,否则通信异常。\n仅独享型负载均衡器支持该特性。\n\n\n取值:\n- true:开启。\n- false:不开启。\n\n使用说明:\n- 开启不能关闭。","type":"boolean"},"ipv6_bandwidth":{"$ref":"#/definitions/BandwidthRef"},"ipv6_vip_address":{"description":"双栈类型负载均衡器的IPv6地址。","type":"string"},"ipv6_vip_port_id":{"description":"双栈类型负载均衡器的IPv6对应的port ID。","type":"string"},"ipv6_vip_virsubnet_id":{"description":"双栈类型负载均衡器所在子网的IPv6网络ID。","type":"string"},"l4_flavor_id":{"description":"四层Flavor ID。\n\n对于弹性扩缩容实例,表示上限规格。\n\n当传入的规格类型为L4,表示该实例为固定规格实例,按规格计费;\n当传入的规格类型为L4_elastic_max,表示该实例为弹性实例,按LCU计费","maxLength":255,"minLength":1,"type":"string"},"l4_scale_flavor_id":{"description":"四层弹性Flavor ID。\n\n不支持该字段,请勿使用。","maxLength":255,"minLength":1,"type":"string"},"l7_flavor_id":{"description":"七层Flavor ID。\n对于弹性扩缩容实例,表示上限规格ID。\n\n当传入的规格类型为L7,表示该实例为固定规格实例,按规格计费;\n当传入的规格类型为L7_elastic_max,表示该实例为弹性实例,按LCU计费","maxLength":255,"minLength":1,"type":"string"},"l7_scale_flavor_id":{"description":"七层弹性Flavor ID。\n\n不支持该字段,请勿使用。","maxLength":255,"minLength":1,"type":"string"},"listeners":{"description":"负载均衡器关联的监听器的ID列表。","items":{"$ref":"#/definitions/ListenerRef"},"type":"array"},"log_group_id":{"description":"LB所绑定的logtank对应的group id","type":"string"},"log_topic_id":{"description":"LB所绑定的logtank对应的topic id","type":"string"},"name":{"description":"负载均衡器的名称。","type":"string"},"operating_status":{"description":"负载均衡器的操作状态。\n\n取值:\n- ONLINE:在线。","type":"string"},"pools":{"description":"负载均衡器直接关联的后端云服务器组的ID列表。","items":{"$ref":"#/definitions/PoolRef"},"type":"array"},"project_id":{"description":"负载均衡器所属的项目ID。","type":"string"},"protection_reason":{"description":"设置保护的原因\n>仅当protection_status为consoleProtection时有效。","maxLength":255,"minLength":0,"type":"string","x-open-region-cloud":"hc,hk"},"protection_status":{"description":"修改保护状态, 取值:\n- nonProtection: 不保护,默认值为nonProtection\n- consoleProtection: 控制台修改保护","enum":["nonProtection","consoleProtection"],"type":"string","x-open-region-cloud":"hc,hk"},"provider":{"description":"负载均衡器的生产者名称。固定为vlb。","type":"string"},"provisioning_status":{"description":"负载均衡器的配置状态。\n\n取值:\n- ACTIVE:使用中。\n- PENDING_DELETE:删除中。","type":"string"},"public_border_group":{"description":"LB所属AZ组","type":"string"},"publicips":{"description":"负载均衡器绑定的公网IP。只支持绑定一个公网IP。\n\n注:该字段与eips一致。","items":{"$ref":"#/definitions/PublicIpInfo"},"type":"array"},"tags":{"description":"负载均衡的标签列表。","items":{"$ref":"#/definitions/Tag"},"type":"array"},"updated_at":{"description":"负载均衡器的更新时间。格式:yyyy-MM-dd'T'HH:mm:ss'Z'","type":"string"},"vip_address":{"description":"负载均衡器的IPv4虚拟IP地址。","type":"string"},"vip_port_id":{"description":"负载均衡器的IPv4对应的port ID。","type":"string"},"vip_subnet_cidr_id":{"description":"负载均衡器所在子网的IPv4子网ID。","type":"string"},"vpc_id":{"description":"负载均衡器所在VPC ID。","type":"string"},"waf_failure_action":{"description":"WAF故障时的流量处理策略。discard:丢弃,forward: 转发到后端(默认)\n\n使用说明:只有绑定了waf的LB实例,该字段才会生效。","type":"string"}},"required":["id","description","provisioning_status","admin_state_up","provider","pools","listeners","operating_status","name","project_id","vip_subnet_cidr_id","vip_address","vip_port_id","tags","created_at","updated_at","guaranteed","vpc_id","eips","ipv6_vip_address","ipv6_vip_virsubnet_id","ipv6_vip_port_id","availability_zone_list","enterprise_project_id","billing_info","l4_flavor_id","l4_scale_flavor_id","l7_flavor_id","l7_scale_flavor_id","publicips","global_eips","elb_virsubnet_ids","elb_virsubnet_type","ip_target_enable","frozen_scene","ipv6_bandwidth"],"type":"object"},"PoolRef":{"description":"","properties":{"id":{"description":"后端服务器组ID。","type":"string","x-huawei-extraAnnotation":""}},"required":["id"]},"PublicIpInfo":{"description":"弹性公网EIP信息","properties":{"ip_version":{"description":"IP版本信息。 取值范围:4和6 4:IPv4 6:IPv6","format":"int32","type":"integer"},"publicip_address":{"description":"IP地址","type":"string"},"publicip_id":{"description":"弹性公网ip配置id","type":"string"}},"required":["ip_version","publicip_address","publicip_id"]},"Tag":{"description":"标签","properties":{"key":{"description":"标签键","maxLength":36,"minLength":1,"type":"string"},"value":{"description":"标签值","maxLength":43,"minLength":0,"type":"string"}}}},"description":null,"group_id":"dbd0be272eaa427280cd04f618f990db","host":"elb.cn-north-4.myhuaweicloud.com","id":"4baed2ef6060476fb89304a6fb1646e4","info_version":"v3","method":"post","name":"BatchRemoveAvailableZones","parameters":{},"paths":{"/v3/{project_id}/elb/loadbalancers/{loadbalancer_id}/availability-zone/batch-remove":{"post":{"description":"移除负载均衡器的可用区。\n> 移除可用区可能导致已有链接断开,请谨慎操作。","operationId":"BatchRemoveAvailableZones","parameters":[{"description":"This is a auto create Body Object","in":"body","name":"BatchRemoveAvailableZonesRequestBody","required":true,"schema":{"$ref":"#/definitions/BatchRemoveAvailableZonesRequestBody"}},{"description":"IAM鉴权Token。","in":"header","maxLength":4096,"minLength":0,"name":"X-Auth-Token","required":false,"type":"string","x-order":1},{"description":"负载均衡器的项目ID。","in":"path","maxLength":36,"minLength":0,"name":"project_id","required":true,"type":"string","x-order":2},{"description":"负载均衡器ID。","in":"path","name":"loadbalancer_id","required":true,"type":"string"}],"responses":{"200":{"description":"POST操作正常返回。","examples":{"application/json":{"loadbalancer":{"admin_state_up":true,"autoscaling":{"enable":false,"min_l7_flavor_id":""},"availability_zone_list":["az1"],"billing_info":null,"created_at":"2021-07-26T02:46:31Z","description":"","eips":[{"eip_address":"97.97.2.171","eip_id":"0c07e04d-e2f9-41ad-b934-f58a65b6734d","ip_version":4}],"elb_virsubnet_ids":["7f817f9c-8731-4002-9e47-18cb8d431787"],"elb_virsubnet_type":"dualstack","enterprise_project_id":"0","frozen_scene":null,"guaranteed":true,"id":"9b663cd9-61e4-483d-b91f-92fc337fecec","ip_target_enable":false,"ipv6_vip_address":null,"ipv6_vip_port_id":null,"ipv6_vip_virsubnet_id":null,"l4_flavor_id":"636ba721-935a-4ca5-a685-8076ce0e4148","l4_scale_flavor_id":null,"l7_flavor_id":null,"l7_scale_flavor_id":null,"listeners":[],"name":"elb-reset","operating_status":"ONLINE","pools":[],"project_id":"060576782980d5762f9ec014dd2f1148","protection_reason":"","protection_status":"nonProtection","provider":"vlb","provisioning_status":"ACTIVE","public_border_group":"center","publicips":[{"ip_version":4,"publicip_address":"97.97.2.171","publicip_id":"0c07e04d-e2f9-41ad-b934-f58a65b6734d"}],"tags":[],"updated_at":"2021-07-26T02:46:59Z","vip_address":null,"vip_port_id":null,"vip_subnet_cidr_id":null,"vpc_id":"59cb11ef-f185-49ba-92af-0539e8ff9734"},"request_id":"6c63d0ac-7beb-451d-a3e0-a066beaea316"},"application/xml":""},"schema":{"$ref":"#/definitions/BatchRemoveAvailableZonesResponseBody"}}},"summary":"移除负载均衡器可用区","tags":["负载均衡器"],"x-apiexplorer-hide":"false","x-constraint":"- 仅限独享型负载均衡器使用。\n- 不能移除该负载均衡器下的所有可用区。","x-first-open-time":"2022-08-30","x-hybridcloud":"","x-is-registered":"Y","x-name":"移除负载均衡器可用区","x-open-region-cloud":"hc,hk","x-order":9,"x-publishpath":"","x-request-examples-1":{"availability_zone_list":["az2","az3"]},"x-request-examples-description-1":"移除负载均衡器的可用区","x-request-examples-text-1":{"availability_zone_list":["az2","az3"]},"x-request-examples-url-1":"POST https://{ELB_Endponit}/v3/060576782980d5762f9ec014dd2f1148/elb/loadbalancers/9b663cd9-61e4-483d-b91f-92fc337fecec/availability-zone/batch-remove","x-scope":"Commercial","x-source":"SelfDeveloped","x-support-sdk":"Y","x-version":"v3"}}},"product_short":"ELB","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"移除负载均衡器可用区","tags":"负载均衡器","uri":null,"version":"2.0"}