{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"BatchUpdatePoliciesPriorityRequestBody":{"description":"This is a auto create Body Object","properties":{"l7policies":{"description":"转发策略的结构体","items":{"$ref":"#/definitions/BatchUpdatePriorityRequestBody","description":""},"type":"array"}}},"BatchUpdatePriorityRequestBody":{"description":"批量更新转发策略优先级的请求参数。","properties":{"id":{"description":"待更新的l7policy的ID。","example":"xxx","maxLength":36,"minLength":1,"type":"string"},"priority":{"description":"转发策略的优先级。数字越小表示优先级越高,同一监听器下不允许重复。\n\n当监听器的高级转发策略功能(enhance_l7policy_enable)开启后才会生效,未开启传入该字段会报错。\n\n当action为REDIRECT_TO_LISTENER时,仅支持指定为0,优先级最高。\n\n当关联的listener没有开启enhance_l7policy_enable,按原有policy的排序逻辑,自动排序。\n各域名之间优先级独立,相同域名下,按path的compare_type排序,\n精确>前缀>正则,匹配类型相同时,path的长度越长优先级越高。\n若policy下只有域名rule,没有路径rule,默认path为前缀匹配/。\n\n当关联的listener开启了enhance_l7policy_enable,且不传该字段,\n则新创建的转发策略的优先级的值为:同一监听器下已有转发策略的优先级的最大值+1。\n因此,若当前已有转发策略的优先级的最大值是10000,新创建会因超出取值范围10000而失败。\n此时可通过传入指定priority,或调整原有policy的优先级来避免错误。\n若监听器下没有转发策略,则新建的转发策略的优先级为1。\n\n共享型负载均衡器下的转发策略不支持该字段。","format":"int32","maximum":10000,"minimum":1,"type":"integer"}},"required":["id","priority"]},"RequestId":{"description":"请求ID,自动生成。","properties":{"request_id":{"description":"请求ID。","type":"string"}}}},"description":null,"group_id":"dbd0be272eaa427280cd04f618f990db","host":"elb.cn-north-4.myhuaweicloud.com","id":"9a54324ce1fc483abb116a13717abe97","info_version":"v3","method":"post","name":"BatchUpdatePoliciesPriority","parameters":{},"paths":{"/v3/{project_id}/elb/l7policies/batch-update-priority":{"post":{"description":"批量更新转发策略的优先级。","operationId":"BatchUpdatePoliciesPriority","parameters":[{"description":"IAM鉴权Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":1},{"description":"This is a auto create Body Object","in":"body","name":"BatchUpdatePoliciesPriorityRequestBody","required":false,"schema":{"$ref":"#/definitions/BatchUpdatePoliciesPriorityRequestBody"}},{"description":"项目ID。","in":"path","name":"project_id","required":true,"type":"string","x-order":1}],"produces":["application/json"],"responses":{"202":{"description":"Created","examples":{"application/json":{"request_id":"e5c07525-1470-47b6-9b0c-567527a036aa"}},"schema":{"$ref":"#/definitions/RequestId"}}},"summary":"批量更新转发策略优先级","tags":["转发策略"],"x-apiexplorer-hide":"false","x-constraint":"该接口只用于更新action为REDIRECT_TO_POOL的独享型实例下的转发策略。","x-first-open-time":"2021-1-30","x-hybridcloud":"","x-is-registered":"Y","x-name":"批量更新转发策略优先级","x-open-region-cloud":"hc,hk,eu,ocb,ctc,hcso,g42,tm,cmcc,hk_g42,hws_ocb,fcs","x-order":6,"x-publishpath":"","x-request-examples-1":{"l7policies":[{"id":"1fe93e12-6e07-47a9-8f81-3346c015601d","priority":11}]},"x-request-examples-description-1":"批量更新转发策略优先级","x-request-examples-text-1":{"l7policies":[{"id":"1fe93e12-6e07-47a9-8f81-3346c015601d","priority":11}]},"x-request-examples-url-1":"POST https://{ELB_Endpoint}/v3/060576782980d5762f9ec014dd2f1148/elb/l7policies/batch-update-priority","x-scope":"Commercial","x-source":"","x-support-sdk":"Y","x-version":"v3"}}},"product_short":"ELB","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"批量更新转发策略优先级","tags":"转发策略","uri":null,"version":"2.0"}