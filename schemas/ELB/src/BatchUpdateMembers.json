{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"BatchUpdateMember":{"description":"批量更新后端服务器响应参数","properties":{"address":{"description":"后端服务器对应的IP地址。\n\n使用说明:\n- 若subnet_cidr_id为空,表示添加跨VPC后端,此时address必须为IPv4地址。\n- 若subnet_cidr_id不为空,表示是一个关联到ECS的后端服务器。该IP地址可以是私网IPv4或IPv6。但必须在subnet_cidr_id对应的子网网段中。且只能指定为关联ECS的主网卡内网IP。","type":"string"},"admin_state_up":{"description":"后端云服务器的管理状态。取值:true、false。\n\n虽然创建、更新请求支持该字段,但实际取值决定于后端云服务器对应的弹性云服务器是否存在。若存在,该值为true,否则,该值为false。","type":"boolean"},"created_at":{"description":"创建时间。格式:yyyy-MM-dd'T'HH:mm:ss'Z',UTC时区。\n\n注意:独享型实例的历史数据以及共享型实例下的资源,不返回该字段。","type":"string"},"id":{"description":"后端服务器ID。\n>说明:\n此处并非ECS服务器的ID,而是ELB为绑定的后端服务器自动生成的member ID。","type":"string"},"instance_id":{"description":"member关联的实例ID,空表示跨VPC场景的member。","type":"string"},"member_type":{"description":"后端云服务器的类型。取值:\n- ip:跨VPC的member。\n- instance:关联到ECS的member。","type":"string"},"name":{"description":"后端服务器名称。","type":"string"},"operating_status":{"description":"后端云服务器的健康状态。取值:\n- ONLINE:后端云服务器正常。\n- NO_MONITOR:后端云服务器所在的服务器组没有健康检查器。\n- OFFLINE:后端云服务器关联的ECS服务器不存在或已关机。","type":"string"},"port_id":{"description":"IP地址对应的VPC port ID","type":"string"},"project_id":{"description":"后端服务器所在的项目ID。","type":"string"},"protocol_port":{"description":"后端服务器业务端口号。\n>在开启端口透传的pool下的member,该字段不支持更新","format":"int32","maximum":65535,"minimum":1,"type":"integer"},"status":{"description":"后端云服务器监听器粒度的的健康状态。\n若绑定的监听器在该字段中,则以该字段中监听器对应的operating_stauts为准。\n若绑定的监听器不在该字段中,则以外层的operating_status为准。","items":{"$ref":"#/definitions/MemberStatus"},"type":"array"},"subnet_cidr_id":{"description":"后端云服务器所在的子网,可以是IPv4或IPv6子网。若是IPv4子网,使用对应子网的子网ID(neutron_subnet_id);若是IPv6子网,使用对应子网的网络ID(neutron_network_id)。\n\nipv4子网的子网ID可以通过GET\nhttps://{VPC_Endpoint}/v1/{project_id}/subnets\n响应参数中的neutron_subnet_id得到\n\nipv6子网的网络ID可以通过GET\nhttps://{VPC_Endpoint}/v1/{project_id}/subnets\n响应参数中的neutron_network_id得到\n\n使用说明:\n- 该子网和关联的负载均衡器的子网必须在同一VPC下。\n- 若所属LB的跨VPC后端转发已开启(ip_target_enable=true),则该字段可以不传,表示添加跨VPC的后端服务器。\n此时address必须为IPv4地址,所在的pool的协议必须为TCP/HTTP/HTTPS。\n- 若所属LB未开启跨VPC后端转发,该参数必填。","type":"string"},"updated_at":{"description":"更新时间。格式:yyyy-MM-dd'T'HH:mm:ss'Z',UTC时区。\n\n注意:独享型实例的历史数据以及共享型实例下的资源,不返回该字段。","type":"string"},"weight":{"description":"后端云服务器的权重,请求将根据pool配置的负载均衡算法和后端云服务器的权重进行负载分发。权重值越大,分发的请求越多。权重为0的后端不再接受新的请求。\n\n取值:0-100,默认1。\n\n使用说明:\n- 若所在pool的lb_algorithm取值为SOURCE_IP,该字段无效。","format":"int32","maximum":100,"minimum":0,"type":"integer"}},"required":["id","name","project_id","admin_state_up","protocol_port","weight","address","operating_status","port_id"],"type":"object"},"BatchUpdateMembersOption":{"description":"批量添加member请求参数。","properties":{"admin_state_up":{"description":"后端云服务器的管理状态。取值:true、false。\n\n虽然创建、更新请求支持该字段,但实际取值决定于后端云服务器对应的弹性云服务器是否存在。若存在,该值为true,否则,该值为false。\n\n请勿传入该字段。","type":"boolean"},"id":{"description":"后端服务器ID。\n>此处并非ECS服务器的ID,而是ELB为绑定的后端服务器自动生成的member ID。","type":"string"},"name":{"description":"后端服务器名称。","maxLength":255,"minLength":0,"type":"string"},"protocol_port":{"description":"后端服务器端口号。","format":"int32","maximum":65535,"minimum":1,"type":"integer"},"weight":{"description":"后端云服务器的权重,请求按权重在同一后端云服务器组下的后端云服务器间分发。权重为0的后端不再接受新的请求。当后端云服务器所在的后端云服务器组的lb_algorithm的取值为SOURCE_IP时,该字段无效。","format":"int32","maximum":100,"minimum":0,"type":"integer"}},"required":["id"]},"BatchUpdateMembersRequestBody":{"description":"This is a auto create Body Object","properties":{"members":{"description":"后端服务器对象。","items":{"$ref":"#/definitions/BatchUpdateMembersOption"},"type":"array"}},"required":["members"]},"BatchUpdateMembersResponseBody":{"description":"This is a auto create Response Object","properties":{"members":{"description":"后端服务器对象列表。","items":{"$ref":"#/definitions/BatchUpdateMember"},"type":"array"},"request_id":{"description":"请求ID。\n\n注:自动生成 。","type":"string"}},"required":["request_id","members"]},"MemberStatus":{"description":"后端服务器操作状态。","properties":{"listener_id":{"description":"监听器ID","example":"d65d12f4-2851-4be6-a1e3-e8354b16095d","type":"string"},"operating_status":{"description":"后端云服务器的健康状态。\n\n取值:\n- ONLINE:后端云服务器正常。\n- NO_MONITOR:后端云服务器所在的服务器组没有健康检查器。\n- OFFLINE:后端云服务器关联的ECS服务器不存在或已关机。","example":"OFFLINE","type":"string"}},"required":["listener_id","operating_status"]}},"description":null,"group_id":"dbd0be272eaa427280cd04f618f990db","host":"elb.cn-north-4.myhuaweicloud.com","id":"8991f278fee4483a82e7a344c651e5da","info_version":"v3","method":"post","name":"BatchUpdateMembers","parameters":{},"paths":{"/v3/{project_id}/elb/pools/{pool_id}/members/batch-update":{"post":{"description":"在指定pool下批量更新后端服务器。一次最多添加200个。","operationId":"BatchUpdateMembers","parameters":[{"description":"This is a auto create Body Object","in":"body","name":"BatchUpdateMembersRequestBody","required":true,"schema":{"$ref":"#/definitions/BatchUpdateMembersRequestBody"}},{"description":"参数解释: IAM鉴权Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":1},{"description":"后端服务器组ID。","in":"path","name":"pool_id","required":true,"type":"string","x-order":3},{"description":"项目ID。","in":"path","name":"project_id","required":true,"type":"string","x-order":2}],"responses":{"200":{"description":"操作正常返回。","examples":{"application/json":{"members":[{"address":"192.168.0.48","admin_state_up":false,"id":"9346ad28-6971-456a-9711-2917d023930a","name":"batch_member1","operating_status":"OFFLINE","project_id":"04dd36f964000fe22f9ac00bc85b1a1d","protocol_port":8080,"subnet_cidr_id":"61da8098-954b-4809-bc5a-b99ccef8a398","weight":1},{"address":"192.168.0.49","admin_state_up":false,"id":"94548801-1023-452f-bcf7-6174e77cb772","name":"batch_member2","operating_status":"OFFLINE","project_id":"04dd36f964000fe22f9ac00bc85b1a1d","protocol_port":8080,"subnet_cidr_id":"61da8098-954b-4809-bc5a-b99ccef8a398","weight":1}],"request_id":"b5d8bb34d28f3e47b352c14419e8fe04"}},"schema":{"$ref":"#/definitions/BatchUpdateMembersResponseBody"}}},"summary":"批量更新后端服务器","tags":["后端服务器"],"x-apiexplorer-hide":"false","x-constraint":"","x-first-open-time":"","x-hybridcloud":"","x-is-registered":"Y","x-name":"批量更新后端服务器","x-open-region-cloud":"hc,hk","x-order":8,"x-publishpath":"","x-request-examples-1":{"members":[{"admin_state_up":true,"id":"61da8098-954b-4809-bc5a-b99ccef8a398","name":"batch_update_member1","protocol_port":8080,"weight":1},{"admin_state_up":true,"id":"61da8098-954b-4809-bc5a-b99ccef8a398","name":"batch_update_member2","protocol_port":8081,"weight":2}]},"x-request-examples-description-1":"批量更新后端服务器。","x-request-examples-text-1":{"members":[{"admin_state_up":true,"id":"61da8098-954b-4809-bc5a-b99ccef8a398","name":"batch_update_member1","protocol_port":8080,"weight":1},{"admin_state_up":true,"id":"61da8098-954b-4809-bc5a-b99ccef8a398","name":"batch_update_member2","protocol_port":8081,"weight":2}]},"x-request-examples-url-1":"POST https://{ELB_Endpoint}/v3/04dd36f964000fe22f9ac00bc85b1a1d/elb/pools/04a9bc65-b75b-478d-b4d6-e693bb61dd35/members/batch-update","x-scope":"Commercial","x-source":"SelfDeveloped","x-support-sdk":"Y","x-version":"v3"}}},"product_short":"ELB","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"批量更新后端服务器","tags":"后端服务器","uri":null,"version":"2.0"}