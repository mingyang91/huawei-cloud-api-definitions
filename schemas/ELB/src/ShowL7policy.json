{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CorsConfig":{"description":"**参数解释**:转发策略跨域的配置。","properties":{"allow_credentials":{"description":"**参数解释**:是否允许携带凭证信息。\n\n**取值范围**:\n- true:是。\n- false:否。","type":"boolean"},"allow_headers":{"description":"**参数解释**:允许跨域的 Header 列表。\n\n**取值范围**:不涉及","items":{"type":"string"},"type":"array"},"allow_methods":{"description":"**参数解释**:选择跨域访问时允许的 HTTP 方法。\n\n**取值范围**:不涉及","items":{"type":"string"},"type":"array"},"allow_origin":{"description":"**参数解释**:允许的访问来源列表。支持只配置一个元素*,或配置一个或多个值。\n\n**约束限制**:\n- 单个值必须以http://或者https://开头,后边加一个正确的域名或一级泛域名。(例:http://*.test.abc.example.com)\n- 单个值可以不加端口,也可以指定端口,端口范围:1~65535。","items":{"type":"string"},"type":"array"},"expose_headers":{"description":"**参数解释**:允许暴露的Header列表。\n\n**取值范围**:不涉及","items":{"type":"string"},"type":"array"},"max_age":{"description":"**参数解释**:预检请求在浏览器的最大缓存时间,单位:秒。\n\n**取值范围**:-1~172800","format":"int64","type":"integer"}},"type":"object"},"FixtedResponseConfig":{"description":"**参数解释**:固定返回页面的配置。","properties":{"content_type":{"description":"**参数解释**:返回body的格式。\n\n**取值范围**:\n- text/plain\n- text/css\n- text/html\n- application/javascript\n- application/json","enum":["text/plain","text/css","text/html","application/javascript","application/json"],"type":"string"},"insert_headers_config":{"$ref":"#/definitions/InsertHeadersConfig","description":"**参数解释**:要添加的请求头参数列表。","x-open-region-cloud":"hc,hk"},"message_body":{"description":"**参数解释**:返回消息内容。\n\n**取值范围**:不涉及","maxLength":1024,"minLength":0,"type":"string"},"remove_headers_config":{"$ref":"#/definitions/RemoveHeadersConfig","description":"**参数解释**:要移除的请求头参数列表。","x-open-region-cloud":"hc,hk"},"status_code":{"description":"**参数解释**:返回码。\n\n**取值范围**:200~299、400~499和500~599。","maxLength":16,"minLength":1,"type":"string"},"traffic_limit_config":{"$ref":"#/definitions/TrafficLimitConfig","description":"**参数解释**:转发策略限速的配置。","x-open-region-cloud":"hc,hk"}},"required":["status_code","content_type","message_body"],"type":"object"},"InsertHeaderConfig":{"properties":{"key":{"description":"**参数解释**:请求头参数名。\n\n**取值范围**:1-40个字符,字母a-z(不区分大小写)、数字,短划线-和下划线_。","type":"string"},"value":{"description":"**参数解释**:请求头参数的值。\n\n**取值范围**:1-128个字符,支持ascii码值32<=ch<=127范围内可打印字符,*和英文问号?。不能以空格开头或结尾。","type":"string"},"value_type":{"description":"**参数解释**:请求头参数类别。\n\n**取值范围**:USER_DEFINED,REFERENCE_HEADER,SYSTEM_DEFINED。","type":"string"}},"required":["key","value_type","value"],"type":"object"},"InsertHeadersConfig":{"description":"**参数解释**:要添加的请求头参数列表。\n\n**约束限制**:不涉及","properties":{"configs":{"description":"**参数解释**:要添加请求头参数列表。\n\n**约束限制**:不涉及","items":{"$ref":"#/definitions/InsertHeaderConfig"},"type":"array"}},"required":["configs"],"type":"object"},"L7Policy":{"properties":{"action":{"description":"**参数解释**:转发策略的转发动作。\n\n**取值范围**:\n- REDIRECT_TO_POOL:转发到后端服务器组;\n- REDIRECT_TO_LISTENER:重定向到监听器;\n- REDIRECT_TO_URL:重定向到URL;\n- FIXED_RESPONSE:返回固定响应体。","type":"string"},"admin_state_up":{"description":"**参数解释**:转发策略的管理状态。\n\n**取值范围**:只支持设置为true。","type":"boolean"},"created_at":{"description":"**参数解释**:创建时间。\n\n**取值范围**:格式:yyyy-MM-dd'T'HH:mm:ss'Z',UTC时区。\n\n注意:独享型实例的历史数据以及共享型实例下的资源,不返回该字段。","type":"string"},"description":{"description":"**参数解释**:转发策略描述信息。\n\n**取值范围**:不涉及","type":"string"},"enterprise_project_id":{"description":"**参数解释**:企业项目ID。\n\n**取值范围**:不涉及","type":"string"},"fixed_response_config":{"$ref":"#/definitions/FixtedResponseConfig","description":"**参数解释**:固定返回页面的配置。"},"id":{"description":"**参数解释**:转发策略ID。\n\n**取值范围**:不涉及","type":"string"},"listener_id":{"description":"**参数解释**:转发策略所属的监听器ID。\n\n**取值范围**:不涉及","type":"string"},"name":{"description":"**参数解释**:转发策略名称\n\n**取值范围**:不涉及","maxLength":255,"minLength":1,"type":"string"},"position":{"description":"**参数解释**:转发策略的优先级,不支持更新。\n\n不支持该字段,请勿使用。","format":"int32","maximum":100,"minimum":1,"type":"integer"},"priority":{"description":"**参数解释**:转发策略的优先级。数字越小表示优先级越高。\n\n**取值范围**:\n- 当action为REDIRECT_TO_LISTENER时,支持指定为0-10000。\n- 其它action取值,支持指定为1-10000。","format":"int32","type":"integer"},"project_id":{"description":"**参数解释**:转发策略所在的项目ID。\n\n**取值范围**:不涉及","type":"string"},"provisioning_status":{"description":"**参数解释**:转发策略的配置状态。\n\n**取值范围**:\n- ACTIVE: 默认值,表示正常。\n- ERROR: 表示当前策略与同一监听器下的其他策略存在相同的规则配置。","type":"string"},"redirect_listener_id":{"description":"**参数解释**:转发到的listener的ID。\n\n**取值范围**:不涉及","type":"string"},"redirect_pool_id":{"description":"**参数解释**:转发到pool的ID。\n\n**取值范围**:不涉及","type":"string"},"redirect_pools_config":{"description":"**参数解释**:转发策略服务器组的权重配置。当监听器的高级转发策略功能(enhance_l7policy_enable)开启后才会生效,未开启传入该字段会报错。","items":{"$ref":"#/definitions/RedirectPoolsConfig"},"type":"array"},"redirect_pools_extend_config":{"$ref":"#/definitions/RedirectPoolsExtendConfig","description":"**参数解释**:转发到的后端服务器组的配置。"},"redirect_pools_sticky_session_config":{"$ref":"#/definitions/RedirectPoolsStickySessionConfig","description":"**参数解释**:配置转发策略关联的服务器组之间会话保持。负载均衡器会根据客户端第一个请求生成一个cookie,后续所有包含这个cookie值的请求都会由同一个pool处理。"},"redirect_url":{"description":"**参数解释**:转发到的url。\n\n**取值范围**:必须满足格式: protocol://host:port/path?query。\n\n不支持该字段,请勿使用。","pattern":"(https?|ftp|file)://[-A-Za-z0-9+&amp;@#/%?=~_|!:,.;]+[-A-Za-z0-9+&amp;@#/%=~_|]","type":"string"},"redirect_url_config":{"$ref":"#/definitions/RedirectUrlConfig","description":"**参数解释**:转发到的url配置。"},"rules":{"description":"**参数解释**:转发策略关联的转发规则列表。","items":{"$ref":"#/definitions/RuleRef"},"type":"array"},"updated_at":{"description":"**参数解释**:更新时间。\n\n**取值范围**:格式:yyyy-MM-dd'T'HH:mm:ss'Z',UTC时区。\n\n注意:独享型实例的历史数据以及共享型实例下的资源,不返回该字段。","type":"string"}},"required":["action","admin_state_up","description","id","listener_id","name","position","project_id","provisioning_status","redirect_pool_id","redirect_listener_id","redirect_url","rules","redirect_url_config","fixed_response_config"],"type":"object"},"RedirectPoolsConfig":{"description":"转发策略服务器组的权重配置。当监听器的高级转发策略功能(enhance_l7policy_enable)开启后才会生效,未开启传入该字段会报错。\n\n共享型负载均衡器下的转发策略不支持该字段,传入会报错。","properties":{"pool_id":{"description":"**参数解释**:所在后端服务器组ID。\n\n**取值范围**:不涉及","type":"string"},"weight":{"description":"**参数解释**:转发策略服务器组的权重。请求将根据该权重进行负载分发到不同的服务器组。权重值越大,分发的请求越多。权重为0的后端不再接受新的请求。\n\n**取值范围**:0-100","format":"int32","maximum":100,"minimum":0,"type":"integer"}},"type":"object"},"RedirectPoolsExtendConfig":{"description":"**参数解释**:转发到的后端服务器组的配置。","properties":{"cors_config":{"$ref":"#/definitions/CorsConfig","description":"**参数解释**:转发策略跨域的配置。","x-open-region-cloud":"hc,hk"},"insert_headers_config":{"$ref":"#/definitions/InsertHeadersConfig","description":"**参数解释**:要添加的请求头参数列表。","x-open-region-cloud":"hc,hk"},"remove_headers_config":{"$ref":"#/definitions/RemoveHeadersConfig","description":"**参数解释**:要移除的请求头参数列表。","x-open-region-cloud":"hc,hk"},"rewrite_url_config":{"$ref":"#/definitions/RewriteUrlConfig","description":"**参数解释**:URL重定向配置。"},"rewrite_url_enable":{"description":"**参数解释**:是否开启url重定向。\n\n**取值范围**:true 开启,false 未开启。","type":"boolean"},"traffic_limit_config":{"$ref":"#/definitions/TrafficLimitConfig","description":"**参数解释**:转发策略限速的配置。","x-open-region-cloud":"hc,hk"},"traffic_mirror_config":{"$ref":"#/definitions/TrafficMirrorConfig","description":"**参数解释**:流量镜像的配置","x-open-region-cloud":"hc,hk"}},"type":"object"},"RedirectPoolsStickySessionConfig":{"description":"**参数解释**:配置转发策略关联的服务器组之间会话保持。负载均衡器会根据客户端第一个请求生成一个cookie,后续所有包含这个cookie值的请求都会由同一个pool处理。","properties":{"enable":{"default":false,"description":"**参数解释**:转发策略服务器组会话保持开启的开关。\n\n**默认取值**:false,表示关闭服务器组会话保持。","type":"boolean"},"timeout":{"description":"**参数解释**:会话保持的时间。\n\n**取值范围**:1-1440(分钟)","format":"int32","type":"integer"}},"type":"object"},"RedirectUrlConfig":{"description":"**参数解释**:转发到的url配置。","properties":{"host":{"default":"${host}","description":"**参数解释**:重定向的主机名。\n\n**取值范围**:只能包含英文字母、数字、“-”、“.”。且必须以字母、数字开头。","maxLength":128,"minLength":1,"type":"string"},"insert_headers_config":{"$ref":"#/definitions/InsertHeadersConfig","description":"**参数解释**:要添加的请求头参数列表。","x-open-region-cloud":"hc,hk"},"path":{"default":"${path}","description":"**参数解释**:重定向的路径。\n\n**取值范围**:支持英文字母、数字、_~';@^-%#&$.*+?,=!:|\\\\/()\\[\\]{},且必须以\"/\"开头。","maxLength":128,"minLength":1,"type":"string"},"port":{"default":"${port}","description":"**参数解释**:重定向到的端口。\n\n**取值范围**:不涉及","maxLength":16,"minLength":1,"type":"string"},"protocol":{"description":"**参数解释**:重定向的协议。\n\n**取值范围**:\n- HTTP\n- HTTPS\n- ${protocol},表示继承原值(即与被转发请求保持一致)。","enum":["HTTP","HTTPS","${protocol}"],"type":"string"},"query":{"default":"${query}","description":"**参数解释**:重定向的查询字符串。举例如下:\n将query设置为:${query}&name=my_name,则在转发符合条件的URL(如https://www.example.com:8080/elb?type=loadbalancer)时,将会重定向到https://www.example.com:8080/elb?type=loadbalancer&name=my_name。在例子中${query}表示type=loadbalancer。\n\n**取值范围**:只能包含英文字母、数字和特殊字符:!$&'()\\*+,-./:;=?@^_`。字母区分大小写。其中$1,$2会匹配请求url通配符星号(\\*)","example":"author=xxx","maxLength":128,"minLength":0,"type":"string"},"remove_headers_config":{"$ref":"#/definitions/RemoveHeadersConfig","description":"**参数解释**:要移除的请求头参数列表。","x-open-region-cloud":"hc,hk"},"status_code":{"description":"**参数解释**:重定向后的返回码。\n\n**取值范围**:\n- 301\n- 302\n- 303\n- 307\n- 308","enum":["301","302","303","307","308"],"maxLength":16,"minLength":1,"type":"string"}},"type":"object"},"RemoveHeaderConfig":{"properties":{"key":{"description":"**参数解释**:被移除的请求头的参数名。\n\n**取值范围**:1-40个字符,字母a-z(不区分大小写)、数字,短划线-和下划线_。","type":"string"}},"required":["key"],"type":"object"},"RemoveHeadersConfig":{"description":"**参数解释**:要移除的请求头参数列表。\n\n**约束限制**:不涉及","properties":{"configs":{"description":"**参数解释**:要移除的请求头参数列表。\n\n**约束限制**:不涉及","items":{"$ref":"#/definitions/RemoveHeaderConfig"},"type":"array"}},"required":["configs"],"type":"object"},"RewriteUrlConfig":{"description":"**参数解释**:URL重定向配置。\n\n**约束限制**:当action为REDIRECT_TO_POOL的时候生效。","properties":{"host":{"description":"**参数解释**:重定向的域名。\n\n**取值范围**:英文字母、数字、“-”、“.”,必须以字母、数字开头。","type":"string"},"path":{"description":"**参数解释**:重定向的请求路径。其中$1-$9会匹配请求url通配符星号(*),当正则匹配分组小于指定数字,则$指定数字结果为空。$后面跟字母,匹配结果均为空,直到下一个特殊字符出现,例如$abc#123,则匹配结果为#123;$后面跟特殊字符则直接输出特殊字符,例如$#匹配结果为$#。\n\n**取值范围**:英文字母、数字、_~';@^-%#&$.+?,=!:|\\/(),且必须以\"/\"开头。","type":"string"},"query":{"description":"**参数解释**:重定向的查询字符串。其中$1-$9会匹配请求url通配符星号(*),当正则匹配分组小于指定数字,则$指定数字结果为空。$后面跟字母,匹配结果均为空,直到下一个特殊字符出现,例如$abc#123,则匹配结果为#123;$后面跟特殊字符则直接输出特殊字符,例如$#匹配结果为$#。\n\n**取值范围**:英文字母、数字和特殊字符:!$&'()+,-./:;=?@^_`。字母区分大小写。","type":"string"}},"type":"object"},"RuleRef":{"description":"","properties":{"id":{"description":"**参数解释**:规则ID。\n\n**取值范围**:不涉及","type":"string"}},"required":["id"]},"ShowL7PolicyResponseBody":{"description":"This is a auto create Response Object","properties":{"l7policy":{"$ref":"#/definitions/L7Policy","description":"**参数解释**:l7policy对象。"},"request_id":{"description":"**参数解释**:请求ID。\n\n**取值范围**:由数字、小写字母和中划线(-)组成的字符串,自动生成。","type":"string"}},"required":["l7policy","request_id"]},"TrafficLimitConfig":{"description":"**参数解释**:转发策略限速的配置。","properties":{"burst":{"description":"**参数解释**:设置当单源qps超限时,允许的局部突增请求数量。超出该限制的请求将返回503。\n\n**取值范围**:0-100000,单位:个/秒。","format":"int32","maximum":100000,"minimum":0,"type":"integer"},"per_source_ip_qps":{"description":"**参数解释**:对转发策略单源(单个客户端IP)进行限速。\n\n**取值范围**:0-100000,单位:个/秒。0表示不限速。","format":"int32","maximum":100000,"minimum":0,"type":"integer"},"qps":{"description":"**参数解释**:转发策略qps限速。\n\n**取值范围**:0-100000,单位:个/秒。0表示不限速。","format":"int32","maximum":100000,"minimum":0,"type":"integer"}},"type":"object"},"TrafficMirrorConfig":{"description":"**参数解释**:流量镜像的配置","properties":{"mirror_request_body_enable":{"description":"**参数解释**:镜像请求是否携带请求体,默认true。\n\n**取值范围**:不涉及","type":"boolean"},"target_ids":{"description":"**参数解释**:流量镜像的目的后端服务器组ID。\n\n**取值范围**:不涉及","items":{"type":"string"},"type":"array"}}}},"description":null,"group_id":"dbd0be272eaa427280cd04f618f990db","host":"elb.cn-north-4.myhuaweicloud.com","id":"18423bdd82b74263a6ff5341f037df6b","info_version":"v3","method":"get","name":"ShowL7Policy","parameters":{},"paths":{"/v3/{project_id}/elb/l7policies/{l7policy_id}":{"get":{"deprecated":false,"description":"查询七层转发策略详情。","operationId":"ShowL7Policy","parameters":[{"description":"**参数解释**:IAM鉴权Token。\n\n**约束限制**:不涉及\n\n**取值范围**:不涉及\n\n**默认取值**:不涉及","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":1},{"description":"**参数解释**:项目ID。获取方式请参见[获取项目ID](elb_fl_0008.xml)。\n\n**约束限制**:不涉及\n\n**取值范围**:长度为32个字符,由小写字母和数字组成。\n\n**默认取值**:不涉及","in":"path","name":"project_id","required":true,"type":"string","x-order":2},{"description":"**参数解释**:转发策略ID。\n\n**约束限制**:不涉及\n\n**取值范围**:不涉及\n\n**默认取值**:不涉及","in":"path","name":"l7policy_id","required":true,"type":"string","x-order":3}],"responses":{"200":{"description":"操作正常返回。","examples":{"application/json":{"l7policy":{"action":"REDIRECT_TO_POOL","admin_state_up":true,"description":"","fixed_response_config":{"content_type":"text/plain","message_body":"","status_code":"207"},"id":"01832d99-bbd8-4340-9d0c-6ff8f7a37307","listener_id":"cdb03a19-16b7-4e6b-bfec-047aeec74f56","name":"l7policy-67","position":100,"priority":1,"project_id":"7a9941d34fc1497d8d0797429ecfd354","provisioning_status":"ACTIVE","redirect_listener_id":null,"redirect_pool_id":"768e9e8c-e7cb-4fef-b24b-af9399dbb240","redirect_pools_config":{"pool_id":"722e9e8c-e7cb-4fef-b24b-af9399dbb240","weight":12},"redirect_pools_sticky_session_config":{"enable":false,"timeout":23},"redirect_url":null,"redirect_url_config":null,"rules":[{"id":"c5c2d625-676b-431e-a4c7-c59cc2664881"}]},"request_id":"6be83ec4-623e-4840-a417-2fcdf8ad5dfa"}},"schema":{"$ref":"#/definitions/ShowL7PolicyResponseBody"}}},"summary":"查询转发策略详情","tags":["转发策略"],"x-apiexplorer-hide":"false","x-constraint":"","x-first-open-time":"2019-04-30","x-hybridcloud":"","x-is-registered":"Y","x-name":"查询转发策略详情","x-open-region-cloud":"hc,hk,hws_eu,otc,ocb,tlf,ctc,hcso,ct,sbc,g42,tm,cmcc,hk_g42,hcso_dt,mix,hk_sbc,hws_ocb,hk_vdf,srg,fcs,fcs_dt,dt","x-order":3,"x-publishpath":"","x-request-examples-description-1":"查询指定转发策略详情","x-request-examples-url-1":"GET https://{ELB_Endpoint}/v3/99a3fff0d03c428eac3678da6a7d0f24/elb/l7policies/cf4360fd-8631-41ff-a6f5-b72c35da74be","x-scope":"Commercial","x-source":"SelfDeveloped","x-support-sdk":"Y","x-version":"v3"}}},"product_short":"ELB","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询转发策略详情","tags":"转发策略","uri":null,"version":"2.0"}