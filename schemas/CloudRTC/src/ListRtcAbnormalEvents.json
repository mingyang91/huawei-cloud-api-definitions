{"base_path":"/","components":null,"consumes":"","definitions":{"AbnormalEvent":{"properties":{"abnormal_factor":{"description":"异常因素\n当异常类型为1时,异常因素取值范围为:\n- 1:建链失败\n- 2:房间非空闲\n- 3:服务器异常\n- 4:服务器反馈503\n- 5:鉴权失败\n- 6:鉴权重试\n- 7:时钟同步失败\n- 8:url错误\n- 9:终端内部异常\n- 90000004:SDK发出的加入房间信令响应超时\n- 90100009:web侧没有收到MSP下发的配置信息\n- 90100008:websocket链路建链失败\n- 10000001:服务侧返回的异常信息\n- 31000003:服务侧返回的异常信息\n- 32000030:服务侧返回的异常信息\n- 15:浏览器设置sdp异常\n当异常类型为2或者3时,异常因素取值范围为:\n- 1:系统CPU占用高\n- 2:App CPU占用高\n- 3:音频上行网络延时\n- 4:音频上行网络抖动\n- 5:视频上行网络延时\n- 6:视频上行网络抖动\n- 7:音频下行网络延时\n- 8:音频下行网络抖动\n- 9:视频下行网络延时\n- 10:视频下行网络抖动\n- 11:上行音频丢包\n- 12:上行视频丢包\n- 13:下行音频丢包\n- 14:下行视频丢包\n- 15:下行音频无声音\n- 16:其他\n- 17:对端用户离线\n- 18:对端用户无码流\n- 19:对端用户无帧率\n- 20:本端服务器下行无码流\n- 21:本端服务器下行无帧率\n","maximum":15,"minimum":0,"type":"integer"},"abnormal_factor_desc":{"description":"异常因素描述,支持国际化\n当异常类型为1时,异常因素描述与异常因素对应,取值范围为:\n- 建链失败\n- 房间非空闲\n- 服务器异常\n- 服务器反馈503\n- 鉴权失败\n- 鉴权重试\n- 时钟同步失败\n- url错误\n- 终端内部异常\n- SDK发出的加入房间信令响应超时\n- web侧没有收到MSP下发的配置信息\n- websocket链路建链失败\n- 服务侧返回的异常信息\n- 服务侧返回的异常信息\n- 服务侧返回的异常信息\n- 浏览器设置sdp异常\n当异常类型为2或者3时,异常因素描述与异常因素对应,取值范围为:\n- 系统CPU占用高\n- App CPU占用高\n- 音频上行网络延时\n- 音频上行网络抖动\n- 视频上行网络延时\n- 视频上行网络抖动\n- 音频下行网络延时\n- 音频下行网络抖动\n- 视频下行网络延时\n- 视频下行网络抖动\n- 上行音频丢包\n- 上行视频丢包\n- 下行音频丢包\n- 下行视频丢包\n- 下行音频无声音\n- 其他\n- 对端用户离线\n- 对端用户无码流\n- 对端用户无帧率\n- 本端服务器下行无码流\n- 本端服务器下行无帧率\n其他情况,异常因素描述为:其他\n","maxLength":32384,"minLength":1,"type":"string"},"abnormal_type":{"description":"异常类型:\n- 1:进房慢(5s加入房间失败)\n- 2:视频卡顿\n- 3:音频卡顿\n","maximum":15,"minimum":0,"type":"integer"},"abnormal_type_desc":{"description":"异常类型描述与异常类型对应,支持国际化,取值范围为:\n- 进房慢(5s加入房间失败)\n- 视频卡顿\n- 音频卡顿\n","maxLength":32384,"minLength":1,"type":"string"},"location":{"description":"事件发生位置\n- local:事件发生在客户端本地\n- remote:事件发生在远端\n","maxLength":256,"minLength":1,"type":"string"},"peer_uid":{"description":"如果根因来自远端用户,则peerid为远端用户的用户ID。如果根因来自自身,则peerid为空字符串","maxLength":256,"minLength":1,"type":"string"},"room_id":{"description":"出现异常的房间ID","maxLength":256,"minLength":1,"type":"string"},"stage":{"description":"出现异常的环节\n- join_room:加入房间\n- communication:通话中\n","maxLength":256,"minLength":1,"type":"string"},"time":{"description":"采样时间。日期格式按照ISO8601表示法,并使用UTC时间。格式为YYYY-MM-DDThh:mm:ssZ","maxLength":20,"minLength":20,"type":"string"},"uid":{"description":"出现异常的用户ID","maxLength":256,"minLength":1,"type":"string"}},"required":["time","uid","room_id","stage","location","peer_uid","abnormal_type","abnormal_type_desc","abnormal_factor","abnormal_factor_desc"],"type":"object"},"ErrorResponse":{"properties":{"error_code":{"description":"错误码。\n","maxLength":64,"minLength":1,"type":"string"},"error_msg":{"description":"错误描述。\n","maxLength":1024,"minLength":1,"type":"string"}},"type":"object"},"RtcAbnormalEventRsp":{"properties":{"events":{"description":"异常体验列表","items":{"$ref":"#/definitions/AbnormalEvent"},"maxItems":8928,"minItems":0,"type":"array"},"total":{"description":"异常总数","maximum":2147483647,"minimum":0,"type":"integer"}},"required":["total"],"type":"object"}},"description":null,"group_id":"fa76a612de62472485d55bfe6c61b3b3","host":"rtc-api.myhuaweicloud.com","id":"f1493d3870664302992c43846f99c4c2","info_version":"v1","method":"get","name":"ListRtcAbnormalEvents","parameters":{},"paths":{"/v1/rtc/data/abnormal-events":{"get":{"consumes":["application/json"],"description":"查询指定APP下通话的异常明细数据。\n\n最大查询跨度1天。\n","operationId":"ListRtcAbnormalEvents","parameters":[{"description":"用户Token。使用Token鉴权方式时必选。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":32384,"minLength":1,"name":"X-Auth-Token","required":false,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"应用ID\n","in":"query","maxLength":256,"minLength":1,"name":"app","required":true,"type":"string","x-example":"5fa682b34a974f7ad24d223b"},{"description":"房间ID\n","in":"query","maxLength":256,"minLength":1,"name":"room_id","required":false,"type":"string","x-example":"6951a79e9f811ebbd2ac58d7ac82553"},{"description":"用户ID\n","in":"query","maxLength":256,"minLength":1,"name":"uid","required":false,"type":"string","x-example":"942f781d7b661634ea1a4d63532e670ca00486facb13b532abe9f28bagent"},{"description":"查询起始时间。UTC时间,格式:YYYY-MM-DDThh:mm:ssZ,如2020-04-23T06:00:00Z,不填写则默认读取过去1小时数据数据。\n","in":"query","maxLength":256,"minLength":1,"name":"start_time","required":false,"type":"string","x-example":"2020-04-23T06:00:00Z"},{"description":"查询结束时间。UTC时间,格式:YYYY-MM-DDThh:mm:ssZ,如2020-04-23T07:00:00Z,不填写则默认为当前时间。\n","in":"query","maxLength":256,"minLength":1,"name":"end_time","required":false,"type":"string","x-example":"2020-04-24T06:00:00Z"},{"default":10,"description":"查询结果条数\n","format":"int32","in":"query","maximum":100,"minimum":1,"name":"limit","required":false,"type":"integer","x-example":30},{"default":0,"description":"查询偏移量\n","format":"int32","in":"query","maximum":1844674407,"minimum":0,"name":"offset","required":false,"type":"integer","x-example":100}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"查询成功返回。\n","examples":{"application/json":{"events":[{"abnormal_factor":13,"abnormal_factor_desc":"下行音频丢包","abnormal_type":3,"abnormal_type_desc":"音频卡顿","location":"remote","peer_uid":"3cc0863505cc11eca3b9cb30b1856de8","room_id":"3b48d9db05cc11ecb1e78fe304a40b8f","stage":"communication","time":1629913500000,"uid":"3d00ea7405cc11eca3b919d9aaa81457"},{"abnormal_factor":14,"abnormal_factor_desc":"下行视频丢包","abnormal_type":2,"abnormal_type_desc":"视频卡顿","location":"remote","peer_uid":"3cc0863505cc11eca3b9cb30b1856de8","room_id":"3b48d9db05cc11ecb1e78fe304a40b8f","stage":"communication","time":1629913500000,"uid":"3d00ea7405cc11eca3b919d9aaa81457"}],"total":2}},"headers":{"X-request-id":{"description":"请求的唯一标识","type":"string"}},"schema":{"$ref":"#/definitions/RtcAbnormalEventRsp"}},"400":{"description":"查询失败返回","examples":{"application/json":{"error_code":"DATA.100011001","error_msg":"Required String parameter 'app' is not present"}},"headers":{"X-request-id":{"description":"请求的唯一标识","type":"string"}},"schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"查询用户异常体验事件","tags":["RtcStatisticsDataApi"],"x-apiexplorer-hide":"N","x-external-api":true,"x-is-registered":"Y","x-request-examples-url-1":"GET /v1/rtc/data/abnormal-events?app=5f963b4c89ae1628c2568001&room_id=3b48d9db05cc11ecb1e78fe304a40b8f&start_time=2021-08-25T16:00:00Z&end_time=2021-08-25T18:00:00Z","x-support-sdk":"Y"}}},"product_short":"CloudRTC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询用户异常体验事件","tags":"数据统计分析","uri":null,"version":"2.0"}