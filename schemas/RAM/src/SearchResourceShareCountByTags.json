{"base_path":null,"components":{"parameters":{"SecurityTokenHeader":{"description":"如果正在使用临时安全凭据,则此header是必需的,该值是临时安全凭据的安全令牌(会话令牌)。","in":"header","name":"X-Security-Token","required":false,"schema":{"readOnly":true,"type":"string"}}},"schemas":{"Match":{"properties":{"key":{"description":"键。取值范围为policy , organizational-unit, account。","maxLength":128,"minLength":0,"type":"string"},"value":{"description":"值。每个值最大长度255个字符。","maxLength":255,"minLength":0,"type":"string"}},"required":["key","value"],"type":"object"},"ResourceSharesByTagsReqBody":{"description":"ResourceInstance操作的请求体。","properties":{"matches":{"description":"资源共享实例绑定标签列表的匹配字段。","items":{"$ref":"#/components/schemas/Match"},"maxItems":20,"minItems":0,"type":"array"},"tags":{"description":"包含标签,最多包含20个key,每个key下面的value最多20个,结构体不能缺失,key不能为空或者空字符串。Key不能重复,同一个key中values不能重复。返回包含所有标签的资源列表,key之间是\"与\"的关系,key-value结构中value是\"或\"的关系。无tag过滤条件时返回全量数据。","items":{"$ref":"#/components/schemas/TagFilter"},"maxItems":20,"minItems":0,"type":"array"},"without_any_tag":{"description":"不包含任意一个标签,该字段为true时查询所有不带标签的资源。","type":"boolean"}},"type":"object"},"SearchResourceShareCountByTagsResp":{"description":"查询资源实例返回列表","properties":{"total_count":{"description":"总记录数。","format":"int32","maximum":1000000,"minimum":0,"type":"integer"}},"required":["total_count"],"type":"object"},"TagFilter":{"description":"根据标签筛选。","properties":{"key":{"description":"标签\"键\"的标识符或名称。","maxLength":128,"minLength":1,"pattern":"^((?!\\s)(?!_sys_)[\\p{L}\\p{Z}\\p{N}_.:=+\\-@]*)(?<!\\s)$","type":"string"},"values":{"description":"标签\"键\"对应的\"值\"列表。","items":{"maxLength":255,"minLength":0,"pattern":"^([\\p{L}\\p{Z}\\p{N}_.:\\/=+\\-@]*)$","type":"string"},"maxItems":20,"minItems":0,"type":"array"}},"required":["key"],"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"a4962198b5cd4b19998df4c381657138","host":"ram.myhuaweicloud.com","id":"0a226a033bc242d38208838d4efb0e91","info_version":"v1","method":"post","name":"SearchResourceShareCountByTags","parameters":null,"paths":{"/v1/resource-shares/resource-instances/count":{"post":{"description":"根据标签信息查询资源共享实例数量。","operationId":"SearchResourceShareCountByTags","parameters":[{"$ref":"#/components/parameters/SecurityTokenHeader"}],"requestBody":{"content":{"application/json":{"example":{"matches":[{"key":"string","value":"string"}],"tags":[{"key":"string","values":["string"]}],"without_any_tag":true},"schema":{"$ref":"#/components/schemas/ResourceSharesByTagsReqBody"}}},"required":true},"responses":{"200":{"content":{"application/json":{"example":{"total_count":100},"schema":{"$ref":"#/components/schemas/SearchResourceShareCountByTagsResp"}}},"description":"请求成功。"}},"security":[{"AccessKeyAuth":[]}],"summary":"根据标签信息查询实例数量","tags":["Tag"],"x-api-type":"open-api","x-is-registered":"Y","x-request-examples-1":{"matches":[{"key":"string","value":"string"}],"tags":[{"key":"string","values":["string"]}],"without_any_tag":true},"x-request-examples-description-1":"根据标签信息查询资源共享实例数量。","x-request-examples-url-1":"POST https://{endpoint}/v1/resource-shares/resource-instances/count","x-support-sdk":"Y"}}},"product_short":"RAM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"根据标签信息查询实例数量","tags":"标签管理","uri":null,"version":"3.0.3"}