{"base_path":null,"components":{"parameters":{"Offset":{"description":"分页标记。","in":"query","name":"offset","required":false,"schema":{"pattern":"[0-9]+","type":"string"}},"SecurityTokenHeader":{"description":"用户Token","in":"header","name":"X-Auth-Token","required":false,"schema":{"maxLength":2048,"minLength":0,"readOnly":true,"type":"string"}},"TagLimit":{"description":"分页页面的最大值。","in":"query","name":"limit","required":false,"schema":{"default":1000,"format":"int32","maximum":1000,"minimum":1,"type":"integer"}}},"schemas":{"ListResourceSharesByTagsResp":{"description":"查询资源实例返回列表","properties":{"resources":{"description":"资源信息列表。","items":{"$ref":"#/components/schemas/ResourceDTO"},"maxItems":1000,"minItems":0,"type":"array"},"total_count":{"description":"总记录数。","format":"int32","readOnly":true,"type":"integer"}},"required":["resources","total_count"],"type":"object"},"Match":{"properties":{"key":{"description":"键。取值范围为policy , organizational-unit, account。","maxLength":128,"minLength":0,"type":"string"},"value":{"description":"值。每个值最大长度255个字符。","maxLength":255,"minLength":0,"type":"string"}},"required":["key","value"],"type":"object"},"ResourceDTO":{"description":"资源信息。","properties":{"resource_detail":{"description":"资源详情。","type":"object"},"resource_id":{"description":"资源ID。","readOnly":true,"type":"string"},"resource_name":{"description":"资源名称。","readOnly":true,"type":"string"},"tags":{"description":"资源标签列表。","items":{"$ref":"#/components/schemas/Tag"},"maxItems":20,"minItems":0,"type":"array"}},"required":["resource_id","tags","resource_detail","resource_name"],"type":"object"},"ResourceSharesByTagsReqBody":{"description":"ResourceInstance操作的请求体。","properties":{"matches":{"description":"资源共享实例绑定标签列表的匹配字段。","items":{"$ref":"#/components/schemas/Match"},"maxItems":20,"minItems":0,"type":"array"},"tags":{"description":"包含标签,最多包含20个key,每个key下面的value最多20个,结构体不能缺失,key不能为空或者空字符串。Key不能重复,同一个key中values不能重复。返回包含所有标签的资源列表,key之间是\"与\"的关系,key-value结构中value是\"或\"的关系。无tag过滤条件时返回全量数据。","items":{"$ref":"#/components/schemas/TagFilter"},"maxItems":20,"minItems":0,"type":"array"},"without_any_tag":{"description":"不包含任意一个标签,该字段为true时查询所有不带标签的资源。","type":"boolean"}},"type":"object"},"Tag":{"description":"自定义键值对。","properties":{"key":{"description":"标签\"键\"的标识符或名称。","maxLength":128,"minLength":1,"pattern":"^((?!\\s)(?!_sys_)[\\p{L}\\p{Z}\\p{N}_.:=+\\-@]*)(?<!\\s)$","type":"string"},"value":{"description":"标签\"键\"对应的\"值\"。您可以将标签的值设置为空字符串,但不能设置为null。","maxLength":255,"minLength":0,"pattern":"^([\\p{L}\\p{Z}\\p{N}_.:\\/=+\\-@]*)$","type":"string"}},"required":["key","value"],"type":"object"},"TagFilter":{"description":"根据标签筛选。","properties":{"key":{"description":"标签\"键\"的标识符或名称。","maxLength":128,"minLength":1,"pattern":"^((?!\\s)(?!_sys_)[\\p{L}\\p{Z}\\p{N}_.:=+\\-@]*)(?<!\\s)$","type":"string"},"values":{"description":"标签\"键\"对应的\"值\"列表。","items":{"maxLength":255,"minLength":0,"pattern":"^([\\p{L}\\p{Z}\\p{N}_.:\\/=+\\-@]*)$","type":"string"},"maxItems":20,"minItems":0,"type":"array"}},"required":["key"],"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"a4962198b5cd4b19998df4c381657138","host":"ram.myhuaweicloud.com","id":"9ddcf21053db4ec2819907b7a7f617ac","info_version":"v1","method":"post","name":"ListResourceSharesByTags","parameters":null,"paths":{"/v1/resource-shares/resource-instances/filter":{"post":{"description":"根据标签信息查询资源共享实例列表。","operationId":"ListResourceSharesByTags","parameters":[{"$ref":"#/components/parameters/TagLimit"},{"$ref":"#/components/parameters/Offset"},{"$ref":"#/components/parameters/SecurityTokenHeader"}],"requestBody":{"content":{"application/json":{"example":{"matches":[{"key":"string","value":"string"}],"tags":[{"key":"string","values":["string"]}],"without_any_tag":true},"schema":{"$ref":"#/components/schemas/ResourceSharesByTagsReqBody"}}},"required":true},"responses":{"200":{"content":{"application/json":{"example":{"resources":[{"resource_detail":{},"resource_id":"string","resource_name":"string","tags":[{"key":"string","value":"string"}]}],"total_count":0},"schema":{"$ref":"#/components/schemas/ListResourceSharesByTagsResp"}}},"description":"Successful"},"x-request-examples-1":{"matches":[{"key":"string","value":"string"}],"tags":[{"key":"string","values":["string"]}],"without_any_tag":true},"x-request-examples-description-1":"根据标签信息查询资源共享实例列表。","x-request-examples-url-1":"POST https://{hostname}/v1/resource-shares/resource-instances/filter"},"security":[{"AccessKeyAuth":[]}],"summary":"根据标签信息查询实例列表","tags":["Tag"],"x-is-registered":"Y","x-support-sdk":"Y"}}},"product_short":"RAM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"根据标签信息查询实例列表","tags":"标签管理","uri":null,"version":"3.0.3"}