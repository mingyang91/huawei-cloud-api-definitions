{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"BackupExtendInfo":{"properties":{"auto_trigger":{"description":"是否是自动生成的备份副本","type":"boolean"},"bootable":{"description":"是否系统盘备份","type":"boolean"},"contain_system_disk":{"description":"整机备份是否包含系统盘","type":"boolean"},"encrypted":{"description":"是否加密","type":"boolean"},"incremental":{"description":"是否是增备","type":"boolean"},"is_multi_az":{"default":false,"description":"备份类型是否为多AZ","type":"boolean","x-open-region-cloud":"hc,hk","x-support-field-sdk":false},"os_images_data":{"description":"备份注册镜像ID列表","items":{"$ref":"#/definitions/ImageData","description":""},"type":"array"},"snapshot_id":{"description":"卷备份副本的快照id","type":"string"},"support_lld":{"description":"是否支持lazyloading快速恢复","type":"boolean"},"supported_restore_mode":{"default":"na","description":"备份支持恢复的方式,当前取值包含na,snapshot和backup。如果该字段取值为snapshot,代表备份此时已经支持创建整机镜像;如果该字段取值为backup,备份支持通过云服务器上硬盘的备份进行恢复;如果该字段取值为na,备份不支持恢复。","enum":["na"," backup"," snapshot"],"type":"string"},"system_disk":{"description":"是否是系统盘","type":"boolean"}}},"BackupListResp":{"properties":{"backups":{"description":"备份列表","items":{"$ref":"#/definitions/BackupResp"},"type":"array"},"count":{"description":"备份个数","format":"int32","type":"integer"},"limit":{"default":1000,"description":"每页显示的条目数量","format":"int32","maximum":1000,"minimum":1,"type":"integer"},"offset":{"default":0,"description":"偏移量,表示从此偏移量开始查询","format":"int32","minimum":0,"type":"integer"}},"required":["backups","count"]},"BackupResp":{"properties":{"checkpoint_id":{"description":"还原点ID","type":"string"},"children":{"description":"子副本列表","items":{"$ref":"#/definitions/BackupResp","description":""},"minItems":0,"type":"array"},"created_at":{"description":"创建时间,例如:\"2020-02-05T10:38:34.209782\"","format":"date-time","type":"string","x-huawei-extraAnnotation":""},"description":{"description":"备份描述","type":"string","x-huawei-extraAnnotation":""},"enterprise_project_id":{"description":"企业项目id,默认为‘0’。","type":"string","x-open-region-cloud":"hc,hk,hcso,tm"},"expired_at":{"description":"过期时间,例如:\"2020-02-05T10:38:34.209782\"","format":"date-time","type":"string","x-huawei-extraAnnotation":""},"extend_info":{"$ref":"#/definitions/BackupExtendInfo","description":"扩展信息","x-huawei-extraAnnotation":""},"id":{"description":"备份ID","type":"string"},"image_type":{"description":"备份类型","enum":["backup","replication"],"type":"string","x-huawei-extraAnnotation":""},"name":{"description":"备份名称","type":"string"},"parent_id":{"description":"父备份ID","type":"string","x-huawei-extraAnnotation":""},"project_id":{"description":"项目ID","type":"string"},"protected_at":{"description":"备份时间","format":"date","type":"string"},"provider_id":{"description":"备份提供商ID,用于区分备份对象。当前取值包含  0daac4c5-6707-4851-97ba-169e36266b66,该值代表备份对象为云服务器。d1603440-187d-4516-af25-121250c7cc97,该值代表备份对象为云硬盘。3f3c3220-245c-4805-b811-758870015881, 该值代表备份对象为SFS Turbo。a13639de-00be-4e94-af30-26912d75e4a2,该值代表备份对象为混合云VMware备份。","type":"string","x-open-region-cloud":"hc,hk,otc"},"replication_records":{"description":"复制记录","items":{"$ref":"#/definitions/ReplicationRecordGet","description":""},"type":"array","x-open-region-cloud":"hc,hk"},"resource_az":{"description":"资源可用区","type":"string","x-huawei-extraAnnotation":""},"resource_id":{"description":"资源ID","type":"string"},"resource_name":{"description":"资源名称","type":"string"},"resource_size":{"description":"资源大小,单位为GB","format":"int32","type":"integer","x-huawei-extraAnnotation":""},"resource_type":{"description":"资源类型: 云服务器: OS::Nova::Server, 云硬盘: OS::Cinder::Volume, 云桌面:OS::Workspace::DesktopV2","enum":["OS::Nova::Server","OS::Cinder::Volume","OS::Workspace::DesktopV2"],"type":"string","x-huawei-extraAnnotation":""},"status":{"description":"备份状态","enum":["available","protecting","deleting","restoring","error","waiting_protect","waiting_delete","waiting_restore"],"type":"string"},"updated_at":{"description":"更新时间,例如:\"2020-02-05T10:38:34.209782\"","format":"date-time","type":"string","x-huawei-extraAnnotation":""},"vault_id":{"description":"存储库ID","type":"string","x-huawei-extraAnnotation":""}},"required":["checkpoint_id","created_at","description","expired_at","extend_info","id","image_type","name","parent_id","project_id","protected_at","provider_id","resource_az","resource_id","resource_name","resource_size","resource_type","status","updated_at","vault_id"]},"ImageData":{"description":"镜像元素","properties":{"image_id":{"description":"镜像ID","type":"string"}}},"ReplicationRecordGet":{"description":"","properties":{"created_at":{"description":"复制的开始时间","type":"string","x-open-region-cloud":"hc,hk"},"destination_backup_id":{"description":"复制的目的备份ID","type":"string","x-open-region-cloud":"hc,hk"},"destination_checkpoint_id":{"description":"复制的目的备份记录ID","type":"string","x-open-region-cloud":"hc,hk"},"destination_project_id":{"description":"复制的目标项目ID","type":"string","x-open-region-cloud":"hc,hk"},"destination_region":{"description":"复制的目标区域","type":"string","x-open-region-cloud":"hc,hk"},"destination_vault_id":{"description":"目标存储库ID","type":"string","x-open-region-cloud":"hc,hk"},"extra_info":{"$ref":"#/definitions/ReplicationRecordsExtraInfo","description":"复制附加信息","x-open-region-cloud":"hc,hk"},"id":{"description":"复制记录ID","type":"string","x-open-region-cloud":"hc,hk"},"source_backup_id":{"description":"复制的源备份ID","type":"string","x-open-region-cloud":"hc,hk"},"source_checkpoint_id":{"description":"复制的源备份记录ID","type":"string","x-open-region-cloud":"hc,hk"},"source_project_id":{"description":"复制的源项目ID","type":"string","x-open-region-cloud":"hc,hk"},"source_region":{"description":"复制的源区域","type":"string","x-open-region-cloud":"hc,hk"},"status":{"description":"复制的状态","enum":["replicating","success","fail","skip","waiting_replicate"],"type":"string","x-open-region-cloud":"hc,hk"},"vault_id":{"description":"备份所在的存储库ID","type":"string","x-open-region-cloud":"hc,hk"}},"required":["id"]},"ReplicationRecordsExtraInfo":{"description":"复制记录额外信息","properties":{"auto_trigger":{"description":"是否为自动调度复制","type":"boolean"},"destinatio_vault_id":{"description":"目标端的存储库id","type":"string"},"fail_code":{"description":"失败错误码,成功时为空","type":"string"},"fail_reason":{"description":"错误原因","type":"string"},"progress":{"description":"复制进度","format":"int32","type":"integer"}}}},"description":null,"group_id":"11b1e4b30d524dacb6891902e04115dd","host":"cbr.cn-north-4.myhuaweicloud.com","id":"d1a433cfa2144a2699171dfda3d3551b","info_version":"v1","method":"get","name":"ListBackups","parameters":{},"paths":{"/v3/{project_id}/backups":{"get":{"consumes":[],"deprecated":false,"description":"查询所有副本","operationId":"ListBackups","parameters":[{"description":"还原点ID","in":"query","name":"checkpoint_id","required":false,"type":"string","x-order":1},{"description":"专属云 (专属云场景使用,非专属云场景不生效)","in":"query","name":"dec","required":false,"type":"boolean","x-order":2},{"description":"备份产生时间范围的结束时间,格式为%YYYY-%mm-%ddT%HH:%MM:%SSZ,例如2018-02-01T12:00:00Z","in":"query","name":"end_time","required":false,"type":"string","x-open-region-cloud":"","x-order":3},{"description":"备份类型","enum":["backup","replication"],"in":"query","name":"image_type","required":false,"type":"string","x-order":4},{"description":"每页显示的条目数量,正整数","format":"int32","in":"query","name":"limit","required":false,"type":"integer","x-order":5},{"description":"上一次查询最后一条的id","in":"query","name":"marker","required":false,"type":"string","x-order":6},{"description":"名称","in":"query","name":"name","required":false,"type":"string","x-order":7},{"description":"偏移值,正整数","format":"int32","in":"query","name":"offset","required":false,"type":"integer","x-order":8},{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string","x-order":9},{"description":"支持按az来过滤","in":"query","name":"resource_az","required":false,"type":"string","x-order":10},{"description":"资源ID","in":"query","name":"resource_id","required":false,"type":"string","x-order":11},{"description":"资源名称","in":"query","name":"resource_name","required":false,"type":"string","x-order":12},{"description":"资源类型: 云服务器: OS::Nova::Server, 云硬盘: OS::Cinder::Volume, 云桌面:OS::Workspace::DesktopV2","enum":["OS::Cinder::Volume","OS::Nova::Server","OS::Workspace::DesktopV2"],"in":"query","name":"resource_type","required":false,"type":"string","x-order":13},{"description":"sort的内容为一组由逗号分隔的属性及可选排序方向组成,形如<key1>[:<direction>],<key2>[:<direction>],其中direction的取值为asc (升序) 或 desc (降序),如没有传入direction参数,默认为降序,sort内容的长度限制为255个字符。key取值范围:[created_at,updated_at,name,status,protected_at,id]","in":"query","name":"sort","required":false,"type":"string","x-admin":"","x-order":14},{"description":"备份产生时间范围的开始时间,格式为%YYYY-%mm-%ddT%HH:%MM:%SSZ,例如2018-02-01T12:00:00Z","in":"query","name":"start_time","required":false,"type":"string","x-open-region-cloud":"","x-order":15},{"description":"状态。\n调用API时,支持通过传多个status值进行过滤。例如:status=available&status=error","enum":["available","protecting","deleting","restoring","error","waiting_protect","waiting_delete","waiting_restore"],"in":"query","name":"status","required":false,"type":"string","x-order":16},{"description":"存储库ID","in":"query","name":"vault_id","required":false,"type":"string","x-order":17},{"description":"企业项目id或all_granted_eps,all_granted_eps表示查询用户有权限的所有企业项目id","in":"query","name":"enterprise_project_id","required":false,"type":"string","x-open-region-cloud":"hc,hk,ctc,hcso,tm","x-order":18},{"default":"private","description":"持有类型,私有的private/共享的shared/全部all_granted,默认只查询private。","enum":["all_granted","private","shared"],"in":"query","name":"own_type","required":false,"type":"string","x-order":19},{"description":"共享状态","enum":["pending","accepted","rejected"],"in":"query","name":"member_status","required":false,"type":"string","x-open-region-cloud":"","x-order":20},{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX...","x-order":21},{"description":"父备份ID","in":"query","name":"parent_id","required":false,"type":"string","x-order":22},{"description":"根据存储库使用率过滤备份,取值范围 [1, 100],含1和100。例如,used_percent=80,表示筛选所属存储库使用率大于等于80%的所有备份。","in":"query","name":"used_percent","required":false,"type":"string","x-order":23},{"default":false,"description":"是否返回复制记录","in":"query","name":"show_replication","required":false,"type":"boolean","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,obc,ctc","x-order":24},{"default":false,"description":"是否是增备","in":"query","name":"incremental","required":false,"type":"boolean","x-open-region-cloud":"","x-order":25}],"produces":[],"responses":{"200":{"description":"OK","examples":{"application/json":{"backups":[{"checkpoint_id":"1fced58b-2a31-4851-bcbb-96216f83ce99","children":[],"created_at":"2020-02-21T07:00:54.065135","description":"","expired_at":"2020-05-21T07:00:54.060493","extend_info":{"architecture":"x86_64","auto_trigger":true,"bootable":null,"contain_system_disk":true,"os_images_data":null,"progress":null,"snapshot_id":null,"support_lld":true,"supported_restore_mode":"backup","system_disk":false},"id":"b1c4afd9-e7a6-4888-9010-c2bac3aa7910","image_type":"backup","name":"autobk_b629","parent_id":null,"project_id":"0605767b5780d5762fc5c0118072a564","protected_at":null,"provider_id":"0daac4c5-6707-4851-97ba-169e36266b66","resource_az":"br-iaas-odin1a","resource_id":"1a503932-ee8f-4dd5-8248-8dfb57e584c5","resource_name":"test001-02","resource_size":40,"resource_type":"OS::Nova::Server","status":"available","updated_at":"2020-02-21T07:07:25.113761","vault_id":"cca85ea5-00a4-418d-9222-bd83985bc515"},{"checkpoint_id":"f64c351f-769f-4c04-8806-fd90a59e9b12","children":[],"created_at":"2020-02-21T07:00:34.882174","description":"","expired_at":"2020-03-22T07:00:34.877896","extend_info":{"auto_trigger":true,"bootable":true,"encrypted":false,"os_images_data":null,"progress":100,"snapshot_id":"e3def9a8-e4b4-4c12-b132-f4ba8ce9a34f","support_lld":true,"supported_restore_mode":null,"system_disk":false},"id":"5606aab5-2dc2-4498-8144-dc848d099af5","image_type":"backup","name":"autobk_6809","parent_id":null,"project_id":"0605767b5780d5762fc5c0118072a564","protected_at":null,"provider_id":"d1603440-187d-4516-af25-121250c7cc97","resource_az":"br-iaas-odin1a","resource_id":"54f7ccbc-072f-4ec5-a7b7-b24dabdb4539","resource_name":"qsy_000","resource_size":40,"resource_type":"OS::Cinder::Volume","status":"available","updated_at":"2020-02-21T07:09:37.767084","vault_id":"79bd9daa-884f-4f84-b8fe-235d58cd927d"}],"count":2}},"schema":{"$ref":"#/definitions/BackupListResp"}}},"summary":"查询所有备份","tags":["备份"],"x-apiexplorer-hide":"false","x-constraint":"","x-first-open-time":"","x-hybridcloud":"","x-is-registered":"Y","x-name":"查询所有备份","x-open-region-cloud":"hc,hk,otc,obc,ctc,hcso,sbc,g42,tm,cmcc,hk-g42,hcso_dt","x-order":37,"x-publishpath":"","x-request-examples-1":"","x-request-examples-description-1":"","x-request-examples-text-1":"","x-request-examples-url-1":"GET  https://{endpoint}/v3/{project_id}/backups","x-scope":"Commercial","x-source":"","x-support-sdk":"Y"}}},"product_short":"CBR","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询所有备份","tags":"备份","uri":null,"version":"2.0"}