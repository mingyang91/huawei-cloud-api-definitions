{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ProtectableAgentReq":{"description":"","properties":{"agent_status":{"description":"查询参数列表","items":{"$ref":"#/definitions/ProtectableAgentStatusResource"},"type":"array"}},"required":["agent_status"]},"ProtectableAgentStatus":{"description":"","properties":{"code":{"description":"agent无法连接的错误码","format":"int32","type":"integer"},"installed":{"description":"agent是否安装","type":"boolean"},"is_old":{"description":"agent是否为老版本","type":"boolean"},"message":{"description":"agent无法连接的错误信息","type":"string"},"resource_id":{"description":"资源ID","type":"string"},"version":{"description":"agent版本号","type":"string"}}},"ProtectableAgentStatusResource":{"properties":{"resource_id":{"description":"待检查资源ID","type":"string"},"resource_name":{"description":"待检查资源name","type":"string"},"resource_type":{"description":"待检查的资源类型。当前支持的取值包含两个:OS::Nova::Server,该值代表保护的资源为云服务器,OS::Ironic::BareMetalServer,该值代表保护的资源为裸金属服务器。","type":"string"}},"required":["resource_id","resource_type"]},"ProtectableAgentStatusResp":{"description":"","properties":{"agent_status":{"description":"状态列表","items":{"$ref":"#/definitions/ProtectableAgentStatus"},"type":"array"}},"required":["agent_status"]}},"description":null,"group_id":"11b1e4b30d524dacb6891902e04115dd","host":"cbr.cn-north-4.myhuaweicloud.com","id":"6961660a47a34799b4ed2a001733a0f1","info_version":"v1","method":"post","name":"CheckAgent","parameters":{},"paths":{"/v3/{project_id}/agent/check":{"post":{"consumes":[],"deprecated":false,"description":"检查应用一致性Agent状态","operationId":"CheckAgent","parameters":[{"description":"Agent状态检查参数","in":"body","name":"CheckAgentRequestBody","required":true,"schema":{"$ref":"#/definitions/ProtectableAgentReq"},"x-order":1},{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string","x-order":2}],"produces":[],"responses":{"200":{"description":"OK","examples":{"application/json":{"agent_status":[{"code":null,"installed":false,"is_old":null,"message":null,"resource_id":"6c0e29fc-5eaa-4f76-af9e-cc79895f70d7","version":null}]}},"schema":{"$ref":"#/definitions/ProtectableAgentStatusResp"}}},"summary":"查询agent状态","tags":["可保护性"],"x-apiexplorer-hide":"false","x-constraint":"","x-first-open-time":"","x-hybridcloud":"","x-is-registered":"Y","x-name":"查询agent状态","x-open-region-cloud":"hc,hk","x-order":53,"x-publishpath":"","x-request-examples-1":{"agent_status":[{"resource_id":"6c0e29fc-5eaa-4f76-af9e-cc79895f70d7","resource_name":"ecs-8f7b","resource_type":"OS::Nova::Server"}]},"x-request-examples-description-1":"","x-request-examples-text-1":"{\n  \"agent_status\": [\n    {\n      \"resource_id\": \"6c0e29fc-5eaa-4f76-af9e-cc79895f70d7\",\n      \"resource_name\": \"ecs-8f7b\",\n      \"resource_type\": \"OS::Nova::Server\"\n    }\n  ]\n}","x-request-examples-url-1":"POST https://{endpoint}/v3/f841e01fd2b14e7fa41b6ae7aa6b0594/agent/check","x-scope":"Commercial","x-source":"","x-support-sdk":"Y"}}},"product_short":"CBR","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询agent状态","tags":"可保护性","uri":null,"version":"2.0"}