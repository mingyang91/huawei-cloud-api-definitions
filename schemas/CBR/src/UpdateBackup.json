{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"BackupExtendInfo":{"properties":{"auto_trigger":{"description":"是否是自动生成的备份副本","type":"boolean"},"bootable":{"description":"是否系统盘备份","type":"boolean"},"contain_system_disk":{"description":"整机备份是否包含系统盘","type":"boolean"},"encrypted":{"description":"是否加密","type":"boolean"},"is_multi_az":{"default":false,"description":"备份类型是否为多AZ","type":"boolean","x-open-region-cloud":"hc,hk","x-support-field-sdk":false},"os_images_data":{"description":"备份注册镜像ID列表","items":{"$ref":"#/definitions/ImageData","description":""},"type":"array"},"snapshot_id":{"description":"卷备份副本的快照id","type":"string"},"support_lld":{"description":"是否支持lazyloading快速恢复","type":"boolean"},"supported_restore_mode":{"default":"na","description":"备份支持恢复的方式,当前取值包含na,snapshot和backup。如果该字段取值为snapshot,代表备份此时已经支持创建整机镜像;如果该字段取值为backup,备份支持通过云服务器上硬盘的备份进行恢复;如果该字段取值为na,备份不支持恢复。","enum":["na","backup","snapshot"],"type":"string"},"system_disk":{"description":"是否是系统盘","type":"boolean"}}},"BackupGetResp":{"description":"查询指定备份响应体","properties":{"backup":{"$ref":"#/definitions/BackupResp","description":"备份副本","x-huawei-extraAnnotation":""}},"required":["backup"]},"BackupResp":{"properties":{"checkpoint_id":{"description":"还原点ID","type":"string"},"children":{"description":"子副本列表","items":{"$ref":"#/definitions/BackupResp","description":""},"minItems":0,"type":"array"},"created_at":{"description":"创建时间,例如:\"2020-02-05T10:38:34.209782\"","format":"date-time","type":"string","x-huawei-extraAnnotation":""},"description":{"description":"备份描述","type":"string","x-huawei-extraAnnotation":""},"enterprise_project_id":{"description":"企业项目id,默认为‘0’。","type":"string","x-open-region-cloud":"hc,hk,hcso,tm,hcso_g42_b,hk_vdf"},"expired_at":{"description":"过期时间,例如:\"2020-02-05T10:38:34.209782\"","format":"date-time","type":"string","x-huawei-extraAnnotation":""},"extend_info":{"$ref":"#/definitions/BackupExtendInfo","description":"扩展信息","x-huawei-extraAnnotation":""},"id":{"description":"备份ID","type":"string"},"image_type":{"description":"备份类型。取值为backup和replication。","type":"string","x-huawei-extraAnnotation":""},"incremental":{"description":"是否是增备","type":"boolean"},"name":{"description":"备份名称","type":"string"},"parent_id":{"description":"父备份ID","type":"string","x-huawei-extraAnnotation":""},"project_id":{"description":"项目ID","type":"string"},"protected_at":{"description":"备份时间","format":"date","type":"string"},"provider_id":{"description":"备份提供商ID,用于区分备份对象。当前取值包含:\n0daac4c5-6707-4851-97ba-169e36266b66,该值代表备份对象为云服务器。d1603440-187d-4516-af25-121250c7cc97,该值代表备份对象为云硬盘。3f3c3220-245c-4805-b811-758870015881, 该值代表备份对象为SFS Turbo。a13639de-00be-4e94-af30-26912d75e4a2,该值代表备份对象为混合云VMware备份。","type":"string","x-open-region-cloud":"hc,hk,otc"},"replication_records":{"description":"复制记录","items":{"$ref":"#/definitions/ReplicationRecordGet","description":""},"type":"array","x-open-region-cloud":"hc,hk"},"resource_az":{"description":"资源可用区","type":"string","x-huawei-extraAnnotation":""},"resource_id":{"description":"资源ID","type":"string"},"resource_name":{"description":"资源名称","type":"string"},"resource_size":{"description":"资源大小,单位为GB","format":"int32","type":"integer","x-huawei-extraAnnotation":""},"resource_type":{"description":"资源类型: OS::Nova::Server, OS::Cinder::Volume, OS::Ironic::BareMetalServer, OS::Native::Server, OS::Sfs::Turbo, OS::Workspace::DesktopV2","type":"string","x-huawei-extraAnnotation":""},"status":{"description":"备份状态\n- available: 可用\n- protecting: 保护中\n- deleting: 删除中\n- restoring: 恢复中\n- error: 异常\n- waiting_protect: 等待保护\n- waiting_delete: 等待删除\n- waiting_restore: 等待恢复","enum":["available","protecting","deleting","restoring","error","waiting_protect","waiting_delete","waiting_restore"],"type":"string"},"updated_at":{"description":"更新时间,例如:\"2020-02-05T10:38:34.209782\"","format":"date-time","type":"string","x-huawei-extraAnnotation":""},"vault_id":{"description":"存储库ID","type":"string","x-huawei-extraAnnotation":""},"version":{"default":3,"description":"备份副本快照类型","format":"int32","readOnly":true,"type":"integer"}},"required":["checkpoint_id","created_at","description","expired_at","extend_info","id","image_type","name","parent_id","project_id","protected_at","provider_id","resource_az","resource_id","resource_name","resource_size","resource_type","status","updated_at","vault_id"]},"BackupUpdate":{"description":"","properties":{"name":{"description":"备份名称","type":"string"}}},"BackupUpdateReq":{"description":"更新请求参数体","properties":{"backup":{"$ref":"#/definitions/BackupUpdate","description":"更新请求参数体","x-open-region-cloud":"hc,hk"}}},"ImageData":{"description":"镜像元素","properties":{"image_id":{"description":"镜像ID","type":"string"}}},"ReplicationRecordGet":{"description":"","properties":{"created_at":{"description":"复制的开始时间","type":"string","x-open-region-cloud":"hc,hk"},"destination_backup_id":{"description":"复制的目的备份ID","type":"string","x-open-region-cloud":"hc,hk"},"destination_checkpoint_id":{"description":"复制的目的备份记录ID","type":"string","x-open-region-cloud":"hc,hk"},"destination_project_id":{"description":"复制的目标项目ID","type":"string","x-open-region-cloud":"hc,hk"},"destination_region":{"description":"复制的目标区域","type":"string","x-open-region-cloud":"hc,hk"},"destination_vault_id":{"description":"目标存储库ID","type":"string","x-open-region-cloud":"hc,hk"},"extra_info":{"$ref":"#/definitions/ReplicationRecordsExtraInfo","description":"复制附加信息","x-open-region-cloud":"hc,hk"},"id":{"description":"复制记录ID","type":"string","x-open-region-cloud":"hc,hk"},"source_backup_id":{"description":"复制的源备份ID","type":"string","x-open-region-cloud":"hc,hk"},"source_checkpoint_id":{"description":"复制的源备份记录ID","type":"string","x-open-region-cloud":"hc,hk"},"source_project_id":{"description":"复制的源项目ID","type":"string","x-open-region-cloud":"hc,hk"},"source_region":{"description":"复制的源区域","type":"string","x-open-region-cloud":"hc,hk"},"status":{"description":"复制的状态","enum":["replicating","success","fail","skip","waiting_replicate"],"type":"string","x-open-region-cloud":"hc,hk"},"vault_id":{"description":"备份所在的存储库ID","type":"string","x-open-region-cloud":"hc,hk"}},"required":["id"]},"ReplicationRecordsExtraInfo":{"description":"复制记录额外信息","properties":{"auto_trigger":{"description":"是否为自动调度复制","type":"boolean"},"destination_vault_id":{"description":"目标端的存储库id","type":"string"},"fail_code":{"description":"失败错误码,成功时为空","type":"string"},"fail_reason":{"description":"错误原因","type":"string"},"progress":{"description":"复制进度","format":"int32","type":"integer"}}}},"description":null,"group_id":"11b1e4b30d524dacb6891902e04115dd","host":"cbr.cn-north-4.myhuaweicloud.com","id":"38f0fadfa07d4a54b97ef28339cc7fee","info_version":"v1","method":"put","name":"UpdateBackup","parameters":{},"paths":{"/v3/{project_id}/backups/{backup_id}":{"put":{"consumes":[],"deprecated":false,"description":"根据备份id更改备份","operationId":"UpdateBackup","parameters":[{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string","x-order":1},{"description":"备份ID","in":"path","name":"backup_id","required":true,"type":"string","x-order":2},{"description":"备份修改参数","in":"body","name":"BackupUpdateRequestBody","required":false,"schema":{"$ref":"#/definitions/BackupUpdateReq"},"x-order":3}],"produces":[],"responses":{"200":{"description":"OK","examples":{"application/json":{"backup":{"checkpoint_id":"8b0851a8-adf3-4f4c-a914-dead08bf9664","children":[{"checkpoint_id":"8b0851a8-adf3-4f4c-a914-dead08bf9664","children":[],"created_at":"2019-05-10T07:59:59.450700","description":null,"expired_at":null,"extend_info":{"app_consistency":null,"auto_trigger":true,"bootable":true,"encrypted":true,"os_images_data":null,"progress":null,"snapshot_id":"5230a977-1a94-4092-8edd-519303a44cda","support_lld":null,"supported_restore_mode":null},"id":"5d822633-2bbf-4af8-a16e-5ab1c7705235","image_type":"backup","name":"autobk_a843_ecs-1f0f-0002","parent_id":"6df2b54c-dd62-4059-a07c-1b8f24f2725d","project_id":"4229d7a45436489f8c3dc2b1d35d4987","protected_at":null,"provider_id":"0daac4c5-6707-4851-97ba-169e36266b66","replication_records":[],"resource_az":null,"resource_id":"eccbcfdd-f843-4bbb-b2c0-a5ce861f9376","resource_name":"ecs-1f0f-0002","resource_size":40,"resource_type":"OS::Cinder::Volume","status":"available","updated_at":null,"vault_id":"3b5816b5-f29c-4172-9d9a-76c719a659ce"}],"created_at":"2019-05-10T07:59:12.084695","description":"backup_description","enterprise_project_id":"0","expired_at":null,"extend_info":{"app_consistency":{"app_consistency":"0","app_consistency_error_code":"0","app_consistency_error_message":"","app_consistency_status":"0"},"auto_trigger":true,"bootable":null,"contain_system_disk":true,"os_images_data":null,"progress":null,"snapshot_id":null,"support_lld":true,"supported_restore_mode":"backup"},"id":"6df2b54c-dd62-4059-a07c-1b8f24f2725d","image_type":"backup","name":"backup-name02","parent_id":null,"project_id":"4229d7a45436489f8c3dc2b1d35d4987","protected_at":null,"provider_id":"0daac4c5-6707-4851-97ba-169e36266b66","replication_records":[],"resource_az":"az1.dc1","resource_id":"94eba8b2-acc9-4d82-badc-127144cc5526","resource_name":"ecs-1f0f-0002","resource_size":40,"resource_type":"OS::Nova::Server","status":"available","updated_at":null,"vault_id":"3b5816b5-f29c-4172-9d9a-76c719a659ce"}}},"schema":{"$ref":"#/definitions/BackupGetResp"}}},"summary":"更新备份","tags":["备份"],"x-apiexplorer-hide":"false","x-constraint":"","x-first-open-time":"","x-hybridcloud":"","x-is-registered":"Y","x-name":"更新备份","x-open-region-cloud":"hc,hk,ctc","x-order":46,"x-publishpath":"","x-request-examples-1":{"backup":{"name":"backup-name02"}},"x-request-examples-description-1":"","x-request-examples-text-1":"{\n\t\"backup\": {\n\t\t\"name\": \"backup-name02\"\n\t}\n}","x-request-examples-url-1":"PUT https://{endpoint}/v3/4229d7a45436489f8c3dc2b1d35d4987/backup/6df2b54c-dd62-4059-a07c-1b8f24f2725d","x-scope":"Commercial","x-source":"","x-support-sdk":"Y"}}},"product_short":"CBR","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"更新备份","tags":"备份","uri":null,"version":"2.0"}