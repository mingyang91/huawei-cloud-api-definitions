{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ResourceCreate":{"properties":{"extra_info":{"$ref":"#/definitions/ResourceExtraInfo","description":"资源附加信息","x-open-region-cloud":"hc,hk"},"id":{"description":"待备份资源id","type":"string","x-huawei-extraAnnotation":""},"name":{"description":"名称","maxLength":255,"minLength":0,"type":"string","x-huawei-extraAnnotation":""},"type":{"description":"待备份资源的类型, 云服务器: OS::Nova::Server, 云硬盘: OS::Cinder::Volume, 裸金属服务器: OS::Ironic::BareMetalServer, 线下本地服务器: OS::Native::Server, 弹性文件系统: OS::Sfs::Turbo, 云桌面:OS::Workspace::DesktopV2","type":"string","x-huawei-extraAnnotation":""}},"required":["id","type"]},"ResourceExtraInfo":{"properties":{"exclude_volumes":{"description":"需要排除备份的卷id。仅在多系统盘备份特性中有效,排除不需要备份的磁盘。当虚拟机新绑定磁盘时,也能继续排除之前设置不用备份的卷。","items":{"description":"","type":"string"},"type":"array","x-open-region-cloud":"hc,hk,otc,ocb,hcso,sbc,g42,hcso_dt"}}},"ResourceExtraInfoIncludeVolumes":{"description":"","properties":{"id":{"description":"卷ID,仅支持uuid","type":"string","x-open-region-cloud":"hc,hk"},"os_version":{"description":"操作系统类型","type":"string","x-open-region-cloud":"hc,hk"}},"required":["id"]},"VaultAddResourceReq":{"properties":{"resources":{"description":"资源列表","items":{"$ref":"#/definitions/ResourceCreate","description":""},"maxItems":256,"minItems":1,"type":"array","x-huawei-extraAnnotation":""}},"required":["resources"]},"VaultAddResourceResp":{"properties":{"add_resource_ids":{"description":"已添加的资源ID列表","items":{"type":"string"},"type":"array"}}}},"description":null,"group_id":"11b1e4b30d524dacb6891902e04115dd","host":"cbr.cn-north-4.myhuaweicloud.com","id":"577406f1ceca49b889d883e101d7019c","info_version":"v1","method":"post","name":"AddVaultResource","parameters":{},"paths":{"/v3/{project_id}/vaults/{vault_id}/addresources":{"post":{"consumes":[],"deprecated":false,"description":"存储库添加资源","operationId":"AddVaultResource","parameters":[{"description":"存储库添加资源参数","in":"body","name":"AddVaultResourceRequestBody","required":true,"schema":{"$ref":"#/definitions/VaultAddResourceReq"},"x-order":1},{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string","x-order":2},{"description":"存储库ID","in":"path","name":"vault_id","required":true,"type":"string","x-order":3},{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX...","x-order":4}],"produces":[],"responses":{"200":{"description":"OK","examples":{"application/json":{"add_resource_ids":["97595625-198e-4e4d-879b-9d53f68ba551"]}},"schema":{"$ref":"#/definitions/VaultAddResourceResp"}}},"summary":"添加资源","tags":["存储库"],"x-apiexplorer-hide":"false","x-constraint":"","x-first-open-time":"","x-hybridcloud":"","x-is-registered":"Y","x-name":"添加资源","x-open-region-cloud":"hc,hk,otc,obc,ctc,hcso,sbc,g42,tm,cmcc,hk-g42,hcso_dt","x-order":28,"x-publishpath":"","x-request-examples-1":{"resources":[{"extra_info":{"exclude_volumes":["bdef09bb-293f-446a-88a4-86e9f14408c4"]},"id":"97595625-198e-4e4d-879b-9d53f68ba551","type":"OS::Nova::Server"}]},"x-request-examples-description-1":"","x-request-examples-text-1":"{\n    \"resources\": [\n      {\n        \"extra_info\": {\n          \"exclude_volumes\": [\n            \"bdef09bb-293f-446a-88a4-86e9f14408c4\"\n          ]\n        },\n        \"id\": \"97595625-198e-4e4d-879b-9d53f68ba551\",\n        \"type\": \"OS::Nova::Server\"\n      }\n    ]\n}","x-request-examples-url-1":"POST https://{endpoint}/v3/f841e01fd2b14e7fa41b6ae7aa6b0594/vaults/79bd9daa-884f-4f84-b8fe-235d58cd927d/addresources","x-scope":"Commercial","x-source":"","x-support-sdk":"Y"}}},"product_short":"CBR","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"添加资源","tags":"存储库","uri":null,"version":"2.0"}