{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"Billing":{"properties":{"allocated":{"description":"已分配容量,单位GB","format":"int32","type":"integer"},"charging_mode":{"description":"创建模式","enum":["pre_paid","post_paid"],"type":"string"},"cloud_type":{"description":"云平台","enum":["public","hybrid"],"type":"string","x-huawei-extraAnnotation":""},"consistent_level":{"description":"崩溃一致性(crash_consistent)或应用一致性(app_consistent)","enum":["app_consistent","crash_consistent"],"type":"string"},"frozen_scene":{"description":"冻结场景","type":"string","x-huawei-extraAnnotation":""},"is_multi_az":{"default":false,"description":"存储库多az属性","type":"boolean","x-open-region-cloud":"hc,hk,tlf","x-support-field-sdk":false},"object_type":{"description":"对象类型:云服务器(server),云硬盘(disk),文件系统(turbo),云桌面(workspace),VMware(vmware),关系型数据库(rds),文件(file)。","enum":["server","disk","turbo","workspace","vmware","rds","file"],"type":"string"},"order_id":{"description":"订单ID","type":"string"},"product_id":{"description":"产品ID","type":"string"},"protect_type":{"description":"保护类型","enum":["backup","replication","hybrid"],"type":"string"},"size":{"description":"容量,单位GB","format":"int32","maximum":10485760,"minimum":1,"type":"integer"},"spec_code":{"description":"规格编码: 云服务备份存储库:vault.backup.server.normal;云硬盘备份存储库:vault.backup.volume.normal;文件备份存储库:vault.backup.turbo.normal;数据库备份存储库:vault.backup.database.normal;混合云备份存储库:vault.hybrid.server.normal;复制备份存储库:vault.replication.server.normal","enum":["vault.backup.server.normal","vault.backup.volume.normal","vault.backup.turbo.normal","vault.backup.database.normal","vault.hybrid.server.normal","vault.replication.server.normal"],"type":"string","x-huawei-extraAnnotation":""},"status":{"description":"存储库状态","enum":["available","lock","frozen","deleting","error"],"type":"string"},"storage_unit":{"description":"存储库桶名","type":"string"},"used":{"description":"已使用容量,单位MB","format":"int32","type":"integer"}},"required":["allocated","charging_mode","consistent_level","protect_type","size","spec_code","status","used"]},"BindRulesTags":{"description":"自动绑定规则标签","properties":{"key":{"description":"key不能包含非打印字符ASCII(0-31),“=”,“*”,“<”,“>”,“\\\\”,“,”,“|”,“/”。\nkey只能由中文,字母,数字,“-”,“_”组成。","type":"string","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,sbc,hcso_dt"},"value":{"description":"value不能包含非打印字符ASCII(0-31),“=”,“*”,“<”,“>”,“\\”,“,”,“|”,“/”。\n\nvalue只能由中文,字母,数字,“-”,“_”,“.”组成。","type":"string","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,sbc,hcso_dt"}},"required":["key","value"]},"ResourceExtraInfo":{"properties":{"exclude_volumes":{"description":"需要排除备份的卷id。仅在多系统盘备份特性中有效,排除不需要备份的磁盘。当虚拟机新绑定磁盘时,也能继续排除之前设置不用备份的卷。","items":{"description":"","type":"string"},"type":"array","x-open-region-cloud":"hc,hk,otc,ocb,hcso,sbc,g42,hcso_dt"}}},"ResourceExtraInfoIncludeVolumes":{"description":"","properties":{"id":{"description":"卷ID,仅支持uuid","type":"string","x-open-region-cloud":"hc,hk"},"os_version":{"description":"操作系统类型","type":"string","x-open-region-cloud":"hc,hk"}},"required":["id"]},"ResourceResp":{"description":"资源详情","properties":{"backup_count":{"description":"副本数量","format":"int32","type":"integer","x-huawei-extraAnnotation":""},"backup_size":{"description":"副本大小","format":"int32","type":"integer","x-huawei-extraAnnotation":""},"extra_info":{"$ref":"#/definitions/ResourceExtraInfo","description":"资源附加信息","x-open-region-cloud":"hc,hk,otc,ocb,hcso,sbc,g42,hcso_dt,tlf,hcso_g42_b"},"id":{"description":"待备份资源id","type":"string"},"name":{"description":"待备份资源名称","maxLength":255,"minLength":0,"type":"string"},"protect_status":{"description":"保护状态","enum":["available","error","protecting","restoring","removing"],"type":"string","x-huawei-extraAnnotation":""},"size":{"description":"资源已分配容量,单位为GB","format":"int32","type":"integer","x-huawei-extraAnnotation":""},"type":{"description":"待备份资源的类型, 云服务器: OS::Nova::Server, 云硬盘: OS::Cinder::Volume, 裸金属服务器: OS::Ironic::BareMetalServer, 线下本地服务器: OS::Native::Server, 弹性文件系统: OS::Sfs::Turbo, 云桌面:OS::Workspace::DesktopV2","type":"string"}},"required":["id","name","type"]},"Tag":{"description":"","properties":{"key":{"description":"键。\nkey最大长度为36个字符。\nkey不能为空字符串。\nkey前后空格会被丢弃。\nkey不能包含非打印字符ASCII(0-31),“=”,“*”,“<”,“>”,“\\”,“,”,“|”,“/”。\nkey只能由中文,字母,数字,“-”,“_”组成。","type":"string","x-huawei-extraAnnotation":"","x-obc":"Y","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,sbc"},"value":{"description":"值。\n\n添加标签时value值必选,删除标签时value值可选。\n\nvalue最大长度为43个字符。\n\nvalue可以为空字符串。\n\nvalue前后的空格会被丢弃。\n\nvalue不能包含非打印字符ASCII(0-31),“=”,“*”,“<”,“>”,“\\”,“,”,“|”,“/”。\nvalue只能由中文,字母,数字,“-”,“_”,“.”组成。","type":"string","x-huawei-extraAnnotation":"","x-obc":"Y","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,sbc"}},"required":["key","value"]},"Vault":{"properties":{"auto_bind":{"description":"是否自动绑定,默认为false,不支持。","type":"boolean"},"auto_expand":{"description":"是否开启存储库自动扩容能力(只支持按需存储库)。","type":"boolean","x-huawei-extraAnnotation":""},"availability_zone":{"description":"存储库可用区信息,最大支持32字符。","maxLength":32,"minLength":1,"type":"string","x-open-region-cloud":"hc,hk"},"billing":{"$ref":"#/definitions/Billing","description":"运营信息"},"bind_rules":{"$ref":"#/definitions/VaultBindRules","description":"绑定规则","x-huawei-extraAnnotation":""},"created_at":{"description":"创建时间,例如:\"2020-02-05T10:38:34.209782\"","type":"string","x-huawei-extraAnnotation":""},"description":{"description":"存储库自定义描述信息。","maxLength":255,"minLength":0,"pattern":"^[^<>]*$","type":"string","x-huawei-extraAnnotation":""},"enterprise_project_id":{"description":"企业项目id,默认为‘0’。","type":"string","x-open-region-cloud":"hc,hk,hcso,tm"},"id":{"description":"存储库ID","type":"string"},"locked":{"description":"用于标识该存储库是否已锁定","type":"boolean","x-huawei-extraAnnotation":"","x-open-region-cloud":"hc,hk"},"name":{"description":"存储库名称","maxLength":64,"minLength":1,"pattern":"^[\\u4E00-\\u9FA5\\uf900-\\ufa2da-zA-Z0-9_\\-]*$","type":"string"},"project_id":{"description":"项目ID","type":"string"},"provider_id":{"description":"存储库资源类型id","type":"string"},"resources":{"description":"存储库资源","items":{"$ref":"#/definitions/ResourceResp"},"type":"array"},"smn_notify":{"default":true,"description":"存储库smn消息通知开关","type":"boolean","x-open-region-cloud":"hc,hk"},"sys_lock_source_service":{"description":"用于标识SMB服务","type":"string","x-huawei-extraAnnotation":""},"tags":{"description":"存储库标签","items":{"$ref":"#/definitions/Tag","description":""},"type":"array"},"threshold":{"default":80,"description":"存储库容量阈值,已用容量占总容量达到此百分比即发送相关通知","format":"int32","maximum":100,"minimum":1,"type":"integer","x-open-region-cloud":"hc,hk"},"user_id":{"description":"用户id","type":"string","x-huawei-extraAnnotation":""}},"required":["billing","id","name","project_id","provider_id","resources"]},"VaultBindRules":{"properties":{"tags":{"description":"按tags过滤自动绑定的资源\n\n最小长度:1\n\n最大长度:5","items":{"$ref":"#/definitions/BindRulesTags","description":""},"type":"array"}}},"VaultListResp":{"properties":{"count":{"description":"存储库个数","format":"int32","type":"integer"},"limit":{"default":1000,"description":"每页显示的条目数量","format":"int32","maximum":1000,"minimum":1,"type":"integer"},"offset":{"default":0,"description":"偏移量,表示从此偏移量开始查询","format":"int32","minimum":0,"type":"integer"},"vaults":{"description":"存储库实例列表","items":{"$ref":"#/definitions/Vault"},"type":"array"}},"required":["count","vaults"]}},"description":null,"group_id":"11b1e4b30d524dacb6891902e04115dd","host":"cbr.cn-north-4.myhuaweicloud.com","id":"7344be0d6f454ebfbcf309f87937182c","info_version":"v1","method":"get","name":"ListVault","parameters":{},"paths":{"/v3/{project_id}/vaults":{"get":{"consumes":[],"deprecated":false,"description":"查询存储库列表","operationId":"ListVault","parameters":[{"description":"每页显示条目数,正整数","format":"int32","in":"query","maximum":1000,"minimum":1,"name":"limit","required":false,"type":"integer","x-admin":"","x-internal":"","x-order":1},{"description":"存储库名称","in":"query","name":"name","pattern":"^[\\u4E00-\\u9FA5\\uf900-\\ufa2da-zA-Z0-9_\\-]*$","required":false,"type":"string","x-order":2},{"description":"偏移值,正整数","format":"int32","in":"query","name":"offset","required":false,"type":"integer","x-order":3},{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string","x-order":4},{"description":"云类型","enum":["public","hybrid"],"in":"query","name":"cloud_type","required":false,"type":"string","x-open-region-cloud":"","x-order":5},{"description":"保护类型","enum":["backup","replication"],"in":"query","name":"protect_type","required":false,"type":"string","x-open-region-cloud":"","x-order":6},{"description":"对象类型:云服务器(server),云硬盘(disk),文件系统(turbo),云桌面(workspace),VMware(vmware),关系型数据库(rds),文件(file)。","in":"query","name":"object_type","required":false,"type":"string","x-open-region-cloud":"","x-order":7},{"description":"企业项目id或all_granted_eps,all_granted_eps表示查询用户有权限的所有企业项目id","in":"query","name":"enterprise_project_id","required":false,"type":"string","x-open-region-cloud":"hc,hk,ctc,hcso,tm","x-order":8},{"description":"存储库ID","in":"query","items":{"type":"string"},"name":"id","required":false,"type":"array","x-admin":"","x-order":9},{"description":"策略ID","in":"query","name":"policy_id","required":false,"type":"string","x-order":10},{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":false,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX...","x-order":11},{"description":"状态","in":"query","name":"status","required":false,"type":"string","x-admin":"","x-internal":"","x-order":12},{"description":"资源id,支持多资源,以英文逗号分隔","in":"query","name":"resource_ids","required":false,"type":"string","x-order":13}],"produces":[],"responses":{"200":{"description":"OK","examples":{"application/json":{"count":50,"vaults":[{"auto_bind":false,"auto_expand":false,"billing":{"allocated":0,"charging_mode":"post_paid","cloud_type":"public","consistent_level":"crash_consistent","frozen_scene":null,"object_type":"server","order_id":null,"product_id":null,"protect_type":"backup","size":100,"spec_code":"vault.backup.server.normal","status":"available","storage_unit":null,"used":0},"bind_rules":{},"created_at":"2020-09-04T06:57:37.343535","description":null,"enterprise_project_id":"0","id":"a335f9e1-1628-4c64-a7be-38656e5ec19c","name":"vault-8538","project_id":"0605767b5780d5762fc5c0118072a564","provider_id":"0daac4c5-6707-4851-97ba-169e36266b66","resources":[],"tags":[],"user_id":"aa2999fa5ae640f28926f8fd79188934"}]}},"schema":{"$ref":"#/definitions/VaultListResp"}}},"summary":"查询存储库列表","tags":["存储库"],"x-apiexplorer-hide":"false","x-constraint":"","x-first-open-time":"","x-hybridcloud":"","x-is-registered":"Y","x-name":"查询存储库列表","x-open-region-cloud":"hc,hk,otc,obc,ctc,hcso,sbc,g42,tm,cmcc,hk-g42,hcso_dt","x-order":24,"x-publishpath":"","x-request-examples-1":"","x-request-examples-description-1":"","x-request-examples-text-1":"","x-request-examples-url-1":"GET  https://{endpoint}/v3/{project_id}/vaults","x-scope":"Commercial","x-source":"","x-support-sdk":"Y","x-v3":"true"}}},"product_short":"CBR","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询存储库列表","tags":"存储库","uri":null,"version":"2.0"}