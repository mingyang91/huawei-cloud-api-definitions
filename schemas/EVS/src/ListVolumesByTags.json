{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"Attachment":{"description":"云硬盘挂载信息。","properties":{"attached_at":{"description":"挂载的时间信息。\n\n时间格式:UTC YYYY-MM-DDTHH:MM:SS.XXXXXX","type":"string"},"attachment_id":{"description":"挂载信息对应的ID。","type":"string"},"device":{"description":"挂载点。","type":"string"},"host_name":{"description":"云硬盘挂载到的云服务器对应的物理主机的名称。","type":"string"},"id":{"description":"挂载的资源ID。","type":"string"},"server_id":{"description":"云硬盘挂载到的云服务器的 ID。","type":"string"},"volume_id":{"description":"云硬盘ID。","type":"string"}},"required":["attached_at","attachment_id","device","host_name","id","server_id","volume_id"]},"Error":{"description":"出现错误时,返回的错误信息。","properties":{"code":{"description":"出现错误时,返回的错误码。\n错误码和其对应的含义请[参考错误码说明](https://support.huaweicloud.com/api-evs/evs_04_0038.html)。","type":"string"},"message":{"description":"错误提示信息。","type":"string"}},"required":["code","message"]},"ErrorResponseBody":{"description":"错误信息。","properties":{"error":{"$ref":"#/definitions/Error","description":"出现错误时,返回的错误信息"}},"required":["error"]},"Link":{"description":"云硬盘uri自描述信息。","properties":{"href":{"description":"对应的快捷链接。","type":"string"},"rel":{"description":"快捷链接标记名称。","type":"string"}}},"ListVolumesByTagsRequestBody":{"description":"This is a auto create Body Object","properties":{"action":{"default":"filter","description":"操作标识。\n\n根据标签查询云硬盘实例详情时使用“filter”。","enum":["filter"],"example":"filter","type":"string"},"limit":{"default":1000,"description":"查询记录数。最小值1,最大值1000,默认为1000。返回的结果中记录数不超过limit值","format":"int32","maximum":1000,"minimum":1,"type":"integer"},"matches":{"description":"资源本身支持的查询条件。标签列表中的标签key值不允许重复。","example":"\"[ { \\\"key\\\": \\\"resource_name\\\", \\\"value\\\": \\\"resource1\\\" }, { \\\"key\\\": \\\"service_type\\\", \\\"value\\\": \\\"EVS\\\" } ]\"","items":{"$ref":"#/definitions/Match","description":""},"type":"array","x-admin":"","x-internal":""},"offset":{"default":0,"description":"索引位置。最小值0,默认为0。返回的结果中第一条记录为符合查询条件的第“offset值+1”条记录","format":"int32","type":"integer"},"tags":{"description":"标签的键值对。标签列表中最多包含10个key 。标签列表中的标签key值不允许重复。标签列表中多个key之间是“与”的关系,云硬盘必须满足请求中所有key才会匹配出来。","example":"\"[ { \\\"key\\\": \\\"key1\\\", \\\"values\\\": [ \\\"value1\\\", \\\"value2\\\" ] } ]\"","items":{"$ref":"#/definitions/TagsForListVolumes"},"type":"array"}},"required":["action","tags"]},"ListVolumesByTagsResponseBody":{"description":"","properties":{"resources":{"description":"符合查询条件的资源列表","items":{"$ref":"#/definitions/Resource"},"type":"array"},"total_count":{"description":"符合查询条件的云硬盘资源个数","format":"int32","type":"integer"}}},"Match":{"properties":{"key":{"description":"键。取值范围如下:\nresource_name:资源名称。\nservice_type:服务类型。","enum":["resource_name","service_type"],"type":"string","x-huawei-extraAnnotation":""},"value":{"description":"值。最大长度255个字符。\nkey为“resource_name”时,value为模糊匹配。","type":"string","x-huawei-extraAnnotation":""}},"required":["key","value"]},"Resource":{"properties":{"resource_detail":{"$ref":"#/definitions/VolumeDetailForTag","description":"资源详情。","x-huawei-extraAnnotation":""},"resource_id":{"description":"资源ID。","type":"string"},"resource_name":{"description":"资源名称。","type":"string","x-huawei-extraAnnotation":""},"tags":{"description":"标签列表。","items":{"additionalProperties":{"type":"string"},"type":"object"},"type":"array","x-huawei-extraAnnotation":""}},"required":["resource_detail","resource_id","tags"]},"TagsForListVolumes":{"properties":{"key":{"description":"标签键。","type":"string","x-huawei-extraAnnotation":""},"values":{"description":"标签值。\n\n标签列表中最多包含10个value。\n标签列表中的标签value值不允许重复。\n标签列表如果为空列表,表示匹配任意值。标签列表中多个value之间是“或”的关系,在key已经满足要求的前提下,云硬盘满足请求中的某个value就会匹配出来。","items":{"type":"string"},"type":"array","x-huawei-extraAnnotation":""}},"required":["key","values"]},"VolumeDetailForTag":{"description":"云硬盘详情。","properties":{"attachments":{"description":"云硬盘的挂载信息,请参见•[attachments参数说明](https://support.huaweicloud.com/api-evs/evs_04_2006.html#evs_04_2006__evs_04_2010_li12430153610291)。","items":{"$ref":"#/definitions/Attachment","description":""},"type":"array"},"availability_zone":{"description":"云硬盘所属的AZ信息。","type":"string"},"bootable":{"description":"是否为启动云硬盘。\ntrue:表示为启动云硬盘。\nfalse:表示为非启动云硬盘。","type":"string"},"consistencygroup_id":{"description":"预留属性。","type":"string"},"created_at":{"description":"云硬盘创建时间。\n时间格式:UTC YYYY-MM-DDTHH:MM:SS.XXXXXX","type":"string"},"dedicated_storage_id":{"description":"云硬盘所属的专属存储池ID。","type":"string"},"dedicated_storage_name":{"description":"云硬盘所属的专属存储池的名称。","type":"string"},"description":{"description":"云硬盘描述。","type":"string"},"encrypted":{"description":"当前云硬盘服务不支持该字段。","type":"boolean"},"enterprise_project_id":{"description":"云硬盘上绑定的企业项目ID。\n> 说明:\n> \n> 关于企业项目ID的获取及企业项目特性的详细信息,请参见:\"[企业管理用户指南](https://support.huaweicloud.com/usermanual-em/zh-cn_topic_0123692049.html)\"。","type":"string"},"id":{"description":"云硬盘的ID。","type":"string"},"links":{"description":"云硬盘URI自描述信息。请参见 [links参数说明](https://support.huaweicloud.com/api-evs/evs_04_2006.html#evs_04_2006__evs_04_2010_li1077125119136)。","items":{"$ref":"#/definitions/Link","description":""},"type":"array"},"metadata":{"$ref":"#/definitions/VolumeMetadata","description":"云硬盘的元数据。请参见•[metadata参数说明](https://support.huaweicloud.com/api-evs/evs_04_2006.html#evs_04_2006__evs_04_2010_li29114110314)。"},"multiattach":{"description":"是否为共享云硬盘。","type":"boolean","x-huawei-extraAnnotation":""},"name":{"description":"云硬盘名称。","type":"string"},"os-vol-host-attr:host":{"description":"预留属性。","type":"string"},"os-vol-mig-status-attr:migstat":{"description":"预留属性。","type":"string"},"os-vol-mig-status-attr:name_id":{"description":"预留属性。","type":"string"},"os-vol-tenant-attr:tenant_id":{"description":"云硬盘所属的租户ID。租户ID就是项目ID。","type":"string"},"os-volume-replication:extended_status":{"description":"预留属性。","type":"string"},"replication_status":{"description":"预留属性。","type":"string"},"service_type":{"description":"服务类型,结果为EVS、DSS、DESS。","type":"string"},"shareable":{"description":"是否为共享云硬盘。true为共享盘,false为普通云硬盘。\n该字段已经废弃,请使用multiattach。","type":"boolean","x-huawei-extraAnnotation":""},"size":{"description":"云硬盘大小,单位为GB。","format":"int32","type":"integer"},"snapshot_id":{"description":"快照ID,如果是从快照创建,则有值。","type":"string"},"source_volid":{"description":"源云硬盘ID,如果是从源云硬盘创建,则有值。\n\n当前云硬盘服务不支持该字段。","type":"string"},"status":{"description":"云硬盘状态,请参见[云硬盘状态](https://support.huaweicloud.com/api-evs/evs_04_0040.html)。","type":"string"},"tags":{"additionalProperties":{"description":"","type":"string"},"description":"云硬盘的标签。\n如果云硬盘有标签,则会有该字段,否则该字段为空。","type":"object"},"updated_at":{"description":"云硬盘更新时间。\n时间格式:UTC YYYY-MM-DDTHH:MM:SS.XXXXXX","type":"string"},"user_id":{"description":"预留属性。","type":"string"},"volume_image_metadata":{"additionalProperties":{"description":"","type":"object"},"description":"云硬盘镜像的元数据。\n> 说明:\n> \n> 关于“volume_image_metadata”字段的详细说明,具体请参见:\"[查询镜像详情](https://support.huaweicloud.com/api-ims/ims_03_0703.html)\"。","type":"object","x-huawei-extraAnnotation":""},"volume_type":{"description":"云硬盘类型。\n目前支持“SSD”,“SAS”和“SATA”三种。\n“SSD”为超高IO云硬盘\n“SAS”为高IO云硬盘\n“SATA”为普通IO云硬盘","type":"string"},"wwn":{"description":"云硬盘挂载时的唯一标识。","type":"string"}},"required":["attachments","availability_zone","bootable","created_at","description","id","links","metadata","multiattach","name","os-vol-host-attr:host","os-vol-mig-status-attr:migstat","os-vol-mig-status-attr:name_id","os-vol-tenant-attr:tenant_id","os-volume-replication:extended_status","replication_status","service_type","shareable","size","snapshot_id","status","tags","updated_at","user_id","volume_image_metadata","volume_type"]},"VolumeMetadata":{"description":"云硬盘的元数据。","properties":{"__system__cmkid":{"description":"metadata中的加密cmkid字段,与__system__encrypted配合表示需要加密,cmkid长度固定为36个字节。\n> 说明:\n> \n> 请求获取密钥ID的方法请参考:\"[查询密钥列表](https://support.huaweicloud.com/api-dew/dew_02_0017.html)\"。","type":"string"},"__system__encrypted":{"description":"metadata中的表示加密功能的字段,0代表不加密,1代表加密。\n不指定该字段时,云硬盘的加密属性与数据源保持一致,如果不是从数据源创建的场景,则默认不加密。","type":"string"},"full_clone":{"description":"从快照创建云硬盘时的创建方式。\n* 0表示使用链接克隆方式。\n* 1表示使用全量克隆方式。","type":"string"},"hw:passthrough":{"description":"* true表示云硬盘的设备类型为SCSI类型,即允许ECS操作系统直接访问底层存储介质。支持SCSI锁命令。\n* false表示云硬盘的设备类型为VBD (虚拟块存储设备 , Virtual Block Device)类型,即为默认类型,VBD只能支持简单的SCSI读写命令。\n* 该字段不存在时,云硬盘默认为VBD类型。","type":"string"},"orderID":{"description":"metadata中的表示云硬盘计费类型的字段。\n当该字段有值时,表示该云硬盘的计费类型为包周期计费,否则计费类型为按需计费。","type":"string"}}}},"description":null,"group_id":"704402ab7f4f4599a32f67d585b3705a","host":"evs.cn-north-4.myhuaweicloud.com","id":"e0903cb914ed4056aec72ff32b1c988d","info_version":"v2","method":"post","name":"ListVolumesByTags","parameters":{},"paths":{"/v2/{project_id}/cloudvolumes/resource_instances/action":{"post":{"consumes":[],"deprecated":false,"description":"通过标签查询云硬盘资源实例详情。","operationId":"ListVolumesByTags","parameters":[{"description":"This is a auto create Body Object","in":"body","name":"ListVolumesByTagsRequestBody","required":true,"schema":{"$ref":"#/definitions/ListVolumesByTagsRequestBody"}},{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":2},{"description":"项目ID。\n获取方法请参见\"[获取项目ID](https://support.huaweicloud.com/api-evs/evs_04_0046.html)\"。","in":"path","name":"project_id","required":true,"type":"string","x-order":1}],"produces":[],"responses":{"200":{"description":"云硬盘信息。","examples":{"application/json":{"resources":[{"resource_detail":{"attachments":[{"attached_at":"2019-08-06T07:00:21.842812","attachment_id":"1335f039-7a42-4d1e-be49-ac584db0ba0b","device":"/dev/vda","host_name":null,"id":"7fa6b592-ac75-460d-a28a-bb17429d1eb2","server_id":"2080869e-ba46-4ea5-b45e-3191ac0f1d54","volume_id":"7fa6b592-ac75-460d-a28a-bb17429d1eb2"}],"availability_zone":"kvmxen.dc1","bootable":"true","created_at":"2019-08-06T06:59:03.056682","dedicated_storage_id":null,"dedicated_storage_name":null,"description":"","enterprise_project_id":"0","id":"7fa6b592-ac75-460d-a28a-bb17429d1eb2","links":[{"href":"https://volume.Region.dc1.domainname.com/v2/051375756c80d5eb2ff0c014498645fb/volumes/7fa6b592-ac75-460d-a28a-bb17429d1eb2","rel":"self"},{"href":"https://volume.Region.dc1.domainname.com/051375756c80d5eb2ff0c014498645fb/volumes/7fa6b592-ac75-460d-a28a-bb17429d1eb2","rel":"bookmark"}],"metadata":{},"multiattach":false,"name":"resource1","os-vol-host-attr:host":"az21.dc1#2","os-vol-mig-status-attr:migstat":null,"os-vol-mig-status-attr:name_id":null,"os-vol-tenant-attr:tenant_id":"051375756c80d5eb2ff0c014498645fb","os-volume-replication:extended_status":null,"replication_status":"disabled","service_type":"EVS","shareable":false,"size":40,"snapshot_id":null,"status":"in-use","updated_at":"2019-08-09T06:19:35.874737","user_id":"75f26e17348643bfb7718578b04635c2","volume_image_metadata":{"__description":"","__image_cache_type":"Not_Cache","__image_location":"192.149.46.200:5443:pcsimssouthchina:c6c153a6-dde8-4bac-8e40-3d7619436934","__image_size":"911269888","__image_source_type":"uds","__imagetype":"gold","__isregistered":"true","__os_bit":"64","__os_type":"Linux","__os_version":"CentOS 7.3 64bit","__platform":"CentOS","__quick_start":"False","__support_kvm":"true","__support_xen":"true","checksum":"d41d8cd98f00b204e9800998ecf8427e","container_format":"bare","disk_format":"zvhd2","file_format":"zvhd2","image_id":"c6c153a6-dde8-4bac-8e40-3d7619436934","image_name":"test-hua-centos7.3-0725","min_disk":"20","min_ram":"0","size":"0","virtual_env_type":"FusionCompute"},"volume_type":"SAS"},"resource_id":"7fa6b592-ac75-460d-a28a-bb17429d1eb2","resource_name":"resource1","tags":[{"key":"key1","value":"value1"},{"key":"key1","value":"value2"}]}],"total_count":1}},"schema":{"$ref":"#/definitions/ListVolumesByTagsResponseBody"}},"400":{"description":"Bad Request","examples":{"application/json":{"error":{"code":"XXX","message":"XXXX"}}},"schema":{"$ref":"#/definitions/ErrorResponseBody"}}},"summary":"通过标签查询云硬盘资源实例详情","tags":["云硬盘标签"],"x-apiexplorer-hide":"false","x-constraint":"","x-first-open-time":"2017/9/30","x-hybridcloud":"","x-is-registered":"Y","x-name":"通过标签查询云硬盘资源实例详情","x-open-region-cloud":"hc,hk,otc","x-order":28,"x-publishpath":"","x-request-examples-1":{"action":"filter","limit":100,"matches":[{"key":"resource_name","value":"resource1"},{"key":"service_type","value":"EVS"}],"offset":100,"tags":[{"key":"key1","values":["value1","value2"]}]},"x-request-examples-description-1":"","x-request-examples-text-1":"{\n\t\"offset\": 100,\n\t\"limit\": 100,\n\t\"action\": \"filter\",\n\t\"tags\": [{\n\t\t\"key\": \"key1\",\n\t\t\"values\": [\"value1\",\n\t\t\"value2\"]\n\t}],\n\t\"matches\": [{\n\t\t\"key\": \"resource_name\",\n\t\t\"value\": \"resource1\"\n\t},\n\t{\n\t\t\"key\": \"service_type\",\n\t\t\"value\": \"EVS\"\n\t}]\n}","x-request-examples-url-1":"POST https://{endpoint}/v2/{project_id}/cloudvolumes/resource_instances/action","x-scope":"Commercial","x-source":"SelfDeveloped","x-support-sdk":"Y","x-version":"v2"}}},"product_short":"EVS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"通过标签查询云硬盘资源实例详情","tags":"云硬盘标签","uri":null,"version":"2.0"}