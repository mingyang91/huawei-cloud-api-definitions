{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"BssParam":{"description":"表示包周期计费模式的相关参数。\n\n如果为空,则默认计费模式为按需计费;否则是包周期方式。","properties":{"charging_mode":{"description":"计费模式。\n\n功能说明:付费方式。\n\n取值范围:\n  - prePaid:预付费,即包年包月;\n  - postPaid:后付费,即按需付费;\n\n默认为postPaid。","enum":["prePaid","postPaid"],"type":"string","x-no-support-region":"hcs"},"is_auto_pay":{"description":"下单订购后,是否自动从客户的账户中支付,而不需要客户手动去进行支付。\n\n取值范围:\n  - true:是(自动支付)\n  - false:否(需要客户手动支付)\n\n默认为手动支付。","type":"boolean"},"is_auto_renew":{"description":"是否自动续订。\n\n取值范围:\n  - true: 自动续订。\n  - false: 不自动续订。\n\n默认不自动续订。","type":"boolean"},"period_num":{"description":"订购周期数。\n\n取值范围:\n\n - periodType=month(周期类型为月)时,取值为[1,9];\n - periodType=year(周期类型为年)时,取值为[1,3];\n\n**chargingMode为prePaid时生效且为必选值。**","type":"integer"},"period_type":{"description":"订购周期类型。\n\n取值范围:\n  - month:月\n  - year:年\n\n**chargingMode为prePaid时生效且为必选值。**","enum":["month","year"],"type":"string"}},"type":"object","x-no-support-region":"hcs"},"CreateInstanceReq":{"description":"创建实例请求体。","example":{"access_user":"******","available_zones":["d573142f24894ef3bd3664de068b44b0"],"broker_num":3,"description":"","enable_publicip":false,"engine":"RabbitMQ","engine_version":"3.8.35","maintain_begin":"22:00","maintain_end":"02:00","name":"rabbitmq-demo","password":"******","product_id":"00300-30109-0--0","publicip_id":"c6.4u8g.cluster","security_group_id":"0aaa0033-bf7f-4c41-a6c2-18cd04cad2c8","ssl_enable":false,"storage_space":100,"storage_spec_code":"dms.physical.storage.ultra.v2","subnet_id":"b5fa806c-35e7-4299-b659-b39398dd4718","vpc_id":"1e93f86e-13af-46c8-97d6-d40fa62b76c2"},"properties":{"access_user":{"description":"认证用户名,只能由英文字母开头且由英文字母、数字、中划线、下划线组成,长度为4~64的字符。","type":"string"},"available_zones":{"description":"创建节点到指定且有资源的可用区ID。请参考[查询可用区信息](ListAvailableZones.xml)获取可用区ID。\n\n该参数不能为空数组或者数组的值为空。","items":{"description":"可用区ID。","type":"string"},"type":"array"},"broker_num":{"description":"代理个数。\n\n当产品为单机类型,代理个数只能为1;当产品为集群类型,可选3、5、7个代理个数。\n\n产品类型为single时:\n  - 1\n\n产品类型为cluster时:\n  - 3\n  - 5\n  - 7","enum":[1,3,5,7],"format":"int32","type":"integer"},"bss_param":{"$ref":"#/definitions/BssParam","x-no-support-region":"hcs"},"description":{"description":"实例的描述信息。\n\n长度不超过1024的字符串。\n\n> \\与\"在json报文中属于特殊字符,如果参数值中需要显示\\或者\"字符,请在字符前增加转义字符\\,比如\\\\或者\\\"。","type":"string"},"enable_publicip":{"description":"RabbitMQ实例是否开启公网访问功能。\n- true:开启\n- false:不开启","type":"boolean"},"engine":{"description":"消息引擎:rabbitmq。","enum":["rabbitmq"],"type":"string"},"engine_version":{"description":"消息引擎的版本。\n  - RabbitMQ版本有:3.8.35、AMQP-0-9-1。","type":"string"},"enterprise_project_id":{"description":"企业项目ID。若为企业项目账号,该参数必填。","type":"string"},"maintain_begin":{"description":"维护时间窗开始时间,格式为HH:mm。\n- 维护时间窗开始和结束时间必须为指定的时间段。\n- 开始时间必须为22:00、02:00、06:00、10:00、14:00和18:00。\n- 该参数不能单独为空,若该值为空,则结束时间也为空。系统分配一个默认开始时间02:00。","type":"string"},"maintain_end":{"description":"维护时间窗结束时间,格式为HH:mm。\n- 维护时间窗开始和结束时间必须为指定的时间段。\n- 结束时间在开始时间基础上加四个小时,即当开始时间为22:00时,结束时间为02:00。\n- 该参数不能单独为空,若该值为空,则开始时间也为空,系统分配一个默认结束时间06:00。","type":"string"},"name":{"description":"实例名称。\n\n由英文字符开头,只能由英文字母、数字、中划线、下划线组成,长度为4~64的字符。","type":"string"},"password":{"description":"实例的认证密码。\n\n复杂度要求:\n- 输入长度为8到32位的字符串。\n- 必须包含如下四种字符中的两种组合:\n  - 小写字母\n  - 大写字母\n  - 数字\n  - 特殊字符包括(`~!@#$%^&*()-_=+\\|[{}]:'\",<.>/?)","type":"string"},"product_id":{"description":"产品标识。\n\n产品ID可以从[查询产品规格列表](ListEngineProducts.xml)获取。\n\n\n\n如果产品ID为集群类型(即对应的type为cluster),broker_num字段为必选。","type":"string"},"publicip_id":{"description":"RabbitMQ实例绑定的弹性IP地址的ID。\n如果开启了公网访问功能(即enable_publicip为true),该字段为必选。","type":"string"},"security_group_id":{"description":"租户安全组ID。\n\n获取方法如下:登录虚拟私有云服务的控制台界面,在安全组的详情页面查找安全组ID。","type":"string"},"ssl_enable":{"description":"是否打开SSL加密访问。\n- true:打开SSL加密访问。\n- false:不打开SSL加密访问。","type":"boolean"},"storage_space":{"description":"消息存储空间,单位GB。\n  - 单机RabbitMQ实例的存储空间的取值范围100GB~90000GB。\n\n  \n\n  - 集群RabbitMQ实例的存储空间的取值范围为100GB*节点数~90000GB、200GB*节点数~90000GB、300GB*节点数~90000GB。","type":"integer"},"storage_spec_code":{"description":"存储IO规格。\n\n如何选择磁盘类型请参考[磁盘类型及性能介绍](https://support.huaweicloud.com/productdesc-evs/zh-cn_topic_0044524691.html)。\n\n\n\n取值范围:\n  - dms.physical.storage.high.v2\n  - dms.physical.storage.ultra.v2\n  - dms.physical.storage.high.dss.v2(专属云)\n  - dms.physical.storage.ultra.dss.v2(专属云)","enum":["dms.physical.storage.high.v2","dms.physical.storage.ultra.v2","dms.physical.storage.high.dss.v2","dms.physical.storage.ultra.dss.v2"],"type":"string"},"subnet_id":{"description":"子网ID。\n\n获取方法如下:登录虚拟私有云服务的控制台界面,单击VPC下的子网,进入子网详情页面,查找网络ID。","type":"string"},"tags":{"description":"标签列表。","items":{"$ref":"#/definitions/TagEntity"},"type":"array","x-no-support-region":"hcs"},"vpc_id":{"description":"租户VPC ID。\n\n获取方法如下:登录虚拟私有云服务的控制台界面,在虚拟私有云的详情页面查找VPC ID。","type":"string"}},"required":["name","engine","engine_version","storage_space","vpc_id","security_group_id","subnet_id","available_zones","product_id","storage_spec_code"],"type":"object"},"CreateInstanceResp":{"properties":{"instance_id":{"description":"实例ID。","type":"string"}},"type":"object"},"TagEntity":{"properties":{"key":{"description":"标签键。\n\n- 不能为空。\n\n- 对于同一个实例,Key值唯一。\n\n\n\n- 长度为1~128个字符(中文也可以输入128个字符)。\n\n\n\n- 由任意语种字母、数字、空格和字符组成,字符仅支持_ . : = + - @\n\n- 首尾字符不能为空格。","type":"string"},"value":{"description":"标签值。\n\n\n\n\n\n- 长度为0~255个字符(中文也可以输入255个字符)。\n\n\n\n- 由任意语种字母、数字、空格和字符组成,字符仅支持_ . : = + - @\n\n- 首尾字符不能为空格。","type":"string"}},"type":"object"}},"description":null,"group_id":"01d11699e8074781a7ab0fb1c8d994e7","host":"dms.cn-north-4.myhuaweicloud.com","id":"2918a70219e24596bb1a6bd18b0edc67","info_version":"v2","method":"post","name":"CreatePostPaidInstanceByEngine","parameters":{},"paths":{"/v2/{engine}/{project_id}/instances":{"post":{"description":"创建实例,该接口支持创建按需和包周期计费方式的实例。","operationId":"CreatePostPaidInstanceByEngine","parameters":[{"default":"rabbitmq","description":"消息引擎。","enum":["rabbitmq"],"in":"path","name":"engine","required":true,"type":"string","x-order":1},{"description":"项目ID,获取方式请参见[获取项目ID](rabbitmq-api-190611012.xml)。","in":"path","name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx","x-order":2},{"description":"请求消息。","in":"body","name":"CreatePostPaidInstanceByEngineRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateInstanceReq"},"x-order":3}],"responses":{"200":{"description":"创建实例成功。","examples":{"application/json":{"instance_id":"8959ab1c-7n1a-yyb1-a05t-93dfc361b32d"}},"schema":{"$ref":"#/definitions/CreateInstanceResp"}}},"summary":"创建实例","tags":["生命周期管理"],"x-api-type":"open-api","x-hybridcloud":true,"x-is-registered":"Y","x-name":"创建实例(按需)","x-open-region-cloud":"hws,ct,hws_eu,hws_hk,g42,hk_g42,tm,hk_tm,ctc,hcs","x-order":1,"x-produc-type":"rabbitmq","x-request-examples-1":{"access_user":"******","available_zones":["d573142f24894ef3bd3664de068b44b0"],"description":"","enable_publicip":false,"engine":"RabbitMQ","engine_version":"3.8.35","name":"rabbitmq-demo","password":"******","product_id":"c6.2u4g.single","publicip_id":"","security_group_id":"0aaa0033-bf7f-4c41-a6c2-18cd04cad2c8","ssl_enable":false,"storage_space":100,"storage_spec_code":"dms.physical.storage.high.v2","subnet_id":"b5fa806c-35e7-4299-b659-b39398dd4718","vpc_id":"1e93f86e-13af-46c8-97d6-d40fa62b76c2"},"x-request-examples-2":{"access_user":"******","available_zones":["d573142f24894ef3bd3664de068b44b0"],"bss_param":{"charging_mode":"prePaid","is_auto_pay":true,"period_num":1,"period_type":"month"},"description":"","enable_publicip":false,"engine":"RabbitMQ","engine_version":"3.8.35","name":"rabbitmq-demo","password":"******","product_id":"c6.2u4g.single","publicip_id":"","security_group_id":"0aaa0033-bf7f-4c41-a6c2-18cd04cad2c8","ssl_enable":false,"storage_space":100,"storage_spec_code":"dms.physical.storage.high.v2","subnet_id":"b5fa806c-35e7-4299-b659-b39398dd4718","vpc_id":"1e93f86e-13af-46c8-97d6-d40fa62b76c2"},"x-request-examples-3":{"access_user":"******","available_zones":["d573142f24894ef3bd3664de068b44b0"],"description":"","enable_publicip":false,"engine":"RabbitMQ","engine_version":"3.8.35","name":"rabbitmq-demo","password":"******","product_id":"c6.4u16g.cluster.x86","publicip_id":"","security_group_id":"0aaa0033-bf7f-4c41-a6c2-18cd04cad2c8","ssl_enable":false,"storage_space":300,"storage_spec_code":"dms.physical.storage.high.v2","subnet_id":"b5fa806c-35e7-4299-b659-b39398dd4718","vpc_id":"1e93f86e-13af-46c8-97d6-d40fa62b76c2"},"x-request-examples-4":{"available_zones":["9f1c5806706d4c1fb0eb72f0a9b18c77"],"broker_num":1,"description":"","enable_acl":true,"enable_publicip":false,"engine":"RabbitMQ","engine_version":"AMQP-0-9-1","enterprise_project_id":0,"name":"rabbitmq-aor-demo","product_id":"amqp.b1.large.1","security_group_id":"030f635d-b407-4ffb-b530-6b4eaf8edc03","ssl_enable":false,"storage_space":100,"storage_spec_code":"dms.physical.storage.high.v2","subnet_id":"89c1cb26-787b-4d66-a6e4-1bd887f19183","vpc_id":"05590544-f553-4158-be38-c791589ad303"},"x-request-examples-description-1":"创建一个按需付费的RabbitMQ实例,版本为3.8.35,规格为2U4G*1,100GB的存储空间。","x-request-examples-description-2":"创建一个包年包月的RabbitMQ实例,版本为3.8.35,规格为2U4G*1,100GB的存储空间。","x-request-examples-description-3":"创建一个RabbitMQ实例,版本为3.8.35,规格为4U16G*3,300GB的存储空间。","x-request-examples-description-4":"创建一个RabbitMQ实例,版本为AMQP-0-9-1,规格为amqp.b1.large.1,100GB的存储空间。","x-request-examples-tags-1":"hws,hws_eu,hws_hk,ocb,hws_ocb,ctc,g42,hk_g42,tm,hk_tm","x-request-examples-tags-2":"hws,hws_eu,hws_hk,ocb,hws_ocb,ctc,g42,hk_g42,tm,hk_tm","x-request-examples-tags-3":"hcs","x-request-examples-tags-4":"hws,hws_hk","x-request-examples-url-1":"POST https://{endpoint}/v2/{engine}/{project_id}/instances","x-request-examples-url-2":"POST https://{endpoint}/v2/{engine}/{project_id}/instances","x-request-examples-url-3":"POST https://{endpoint}/v2/{engine}/{project_id}/instances","x-request-examples-url-4":"POST https://{endpoint}/v2/{engine}/{project_id}/instances","x-support-sdk":"Y"}}},"product_short":"RabbitMQ","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建实例","tags":"生命周期管理","uri":null,"version":"2.0"}