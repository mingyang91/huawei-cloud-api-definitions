{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"DeployedResourceDetail":{"properties":{"region_resources":{"description":"局点资源列表,详情请参见RegionResourceDetail字段数据结构说明。","items":{"$ref":"#/definitions/RegionResourceDetail"},"maxItems":100,"minItems":0,"type":"array"},"resource_location":{"description":"全局服务或Region级服务。","maxLength":63,"minLength":0,"type":"string"},"resource_num":{"description":"证书在当前服务已部署资源数量。","maximum":1000,"minimum":0,"type":"integer"},"service":{"description":"证书已部署资源服务名称。\n- WAF:证书关联Web应用防火墙的资源。\n- CDN:证书关联内容分发网络的资源。\n- ELB:证书关联弹性负载均衡(经典型)的资源。","maxLength":5,"minLength":0,"type":"string"}},"required":["service","resource_num","resource_location","region_resources"],"title":"DeployedResourceDetail","type":"object"},"Error":{"properties":{"error_code":{"description":"错误请求返回的错误码。","maxLength":36,"minLength":3,"type":"string"},"error_msg":{"description":"错误请求返回的错误信息。","maxLength":1024,"minLength":0,"type":"string"}},"title":"Error","type":"object"},"ListDeployedResourcesRequestBody":{"properties":{"certificate_ids":{"description":"证书ID列表。","items":{"maxLength":16,"minLength":16,"type":"string"},"maxItems":50,"minItems":1,"type":"array"},"service_names":{"description":"服务名称列表。\n- WAF:查询证书关联Web应用防火墙的资源。\n- CDN:查询证书关联内容分发网络的资源。\n- ELB:查询证书关联弹性负载均衡(经典型)的资源。\n- OSB:查询证书关联对象存储服务的资源。\n- ALL:查询证书以上四种服务的资源。","items":{"maxLength":5,"minLength":0,"type":"string"},"maxItems":50,"minItems":1,"type":"array"}},"required":["certificate_ids","service_names"],"title":"ListDeployedResourcesRequestBody","type":"object"},"ListDeployedResourcesResponseBody":{"properties":{"results":{"description":"请求结果列表,详情请参见ResultDetail字段数据结构说明。","items":{"$ref":"#/definitions/ResultDetail"},"maxItems":50,"minItems":1,"type":"array"}},"required":["results"],"title":"ListDeployedResourcesResponseBody","type":"object"},"RegionResourceDetail":{"properties":{"is_error":{"description":"请求当前region资源信息过程中,响应是否存在异常的标志。\n- true : 存在异常,当前region所统计数据不准确\n- false: 无异常,当前region所统计数据准确","type":"boolean"},"region_id":{"description":"局点ID。当服务为全局服务时,region_id为global,其余按照IAM的标准命名。","maxLength":63,"minLength":0,"type":"string"},"resources":{"description":"资源集合,每个资源的标识:资源ID + “:” + 资源名称,详情请参见ResourceDetail字段数据结构说明。","items":{"$ref":"#/definitions/ResourceDetail"},"maxItems":100,"minItems":0,"type":"array"}},"required":["region_id","is_error","resources"],"title":"RegionResourceDetail","type":"object"},"ResourceDetail":{"properties":{"resource_id":{"description":"资源ID。","maxLength":63,"minLength":0,"type":"string"},"resource_name":{"description":"资源名称。","maxLength":63,"minLength":0,"type":"string"}},"required":["resource_id","resource_name"],"title":"ResourceDetail","type":"object"},"ResultDetail":{"properties":{"certificate_id":{"description":"证书ID。","maxLength":16,"minLength":16,"type":"string"},"deployed_resources":{"description":"当前证书已部署资源列表,详情请参见DeployedResourceDetail字段数据结构说明。","items":{"$ref":"#/definitions/DeployedResourceDetail"},"maxItems":100,"minItems":0,"type":"array"},"total_num":{"description":"当前证书在所查询服务中已部署资源总数。","maximum":1000,"minimum":0,"type":"integer"}},"required":["certificate_id","total_num","deployed_resources"],"title":"ResultDetail","type":"object"}},"description":null,"group_id":"6c0af9a6fc764276a2f3c878bd88f655","host":"scm.cn-north-4.myhuaweicloud.com","id":"88eb3dc9deed4cd2ba8e95e1b78a145e","info_version":"v3","method":"post","name":"ListDeployedResources","parameters":{},"paths":{"/v3/scm/deployed-resources":{"post":{"consumes":["application/json"],"description":"查询证书已部署的具体资源。针对已签发和上传的非国密证书","operationId":"ListDeployedResources","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":2097152,"minLength":32,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"requestBody","in":"body","name":"ListDeployedResourcesRequestBody","required":true,"schema":{"$ref":"#/definitions/ListDeployedResourcesRequestBody"}}],"produces":["*/*"],"responses":{"200":{"description":"正常返回。","examples":{"application/json":{"results":[{"certificate_id":"scs1665472591541","deployed_resources":[{"region_resources":[{"is_error":false,"region_id":"cn-north-7","resources":[{"resource_id":"d93c9fe40959468eb2baf32590a1140a","resource_name":"xxxx"}]}],"resource_location":"region","resource_num":1,"service":"ELB"}],"total_num":1}]}},"schema":{"$ref":"#/definitions/ListDeployedResourcesResponseBody"}},"401":{"description":"认证失败。","examples":{"application/json":{"error_code":"SCM.XXX","error_msg":"XXX"}},"schema":{"$ref":"#/definitions/Error"}},"403":{"description":"禁止访问。","examples":{"application/json":{"error_code":"SCM.XXX","error_msg":"XXX"}},"schema":{"$ref":"#/definitions/Error"}},"404":{"description":"访问页面未找到。"},"500":{"description":"请求未完成,服务器内部异常。","examples":{"application/json":{"error_code":"SCM.XXX","error_msg":"XXX"}},"schema":{"$ref":"#/definitions/Error"}}},"summary":"查询已部署资源","tags":["证书部署管理"],"x-hc":"Y","x-is-registered":"Y","x-open-region-cloud":"hc","x-request-examples-1":{"certificate_ids":["scs1665472591541"],"service_names":["WAF"]},"x-support-sdk":"Y"}}},"product_short":"SCM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询已部署资源","tags":"证书部署管理","uri":null,"version":"2.0"}