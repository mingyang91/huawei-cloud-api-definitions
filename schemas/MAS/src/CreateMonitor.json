{"base_path":null,"components":null,"consumes":"[\"application/json\"]","definitions":{"CommonParameters":{"properties":{"auth_arguments":{"type":"object"},"auth_type":{"type":"string"},"headers":{"additionalProperties":{"type":"string"},"type":"object"},"method":{"type":"string"},"status-code":{"format":"int32","type":"integer"},"url":{"type":"string"}},"type":"object"},"DBSlaveStatusInfo":{"properties":{"dc_health":{"type":"string"},"dc_ready":{"type":"string"},"host":{"type":"string"}},"type":"object"},"DrsConf":{"properties":{"enable":{"type":"boolean"},"endpoint":{"type":"string"},"job-id":{"type":"string"},"multi_active_zone_id":{"type":"string"},"project-id":{"type":"string"}},"type":"object"},"ErrorMessage":{"properties":{"error_code":{"type":"string"},"error_msg":{"type":"string"},"requestId":{"type":"string"}},"type":"object"},"FailStrategy":{"properties":{"actions":{"items":{"$ref":"#/definitions/Map«string,object»"},"type":"array"},"max-fail-times":{"format":"int32","type":"integer"}},"type":"object"},"HealthCheck":{"properties":{"fail":{"$ref":"#/definitions/FailStrategy"},"interval":{"format":"int32","type":"integer"},"retry":{"$ref":"#/definitions/RetryStrategy"}},"type":"object"},"Monitor":{"properties":{"application_id":{"type":"string"},"created_date":{"format":"date-time","type":"string"},"id":{"type":"string"},"instance_id":{"type":"string"},"monitor_status_info":{"$ref":"#/definitions/MonitorStatusInfo"},"name":{"type":"string"},"open":{"type":"boolean"},"spec":{"$ref":"#/definitions/MonitorSpec"},"type":{"type":"string"},"updated_date":{"format":"date-time","type":"string"}},"type":"object"},"MonitorDcInfo":{"properties":{"azs":{"type":"string"},"cloud":{"type":"string"},"hosts":{"type":"string"},"nodes":{"items":{"$ref":"#/definitions/MonitorNodeInfo"},"type":"array"},"parameters":{"$ref":"#/definitions/CommonParameters"},"password":{"type":"string"},"protocol":{"type":"string"},"region":{"type":"string"},"type":{"type":"string"},"username":{"type":"string"}},"type":"object"},"MonitorDcStatusInfo":{"properties":{"dc_health":{"type":"string"},"dc_ready":{"type":"string"},"readable":{"type":"string"},"slaves":{"items":{"$ref":"#/definitions/DBSlaveStatusInfo"},"type":"array"},"writeable":{"type":"string"}},"type":"object"},"MonitorNodeInfo":{"properties":{"host":{"type":"string"},"port":{"format":"int32","type":"integer"},"role":{"type":"string"},"server":{"type":"string"}},"type":"object"},"MonitorSpec":{"properties":{"connection_timeout":{"format":"int32","type":"integer"},"db_names":{"items":{"type":"string"},"type":"array"},"drs":{"$ref":"#/definitions/DrsConf"},"engine":{"type":"string"},"health_check":{"$ref":"#/definitions/HealthCheck"},"monitordb":{"type":"string"},"monitordbs":{"items":{"type":"string"},"type":"array"},"notify":{"$ref":"#/definitions/NotifyConf"},"open_switch":{"type":"boolean"},"password":{"type":"string"},"retry_interval":{"format":"int32","type":"integer"},"route_algorithm":{"type":"string"},"servers":{"additionalProperties":{"$ref":"#/definitions/MonitorDcInfo"},"type":"object"},"success_times":{"format":"int32","type":"integer"},"timeout":{"format":"int32","type":"integer"},"type":{"type":"string"},"user_name":{"type":"string"},"version":{"type":"string"}},"type":"object"},"MonitorStatusInfo":{"properties":{"active":{"type":"string"},"dc_status":{"additionalProperties":{"$ref":"#/definitions/MonitorDcStatusInfo"},"type":"object"},"monitor_close":{"type":"string"}},"type":"object"},"NotifyConf":{"properties":{"enable":{"type":"boolean"},"endpoint":{"type":"string"},"project-id":{"type":"string"},"topic-urn":{"type":"string"}},"type":"object"},"RetryStrategy":{"properties":{"actions":{"items":{"$ref":"#/definitions/Map«string,object»"},"type":"array"},"backoff_algorithm":{"type":"string"},"max_delay":{"format":"int32","type":"integer"},"min_delay":{"format":"int32","type":"integer"}},"type":"object"}},"description":null,"group_id":"a467e2fe7fb14b34be8e54d280d83c6d","host":"mas.cn-north-4.myhuaweicloud.com","id":"74b90071db744a3189a6894e39126597","info_version":"v1","method":"post","name":"CreateMonitor","parameters":{},"paths":{"/v1/{project_id}/instances/{instance_id}/monitors":{"post":{"consumes":["application/json"],"operationId":"CreateMonitor","parameters":[{"in":"path","name":"instance_id","required":true,"type":"string"},{"in":"path","name":"project_id","required":true,"type":"string"},{"in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"req","in":"body","name":"req","required":true,"schema":{"$ref":"#/definitions/Monitor"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Monitor"}},"201":{"description":"创建成功","schema":{"$ref":"#/definitions/Monitor"}},"400":{"description":"请求格式错误","schema":{"$ref":"#/definitions/ErrorMessage"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"summary":"创建监控器","tags":["监控管理"],"x-support-sdk":"N"}}},"product_short":"MAS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建监控器","tags":"监控管理","uri":null,"version":"2.0"}