{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"Bucket":{"properties":{"bucket_location":{"description":"标识桶位置。","maxLength":32,"minLength":1,"type":"string"},"bucket_name":{"description":"标识OBS桶名称。由数字或字母开头,支持小写字母、数字、“-”、“.”,长度为3~63个字符。","example":"obs-f1da","maxLength":63,"minLength":3,"type":"string"},"check_bucket_response":{"$ref":"#/definitions/CheckBucketResponse","description":"转储OBS桶的检查结果。"},"is_support_trace_files_encryption":{"description":"事件文件转储加密功能开关。\n该参数必须与kms_id参数同时使用。","type":"boolean"},"kms_id":{"description":"事件文件转储加密所采用的秘钥id。 如果is_support_trace_files_encryption\"参数值为“是”时,此参数为必选项。","maxLength":200,"minLength":0,"type":"string"}},"required":["bucket_name","is_support_trace_files_encryption"],"type":"object"},"CheckBucketRequest":{"properties":{"bucket_location":{"description":"标识OBS桶位置。","maxLength":32,"minLength":1,"type":"string"},"bucket_name":{"description":"标识OBS桶名称。由数字或字母开头,支持小写字母、数字、“-”、“.”,长度为3~63个字符。","maxLength":63,"minLength":3,"type":"string"},"is_support_trace_files_encryption":{"description":"事件文件转储加密功能开关。\n该参数必须与kms_id参数同时使用。","type":"boolean"},"kms_id":{"description":"事件文件转储加密所采用的秘钥id,is_support_trace_files_encryption\"参数值为“是”时,此参数为必选项。","maxLength":200,"minLength":0,"type":"string"}},"required":["bucket_name","bucket_location"],"type":"object"},"CheckBucketResponse":{"properties":{"error_code":{"description":"错误码。","maxLength":15,"minLength":15,"type":"string"},"error_message":{"description":"错误信息。","maxLength":2048,"minLength":0,"type":"string"},"response_code":{"description":"返回的http状态码。","exclusiveMaximum":true,"exclusiveMinimum":true,"format":"int32","maximum":1000,"minimum":0,"type":"integer"},"success":{"description":"是否成功转储。","type":"boolean"}},"type":"object"},"CheckBucketResponseBody":{"properties":{"buckets":{"description":"检查OBS桶状态响应体。","items":{"$ref":"#/definitions/Bucket"},"maxItems":100,"minItems":1,"type":"array"}},"type":"object"},"CheckObsBucketsRequestBody":{"properties":{"buckets":{"description":"请求检查的OBS桶列表。","items":{"$ref":"#/definitions/CheckBucketRequest"},"maxItems":100,"minItems":0,"type":"array"}},"type":"object"},"FailedRsp":{"description":"失败时的返回对象。","properties":{"error_code":{"description":"错误码标识,CTS.XXX。","example":"CTS.0214","maxLength":15,"minLength":15,"type":"string"},"error_msg":{"description":"错误描述。","example":"The tracker does not exist.","maxLength":2048,"minLength":0,"type":"string"}},"required":["error_code","error_msg"]}},"description":null,"group_id":"fb21f09f03c44339a10d3ee7b60da942","host":"cts.cn-north-4.myhuaweicloud.com","id":"c98fb3cf2e9b4117a16962ac97cb874b","info_version":"v3","method":"post","name":"CheckObsBuckets","parameters":{},"paths":{"/v3/{domain_id}/checkbucket":{"post":{"deprecated":false,"description":"检查已经配置OBS桶是否可以成功转储。","operationId":"CheckObsBuckets","parameters":[{"description":"账户id,参见《云审计服务API参考》“获取账号ID和项目ID”章节。","in":"path","maxLength":40,"minLength":15,"name":"domain_id","required":true,"type":"string"},{"description":"检查obs状态请求体。","in":"body","name":"CheckObsBucketsRequestBody","required":true,"schema":{"$ref":"#/definitions/CheckObsBucketsRequestBody"}}],"responses":{"200":{"description":"请求成功。","examples":{"application/json":{"buckets":[{"bucket_location":"cn-north-1","bucket_name":"bucket1","check_bucket_response":{"response_code":200,"success":true},"is_support_trace_files_encryption":false,"kms_id":"1f26f8d8-65d4-436b-bea2-bd0ac1984f71"},{"bucket_location":"cn-north-2","bucket_name":"bucket2","check_bucket_response":{"error_code":"OBS.NoSuchBucket","error_message":"Error message:Request Error.OBS servcie Error Message.","response_code":404,"success":false},"is_support_trace_files_encryption":false,"kms_id":"0c1b7d87-5186-411a-86ce-ed3b2ec848c9"}]}},"schema":{"$ref":"#/definitions/CheckBucketResponseBody"}},"400":{"description":"服务器未能处理请求。","schema":{"$ref":"#/definitions/FailedRsp"}},"401":{"description":"请求鉴权校验失败,访问被拒绝。","schema":{"$ref":"#/definitions/FailedRsp"}},"403":{"description":"请求权限校验失败,访问被禁止。","schema":{"$ref":"#/definitions/FailedRsp"}},"404":{"description":"请求资源不存在,请求未完成。","schema":{"$ref":"#/definitions/FailedRsp"}},"500":{"description":"服务内部异常,请求未完成。","schema":{"$ref":"#/definitions/FailedRsp"}},"503":{"description":"被请求的服务无效。建议直接修改该请求,不要重试该请求。","schema":{"$ref":"#/definitions/FailedRsp"}}},"summary":"检查已经配置OBS桶是否可以成功转储","tags":["其它接口"],"x-is-registered":"Y","x-open-region-cloud":"hc,ctc,sbc,g42,tm,cmcc,hws_hk,hws_eu,fcs,hk_g42,hcso_dt","x-publishpath":"cts_api_0335","x-request-examples-1":{"buckets":[{"bucket_location":"cn-north-1","bucket_name":"bucket1","is_support_trace_files_encryption":false,"kms_id":"1f26f8d8-65d4-436b-bea2-bd0ac1984f71"},{"bucket_location":"cn-north-2","bucket_name":"bucket2","is_support_trace_files_encryption":false,"kms_id":"0c1b7d87-5186-411a-86ce-ed3b2ec848c9"}]},"x-request-examples-description-1":"检查obs桶状态请求体示例","x-request-examples-text-1":{"buckets":[{"bucket_location":"cn-north-1","bucket_name":"bucket1","is_support_trace_files_encryption":false,"kms_id":"1f26f8d8-65d4-436b-bea2-bd0ac1984f71"},{"bucket_location":"cn-north-2","bucket_name":"bucket2","is_support_trace_files_encryption":false,"kms_id":"0c1b7d87-5186-411a-86ce-ed3b2ec848c9"}]},"x-request-examples-url-1":"GET https://{endpoint}/v3/{domain_id}/checkbucket","x-support-sdk":"Y"}}},"product_short":"CTS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"检查已经配置OBS桶是否可以成功转储","tags":"其它接口","uri":null,"version":"2.0"}