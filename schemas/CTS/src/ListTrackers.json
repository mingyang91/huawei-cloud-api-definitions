{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"DataBucketQuery":{"description":"追踪桶信息。","properties":{"data_bucket_name":{"description":"标识OBS桶名称。由数字或字母开头,支持小写字母、数字、“-”、“.”,长度为3~63个字符。","example":"obs-f1da","maxLength":63,"minLength":3,"type":"string"},"data_event":{"description":"数据类追踪器追踪对象的桶名。\n- 当启用或者停用数据类追踪器时,该参数为必选。\n- 管理类追踪器无此参数。\n- 追踪器一旦创建追踪桶无法修改。","example":"WRITE","items":{"enum":["WRITE","READ"],"type":"string"},"maxItems":2,"minItems":1,"type":"array"},"search_enabled":{"description":"追踪桶日志是否支持搜索。","example":"true","type":"boolean"}}},"FailedRsp":{"description":"失败时的返回对象。","properties":{"error_code":{"description":"错误码标识,CTS.XXX。","example":"CTS.0214","maxLength":15,"minLength":15,"type":"string"},"error_msg":{"description":"错误描述。","example":"The tracker does not exist.","maxLength":2048,"minLength":0,"type":"string"}},"required":["error_code","error_msg"]},"ListTrackerResponseBody":{"properties":{"trackers":{"description":"本次查询追踪器列表返回的追踪器数组。","items":{"$ref":"#/definitions/TrackerResponseBody"},"maxItems":101,"minItems":0,"type":"array"}}},"Lts":{"description":"云日志服务配置","properties":{"is_lts_enabled":{"description":"是否启用日志服务检索功能。","example":true,"type":"boolean"},"log_group_name":{"description":"云审计服务在日志服务中创建的日志组名称。","example":"CTS","maxLength":100,"minLength":0,"type":"string"},"log_topic_name":{"description":"云审计服务在日志服务中创建的日志主题名称。","example":"system-trace","maxLength":100,"minLength":0,"type":"string"}}},"ManagementEventSelector":{"description":"管理类事件选择器。","properties":{"exclude_service":{"description":"标识不转储的云服务名称。\n目前只支持设置为KMS,表示屏蔽KMS服务的createDatakey事件。","example":"","items":{"example":"KMS","maxLength":20,"minLength":1,"type":"string"},"maxItems":10,"minItems":0,"type":"array"}},"type":"object"},"ObsInfo":{"description":"转储桶信息。","properties":{"bucket_lifecycle":{"description":"标识配置桶内对象存储周期。\n当\"tracker_type\"参数值为\"data\"时该参数值有效。","example":30,"format":"int64","maximum":100000,"minimum":0,"type":"integer"},"bucket_name":{"description":"标识OBS桶名称。由数字或字母开头,支持小写字母、数字、“-”、“.”,长度为3~63个字符。","example":"obs-f1da","maxLength":63,"minLength":3,"type":"string"},"compress_type":{"default":"gzip","description":"压缩类型。包括不压缩(json),压缩(gzip)两种状态。默认为gzip格式。","enum":["gzip","json"],"type":"string"},"file_prefix_name":{"description":"标识需要存储于OBS的日志文件前缀,0-9,a-z,A-Z,'-','.','_'长度为0~64字符。","example":"yO8Q","maxLength":64,"minLength":0,"type":"string"},"is_authorized_bucket":{"description":"标识配置桶是否已经授权给CTS服务账号。","example":"true","type":"boolean"},"is_obs_created":{"description":"标识配置桶是否由追踪器自动创建。","example":"true","type":"boolean"},"is_sort_by_service":{"default":true,"description":"路径按云服务划分,打开后转储文件路径中将增加云服务名。默认为true。","type":"boolean"}}},"TrackerResponseBody":{"properties":{"agency_name":{"description":"云服务委托名称。","enum":["cts_admin_trust"],"example":"cts_admin_trust","maxLength":32,"minLength":1,"type":"string"},"create_time":{"description":"追踪器创建时间戳。","example":1587958482923,"format":"int64","maximum":4102416000000,"minimum":946656000000,"type":"integer","x-order":2},"data_bucket":{"$ref":"#/definitions/DataBucketQuery","description":"数据类事件追踪桶信息。\n当\"tracker_type\"参数值为\"data\"时有效。","x-order":17},"detail":{"description":"该参数仅在追踪器状态异常时返回,用于标识追踪器异常的原因,包括桶策略异常(bucketPolicyError),桶不存在(noBucket)和欠费或冻结(arrears)三种原因。","example":"noBucket","maxLength":360,"minLength":0,"type":"string","x-order":12},"domain_id":{"description":"账号ID,参见《云审计服务API参考》“获取账号ID和项目ID”章节。","example":"aexxxxxxxx4d4fb4bexxxxxxx791fbf","maxLength":40,"minLength":15,"type":"string","x-order":8},"group_id":{"description":"LTS服务日志组的ID。","maxLength":36,"minLength":36,"type":"string","x-order":14},"id":{"description":"追踪器唯一标识。","example":"2e6fa9b8-8c6e-456d-b5d3-77be972d220b","maxLength":200,"minLength":0,"type":"string","x-order":1},"is_organization_tracker":{"default":false,"description":"是否应用到我的组织。\n只针对管理类追踪器。设置为true时,ORG组织下所有成员当前区域的审计日志会转储到该追踪器配置的OBS桶或者LTS日志流,但是事件列表界面不支持查看其它组织成员的审计日志。","type":"boolean"},"is_support_trace_files_encryption":{"description":"事件文件转储加密功能开关。\n该参数必须与kms_id参数同时使用。\n当前环境仅\"tracker_type\"参数值为\"system\"时支持该功能。","example":false,"type":"boolean","x-order":13},"is_support_validate":{"description":"是否打开事件文件校验。","example":true,"type":"boolean","x-order":4},"kms_id":{"description":"事件文件转储加密所采用的秘钥id(从KMS获取)。\n当\"tracker_type\"参数值为\"system\"和\"is_support_trace_files_encryption\"参数值为“是”时,此参数为必选项。","example":"13a4207c-7abe-4b68-8510-16b84c3b5504","maxLength":200,"minLength":0,"type":"string","x-order":3},"lts":{"$ref":"#/definitions/Lts","description":"事件分析"},"management_event_selector":{"$ref":"#/definitions/ManagementEventSelector"},"obs_info":{"$ref":"#/definitions/ObsInfo","description":"事件转储桶信息。","x-order":16},"project_id":{"description":"项目ID。","example":"bb1xxxxxxxxe4f498cbxxxxxxxx35634","maxLength":40,"minLength":15,"type":"string","x-order":9},"status":{"description":"标识追踪器状态,包括正常(enabled),停止(disabled)和异常(error)三种状态,状态为异常时需通过明细(detail)字段说明错误来源。","enum":["enabled","disabled"],"example":"disabled","type":"string","x-order":11},"stream_id":{"description":"LTS服务日志流的ID。","maxLength":36,"minLength":36,"type":"string","x-order":15},"tracker_name":{"description":"标识追踪器名称,当前版本默认为“system”。","example":"system","maxLength":64,"minLength":1,"type":"string","x-order":10},"tracker_type":{"description":"标识追踪器类型。\n目前支持系统追踪器类型有管理类追踪器(system)和数据类追踪器(data)。","enum":["system","data"],"type":"string","x-example":"system","x-order":7}},"type":"object"}},"description":null,"group_id":"fb21f09f03c44339a10d3ee7b60da942","host":"cts.cn-north-4.myhuaweicloud.com","id":"355d0916dc6e4324aa2efb96d9faec30","info_version":"v3","method":"get","name":"ListTrackers","parameters":{},"paths":{"/v3/{project_id}/trackers":{"get":{"consumes":[],"deprecated":false,"description":"开通云审计服务成功后,您可以在追踪器信息页面查看追踪器的详细信息。详细信息主要包括追踪器名称,用于存储操作事件的OBS桶名称和OBS桶中的事件文件前缀。","operationId":"ListTrackers","parameters":[{"description":"项目ID,参见《云审计服务API参考》“获取账号ID和项目ID”章节。","in":"path","maxLength":40,"minLength":15,"name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx","x-order":1},{"description":"标示追踪器名称。\n在不传入该字段的情况下,将查询租户所有的追踪器。","in":"query","maxLength":64,"minLength":1,"name":"tracker_name","required":false,"type":"string","x-example":"system","x-order":2},{"description":"标识追踪器类型。\n目前支持系统追踪器有管理类追踪器(system)和数据类追踪器(data)。","enum":["system","data"],"in":"query","maxLength":32,"minLength":1,"name":"tracker_type","required":false,"type":"string","x-example":"system","x-order":3}],"produces":[],"responses":{"200":{"description":"请求成功。","examples":{"application/json":{"trackers":[{"create_time":1589886034121,"domain_id":"2306579dc99f4c8690b14b68e734fcd9","groupId":"26fa12ac-75f7-42ed-8118-ab9f2263042f","id":"ebf8d1c3-762b-4ce3-b316-6b1aa32f8be3","is_support_trace_files_encryption":true,"is_support_validate":false,"kms_id":"7dbbb3fa-93e4-4528-bc7b-9beb794b0229","lts":{"is_lts_enabled":true,"log_group_name":"CTS","log_topic_name":"system-trace"},"obs_info":{"bucket_lifecycle":0,"bucket_name":"","file_prefix_name":"","is_authorized_bucket":false,"is_obs_created":false},"project_id":"24edf66e79d04187acb99a463e610764","status":"enabled","streamId":"4a1ef2b6-d79a-4dc6-90f0-48151cd5491b","tracker_name":"system","tracker_type":"system"},{"create_time":1589276171198,"data_bucket":{"data_bucket_name":"cstest0423","data_event":["READ","WRITE"],"search_enabled":false},"domain_id":"2306579dc99f4c8690b14b68e734fcd9","id":"c9a3961d-3aa0-4e60-8e63-dd4ce7f1a88a","is_support_trace_files_encryption":false,"is_support_validate":false,"lts":{"is_lts_enabled":false,"log_group_name":"CTS","log_topic_name":"sdsa"},"obs_info":{"bucket_lifecycle":0,"bucket_name":"","file_prefix_name":"","is_authorized_bucket":false,"is_obs_created":false},"project_id":"24edf66e79d04187acb99a463e610764","status":"enabled","tracker_name":"sdsa","tracker_type":"data"}]}},"schema":{"$ref":"#/definitions/ListTrackerResponseBody"}},"400":{"description":"服务器未能处理请求。","schema":{"$ref":"#/definitions/FailedRsp"}},"401":{"description":"请求鉴权校验失败,访问被拒绝。"},"403":{"description":"请求权限校验失败,访问被禁止。"},"500":{"description":"服务内部异常,请求未完成。"},"503":{"description":" 被请求的服务无效。建议直接修改该请求,不要重试该请求。"}},"summary":"查询追踪器","tags":["追踪器管理"],"x-is-registered":"Y","x-open-region-cloud":"hk,hc,hcso,g42","x-order":3,"x-publishpath":"cts_api_0323","x-request-examples-url-1":"GET https://{endpoint}/v3/{project_id}/trackers?tracker_name=system","x-support-sdk":"Y"}}},"product_short":"CTS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询追踪器","tags":"追踪器管理","uri":null,"version":"2.0"}