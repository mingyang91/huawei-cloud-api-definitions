{"base_path":"/","components":null,"consumes":"[\"application/json; charset=UTF-8\"]","definitions":{"CreateHarvestTaskInfoReq":{"description":"创建Live2Vod任务","properties":{"app_name":{"description":"组名或应用名","example":"live","maxLength":255,"minLength":1,"type":"string"},"domain":{"description":"频道推流域名","example":"www.huaweiott.pushdomain.com","maxLength":255,"minLength":1,"type":"string"},"end_time":{"description":"结束时间。Unix时间戳:单位是秒","example":1716610000,"maximum":32535086400,"minimum":978177600,"type":"integer"},"event_name":{"description":"事件名称。必选配置","example":"xxxx event","maxLength":255,"minLength":1,"type":"string"},"id":{"description":"频道ID。频道唯一标识,为必填项。频道ID不建议输入下划线“_”,否则会影响转码和截图任务","example":"channelId","maxLength":255,"minLength":2,"type":"string"},"package_info":{"$ref":"#/definitions/VodPackageInfo"},"start_time":{"description":"开始时间。Unix时间戳:单位是秒","maximum":32535086400,"minimum":978177600,"type":"integer"},"task_desc":{"description":"任务描述,可选配置","example":"任务描述","maxLength":255,"minLength":1,"type":"string"}},"required":["domain","app_name","id","start_time","end_time","event_name"],"type":"object"},"HarvestTaskCreateErrorRsp":{"description":"失败时返回的错误对象","properties":{"app_name":{"description":"组名或应用名","example":"live","maxLength":255,"minLength":1,"type":"string"},"domain":{"description":"频道推流域名","example":"www.huaweiott.pushdomain.com","maxLength":255,"minLength":1,"type":"string"},"error_code":{"description":"错误码","maxLength":3,"minLength":3,"type":"string"},"error_msg":{"description":"错误描述","maxLength":255,"minLength":1,"type":"string"},"id":{"description":"频道ID。频道唯一标识,为必填项。频道ID不建议输入下划线“_”,否则会影响转码和截图任务","example":"channelId","maxLength":255,"minLength":2,"type":"string"}},"required":["error_code","error_msg","domain","app_name","id"],"type":"object"},"HarvestTaskCreateSucRsp":{"description":"创建成功响应","properties":{"app_name":{"description":"组名或应用名","type":"string"},"create_time":{"description":"任务创建时间。Unix时间错,单位为秒","format":"int32","type":"integer"},"domain":{"description":"频道推流域名","type":"string"},"end_time":{"description":"结束时间。Unix时间错,单位为秒","format":"int32","type":"integer"},"event_name":{"description":"事件名称","type":"string"},"id":{"description":"频道ID。频道唯一标识,为必填项。频道ID不建议输入下划线“_”,否则会影响转码和截图任务","type":"string"},"job_id":{"description":"任务ID","example":"任务ID,由LMM生成","maxLength":255,"minLength":1,"type":"string"},"max_retry_cnt":{"description":"任务状态为FAILED时,最大允许重试的次数","format":"int32","type":"integer"},"package_info":{"$ref":"#/definitions/VodPackageInfo","description":"VOD 打包信息,包括DRM resourceID和转封装模板ID,模板ID通过VOD查询"},"start_time":{"description":"开始时间。Unix时间错,单位为秒","format":"int32","type":"integer"},"status":{"description":"任务状态,取值为 [ UNSTART、IN_PROGRESS、SUCCEEDED、FAILED ]","enum":["UNSTART","IN_PROGRESS","SUCCEEDED","FAILED"],"type":"string"},"task_desc":{"description":"任务描述","type":"string"}},"required":["job_id","domain","app_name","id","start_time","end_time","event_name","task_desc","status","max_retry_cnt"],"type":"object"},"VodPackageInfo":{"description":"VOD 打包信息,包括DRM resourceID和转封装模板ID,模板ID通过VOD查询","properties":{"packaging_group_id":{"description":"VOD 打包信息,转封装模板ID,模板ID通过VOD查询","example":"vod_group_id","maxLength":255,"minLength":1,"type":"string"},"resource_id":{"description":"DRM resourceID","example":"resource_id","maxLength":255,"minLength":1,"type":"string"}}}},"description":null,"group_id":"f01a6cf256d84c16985bc98f70ef068d","host":"live.cn-north-4.myhuaweicloud.com","id":"08b0eb0dc58c4db78150bd50e24cbeb4","info_version":"v1","method":"post","name":"CreateHarvestTask","parameters":{},"paths":{"/v1/{project_id}/ott/harvest/task":{"post":{"description":"创建Live2VOD任务。","operationId":"CreateHarvestTask","parameters":[{"description":"用户Token,使用Token鉴权方式时必选。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":256,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"服务鉴权Token,服务开启鉴权,必须携带Access-Control-Allow-Internal访问服务。","in":"header","maxLength":2048,"minLength":1,"name":"Access-Control-Allow-Internal","required":false,"type":"string"},{"description":"服务鉴权Token,服务开启鉴权,必须携带Access-Control-Allow-External访问服务。","in":"header","maxLength":2048,"minLength":1,"name":"Access-Control-Allow-External","required":false,"type":"string"},{"description":"项目ID,获取方法请参考[获取项目ID](live_26_0018.xml)。","in":"path","maxLength":64,"minLength":1,"name":"project_id","required":true,"type":"string","x-example":"70b76xxxxxx34253880af501cdxxxxxx"},{"description":"CreateHarvestTaskRequestBody","in":"body","name":"CreateHarvestTaskRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateHarvestTaskInfoReq"}}],"produces":["application/json"],"responses":{"200":{"description":"Demo Information","examples":{"application/json":{"app_name":"ott","create_time":1716608746,"domain":"push.testott.hls.com","end_time":1716608446,"event_name":"event_name xxx","id":"test","job_id":"domain_appName_id_startTime_endTime","max_retry_cnt":0,"package_info":{"packageing_group_id":null,"resource_id":null},"start_time":1716608446,"task_desc":"task_desc xxx"}},"schema":{"$ref":"#/definitions/HarvestTaskCreateSucRsp"}},"400":{"description":"Error response","examples":{"application/json":{"app_name":"ott","domain":"pushtest.perf.huaweicloud.com","error_code":"LIVE.103011018","error_msg":"The resource to create is already exists","id":"live2vod"}},"schema":{"$ref":"#/definitions/HarvestTaskCreateErrorRsp"}}},"summary":"创建Live2VOD任务","tags":["Live2VOD管理"],"x-api-type":"open-api","x-is-registered":"Y","x-request-examples-1":{"app_name":"ott","domain":"push.testott.hls.com","end_time":32535086400,"event_name":"event_name xxx","id":"test","package_info":{"packaging_group_id":null,"resource_id":null},"start_time":32535086400,"task_desc":"task_desc xxx"},"x-request-examples-text-1":{"app_name":"ott","domain":"push.testott.hls.com","end_time":32535086400,"event_name":"event_name xxx","id":"test","package_info":{"packaging_group_id":null,"resource_id":null},"start_time":32535086400,"task_desc":"task_desc xxx"},"x-request-examples-url-1":" POST https://{endpoint}/v1/{project_id}/ott/harvest/task","x-support-sdk":"Y"}}},"product_short":"Live","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建Live2VOD任务","tags":"Live2VOD管理","uri":null,"version":"2.0"}