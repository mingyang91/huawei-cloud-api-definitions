{"base_path":"/","components":null,"consumes":"[\"application/json; charset=UTF-8\"]","definitions":{"ErrorResponse":{"properties":{"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误描述","type":"string"}},"required":["error_code","error_msg"],"type":"object"},"WatermarkLocation":{"properties":{"location":{"description":"水印位置。\n\n包含如下选项:\n- TOPLEFT:左上\n- TOPRIGHT:右上\n- BOTTOMLEFT:左下\n- BOTTOMRIGHT:右下\n- RANDOM:随机模式,图片水印将随机在视频流的左上、右上、左下、右下四个位置展示。","enum":["TOPLEFT","TOPRIGHT","BOTTOMLEFT","BOTTOMRIGHT","RANDOM"],"maxLength":255,"minLength":1,"type":"string"},"x_offset":{"description":"水印相对输出视频的水平偏移量。\n说明:值有两种形式:\n1)整数型代表偏移像素,范围[1,4096],单位px。\n2)小数型代表水平偏移量与输出分辨率宽的比率,范围[0,1)\n百分比限制最多保留小数点后4位","maximum":4096,"minimum":0,"type":"number"},"y_offset":{"description":"水印相对输出视频的垂直偏移量\n说明: 值有两种形式:\n1)整数型代表偏移像素,范围[1,4096],单位px。\n2)小数型代表垂直偏移量与输出分辨率高的比率,范围[0,1)\n百分比限制最多保留小数点后4位","maximum":4096,"minimum":0,"type":"number"}},"type":"object"},"WatermarkTemplate":{"properties":{"description":{"description":"模板注释","maxLength":512,"minLength":0,"type":"string"},"height":{"description":"水印图片高,值有两种形式:\n1)整数型代表水印图片高的像素值,范围0或[8,4096],单位px。\n2)小数型代表相对输出视频分辨率高的比率,范围[0,1)\n建议宽高只设置一项,另外一项会自适应缩放,避免变形。宽高全部设置为0表示水印图片原始宽高\n百分比限制最多保留小数点后4位,width和height 只支持同时为像素或是百分比,不支持一个像素,一个百分比","maximum":4096,"minimum":0,"type":"number"},"location":{"$ref":"#/definitions/WatermarkLocation","description":"水印位置"},"name":{"description":"水印模板名称","maxLength":255,"minLength":1,"type":"string"},"picture_url":{"description":"图片下载路径\n校验规则:图片URL长度大于0,最大长度2048,能够正常按URL格式解析,必须是 http 或 https 协议。(OTT 场景限制只支持https)\n图片格式: .png/.jpg/.PNG/.JPG结尾","maxLength":2048,"minLength":1,"type":"string"},"scene":{"default":"cloud_live","description":"业务属性,cloud_live:云直播,默认值;media_live:媒体直播,不支持修改","enum":["cloud_live","media_live"],"maxLength":32,"minLength":1,"type":"string"},"text":{"$ref":"#/definitions/WordWaterMarkInfo","description":"文字水印信息"},"type":{"description":"水印类型,0图片,1文字,2图文共存","maximum":1,"minimum":0,"type":"integer"},"width":{"description":"1)整数型代表水印图片宽的像素值,范围0或[8,4096],单位px。\n2)小数型代表相对输出视频分辨率宽的比率,范围[0,1)\n建议宽高只设置一项,另外一项会自适应缩放,避免变形。宽高全部设置为0表示水印图片原始宽高\n百分比限制最多保留小数点后4位,width和height 只支持同时为像素或是百分比,不支持一个像素,一个百分比","maximum":4096,"minimum":0,"type":"number"}},"required":["name"],"type":"object"},"WordWaterMarkInfo":{"properties":{"font":{"description":"字体,缺省值 空,可选值:harmonyRegular(鸿蒙)、douyu2.0(斗鱼追光体)","maxLength":20,"minLength":1,"type":"string"},"font_color":{"default":"#000000","description":"参数校验:首位为#、除#外为6位或8位,每位字符由 0-9、a~f、A~F 组成【务必校验,错误时转码默认白色】","maxLength":9,"minLength":7,"type":"string"},"font_size":{"default":14,"description":"字体大小","format":"int32","maximum":72,"minimum":4,"type":"integer"},"format":{"description":"水印文字内容,必填 字幕内容1-64\ntype为1或2时必填,type为0时非必填","maxLength":64,"minLength":1,"type":"string"},"location":{"$ref":"#/definitions/WatermarkLocation","description":"location位置必填"},"shadow_color":{"description":"缺省值 none,参数校验:首位为#、除#外为6位或8位,每位字符由 0-9、a~f、A~F 组成【务必校验,错误时转码默认黑色】","example":"#000000","maxLength":9,"minLength":7,"type":"string"},"time_zone":{"default":"UTC+0800","description":"时区,【取值参考 UTC-1200 至 UTC+1200,前三位UTC,第四位+或-,五六位表示小时,七八位固定00】","example":"UTC+0800","maxLength":8,"minLength":8,"type":"string"}},"required":["format","location"],"type":"object"}},"description":null,"group_id":"f01a6cf256d84c16985bc98f70ef068d","host":"live.cn-north-4.myhuaweicloud.com","id":"d2ff97baaf6640009f1d50e2e5876094","info_version":"v1","method":"post","name":"CreateWatermarkTemplate","parameters":{"Authorization":{"description":"使用AK/SK方式认证时必填,携带的鉴权信息。","in":"header","maxLength":256,"minLength":1,"name":"Authorization","required":false,"type":"string","x-example":"SDK-HMAC-SHA256 Access=xxx, SignedHeaders=content-type;host;x-sdk-date, Signature=xxx"},"X-Auth-Token":{"description":"用户Token,使用Token鉴权方式时必填。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":256,"minLength":1,"name":"X-Auth-Token","required":false,"type":"string"},"X-Project-Id":{"description":"使用AK/SK方式认证时必填,携带项目ID信息。","in":"header","maxLength":64,"minLength":1,"name":"X-Project-Id","required":false,"type":"string","x-example":"70b76xxxxxx34253880af501cdxxxxxx"},"X-Sdk-Date":{"description":"使用AK/SK方式认证时必填,请求的发生时间。","in":"header","maxLength":256,"minLength":1,"name":"X-Sdk-Date","required":false,"type":"string","x-example":"20191115T033655Za"},"project_id":{"description":"项目ID,获取方法请参考[获取项目ID](live_03_0023.xml)。","in":"path","name":"project_id","required":true,"type":"string","x-example":"70b76xxxxxx34253880af501cdxxxxxx"}},"paths":{"/v1/{project_id}/watermark/templates":{"post":{"description":"创建水印模板接口,需要绑定水印规则才生效","operationId":"CreateWatermarkTemplate","parameters":[{"$ref":"#/parameters/X-Auth-Token"},{"$ref":"#/parameters/Authorization"},{"$ref":"#/parameters/X-Sdk-Date"},{"$ref":"#/parameters/X-Project-Id"},{"$ref":"#/parameters/project_id"},{"description":"水印模板","in":"body","name":"CreateWatermarkTemplateRequestBody","required":true,"schema":{"$ref":"#/definitions/WatermarkTemplate"}}],"responses":{"201":{"description":"创建水印模板操作成功","examples":{"application/json":{"description":"string","height":4096,"location":{"location":"string","x_offset":4096,"y_offset":4096},"name":"string","picture_url":"string","type":1,"width":4096}},"headers":{"X-request-id":{"description":"此字段携带请求ID号,以便任务跟踪。格式为:request_id-timestamp-hostname(request_id在服务器端生成UUID,timestamp为当前时间戳,hostname为处理当前接口的服务器名称)","type":"string"}},"schema":{"$ref":"#/definitions/WatermarkTemplate"}},"400":{"description":"创建水印模板操作失败","examples":{"application/json":{"error_code":"LIVE.100011001","error_msg":"Request Illegal"}},"headers":{"X-request-id":{"description":"此字段携带请求ID号,以便任务跟踪。格式为:request_id-timestamp-hostname(request_id在服务器端生成UUID,timestamp为当前时间戳,hostname为处理当前接口的服务器名称)","type":"string"}},"schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"创建水印模板","tags":["直播水印管理"],"x-apiexplorer-hide":"N","x-is-registered":"Y","x-navigation-title":"创建水印模板接口","x-open-region-cloud":"hc,hk,hws_eu","x-request-examples-1":{"description":"my demo template","height":0.1,"location":{"location":"TOPLEFT","x_offset":20,"y_offset":10},"name":"MyWatermarkTemplate","picture_url":"http://example.com/picture","type":0,"width":0.1},"x-request-examples-text-1":{"description":"my demo template","height":0.1,"location":{"location":"TOPLEFT","x_offset":20,"y_offset":10},"name":"MyWatermarkTemplate","picture_url":"http://example.com/picture","type":0,"width":0.1},"x-request-examples-url-1":"POST https://{endpoint}/v1/{project_id}/watermark/templates","x-support-sdk":"Y"}}},"product_short":"Live","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建水印模板","tags":"直播水印管理","uri":null,"version":"2.0"}