{"base_path":"/","components":null,"consumes":"[\"application/json; charset=UTF-8\"]","definitions":{"DefaultErrorResp":{"description":"参数失败响应。","properties":{"error_code":{"description":"错误码。","example":"LIVE.10001100","maxLength":64,"minLength":1,"type":"string"},"error_msg":{"description":"错误描述。","example":"Request parameters is invalid","maxLength":64,"minLength":1,"type":"string"}},"type":"object"},"SCTE35InfoItem":{"description":"SCTE35信号信息的item结构。","properties":{"base64_data":{"description":"广告信号原始数据的base64值。","example":"/DAlAAAAAAAAAP/wFAUAAAABf+/+AGAhYP4AKTLgAAEAAAAAjhdvmA==","maxLength":1024,"minLength":1,"type":"string"},"duration":{"description":"广告信号时长,-1表示没有携带,单位:秒。","example":120,"format":"int32","maximum":2147483648,"minimum":-1,"type":"integer"},"event_id":{"description":"广告信号的Event ID,Time Signal打印数组第一个。","example":100,"format":"int32","maximum":2147483648,"minimum":1,"type":"integer"},"raw_splice":{"description":"广告信号全量信息。","example":"{\"tableId\":252,\"selectionSyntaxIndicator\":false,\"privateIndicator\":false,\"sectionLength\":52,\"protocolVersion\":0,\"encryptedPacket\":false,\"encryptedAlgorithm\":0,\"ptsAdjustment\":0,\"cwIndex\":0,\"tier\":4095,\"spliceCommandLength\":5,\"spliceCommandType\":6,\"spliceCommand\":{\"specified\":true,\"pts\":6300000},\"descriptorLoopLength\":30,\"descriptors\":[{\"spliceDescriptorTag\":2,\"descriptorLength\":28,\"identifier\":\"CUEI\",\"segmentationEventId\":1,\"segmentationEventCancelIndicator\":false,\"programSegmentationFlag\":true,\"segmentationDurationFlag\":true,\"deliveryNotRestrictedFlag\":true,\"segmentationDuration\":2700000,\"segmentationUpidType\":8,\"segmentationUpidLength\":8,\"segmentationUpid\":{\"0\":48,\"1\":120,\"2\":48,\"3\":48,\"4\":48,\"5\":48,\"6\":48,\"7\":48},\"segmentationTypeId\":48,\"segmentNum\":2,\"segmentsExpected\":0}],\"crc\":1501593624}","maxLength":8096,"minLength":1,"type":"string"},"segmentation_type":{"description":"// Splice Insert填空\"-\";\n// Time Signal,支持0x30,0x31,0x32,0x33,0x34,0x35,0x36,0x37\n// 0x30: ProviderAdvertisementStart\n// 0x31: ProviderAdvertisementEnd\n// 0x32: DistributorAdvertisementStart\n// 0x33: DistributorAdvertisementEnd\n// 0x34: ProviderPlacementOpportunityStart\n// 0x35: ProviderPlacementOpportunityEnd\n// 0x36: DistributorPlacementOpportunityStart\n// 0x37: DistributorPlacementOpportunityEnd","enum":["-","ProviderAdvertisementStart","ProviderAdvertisementEnd","DistributorAdvertisementStart","DistributorAdvertisementEnd","ProviderPlacementOpportunityStart","ProviderPlacementOpportunityEnd","DistributorPlacementOpportunityStart","DistributorPlacementOpportunityEnd"],"example":"ProviderAdvertisementStart","maxLength":128,"minLength":1,"type":"string"},"start_date":{"description":"广告信号的执行时间,unix time,单位:秒。","example":1741594376,"format":"int64","maximum":4294967295,"minimum":1,"type":"integer"},"type":{"description":"信号类型,splice_insert/time_signal。","enum":["splice_insert","time_signal"],"example":"splice_insert","maxLength":16,"minLength":1,"type":"string"}},"required":["type","event_id","start_date","duration","segmentation_type","base64_data","raw_splice"],"type":"object"},"SCTE35StatisticReq":{"description":"请求频道scte35信号的字段。","properties":{"end_time":{"description":"查询信号的结束时间,unix time,单位:秒;实际使用使用比start_time大。","example":1741658609,"format":"int64","maximum":4294967295,"minimum":1,"type":"integer"},"start_time":{"description":"查询信号的起始时间,unix time,单位:秒。","example":1741650609,"format":"int64","maximum":4294967295,"minimum":1,"type":"integer"},"type":{"description":"信号类型:all/splice_insert/time_signal。","enum":["all","splice_insert","time_signal"],"example":"all","maxLength":16,"minLength":1,"type":"string"}},"required":["type","start_time","end_time"],"type":"object"},"SCTE35StatisticRsp":{"description":"获取SCTE35信号的响应体。","properties":{"scte35_info":{"description":"详细的scte35信号的数组。","items":{"$ref":"#/definitions/SCTE35InfoItem"},"maxItems":1000,"minItems":0,"type":"array"},"total":{"description":"查询到scet35信息的总个数。","example":50,"format":"int32","maximum":2147483648,"minimum":1,"type":"integer"}},"required":["total"],"type":"object"},"ShowChannelStatisticReq":{"description":"查询OTT频道统计信息消息体。","properties":{"app_name":{"description":"组名或应用名。","example":"live","maxLength":64,"minLength":1,"type":"string"},"domain":{"description":"频道推流域名。","example":"www.huaweiott.pushdomain.com","maxLength":64,"minLength":1,"type":"string"},"id":{"description":"频道ID。频道唯一标识,为必填项。","example":"channelId","maxLength":64,"minLength":2,"type":"string"},"scte35":{"$ref":"#/definitions/SCTE35StatisticReq"},"type":{"description":"统计信息的类型,scte35。","enum":["scte35"],"example":"scte35","maxLength":32,"minLength":1,"type":"string"}},"required":["domain","app_name","id","type"],"type":"object"},"ShowChannelStatisticSuccessRsp":{"description":"查询频道统计信息的响应体。","properties":{"app_name":{"description":"组名或应用名。","example":"live","maxLength":255,"minLength":1,"type":"string"},"domain":{"description":"频道推流域名。","example":"www.huaweiott.pushdomain.com","maxLength":255,"minLength":1,"type":"string"},"id":{"description":"频道ID。频道唯一标识,为必填项。","example":"channelId","maxLength":255,"minLength":2,"type":"string"},"scte35":{"$ref":"#/definitions/SCTE35StatisticRsp"},"type":{"description":"统计信息的类型,scte35。","enum":["scte35"],"example":"scte35","maxLength":32,"minLength":1,"type":"string"}},"required":["domain","app_name","id","type"],"type":"object"}},"description":null,"group_id":"f01a6cf256d84c16985bc98f70ef068d","host":"live.cn-north-4.myhuaweicloud.com","id":"eaa972e39c0548289aa5fe0736932492","info_version":"v1","method":"post","name":"ShowChannelStatistic","parameters":{},"paths":{"/v1/{project_id}/ott/channels/statistic":{"post":{"description":"查询频道的统计信息(入流scte35信号)","operationId":"ShowChannelStatistic","parameters":[{"description":"用户Token,使用Token鉴权方式时必选。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":256,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"服务鉴权Token,服务开启鉴权,必须携带Access-Control-Allow-Internal访问服务。","in":"header","maxLength":2048,"minLength":1,"name":"Access-Control-Allow-Internal","required":false,"type":"string"},{"description":"服务鉴权Token,服务开启鉴权,必须携带Access-Control-Allow-External访问服务。","in":"header","maxLength":2048,"minLength":1,"name":"Access-Control-Allow-External","required":false,"type":"string"},{"description":"项目ID,获取方法请参考[获取项目ID](live_26_0018.xml)。","in":"path","maxLength":64,"minLength":1,"name":"project_id","required":true,"type":"string","x-example":"70b76xxxxxx34253880af501cdxxxxxx"},{"default":10,"description":"每页记录数,取值范围[1,100],默认值10。","format":"int32","in":"query","maximum":100,"minimum":1,"name":"limit","required":false,"type":"integer"},{"default":0,"description":"偏移量。表示从此偏移量开始查询,offset大于等于0。","format":"int32","in":"query","maximum":2147483647,"minimum":0,"name":"offset","required":false,"type":"integer"},{"description":"Request body for querying statistics","in":"body","name":"ShowChannelStatisticRequestBody","required":true,"schema":{"$ref":"#/definitions/ShowChannelStatisticReq"}}],"produces":["application/json"],"responses":{"200":{"description":"Query success response","examples":{"application/json":{"app_name":"live","domain":"www.huaweiott.pushdomain.com","id":"channelId","scte35":{"scte35_info":[{"base64_data":"/DAlAAAAAAAAAP/wFAUAAAABf+/+AGAhYP4AKTLgAAEAAAAAjhdvmA==","duration":120,"event_id":100,"raw_splice":"{\"table_id\":252,\"section_syntax_indicator\":false,\"private_indicator\":false,\"section_length\":32,\"protocol_version\":0,\"encrypted_packet\":false,\"encryption_algorithm\":0,\"pts_adjustment\":0,\"cw_index\":0,\"tier\":0,\"splice_command_length\":15,\"splice_command_type\":\"Splice Insert\",\"splice_command\":{\"splice_event_id\":9,\"splice_event_cancel_indicator\":false,\"out_of_network_indicator\":false,\"program_splice_flag\":true,\"duration_flag\":false,\"splice_immediate_flag\":false,\"splice_time\":{\"time_specified_flag\":true,\"pts_time\":429850800},\"unique_program_id\":0,\"avail_num\":0,\"avails_expected\":0},\"descriptor_loop_length\":0,\"descriptors\":[],\"crc32\":2510451559}","segmentation_type":"Provider advertisement Start","start_date":1741594376,"type":"Splice Insert"},{"base64_data":"/DAlAAAAAAAAAP/wFAUAAAABf+/+AGAhYP4AKTLgAAEAAAAAjhdvmA==","duration":120,"event_id":101,"raw_splice":"{\"table_id\":252,\"section_syntax_indicator\":false,\"private_indicator\":false,\"section_length\":32,\"protocol_version\":0,\"encrypted_packet\":false,\"encryption_algorithm\":0,\"pts_adjustment\":0,\"cw_index\":0,\"tier\":0,\"splice_command_length\":15,\"splice_command_type\":\"Splice Insert\",\"splice_command\":{\"splice_event_id\":9,\"splice_event_cancel_indicator\":false,\"out_of_network_indicator\":false,\"program_splice_flag\":true,\"duration_flag\":false,\"splice_immediate_flag\":false,\"splice_time\":{\"time_specified_flag\":true,\"pts_time\":429850800},\"unique_program_id\":0,\"avail_num\":0,\"avails_expected\":0},\"descriptor_loop_length\":0,\"descriptors\":[],\"crc32\":2510451559}","segmentation_type":"Provider advertisement Start","start_date":1741594378,"type":"Splice Insert"}],"total":50},"type":"scte35"}},"schema":{"$ref":"#/definitions/ShowChannelStatisticSuccessRsp"}},"404":{"description":"Query failed response","examples":{"application/json":{"error_code":"LIVE.103011099","error_msg":"query channel statistic failed"}},"schema":{"$ref":"#/definitions/DefaultErrorResp"}}},"summary":"查询频道统计信息","tags":["OTT频道管理"],"x-api-type":"open-api","x-is-registered":"Y","x-request-examples-1":{"app_name":"live","domain":"www.huaweiott.pushdomain.com","id":"channelId","scte35":{"end_time":1741658609,"start_time":1741650609,"type":"all"},"type":"scte35"},"x-request-examples-text-1":{"app_name":"live","domain":"www.huaweiott.pushdomain.com","id":"channelId","scte35":{"end_time":1741658609,"start_time":1741650609,"type":"all"},"type":"scte35"},"x-request-examples-url-1":"POST https://{endpoint}/v1/{project_id}/ott/channels/statistic?limit=50&offset=10","x-support-sdk":"Y"}}},"product_short":"Live","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询频道统计信息","tags":"OTT频道管理","uri":null,"version":"2.0"}