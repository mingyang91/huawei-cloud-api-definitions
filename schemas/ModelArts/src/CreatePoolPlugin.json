{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\",\"application/json\"]","definitions":{"CreatePluginRequestBody":{"description":"创建插件实例的请求体。","properties":{"apiVersion":{"description":"**参数解释**:API资源类型,固定值“Plugin”,该值不可修改。\n**约束限制**:不涉及。\n**取值范围**:不涉及。\n**默认取值**:不涉及。","example":"v2","type":"string","x-open-region-cloud":"hk,hc,hcso,hcs"},"kind":{"description":"**参数解释**:API版本,固定值“v2”,该值不可修改。\n**约束限制**:不涉及。\n**取值范围**:不涉及。\n**默认取值**:不涉及。","example":"Plugin","type":"string","x-open-region-cloud":"hk,hc,hcso,hcs"},"spec":{"$ref":"#/definitions/PluginSpec","description":"**参数解释**:spec是集合类的元素类型,内容为插件实例安装/升级的具体请求信息。\n**约束限制**:不涉及。","x-open-region-cloud":"hk,hc,hcso,hcs"}},"required":["apiVersion","kind","spec"],"type":"object"},"ErrorResponse":{"description":"请求失败时返回的错误对象。","properties":{"error_code":{"description":"**参数解释**:ModelArts错误码。\n**取值范围**:不涉及。","type":"string"},"error_msg":{"description":"**参数解释**:具体错误信息。\n**取值范围**:不涉及。","type":"string"}},"required":["error_code","error_msg"],"type":"object"},"ObjectReference":{"properties":{"apiVersion":{"description":"**参数解释**: 资源对象的API版本。\n**取值范围**: 不涉及。","example":"apps/v1","type":"string","x-open-region-cloud":"hk,hc,hcso,hcs"},"kind":{"description":"**参数解释**: 资源对象的API类型,例如,DaemonSet、Deployment 等。\n**取值范围**: 不涉及。","example":"DaemonSet","type":"string","x-open-region-cloud":"hk,hc,hcso,hcs"},"name":{"description":"**参数解释**: 资源对象的名称。\n**取值范围**: 不涉及。","example":"node-local-dns","type":"string","x-open-region-cloud":"hk,hc,hcso,hcs"},"namespace":{"description":"**参数解释**: 资源对象的命名空间。\n**取值范围**: 不涉及。","example":"kube-system","type":"string","x-open-region-cloud":"hk,hc,hcso,hcs"},"resourceVersion":{"description":"**参数解释**: 资源对象的当前版本。\n**取值范围**: 不涉及。","example":"702874","type":"string","x-open-region-cloud":"hk,hc,hcso,hcs"},"uid":{"description":"**参数解释**: 资源对象的唯一标识符(UID)。\n**取值范围**: 不涉及。","example":"755437e4-b591-406c-a512-f9a02794082b","type":"string","x-open-region-cloud":"hk,hc,hcso,hcs"}},"type":"object"},"Plugin":{"description":"插件实例的详细信息。","properties":{"apiVersion":{"description":"**参数解释**: API版本。\n**取值范围**: 可选值如下:\n- v2","example":"v2","type":"string","x-open-region-cloud":"hk,hc,hcso,hcs"},"kind":{"description":"**参数解释**: 插件实例的类型。\n**取值范围**: 可选值如下:\n- Plugin:插件。","example":"","type":"string","x-open-region-cloud":"hk,hc,hcso,hcs"},"metadata":{"$ref":"#/definitions/PluginMetadata","description":"**参数解释**: 插件实例的metadata信息。"},"spec":{"$ref":"#/definitions/PluginSpec","description":"**参数解释**: 插件实例的具体信息。"},"status":{"$ref":"#/definitions/PluginStatus","description":"**参数解释**: 插件实例的状态信息。"}},"required":["kind","metadata","spec"],"type":"object"},"PluginMetadata":{"description":"插件实例的metadata信息。","properties":{"creationTimestamp":{"description":"**参数解释**: 创建时间。\n**取值范围**: 不涉及。","example":"2025-03-17T12:29:18Z","type":"string","x-open-region-cloud":"hk,hc,hcso,hcs"},"name":{"description":"**参数解释**: 插件实例的名称。\n**取值范围**: 不涉及。","example":"sh-std-2222-6f5da086876d4cd084d36f8bd3346036-node-local-dns","maxLength":50,"minLength":1,"pattern":"^[a-z][a-z0-9-]{0,48}[a-z0-9]$","type":"string","x-open-region-cloud":"hk,hc,hcso,hcs"}},"required":["name"],"type":"object"},"PluginResources":{"description":"插件占用的资源量。","properties":{"limits":{"additionalProperties":{"type":"string"},"description":"**参数解释**: 申请的资源限制。","type":"object","x-open-region-cloud":"hk,hc,hcso,hcs"},"replicas":{"description":"**参数解释**: 资源对象的副本数。\n**取值范围**: 不涉及。","example":2,"format":"int32","type":"integer","x-open-region-cloud":"hk,hc,hcso,hcs"},"requests":{"additionalProperties":{"type":"string"},"description":"**参数解释**: 申请的资源需求。","type":"object","x-open-region-cloud":"hk,hc,hcso,hcs"}},"type":"object"},"PluginSpec":{"description":"插件实例的具体信息。","properties":{},"required":["template"],"type":"object"},"PluginStatus":{"description":"插件状态信息。","properties":{"phase":{"description":"**参数解释**: 插件实例的状态。\n**取值范围**:可选值如下:\n- Pending:安装中,表示插件正在安装中。\n- Running:运行中,表示插件全部实例状态都在运行中,插件正常使用。\n- Updating:升级中,表示插件正在更新中。\n- Abnormal:不可用,表示插件状态异常,插件不可使用。可单击状态查看失败原因。\n- Deleting:删除中,表示插件正在删除中。","example":"Running","type":"string","x-open-region-cloud":"hk,hc,hcso,hcs"},"reason":{"description":"**参数解释**: 插件实例安装失败的详细信息。\n**取值范围**: 不涉及。","example":"Upgrade complete","type":"string","x-open-region-cloud":"hk,hc,hcso,hcs"},"resources":{"description":"**参数解释**: 插件实例占用的资源量。","example":"2025-02-27T10:00:53Z","items":{"$ref":"#/definitions/PluginResources"},"type":"array","x-open-region-cloud":"hk,hc,hcso,hcs"},"values":{"description":"**参数解释**: 插件实例的安装参数(各插件不同)。\n**取值范围**: 不涉及。","example":"Upgrade complete","type":"string","x-open-region-cloud":"hk,hc,hcso,hcs"},"version":{"description":"**参数解释**: 插件实例的版本。\n**取值范围**: 不涉及。","example":"6.8.0-20250219120620","type":"string","x-open-region-cloud":"hk,hc,hcso,hcs"}},"type":"object"},"Template":{"description":"插件实例的模板信息。","properties":{"inputs":{"additionalProperties":{"type":"object"},"description":"**参数解释**:插件模板安装参数(各插件不同),升级插件时需要填写全量安装参数,未填写参数将使用插件模板中的默认值,当前插件安装参数可通过查询插件实例接口获取。\n**约束限制**:不涉及。","type":"object","x-open-region-cloud":"hk,hc,hcso,hcs"},"name":{"description":"**参数解释**:待安装插件模板名称,如log-agent。\n**约束限制**:不涉及。\n**取值范围**:不涉及。\n**默认取值**:不涉及。","example":"node-local-dns","type":"string","x-open-region-cloud":"hk,hc,hcso,hcs"},"version":{"description":"**参数解释**:待安装、升级插件的版本号。\n**约束限制**:不涉及。\n**取值范围**:不涉及。\n**默认取值**:不涉及。","example":"1.6.36","type":"string","x-open-region-cloud":"hk,hc,hcso,hcs"}},"required":["name"],"type":"object"}},"description":null,"group_id":"ade740e866904a7dbdaa5ec0f538d4d0","host":"modelarts.cn-north-4.myhuaweicloud.com","id":"563dc2badab645589b4f7471356fd7dc","info_version":"v1","method":"post","name":"CreatePoolPlugin","parameters":{},"paths":{"/v2/{project_id}/pools/{pool_name}/plugins":{"post":{"description":"创建插件实例接口用于在系统中创建一个新的插件实例。该接口适用于以下场景:当需要扩展系统功能、部署新的插件、更新现有插件配置或测试插件时,用户可通过此接口创建指定插件的实例。使用该接口的前提条件是插件已存在且用户具有管理员权限或插件管理权限。创建操作完成后,插件实例将被成功创建并处于可用状态,相关配置信息将被记录。若插件不存在、用户无权限操作、配置参数错误或系统资源不足,接口将返回相应的错误信息。","operationId":"CreatePoolPlugin","parameters":[{"description":"**参数解释**:用户项目ID。获取方法请参见[获取项目ID和名称](modelarts_03_0147.xml)。\n**约束限制**:不涉及。\n**取值范围**:不涉及。\n**默认取值**:不涉及。","in":"path","name":"project_id","required":true,"type":"string","x-open-region-cloud":"hk,hc,hcso,hcs"},{"description":"**参数解释**:资源池名称。\n**约束限制**:不涉及。\n**取值范围**:不涉及。\n**默认取值**:不涉及。","in":"path","name":"pool_name","required":true,"type":"string","x-open-region-cloud":"hk,hc,hcso,hcs"},{"description":"**参数解释**:创建插件实例的请求体。\n**约束限制**:不涉及。","in":"body","name":"CreatePoolPluginRequestBody","required":true,"schema":{"$ref":"#/definitions/CreatePluginRequestBody"},"x-open-region-cloud":"hk,hc,hcso,hcs"}],"responses":{"200":{"description":"OK。","examples":{"application/json":{"apiVersion":"v2","kind":"Plugin","spec":{"template":{"inputs":{"custom":{"enable_dnsconfig_admission":true,"nameserver":"135.0.0.1","ndots":"8","search":"1321"},"flavor":{"description":"High available","name":"HA","resources":[{"limitsCpu":"250m","limitsMem":"512Mi","name":"node-local-dns-admission-controller","replicas":2,"requestsCpu":"250m","requestsMem":"512Mi"},{"limitsCpu":"500m","limitsMem":"512Mi","name":"node-local-dns-cache","requestsCpu":"25m","requestsMem":"5Mi"}],"size":"large"}},"name":"node-local-dns","version":"1.6.36"}}}},"schema":{"$ref":"#/definitions/Plugin"}},"400":{"description":"Bad request","examples":{"application/json":{"error_code":"ModelArts.50004000","error_msg":"Bad request."}},"schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"创建插件","tags":["插件管理"],"x-api-type":"open-api","x-apiexplorer-hide":"N","x-is-registered":"Y","x-open-region-cloud":"hk,hc,hcso,hcs","x-publish-doc":"Y","x-request-examples-1":{"apiVersion":"v2","kind":"Plugin","spec":{"template":{"name":"node-local-dns","version":"1.6.36"}}},"x-request-examples-description-1":"创建插件实例。","x-request-examples-text-1":{"apiVersion":"v2","kind":"Plugin","spec":{"template":{"name":"node-local-dns","version":"1.6.36"}}},"x-request-examples-url-1":"POST https://{endpoint}/v2/{project_id}/pools/{pool_name}/plugins","x-support-sdk":"N"}}},"product_short":"ModelArts","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"ApiTokenAuth":{"in":"header","name":"X-Auth-Token","type":"apiKey"}},"summary":"创建插件","tags":"插件管理","uri":null,"version":"2.0"}