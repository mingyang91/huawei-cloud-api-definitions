{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\",\"application/json\"]","definitions":{"Subscription":{"properties":{"created_at":{"description":"创建时间。","example":"2020-12-28T14:43:01.118131+08:00","type":"string"},"entity":{"description":"订阅的主体。","type":"string"},"events":{"description":"订阅的事件。","items":{"type":"string"},"type":"array"},"subscription_id":{"description":"订阅ID,唯一性标识。创建订阅时,后台自动生成。","type":"string"},"topic_urns":{"description":"订阅的主题。","items":{"type":"string"},"type":"array"}},"required":["topic_urns"],"type":"object"}},"description":null,"group_id":"ade740e866904a7dbdaa5ec0f538d4d0","host":"modelarts.cn-north-4.myhuaweicloud.com","id":"77638c8e8be54849ba36218c49bb70cf","info_version":"v1","method":"post","name":"CreateWorkflowSubscriptions","parameters":{"projectIDParam":{"description":"用户项目ID。获取方法请参见[获取项目ID和名称](modelarts_03_0147.xml)。","in":"path","name":"project_id","required":true,"type":"string"},"workflow_id":{"description":"工作流的ID。","in":"path","name":"workflow_id","required":true,"type":"string"}},"paths":{"/v2/{project_id}/workflows/{workflow_id}/subscriptions":{"post":{"description":"为Workflow工作流添加消息订阅功能。工作流已订阅的事件发生时,会产生消息提醒。","operationId":"CreateWorkflowSubscriptions","parameters":[{"$ref":"#/parameters/projectIDParam"},{"$ref":"#/parameters/workflow_id"},{"description":"订阅消息。","in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/Subscription"}}],"responses":{"201":{"description":"OK","examples":{"application/json":{"created_at":"2022-11-24T17:30:48.958322+08:00","entity":"238947895793875835893490","events":["*:failed,completed","job_step:stop"],"subscription_id":"42e8a77a-512e-4d0e-a56e-4b003db82577","topic_urns":["fengbin26"]}},"schema":{"$ref":"#/definitions/Subscription"}}},"schemes":["https"],"summary":"新建消息订阅Subscription","tags":["WorkflowSubscription"],"x-api-type":"internal-api","x-constraint":"无","x-is-registered":"Y","x-open-region-cloud":"hc,hcs,fcs,fcs-super","x-order":0,"x-publish-doc":"Y","x-request-examples-1":{"entity":"238947895793875835893490","events":["*:failed,completed","job_step:stop"],"topic_urns":["fengbin26"]},"x-request-examples-description-1":"创建消息订阅。设置订阅的主题为“fengbin26”,订阅的主体为“238947895793875835893490”,订阅的事件为“[ \"*:failed,completed\", \"job_step:stop\" ]”。订阅Workflow失败、完成和job_step节点停止三个事件,发生这三个事件时,会有消息提醒。","x-request-examples-text-1":{"entity":"238947895793875835893490","events":["*:failed,completed","job_step:stop"],"topic_urns":["fengbin26"]},"x-request-examples-url-1":"POST https://{endpoint}/v2/{project_id}/workflows/{workflow_id}/subscriptions","x-support-sdk":"N"}}},"product_short":"ModelArts","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"ApiTokenAuth":{"in":"header","name":"X-Auth-Token","type":"apiKey"}},"summary":"新建消息订阅Subscription","tags":"Workflow工作流管理","uri":null,"version":"2.0"}