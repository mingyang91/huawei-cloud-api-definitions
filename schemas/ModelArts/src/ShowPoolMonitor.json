{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\",\"application/json\"]","definitions":{"ErrorResponse":{"description":"请求失败时返回的错误对象。","properties":{"error_code":{"description":"**参数解释**:ModelArts错误码。\n**取值范围**:不涉及。","type":"string"},"error_msg":{"description":"**参数解释**:具体错误信息。\n**取值范围**:不涉及。","type":"string"}},"required":["error_code","error_msg"],"type":"object"},"PoolMonitor":{"description":"资源池监控信息。","properties":{"metrics":{"description":"**参数解释**:资源池的监控指标数据。","items":{"properties":{"dataPoints":{"description":"**参数解释**:监控指标数据。","items":{"properties":{"statistics":{"description":"**参数解释**:指标数据值。","items":{"properties":{"statistic":{"description":"**参数解释**:资源池监控信息在指定时间粒度下的统计方式。\n**取值范围**:可选值如下:\n- maximum:最大值统计,默认值。\n- minimum:最小值统计。\n- sum:求和统计。\n- average:平均值统计。\n- sampleCount:采样统计。","example":"average","type":"string","x-open-region-cloud":"hk,hc,hcso,hcs"},"value":{"description":"**参数解释**:指标数据的值,值为-1时表示无该指标数据。\n**取值范围**:不涉及。","example":null,"format":"float","type":"number","x-open-region-cloud":"hk,hc,hcso,hcs"}}},"type":"array"},"timestamp":{"description":"**参数解释**:指标数据时间戳,以毫秒为单位。\n**取值范围**:不涉及。","example":1655193600000,"format":"int32","type":"integer","x-open-region-cloud":"hk,hc,hcso,hcs"},"unit":{"description":"**参数解释**:指标数据单位。\n**取值范围**:可选值如下:\n- Percent:百分比。\n- Megabytes:兆字节。","example":"Percent","type":"string","x-open-region-cloud":"hk,hc,hcso,hcs"}}},"type":"array"},"metric":{"description":"**参数解释**:监控指标描述。","properties":{"dimensions":{"description":"**参数解释**:指标维度信息。","items":{"properties":{"name":{"description":"**参数解释**:指标维度名称。\n**取值范围**:指标名称。可选值如下:\n- clusterId:集群ID。","example":"clusterId","type":"string","x-open-region-cloud":"hk,hc,hcso,hcs"},"value":{"description":"**参数解释**:指标维度取值。\n**取值范围**:不涉及。","example":"","type":"string","x-open-region-cloud":"hk,hc,hcso,hcs"}}},"type":"array"},"metricName":{"description":"**参数解释**:指标名称。\n**取值范围**:可选值如下:\n- cpuUsage:CPU使用量。\n- memUsedRate:内存利用率。\n- gpuUtil:GPU显卡使用量。\n- gpuMemUsage:GPU显存使用量。\n- npuUtil:NPU显卡使用量。\n- npuMemUsage:NPU显存使用量。\n- diskCapacity:磁盘容量。\n- diskAvailableCapacity:磁盘可用容量。\n- diskUsedRate:磁盘利用率。","example":"cpuUsage","type":"string","x-open-region-cloud":"hk,hc,hcso,hcs"},"namespace":{"description":"**参数解释**:指标命名空间。\n**取值范围**:可选值如下:\n-  PAAS.CONTAINER:组件指标、实例指标、进程指标和容器指标的命名空间\n- PAAS.NODE: 主机指标、网络指标、磁盘指标和文件系统指标的命名空间\n-  PAAS.SLA:SLA指标的命名空间\n- PAAS.AGGR:集群指标的命名空间\n- CUSTOMMETRICS:默认的自定义指标的命名空间","example":"PAAS.AGGR","type":"string","x-open-region-cloud":"hk,hc,hcso,hcs"}}}}},"type":"array"}},"required":["metrics"],"type":"object"}},"description":null,"group_id":"ade740e866904a7dbdaa5ec0f538d4d0","host":"modelarts.cn-north-4.myhuaweicloud.com","id":"005f3b7f8e464f1aaef5b703346e8beb","info_version":"v1","method":"get","name":"ShowPoolMonitor","parameters":{},"paths":{"/v2/{project_id}/pools/{pool_name}/monitor":{"get":{"description":"资源池监控接口用于获取指定资源池的实时或历史监控信息。该接口适用于以下场景:当需要实时查看资源池的资源使用情况、性能状态或历史数据时,用户可通过此接口获取资源池的监控数据。使用该接口的前提条件是资源池已存在且用户具有管理员权限。调用接口成功后,系统将返回资源池的监控信息,包括资源使用率、性能指标及历史趋势等数据。若资源池不存在、用户无权限操作或资源池当前不可用,接口将返回相应的错误信息。","operationId":"ShowPoolMonitor","parameters":[{"description":"**参数解释**:用户项目ID,获取方法请参见[获取项目ID和名称](modelarts_03_0147.xml)。\n**约束限制**:不涉及。\n**取值范围**:不涉及。\n**默认取值**:不涉及。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"**参数解释**:资源池的ID,取值自资源池详情的metadata.name字段。\n**约束限制**:不涉及。\n**取值范围**:只能以小写字母开头,数字、中划线组成,不能以中划线结尾,且长度为[36-63]个字符。\n**默认取值**:不涉及。","in":"path","name":"pool_name","required":true,"type":"string"},{"description":"**参数解释**:查询资源池监控信息的时间范围,格式为startTimeInMillis.endTimeInMillis.durationInMinutes。其中,startTimeInMillis表示查询的开始时间,格式为UTC毫秒,如果指定为-1,服务端将按(endTimeInMillis - durationInMinutes * 60 * 1000)计算开始时间。endTimeInMillis表示查询的结束时间,格式为UTC毫秒,如果指定为-1,服务端将按(startTimeInMillis + durationInMinutes * 60 * 1000)计算结束时间,如果计算出的结束时间大于当前系统时间,则使用当前系统时间。durationInMinutes表示查询时间的跨度分钟数。 取值范围大于0并且大于等于(endTimeInMillis - startTimeInMillis) / (60 * 1000) - 1。当开始时间与结束时间都设置为-1时,系统会将结束时间设置为当前时间UTC毫秒值,并按(endTimeInMillis - durationInMinutes * 60 * 1000)计算开始时间。如:-1.-1.60(表示最近60分钟)。\n**约束限制**:单次请求中,查询时长与周期需要满足以下条件: durationInMinutes * 60 / period <= 1440。\n**取值范围**:不涉及。\n**默认取值**:-1.-1.60。\n\n查询时间范围,默认值“-1.-1.60”。格式为startTimeInMillis.endTimeInMillis.durationInMinutes,参数解释:\n- startTimeInMillis: 查询的开始时间,格式为UTC毫秒,如果指定为-1,服务端将按(endTimeInMillis - durationInMinutes * 60 * 1000)计算开始时间\n- endTimeInMillis: 查询的结束时间,格式为UTC毫秒,如果指定为-1,服务端将按(startTimeInMillis + durationInMinutes * 60 * 1000)计算结束时间,如果计算出的结束时间大于当前系统时间,则使用当前系统时间\n- durationInMinutes:查询时间的跨度分钟数。 取值范围大于0并且大于等于(endTimeInMillis - startTimeInMillis) / (60 * 1000) - 1\n当开始时间与结束时间都设置为-1时,系统会将结束时间设置为当前时间UTC毫秒值,并按(endTimeInMillis - durationInMinutes * 60 * 1000)计算开始时间。如:-1.-1.60(表示最近60分钟)约束:单次请求中,查询时长与周期需要满足以下条件: durationInMinutes * 60 / period <= 1440。","in":"query","name":"time_range","required":false,"type":"string"},{"description":"**参数解释**:资源池监控信息在指定时间粒度下的统计方式。\n**约束限制**:不涉及。\n**取值范围**:可选值如下:\n- maximum:最大值统计,默认值。\n- minimum:最小值统计。\n- sum:求和统计。\n- average:平均值统计。\n- sampleCount:采样统计。\n**默认取值**:maximum。","in":"query","name":"statistics","required":false,"type":"string"},{"description":"**参数解释**:查询资源池监控信息的时间粒度,以秒为单位。\n**约束限制**:不涉及。\n**取值范围**:可选值如下:\n- 60:粒度为1分钟,默认值。\n- 300:粒度为5分钟。\n- 900:粒度为15分钟。\n- 3600:粒度为1小时。\n**默认取值**:60。","in":"query","name":"period","required":false,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"OK。","examples":{"application/json":{"metrics":[{"dataPoints":[{"statistics":[{"statistic":"average","value":7.944}],"timestamp":1655193600000,"unit":"Percent"},{"statistics":[{"statistic":"average","value":7.88}],"timestamp":1655197200000,"unit":"Percent"}],"metric":{"dimensions":[{"name":"clusterId","value":"83df17f1-d74c-11ec-a070-0255ac1000c3"}],"metricName":"cpuUsage","namespace":"PAAS.AGGR"}},{"dataPoints":[{"statistics":[{"statistic":"average","value":13.83}],"timestamp":1655193600000,"unit":"Percent"},{"statistics":[{"statistic":"average","value":13.836}],"timestamp":1655197200000,"unit":"Percent"}],"metric":{"dimensions":[{"name":"clusterId","value":"83df17f1-d74c-11ec-a070-0255ac1000c3"}],"metricName":"memUsedRate","namespace":"PAAS.AGGR"}},{"dataPoints":[{"statistics":[{"statistic":"average","value":-1}],"timestamp":1655193600000,"unit":"Percent"},{"statistics":[{"statistic":"average","value":-1}],"timestamp":1655197200000,"unit":"Percent"}],"metric":{"dimensions":[{"name":"clusterId","value":"83df17f1-d74c-11ec-a070-0255ac1000c3"}],"metricName":"gpuUtil","namespace":"PAAS.AGGR"}},{"dataPoints":[{"statistics":[{"statistic":"average","value":-1}],"timestamp":1655193600000,"unit":"Percent"},{"statistics":[{"statistic":"average","value":-1}],"timestamp":1655197200000,"unit":"Percent"}],"metric":{"dimensions":[{"name":"clusterId","value":"83df17f1-d74c-11ec-a070-0255ac1000c3"}],"metricName":"gpuMemUsage","namespace":"PAAS.AGGR"}},{"dataPoints":[{"statistics":[{"statistic":"average","value":-1}],"timestamp":1655193600000,"unit":""},{"statistics":[{"statistic":"average","value":-1}],"timestamp":1655197200000,"unit":""}],"metric":{"dimensions":[{"name":"clusterId","value":"83df17f1-d74c-11ec-a070-0255ac1000c3"}],"metricName":"npuUtil","namespace":"PAAS.AGGR"}},{"dataPoints":[{"statistics":[{"statistic":"average","value":-1}],"timestamp":1655193600000,"unit":""},{"statistics":[{"statistic":"average","value":-1}],"timestamp":1655197200000,"unit":""}],"metric":{"dimensions":[{"name":"clusterId","value":"83df17f1-d74c-11ec-a070-0255ac1000c3"}],"metricName":"npuMemUsage","namespace":"PAAS.AGGR"}},{"dataPoints":[{"statistics":[{"statistic":"average","value":834383.4}],"timestamp":1655193600000,"unit":"Megabytes"},{"statistics":[{"statistic":"average","value":834379.2}],"timestamp":1655197200000,"unit":"Megabytes"}],"metric":{"dimensions":[{"name":"clusterId","value":"83df17f1-d74c-11ec-a070-0255ac1000c3"}],"metricName":"diskAvailableCapacity","namespace":"PAAS.AGGR"}},{"dataPoints":[{"statistics":[{"statistic":"average","value":1105920}],"timestamp":1655193600000,"unit":"Megabytes"},{"statistics":[{"statistic":"average","value":1105920}],"timestamp":1655197200000,"unit":"Megabytes"}],"metric":{"dimensions":[{"name":"clusterId","value":"83df17f1-d74c-11ec-a070-0255ac1000c3"}],"metricName":"diskCapacity","namespace":"PAAS.AGGR"}},{"dataPoints":[{"statistics":[{"statistic":"average","value":24.553}],"timestamp":1655193600000,"unit":"Percent"},{"statistics":[{"statistic":"average","value":24.553}],"timestamp":1655197200000,"unit":"Percent"}],"metric":{"dimensions":[{"name":"clusterId","value":"83df17f1-d74c-11ec-a070-0255ac1000c3"}],"metricName":"diskUsedRate","namespace":"PAAS.AGGR"}}]}},"schema":{"$ref":"#/definitions/PoolMonitor"}},"404":{"description":"Not Found。","examples":{"application/json":{"error_code":"ModelArts.50015001","error_msg":"pool not found"}},"schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"资源池监控","tags":["资源池管理"],"x-api-type":"open-api","x-apiexplorer-hide":"N","x-is-registered":"Y","x-open-region-cloud":"hk,hc,hcso,hcs","x-order":5,"x-publish-doc":"Y","x-request-examples-1":"{}","x-request-examples-description-1":"查询资源池监控信息。","x-request-examples-text-1":"{}","x-request-examples-url-1":"GET https://{endpoint}/v2/{project_id}/pools/{pool_name}/monitor","x-support-sdk":"N"}}},"product_short":"ModelArts","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"ApiTokenAuth":{"in":"header","name":"X-Auth-Token","type":"apiKey"}},"summary":"资源池监控","tags":"资源管理","uri":null,"version":"2.0"}