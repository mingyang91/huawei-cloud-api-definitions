{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\",\"application/json\"]","definitions":{"BatchUpdatePoolNodesRequestBody":{"properties":{"action":{"description":"**参数解释**:节点更新的类型。\n**约束限制**:不涉及。\n**取值范围**:可选值如下:\n- openHaRedundant:开启节点的高可用冗余标签\n- closeHaRedundant:关闭节点的高可用冗余标签\n- createTags:批量添加节点资源标签\n- deleteTags:批量删除节点资源标签\n**默认取值**:不涉及。","type":"string"},"driver":{"$ref":"#/definitions/NodeDriver","description":"**参数解释**:节点的驱动状版本和状态信息。\n**约束限制**:不涉及。"},"haRedundantEffect":{"description":"**参数解释**:高可用冗余标签效果。\n**约束限制**:不涉及。\n**取值范围**:可选值如下:\n- NoSchedule:禁止调度\n- NoExecute:禁止执行。\n**默认取值**:不涉及。","type":"string"},"haRedundantEnable":{"description":"**参数解释**:高可用冗余标签,true为开启节点的高可用冗余。\n**约束限制**:不涉及。\n**取值范围**:不涉及。\n**默认取值**:不涉及。","type":"boolean"},"nodeNames":{"description":"**参数解释**:需要更新的节点名称列表。\n**约束限制**:不涉及。","items":{"type":"string"},"type":"array"},"tags":{"description":"**参数解释**:需要批量操作的资源标签列表。\n**约束限制**:不涉及。","items":{"$ref":"#/definitions/NodeTag"},"type":"array"}},"required":["nodeNames","action"],"type":"object"},"ErrorResponse":{"description":"请求失败时返回的错误对象。","properties":{"error_code":{"description":"**参数解释**:ModelArts错误码。\n**取值范围**:不涉及。","type":"string"},"error_msg":{"description":"**参数解释**:具体错误信息。\n**取值范围**:不涉及。","type":"string"}},"required":["error_code","error_msg"],"type":"object"},"NodeDriver":{"description":"节点驱动。","properties":{"updateStrategy":{"description":"**参数解释**:节点驱动升级策略。\n**约束限制**:不涉及。\n**取值范围**:不涉及。\n**默认取值**:不涉及。","type":"string"},"version":{"description":"**参数解释**:节点上驱动的版本号。\n**约束限制**:不涉及。\n**取值范围**:不涉及。\n**默认取值**:不涉及。","type":"string"}},"type":"object"},"NodeTag":{"description":"**参数解释**:节点资源标签。\n**约束限制**:不涉及。","properties":{"key":{"description":"**参数解释**:键。标签的键可以包含任意语种的字母、数字和空格,以及_.:=+-@字符,但首尾不能包含空格,且不能以_sys_开头。\n**约束限制**:不涉及。\n**取值范围**:不涉及。\n**默认取值**:不涉及。","type":"string"},"value":{"description":"**参数解释**:值。标签的值可以包含任意语种的字母、数字和空格,以及_.:=+-@字符,但首尾不能包含空格。\n**约束限制**:不涉及。\n**取值范围**:不涉及。\n**默认取值**:不涉及。","type":"string"}},"required":["key","value"],"type":"object"},"UpdatePoolNodesResp":{"properties":{"failNodeNames":{"description":"**参数解释**:更新失败的节点名称列表。","items":{"type":"string"},"type":"array"},"successNodeNames":{"description":"**参数解释**:更新成功的节点名称列表。","items":{"type":"string"},"type":"array"}},"type":"object"}},"description":null,"group_id":"ade740e866904a7dbdaa5ec0f538d4d0","host":"modelarts.cn-north-4.myhuaweicloud.com","id":"44a75c1c90b84c0d8570f0be1695cd52","info_version":"v1","method":"post","name":"BatchUpdatePoolNodes","parameters":{},"paths":{"/v2/{project_id}/pools/{pool_name}/nodes/batch-update":{"post":{"consumes":["application/json","application/x-www-form-urlencoded"],"description":"批量更新节点接口用于同时修改多个节点的配置或属性,支持批量操作时各节点独立执行更新流程。该接口适用于以下场景:当用户需统一升级节点软件版本、批量处理选中节点的资源标签、调整资源分配策略、应用安全补丁或同步配置变更时,可通过此接口批量更新目标节点,确保每个节点的更新过程互不影响。使用该接口的前提条件包括:目标节点已存在且用户具备管理员权限,节点需处于可操作状态(如非锁定或维护中),批量操作时需提供有效的节点列表及更新参数(如配置项、版本号等)作为输入。操作完成后,指定节点将应用新配置并更新状态为可用,原有配置将被覆盖。若节点不存在、用户权限不足、节点状态异常(如正在维护)、更新参数不合规或输入参数缺失,接口将返回对应错误信息(如404未找到节点、403权限拒绝、400参数校验失败等)。","operationId":"BatchUpdatePoolNodes","parameters":[{"description":"**参数解释**:用户项目ID。获取方法请参见[获取项目ID和名称](modelarts_03_0147.xml)。\n**约束限制**:1 - 64字符,字母、数字和中划线。\n**取值范围**:不涉及。\n**默认取值**:不涉及。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"**参数解释**:资源池ID。取值资源池详情的metadata.name字段。\n**约束限制**:不涉及。\n**取值范围**:不涉及。\n**默认取值**:不涉及。","in":"path","name":"pool_name","required":true,"type":"string"},{"description":"**参数解释**:批量更新节点的请求体\n**约束限制**:不涉及。\n**取值范围**:不涉及。\n**默认取值**:不涉及。","in":"body","name":"BatchUpdatePoolNodesRequestBody","required":true,"schema":{"$ref":"#/definitions/BatchUpdatePoolNodesRequestBody"}}],"responses":{"200":{"description":"OK。","examples":{"application/json":{"successNodeNames":[{"name":"os-node-created-xzz78","status":"success"}]}},"schema":{"$ref":"#/definitions/UpdatePoolNodesResp"}},"404":{"description":"Not Found。","examples":{"application/json":{"error_code":"ModelArts.50015001","error_msg":"pool not found"}},"schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"批量更新节点","tags":["节点管理"],"x-api-type":"open-api","x-apiexplorer-hide":"N","x-is-registered":"Y","x-open-region-cloud":"hk,hc,hcs,fcs,hcso,hcs_sm","x-publish-doc":"Y","x-request-examples-1":{"action":"openHaRedundant","nodeNames":["os-node-created-xzz78"]},"x-request-examples-description-1":"开启节点高可用冗余。","x-request-examples-text-1":{"action":"openHaRedundant","nodeNames":["os-node-created-xzz78"]},"x-request-examples-url-1":"POST /v2/{project_id}/pools/{pool_name}/nodes/batch-update","x-support-sdk":"N"}}},"product_short":"ModelArts","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"ApiTokenAuth":{"in":"header","name":"X-Auth-Token","type":"apiKey"}},"summary":"批量更新节点","tags":"资源管理","uri":null,"version":"2.0"}