{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\",\"application/json\"]","definitions":{"ErrorResponse":{"description":"请求失败时返回的错误对象。","properties":{"error_code":{"description":"**参数解释**:ModelArts错误码。\n**取值范围**:不涉及。","type":"string"},"error_msg":{"description":"**参数解释**:具体错误信息。\n**取值范围**:不涉及。","type":"string"}},"required":["error_code","error_msg"],"type":"object"},"ResourceRequirementVO":{"description":"作业使用的资源量信息。","properties":{"cpu":{"description":"**参数解释**:作业的运行使用的CPU资源量。\n**取值范围**:不涉及。","type":"string"},"huawei.com/ascend-1980":{"description":"**参数解释**:作业的运行使用的snt9类型NPU资源量。\n**取值范围**:不涉及。","type":"string"},"huawei.com/ascend-310":{"description":"**参数解释**:作业的运行使用的snt3类型NPU资源量。\n**取值范围**:不涉及。","type":"string"},"memory":{"description":"**参数解释**:作业的运行使用的内存资源量。\n**取值范围**:不涉及。","type":"string"},"nvidia.com/gpu":{"description":"**参数解释**:作业的运行使用的GPU资源量。\n**取值范围**:不涉及。","type":"string"}},"type":"object"},"Workload":{"description":"作业详细信息。","properties":{"apiVersion":{"description":"**参数解释**:资源的API版本。\n**取值范围**:可选值如下:\n- v1:当前资源版本为v1","type":"string"},"createTime":{"description":"**参数解释**:作业的Unix创建时间戳,以毫秒为单位。\n**取值范围**:不涉及。","type":"integer"},"flavor":{"description":"**参数解释**:作业的资源规格。\n**取值范围**:不涉及。","type":"string"},"gvk":{"description":"**参数解释**:作业的k8s资源类型、分组和版本。\n**取值范围**:不涉及。","type":"string"},"hostIps":{"description":"**参数解释**:作业运行的节点IP列表,以“,”分隔。\n**取值范围**:不涉及。","type":"string"},"jobName":{"description":"**参数解释**:作业的归属的上层业务的名称。\n**取值范围**:不涉及。","type":"string"},"jobUUID":{"description":"**参数解释**:作业的归属的上层业务的ID。\n**取值范围**:不涉及。","type":"string"},"kind":{"description":"**参数解释**:资源的类型。\n**取值范围**:可选值如下:\n- Workload:资源池作业","type":"string"},"name":{"description":"**参数解释**:作业的名称。\n**取值范围**:不涉及。","type":"string"},"namespace":{"description":"**参数解释**:集群中作业所属的命名空间。\n**取值范围**:不涉及。","type":"string"},"nodes":{"description":"**参数解释**:作业运行时占用的节点资源信息。","items":{"$ref":"#/definitions/WorkloadNodeVO"},"type":"array"},"pendingDuration":{"description":"**参数解释**:作业的排队时长,以秒为单位。\n**取值范围**:不涉及。","type":"integer"},"pendingPosition":{"description":"**参数解释**:作业当前的排队位置。\n**取值范围**:不涉及。","type":"integer"},"priority":{"description":"**参数解释**:作业的优先级。\n**取值范围**:不涉及。","type":"string"},"resourceRequirement":{"description":"**参数解释**:作业运行请求的资源量。","properties":{"cpu":{"description":"**参数解释**:作业的运行使用的CPU资源量。\n**取值范围**:不涉及。","type":"string"},"huawei.com/ascend-snt3":{"description":"**参数解释**:作业的运行使用的snt3类型NPU资源量。\n**取值范围**:不涉及","type":"string"},"huawei.com/ascend-snt9":{"description":"**参数解释**:作业的运行使用的snt9类型NPU资源量。\n**取值范围**:不涉及。","type":"string"},"memory":{"description":"**参数解释**:作业的运行使用的内存资源量。\n**取值范围**:不涉及。","type":"string"},"nvidia.com/gpu":{"description":"**参数解释**:作业的运行使用的GPU资源量。\n**取值范围**:不涉及。","type":"string"}}},"runningDuration":{"description":"**参数解释**:作业的运行时长,以秒为单位。\n**取值范围**:不涉及。","type":"integer"},"status":{"description":"**参数解释**:作业状态。\n**取值范围**:不涉及。","type":"string"},"type":{"description":"**参数解释**:资源池中作业的业务类型。\n**取值范围**:可选值如下:\n- train:训练作业\n- infer:推理服务\n- notebook:Notebook作业","type":"string"},"uid":{"description":"**参数解释**:作业的ID。\n**取值范围**:不涉及。","type":"string"}},"required":["apiVersion","kind","type","namespace","name"],"type":"object"},"WorkloadList":{"description":"作业列表。","properties":{"apiVersion":{"description":"**参数解释**:资源的API版本。\n**取值范围**:可选值如下:\n- v1:当前资源版本为v1","type":"string"},"items":{"description":"**参数解释**:资源池中的作业列表。","items":{"$ref":"#/definitions/Workload"},"type":"array"},"kind":{"description":"**参数解释**:资源的类型。\n**取值范围**:可选值如下:\n- WorkloadList:作业列表","type":"string"}},"required":["apiVersion","kind"],"type":"object"},"WorkloadNodeVO":{"properties":{"hostIp":{"description":"**参数解释**:作业运行节点的IP地址。\n**取值范围**:不涉及。","type":"string"},"npuTopologyPlacement":{"description":"**参数解释**:NPU卡的资源使用拓扑信息,长度为16的二进制编码,右起第一位编码代表卡1。其中,1表示占用,0表示空闲。例如,16卡的机型中卡1和卡15被占用,值为0100000000000001;8卡的机型中卡1和卡7被占用,返回值为0000000001000001。\n**取值范围**:不涉及。","type":"string"},"resourceRequirement":{"$ref":"#/definitions/ResourceRequirementVO","description":"**参数解释**:作业的运行使用的资源量。"}},"type":"object"}},"description":null,"group_id":"ade740e866904a7dbdaa5ec0f538d4d0","host":"modelarts.cn-north-4.myhuaweicloud.com","id":"d8a7c69d1a7c4fa19b6290cc44050006","info_version":"v1","method":"get","name":"ListWorkloads","parameters":{},"paths":{"/v2/{project_id}/pools/{pool_name}/workloads":{"get":{"description":"查询专属资源池作业列表接口用于获取指定专属资源池中的作业信息列表。该接口适用于以下场景:当需要监控专属资源池的资源使用情况、查看作业状态或管理资源分配时,用户可通过此接口获取专属资源池中作业的详细信息。使用该接口的前提条件是专属资源池已存在且用户具有相应的权限(如管理员权限或资源管理权限)。调用接口成功后,系统将返回专属资源池中作业的列表,包括作业ID、名称、状态、资源使用情况等详细信息。若专属资源池不存在、用户无权限操作或资源池当前不可用,接口将返回相应的错误信息。","operationId":"ListWorkloads","parameters":[{"description":"**参数解释**:用户项目ID,获取方法请参见[获取项目ID和名称](modelarts_03_0147.xml)。\n**约束限制**:不涉及。\n**取值范围**:不涉及。\n**默认取值**:不涉及。","in":"path","maxLength":36,"minLength":32,"name":"project_id","required":true,"type":"string"},{"description":"**参数解释**:资源池的ID,取值自资源池详情的metadata.name字段。\n**约束限制**:不涉及。\n**取值范围**:只能以小写字母开头,数字、中划线组成,不能以中划线结尾,且长度为[36-63]个字符。\n**默认取值**:不涉及。","in":"path","name":"pool_name","required":true,"type":"string"},{"description":"**参数解释**:根据作业类型查询资源池作业列表。\n**约束限制**:不涉及。\n**取值范围**:可选值如下:\n- train:训练作业\n- infer:推理服务\n- notebook:Notebook作业\n- x-infer:新版推理作业\n**默认取值**:不涉及。","in":"query","name":"type","required":false,"type":"string"},{"description":"**参数解释**:根据作业状态查询资源池作业列表。\n**约束限制**:不涉及。\n**取值范围**:可选值如下:\n- Queue:排队中的作业。\n- Pending:等待中的作业。\n- Abnormal:异常的作业。\n- Terminating:中止中的作业。\n- Creating:创建中的作业。\n- Running:运行中的作业。\n- Completed:已完成的作业。\n- Terminated:已终止的作业。\n- Failed:运行失败的作业。\n**默认取值**:不涉及。","in":"query","name":"status","required":false,"type":"string"},{"description":"**参数解释**:查询资源池作业列表的排序条件。\n**约束限制**:不涉及。\n**取值范围**:可选值如下:\n- create_time:根据作业创建时间排序。\n**默认取值**:不涉及。","in":"query","name":"sort","required":false,"type":"string"},{"description":"**参数解释**:指定查询资源池作业列表是否按照升序排序。\n**约束限制**:需要配合sort查询参数使用。\n**取值范围**:可选值如下:\n- true:按照升序排序。\n- false:按照降序排序。\n**默认取值**:false。","in":"query","name":"ascend","required":false,"type":"boolean"},{"description":"**参数解释**:分页查询的偏移量。\n**约束限制**:不涉及。\n**取值范围**:0-2147483647。\n**默认取值**:0。","in":"query","name":"offset","required":false,"type":"string"},{"description":"**参数解释**:分页单次查询返回的资源数量。\n**约束限制**:不涉及。\n**取值范围**:0 - 500。\n**默认取值**:500。","in":"query","name":"limit","required":false,"type":"integer"}],"produces":["application/json"],"responses":{"200":{"description":"OK。","examples":{"application/json":{"apiVersion":"v1","items":[{"apiVersion":"v1","createTime":1733152598000,"gvk":"batch.volcano.sh/v1alpha1, Kind=Job","hostIps":"192.168.81.93,192.168.73.217","jobName":"DI-job-202412022313-hlyh5","jobUUID":"19d05662-0f87-43c7-8426-1ccf4b30179b","kind":"Workload","name":"ma-job-19d05662-0f87-43c7-8426-1ccf4b30179b","namespace":"os-pool-train-dSnt9b-memarts1-1ccf4b30179b","nodes":[{"hostIp":"192.168.81.93","npuTopologyPlacement":"0x00ff","resourceRequirement":{"cpu":"180 Cores","huawei.com/ascend-1980":"8","memory":"1.18 TiB"}},{"hostIp":"192.168.73.217","npuTopologyPlacement":"0x00ff","resourceRequirement":{"cpu":"180 Cores","huawei.com/ascend-1980":"8","memory":"1.18 TiB"}}],"pendingPosition":-1,"priority":"1","resourceRequirement":{"cpu":"360 Cores","memory":"2.36 TiB"},"runningDuration":1857065,"status":"Running","type":"train","uid":"837ad51b-7c39-41f7-82e9-ea904cbb8ed6"}],"kind":"WorkloadList"}},"schema":{"$ref":"#/definitions/WorkloadList"}},"400":{"description":"Bad Request。","examples":{"application/json":{"error_code":"ModelArts.50004000","error_msg":"Bad request."}},"schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"Not Found。","examples":{"application/json":{"error_code":"ModelArts.50015001","error_msg":"Pool {name} not found."}},"schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"查询资源池作业列表","tags":["资源池作业管理"],"x-api-type":"open-api","x-apiexplorer-hide":"N","x-is-registered":"Y","x-open-region-cloud":"hk,hc,hcso,hcs","x-publish-doc":"Y","x-request-examples-url-1":"GET https://{endpoint}/v2/{project_id}/pools/{pool_name}/workloads","x-support-sdk":"N"}}},"product_short":"ModelArts","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"ApiTokenAuth":{"in":"header","name":"X-Auth-Token","type":"apiKey"}},"summary":"查询资源池作业列表","tags":"资源管理","uri":null,"version":"2.0"}