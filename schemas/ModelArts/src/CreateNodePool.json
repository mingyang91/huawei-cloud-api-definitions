{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\",\"application/json\"]","definitions":{"CreateNodePoolAnnotations":{"description":"创建节点池metadata的注释信息。","properties":{"os.modelarts/auto.renew":{"description":"是否自动续费.可选值如下:\n- 0:不自动续费,默认值\n- 1:自动续费","type":"string","x-hcs":false},"os.modelarts/billing.mode":{"description":"计费模式,可选值如下:\n- 0:按需计费\n- 1:包周期计费","type":"string"},"os.modelarts/order.id":{"description":"订单id,包周期资源创建或者计费模式变更的时候该参数必需。","type":"string","x-hcs":false},"os.modelarts/period.num":{"description":"包周期订购周期,比如2。当计费模式为包周期时该参数必传。","type":"string","x-hcs":false},"os.modelarts/period.type":{"description":"包周期订购类型。可选值如下:\n- 2:月 \n- 3:年\n- 4:小时\n\n当计费模式为包周期时该参数必传。","type":"string","x-hcs":false},"os.modelarts/promotion.info":{"description":"用户在运营平台选择的折扣信息。","type":"string","x-hcs":false},"os.modelarts/service.console.url":{"description":"订购订单支付完成后跳转的url地址。","type":"string","x-hcs":false}},"type":"object"},"CreateNodePoolMetaVO":{"description":"创建节点池的metadata信息。","properties":{"annotations":{"$ref":"#/definitions/CreateNodePoolAnnotations","description":"节点池的注释信息。"},"name":{"description":"节点池名称。","type":"string"}},"required":["name"],"type":"object"},"CreateNodePoolRequestBody":{"description":"创建资源池请求体。","properties":{"apiVersion":{"description":"API版本。可选值如下:\n- v2","type":"string"},"kind":{"description":"节点池类型。可选值如下:\n-  NodePool:节点池","type":"string"},"metadata":{"$ref":"#/definitions/CreateNodePoolMetaVO","description":"节点池的metadata信息。"},"spec":{"$ref":"#/definitions/NodePoolSpec"}},"required":["apiVersion","kind","metadata"],"type":"object"},"CreatingStep":{"description":"批量创建信息。","properties":{"step":{"description":"创建步长。","format":"int32","type":"integer"},"type":{"description":"批量创建类型。可选值如下:\n- rack:表示整柜。","type":"string"}},"type":"object"},"ErrorResponse":{"description":"请求失败时返回的错误对象。","properties":{"error_code":{"description":"ModelArts错误码。","type":"string"},"error_msg":{"description":"具体错误信息。","type":"string"}},"required":["error_code","error_msg"],"type":"object"},"NodeNetwork":{"description":"节点网络配置。","properties":{"securityGroups":{"description":"安全组id集合。","items":{"type":"string"},"type":"array"},"subnet":{"description":"子网id。","type":"string"},"vpc":{"description":"vpc id。","type":"string"}},"type":"object"},"NodePoolSpec":{"description":"节点池创建请求体。","properties":{"resources":{"$ref":"#/definitions/PoolResource","description":"节点池中的资源信息列表,包括资源规格和相应规格的资源数量,自定义配置等。"}},"required":["resources"],"type":"object"},"PoolNodeAz":{"description":"资源池中节点的AZ信息。","properties":{"az":{"description":"可用区名称。","example":"az1","type":"string"},"count":{"description":"指定可用区扩容时,指定可用区的节点数。","example":1,"format":"int32","maximum":2000,"minimum":1,"type":"integer"}},"required":["az","count"],"type":"object"},"PoolResource":{"description":"资源池资源规格资源量及节点池配置数据模型。","properties":{"azs":{"items":{"$ref":"#/definitions/PoolNodeAz"},"type":"array"},"count":{"description":"规格保障使用量。","format":"int32","type":"integer"},"creatingStep":{"$ref":"#/definitions/CreatingStep","description":"批量创建信息。"},"extendParams":{"additionalProperties":{"type":"string"},"description":"自定义配置,比如设置节点dockerSize:\"extendParams\": {\"dockerBaseSize\": \"100\" }。","type":"object"},"flavor":{"description":"资源规格名称,比如:modelarts.vm.gpu.t4u8。","type":"string"},"labels":{"additionalProperties":{"type":"string"},"description":"k8s标签,格式为key/value键值对。","type":"object"},"maxCount":{"description":"资源规格的弹性使用量,物理池该值和count相同。","format":"int32","type":"integer"},"network":{"$ref":"#/definitions/NodeNetwork","description":"网络配置,非特权池不能指定。"},"nodePool":{"description":"节点池名称。比如:nodePool-1。","type":"string"},"tags":{"description":"资源标签,非特权池不能指定。","items":{"$ref":"#/definitions/UserTag"},"type":"array"},"taints":{"description":"支持给创建出来的节点加taints来设置反亲和性,非特权池不能指定。","items":{"$ref":"#/definitions/Taint"},"type":"array"}},"required":["flavor","count","maxCount"],"type":"object"},"Taint":{"description":"污点。","properties":{"effect":{"description":"作用效果。","type":"string"},"key":{"description":"键。","type":"string"},"value":{"description":"值。","type":"string"}},"required":["key","effect"],"type":"object"},"UserTag":{"description":"资源标签。","properties":{"key":{"description":"键。不得以\"CCE-\"或\"__type_baremetal\"开头","type":"string"},"value":{"description":"值。","type":"string"}},"required":["key","value"],"type":"object"}},"description":null,"group_id":"ade740e866904a7dbdaa5ec0f538d4d0","host":"modelarts.cn-north-4.myhuaweicloud.com","id":"04983d17fc6e42e0bdde06f6864c14f4","info_version":"v1","method":"post","name":"CreateNodePool","parameters":{},"paths":{"/v2/{project_id}/pools/{pool_name}/nodepools":{"post":{"description":"创建节点池。","operationId":"CreateNodePool","parameters":[{"description":"用户项目ID。获取方法请参见[获取项目ID和名称](modelarts_03_0147.xml)。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"资源池名称。","in":"path","name":"pool_name","required":true,"type":"string"},{"description":"创建节点池的请求体。","in":"body","name":"CreateNodePoolRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateNodePoolRequestBody"}}],"responses":{"200":{"description":"OK。","examples":{"application/json":{"apiVersion":"v2","kind":"NodePool","metadata":{"annotations":{},"name":"nodepool-1"},"spec":{"resources":{"count":1,"flavor":"modelarts.vm.2u4g.dcc","maxCount":1,"network":{"securityGroups":["0a15b48d-06f1-41e4-b782-ade90087bf59"],"subnet":"03796378-c356-4c14-826b-e4913aa9c8b9","vpc":"277e9abc-0e6b-431a-9232-cfd25d5fc566"},"nodePool":"nodepool-1"}}}},"schema":{"$ref":"#/definitions/CreateNodePoolRequestBody"}},"400":{"description":"Bad request","examples":{"application/json":{"error_code":"ModelArts.50004000","error_msg":"Bad request."}},"schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"创建节点池","tags":["节点池管理"],"x-api-type":"open-api","x-is-registered":"Y","x-open-region-cloud":"hk,hc,hcso,hcs","x-publish-doc":"Y","x-request-examples-1":{"apiVersion":"v2","kind":"NodePool","metadata":{"annotations":{},"name":"nodepool-1"},"spec":{"resources":{"count":1,"flavor":"modelarts.vm.2u4g.dcc","maxCount":1,"network":{"securityGroups":["0a15b48d-06f1-41e4-b782-ade90087bf59"],"subnet":"03796378-c356-4c14-826b-e4913aa9c8b9","vpc":"277e9abc-0e6b-431a-9232-cfd25d5fc566"},"nodePool":"nodepool-1"}}},"x-request-examples-description-1":"创建节点池。","x-request-examples-text-1":{"apiVersion":"v2","kind":"NodePool","metadata":{"annotations":{},"name":"nodepool-1"},"spec":{"resources":{"count":1,"flavor":"modelarts.vm.2u4g.dcc","maxCount":1,"network":{"securityGroups":["0a15b48d-06f1-41e4-b782-ade90087bf59"],"subnet":"03796378-c356-4c14-826b-e4913aa9c8b9","vpc":"277e9abc-0e6b-431a-9232-cfd25d5fc566"},"nodePool":"nodepool-1"}}},"x-request-examples-url-1":"POST https://{endpoint}/v2/{project_id}/pools/{pool_name}/nodepools","x-support-sdk":"N"}}},"product_short":"ModelArts","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"ApiTokenAuth":{"in":"header","name":"X-Auth-Token","type":"apiKey"}},"summary":"创建节点池","tags":"节点池管理","uri":null,"version":"2.0"}