{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\",\"application/json\"]","definitions":{"ErrorResponse":{"description":"请求失败时返回的错误对象。","properties":{"error_code":{"description":"ModelArts错误码。","type":"string"},"error_msg":{"description":"具体错误信息。","type":"string"}},"required":["error_code","error_msg"],"type":"object"},"PatchServiceV2RequestBody":{"description":"服务PATCH操作请求体。","properties":{"op":{"description":"操作类型,目前仅支持replace,代表值替换操作。","type":"string"},"path":{"description":"操作路径,符合标准的Json PATCH格式,代表以服务详情的Json返回体为基准,想要执行替换的值的目标路径(Json PATH)。当前支持且仅支持对模型相关所有参数的替换更新,因此前缀固定为“/config/”。例如,当期望更新第一个模型中的实例数量,则路径为“/config/0/instance_count”。","type":"string"},"value":{"description":"替换的目标值。","type":"string"}},"type":"object"},"UpdateServiceResponse":{"description":"更新服务返回消息体。","properties":{"resource_ids":{"description":"更新的资源ID。","example":"INF-93b4dd8298240f41-1701335413769","maxLength":255,"minLength":0,"type":"string"},"update_time":{"description":"本次更新时间,仅触发服务配置升级时会返回,比如修改config参数,可根据此时间从服务更新记录中过滤出此次的更新结果;修改描述或启停服务不会返回此参数。","example":"1574770228888","type":"string"}},"type":"object"}},"description":null,"group_id":"ade740e866904a7dbdaa5ec0f538d4d0","host":"modelarts.cn-north-4.myhuaweicloud.com","id":"57f5832d8c034bcb8e47b2e5b07e1481","info_version":"v1","method":"patch","name":"PatchServiceV2","parameters":{},"paths":{"/v1/{project_id}/services/{service_id}":{"patch":{"deprecated":false,"description":"通过patch操作对服务进行更新。patch的格式可以参照json patch。","operationId":"PatchServiceV2","parameters":[{"description":"用户项目ID。获取方法请参见[获取项目ID和名称](modelarts_03_0147.xml)。","in":"path","maxLength":128,"minLength":0,"name":"project_id","required":true,"type":"string"},{"description":"服务ID。","in":"path","maxLength":128,"minLength":0,"name":"service_id","required":true,"type":"string"},{"description":"委托Token校验workspace时需要填写user id。","in":"header","maxLength":128,"minLength":0,"name":"X-ModelArts-User-ID","required":false,"type":"string"},{"description":"用户token。","in":"header","maxLength":65536,"minLength":0,"name":"X-Auth-Token","required":true,"type":"string"},{"description":"参照json patch的格式。目前path只能以“/config”为前缀,即只能修改模型数据。","in":"body","name":"PatchServiceV2RequestBody","required":true,"schema":{"items":{"$ref":"#/definitions/PatchServiceV2RequestBody"},"type":"array"}}],"responses":{"200":{"description":"OK","examples":{"application/json":{"resource_ids":["INF-ae2aa85ce2a3fcac-1700530937033","INF-ae2aa85ca9542b46-1700530937026"],"update_time":1700625410586}},"headers":{"X-Request-Id":{"description":"请求链路编号,可用于日志追踪","type":"string"}},"schema":{"$ref":"#/definitions/UpdateServiceResponse"}},"400":{"description":"参数非法","headers":{"X-Request-Id":{"description":"请求链路编号,可用于日志追踪","type":"string"}},"schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"通过patch操作对服务进行更新","tags":["服务管理"],"x-apiexplorer-hide":"N","x-is-registered":"Y","x-open-region-cloud":"hk,hc","x-order":28,"x-publish-doc":"Y","x-request-examples-1":[{"op":"replace","path":"/config/0/envs","value":{}},{"op":"replace","path":"/config/0/model_id","value":"a9542b46-8dfd-4184-bd81-c8d8946edb47"},{"op":"replace","path":"/config/0/additional_properties","value":{"persistent_volumes":[{"mount_path":"/var/tmp","source_address":"/dongcong4","storage_type":"obs_pfs","storage_type_text":"atelier_webservice_detail_model_config_volumes_type_obs"}]}},{"op":"replace","path":"/config/0/specification","value":"modelarts.vm.ai1.a310"},{"op":"replace","path":"/config/0/pool_name","value":"pool-c8e2-04f258c84780d5a52f3bc00dc15aa5e7"}],"x-request-examples-description-1":"通过patch操作对服务进行更新。","x-request-examples-text-1":[{"op":"replace","path":"/config/0/envs","value":{}},{"op":"replace","path":"/config/0/model_id","value":"a9542b46-8dfd-4184-bd81-c8d8946edb47"},{"op":"replace","path":"/config/0/additional_properties","value":{"persistent_volumes":[{"mount_path":"/var/tmp","source_address":"/dongcong4","storage_type":"obs_pfs","storage_type_text":"atelier_webservice_detail_model_config_volumes_type_obs"}]}},{"op":"replace","path":"/config/0/specification","value":"modelarts.vm.ai1.a310"},{"op":"replace","path":"/config/0/pool_name","value":"pool-c8e2-04f258c84780d5a52f3bc00dc15aa5e7"}],"x-request-examples-url-1":"PATCH https://{endpoint}/v1/{project_id}/services/{service_id}","x-support-sdk":"N"}}},"product_short":"ModelArts","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"ApiTokenAuth":{"in":"header","name":"X-Auth-Token","type":"apiKey"}},"summary":"通过patch操作对服务进行更新","tags":"服务管理","uri":null,"version":"2.0"}