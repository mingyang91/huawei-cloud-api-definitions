{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\",\"application/json\"]","definitions":{"CreateDatasetReq":{"description":"创建数据集的请求体。","properties":{"data_format":{"description":"数据格式。可选值如下:\n- Default:默认格式\n- CarbonData:Carbon格式(仅表格数据集支持)","type":"string"},"data_sources":{"description":"数据集输入位置,用于将此目录及子目录下的源数据(如图片/文件/音频等)同步到数据集。对于表格数据集,该参数为导入目录。表格数据集的工作目录不支持为KMS加密桶下的OBS路径。目前仅支持传入单个DataSource。","items":{"$ref":"#/definitions/DataSource"},"type":"array"},"dataset_name":{"description":"数据集名称,名称只能是中文、字母、数字、下划线或中划线组成的合法字符串,长度为1-100位,如“dataset-9f3b”。","type":"string"},"dataset_type":{"description":"数据集类型。可选值如下:\n- 0:图像分类\n- 1:物体检测\n- 3: 图像分割\n- 100:文本分类\n- 101:命名实体\n- 102:文本三元组\n- 200:声音分类\n- 201:语音内容\n- 202:语音分割\n- 400:表格数据集\n- 600:视频标注\n- 900:自由格式","format":"int32","type":"integer"},"description":{"description":"数据集描述,默认为空,描述不能包含^!<>=&\"'等特殊字符,长度为0-256。","type":"string"},"import_annotations":{"description":"是否自动导入输入目录下的标注信息,支持物体检测、图像分类、文本分类。可选值如下:\n- true:导入输入目录下的标注信息(默认值)\n- false:不导入输入目录下的标注信息","type":"boolean"},"import_data":{"description":"是否导入数据,此参数当前仅表格数据集使用。可选值如下:\n- true:创建数据集时导入数据\n- false:创建数据集时不导入数据(默认值)","type":"boolean"},"label_format":{"$ref":"#/definitions/LabelFormat","description":"标签格式信息,此参数仅文本类数据集使用。"},"labels":{"description":"数据集标签列表。","items":{"$ref":"#/definitions/Label"},"type":"array"},"managed":{"description":"是否是托管数据集。可选值如下:\n- true:托管数据集\n- false:不托管数据集(默认值)","type":"boolean"},"schema":{"description":"Schema列表。","items":{"$ref":"#/definitions/Field"},"type":"array"},"work_path":{"description":"数据集输出位置,用于存放输出的标注信息等文件。\n- 格式为 “/桶名称/文件路径”,例如“/obs-bucket/flower/rose/”(使用目录作为路径)。\n- 不能直接使用桶作为路径。\n- 输出位置不能与输入位置相同或者是输入位置的子目录。\n- 长度限制:不少于3字符,不能超过700个字符。","type":"string"},"work_path_type":{"description":"数据集输出路径类型。默认值为0,表示OBS桶。","format":"int32","type":"integer"},"workforce_information":{"$ref":"#/definitions/WorkforceInformation","description":"团队标注信息。"},"workspace_id":{"description":"工作空间ID。若未创建工作空间,默认值为“0”;若存在创建并使用的工作空间,以实际取值为准。","type":"string"}},"required":["data_sources","dataset_name","work_path","work_path_type"],"title":"CreateDatasetReq"},"CreateDatasetResp":{"description":"创建数据集的响应体。","properties":{"dataset_id":{"description":"数据集ID。","type":"string"},"error_code":{"description":"错误码。","type":"string"},"error_msg":{"description":"错误信息。","type":"string"},"import_task_id":{"description":"导入任务ID。","type":"string"}},"title":"CreateDatasetResp","type":"object"},"DataSource":{"description":"数据来源。","properties":{"data_path":{"description":"数据源所在路径。","type":"string"},"data_type":{"description":"数据类型。可选值如下:\n- 0:OBS桶(默认值)\n- 1:GaussDB(DWS)服务\n- 2:DLI服务\n- 3:RDS服务\n- 4:MRS服务\n- 5:AI Gallery\n- 6:推理服务","format":"int32","type":"integer"},"schema_maps":{"description":"表格数据对应的schema映射信息。","items":{"$ref":"#/definitions/SchemaMap"},"type":"array"},"source_info":{"$ref":"#/definitions/SourceInfo","description":"导入表格数据源所需的信息。"},"with_column_header":{"description":"文件中首行是否是列名,用于表格数据集。可选值如下:\n- true:文件首行为列名\n- false:文件首行不为列名","type":"boolean"}},"title":"DataSource","type":"object"},"Field":{"description":"Schema相关信息。","properties":{"description":{"description":"Schema描述。","type":"string"},"name":{"description":"Schema名称。","type":"string"},"schema_id":{"description":"Schema ID。","format":"int32","type":"integer"},"type":{"description":"Schema值类型。","type":"string"}},"title":"Field","type":"object"},"Label":{"description":"数据集标签。","properties":{"attributes":{"description":"标签的多维度属性,如标签为“音乐”,可能包含属性“风格”、“歌手”等。","items":{"$ref":"#/definitions/LabelAttribute"},"type":"array"},"name":{"description":"标签名称。","type":"string"},"property":{"$ref":"#/definitions/LabelProperty","description":"标签基本属性键值对,如颜色、快捷键等。"},"type":{"description":"标签类型。可选值如下:\n- 0:图像分类\n- 1:物体检测\n- 3: 图像分割\n- 100:文本分类\n- 101:命名实体\n- 102:文本三元组关系标签\n- 103:文本三元组实体标签\n- 200:语音分类\n- 201:语音内容\n- 202:语音分割\n- 600:视频标注","format":"int32","type":"integer"}},"title":"Label","type":"object"},"LabelAttribute":{"description":"标签的多维度属性,如标签为“音乐”,可能包含属性“风格”、“歌手”等。","properties":{"default_value":{"description":"标签属性默认值。","type":"string"},"id":{"description":"标签属性ID。可通过调用标签列表查询。","type":"string"},"name":{"description":"标签属性名称。不能超过64个字符,不能包含字符!<>=&\"'。","type":"string"},"type":{"description":"标签属性类型。可选值如下:\n- text:文本\n- select:单选下拉列表","type":"string"},"values":{"description":"标签属性值列表。","items":{"$ref":"#/definitions/LabelAttributeValue"},"type":"array"}},"title":"LabelAttribute","type":"object"},"LabelAttributeValue":{"description":"标签属性值。","properties":{"id":{"description":"标签属性值ID。","type":"string"},"value":{"description":"标签属性值。","type":"string"}},"title":"LabelAttributeValue","type":"object"},"LabelFormat":{"description":"标签格式信息,此参数仅文本类数据集使用。","properties":{"label_type":{"description":"文本分类的标签类型。可选值如下:\n- 0:标签和文本分离,以固定后缀“_result”区分。如:文本文件是“abc.txt”,标签文件是“abc_result.txt”。\n- 1:默认值,标签和文本在一个文件内,以分隔符分离。文本与标签,标签与标签之间的分隔符可通过text_sample_separator和text_label_separator指定。","type":"string"},"text_label_separator":{"description":"标签与标签之间的分隔符,默认为逗号分隔,分隔符需转义。分隔符仅支持一个字符,必须为大小写字母,数字和“!@#$%^&*_=|\\?/':.;,”其中的某一字符。","type":"string"},"text_sample_separator":{"description":"文本与标签之间的分隔符,默认为Tab键分隔,分隔符需转义。分隔符仅支持一个字符,必须为大小写字母,数字和“!@#$%^&*_=|\\?/':.;,”其中的某一字符。","type":"string"}},"title":"LabelFormat","type":"object"},"LabelProperty":{"description":"标签基本属性键值对,如颜色、快捷键等,类型为Map<String, Object>。标签属性支持内置属性和自定义属性。\n- 内置属性:以“@modelarts”开头的属性。\n- 自定义属性:用户自定义的属性与对应的值,值的格式无要求,但是存在如下特殊场景:\n   - 属性的值是可选的范围,在使用时管理控制台可匹配出一个下拉列表。此时推荐写为一个字符串列表。示例如下:\n       - “country”: []    属性可选值列表为空。\n       - “country”: [“China”]   属性只有一个可选值。\n       - “country”: [“China”,“America”]   属性有多个可选值。\n   - 属性的值为字符串等其他内容,前台不会解析,显示为字符串。示例如下:\n       - “country”: “”     属性的值定义为空。\n       - “country”: “China”   属性的值定义为字符串。","properties":{"@modelarts:color":{"description":"内置属性:标签展示的颜色,为色彩的16进制代码,默认为空。例如:“#FFFFF0”。","type":"string"},"@modelarts:default_shape":{"description":"内置属性:物体检测标签的默认形状(物体检测标签专用属性),默认为空。可选值如下:\n- bndbox:矩形。\n- polygon:多边形。\n- circle:圆形。\n- line:直线。\n- dashed:虚线。\n- point:点。\n- polyline:折线。","type":"string"},"@modelarts:from_type":{"description":"内置属性:三元组关系标签的起始实体类型,创建关系标签时必须指定,该参数仅文本三元组数据集使用。","type":"string"},"@modelarts:rename_to":{"description":"内置属性:重命名后的标签名。","type":"string"},"@modelarts:shortcut":{"description":"内置属性:标签快捷键,默认为空。例如:“D”。","type":"string"},"@modelarts:to_type":{"description":"内置属性:三元组关系标签的指向实体类型,创建关系标签时必须指定,该参数仅文本三元组数据集使用。","type":"string"}},"title":"LabelProperty","type":"object"},"SchemaMap":{"description":"表格数据对应的schema信息。","properties":{"dest_name":{"description":"目的方的列名。","type":"string"},"src_name":{"description":"来源方的列名。","type":"string"}},"title":"SchemaMap","type":"object"},"SourceInfo":{"description":"导入表格数据源所需的信息。","properties":{"cluster_id":{"description":"MRS集群ID。可登录MRS控制台查看。","type":"string"},"cluster_mode":{"description":"MRS集群运行模式。可选值如下:\n- 0:普通集群\n- 1:安全集群","type":"string"},"cluster_name":{"description":"MRS集群名称。可登录MRS控制台查看。","type":"string"},"database_name":{"description":"导入表格数据集,数据库名字。","type":"string"},"input":{"description":"表格数据集,HDFS路径。例如/datasets/demo。","type":"string"},"ip":{"description":"用户GaussDB(DWS)集群的IP地址。","type":"string"},"port":{"description":"用户GaussDB(DWS)集群的端口。","type":"string"},"queue_name":{"description":"表格数据集,DLI队列名。","type":"string"},"subnet_id":{"description":"MRS集群的子网ID。","type":"string"},"table_name":{"description":"导入表格数据集,表名。","type":"string"},"user_name":{"description":"用户名,GaussDB(DWS)数据需提供此参数。","type":"string"},"user_password":{"description":"用户密码,GaussDB(DWS)数据需提供此参数。","type":"string"},"vpc_id":{"description":"MRS集群所在的vpc的ID。","type":"string"}},"title":"SourceInfo","type":"object"},"Worker":{"description":"标注成员。","properties":{"create_time":{"description":"创建时间。","format":"int64","type":"integer"},"description":{"description":"标注成员描述,长度为0-256位,不能包含^!<>=&\"'特殊字符。","type":"string"},"email":{"description":"标注成员邮箱。","type":"string"},"role":{"description":"角色。可选值如下:\n- 0:打标者\n- 1:审核者\n- 2:团队管理者\n- 3:数据集拥有者","format":"int32","type":"integer"},"status":{"description":"标注成员的当前登录状态。可选值如下:\n- 0:未发送邀请邮件\n- 1:已发送邀请邮件但未登录\n- 2:已登录\n- 3:标注成员已删除","format":"int32","type":"integer"},"update_time":{"description":"更新时间。","format":"int64","type":"integer"},"worker_id":{"description":"标注成员ID。","type":"string"},"workforce_id":{"description":"所属标注团队ID。","type":"string"}},"title":"Worker","type":"object"},"WorkforceConfig":{"description":"标注团队。","properties":{"workers":{"description":"标注成员列表。","items":{"$ref":"#/definitions/Worker"},"type":"array"},"workforce_id":{"description":"标注团队ID。","type":"string"},"workforce_name":{"description":"标注团队名称,名称不能包含!<>=&\"',长度为0-1024位。","type":"string"}},"title":"WorkforceConfig","type":"object"},"WorkforceInformation":{"description":"团队标注信息。","properties":{"data_sync_type":{"description":"同步类型。可选值如下:\n- 0:不同步\n- 1:同步数据\n- 2:同步标签\n- 3:同步数据和标签","format":"int32","type":"integer"},"repetition":{"description":"每个样本由多少人标注,最少为1。","format":"int32","type":"integer"},"synchronize_auto_labeling_data":{"description":"是否同步更新智能标注数据。可选值如下:\n- true:同步更新智能标注数据\n- false:不同步更新智能标注数据","type":"boolean"},"synchronize_data":{"description":"是否同步更新:如上传文件、同步数据源、导入的未标注文件同步分配至团队成员。可选值如下:\n- true:同步更新数据至团队成员\n- false:不同步更新数据至团队成员","type":"boolean"},"task_id":{"description":"团队标注任务ID。","type":"string"},"task_name":{"description":"团队标注任务名称,名称只能是中文、字母、数字、下划线或中划线组成的合法字符串,长度为1-64位。","type":"string"},"workforces_config":{"$ref":"#/definitions/WorkforcesConfig","description":"团队标注任务的人力分配,委托管理员或自行分配二选一。"}},"required":["task_name"],"title":"WorkforceInformation","type":"object"},"WorkforcesConfig":{"description":"团队标注任务的人力分配。","properties":{"agency":{"description":"管理员。","type":"string"},"workforces":{"description":"执行标注任务的团队列表。","items":{"$ref":"#/definitions/WorkforceConfig"},"type":"array"}},"title":"WorkforcesConfig","type":"object"}},"description":null,"group_id":"ade740e866904a7dbdaa5ec0f538d4d0","host":"modelarts.cn-north-4.myhuaweicloud.com","id":"61a98f9d07cc48fb9ce0e9f0aeac114a","info_version":"v1","method":"post","name":"CreateDataset","parameters":{},"paths":{"/v2/{project_id}/datasets":{"post":{"consumes":["application/json"],"description":"创建数据集。","operationId":"CreateDataset","parameters":[{"description":"用户项目ID。获取方法请参见[获取项目ID和名称](modelarts_03_0147.xml)。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"创建数据集的请求体。","in":"body","name":"CreateDatasetRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateDatasetReq"}}],"produces":["application/json;charset=UTF-8"],"responses":{"201":{"description":"Created","examples":{"application/json":{"dataset_id":"WxCREuCkBSAlQr9xrde"}},"schema":{"$ref":"#/definitions/CreateDatasetResp"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"summary":"创建数据集","tags":["数据集管理"],"x-is-registered":"Y","x-open-region-cloud":"hc,hk,fcs,fcs-super","x-publish-doc":"N","x-request-examples-1":{"data_sources":[{"data_path":"/test-obs/classify/input/animals/","data_type":0}],"dataset_name":"dataset-457f","dataset_type":0,"description":"","labels":[{"name":"Rabbits","property":{"@modelarts:color":"#3399ff"},"type":0},{"name":"Bees","property":{"@modelarts:color":"#3399ff"},"type":0}],"work_path":"/test-obs/classify/output/","work_path_type":0,"workspace_id":"0"},"x-request-examples-2":{"data_sources":[{"data_path":"/test-obs/detect/input/animals/","data_type":0}],"dataset_name":"dataset-95a6","dataset_type":1,"description":"","labels":[{"name":"Rabbits","property":{"@modelarts:color":"#3399ff"},"type":1},{"name":"Bees","property":{"@modelarts:color":"#3399ff"},"type":1}],"work_path":"/test-obs/detect/output/","work_path_type":0,"workspace_id":"0"},"x-request-examples-3":{"data_sources":[{"data_path":"/test-obs/table/input/","data_type":0,"with_column_header":true}],"dataset_name":"dataset-de83","dataset_type":400,"description":"","import_data":true,"schema":[{"name":"150","schema_id":1,"type":"STRING"},{"name":"4","schema_id":2,"type":"STRING"},{"name":"setosa","schema_id":3,"type":"STRING"},{"name":"versicolor","schema_id":4,"type":"STRING"},{"name":"virginica","schema_id":5,"type":"STRING"}],"work_path":"/test-obs/table/output/","work_path_type":0,"workspace_id":"0"},"x-request-examples-description-1":"创建图像分类的数据集","x-request-examples-description-2":"创建物体检测的数据集","x-request-examples-description-3":"创建表格型的数据集","x-request-examples-text-1":{"data_sources":[{"data_path":"/test-obs/classify/input/animals/","data_type":0}],"dataset_name":"dataset-457f","dataset_type":0,"description":"","labels":[{"name":"Rabbits","property":{"@modelarts:color":"#3399ff"},"type":0},{"name":"Bees","property":{"@modelarts:color":"#3399ff"},"type":0}],"work_path":"/test-obs/classify/output/","work_path_type":0,"workspace_id":"0"},"x-request-examples-text-2":{"data_sources":[{"data_path":"/test-obs/detect/input/animals/","data_type":0}],"dataset_name":"dataset-95a6","dataset_type":1,"description":"","labels":[{"name":"Rabbits","property":{"@modelarts:color":"#3399ff"},"type":1},{"name":"Bees","property":{"@modelarts:color":"#3399ff"},"type":1}],"work_path":"/test-obs/detect/output/","work_path_type":0,"workspace_id":"0"},"x-request-examples-text-3":{"data_sources":[{"data_path":"/test-obs/table/input/","data_type":0,"with_column_header":true}],"dataset_name":"dataset-de83","dataset_type":400,"description":"","import_data":true,"schema":[{"name":"150","schema_id":1,"type":"STRING"},{"name":"4","schema_id":2,"type":"STRING"},{"name":"setosa","schema_id":3,"type":"STRING"},{"name":"versicolor","schema_id":4,"type":"STRING"},{"name":"virginica","schema_id":5,"type":"STRING"}],"work_path":"/test-obs/table/output/","work_path_type":0,"workspace_id":"0"},"x-support-sdk":"N"}}},"product_short":"ModelArts","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"ApiTokenAuth":{"in":"header","name":"X-Auth-Token","type":"apiKey"}},"summary":"创建数据集","tags":"数据管理(旧版)","uri":null,"version":"2.0"}