{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\",\"application/json\"]","definitions":{"Constraint":{"description":"条件","properties":{"attribute":{"description":"属性,参数的某个字段值。","type":"string"},"operator":{"description":"操作,当前只支持equal操作。","type":"string"},"value":{"description":"取值。","type":"object"}},"type":"object"},"DataRequirement":{"description":"工作流需要的数据","properties":{"conditions":{"description":"数据约束条件","items":{"$ref":"#/definitions/Constraint"},"type":"array"},"delay":{"description":"延时参数标记","type":"boolean"},"name":{"description":"数据的名称。填写1-64位,仅包含英文、数字、下划线(_)和中划线(-),并且以英文开头的名称。","example":"eval_dataset","type":"string"},"type":{"description":"类型。枚举值如下:\n- dataset:数据集\n- obs:OBS\n- swr:SWR\n- model_list:AI应用列表\n- label_task:标注任务\n- service:在线服务","enum":["dataset:数据集","obs:OBS文件"],"example":"dataset","type":"string"},"used_steps":{"description":"使用了这条数据的工作流节点","example":["MyStep"],"items":{"type":"string"},"type":"array"},"value":{"additionalProperties":{"type":"object"},"description":"数据的值","example":{"dataset_id":"0id4B4KncfMOALhLk9y","version_id":"fjnFcNxLkZzocqW8VlK"},"type":"object"}},"required":["name","type"],"type":"object"},"JobInput":{"description":"作业输入","properties":{"data":{"description":"输入项数据","example":{"dataset_id":"0id4B4KncfMOALhLk9y","version_id":"fjnFcNxLkZzocqW8VlK"},"type":"object"},"name":{"description":"输入项名称,支持1到64位只包含英文、数字、下划线(_)和中划线(-)的字符。","example":"training_set","type":"string"},"type":{"description":"输入项类型。枚举值如下:\n- dataset:数据集\n- obs:OBS\n- data_selector:数据选择","enum":["dataset:数据集。","obs:OBS文件。"],"type":"string"},"value":{"description":"输入项的值","type":"object"}},"type":"object"},"JobOutput":{"description":"作业输出","properties":{"config":{"additionalProperties":{"type":"object"},"description":"输出配置","type":"object"},"name":{"description":"输出项名称","example":"processed_dataset","type":"string"},"type":{"description":"输出项类型。枚举值如下:\n- obs:OBS\n- model:AI应用元模型","enum":["dataset:数据集。","obs:OBS文件"],"example":"obs","type":"string"}},"type":"object"},"StepCondition":{"description":"条件节点执行条件。","properties":{"left":{"description":"取true时的分支","type":"object"},"right":{"description":"取false时的分支","type":"object"},"type":{"description":"判断类型,例如==(等于)、!=(不等于)、>(大于)、>=(大于等于)、<(小于)、<=(小于等于)、in(包含)、or(或)。","type":"string"}},"type":"object"},"StepExecution":{"description":"单节点执行状态","properties":{"conditions":{"items":{"$ref":"#/definitions/StepCondition"},"type":"array"},"conditions_execution":{"$ref":"#/definitions/WorkflowConditionExecution","description":"条件执行"},"created_at":{"description":"创建时间","example":"2020-12-28T14:43:01.118131+08:00","readOnly":true,"type":"string"},"duration":{"description":"运行时长","example":1000,"type":"integer"},"error_info":{"$ref":"#/definitions/WorkflowErrorInfo","description":"错误信息"},"events":{"description":"节点发生的事件","items":{"type":"string"},"type":"array"},"inputs":{"description":"节点的输入项","items":{"$ref":"#/definitions/JobInput"},"type":"array"},"instance_id":{"description":"实例ID","type":"string"},"outputs":{"description":"节点的输出项","items":{"$ref":"#/definitions/JobOutput"},"type":"array"},"policy":{"$ref":"#/definitions/WorkflowStepExecutionPolicy","description":"节点的执行策略"},"properties":{"additionalProperties":{"type":"object"},"description":"节点的属性","type":"object"},"status":{"description":"节点的状态。枚举值如下:\n- init:初始化\n- wait_inputs:等待输入\n- pending:等待\n- creating:创建中\n- created:创建成功\n- create_failed:创建失败\n- running:运行中\n- stopping:停止中\n- stopped:停止\n- timeout:超时\n- completed:完成\n- failed:失败\n- hold:持有\n- skipped:跳过","enum":["init","wait_inputs","pending","creating","created","create_failed","running","stopping","stopped","timeout","completed","failed","hold","skipped"],"type":"string"},"step_name":{"description":"节点的名称,在一个DAG中唯一,1到64位只包含中英文,数字,空格,下划线(_)和中划线(-),并且以中英文开头。","example":"MyStep","maxLength":64,"minLength":1,"type":"string"},"step_title":{"description":"节点标题","type":"string"},"step_uuid":{"description":"节点的UUID,唯一性标识","type":"string"},"type":{"description":"节点的类型","enum":["traning_job"],"example":"training_job","type":"string"},"uuid":{"description":"唯一标识uuid。创建节点执行时,后台自动生成。","example":"c5cbaab2-c54b-453d-a898-5583eda0a8e5","readOnly":true,"type":"string"}},"type":"object"},"WorkflowConditionExecution":{"description":"workflow condition execution","properties":{"metric_list":{"description":"工作流度量信息列表","items":{"$ref":"#/definitions/WorkflowMetricPair"},"type":"array"},"result":{"description":"执行结果","type":"string"}},"type":"object"},"WorkflowDagPolicies":{"description":"dag policy struct","properties":{"use_cache":{"description":"使用缓存","type":"boolean"}},"type":"object"},"WorkflowErrorInfo":{"description":"error info struct","properties":{"error_code":{"description":"错误码","type":"string"},"error_message":{"description":"错误信息","type":"string"}},"type":"object"},"WorkflowExecution":{"properties":{"created_at":{"description":"创建时间","type":"string"},"data_requirements":{"description":"节点steps使用到的数据","items":{"$ref":"#/definitions/DataRequirement"},"type":"array"},"description":{"description":"执行记录描述","type":"string"},"duration":{"description":"时长","type":"string"},"events":{"description":"事件","items":{"type":"string"},"type":"array"},"execution_id":{"description":"工作流执行ID。工作流创建时后台自动生成。","type":"string"},"labels":{"description":"执行记录打上的标签","items":{"type":"string"},"type":"array"},"name":{"description":"执行记录名称","type":"string"},"parameters":{"description":"节点steps使用到的参数","items":{"$ref":"#/definitions/WorkflowParameter"},"type":"array"},"policies":{"$ref":"#/definitions/WorkflowDagPolicies","description":"执行记录使用到的执行策略"},"scene_id":{"description":"场景ID","type":"string"},"scene_name":{"description":"场景名称","type":"string"},"status":{"description":"执行记录状态","type":"string"},"steps_execution":{"description":"执行记录的step","items":{"$ref":"#/definitions/StepExecution"},"type":"array"},"sub_graphs":{"description":"子图","items":{"$ref":"#/definitions/WorkflowSubgraph"},"type":"array"},"workflow_id":{"description":"工作流ID","type":"string"},"workflow_name":{"description":"工作流名称。填写1-64位,仅包含英文、数字、下划线(_)和中划线(-),并且以英文开头的名称。","type":"string"},"workspace_id":{"description":"工作空间ID","type":"string"}},"type":"object"},"WorkflowExecutionListResponse":{"properties":{"count":{"description":"返回个数","format":"int32","type":"integer"},"items":{"description":"execution数组","items":{"$ref":"#/definitions/WorkflowExecution"},"type":"array"},"total":{"description":"总数","format":"int32","type":"integer"}},"type":"object"},"WorkflowMetricPair":{"description":"workflow metric pair","properties":{"key":{"description":"度量信息metric的key","type":"string"},"value":{"description":"度量信息metric的值","type":"object"}},"type":"object"},"WorkflowParameter":{"description":"参数。","properties":{"constraint":{"additionalProperties":{"type":"object"},"description":"限制条件","type":"object"},"default":{"description":"默认值","example":"c5cbaab2-c54b-453d-a898-5583eda0a8e5","type":"object"},"delay":{"description":"是否为延迟输入的参数","type":"boolean"},"description":{"description":"描述","example":"该参数为一个算法的ID","type":"string"},"enum":{"description":"枚举项","example":["abc","bcd","cde"],"items":{"oneOf":[{"type":"string"},{"type":"integer"},{"type":"number"}]},"type":"array"},"example":{"description":"样例","example":"c5cbaab2-c54b-453d-a898-5583eda0a8e5","type":"object"},"format":{"description":"数据格式","type":"string"},"name":{"description":"配置参数的名称。填写1-64位,仅包含英文、数字、下划线(_)和中划线(-),并且以英文开头的名称。","example":"training_algo_id","type":"string"},"type":{"description":"参数的类型,枚举值如下:\n- str 字符串\n- int 整型\n- bool 布尔类型\n- float 浮点型","enum":["str:字符串类型","int:整型","bool:布尔类型","float:浮点型"],"example":"str","type":"string"},"used_steps":{"description":"使用这个参数的工作流节点","example":["MyStep"],"items":{"type":"string"},"type":"array"},"value":{"description":"Parameter的值","example":"c5cbaab2-c54b-453d-a898-5583eda0a8e5","type":"object"}},"type":"object"},"WorkflowStepExecutionPolicy":{"description":"workflow step execution 策略","properties":{"execution_policy":{"description":"执行策略,可选值如下:\n- retry:重试\n- stop,:停止\n- continue:继续运行","type":"string"},"use_cache":{"description":"使用的缓存","type":"boolean"}},"type":"object"},"WorkflowSubgraph":{"description":"子图","properties":{"name":{"description":"子图名称","type":"string"},"steps":{"description":"子图step成员","items":{"type":"string"},"type":"array"}},"type":"object"}},"description":null,"group_id":"ade740e866904a7dbdaa5ec0f538d4d0","host":"modelarts.cn-north-4.myhuaweicloud.com","id":"6fd9e32747f64ba5af41ac346f8092fe","info_version":"v1","method":"get","name":"ListWorkflowExecutions","parameters":{"limit":{"description":"分页参数limit,表示单次查询的条目数上限。假如要查询20~29条记录,offset为20,limit为10","in":"query","name":"limit","required":false,"type":"string"},"offset":{"description":"分页参数offset,表示单次查询的条目偏移数量。假如要查询20~29条记录,offset为20,limit为10","in":"query","name":"offset","required":false,"type":"string"},"order":{"default":"desc","description":"排序的方式。该字段必须与sort_by同时使用。\n缺省值: desc\n枚举值:\nasc:表示升序排列,\ndesc:降序排列。","enum":["desc","asc"],"in":"query","name":"order","required":false,"type":"string"},"projectIDParam":{"description":"用户项目ID。获取方法请参见[获取项目ID和名称](modelarts_03_0147.xml)。","in":"path","name":"project_id","required":true,"type":"string"},"sort_by":{"description":"排序依据字段,例如sort_by=create_time,则表示以条目的创建时间进行排序","in":"query","name":"sort_by","required":false,"type":"string"},"workflow_id":{"description":"工作流的ID","in":"path","name":"workflow_id","required":true,"type":"string"},"workspace_id":{"description":"工作空间ID,用于过滤具体工作空间下的条目","in":"query","name":"workspace_id","required":false,"type":"string"}},"paths":{"/v2/{project_id}/workflows/{workflow_id}/executions":{"get":{"description":"查询Workflow下的执行记录列表。","operationId":"ListWorkflowExecutions","parameters":[{"$ref":"#/parameters/projectIDParam"},{"$ref":"#/parameters/workflow_id"},{"$ref":"#/parameters/workspace_id"},{"$ref":"#/parameters/limit"},{"$ref":"#/parameters/sort_by"},{"$ref":"#/parameters/offset"},{"description":"执行记录标签","in":"query","name":"labels","required":false,"type":"string"},{"description":"执行记录状态","in":"query","name":"status","required":false,"type":"string"},{"description":"场景ID","in":"query","name":"scene_id","required":false,"type":"string"},{"$ref":"#/parameters/order"}],"responses":{"200":{"description":"OK","examples":{"application/json":{"count":1,"items":[{"created_at":"2022-06-17T17:08:16.91019+08:00","data_requirements":[{"conditions":[{"attribute":"object_type","operator":"equal","value":"directory"}],"name":"model_input","type":"obs","used_steps":["model_step"],"value":{"object_type":["DIRECTORY"],"obs_url":"/test-crq/train_output/"}},{"conditions":[{"attribute":"model_name","operator":"equal","value":"lh-xh"}],"delay":true,"name":"service_model","type":"model_list","used_steps":["service_step"],"value":{"model_list":[{"envs":{},"instance_count":1,"model_id":"253aba02-4bd6-4f64-8d37-66022ae7af4d","model_name":"lh-xh","model_version":"0.0.62","specification":"modelarts.vm.ai1","weight":100}]}}],"description":"","duration":11852428,"events":["2022-06-17 17:08:17 step model_step change status from init to creating","2022-06-17 17:08:19 step model_step change status from creating to created","2022-06-17 17:08:20 step model_step change status from created to running","2022-06-17 17:08:33 step model_step change status from running to completed","2022-06-17 17:08:34 step service_step change status from init to wait_inputs","2022-06-18 16:16:58 step service_step change status from wait_inputs to creating","2022-06-18 16:17:01 step service_step change status from creating to created","2022-06-18 16:17:02 step service_step change status from created to running","2022-06-18 16:19:03 step service_step change status from running to completed"],"execution_id":"918cd9bd-62dd-4179-b5f0-773dd7184a56","name":"execution-064","parameters":[{"delay":true,"description":"Set how long the deployed service will stop in hours, where -1 means the service will always run","format":"schedule","name":"schedule_d5sm","type":"int","used_steps":["service_step"],"value":-1}],"policies":{},"status":"completed","steps_execution":[{"created_at":"2022-06-17T17:08:16.920281+08:00","duration":16,"events":["2022-06-17 17:08:17 change status from init to creating","2022-06-17 17:08:19 change status from creating to created","2022-06-17 17:08:20 change status from created to running","2022-06-17 17:08:33 change status from running to completed"],"inputs":[{"data":"$ref/data_requirements/model_input","name":"model_input","type":"obs","value":{"object_type":["DIRECTORY"],"obs_url":"/test-crq/train_output/"}}],"instance_id":"{\"model_id\":\"253aba02-4bd6-4f64-8d37-66022ae7af4d\"}","outputs":[{"config":{"model_id":"253aba02-4bd6-4f64-8d37-66022ae7af4d"},"name":"model_output","type":"model"}],"policy":{},"properties":{"model_name":"lh-xh","model_type":"TensorFlow"},"status":"completed","step_name":"model_step","step_title":"model release","uuid":"d6148a4a-4a5e-47a3-bc90-3183905b4941"},{"created_at":"2022-06-17T17:08:33.038184+08:00","duration":83430,"events":["2022-06-17 17:08:34 change status from init to wait_inputs","2022-06-18 16:16:58 change status from wait_inputs to creating","2022-06-18 16:17:01 change status from creating to created","2022-06-18 16:17:02 change status from created to running","2022-06-18 16:19:03 change status from running to completed"],"inputs":[{"data":"$ref/data_requirements/service_model","name":"service_input","type":"model_list","value":{"model_list":[{"envs":{},"instance_count":1,"model_id":"253aba02-4bd6-4f64-8d37-66022ae7af4d","model_name":"lh-xh","model_version":"0.0.62","specification":"modelarts.vm.ai1","weight":100}]}}],"instance_id":{"service_id":"81f22d60-5488-4e3d-bba9-08c812ae84b0","status":"","type":"deploy","update_time":0},"outputs":[{"config":{"service_id":"81f22d60-5488-4e3d-bba9-08c812ae84b0"},"name":"service_output","type":"service"}],"policy":{},"properties":{"infer_type":"real-time","schedule":-1},"status":"completed","step_name":"service_step","step_title":"service install","uuid":"b34b2b54-eb70-4c7f-a92d-05f849d8c39a"}],"workflow_id":"f1642618-43eb-4ab1-a0b1-9cc584182c60","workflow_name":"workflow_model_service_no_modify_xiahou_copy","workspace_id":"0"}],"total":1}},"schema":{"$ref":"#/definitions/WorkflowExecutionListResponse"}}},"schemes":["https"],"summary":"获取Execution列表","tags":["WorkflowExecution"],"x-api-type":"internal-api","x-constraint":"无","x-is-registered":"Y","x-open-region-cloud":"hc,hcs,fcs,fcs-super","x-publish-doc":"Y","x-request-examples-description-1":"查询工作流执行记录列表","x-request-examples-url-1":"GET https://{endpoint}/v2/{project_id}/workflows/{workflow_id}/executions?limit=10&offset=0&sort_by=create_time&order=desc&status=completed"}}},"product_short":"ModelArts","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"ApiTokenAuth":{"in":"header","name":"X-Auth-Token","type":"apiKey"}},"summary":"获取Execution列表","tags":"Workflow工作流管理","uri":null,"version":"2.0"}