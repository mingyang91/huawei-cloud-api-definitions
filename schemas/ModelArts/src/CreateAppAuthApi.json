{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\",\"application/json\"]","definitions":{"AppAuthApiBasicInfoResponse":{"properties":{"api":{"$ref":"#/definitions/AuthTypeApiBasicInfo"}},"type":"object"},"AuthTypeApiBasicInfo":{"description":"API认证详情。","properties":{"api_id":{"description":"API编号。","example":"528087f0cfec48f7959db7834ee441cb","type":"string"},"api_method":{"description":"请求方式包含GET、POST、PUT、DELETE、HEAD、PATCH、OPTIONS、ANY,固定返回ANY。","example":"ANY","type":"string"},"api_name":{"description":"API名称。","example":"testNoneAuth","type":"string"},"api_remark":{"description":"API描述。字符长度不超过255。","type":"string"},"auth_type":{"description":"API的认证方式。枚举值如下:\n- NONE:无认证\n- APP:APP认证\n- IAM:IAM认证","example":"APP","type":"string"},"predict_url":{"description":"预测地址。","example":"https://3565150c2e5c45d0989be40350dd80ed.apig.xxxxxx.com/test","type":"string"},"service_id":{"description":"服务编号。","example":"bb149aac-5ff4-497c-bb73-acb751e20a11","type":"string"},"service_name":{"description":"服务名称。","example":"service-hutest","type":"string"},"support_app_code":{"description":"是否支持APP CODE。","example":false,"type":"boolean"}},"required":["support_app_code"],"title":"AuthTypeApiBasicInfo","type":"object"},"CreateApiRequest":{"properties":{"api_method":{"description":"请求方式包含GET、POST、PUT、DELETE、HEAD、PATCH、OPTIONS、ANY,固定返回ANY。","type":"string"},"api_name":{"description":"API名称。","pattern":"^[A-Za-z][A-Za-z0-9_]{2,254}$","type":"string"},"api_path":{"description":"API的PATH。字符长度不超过255。","maxLength":255,"pattern":"^([/][A-Za-z0-9_%*.-]+){1,255}$","type":"string"},"api_remark":{"description":"API描述。字符长度不超过255。","maxLength":255,"type":"string"},"api_url":{"description":"API的URL。字符长度不超过255。","maxLength":255,"pattern":"^([/][A-Za-z0-9_%*.-]+){1,255}$","type":"string"},"auth_type":{"description":"API的认证方式。\n枚举值如下:\n- NONE:无认证\n- APP:APP认证\n- IAM:IAM认证","type":"string"},"support_app_code":{"description":"是否支持APP CODE。","type":"boolean"},"workspace_id":{"description":"工作空间id。","type":"string"}},"type":"object"},"ErrorResponse":{"description":"请求失败时返回的错误对象。","properties":{"error_code":{"description":"**参数解释**:ModelArts错误码。\n**取值范围**:不涉及。","type":"string"},"error_msg":{"description":"**参数解释**:具体错误信息。\n**取值范围**:不涉及。","type":"string"}},"required":["error_code","error_msg"],"type":"object"}},"description":null,"group_id":"ade740e866904a7dbdaa5ec0f538d4d0","host":"modelarts.cn-north-4.myhuaweicloud.com","id":"06b392c6b40f43bd946fa731c282c3ad","info_version":"v1","method":"post","name":"CreateAppAuthApi","parameters":{"headerToken":{"description":"**参数解释**:用户Token。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。\n**约束限制**:不涉及。\n**取值范围**:不涉及。\n**默认取值**:不涉及。","in":"header","name":"X-Auth-Token","required":true,"type":"string"},"projectId":{"description":"**参数解释**:用户项目ID。获取方法请参见[获取项目ID和名称](modelarts_03_0147.xml)。\n**约束限制**:1 - 64字符,字母、数字和中划线。\n**取值范围**:不涉及。\n**默认取值**:不涉及。","in":"path","name":"project_id","required":true,"type":"string"}},"paths":{"/v1/{project_id}/app-auth/{service_id}/apis":{"post":{"description":"创建API,未将API授权给APP。","operationId":"CreateAppAuthApi","parameters":[{"description":"API所属的服务ID。","in":"path","name":"service_id","required":true,"type":"string"},{"$ref":"#/parameters/projectId"},{"$ref":"#/parameters/headerToken"},{"description":"CreateAppAuthApi请求体。","in":"body","name":"CreateAppAuthApiRequestBody","required":false,"schema":{"$ref":"#/definitions/CreateApiRequest"}}],"responses":{"200":{"description":"OK","examples":{"application/json":{"api":{"api_id":"7e0d272df0e94297b7d4046bada3f158","api_method":"ANY","api_name":"infer_ae20fc9fb37c48c28ebc3f3a638c9f48","api_remark":"test","auth_type":"APP","predict_url":"https://b86b2d069324491fbd66940e4533b45c.apig.xxxxxx.com/v1/infers/ae20fc9f-b37c-48c2-8ebc-3f3a638c9f48","service_id":"ae20fc9f-b37c-48c2-8ebc-3f3a638c9f48","service_name":"service-3c02","support_app_code":true}}},"schema":{"$ref":"#/definitions/AppAuthApiBasicInfoResponse"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"创建API","tags":["APP认证管理"],"x-api-type":"open-api","x-apiexplorer-hide":"N","x-is-registered":"Y","x-open-region-cloud":"hk,hc,hcso","x-publish-doc":"Y","x-request-examples-1":{"api_method":"GET","api_name":"app_test","api_path":"/v1/infers/456963f1-737c-4de0-8bee-5b4f6f3a8fa3","api_remark":"test","api_url":"https://d566c7efafe04a26a83d3a8475602ee3.apig.xxxxxx.com/v1/infers/456963f1-737c-4de0-8bee-5b4f6f3a8fa3","auth_type":"APIG","support_app_code":true,"workspace_id":"0"},"x-request-examples-text-1":{"api_method":"GET","api_name":"app_test","api_path":"/v1/infers/456963f1-737c-4de0-8bee-5b4f6f3a8fa3","api_remark":"test","api_url":"https://d566c7efafe04a26a83d3a8475602ee3.apig.xxxxxx.com/v1/infers/456963f1-737c-4de0-8bee-5b4f6f3a8fa3","auth_type":"APIG","support_app_code":true,"workspace_id":"0"},"x-request-examples-url-1":"POST https://{endpoint}/v1/{project_id}/app-auth/{service_id}/apis","x-support-sdk":"N"}}},"product_short":"ModelArts","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"ApiTokenAuth":{"in":"header","name":"X-Auth-Token","type":"apiKey"}},"summary":"创建API","tags":"APP认证管理","uri":null,"version":"2.0"}