{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\",\"application/json\"]","definitions":{"Constraint":{"description":"条件。","properties":{"attribute":{"description":"条件属性,参数的某个字段值。","type":"string"},"operator":{"description":"操作,当前只支持equal操作。","type":"string"},"value":{"description":"取值。","type":"object"}},"type":"object"},"Data":{"description":"数据。","properties":{"name":{"description":"训练数据的名称。填写1-64位,仅包含英文、数字、下划线(_)和中划线(-),并且以英文开头的名称。","example":"training_set","type":"string"},"type":{"description":"数据来源的类型,可选值为dataset、obs、swr、model、label_task、service、image。","enum":["dataset:数据集。","obs:OBS文件。"],"example":"dataset","type":"string"},"used_steps":{"description":"使用数据的节点。","items":{"type":"string"},"type":"array"},"value":{"additionalProperties":{"type":"object"},"description":"数据的值。","type":"object"}},"type":"object"},"DataRequirement":{"description":"工作流需要的数据。","properties":{"conditions":{"description":"数据约束条件。","items":{"$ref":"#/definitions/Constraint"},"type":"array"},"delay":{"description":"延时参数标记。","type":"boolean"},"name":{"description":"训练数据的名称。填写1-64位,仅包含英文、数字、下划线(_)和中划线(-),并且以英文开头的名称。","example":"eval_dataset","type":"string"},"type":{"description":"数据来源类型。枚举值如下:\n- dataset:数据集\n- obs:OBS\n- swr:SWR\n- model_list:AI应用列表\n- label_task:标注任务\n- service:在线服务","enum":["dataset:数据集","obs:OBS文件"],"example":"dataset","type":"string"},"used_steps":{"description":"使用了这条数据的工作流节点。","example":["MyStep"],"items":{"type":"string"},"type":"array"},"value":{"additionalProperties":{"type":"object"},"description":"数据的值。","example":{"dataset_id":"0id4B4KncfMOALhLk9y","version_id":"fjnFcNxLkZzocqW8VlK"},"type":"object"}},"required":["name","type"],"type":"object"},"ExecutionBrief":{"description":"工作流执行简要信息。","properties":{"created_at":{"description":"工作流执行的创建时间。","type":"string"},"current_steps":{"description":"当前节点。","items":{"type":"string"},"type":"array"},"duration":{"description":"运行时长。","format":"int64","type":"integer"},"execution_id":{"description":"工作流执行ID。","type":"string"},"running_steps":{"description":"运行的节点。","items":{"type":"string"},"type":"array"},"status":{"description":"工作流状态。","type":"string"}},"type":"object"},"JobInput":{"description":"作业输入。","properties":{"data":{"description":"输入项数据。","example":{"dataset_id":"0id4B4KncfMOALhLk9y","version_id":"fjnFcNxLkZzocqW8VlK"},"type":"object"},"name":{"description":"输入数据的名称,支持1到64位只包含英文、数字、下划线(_)和中划线(-)的字符。","example":"training_set","type":"string"},"type":{"description":"输入项类型。枚举值如下:\n- dataset:数据集\n- obs:OBS\n- data_selector:数据选择","enum":["dataset:数据集。","obs:OBS文件。"],"type":"string"},"value":{"description":"输入项的值。","type":"object"}},"type":"object"},"JobOutput":{"description":"作业输出。","properties":{"config":{"additionalProperties":{"type":"object"},"description":"输出配置。","type":"object"},"name":{"description":"输出数据的名称。","example":"processed_dataset","type":"string"},"type":{"description":"输出项类型。枚举值如下:\n- obs:OBS\n- model:AI应用元模型","enum":["dataset:数据集。","obs:OBS文件"],"example":"obs","type":"string"}},"type":"object"},"Scene":{"description":"场景。","properties":{"id":{"description":"场景ID。","type":"string"},"name":{"description":"场景名称。","type":"string"},"steps":{"description":"节点列表。","items":{"type":"string"},"type":"array"}},"type":"object"},"SkuInfo":{"description":"计费信息。","properties":{"code":{"description":"计费码。","type":"string"},"period":{"description":"计费时期。","type":"string"},"price":{"description":"价格。","format":"float","type":"number"},"queries_limit":{"description":"查询次数。","format":"int64","type":"integer"}},"type":"object"},"StepCondition":{"description":"条件节点执行条件。","properties":{"left":{"description":"节点执行条件为true时的分支。","type":"object"},"right":{"description":"节点执行条件为false时的分支。","type":"object"},"type":{"description":"判断类型,例如==(等于)、!=(不等于)、>(大于)、>=(大于等于)、<(小于)、<=(小于等于)、in(包含)、or(或)。","type":"string"}},"type":"object"},"Workflow":{"properties":{"assets":{"description":"工作流绑定的资产。","items":{"$ref":"#/definitions/WorkflowAsset"},"type":"array"},"created_at":{"description":"Workflow工作流的创建时间。","example":"2020-12-28T14:43:01.118131+08:00","readOnly":true,"type":"string"},"data":{"description":"Workflow包含的数据。","items":{"$ref":"#/definitions/Data"},"type":"array"},"data_requirements":{"description":"Workflow需要的数据。","items":{"$ref":"#/definitions/DataRequirement"},"type":"array"},"description":{"description":"Workflow工作流的描述信息。","example":"this is a demo workflow","type":"string"},"exeml_template_id":{"description":"自动学习模板ID。","type":"string"},"extend":{"additionalProperties":{"type":"object"},"description":"计费工作流使用的拓展字段。","type":"object"},"gallery_subscription":{"$ref":"#/definitions/WorkflowGallerySubscription","description":"来自市场订阅的Workflow。"},"labels":{"description":"为Workflow工作流设置的标签。","items":{"type":"string"},"type":"array"},"last_modified_at":{"description":"最近一次修改的时间。","type":"string"},"latest_execution":{"$ref":"#/definitions/ExecutionBrief","description":"最后一次执行工作流的概要信息。"},"name":{"description":"Workflow工作流名称,1到64位只包含中英文、数字、空格、下划线(_)和中划线(-),并且以中英文开头。","example":"MyWorkflow","maxLength":64,"minLength":1,"type":"string"},"package":{"$ref":"#/definitions/WorkflowServicePackege","description":"计费工作流订阅包信息。"},"param_ready":{"description":"当前工作流的必选参数是否都已填完。","type":"boolean"},"parameters":{"description":"Workflow包含的参数。","items":{"$ref":"#/definitions/WorkflowParameter"},"type":"array"},"policy":{"$ref":"#/definitions/WorkflowPolicy","description":"工作流部分运行策略。"},"run_count":{"description":"工作流的已运行次数。","type":"integer"},"smn_switch":{"description":"SMN开关。","type":"boolean"},"source":{"description":"工作流来源,可选值为ai_gallery,表示工作流是从AI Gallery导入的。","type":"string"},"source_workflow_id":{"description":"从指定Workflow工作流进行复制。通过复制来创建Workflow时必填。","example":"0cc9e131-86e7-445b-8134-0cdb74b431e1","type":"string"},"steps":{"description":"Workflow工作流包含的步骤定义。","items":{"$ref":"#/definitions/WorkflowStep"},"type":"array"},"storages":{"description":"Workflow包含的统一存储定义。","items":{"$ref":"#/definitions/WorkflowStorage"},"type":"array"},"sub_graphs":{"description":"工作流包含的子图。","items":{"$ref":"#/definitions/WorkflowSubgraph"},"type":"array"},"subscription_id":{"description":"SMN消息订阅ID。","type":"string"},"user_name":{"description":"创建Workflow工作流的用户名。","example":"ei_modelarts_z00424192_01","type":"string"},"with_subscription":{"description":"工作流SMN消息订阅开关,默认为false,表示关闭消息订阅开关。","type":"boolean"},"workflow_id":{"description":"Workflow工作流ID。创建工作流时后台自动生成。","example":"c5cbaab2-c54b-453d-a898-5583eda0a8e5","readOnly":true,"type":"string"},"workspace_id":{"description":"工作空间ID。","example":"7e051a7091194862a4009cc81423de8b","type":"string"}},"required":["name"],"type":"object"},"WorkflowAsset":{"description":"Workflow资产。","properties":{"content_id":{"description":"资产ID,可在AI Gallery中获取。","type":"string"},"expired_at":{"description":"超期时间。","type":"string"},"name":{"description":"资产名称。","type":"string"},"subscription_id":{"description":"订阅ID,可在AI Gallery中获取。","type":"string"},"type":{"description":"资产类型,枚举如下:\n- algorithm:算法\n- algorithm2:新算法\n- model:模型算法","type":"string"}},"type":"object"},"WorkflowGallerySubscription":{"description":"Gallery 订阅信息。","properties":{"content_id":{"description":"资产ID。","type":"string"},"expired_at":{"description":"超期时间。","type":"string"},"version_id":{"description":"版本ID。","type":"string"}},"type":"object"},"WorkflowParameter":{"description":"参数。","properties":{"constraint":{"additionalProperties":{"type":"object"},"description":"限制条件。","type":"object"},"default":{"description":"配置参数的默认值。","example":"c5cbaab2-c54b-453d-a898-5583eda0a8e5","type":"object"},"delay":{"description":"是否为延迟输入的参数,默认为否。","type":"boolean"},"description":{"description":"Workflow工作流配置参数的描述。","example":"该参数为一个算法的ID","type":"string"},"enum":{"description":"Workflow工作流配置参数的枚举项。","example":["abc","bcd","cde"],"items":{"oneOf":[{"type":"string"},{"type":"integer"},{"type":"number"}]},"type":"array"},"example":{"description":"Workflow工作流配置参数的样例。","example":"c5cbaab2-c54b-453d-a898-5583eda0a8e5","type":"object"},"format":{"description":"数据格式。","type":"string"},"name":{"description":"Workflow工作流配置参数的名称。填写1-64位,仅包含英文、数字、下划线(_)和中划线(-),并且以英文开头的名称。","example":"training_algo_id","type":"string"},"type":{"description":"参数的类型,枚举值如下:\n- str:字符串\n- int:整型\n- bool:布尔类型\n- float:浮点型","enum":["str:字符串类型","int:整型","bool:布尔类型","float:浮点型"],"example":"str","type":"string"},"used_steps":{"description":"使用这个参数的工作流节点。","example":["MyStep"],"items":{"type":"string"},"type":"array"},"value":{"description":"参数值。","example":"c5cbaab2-c54b-453d-a898-5583eda0a8e5","type":"object"}},"type":"object"},"WorkflowPolicy":{"description":"工作流策略。","properties":{"scene_id":{"description":"场景ID。","type":"string"},"scenes":{"description":"场景。","items":{"$ref":"#/definitions/Scene"},"type":"array"},"use_scene":{"description":"使用场景。","type":"string"}},"type":"object"},"WorkflowPoolOrder":{"description":"pool order struct","properties":{"id":{"description":"订阅ID。","type":"string"},"sku":{"$ref":"#/definitions/SkuInfo","description":"订阅计费信息。"},"sku_count":{"description":"订阅计数。","type":"string"}},"required":["sku","sku_count"],"type":"object"},"WorkflowServicePackege":{"description":"service package","properties":{"consume_limit":{"description":"订阅限制。","format":"int64","type":"integer"},"created_at":{"description":"创建时间。","type":"string"},"current_consume":{"description":"当前订阅。","format":"int64","type":"integer"},"current_date":{"description":"当前时间。","type":"string"},"limit_enable":{"description":"限制标记。","type":"boolean"},"order":{"$ref":"#/definitions/WorkflowPoolOrder","description":"订阅信息。"},"package_id":{"description":"资源包的UUID。","type":"string"},"pool_id":{"description":"资源池ID。","type":"string"},"service_id":{"description":"服务ID。","type":"string"},"status":{"description":"资源包状态。","type":"string"},"workflow_id":{"description":"Workflow工作流ID。","type":"string"}},"type":"object"},"WorkflowStep":{"description":"工作流节点。","properties":{"conditions":{"description":"节点执行条件。","items":{"$ref":"#/definitions/StepCondition"},"type":"array"},"created_at":{"description":"节点的创建时间。","type":"string"},"depend_steps":{"description":"运行依赖的前置节点。","items":{"type":"string"},"type":"array"},"description":{"description":"节点的描述信息。","type":"string"},"else_then_steps":{"description":"条件节点另一分支。","items":{"type":"string"},"type":"array"},"if_then_steps":{"description":"条件节点分支。","items":{"type":"string"},"type":"array"},"inputs":{"description":"节点的输入项。","items":{"$ref":"#/definitions/JobInput"},"type":"array"},"name":{"description":"Workflow工作流节点的名称,在一个DAG中唯一,1到64位只包含中英文,数字,空格,下划线(_)和中划线(-),并且以中英文开头。","example":"MyStep","maxLength":64,"minLength":1,"type":"string"},"outputs":{"description":"节点的输出项。","items":{"$ref":"#/definitions/JobOutput"},"type":"array"},"policy":{"$ref":"#/definitions/WorkflowStepPolicy","description":"节点执行策略。"},"properties":{"additionalProperties":{"type":"object"},"description":"节点属性。","type":"object"},"title":{"description":"工作流节点标题。","type":"string"},"type":{"description":"节点的类型,枚举值如下:\n- job 训练\n- labeling 标注\n- release_dataset 数据集发布\n- model 模型发布\n- service 服务部署\n- mrs_job MRS作业\n- dataset_import 数据集导入\n- create_dataset 创建数据集","enum":[{"job":"训练作业"},{"labeling":"数据标注"},{"release_dataset":"数据集发布"},{"model":"模型注册"},{"service":"服务部署"},{"mrs_job":"mrs作业"},{"dataset_import":"数据集导入"},{"create_dataset":"数据集创建"}],"example":"job","type":"string"}},"required":["name"],"type":"object"},"WorkflowStepPolicy":{"description":"节点执行策略。","properties":{"max_execution_minutes":{"description":"最大执行时间。","type":"string"},"poll_interval_seconds":{"description":"节点执行间隔。","type":"string"}},"type":"object"},"WorkflowStorage":{"description":"工作流出存储信息。","properties":{"name":{"description":"工作流存储的名称。填写1-64位,只包含英文、数字、下划线(_)和中划线(-),并且以英文开头的名称。","example":"storage_test","type":"string"},"path":{"description":"统一存储的根路径,当前只支持OBS路径。","example":"test-storage/train","type":"string"},"type":{"description":"工作流存储的类型,当前只支持obs。","enum":["obs"],"example":"obs","type":"string"}},"type":"object"},"WorkflowSubgraph":{"description":"子图。","properties":{"name":{"description":"子图名称。","type":"string"},"steps":{"description":"子图step成员。","items":{"type":"string"},"type":"array"}},"type":"object"}},"description":null,"group_id":"ade740e866904a7dbdaa5ec0f538d4d0","host":"modelarts.cn-north-4.myhuaweicloud.com","id":"4b5f175147124fc69238cd08217fcaab","info_version":"v1","method":"post","name":"CreateWorkflow","parameters":{"projectIDParam":{"description":"用户项目ID。获取方法请参见[获取项目ID和名称](modelarts_03_0147.xml)。","in":"path","name":"project_id","required":true,"type":"string"}},"paths":{"/v2/{project_id}/workflows":{"post":{"description":"创建Workflow工作流。可参考[如何开发Workflow](https://support.huaweicloud.com/usermanual-standard-modelarts/modelarts_workflow_0292.html),创建工作流。","operationId":"CreateWorkflow","parameters":[{"$ref":"#/parameters/projectIDParam"},{"description":"Workflow信息","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Workflow"}}],"responses":{"201":{"description":"OK","examples":{"application/json":{"data":[{"name":"a2ff296da618452daa8243399f06db8e","type":"obs","used_steps":["training_job1"],"value":{"obs_url":"/test-lh/test-metrics/"}},{"name":"f78e46676a454ccdacb9907f589f8d67","type":"obs","used_steps":["training_job2"],"value":{"obs_url":"/test-lh/test-metrics/"}},{"name":"dee65054c96b4bf3b7ac98c0709f9ae0","type":"obs","used_steps":["training_job3"],"value":{"obs_url":"/test-lh/test-metrics/"}}],"description":"","labels":["subgraph"],"name":"graph-test-has-condition-step","parameters":[{"delay":true,"name":"is_true","type":"bool","used_steps":["condition_step_test"],"value":true},{"default":"modelarts.vm.cpu.8u","description":"training specificaiton","format":"flavor","name":"train_spec","type":"str","used_steps":["training_job1","training_job2","training_job3"]},{"default":"/test-lh/test-metrics/metrics.json","name":"service_config1","type":"str","used_steps":["training_job1"]},{"default":"/test-lh/test-metrics/metrics.json","name":"service_config2","type":"str","used_steps":["training_job2"]},{"default":"/test-lh/test-metrics/metrics.json","name":"service_config3","type":"str","used_steps":["training_job3"]}],"steps":[{"conditions":[{"left":"$ref/parameters/is_true","right":true,"type":"=="}],"description":"","else_then_steps":["training_job2"],"if_then_steps":["training_job1"],"name":"condition_step_test","policy":{},"title":"condition_step_test","type":"condition"},{"depend_steps":["condition_step_test"],"description":"","inputs":[{"data":"$ref/data/a2ff296da618452daa8243399f06db8e","name":"data_url","type":"obs"}],"name":"training_job1","outputs":[{"config":{"obs_url":"/test-lh/test-metrics/"},"name":"train_url","type":"obs"},{"config":{"config_file":"$ref/parameters/service_config1"},"name":"service-link","type":"service_content"}],"policy":{},"properties":{"algorithm":{"id":"21ef85a8-5e40-4618-95ee-aa48ec224b43","parameters":[]},"kind":"job","metadata":{"name":"workflow-b0b9fa4c06254b2ebb0e48ba1f7a916c"},"spec":{"resource":{"flavor_id":"$ref/parameters/train_spec","node_count":1,"policy":"regular"}}},"title":"labeling","type":"job"},{"depend_steps":["condition_step_test"],"description":"","inputs":[{"data":"$ref/data/f78e46676a454ccdacb9907f589f8d67","name":"data_url","type":"obs"}],"name":"training_job2","outputs":[{"config":{"obs_url":"/test-lh/test-metrics/"},"name":"train_url","type":"obs"},{"config":{"config_file":"$ref/parameters/service_config2"},"name":"service-link","type":"service_content"}],"policy":{},"properties":{"algorithm":{"id":"21ef85a8-5e40-4618-95ee-aa48ec224b43","parameters":[]},"kind":"job","metadata":{"name":"workflow-4a4317eb49ad4370bd087e6b726d84cf"},"spec":{"resource":{"flavor_id":"$ref/parameters/train_spec","node_count":1,"policy":"regular"}}},"title":"labeling","type":"job"},{"depend_steps":["training_job1","training_job2"],"description":"","inputs":[{"data":"$ref/data/dee65054c96b4bf3b7ac98c0709f9ae0","name":"data_url","type":"obs"}],"name":"training_job3","outputs":[{"config":{"obs_url":"/test-lh/test-metrics/"},"name":"train_url","type":"obs"},{"config":{"config_file":"$ref/parameters/service_config3"},"name":"service-link","type":"service_content"}],"policy":{},"properties":{"algorithm":{"id":"21ef85a8-5e40-4618-95ee-aa48ec224b43","parameters":[]},"kind":"job","metadata":{"name":"workflow-3039303b3ae14f3e9eed416ba6361b1f"},"spec":{"resource":{"flavor_id":"$ref/parameters/train_spec","node_count":1,"policy":"regular"}}},"title":"labeling","type":"job"}],"workspace_id":"0"}},"schema":{"$ref":"#/definitions/Workflow"}}},"schemes":["https"],"summary":"新建Workflow工作流","tags":["Workflow"],"x-api-type":"internal-api","x-constraint":"无","x-is-registered":"Y","x-open-region-cloud":"hc,hcs,fcs,fcs-super","x-publish-doc":"Y","x-request-examples-1":{"data":[{"name":"a2ff296da618452daa8243399f06db8e","type":"obs","used_steps":["training_job1"],"value":{"obs_url":"/test-lh/test-metrics/"}},{"name":"f78e46676a454ccdacb9907f589f8d67","type":"obs","used_steps":["training_job2"],"value":{"obs_url":"/test-lh/test-metrics/"}},{"name":"dee65054c96b4bf3b7ac98c0709f9ae0","type":"obs","used_steps":["training_job3"],"value":{"obs_url":"/test-lh/test-metrics/"}}],"description":"","labels":["subgraph"],"name":"graph-test-has-condition-step","parameters":[{"delay":true,"name":"is_true","type":"bool","used_steps":["condition_step_test"],"value":true},{"default":"modelarts.vm.cpu.8u","description":"training specification","format":"flavor","name":"train_spec","type":"str","used_steps":["training_job1","training_job2","training_job3"]},{"default":"/test-lh/test-metrics/metrics.json","name":"service_config1","type":"str","used_steps":["training_job1"]},{"default":"/test-lh/test-metrics/metrics.json","name":"service_config2","type":"str","used_steps":["training_job2"]},{"default":"/test-lh/test-metrics/metrics.json","name":"service_config3","type":"str","used_steps":["training_job3"]}],"steps":[{"conditions":[{"left":"$ref/parameters/is_true","right":true,"type":"=="}],"description":"","else_then_steps":["training_job2"],"if_then_steps":["training_job1"],"name":"condition_step_test","policy":{},"title":"condition_step_test","type":"condition"},{"depend_steps":["condition_step_test"],"description":"","inputs":[{"data":"$ref/data/a2ff296da618452daa8243399f06db8e","name":"data_url","type":"obs"}],"name":"training_job1","outputs":[{"config":{"obs_url":"/test-lh/test-metrics/"},"name":"train_url","type":"obs"},{"config":{"config_file":"$ref/parameters/service_config1"},"name":"service-link","type":"service_content"}],"policy":{},"properties":{"algorithm":{"id":"21ef85a8-5e40-4618-95ee-aa48ec224b43","parameters":[]},"kind":"job","metadata":{"name":"workflow-b0b9fa4c06254b2ebb0e48ba1f7a916c"},"spec":{"resource":{"flavor_id":"$ref/parameters/train_spec","node_count":1,"policy":"regular"}}},"title":"labeling","type":"job"},{"depend_steps":["condition_step_test"],"description":"","inputs":[{"data":"$ref/data/f78e46676a454ccdacb9907f589f8d67","name":"data_url","type":"obs"}],"name":"training_job2","outputs":[{"config":{"obs_url":"/test-lh/test-metrics/"},"name":"train_url","type":"obs"},{"config":{"config_file":"$ref/parameters/service_config2"},"name":"service-link","type":"service_content"}],"policy":{},"properties":{"algorithm":{"id":"21ef85a8-5e40-4618-95ee-aa48ec224b43","parameters":[]},"kind":"job","metadata":{"name":"workflow-4a4317eb49ad4370bd087e6b726d84cf"},"spec":{"resource":{"flavor_id":"$ref/parameters/train_spec","node_count":1,"policy":"regular"}}},"title":"labeling","type":"job"},{"depend_steps":["training_job1","training_job2"],"description":"","inputs":[{"data":"$ref/data/dee65054c96b4bf3b7ac98c0709f9ae0","name":"data_url","type":"obs"}],"name":"training_job3","outputs":[{"config":{"obs_url":"/test-lh/test-metrics/"},"name":"train_url","type":"obs"},{"config":{"config_file":"$ref/parameters/service_config3"},"name":"service-link","type":"service_content"}],"policy":{},"properties":{"algorithm":{"id":"21ef85a8-5e40-4618-95ee-aa48ec224b43","parameters":[]},"kind":"job","metadata":{"name":"workflow-3039303b3ae14f3e9eed416ba6361b1f"},"spec":{"resource":{"flavor_id":"$ref/parameters/train_spec","node_count":1,"policy":"regular"}}},"title":"labeling","type":"job"}],"workspace_id":"0"},"x-request-examples-description-1":"创建Workflow工作流。设置工作流名称为“graph-test-has-condition-step”。","x-request-examples-text-1":{"data":[{"name":"a2ff296da618452daa8243399f06db8e","type":"obs","used_steps":["training_job1"],"value":{"obs_url":"/test-lh/test-metrics/"}},{"name":"f78e46676a454ccdacb9907f589f8d67","type":"obs","used_steps":["training_job2"],"value":{"obs_url":"/test-lh/test-metrics/"}},{"name":"dee65054c96b4bf3b7ac98c0709f9ae0","type":"obs","used_steps":["training_job3"],"value":{"obs_url":"/test-lh/test-metrics/"}}],"description":"","labels":["subgraph"],"name":"graph-test-has-condition-step","parameters":[{"delay":true,"name":"is_true","type":"bool","used_steps":["condition_step_test"],"value":true},{"default":"modelarts.vm.cpu.8u","description":"training specification","format":"flavor","name":"train_spec","type":"str","used_steps":["training_job1","training_job2","training_job3"]},{"default":"/test-lh/test-metrics/metrics.json","name":"service_config1","type":"str","used_steps":["training_job1"]},{"default":"/test-lh/test-metrics/metrics.json","name":"service_config2","type":"str","used_steps":["training_job2"]},{"default":"/test-lh/test-metrics/metrics.json","name":"service_config3","type":"str","used_steps":["training_job3"]}],"steps":[{"conditions":[{"left":"$ref/parameters/is_true","right":true,"type":"=="}],"description":"","else_then_steps":["training_job2"],"if_then_steps":["training_job1"],"name":"condition_step_test","policy":{},"title":"condition_step_test","type":"condition"},{"depend_steps":["condition_step_test"],"description":"","inputs":[{"data":"$ref/data/a2ff296da618452daa8243399f06db8e","name":"data_url","type":"obs"}],"name":"training_job1","outputs":[{"config":{"obs_url":"/test-lh/test-metrics/"},"name":"train_url","type":"obs"},{"config":{"config_file":"$ref/parameters/service_config1"},"name":"service-link","type":"service_content"}],"policy":{},"properties":{"algorithm":{"id":"21ef85a8-5e40-4618-95ee-aa48ec224b43","parameters":[]},"kind":"job","metadata":{"name":"workflow-b0b9fa4c06254b2ebb0e48ba1f7a916c"},"spec":{"resource":{"flavor_id":"$ref/parameters/train_spec","node_count":1,"policy":"regular"}}},"title":"labeling","type":"job"},{"depend_steps":["condition_step_test"],"description":"","inputs":[{"data":"$ref/data/f78e46676a454ccdacb9907f589f8d67","name":"data_url","type":"obs"}],"name":"training_job2","outputs":[{"config":{"obs_url":"/test-lh/test-metrics/"},"name":"train_url","type":"obs"},{"config":{"config_file":"$ref/parameters/service_config2"},"name":"service-link","type":"service_content"}],"policy":{},"properties":{"algorithm":{"id":"21ef85a8-5e40-4618-95ee-aa48ec224b43","parameters":[]},"kind":"job","metadata":{"name":"workflow-4a4317eb49ad4370bd087e6b726d84cf"},"spec":{"resource":{"flavor_id":"$ref/parameters/train_spec","node_count":1,"policy":"regular"}}},"title":"labeling","type":"job"},{"depend_steps":["training_job1","training_job2"],"description":"","inputs":[{"data":"$ref/data/dee65054c96b4bf3b7ac98c0709f9ae0","name":"data_url","type":"obs"}],"name":"training_job3","outputs":[{"config":{"obs_url":"/test-lh/test-metrics/"},"name":"train_url","type":"obs"},{"config":{"config_file":"$ref/parameters/service_config3"},"name":"service-link","type":"service_content"}],"policy":{},"properties":{"algorithm":{"id":"21ef85a8-5e40-4618-95ee-aa48ec224b43","parameters":[]},"kind":"job","metadata":{"name":"workflow-3039303b3ae14f3e9eed416ba6361b1f"},"spec":{"resource":{"flavor_id":"$ref/parameters/train_spec","node_count":1,"policy":"regular"}}},"title":"labeling","type":"job"}],"workspace_id":"0"},"x-request-examples-url-1":"POST https://{endpoint}/v2/{project_id}/workflows","x-support-sdk":"N"}}},"product_short":"ModelArts","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"ApiTokenAuth":{"in":"header","name":"X-Auth-Token","type":"apiKey"}},"summary":"新建Workflow工作流","tags":"Workflow工作流管理","uri":null,"version":"2.0"}