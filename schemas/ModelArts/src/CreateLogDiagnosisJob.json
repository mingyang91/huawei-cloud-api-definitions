{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\",\"application/json\"]","definitions":{"CreateLogDiagnosisJobRequestBody":{"description":"创建日志诊断作业请求体","properties":{"description":{"$ref":"#/definitions/Description"},"name":{"description":"**参数解释**:日志诊断作业名称。\n**约束限制**:不涉及。\n**取值范围**:只允许输入长度为 1 到 64 位由数字、中文、英文、下划线(_)或中划线(-)组成的字符。\n**默认取值**:不涉及。","example":"log diagnosis job 1","pattern":"^([0-9a-zA-Z_\\-]|[\\u4e00-\\u9fa5]|[\\u9FA6-\\u9FCB]){1,64}$","type":"string"},"obs_info":{"$ref":"#/definitions/ObsInfo"},"workspace_id":{"$ref":"#/definitions/WorkspaceId"}},"required":["name","obs_info"],"type":"object"},"Description":{"description":"**参数解释**:添加的对作业的描述。\n**约束限制**:不涉及。\n**取值范围**:字符串,长度为0到256之间。\n**默认取值**:","example":"description of job","maxLength":256,"minLength":0,"type":"string"},"ErrorResponseBody":{"properties":{"error_code":{"description":"服务内部错误码。","example":"ModelArts.0101","pattern":"^ModelArts.\\d{4}$","type":"string"},"error_msg":{"description":"错误信息。","example":"The request param is invalid.","maxLength":4096,"minLength":0,"type":"string"}},"required":["error_code","error_msg"],"type":"object"},"JobCreateTime":{"description":"**参数解释**:作业创建时间。\n**取值范围**:不涉及。","example":"2025-03-25T21:47:00Z","format":"date-time","pattern":"^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(Z|[+-]\\d{2}:?\\d{2})?$","type":"string"},"JobUpdateTime":{"description":"**参数解释**:作业更新时间。\n**取值范围**:不涉及。","example":"2025-03-25T21:47:00Z","format":"date-time","pattern":"^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(Z|[+-]\\d{2}:?\\d{2})?$","type":"string"},"LogDiagnosisJob":{"description":"日志诊断作业","properties":{"create_time":{"$ref":"#/definitions/JobCreateTime"},"creator":{"description":"**参数解释**:创建者。 \n**取值范围**:[0,50]。","example":"creator-1","maxLength":50,"minLength":0,"type":"string"},"description":{"$ref":"#/definitions/Description"},"id":{"description":"**参数解释**:作业ID。 \n**取值范围**:长度为[1,36]的英文字符、数字和中划线(-)的组合。","example":"f8ab3ae2-2111-4be9-a5a9-ddf84cadfd3e","maxLength":50,"minLength":0,"type":"string"},"job_status":{"$ref":"#/definitions/LogJobStatus"},"update_time":{"$ref":"#/definitions/JobUpdateTime"}},"type":"object"},"LogJobStatus":{"description":"**参数解释**:作业状态。\n**取值范围**:\n  - CREATING:创建中\n  - CREATE_FAILED: 创建失败\n  - PENDING:排队中\n  - RUNNING:运行中\n  - FAILED:作业失败\n  - SUCCEEDED:作业成功\n  - TIMEOUT:作业超时\n  - PARTIAILLY_SUCCEEDED:部分成功\n  - TERMINATING:终止中\n  - TERMINATED:作业终止","enum":["CREATING","CREATE_FAILED","PENDING","RUNNING","FAILED","SUCCEEDED","TIMEOUT","PARTIAILLY_SUCCEEDED","TERMINATING","TERMINATED"],"example":"CREATING","type":"string"},"ObsInfo":{"description":"**参数解释**:obs信息。 \n**约束限制**:不涉及。","properties":{"cann_path":{"description":"**参数解释**:CANN应用类日志路径。\n**约束限制**:不涉及。\n**取值范围**:[0,2048]。\n**默认取值**:不涉及。","example":"obs://bucket/plog/","maxLength":2048,"minLength":0,"pattern":"^obs://([a-zA-Z0-9_-]{1,128})/([a-zA-Z0-9_/-]{1,2048})/","type":"string"},"device_path":{"description":"**参数解释**:Device侧日志路径。 \n**约束限制**:不涉及。\n**取值范围**:[0,2048]。\n**默认取值**:不涉及。","example":"obs://bucket/device/","maxLength":2048,"minLength":0,"pattern":"^obs://([a-zA-Z0-9_-]{1,128})/([a-zA-Z0-9_/-]{1,2048})/","type":"string"},"host_path":{"description":"**参数解释**:Host OS日志路径。\n**约束限制**:不涉及。 \n**取值范围**:[0,2048]。\n**默认取值**:不涉及。","example":"obs://bucket/host/","maxLength":2048,"minLength":0,"pattern":"^obs://([a-zA-Z0-9_-]{1,128})/([a-zA-Z0-9_/-]{1,2048})/","type":"string"},"train_or_infer_path":{"description":"**参数解释**:训练及推理日志路径。\n**约束限制**:不涉及。\n**取值范围**:[0,2048]。\n**默认取值**:不涉及。","example":"obs://bucket/worker-0/","maxLength":2048,"minLength":0,"pattern":"^obs://([a-zA-Z0-9_-]{1,128})/([a-zA-Z0-9_/-]{1,2048})/","type":"string"}},"type":"object"},"WorkspaceId":{"default":"0","description":"**参数解释**:工作空间ID。\n**约束限制**:不涉及。\n**取值范围**:0或长度为32的字符串。\n**默认取值**:0。","example":"0","maxLength":32,"minLength":1,"pattern":"^(0|[a-zA-Z0-9]{32})$","type":"string"}},"description":null,"group_id":"ade740e866904a7dbdaa5ec0f538d4d0","host":"modelarts.cn-north-4.myhuaweicloud.com","id":"78dd52533e774c488562e6eb1dcfbf97","info_version":"v1","method":"post","name":"CreateLogDiagnosisJob","parameters":{},"paths":{"/v1/{project_id}/brain/log-diagnosis-jobs":{"post":{"consumes":["application/json"],"description":"创建日志诊断作业接口用于通过CSS(Cloud Search Service)完成训练作业日志的导入和分析,提升日志查询效率和问题定位效率。该接口适用于以下场景:用户需要快速分析训练作业的日志以定位问题、优化训练作业性能或监控训练过程。使用该接口的前提条件是训练作业已存在且用户具有相应的权限,同时日志存储路径需正确且可访问。调用该接口后,系统将创建一个日志诊断作业,开始导入和分析日志数据。若日志路径不存在、权限不足或诊断作业创建失败,接口将返回相应的错误信息。","operationId":"CreateLogDiagnosisJob","parameters":[{"description":"**参数解释**:租户Token。用于调用接口的认证。获取方法,请参见[获取Token](modelarts_03_0004.xml)。\n**约束限制**:不涉及。\n**取值范围**:长度不超过65534个字符。\n**默认取值**:不涉及。","in":"header","maxLength":65534,"minLength":0,"name":"X-Auth-Token","required":false,"type":"string"},{"description":"**参数解释**:项目ID。获取方法,请参见[获取项目ID和名称](modelarts_03_0147.xml)。\n**约束限制**:不涉及。\n**取值范围**:长度为32的英文字符、数字的组合。\n**默认取值**:不涉及。","in":"path","name":"project_id","pattern":"^[0-9a-zA-Z-]{32}$","required":true,"type":"string"},{"description":"创建日志诊断作业请求体。","in":"body","name":"CreateLogDiagnosisJobRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateLogDiagnosisJobRequestBody"}}],"produces":["application/json"],"responses":{"202":{"description":"创建日志诊断作业的响应。","headers":{"X-request-id":{"description":"Header field of the request ID number for task tracking. Format: request_uuid-timestamp-hostname.","type":"string"}},"schema":{"$ref":"#/definitions/LogDiagnosisJob"}},"400":{"description":"请求错误","examples":{"application/json":{"error_code":"ModelArts.60600000","error_msg":"param error","request_id":"52ddc05511cba830947205b703171ee7","solution_msg":"Please take a rest and obtain it again.If you need more help, provide X-Request-Id=xxx and contact O&M personnel."}},"schema":{"$ref":"#/definitions/ErrorResponseBody"}},"401":{"description":"未授权","examples":{"application/json":{"error_code":"ModelArts.60600000","error_msg":"Incorrect token or token resolution failed","request_id":"52ddc05511cba830947205b703171ee7","solution_msg":"Please take a rest and obtain it again.If you need more help, provide X-Request-Id=xxx and contact O&M personnel."}},"schema":{"$ref":"#/definitions/ErrorResponseBody"}},"403":{"description":"禁止访问","examples":{"application/json":{"error_code":"ModelArts.60600000","error_msg":"X-Auth-Token is invalid in the request","request_id":"52ddc05511cba830947205b703171ee7","solution_msg":"Please take a rest and obtain it again.If you need more help, provide X-Request-Id=xxx and contact O&M personnel."}},"schema":{"$ref":"#/definitions/ErrorResponseBody"}},"500":{"description":"内部服务器错误","examples":{"application/json":{"error_code":"ModelArts.60600000","error_msg":"internal error","request_id":"52ddc05511cba830947205b703171ee7","solution_msg":"Please take a rest and obtain it again.If you need more help, provide X-Request-Id=xxx and contact O&M personnel."}},"schema":{"$ref":"#/definitions/ErrorResponseBody"}}},"summary":"创建日志诊断作业","tags":["昇腾云脑"],"x-api-type":"open-api","x-apiexplorer-hide":"N","x-apigw-publish":"Y","x-cts-meta-anno":{"isAsyncApi":"false","resourceType":"logDiagnosisJob","traceName":"CreateLogDiagnosisJob"},"x-enable-auth-anno":{"type":"iam-token"},"x-iam-auth-meta-anno":{"abacAction":"modelarts::createLogDiagnosisJob","abacActionAlias":"modelarts:brain:createLogDiagnosisJob","authContextInitializerName":"logDiagnosisJobIamAuthContextInitializer","authLevel":"PROJECT","model":"v5-pkitoken","needAbacCheck":true,"needAbacResourceCheck":false,"needCbcCheck":true,"needRbacCheck":true,"opType":"guessByHttpMethod","rbac":["te_admin"],"supportAllGrantedEps":false},"x-is-registered":"Y","x-openapi-hide":"N","x-request-examples-1":{"description":"description of log diagnosis job","name":"log diagnosis job 1","obs_info":{"cann_path":"obs://bucket/plog/","device_path":"obs://bucket/device/","host_path":"obs://bucket/host/","train_or_infer_path":"obs://bucket/worker-0/"}},"x-request-examples-description-1":"创建日志诊断作业","x-request-examples-text-1":{"description":"description of log diagnosis job","name":"log diagnosis job 1","obs_info":{"cann_path":"obs://bucket/plog/","device_path":"obs://bucket/device/","host_path":"obs://bucket/host/","train_or_infer_path":"obs://bucket/worker-0/"}},"x-request-examples-url-1":"POST https://{endpoint}/v1/{project_id}/brain/log-diagnosis-jobs","x-support-sdk":"Y"}}},"product_short":"ModelArts","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"ApiTokenAuth":{"in":"header","name":"X-Auth-Token","type":"apiKey"}},"summary":"创建日志诊断作业","tags":"昇腾云脑","uri":null,"version":"2.0"}