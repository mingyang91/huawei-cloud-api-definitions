{"base_path":"/v1.0","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"SignBindingApiResp":{"properties":{"api_id":{"description":"API编号","type":"string"},"api_name":{"description":"API名称","type":"string"},"api_remark":{"description":"API描述","type":"string"},"api_type":{"description":"API类型","type":"integer"},"binding_time":{"description":"绑定时间","type":"string"},"env_id":{"description":"API所属环境的编号","type":"string"},"env_name":{"description":"API所属环境的名称","type":"string"},"group_name":{"description":"API所属分组的名称","type":"string"},"id":{"description":"绑定关系的ID","type":"string"},"publish_id":{"description":"API的发布编号","type":"string"},"sign_id":{"description":"签名密钥的编号","type":"string"},"sign_key":{"description":"签名密钥的key","type":"string"},"sign_name":{"description":"签名密钥的名称","type":"string"},"sign_secret":{"description":"签名密钥的密钥","type":"string"}}},"SignBindingListResp":{"properties":{"bindings":{"description":"API与签名密钥的绑定关系列表","items":{"$ref":"#/definitions/SignBindingApiResp"},"type":"array"}}},"SignBindingReq":{"properties":{"publish_ids":{"description":"API的发布记录编号","example":["eea73cde015940908ae0117d67bf7330","ddd73cde017890908ae0117d67bf7330"],"items":{"type":"string"},"type":"array"},"sign_id":{"description":"签名密钥编号","example":"3a793b65a9034bdfae08924f149bfb4a","type":"string"}},"required":["sign_id","publish_ids"]}},"description":null,"group_id":"d0b771ab4a6d46a895580726f0d5479b","host":"apig.cn-north-4.myhuaweicloud.com","id":"c5ebc6c337af465dbc6935072bfabfa1","info_version":"v1","method":"post","name":"AssociateSignatureKey","parameters":{},"paths":{"/apigw/sign-bindings":{"post":{"description":"签名密钥创建后,需要绑定到API才能生效。将签名密钥绑定到API后,则API网关请求后端服务时就会使用这个签名密钥进行加密签名,后端服务可以校验这个签名来验证请求来源。 将指定的签名密钥绑定到一个或多个已发布的API上。 同一个API发布到不同的环境可以绑定不同的签名密钥;一个API在发布到特定环境后只能绑定一个签名密钥。","operationId":"AssociateSignatureKey","parameters":[{"description":"用户Token。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."},{"description":"绑定签名密钥的请求体","in":"body","name":"AssociateSignatureKeyRequestBody","required":true,"schema":{"$ref":"#/definitions/SignBindingReq"}}],"responses":{"201":{"description":"Created","examples":{"application/json":{"bindings":[{"api_id":"3c6769c6-ec61-4b45-b478-c60310dbaa1b","api_name":"bbb","api_remark":"","api_type":1,"binding_time":"2018-02-07T03:17:26.396039456Z","env_id":"DEFAULT_ENVIRONMENT_RELEASE_ID","env_name":"RELEASE","group_name":"asd","id":"d8426fb090e442c4a56a35e451bea085","sign_id":"3a793b65a9034bdfae08924f149bfb4a","sign_key":"abcd_123456789","sign_name":"signature01","sign_secret":"sig******ret"}]}},"schema":{"$ref":"#/definitions/SignBindingListResp"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error"}},"schemes":["https"],"summary":"绑定签名密钥","tags":["共享版-签名密钥绑定关系管理"],"x-is-registered":"Y","x-support-sdk":"N"}}},"product_short":"APIG","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"绑定签名密钥","tags":"共享版-签名密钥绑定关系管理","uri":null,"version":"2.0"}