{"base_path":"/v2","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ErrorMsg":{"properties":{"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误描述","type":"string"}},"required":["error_code","error_msg"]},"ResponseInfo":{"properties":{"body":{"description":"响应的Body模板","type":"string"},"headers":{"description":"自定义的响应头","items":{"$ref":"#/definitions/ResponseInfoHeader"},"maxItems":10,"minItems":0,"type":"array"},"status":{"description":"响应的HTTP状态码。范围为200-599,但不允许为444。","format":"int32","type":"integer"}}},"ResponseInfoHeader":{"properties":{"key":{"description":"分组自定义响应的响应头的key,支持英文字母、数字和中划线,长度为1到128位","pattern":"^[A-Za-z0-9-]{1,128}$","type":"string"},"value":{"description":"分组自定义响应的响应头的value,为长度为1到1024位的字符串","maxLength":1024,"minLength":1,"type":"string"}}},"ResponseInfoResp":{"allOf":[{"$ref":"#/definitions/ResponseInfo"},{"properties":{"default":{"description":"是否为默认响应","type":"boolean"}},"type":"object"}]},"ResponsesCreate":{"properties":{"name":{"description":"响应名称。支持英文、数字、下划线、中划线,1-64个字符。","pattern":"^[a-zA-Z0-9_-]{1,64}$","type":"string"},"responses":{"additionalProperties":{"$ref":"#/definitions/ResponseInfo"},"description":"错误类型的响应定义,其中key为错误类型。key的枚举值为:\n- AUTH_FAILURE:认证失败\n- AUTH_HEADER_MISSING:认证身份来源缺失\n- AUTHORIZER_FAILURE:自定义认证失败\n- AUTHORIZER_CONF_FAILURE:自定义认证配置错误\n- AUTHORIZER_IDENTITIES_FAILURE:自定义认证身份来源错误\n- BACKEND_UNAVAILABLE:后端不可用\n- BACKEND_TIMEOUT:后端超时\n- THROTTLED:调用次数超出阈值\n- UNAUTHORIZED:应用未授权\n- ACCESS_DENIED:拒绝访问\n- NOT_FOUND:未找到匹配的API\n- REQUEST_PARAMETERS_FAILURE:请求参数错误\n- DEFAULT_4XX:默认4XX\n- DEFAULT_5XX:默认5XX\n- THIRD_AUTH_FAILURE: 第三方认证失败\n- THIRD_AUTH_IDENTITIES_FAILURE: 第三方认证身份来源错误\n- THIRD_AUTH_CONF_FAILURE: 第三方认证配置错误\n- ORCHESTRATION_PARAMETER_NOT_FOUND: 没有入参进行参数编排规则匹配,参数编排失败\n- ORCHESTRATION_FAILURE: 有入参进行参数编排规则匹配,但是匹配不上编排规则,参数编排失败\n\n每项错误类型均为一个JSON体","type":"object"}},"required":["name"]},"ResponsesInfo":{"properties":{"create_time":{"description":"创建时间","format":"date-time","type":"string"},"default":{"description":"是否为分组默认响应","type":"boolean"},"id":{"description":"响应ID","type":"string"},"name":{"description":"响应名称","type":"string"},"responses":{"additionalProperties":{"$ref":"#/definitions/ResponseInfoResp"},"description":"错误类型的响应定义,其中key为错误类型。key的枚举值为:\n- AUTH_FAILURE:认证失败\n- AUTH_HEADER_MISSING:认证身份来源缺失\n- AUTHORIZER_FAILURE:自定义认证失败\n- AUTHORIZER_CONF_FAILURE:自定义认证配置错误\n- AUTHORIZER_IDENTITIES_FAILURE:自定义认证身份来源错误\n- BACKEND_UNAVAILABLE:后端不可用\n- BACKEND_TIMEOUT:后端超时\n- THROTTLED:调用次数超出阈值\n- UNAUTHORIZED:应用未授权\n- ACCESS_DENIED:拒绝访问\n- NOT_FOUND:未找到匹配的API\n- REQUEST_PARAMETERS_FAILURE:请求参数错误\n- DEFAULT_4XX:默认4XX\n- DEFAULT_5XX:默认5XX\n- THIRD_AUTH_FAILURE: 第三方认证失败\n- THIRD_AUTH_IDENTITIES_FAILURE: 第三方认证身份来源错误\n- THIRD_AUTH_CONF_FAILURE: 第三方认证配置错误\n- ORCHESTRATION_PARAMETER_NOT_FOUND: 没有入参进行参数编排规则匹配,参数编排失败\n- ORCHESTRATION_FAILURE: 有入参进行参数编排规则匹配,但是匹配不上编排规则,参数编排失败\n\n每项错误类型均为一个JSON体","type":"object"},"update_time":{"description":"修改时间","format":"date-time","type":"string"}}}},"description":null,"group_id":"d0b771ab4a6d46a895580726f0d5479b","host":"apig.cn-north-4.myhuaweicloud.com","id":"82c19551fc7c44398695c68c5e9541cc","info_version":"v2","method":"post","name":"CreateGatewayResponseV2","parameters":{"apic_group_id":{"description":"分组的编号","in":"path","name":"group_id","required":true,"type":"string","x-example":"c77f5e81d9cb4424bf704ef2b0ac7600","x-sec-authority-parameter":"Y"},"apic_instance_id":{"description":"实例ID,在API网关控制台的“实例信息”中获取。","in":"path","name":"instance_id","required":true,"type":"string","x-example":"f0fa1789-3b76-433b-a787-9892951c620e","x-sec-authority-parameter":"Y"},"apic_project_id":{"description":"项目ID,获取方式请参见[获取项目ID](apig-api-180713009.xml)。","in":"path","name":"project_id","required":true,"type":"string","x-example":"73d69ae0cfcf460190522d06b60f05ad","x-sec-authority-parameter":"Y"},"apic_x_auth_token":{"description":"用户Token。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."}},"paths":{"/{project_id}/apigw/instances/{instance_id}/api-groups/{group_id}/gateway-responses":{"post":{"description":"新增分组下自定义响应","operationId":"CreateGatewayResponseV2","parameters":[{"$ref":"#/parameters/apic_x_auth_token"},{"$ref":"#/parameters/apic_project_id"},{"$ref":"#/parameters/apic_instance_id"},{"$ref":"#/parameters/apic_group_id"},{"description":"创建分组自定义响应的请求体","in":"body","name":"CreateGatewayResponseV2RequestBody","required":true,"schema":{"$ref":"#/definitions/ResponsesCreate"}}],"responses":{"201":{"description":"Created","examples":{"application/json":{"create_time":"2020-08-12T14:52:02.829753306+08:00","default":false,"id":"e839b367e10f4ab19d1c5008e476b83a","name":"response_demo","responses":{"ACCESS_DENIED":{"body":"{\"error_code\":\"$context.error.code\",\"error_msg\":\"$context.error.message\",\"request_id\":\"$context.requestId\"}","default":true,"status":403},"AUTHORIZER_CONF_FAILURE":{"body":"{\"error_code\":\"$context.error.code\",\"error_msg\":\"$context.error.message\",\"request_id\":\"$context.requestId\"}","default":true,"status":500},"AUTHORIZER_FAILURE":{"body":"{\"error_code\":\"$context.error.code\",\"error_msg\":\"$context.error.message\",\"request_id\":\"$context.requestId\"}","default":true,"status":500},"AUTHORIZER_IDENTITIES_FAILURE":{"body":"{\"error_code\":\"$context.error.code\",\"error_msg\":\"$context.error.message\",\"request_id\":\"$context.requestId\"}","default":true,"status":401},"AUTH_FAILURE":{"body":"{\"error_code\":\"$context.error.code\",\"error_msg\":\"$context.error.message\",\"request_id\":\"$context.requestId\"}","default":true,"status":401},"AUTH_HEADER_MISSING":{"body":"{\"error_code\":\"$context.error.code\",\"error_msg\":\"$context.error.message\",\"request_id\":\"$context.requestId\"}","default":true,"status":401},"BACKEND_TIMEOUT":{"body":"{\"error_code\":\"$context.error.code\",\"error_msg\":\"$context.error.message\",\"request_id\":\"$context.requestId\"}","default":true,"status":504},"BACKEND_UNAVAILABLE":{"body":"{\"error_code\":\"$context.error.code\",\"error_msg\":\"$context.error.message\",\"request_id\":\"$context.requestId\"}","default":true,"status":502},"DEFAULT_4XX":{"body":"{\"error_code\":\"$context.error.code\",\"error_msg\":\"$context.error.message\",\"request_id\":\"$context.requestId\"}","default":true},"DEFAULT_5XX":{"body":"{\"error_code\":\"$context.error.code\",\"error_msg\":\"$context.error.message\",\"request_id\":\"$context.requestId\"}","default":true},"NOT_FOUND":{"body":"{\"error_code\":\"$context.error.code\",\"error_msg\":\"$context.error.message\",\"request_id\":\"$context.requestId\"}","default":true,"status":404},"REQUEST_PARAMETERS_FAILURE":{"body":"{\"error_code\":\"$context.error.code\",\"error_msg\":\"$context.error.message\",\"request_id\":\"$context.requestId\"}","default":true,"status":400},"THIRD_AUTH_CONF_FAILURE":{"body":"{\"error_code\":\"$context.error.code\",\"error_msg\":\"$context.error.message\",\"request_id\":\"$context.requestId\"}","default":true,"status":500},"THIRD_AUTH_FAILURE":{"body":"{\"error_code\":\"$context.error.code\",\"error_msg\":\"$context.error.message\",\"request_id\":\"$context.requestId\"}","default":true,"status":401},"THIRD_AUTH_IDENTITIES_FAILURE":{"body":"{\"error_code\":\"$context.error.code\",\"error_msg\":\"$context.error.message\",\"request_id\":\"$context.requestId\"}","default":true,"status":401},"THROTTLED":{"body":"{\"error_code\":\"$context.error.code\",\"error_msg\":\"$context.error.message\",\"request_id\":\"$context.requestId\"}","default":true,"status":429},"UNAUTHORIZED":{"body":"{\"error_code\":\"$context.error.code\",\"error_msg\":\"$context.error.message\",\"request_id\":\"$context.requestId\"}","default":true,"status":401}},"update_time":"2020-08-12T14:52:02.829753306+08:00"}},"schema":{"$ref":"#/definitions/ResponsesInfo"}},"400":{"description":"Bad Request","examples":{"application/json":{"error_code":"APIG.2011","error_msg":"Invalid parameter value,parameterName:name. Please refer to the support documentation"}},"schema":{"$ref":"#/definitions/ErrorMsg"}},"401":{"description":"Unauthorized","examples":{"application/json":{"error_code":"APIG.1002","error_msg":"Incorrect token or token resolution failed"}},"schema":{"$ref":"#/definitions/ErrorMsg"}},"403":{"description":"Forbidden","examples":{"application/json":{"error_code":"APIG.1005","error_msg":"No permissions to request this method"}},"schema":{"$ref":"#/definitions/ErrorMsg"}},"404":{"description":"Not Found","examples":{"application/json":{"error_code":"APIG.3001","error_msg":"API group c77f5e81d9cb4424bf704ef2b0ac7600 does not exist"}},"schema":{"$ref":"#/definitions/ErrorMsg"}},"500":{"description":"Internal Server Error","examples":{"application/json":{"error_code":"APIG.9999","error_msg":"System error"}},"schema":{"$ref":"#/definitions/ErrorMsg"}}},"schemes":["https"],"summary":"创建分组自定义响应","tags":["专享版-分组自定义响应管理"],"x-api-framework":"RestfulAPI","x-api-highrisk":"N","x-api-position":"Region_ZON","x-api-type":"open-api","x-api-user":"IAM_User","x-apigateway-request-type":"public","x-is-registered":"Y","x-open-region-cloud":"hws,hws_hk,cmcc,ctc,dt,g42,hk_g42,hk_sbc,hk_tm,hws_eu,hws_ocb,ocb,sbc,tm","x-order":1,"x-produc-type":"apig","x-request-examples-1":{"name":"response_demo"},"x-request-examples-description-1":"创建分组自定义响应","x-sec-auditlog":"Y","x-sec-authority-parameter-body":null,"x-sec-authority-parameter-url":"project_id,instance_id,group_id","x-sec-privacy-parameter":null,"x-sec-sensitiveinfo":null,"x-sec-upload-download":0,"x-sec-userinput-untrust":null,"x-support-sdk":"Y"}}},"product_short":"APIG","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建分组自定义响应","tags":"专享版-分组自定义响应管理","uri":null,"version":"2.0"}