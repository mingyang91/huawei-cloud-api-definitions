{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"MysqlErrorResponse":{"properties":{"error_code":{"description":"错误码。","example":"DBS.200022","type":"string"},"error_msg":{"description":"错误消息。","example":"实例不存在","type":"string"}},"required":["error_code","error_msg"]},"TaurusDbProcessInfo":{"description":"TaurusDB用户会话线程信息","properties":{"command":{"description":"**参数解释**:\n\n当前执行的命令。\n","example":"Query","maxLength":1024,"minLength":0,"type":"string"},"db":{"description":"**参数解释**:\n\n当前访问的数据库名。\n","example":"demo_db","maxLength":1024,"minLength":0,"type":"string"},"host":{"description":"**参数解释**:\n\n发送请求的主机和端口。\n","example":"100.98.212.252:29285","maxLength":1024,"minLength":1,"type":"string"},"id":{"description":"**参数解释**:\n\n用户会话线程ID。","example":2075425,"format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"info":{"description":"**参数解释**:\n\n额外信息,通常是正在执行的语句。\n","example":"select sleep(1000)","maxLength":67108864,"minLength":0,"type":"string"},"state":{"description":"**参数解释**:\n\n正在执行的SQL语句的当前状态。\n","example":"Sorting result","maxLength":1024,"minLength":0,"type":"string"},"time":{"description":"**参数解释**:\n\n用户会话线程处于当前状态的持续时间,单位为秒。\n","example":103,"format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"user":{"description":"**参数解释**:\n\n启动用户会话线程的用户。\n","example":"root","maxLength":1024,"minLength":1,"type":"string"}},"required":["id","user","host","db","command","time","state","info"]},"TaurusDbProcessesQueryResponseBody":{"description":"TaurusDB节点用户会话线程查询响应","properties":{"processes":{"description":"**参数解释**:\n\n用户会话线程信息列表。","items":{"$ref":"#/definitions/TaurusDbProcessInfo"},"maxItems":100,"minItems":0,"type":"array"},"total_count":{"description":"**参数解释**:\n\n节点中的用户会话线程总数。\n\n**取值范围**:\n\n≥0\n","example":0,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"}},"required":["processes","total_count"]}},"description":null,"group_id":"1bf15763f8164608918d180a9b1aa137","host":"gaussdb.cn-north-4.myhuaweicloud.com","id":"49f37f1924ca4c868a54cd2279b0535a","info_version":"v3","method":"get","name":"ListTaurusDbNodeProcesses","parameters":{},"paths":{"/v3/{project_id}/instances/{instance_id}/nodes/{node_id}/processes":{"get":{"description":"分页查询TaurusDB节点中的用户会话线程,对应于show processlist命令,返回结果不含内部会话线程。","operationId":"ListTaurusDbNodeProcesses","parameters":[{"description":"**参数解释**:\n\n用户Token。\n\n通过调用IAM服务[获取用户Token](https://support.huaweicloud.com/api-iam/iam_30_0001.html)接口获取。\n\n请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。\n\n**约束限制**:\n\n不涉及。\n\n**取值范围**:\n\n不涉及。\n\n**默认值**:\n\n不涉及。\n","in":"header","maxLength":1024,"minLength":2,"name":"X-Auth-Token","required":true,"type":"string","x-example":"******"},{"description":"**参数解释**:\n\n请求语言类型。\n\n**约束限制**:\n\n不涉及。\n\n**取值范围**:\n\n- en-us\n- zh-cn\n\n**默认值**:\n\nen-us","enum":["zh-cn","en-us"],"in":"header","name":"X-Language","required":false,"type":"string","x-example":"zh-cn"},{"description":"**参数解释**:\n\n租户在某一Region下的project ID。\n\n获取方法请参见[获取项目ID](https://support.huaweicloud.com/api-gaussdbformysql/gaussdbformysql_10_0004.html)。\n\n**约束限制**:\n\n不涉及。\n\n**取值范围**:\n\n只能由英文字母、数字组成,且长度为32个字符。\n\n**默认值**:\n\n不涉及。","in":"path","maxLength":64,"minLength":2,"name":"project_id","required":true,"type":"string","x-example":"619d3e78f61b4be68bc5aa0b59edcf7b"},{"description":"**参数解释**:\n\n实例ID,此参数是实例的唯一标识。\n\n**约束限制**:\n\n不涉及。\n\n**取值范围**:\n\n只能由英文字母、数字组成,后缀为in07,长度为36个字符。\n\n**默认取值**:\n\n不涉及。","in":"path","maxLength":36,"minLength":36,"name":"instance_id","required":true,"type":"string","x-example":"a23fb62bd61e4e9e9636fd2225f395bein07"},{"description":"**参数解释**:\n\n节点ID,此参数是节点的唯一标识。\n\n**约束限制**:\n\n不涉及。\n\n**取值范围**:\n\n只能由英文字母、数字组成,后缀为no07,长度为36个字符。\n\n**默认取值**:\n\n不涉及。","in":"path","maxLength":36,"minLength":36,"name":"node_id","required":true,"type":"string","x-example":"18663926eacb443d98dc20f8620f28f2no07"},{"description":"**参数解释**:\n\n索引位置,偏移量。从第一条数据偏移offset条数据后开始查询。\n\n**约束限制**:\n\n必须为整数,不能为负数。\n\n**取值范围**:\n\n≥0\n\n**默认取值**:\n\n0","format":"int32","in":"query","maximum":2147483647,"minimum":0,"name":"offset","required":false,"type":"integer","x-example":0},{"description":"**参数解释**:\n\n查询记录数。\n\n**约束限制**:\n\n必须为整数,不能为负数。\n\n**取值范围**:\n\n1-100\n\n**默认取值**:\n\n100","format":"int32","in":"query","maximum":100,"minimum":1,"name":"limit","required":false,"type":"integer","x-example":100}],"produces":["application/json;charset=UTF-8"],"responses":{"200":{"description":"Success.","examples":{"application/json":{"processes":[{"command":"Query","db":null,"host":"100.98.212.252:29285","id":2075425,"info":"select sleep(1000)","state":"User sleep","time":103,"user":"root"},{"command":"Query","db":null,"host":"100.98.212.252:29285","id":2075426,"info":"show processlist","state":"User sleep","time":105,"user":"root"}],"total_count":2}},"schema":{"$ref":"#/definitions/TaurusDbProcessesQueryResponseBody"}},"400":{"description":"Clinet error.","schema":{"$ref":"#/definitions/MysqlErrorResponse"}},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/MysqlErrorResponse"}}},"summary":"查询节点用户会话线程","tags":["流量管理"],"x-api-type":"open-api","x-apigateway-ratelimit":"gaussdbformysql01","x-is-registered":"N","x-request-examples-description-1":"查询TaurusDB节点中前100个用户会话线程。","x-request-examples-url-1":"GET https://{endpoint}/v3/619d3e78f61b4be68bc5aa0b59edcf7b/instances/a23fb62bd61e4e9e9636fd2225f395bein07/nodes/18663926eacb443d98dc20f8620f28f2no07/processes?offset=0&limit=100","x-support-sdk":"Y"}}},"product_short":"GaussDB","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询节点用户会话线程","tags":"流量管理","uri":null,"version":"2.0"}