{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ClickHouseEngineInfo":{"description":"引擎信息。","properties":{"type":{"description":"数据库引擎类型,现在只支持click-house。","type":"string"},"version":{"description":"数据库版本,可通过“HTAP查询引擎信息”获取。\n一位数的大版本号。","type":"string"}},"required":["type","version"],"type":"object"},"CreateChInstanceInfo":{"description":"ClickHouse实例信息。","properties":{"az_code":{"description":"可用区。","type":"string"},"az_mode":{"description":"可用区模式。\n取值范围:\n- single:单可用区\n- double:多可用区","type":"string"},"db_user":{"description":"数据库用户。","type":"string"},"engine":{"$ref":"#/definitions/ClickHouseEngineInfo","description":"引擎信息。"},"ha_mode":{"description":"部署模式。\n取值范围:\n- Single:单机\n- Ha:主备","type":"string"},"id":{"description":"实例ID。","type":"string"},"name":{"description":"实例名。","type":"string"},"pay_info":{"description":"计费信息。","properties":{"is_auto_renew":{"description":"包周期是否自动续费。\n取值范围:\n- 1:自动续费\n- 0:不自动续费","type":"string"},"order_id":{"description":"包周期计费ID。","type":"string"},"pay_model":{"description":"计费模式。默认0。\n取值范围:\n- 0:按需计费\n- 1:包周期","type":"string"},"period":{"description":"包周期周期。","type":"string"},"period_type":{"description":"包周期周期类型。\n取值范围:\n- 2:包月\n- 3:包年","type":"string"}},"required":["pay_model","order_id","period","period_type","is_auto_renew"]},"port":{"description":"数据库端口。取值范围:0~65535。","format":"int32","type":"integer"},"region":{"description":"实例所在区。","type":"string"},"security_group_id":{"description":"安全组ID。","type":"string"},"ssl_option":{"description":"SSL开关。","type":"boolean"},"status":{"description":"实例状态。\n取值范围:\n- creating:创建\n- normal:正常\n- abnormal:异常\n- createfailed:创建失败\n- deleted:已删除","type":"string"},"subnet_id":{"description":"子网ID。","type":"string"},"tags_info":{"description":"实例标签。","properties":{"sys_tags":{"description":"系统标签。","items":{"properties":{"key":{"description":"标签键。","type":"string"},"value":{"description":"标签值。","type":"string"}}},"type":"array"},"tags":{"description":"用户标签。","items":{"properties":{"key":{"description":"标签键。","type":"string"},"value":{"description":"标签值。","type":"string"}}},"type":"array"}}},"vpc_id":{"description":"虚拟私有云ID。","type":"string"}},"required":["id","az_code","az_mode","name","engine","vpc_id","security_group_id","subnet_id","db_user","port","ha_mode","pay_info","ssl_option","status","region","tags_info"],"type":"object"},"CreateChInstanceListResponse":{"description":"创建ClickHouse实例返回值。","properties":{"instance":{"$ref":"#/definitions/CreateChInstanceInfo","description":"实例信息。"},"job_id":{"description":"工作ID。","type":"string"}},"required":["instance","job_id"],"type":"object"},"CreateChInstanceRequestBody":{"description":"创建ClickHouse实例请求体。","properties":{"az_code":{"description":"可用区码。\n\n当ha中mode为Ha时,需要填写多个可用区,用\",\" 分隔。例如:cn-southwest-244b,cn-southwest-244a","type":"string"},"az_mode":{"description":"可用区类型。\n取值范围:\n- single:单可用区\n- double:多可用区","type":"string"},"db_root_pwd":{"description":"root账户密码。\n- 8~32个字符\n- 包含大写字母、小写字母、数字或特殊字符(~ ! @ # % ^ * - _ = + ? ,)中的三种","type":"string"},"engine":{"$ref":"#/definitions/ClickHouseEngineInfo","description":"引擎信息。"},"flavor_id":{"description":"节点规格ID,可通过“HTAP查询规格信息”获取。","type":"string"},"ha":{"description":"部署信息。","properties":{"mode":{"description":"部署模式。\n取值范围:\n- Single:单机\n- Ha:主备","type":"string"}},"required":["mode"]},"name":{"description":"ClickHouse实例名称。\n- 4位到64位之间\n- 必须以字母开头,可以包含字母、数字、中划线或下划线\n- 不能包含其他特殊字符","type":"string"},"pay_info":{"description":"支付信息。","properties":{"is_auto_renew":{"description":"包周期是否自动续费。\n取值范围:\n- 1:自动续费\n- 0:不自动续费","format":"int32","type":"integer"},"order_id":{"description":"包周期计费ID。","type":"string"},"pay_model":{"description":"计费模式,默认0。\n取值范围:\n- 0:按需计费\n- 1:包周期","type":"string"},"period":{"description":"包周期周期。","format":"int32","type":"integer"},"period_type":{"description":"包周期周期类型。\n取值范围:\n- 2:包月\n- 3:包年","format":"int32","type":"integer"}}},"tags_info":{"description":"标签值。","properties":{"sys_tags":{"description":"系统标签。","items":{"properties":{"key":{"description":"标签键。","type":"string"},"value":{"description":"标签值。","type":"string"}},"required":["key","value"]},"type":"array"}},"required":["sys_tags"]},"time_zone":{"description":"时区。默认为所属GaussDB(for MySQL)实例时区。","type":"string"},"volume":{"description":"存储规格。","properties":{"capacity_in_gb":{"description":"磁盘容量。取值范围:50GB~32000GB。","format":"int32","type":"integer"},"io_type":{"description":"磁盘IO类型。\n取值范围:\n- SSD:超高IO\n- ESSD:极速型SSD","type":"string"}},"required":["io_type","capacity_in_gb"]}},"required":["name","engine","ha","flavor_id","db_root_pwd","az_mode","volume","az_code","tags_info"],"type":"object"},"ErrorRsp":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"错误码。","example":"DBS.280292","type":"string"},"error_msg":{"description":"错误描述。","example":"数据库用户名非法","type":"string"}},"required":["error_code","error_msg"],"type":"object"}},"description":null,"group_id":"1bf15763f8164608918d180a9b1aa137","host":"gaussdb.cn-north-4.myhuaweicloud.com","id":"f6017cd0733b4af6bbb4e2de107b8828","info_version":"v3","method":"post","name":"CreateClickHouseInstance","parameters":{},"paths":{"/v3/{project_id}/instances/{instance_id}/clickhouse":{"post":{"description":"创建实例。","operationId":"CreateClickHouseInstance","parameters":[{"description":"租户在某一Region下的project ID。\n\n获取方法请参见[获取项目ID](https://support.huaweicloud.com/api-gaussdbformysql/gaussdbformysql_10_0004.html)。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"GaussDB(for MySQL)实例ID,严格匹配UUID规则。","in":"path","name":"instance_id","required":true,"type":"string"},{"description":"创建实例请求体。","in":"body","name":"CreateClickHouseInstanceRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateChInstanceRequestBody"}},{"description":"用户Token。\n\n通过调用IAM服务[获取用户Token](https://support.huaweicloud.com/api-iam/iam_30_0001.html)接口获取。\n\n请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"请求语言类型。默认en-us。\n取值范围:\n- en-us\n- zh-cn","in":"header","name":"X-Language","required":false,"type":"string"}],"responses":{"202":{"description":"Success.","examples":{"application/json":"{\n    \"instance\": {\n        \"id\": \"2cdec02d8c4a4c88aecae08684dd8076in16\",\n        \"az_code\": \"cn-southwest-244a\",\n        \"az_mode\": \"double\",\n        \"name\": \"htap-cfd5\",\n        \"engine\": {\n            \"type\": \"click-house\",\n            \"version\": \"1\"\n        },\n        \"vpc_id\": \"467f1291-994f-4d3a-9db6-d4c563218df5\",\n        \"security_group_id\": \"3dc780b1-9d92-4850-9b98-be248e1b5962\",\n        \"subnet_id\": \"d99cd68c-0067-436d-869e-d32e902d0074\",\n        \"db_user\": \"root\",\n        \"port\": null,\n        \"ha_mode\": \"Single\"\n        \"pay_info\": {\n            \"pay_model\": \"0\",\n            \"order_id\": null,\n            \"period\": null,\n            \"period_type\": null,\n            \"is_auto_renew\": null,\n        },\n        \"ssl_option\": false,      \n        \"status\": \"creating\",\n        \"region\": \"cn-southwest-244\",\n        \"tags_info\": {\n            \"tags\": [],\n            \"sys_tags\": [\n                {\n                    \"key\": \"_sys_enterprise_project_id\",\n                    \"value\": \"0\"\n                }\n            ]\n        }\n    },\n    \"job_id\": \"76078f0b-5162-45c8-b95f-4c1afd37536c\",\n}"},"schema":{"$ref":"#/definitions/CreateChInstanceListResponse"}},"400":{"description":"Client error.","schema":{"$ref":"#/definitions/ErrorRsp"}},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/ErrorRsp"}}},"summary":"创建实例","tags":["HTAP-轻量版"],"x-is-registered":"Y","x-request-examples-1":{"az_code":"cn-southwest-244a","az_mode":"single","db_root_pwd":"Rds_1234","engine":{"type":"click-house","version":"1"},"flavor_id":"b44cfde6-d250-313c-8d7a-cd216f071658","ha":{"mode":"Single"},"name":"htap-cfd5","tags_info":{"sys_tags":[{"key":"_sys_enterprise_project_id","value":"0"}]},"time_zone":"UTC+08:00","volume":{"capacity_in_gb":40,"io_type":"ESSD"}},"x-request-examples-description-1":"创建ClickHouse实例","x-request-examples-text-1":{"az_code":"cn-southwest-244a","az_mode":"single","db_root_pwd":"Rds_1234","engine":{"type":"click-house","version":"1"},"flavor_id":"b44cfde6-d250-313c-8d7a-cd216f071658","ha":{"mode":"Single"},"name":"htap-cfd5","tags_info":{"sys_tags":[{"key":"_sys_enterprise_project_id","value":"0"}]},"time_zone":"UTC+08:00","volume":{"capacity_in_gb":40,"io_type":"ESSD"}},"x-request-examples-url-1":"POST https://{endpoint}/v3/23a50154cf494ec9ad6883979a12db0a/instances/40dc4c5729f14aad893e2dcd5baf6a15in07/clickhouse","x-support-sdk":"Y"}}},"product_short":"GaussDB","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建实例","tags":"HTAP-轻量版","uri":null,"version":"2.0"}