{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ChInstancesInfoRsponse":{"description":"实例详细信息。","properties":{"instance":{"description":"实例信息。","properties":{"actions":{"description":"实例动作。","items":{"$ref":"#/definitions/ChQueryActionInfo"},"type":"array"},"az_mode":{"description":"可用区模式。\n取值范围:\n- single:单可用区\n- double:多可用区-","type":"string"},"backup_used_space":{"description":"备份使用空间。","type":"string"},"bak_expected_start_time":{"description":"备份预计开始时间。","type":"string"},"bak_keep_day":{"description":"备份保存天数。","format":"int32","type":"integer"},"bak_period":{"description":"备份周期。","type":"string"},"can_enable_public_access":{"description":"是否可公网访问。","type":"boolean"},"cluster_mode":{"description":"部署模式。\n取值范围:\n- Single:单机\n- Ha:主备","type":"string"},"create_at":{"description":"实例创建时间。","format":"int64","type":"integer"},"create_fail_error_code":{"description":"实例创建失败错误码。","type":"string"},"current_backup_node_id":{"description":"备份节点ID。","type":"string"},"datastore_type":{"description":"数据库引擎。","type":"string"},"datastore_version":{"description":"数据库版本。","type":"string"},"datastore_version_id":{"description":"数据库版本ID。","type":"string"},"db_port":{"description":"数据库端口号。取值范围0~65535。","type":"string"},"db_user":{"description":"默认用户。","type":"string"},"dedicated_resource_id":{"description":"专属资源池ID。","type":"string"},"delete_at":{"description":"实例删除时间。","format":"int64","type":"integer"},"enterprise_project_id":{"description":"企业项目ID。","type":"string"},"frozen_time":{"description":"冻结时间。","type":"string"},"groups":{"description":"实例分组。","items":{"properties":{"group_type_name":{"description":"实例分组类型名,现在只支持clickhouse。","type":"string"},"id":{"description":"分组ID。","type":"string"},"name":{"description":"分组名。","type":"string"},"nodes":{"description":"实例节点信息。","items":{"$ref":"#/definitions/ClickHouseNodeInfo"},"type":"array"}},"required":["id","name","group_type_name","nodes"]},"type":"array"},"id":{"description":"实例ID。","type":"string"},"is_frozen":{"description":"是否冻结。\n取值范围:\n- 0:不冻结\n- 1:冻结","format":"int32","type":"integer"},"master_az_code":{"description":"主可用区。","type":"string"},"name":{"description":"实例名称。","type":"string"},"new_version_available":{"description":"是否有数据库新版本。","type":"boolean"},"ops_window":{"description":"实例操作时间窗。","properties":{"end_time":{"description":"时间窗结束时间。","type":"string"},"period":{"description":"时间窗周期。","type":"string"},"start_time":{"description":"时间窗开始时间。","type":"string"}},"required":["start_time","end_time"]},"param_group":{"description":"参数组。","properties":{"id":{"description":"参数ID。","type":"string"},"name":{"description":"参数名。","type":"string"}}},"pay_model":{"description":"支付模式。\n取值范围:\n- 0:按需计费\n- 1:包周期-","type":"string"},"port_info":{"description":"端口信息。","properties":{"http_port":{"description":"http端口。取值范围:0~65535。","format":"int32","type":"integer"},"https_port":{"description":"https端口号。取值范围:0~65535。","format":"int32","type":"integer"},"mysql_port":{"description":"MySql端口号。取值范围:0~65535。","format":"int32","type":"integer"},"tep_port":{"description":"tep端口。取值范围:0~65535。","format":"int32","type":"integer"},"tep_secure_port":{"description":"tep安全端口。取值范围:0~65535。","format":"int32","type":"integer"}},"required":["tep_port","http_port","mysql_port","https_port","tep_secure_port"]},"project_id":{"description":"租户在某一Region下的project ID。","type":"string"},"public_ip":{"description":"公网访问IP。","type":"string"},"ssl_option":{"description":"SSL开关。","type":"boolean"},"status":{"description":"实例状态。","type":"string"},"support_data_replication":{"description":"是否支持副本。","type":"boolean"},"tags_info":{"description":"实例标签。","properties":{"sys_tags":{"description":"系统标签。","items":{"properties":{"key":{"description":"标签键。","type":"string"},"value":{"description":"标签值。","type":"string"}}},"type":"array"},"tags":{"description":"用户标签。","items":{"properties":{"key":{"description":"标签键。","type":"string"},"value":{"description":"标签值。","type":"string"}}},"type":"array"}}},"time_zone":{"description":"时区。","type":"string"},"update_at":{"description":"实例更新时间。","format":"int64","type":"integer"},"volume_code":{"description":"磁盘规格码。","type":"string"}},"required":["id","name","project_id","can_enable_public_access","cluster_mode","status","is_frozen","datastore_version_id","datastore_version","datastore_type","create_at","update_at","db_port","groups","ops_window","az_mode","enterprise_project_id","port_info","volume_code","support_data_replication","new_version_available","ssl_option"]}},"required":["instance"],"type":"object"},"ChQueryActionInfo":{"description":"实例操作动作。","properties":{"action":{"description":"实例动作名称。","type":"string"},"created_at":{"description":"实例动作创建时间。","format":"int64","type":"integer"},"id":{"description":"实例动作ID。","type":"string"},"job_id":{"description":"实例动作任务ID。","type":"string"},"object_id":{"description":"实例动作对象ID。","type":"string"},"status":{"description":"实例动作状态。","type":"string"},"type":{"description":"实例动作类型。","type":"string"},"updated_at":{"description":"实例动作更新时间。","format":"int64","type":"integer"}},"type":"object"},"ClickHouseNodeInfo":{"description":"节点信息。","properties":{"az_code":{"description":"可用区。","type":"string"},"az_description":{"description":"可用区描述。","type":"string"},"az_type":{"description":"可用区类型。","type":"string"},"cpu":{"description":"实例节点cpu数量。","type":"string"},"create_at":{"description":"节点创建时间。","format":"int64","type":"integer"},"datastore":{"description":"数据存储信息。","properties":{"id":{"description":"引擎ID。","type":"string"},"type":{"description":"引擎类型,现在只支持click-house。","type":"string"},"version":{"description":"引擎版本。","type":"string"}},"required":["id","type","version"]},"db_port":{"description":"数据库端口号。取值范围:0~65535。","format":"int32","type":"integer"},"flavor_id":{"description":"节点规格ID。","type":"string"},"flavor_ref":{"description":"节点规格码。","type":"string"},"frozen_flag":{"description":"冻结标志。\n取值范围:\n- 0:不冻结\n- 1:冻结","format":"int32","type":"integer"},"iass_flavor_ref":{"description":"IASS规格码。","type":"string"},"id":{"description":"实例节点ID。","type":"string"},"max_connections":{"description":"公网最大连接数。","type":"string"},"mem":{"description":"实例节点内存大小(GB)。","type":"string"},"name":{"description":"实例节点名。","type":"string"},"need_restart":{"description":"参数更新是否需要重启。","type":"boolean"},"order_id":{"description":"包周期订单ID。","type":"string"},"pay_model":{"description":"支付模式。\n取值范围:\n- 0:按需计费\n- 1:包周期","type":"string"},"period":{"description":"实例节点周期。","type":"string"},"priority":{"description":"节点优先级。","format":"int32","type":"integer"},"region":{"description":"节点所在区。","type":"string"},"sg_id":{"description":"安全组","type":"string"},"status":{"description":"实例节点状态。","type":"string"},"subnet_id":{"description":"子网ID。","type":"string"},"traffic_ip":{"description":"节点数据ip。","type":"string"},"traffic_ipv6":{"description":"节点数据ipv6。","type":"string"},"traffic_vip":{"description":"节点数据vip。","type":"string"},"traffic_vipv6":{"description":"节点数据vipV6。","type":"string"},"type":{"description":"实例节点类型。\n取值范围:\n- master:主节点\n- slave:备节点","type":"string"},"update_at":{"description":"节点更新时间。","format":"int64","type":"integer"},"volume":{"description":"实例节点存储信息。","properties":{"iops":{"description":"实例节点存储IOPS大小。","format":"int32","type":"integer"},"size":{"description":"实例节点存储大小。","type":"string"},"type":{"description":"实例节点存储类型。\n取值范围:\n- SSD:超高IO\n- ESSD:极速型SSD","type":"string"},"used":{"description":"实例节点存储使用大小。","type":"string"}},"required":["type","size"]},"vpc_id":{"description":"虚拟私有云ID。","type":"string"}},"required":["id","name","type","status","volume","cpu","mem","datastore","priority","frozen_flag","db_port","pay_model","traffic_ip","az_code","az_description","az_type","region","create_at","update_at","flavor_id","flavor_ref","iass_flavor_ref","max_connections","vpc_id","subnet_id","need_restart","sg_id"],"type":"object"},"ErrorRsp":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"错误码。","example":"DBS.280292","type":"string"},"error_msg":{"description":"错误描述。","example":"数据库用户名非法","type":"string"}},"required":["error_code","error_msg"],"type":"object"}},"description":null,"group_id":"1bf15763f8164608918d180a9b1aa137","host":"gaussdb.cn-north-4.myhuaweicloud.com","id":"0bf4ee8264824221af5efbf79d5db713","info_version":"v3","method":"get","name":"ListClickHouseInstance","parameters":{},"paths":{"/v3/{project_id}/instances/{instance_id}/clickhouse/{clickhouse_instance_id}":{"get":{"description":"查询实例详情。","operationId":"ListClickHouseInstance","parameters":[{"description":"租户在某一Region下的project ID。\n\n获取方法请参见[获取项目ID](https://support.huaweicloud.com/api-gaussdbformysql/gaussdbformysql_10_0004.html)。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"GaussDB(for MySQL)实例ID,严格匹配UUID规则。","in":"path","name":"instance_id","required":true,"type":"string"},{"description":"ClickHouse实例ID,严格匹配UUID规则。","in":"path","name":"clickhouse_instance_id","required":true,"type":"string"},{"description":"用户Token。\n\n通过调用IAM服务[获取用户Token](https://support.huaweicloud.com/api-iam/iam_30_0001.html)接口获取。\n\n请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"请求语言类型。默认en-us。\n取值范围:\n- en-us\n- zh-cn","in":"header","name":"X-Language","required":false,"type":"string"}],"responses":{"200":{"description":"Success.","examples":{"application/json":{"instance":{"actions":[],"az_mode":"single","backup_used_space":null,"bak_expected_start_time":null,"bak_keep_day":null,"bak_period":null,"can_enable_public_access":false,"cluster_mode":"Single","create_at":1714099209183,"create_fail_error_code":"","current_backup_node_id":null,"datastore_type":"click-house","datastore_version":"1.23.3.24","datastore_version_id":"6a9e233f-e7da-3e81-b12f-7a41a8689250","db_port":"3306","db_user":null,"dedicated_resource_id":null,"delete_at":null,"enterprise_project_id":null,"frozen_time":null,"groups":[{"group_type_name":"clickhouse","id":"f3f95d4a837f42ee921760f3c7a0e730gr16","name":"htap-1fb3_shard01","nodes":[{"az_code":"cn-southwest-244b","az_description":"可用区2","az_type":"Center","cpu":"4","create_at":1714099209183,"datastore":{"id":"6a9e233f-e7da-3e81-b12f-7a41a8689250","type":"click-house","version":"1.23.3.24"},"db_port":3306,"flavor_id":"b44cfde6-d250-313c-8d7a-cd216f071658","flavor_ref":"gaussdb.ch.xlarge.x86.4","frozen_flag":0,"iass_flavor_ref":"c3.xlarge.4","id":"8f23427bf3764627bca1ee40e2364abfno16","max_connections":"0","mem":"16","name":"htap-1fb3_shard01_node01","need_restart":false,"order_id":"","pay_model":"0","period":"null","priority":1,"region":"cn-southwest-244","sg_id":"","status":"normal","subnet_id":"072e022f-13aa-4c8f-8d64-492cfd123305","traffic_ip":"192.168.0.55","traffic_ipv6":"","traffic_vip":"","traffic_vipv6":"","type":"master","update_at":1714099209183,"volume":{"size":"50000000000","type":"SSD"},"vpc_id":"134c4042-1a1f-4cb8-8258-219a2f6c0d4d"}]}],"id":"f8d286fa7db44f51aed30ed7eb6da007in16","is_frozen":0,"master_az_code":null,"name":"htap-1fb3","new_version_available":false,"ops_window":{"end_time":"22:00","period":null,"start_time":"18:00"},"param_group":{"id":"1661d4eddd4444dd8447992e74fa3b3epr16","name":"Default-clickhouse"},"pay_model":null,"port_info":{"http_port":8123,"https_port":8443,"mysql_port":3306,"tep_port":9000,"tep_secure_port":9440},"project_id":"23a50154cf494ec9ad6883979a12db0a","public_ip":"","ssl_option":true,"status":"normal","support_data_replication":true,"tags_info":{"sys_tags":[{"key":"_sys_enterprise_project_id","value":"0"}],"tags":[]},"time_zone":"UTC+08:00","update_at":1714099209781,"volume_code":"gaussdb.ch.evs.ultrahighio"}}},"schema":{"$ref":"#/definitions/ChInstancesInfoRsponse"}},"400":{"description":"Client error.","schema":{"$ref":"#/definitions/ErrorRsp"}},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/ErrorRsp"}}},"summary":"查询实例详情","tags":["HTAP-轻量版"],"x-is-registered":"Y","x-request-examples-description-1":"查询ClickHouse实例详情。","x-request-examples-url-1":"GET https://{endpoint}/v3/23a50154cf494ec9ad6883979a12db0a/instances/fb632d1d531a4107804f0f082581810fin07/clickhouse/df3ae779e2ad4993a03ccd7a81240125in16","x-support-sdk":"Y"}}},"product_short":"GaussDB","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询实例详情","tags":"HTAP-轻量版","uri":null,"version":"2.0"}