{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"MysqlBackupStrategy":{"description":"自动备份策略","properties":{"keep_days":{"description":"自动备份保留天数,取值范围:1-732","type":"string"},"start_time":{"description":"自动备份开始时间段。自动备份将在该时间一个小时内触发。\n\n取值范围:非空,格式必须为hh:mm-HH:MM且有效,当前时间指UTC时间。\n\n1. HH取值必须比hh大1。\n2. mm和MM取值必须相同,且取值必须为00。","example":"23:00-00:00","type":"string"}},"required":["start_time"]},"MysqlChargeInfo":{"description":"计费类型信息,支持包年包月和按需,默认为按需。","properties":{"charge_mode":{"description":"计费模式。\n\n取值范围:\n\n- prePaid:预付费,即包年/包月。\n- postPaid:后付费,即按需付费。","enum":["prePaid","postPaid"],"type":"string"},"is_auto_pay":{"description":"创建包周期时可指定,表示是否自动从客户的账户中支付,此字段不影响自动续订的支付方式。\n\n- true,为自动支付,默认该方式。\n- false,为手动支付。","type":"string"},"is_auto_renew":{"description":"创建包周期实例时可指定,表示是否自动续订,续订的周期和原周期相同,且续订时会自动支付。\n\n- true,为自动续订。\n- false,为不自动续订,默认该方式。","type":"string"},"period_num":{"description":"“charge_mode”为“prePaid”时生效,且为必选值,指定订购的时间。\n\n取值范围:\n\n当“period_type”为“month”时,取值为1~9。\n当“period_type”为“year”时,取值为1~3。","format":"int32","type":"integer"},"period_type":{"description":"订购周期类型。\n\n取值范围:\n\n- month:包月。\n- year:包年。\n\n说明:“charge_mode”为“prePaid”时生效,且为必选值。","enum":["month","year"],"type":"string"}},"required":["charge_mode"]},"MysqlCreateInstanceResponse":{"properties":{"instance":{"$ref":"#/definitions/MysqlInstanceResponse","description":"实例信息"},"job_id":{"description":"实例创建的任务ID。\n\n仅创建按需实例时会返回该参数。","example":"dff1d289-4d03-4942-8b9f-463ea07c000d","type":"string"},"order_id":{"description":"订单号,创建包年包月时返回该参数。","type":"string"}},"required":["instance","job_id"]},"MysqlDatastoreInReq":{"description":"数据库信息。","properties":{"kernel_version":{"description":"内核数据库版本。如果需要指定具体的内核版本,请联系客服人员添加白名单。\n\n完整的四位内核数据库版本,获取方法请参见[查询数据库引擎的版本](https://support.huaweicloud.com/api-gaussdbformysql/ShowGaussMySqlEngineVersion.html)返回的kernel_version字段。","type":"string"},"type":{"description":"数据库引擎,现在只支持gaussdb-mysql。","type":"string"},"version":{"description":"兼容的三位开源数据库版本号。\n\n获取方法请参见[查询数据库引擎的版本](https://support.huaweicloud.com/api-gaussdbformysql/ShowGaussMySqlEngineVersion.html)返回的version字段。","type":"string"}},"required":["type","version"]},"MysqlDatastoreInRes":{"description":"数据库信息。","properties":{"kernel_version":{"description":"内核数据库版本。\n\n完整的四位内核数据库版本号,获取方法请参见[查询数据库引擎的版本](https://support.huaweicloud.com/api-gaussdbformysql/ShowGaussMySqlEngineVersion.html)返回的kernel_version字段。","type":"string"},"type":{"description":"数据库引擎,现在只支持gaussdb-mysql。","type":"string"},"version":{"description":"兼容的三位开源数据库版本号。\n\n获取方法请参见[查询数据库引擎的版本](https://support.huaweicloud.com/api-gaussdbformysql/ShowGaussMySqlEngineVersion.html)返回的version字段。","type":"string"}},"required":["type","version"]},"MysqlErrorResponse":{"properties":{"error_code":{"description":"错误码。","example":"DBS.200022","type":"string"},"error_msg":{"description":"错误消息。","example":"实例不存在","type":"string"}},"required":["error_code","error_msg"]},"MysqlInstanceRequest":{"description":"实例信息","properties":{"availability_zone_mode":{"description":"可用区类型,单可用区single或多可用区multi。","type":"string"},"backup_strategy":{"$ref":"#/definitions/MysqlBackupStrategy"},"charge_info":{"$ref":"#/definitions/MysqlChargeInfo","description":"计费类型信息,支持包年包月和按需,默认为按需。\n\n说明:DeC专属云账号不支持创建包周期。"},"configuration_id":{"description":"参数模板ID。","example":"452408-ef4b-44c5-94be-305145fg","type":"string"},"datastore":{"$ref":"#/definitions/MysqlDatastoreInReq"},"dedicated_resource_id":{"description":"专属资源池ID,只有开通专属资源池后才可以下发此参数。","type":"string"},"enterprise_project_id":{"description":"企业项目ID。如果账户开通企业项目服务则该参数必选,未开启该参数不可选。","type":"string"},"flavor_ref":{"description":"规格码。","example":"rds.mysql.s1.large","type":"string"},"lower_case_table_names":{"description":"表名大小写是否敏感,默认值是“1”。\n\n取值范围:\n- 0:表名被存储成固定且表名称大小写敏感。\n- 1:表名将被存储成小写且表名称大小写不敏感。","format":"int32","type":"integer"},"master_availability_zone":{"description":"主可用区。","type":"string"},"mode":{"description":"实例类型,目前仅支持Cluster。","type":"string"},"name":{"description":"实例名称。用于表示实例的名称,同一租户下,同类型的实例名可重名。\n\n取值范围:最小为4个字符,最大为64个字符且不超过64个字节(注意:一个中文字符占用3个字节),必须以字母或中文开头,区分大小写,可以包含字母、数字、中划线、下划线或中文,不能包含其他特殊字符。","type":"string"},"password":{"description":"数据库密码。\n\n取值范围:至少包含以下字符的三种:大小写字母、数字和特殊符号~!@#$%^*-_=+?,()&,长度8~32个字符。\n建议您输入高强度密码,以提高安全性,防止出现密码被暴力破解等安全风险。如果您输入弱密码,系统会自动判定密码非法。","type":"string"},"region":{"description":"区域ID。","type":"string"},"restore_point":{"$ref":"#/definitions/MysqlRestorePoint","description":"备份恢复信息。"},"security_group_id":{"description":"安全组ID。如果实例所选用的子网开启网络ACL进行访问控制,则该参数非必选。如果未开启ACL进行访问控制,则该参数必选。","type":"string"},"slave_count":{"description":"只读节点个数。单次接口调用最多支持创建9个只读节点。","format":"int32","type":"integer"},"subnet_id":{"description":"子网的网络ID。","type":"string"},"tags":{"items":{"$ref":"#/definitions/MysqlTags"},"type":"array"},"tde_info":{"$ref":"#/definitions/MysqlTdeInfo","description":"透明数据加密配置信息,支持AES256、SM4加密算法。\n\n透明加密功能目前处于公测阶段,如需使用,请提交工单联系客服人员申请权限。"},"time_zone":{"description":"时区。默认时区为UTC。","type":"string"},"volume":{"$ref":"#/definitions/MysqlVolume","description":"volume信息。创建包周期实例可选。创建按需实例时不可选。"},"vpc_id":{"description":"虚拟私有云ID。","type":"string"}},"required":["region","name","datastore","mode","flavor_ref","vpc_id","subnet_id","password","availability_zone_mode","slave_count","backup_strategy","charge_info"]},"MysqlInstanceResponse":{"properties":{"availability_zone_mode":{"description":"可用区模式,与请求参数相同。","type":"string"},"backup_strategy":{"$ref":"#/definitions/MysqlBackupStrategy"},"charge_info":{"$ref":"#/definitions/MysqlChargeInfo"},"configuration_id":{"description":"参数组ID。","type":"string"},"datastore":{"$ref":"#/definitions/MysqlDatastoreInRes"},"enterprise_project_id":{"description":"企业项目ID。","type":"string"},"flavor_ref":{"description":"规格码,与请求参数相同。","type":"string"},"id":{"description":"实例ID。","type":"string"},"master_availability_zone":{"description":"主可用区ID。","type":"string"},"mode":{"description":"实例类型,仅支持Cluster。","type":"string"},"name":{"description":"实例名称。用于表示实例的名称,同一租户下,同类型的实例名称可相同。\n\n取值范围:4~64个字符之间,必须以字母开头,不区分大小写,可以包含字母、数字、中划线或者下划线,\n不能包含其它的特殊字符。","type":"string"},"port":{"description":"数据库端口信息。","type":"string"},"region":{"description":"区域ID,与请求参数相同。","type":"string"},"security_group_id":{"description":"安全组ID,与请求参数相同。","type":"string"},"status":{"description":"实例状态。","type":"string"},"subnet_id":{"description":"子网ID,与请求参数相同。","type":"string"},"volume":{"$ref":"#/definitions/MysqlVolumeResp","description":"volume信息。创建包年/包月实例有返回。"},"vpc_id":{"description":"虚拟私有云ID,与请求参数相同。","type":"string"}},"required":["id","name"]},"MysqlRestorePoint":{"properties":{"backup_id":{"description":"备份文件ID。","type":"string"},"restore_time":{"description":"PITR。要恢复的时间点。","format":"int64","type":"integer"},"source_instance_id":{"description":"源实例ID。","type":"string"},"type":{"description":"备份类型。当参数为空时,backup_id不能为空,即默认按备份文件恢复。\n当参数不为空时,取值范围:\n- backup:表示按备份文件恢复;\n- timestamp:表示按时间点恢复;","type":"string"}},"required":["source_instance_id"]},"MysqlTags":{"description":"标签列表,根据标签键值对创建实例。\n- {key}表示标签键,不可以为空或重复。\n- {value}表示标签值,可以为空。\n\n如果创建实例时同时使用多个标签键值对,中间使用逗号分隔开,最多包含10组。","properties":{"key":{"description":"标签键。最大长度36个unicode字符。key不能为空或者空字符串,不能为空格。\n\n字符集:A-Z,a-z ,0-9,‘-’,‘_’,UNICODE字符(\\u4E00-\\u9FFF)。","type":"string"},"value":{"description":"标签值。最大长度43个unicode字符。可以为空字符串。\n\n字符集:A-Z,a-z ,0-9,‘.’,‘-’,‘_’,UNICODE字符(\\u4E00-\\u9FFF)。","type":"string"}},"required":["key","value"]},"MysqlTdeInfo":{"properties":{"enable_tde":{"description":"是否打开透明加密功能。","type":"boolean"},"encryption_type":{"description":"透明加密算法,支持AES256、SM4加密算法。","type":"string"}},"required":["enable_tde","encryption_type"]},"MysqlVolume":{"properties":{"size":{"description":"磁盘大小。默认值为10,单位GB。\n取值范围:10~128000,必须为10的整数倍。","type":"string"}},"required":["size"],"type":"object"},"MysqlVolumeResp":{"properties":{"size":{"description":"磁盘大小。单位GB。\n\n取值范围:10~128000,为10的整数倍。","type":"integer"}},"required":["size"]}},"description":null,"group_id":"1bf15763f8164608918d180a9b1aa137","host":"gaussdb.cn-north-4.myhuaweicloud.com","id":"f8f1df6fdd674dc393eada3b64bdcd6a","info_version":"v3","method":"post","name":"CreateGaussMySqlInstance","parameters":{},"paths":{"/v3/{project_id}/instances":{"post":{"description":"创建云数据库GaussDB(for MySQL)实例。","operationId":"CreateGaussMySqlInstance","parameters":[{"description":"用户Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"******"},{"description":"语言。","in":"header","name":"X-Language","required":false,"type":"string","x-example":"zh-cn"},{"description":"租户在某一region下的project ID。\n\n获取方法请参见[获取项目ID](https://support.huaweicloud.com/api-gaussdbformysql/gaussdbformysql_10_0004.html)。\n","in":"path","name":"project_id","required":true,"type":"string","x-example":"619d3e78f61b4be68bc5aa0b59edcf7b"},{"description":"请求体。","in":"body","name":"CreateInstanceRequest","required":true,"schema":{"$ref":"#/definitions/MysqlInstanceRequest"}}],"responses":{"201":{"description":"Success.","schema":{"$ref":"#/definitions/MysqlCreateInstanceResponse"},"x-response-examples-1":{"application/json":{"instance":{"availability_zone_mode":"single","backup_strategy":{"keep_days":7,"start_time":"08:00-09:00"},"charge_info":{"charge_mode":"postPaid"},"configuration_id":"43570e0de32e40c5a15f831aa5ce4176pr07","datastore":{"kernel_version":"2.0.28.18","type":"gaussdb-mysql","version":"8.0.22"},"enterprise_project_id":0,"flavor_ref":"gaussdb.mysql.xlarge.arm.4","id":"5eebbb4c0f9f4a99b42ed1b6334569aain07","mode":"Cluster","name":"gaussdb-mysql-instance1","port":3306,"region":"br-iaas-odin1","security_group_id":"fc577a1a-f202-424a-977f-24faec3fdd55","status":"BUILD","subnet_id":"c1cfa53c-65d3-431e-8552-326bf310c7ad","vpc_id":"3cedfc54-b105-4652-a4e0-847b11576b58"},"job_id":"dff1d289-4d03-4942-8b9f-463ea07c000d"}},"x-response-examples-2":{"application/json":{"instance":{"availability_zone_mode":"single","backup_strategy":{"keep_days":7,"start_time":"08:00-09:00"},"charge_info":{"charge_mode":"prePaid","is_auto_pay":true,"is_auto_renew":false,"period_num":1,"period_type":"month"},"configuration_id":"43570e0de32e40c5a15f831aa5ce4176pr07","datastore":{"kernel_version":"2.0.28.18","type":"gaussdb-mysql","version":"8.0.22"},"enterprise_project_id":0,"flavor_ref":"gaussdb.mysql.xlarge.arm.4","id":"945419c2208e4a5d828b8dddc00223e1in07","mode":"Cluster","name":"gaussdb-mysql-instance4","port":3306,"region":"br-iaas-odin1","security_group_id":"fc577a1a-f202-424a-977f-24faec3fdd55","status":"BUILD","subnet_id":"c1cfa53c-65d3-431e-8552-326bf310c7ad","volume":{"size":10},"vpc_id":"3cedfc54-b105-4652-a4e0-847b11576b58"},"order_id":"CS2308241236EEXVF"}},"x-response-examples-description-1":"创建按需实例。","x-response-examples-description-2":"创建周期为一个月的包年/包月实例。"},"400":{"description":"Client error.","schema":{"$ref":"#/definitions/MysqlErrorResponse"}},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/MysqlErrorResponse"}}},"summary":"创建数据库实例","tags":["实例管理"],"x-is-registered":"N","x-request-examples-1":{"availability_zone_mode":"single","backup_strategy":{"start_time":"08:00-09:00"},"charge_info":{"charge_mode":"postPaid"},"configuration_id":"43570e0de32e40c5a15f831aa5ce4176pr07","datastore":{"kernel_version":"2.0.28.18","type":"gaussdb-mysql","version":"8.0.22"},"enterprise_project_id":0,"flavor_ref":"gaussdb.mysql.xlarge.arm.4","mode":"Cluster","name":"gaussdb-mysql-instance1","password":"***","region":"br-iaas-odin1","security_group_id":"fc577a1a-f202-424a-977f-24faec3fdd55","slave_count":1,"subnet_id":"c1cfa53c-65d3-431e-8552-326bf310c7ad","vpc_id":"3cedfc54-b105-4652-a4e0-847b11576b58"},"x-request-examples-2":{"availability_zone_mode":"single","backup_strategy":{"start_time":"08:00-09:00"},"charge_info":{"charge_mode":"postPaid"},"configuration_id":"43570e0de32e40c5a15f831aa5ce4176pr07","datastore":{"kernel_version":"2.0.28.18","type":"gaussdb-mysql","version":"8.0.22"},"enterprise_project_id":0,"flavor_ref":"gaussdb.mysql.xlarge.arm.4","mode":"Cluster","name":"gaussdb-mysql-instance2","password":"***","region":"br-iaas-odin1","restore_point":{"backup_id":"7ffbf305376b4cbea0ae491257b6aaf9br07","source_instance_id":"7033e7c3cf93438797d44ad7ae0a7d95in07","type":"backup"},"security_group_id":"fc577a1a-f202-424a-977f-24faec3fdd55","slave_count":1,"subnet_id":"c1cfa53c-65d3-431e-8552-326bf310c7ad","vpc_id":"3cedfc54-b105-4652-a4e0-847b11576b58"},"x-request-examples-3":{"availability_zone_mode":"single","backup_strategy":{"start_time":"08:00-09:00"},"charge_info":{"charge_mode":"postPaid"},"configuration_id":"43570e0de32e40c5a15f831aa5ce4176pr07","datastore":{"kernel_version":"2.0.28.18","type":"gaussdb-mysql","version":"8.0.22"},"enterprise_project_id":0,"flavor_ref":"gaussdb.mysql.xlarge.arm.4","mode":"Cluster","name":"gaussdb-mysql-instance3","password":"***","region":"br-iaas-odin1","restore_point":{"restore_time":1673852043000,"source_instance_id":"7033e7c3cf93438797d44ad7ae0a7d95in07","type":"timestamp"},"security_group_id":"fc577a1a-f202-424a-977f-24faec3fdd55","slave_count":1,"subnet_id":"c1cfa53c-65d3-431e-8552-326bf310c7ad","vpc_id":"3cedfc54-b105-4652-a4e0-847b11576b58"},"x-request-examples-4":{"availability_zone_mode":"single","backup_strategy":{"start_time":"08:00-09:00"},"charge_info":{"charge_mode":"prePaid","is_auto_pay":true,"is_auto_renew":false,"period_num":1,"period_type":"month"},"configuration_id":"43570e0de32e40c5a15f831aa5ce4176pr07","datastore":{"kernel_version":"2.0.28.18","type":"gaussdb-mysql","version":"8.0.22"},"enterprise_project_id":0,"flavor_ref":"gaussdb.mysql.xlarge.arm.4","mode":"Cluster","name":"gaussdb-mysql-instance4","password":"***","region":"br-iaas-odin1","restore_point":{"restore_time":1673852043000,"source_instance_id":"7033e7c3cf93438797d44ad7ae0a7d95in07","type":"timestamp"},"security_group_id":"fc577a1a-f202-424a-977f-24faec3fdd55","slave_count":1,"subnet_id":"c1cfa53c-65d3-431e-8552-326bf310c7ad","volume":{"size":10},"vpc_id":"3cedfc54-b105-4652-a4e0-847b11576b58"},"x-request-examples-description-1":"创建计费模式为按需计费,自动备份开始时间是08:00-09:00的实例。","x-request-examples-description-2":"将备份文件恢复到按需计费的新实例。","x-request-examples-description-3":"按时间点恢复到按需计费的新实例。","x-request-examples-description-4":"创建周期为一个月的包年/包月实例。","x-request-examples-url-1":"POST https://{endpoint}/v3/054e292c9880d4992f02c0196d3ea468/instances","x-request-examples-url-2":"POST https://{endpoint}/v3/054e292c9880d4992f02c0196d3ea468/instances","x-request-examples-url-3":"POST https://{endpoint}/v3/054e292c9880d4992f02c0196d3ea468/instances","x-request-examples-url-4":"POST https://{endpoint}/v3/054e292c9880d4992f02c0196d3ea468/instances","x-support-sdk":"Y"}}},"product_short":"GaussDB","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建数据库实例","tags":"实例管理","uri":null,"version":"2.0"}