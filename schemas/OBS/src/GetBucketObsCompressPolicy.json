{"base_path":"/","components":null,"consumes":"[\"application/xml;charset=UTF-8\"]","definitions":{"Error":{"description":"错误响应消息体\n","properties":{"Code":{"description":"错误响应消息体XML中错误响应对应的HTTP消息返回码,具体的错误码请参见[错误码-表2](https://support.huaweicloud.com/api-obs/obs_04_0115.html#obs_04_0115__d0e843)。\n","type":"string"},"HostId":{"description":"返回该消息的服务端ID。\n","type":"string"},"Message":{"description":"错误响应消息体XML中具体错误更全面、详细的英文解释,具体的错误消息请参见[错误码-表2](https://support.huaweicloud.com/api-obs/obs_04_0115.html#obs_04_0115__d0e843)。\n","type":"string"},"RequestId":{"description":"本次错误请求的请求ID,用于错误定位。\n","type":"string"},"Resource":{"description":"该错误相关的桶或对象资源。\n","type":"string"}}},"GetBucketObsCompressPolicyResponseBody":{"properties":{"ObsCompressPolicyRules":{"$ref":"#/definitions/SetBucketObsCompressPolicyRequestBody"}}},"SetBucketObsCompressPolicyRequestBody":{"properties":{"rules":{"description":"策略规则数组。\n说明:\n请保证解压策略名称、解压路径、IAM委托名称长度之和不超过800。\n","items":{"properties":{"agency":{"description":"委托名。客户通过委托赋予OBS服务查询用户桶内指定对象是否存在以及向用户桶内上传对象的权限。\n","example":"testagency","type":"string"},"decompresspath":{"description":"文件解压后存放的路径,不为空时必须以“/”结尾。\n","example":"after-decompress/","maxLength":800,"minLength":0,"type":"string"},"events":{"description":"触发事件类型。\n\n支持:\n[\"ObjectCreated:*\"]\n[\"ObjectCreated:Put\"]\n[\"ObjectCreated:Post\"]\n[\"ObjectCreated:Copy\"]\n[\"ObjectCreated:CompleteMultipartUpload\"]\n","example":["ObjectCreated:*"],"items":{"type":"string"},"type":"array"},"id":{"description":"解压策略名称。当前桶上配置的解压规则的唯一标识。\n\n取值范围:[1, 256],满足“^[a-zA-Z0-9_-]{1, 256}$”,既长度为1~256个字符。只能由大写或小写的英文字母、数字、下划线(_)和连字符(-)组成。例如:event_0001。\n","example":"ruleid","maxLength":256,"minLength":1,"type":"string"},"overwrite":{"description":"解压后同名文件的处理方式。\n\n取值范围:0:不覆盖跳过,1:不覆盖,以文件的CRC32值重命名,2:覆盖。\n","enum":[0,1,2],"format":"int32","type":"integer"},"policytype":{"description":"文件解压策略类型。\n","enum":["decompress"],"type":"string"},"prefix":{"description":"匹配规则前缀。\n","example":"decompress","maxLength":1023,"minLength":0,"type":"string"},"project":{"description":"项目ID。\n","example":"your project id","type":"string"},"suffix":{"description":"匹配规则后缀。\n","enum":[".zip"],"type":"string"}},"required":["id","project","agency","events","suffix","overwrite","policytype"]},"maxItems":10,"minItems":1,"type":"array"}},"required":["rules"],"type":"object"}},"description":null,"group_id":"7d10a01d10854bd59cf6189eebfb9c7d","host":"obs.cn-north-4.myhuaweicloud.com","id":"4243bdcc1af94c3f92f5afde3a3d8754","info_version":"v1","method":"get","name":"GetBucketObsCompressPolicy","parameters":{},"paths":{"/":{"get":{"consumes":["application/json"],"description":"本接口用于查询指定桶的ZIP文件解压策略。若策略存在,则返回成功,status code返回值为200。\n","operationId":"GetBucketObsCompressPolicy","parameters":[{"description":"请求消息中可带的签名信息。\n","in":"header","name":"Authorization","required":true,"type":"string"},{"description":"请求发起端的日期和时间,例如:Wed, 27 Jun 2018 13:39:15 +0000。\n默认值:无。\n条件:如果消息头中带了x-obs-date字段,则可以不带该字段,其他情况下必选。\n","in":"header","name":"Date","required":false,"type":"string","x-apiexplorer-format":"date-gmt"},{"description":"请求的桶名称。\n","in":"query","maxLength":63,"minLength":3,"name":"bucket_name","required":true,"type":"string","x-location-cname":true},{"allowEmptyValue":true,"description":"obscompresspolicy表示请求桶在线解压策略API。\n","in":"query","maxLength":0,"minLength":0,"name":"obscompresspolicy","required":true,"type":"string"}],"produces":["application/json","application/xml"],"responses":{"200":{"description":"请求成功响应消息。\n","examples":{"application/json":"HTTP/1.1 200 OK\nServer: OBS\nDate: Tue, 07 Jul 2020 07:28:46 GMT\nContent-Type: application/json\nContent-Length: 497\n\n{\n  \"rules\": [{\n    \"id\": \"ruleid\",\n    \"project\": \"your project id\",\n    \"agency\": \"testagency\",\n    \"events\": [\"ObjectCreated:*\"],\n    \"prefix\": \"decompress\",\n    \"suffix\": \".zip\",\n    \"overwrite\": 0,\n    \"decompresspath\": \"after-decompress/\"\n  }]\n}\n"},"headers":{"Connection":{"description":"指明与服务器的连接是长连接还是短连接。\n","type":"string"},"Content-Length":{"description":"响应消息体的字节长度。\n","type":"string"},"Date":{"description":"OBS系统响应的时间。\n","type":"string"},"ETag":{"description":"对象的base64编码的128位MD5摘要。ETag是对象内容的唯一标识,可以通过该值识别对象内容是否有变化。比如上传对象时ETag为A,下载对象时ETag为B,则说明对象内容发生了变化。实际的ETag是对象的哈希值。ETag只反映变化的内容,而不是其元数据。上传的对象或拷贝操作创建的对象,通过MD5加密后都有唯一的ETag。如果通过多段上传对象,则无论加密方法如何,MD5会拆分ETag,此类情况ETag就不是MD5的摘要。\n","type":"string"},"x-obs-id-2":{"description":"帮助定位问题的特殊符号。\n","type":"string"},"x-obs-request-id":{"description":"由OBS创建来唯一确定本次请求的值,可以通过该值来定位问题。\n","type":"string"}},"schema":{"$ref":"#/definitions/GetBucketObsCompressPolicyResponseBody"}},"400":{"description":"请求失败响应消息。\n","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取桶在线解压策略","tags":["桶的高级配置"],"x-is-registered":"Y","x-request-examples-1":"GET /?obscompresspolicy HTTP/1.1   \nUser-Agent: curl/7.29.0   \nHost: examplebucket.obs.cn-north-4.myhuaweicloud.com\nAccept: */*   \nDate: Wed, 27 Jun 2018 13:25:44 GMT  \nAuthorization: OBS H4IPJX0TQTHTHEBQQCEC:H1INcyc5i0XlHqYTfuzkPxLZUPM=\n","x-request-examples-url-1":"/?obscompresspolicy","x-support-sdk":"N"}}},"product_short":"OBS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"获取桶在线解压策略","tags":"桶的高级配置","uri":null,"version":"2.0"}