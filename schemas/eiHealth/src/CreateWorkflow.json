{"base_path":null,"components":null,"consumes":"","definitions":{"TaskDto":{"properties":{"app_id":{"description":"应用id,取值范围[1,135],正则先不能有中文,两种格式。特殊id,采用{app_name}::{app_version}::{src_project_name}格式,用于手动创建场景;其他场景,app_id为系统分配的唯一标识","example":"baabcb56-5bb6-11eb-8a0d-fa163e3ddba1","maxLength":135,"minLength":1,"pattern":"^[^\\u4e00-\\u9fa5]+$","type":"string","x-pattern-message":"The app parameter format does not match."},"display_name":{"description":"流程的子任务展示名称,最大长度64","example":"步骤1","maxLength":64,"minLength":0,"type":"string"},"inputs":{"description":"任务的输入参数信息","items":{"$ref":"#/definitions/TaskParameterDto"},"maxItems":128,"minItems":0,"type":"array"},"location":{"$ref":"#/definitions/VertexLocationDto"},"output_dir":{"description":"子任务的输出存放路径,用户可显式指定;输出路径必须以斜杠(/)开头且不能以斜杠(/)结尾,不能包含两个以上相邻的斜杠(/),不能包含以下特殊字符:\\ : ; * ? < \" > | 。其中单个文件夹名称不能以中划线(-)开头,不能以英文句号(.)或斜杠(/)或空格开头或结尾","example":"/task","maxLength":128,"minLength":0,"type":"string"},"resources":{"$ref":"#/definitions/TaskResourceDto"},"task_name":{"description":"子任务实际名称,取值范围[1,32],只能以大小写字母开头,由大小写字母、数字、中划线(-)、下划线(_)组成,以大小写字符或数字结尾。","example":"app1-1","maxLength":32,"minLength":1,"pattern":"^[a-zA-Z](([-_]*[a-zA-Z0-9])|[a-zA-Z0-9])*$","type":"string","x-pattern-message":"The task parameter format does not match."}},"required":["app_id","task_name"],"title":"TaskDto"},"TaskParameterDto":{"properties":{"name":{"description":"子任务的参数名称,长度为[1,32],以小写字母开头,允许出现中划线(-)、小写字母和数字,且必须以小写字母或数字结尾。需要和已有应用的参数名称一致。","example":"dir-parameter","maxLength":32,"minLength":1,"pattern":"^[a-z]([-a-z0-9]*[a-z0-9])?$","type":"string","x-pattern-message":"The task parameter format does not match."},"source":{"description":"子任务的参数类型,不填默认为MANUAL","example":"MANUAL","pattern":"^$|^(MANUAL|DATABASE)$","type":"string","x-pattern-message":"The task parameter format does not match."},"values":{"description":"子任务的参数数值,根据参数类型进行合法性校验","example":["/test"],"items":{"maxLength":2048,"minLength":0,"type":"string"},"maxItems":128,"minItems":0,"type":"array"}},"required":["name"]},"TaskResourceDto":{"description":"应用申请资源","properties":{"cpu":{"description":"cpu申请使用量,取值范围[0.1-128],单位C,支持一位小数。对于应用,不填默认1C;对于流程和作业,不填默认使用前一级的配置,填值会覆盖更新。覆盖关系:作业->流程->应用","example":"1C","maxLength":24,"minLength":0,"type":"string"},"cpu_type":{"description":"cpu架构类型,不填默认X86","example":"X86","maxLength":24,"minLength":0,"pattern":"^$|^(X86|ARM)$","type":"string","x-pattern-message":"The cpu_type format does not match."},"gpu":{"description":"gpu申请使用量,取值范围[0-16],仅支持整数,D910有特殊约束,申请数量需要是0,1,2,4,8。对于应用,不填默认0;对于流程和作业,不填默认使用前一级的配置,填值会覆盖更新。覆盖关系:作业->流程->应用","example":"0","maxLength":24,"minLength":0,"type":"string"},"gpu_type":{"description":"gpu架构类型,取值范围 ' '|GPU|D910|D310。对于流程和作业,不填默认使用前一级的配置,填值会覆盖更新。覆盖关系:作业->流程->应用","example":"GPU","maxLength":24,"minLength":0,"pattern":"^$|^(GPU|D910|D310)$","type":"string","x-pattern-message":"The gpu_type format does not match."},"memory":{"description":"内存申请使用量,取值范围[0.1-3072],单位G,支持一位小数。对于应用,不填默认1G;对于流程和作业,不填默认使用前一级的配置,填值会覆盖更新。覆盖关系:作业->流程->应用","example":"1G","maxLength":24,"minLength":0,"type":"string"}}},"VertexLocationDto":{"properties":{"x":{"description":"子任务的画布横坐标","example":100.0,"format":"double","type":"number"},"y":{"description":"子任务的画布纵坐标","example":100.0,"format":"double","type":"number"}},"type":"object"},"WorkflowDto":{"description":"流程请求体","properties":{"description":{"description":"流程描述 取值范围[0,65535],后续支持markdown文本","example":"description","maxLength":65535,"minLength":0,"type":"string"},"labels":{"description":"流程标签,取值范围[0,5],单个标签最大长度32字符,支持中文、字母、数字、空格、下划线和中划线,且不能以空格开头或者结尾。","example":["labelA","labelB"],"items":{"maxLength":32,"minLength":1,"pattern":"^[\\u4e00-\\u9fa5A-Za-z0-9-_]+(\\s+[\\u4e00-\\u9fa5A-Za-z0-9-_]+)*$","type":"string","x-pattern-message":"The workflow parameter format does not match."},"maxItems":5,"minItems":0,"type":"array"},"name":{"description":"流程名称,取值范围[1,56],允许大小写字母、数字、以及特殊字符中划线(-)和下划线(_)。更新流程时,流程名称不支持修改。","example":"demo-workflow","maxLength":56,"minLength":1,"pattern":"^[a-z0-9A-Z-_]+$","type":"string","x-pattern-message":"The workflow parameter format does not match."},"output_dir":{"description":"流程的当前工作目录,默认为根目录,用户可显式指定;输出路径必须以斜杠(/)开头且不能以斜杠(/)结尾,不能包含两个以上相邻的斜杠(/),不能包含以下特殊字符:\\ : ; * ? < \" > | 。其中单个文件夹名称不能以中划线(-)开头,不能以英文句号(.)或斜杠(/)或空格开头或结尾","example":"/workflow","maxLength":128,"minLength":0,"type":"string"},"summary":{"description":"流程简述 取值范围[0,128]","example":"summary","maxLength":128,"minLength":0,"type":"string"},"tasks":{"description":"流程中子任务的描述信息,子任务数量取值范围:[1,64]","items":{"$ref":"#/definitions/TaskDto"},"maxItems":64,"minItems":0,"type":"array"},"timeout":{"description":"流程超时时间,取值范围[1,144000],单位分钟,默认1440","example":1440,"format":"int32","maximum":144000,"minimum":1,"type":"integer"},"version":{"description":"流程版本,取值范围[1,24],以小写字母或数字或大写字母开头,允许出现中划线,必须以小写字母或数字或大写字母结尾。更新流程时,流程版本不支持修改。","example":"1.0.0","maxLength":24,"minLength":1,"pattern":"^[a-zA-Z0-9]+([-.][a-zA-Z0-9]+)*$","type":"string","x-pattern-message":"The workflow parameter format does not match."}},"required":["name","version"],"title":"WorkflowDto"},"WorkflowIdRsp":{"properties":{"id":{"description":"流程id","example":"baabcb56-5bb6-11eb-8a0d-fa163e3ddba1","type":"string"}},"type":"object"}},"description":null,"group_id":"653f66965c834000ba210ce002075ec3","host":"eihealth.cn-north-4.myhuaweicloud.com","id":"7516c4c52a4e4f82b922c9a0cde3bc40","info_version":"v1","method":"post","name":"CreateWorkflow","parameters":{},"paths":{"/v1/{project_id}/eihealth-projects/{eihealth_project_id}/workflows":{"post":{"consumes":["application/json"],"deprecated":false,"description":"创建流程","operationId":"CreateWorkflow","parameters":[{"description":"用户Token。\nToken认证就是在调用API的时候将Token加到请求消息头,从而通过身份认证,获得操作API的权限,[获取Token](eihealth_33_0010.xml)接口响应消息头中X-Subject-Token的值即为Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"平台项目ID,您可以在平台单击所需的项目名称,进入项目设置页面查看。","in":"path","maxLength":128,"minLength":1,"name":"eihealth_project_id","pattern":"^[a-zA-Z0-9_-]*$","required":true,"type":"string","x-pattern-message":"eihealth_project_id is illegal"},{"description":"平台项目ID,您可以在平台单击所需的项目名称,进入项目设置页面查看。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"workflowDto","in":"body","name":"CreateWorkflowRequestBody","required":true,"schema":{"$ref":"#/definitions/WorkflowDto"}}],"produces":["application/json;charset=utf-8"],"responses":{"201":{"description":"CREATED","examples":{"application/json":{"id":"baabcb56-5bb6-11eb-8a0d-fa163e3ddba1"}},"schema":{"$ref":"#/definitions/WorkflowIdRsp"}}},"summary":"创建流程","tags":["流程管理"],"x-interface-name":"IWorkflowController","x-is-registered":"Y","x-request-examples-1":{"description":"description","labels":["labelA","labelB"],"name":"demo-workflow","output_dir":"/workflow","summary":"summary","tasks":[{"app_id":"baabcb56-5bb6-11eb-8a0d-fa163e3ddba1","display_name":"步骤1","inputs":[{"name":"dir-parameter","values":["/test"]}],"location":{"x":100,"y":100},"output_dir":"/task","resources":{"cpu":"1C","cpu_type":"X86","gpu":0,"gpu_type":"GPU","memory":"1G"},"task_name":"app1-1"}],"timeout":1440,"version":"1.0.0"},"x-request-examples-description-1":"创建流程,流程的名称为demo-workflow,版本为1.0.0。","x-request-examples-url-1":"https://{endpoint}/v1/{project_id}/eihealth-projects/{eihealth_project_id}/workflows","x-support-sdk":"Y"}}},"product_short":"eiHealth","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建流程","tags":"流程管理","uri":null,"version":"2.0"}