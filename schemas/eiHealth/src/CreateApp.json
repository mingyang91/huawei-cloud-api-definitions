{"base_path":null,"components":null,"consumes":"","definitions":{"AppIdRsp":{"description":"创建应用返回id对象","properties":{"id":{"description":"应用id","example":"baabcb56-5bb6-11eb-8a0d-fa163e3ddba1","type":"string"}},"type":"object"},"AppInputParameterDto":{"description":"应用输入参数","properties":{"concurrent":{"description":"参数是否开启并发。当前支持vars_iter并发类型,不填表示未开启并发。","example":"vars_iter","maxLength":16,"minLength":0,"pattern":"^$|^(vars_iter)$","type":"string","x-pattern-message":"The app parameter format does not match."},"description":{"description":"参数描述。取值范围:[0-255]","example":"parameter description","maxLength":255,"minLength":0,"type":"string"},"enum":{"description":"枚举参数的取值列表,列表最大长度20,每一项字符串最长128。参数类型为ENUM时需要填此字段","example":"null","items":{"maxLength":128,"minLength":0,"type":"string"},"maxItems":20,"minItems":0,"type":"array"},"name":{"description":"参数名称,单个应用内唯一。取值范围:长度为[1,32],以小写字母开头,允许出现中划线(-)、小写字母和数字,且必须以小写字母或数字结尾。","example":"dir-parameter-in","maxLength":32,"minLength":1,"pattern":"^[a-z]([-a-z0-9]*[a-z0-9])?$","type":"string","x-pattern-message":"The app parameter format does not match."},"pattern":{"description":"提示用户参数填写的格式,取值范围:[0-64]。对于STRING类型,匹配字符串内容,比如后缀约束.fastq;对于ENUM类型,可以提示一定要在param_enum列表范围内取值;对于FILE类型,约束文件后缀类型;对于DIRECTORY类型,提示目录下需要包含哪些文件;","example":"*.fastq","maxLength":64,"minLength":0,"type":"string"},"required":{"description":"参数是否必须","example":true,"type":"boolean"},"type":{"description":"参数类型。取值:[STRING,FILE,DIRECTORY,ENUM]","example":"DIRECTORY","pattern":"^(STRING|FILE|DIRECTORY|ENUM)$","type":"string","x-pattern-message":"The app parameter format does not match."},"values":{"description":"参数取值 如填写,只支持填一项,根据参数类型进行不同的校验","example":["/test"],"items":{"maxLength":2048,"minLength":0,"type":"string"},"maxItems":128,"minItems":0,"type":"array"}},"required":["name","required","type"]},"AppOutputParameterDto":{"description":"应用输出参数","properties":{"description":{"description":"参数描述。取值范围:[0-255]","example":"parameter description","maxLength":255,"minLength":0,"type":"string"},"enum":{"description":"枚举参数的取值列表,列表最大长度20,每一项字符串最长128。参数类型为ENUM时需要填此字段","example":"null","items":{"maxLength":128,"minLength":0,"type":"string"},"maxItems":20,"minItems":0,"type":"array"},"name":{"description":"参数名称,单个应用内唯一。取值范围:长度为[1,32],以小写字母开头,允许出现中划线(-)、小写字母和数字,且必须以小写字母或数字结尾。","example":"dir-parameter-out","maxLength":32,"minLength":1,"pattern":"^[a-z]([-a-z0-9]*[a-z0-9])?$","type":"string","x-pattern-message":"The app parameter format does not match."},"pattern":{"description":"提示用户参数填写的格式,取值范围:[0-64]。对于STRING类型,匹配字符串内容,比如后缀约束.fastq;对于ENUM类型,可以提示一定要在param_enum列表范围内取值;对于FILE类型,约束文件后缀类型;对于DIRECTORY类型,提示目录下需要包含哪些文件;","example":"*.fastq","maxLength":64,"minLength":0,"type":"string"},"required":{"description":"参数是否必须","example":true,"type":"boolean"},"type":{"description":"参数类型。取值:[STRING,FILE,DIRECTORY,ENUM]","example":"DIRECTORY","pattern":"^(STRING|FILE|DIRECTORY|ENUM)$","type":"string","x-pattern-message":"The app parameter format does not match."},"values":{"description":"参数取值 如填写,只支持填一项,根据参数类型进行不同的校验","example":["/test"],"items":{"maxLength":2048,"minLength":0,"type":"string"},"maxItems":128,"minItems":0,"type":"array"}},"required":["name","required","type"]},"AppReq":{"description":"应用请求体","properties":{"commands":{"description":"docker启动时执行命令 取值范围[1-300],单个命令长度取值范围[0-256],不能包含中文字符","example":["echo eihealth;"],"items":{"maxLength":256,"minLength":0,"pattern":"^$|^[^\\u4e00-\\u9fa5]*$","type":"string"},"maxItems":300,"minItems":1,"type":"array"},"description":{"description":"应用描述 取值范围[0,65535],后续支持markdown文本","example":"description","maxLength":65535,"minLength":0,"type":"string"},"icon":{"description":"图标base64编码","example":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU2LjMgKDgxNzE2KSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT50YWJsZS1zdWNjZXNzPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9Iumhtemdoi0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iSWNvbiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI0LjAwMDAwMCwgLTE5Ny4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IuaIkOWKnyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQuMDAwMDAwLCAxOTcuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOCwwIEMzLjU4MiwwIDAsMy41ODIgMCw4IEMwLDEyLjQxOCAzLjU4MiwxNiA4LDE2IEMxMi40MTgsMTYgMTYsMTIuNDE4IDE2LDggQzE2LDMuNTgyIDEyLjQxOCwwIDgsMCBaIiBpZD0i5b2i54q2IiBmaWxsPSIjNjNBQzZEIiBmaWxsLXJ1bGU9Im5vbnplcm8iPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSLot6/lvoQiIGZpbGw9IiNGRkZGRkYiIHBvaW50cz0iNi45MDcgMTIuMDcxIDMuMDcxIDguMjM2IDQuNDg1IDYuODIyIDYuOTA2IDkuMjQzIDExLjUxNCA0LjYzNiAxMi45MjggNi4wNSI+PC9wb2x5Z29uPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=","maxLength":20000,"minLength":0,"pattern":"^$|^(data:image/svg\\+xml;base64,)[A-Za-z0-9+/=]*$","type":"string","x-pattern-message":"The app parameter format does not match."},"image":{"description":"docker镜像地址 取值范围[5-255],不能包含中文字符","example":"gwj-test-01/busybox:latest","maxLength":255,"minLength":5,"pattern":"^[^\\u4e00-\\u9fa5]+/[^\\u4e00-\\u9fa5]+:[^\\u4e00-\\u9fa5]+$","type":"string","x-pattern-message":"The app parameter format does not match."},"inputs":{"description":"应用的输入参数列表","items":{"$ref":"#/definitions/AppInputParameterDto"},"maxItems":128,"minItems":0,"type":"array"},"labels":{"description":"应用标签 取值范围[0,5],单个标签最大长度32字符,支持中文、字母、数字、空格、下划线和中划线,且不能以空格开头或者结尾。","example":["labelA","labelB"],"items":{"maxLength":32,"minLength":1,"pattern":"^[\\u4e00-\\u9fa5A-Za-z0-9-_]+(\\s+[\\u4e00-\\u9fa5A-Za-z0-9-_]+)*$","type":"string","x-pattern-message":"The app parameter format does not match."},"maxItems":5,"minItems":0,"type":"array"},"name":{"description":"应用名称 目标应用名称 取值范围:长度为[1,56],以大小写字母开头,允许出现中划线(-)、下划线(_)、小写字母和数字,且必须以大小写字母或数字结尾。","example":"demo-app-{@UniqueIndex}","maxLength":56,"minLength":1,"type":"string","x-annotations":["@Pattern(regexp = \"^[a-zA-Z]+([-_]*[a-zA-Z0-9]+)*$\", message = \"The app parameter format does not match.\", groups = {GroupE.class})"],"x-ut-example-only":"demo-app-{@UniqueIndex}","x-ut-exclude-equivalence":["NOT_UNIQUE"]},"node_labels":{"description":"节点标签 取值范围[0,1],单个标签最大长度63字符","example":["health.node"],"items":{"maxLength":63,"minLength":1,"pattern":"^(health\\.)([\\.A-Za-z0-9_-]*[A-Za-z0-9])$","type":"string","x-pattern-message":"The computing resource nodeLabel should start with 'health.' and end with letters or digit, can only contain '.','-','_' ."},"maxItems":1,"minItems":0,"type":"array","x-ut-exclude-equivalence":["UPPER_BOUND"]},"outputs":{"description":"应用的输出参数列表","items":{"$ref":"#/definitions/AppOutputParameterDto"},"maxItems":128,"minItems":0,"type":"array"},"resources":{"$ref":"#/definitions/ResourceDto"},"summary":{"description":"应用简述 取值范围[0,128]","example":"summary","maxLength":128,"minLength":0,"type":"string"},"version":{"description":"应用版本 取值范围:[1,24],以小写字母或数字或大写字母开头,允许出现中划线,必须以小写字母或数字或大写字母结尾。更新应用时,应用版本不支持修改。","example":"1.0.{@UniqueIndex}","maxLength":24,"minLength":1,"pattern":"^[a-zA-Z0-9]+([-.][a-zA-Z0-9]+)*$","type":"string","x-pattern-message":"The app parameter format does not match.","x-ut-example-only":"1.0.{@UniqueIndex}","x-ut-exclude-equivalence":["NOT_UNIQUE"]}},"required":["commands","image","name","version"],"title":"AppReq"},"ResourceDto":{"description":"应用申请资源","properties":{"cpu":{"description":"cpu申请使用量,取值范围[0.1-128],单位C,支持一位小数。对于应用,不填默认1C;对于流程和作业,不填默认使用前一级的配置,填值会覆盖更新。覆盖关系:作业->流程->应用","example":"1C","maxLength":24,"minLength":0,"type":"string","x-ut-example-only":"1C"},"cpu_type":{"description":"cpu架构类型,不填默认X86","example":"X86","maxLength":24,"minLength":0,"pattern":"^$|^(X86|ARM)$","type":"string","x-pattern-message":"The cpu_type format does not match."},"gpu":{"description":"gpu申请使用量,取值范围[0-16],仅支持整数,D910有特殊约束,申请数量需要是0,1,2,4,8。对于应用,不填默认0;对于流程和作业,不填默认使用前一级的配置,填值会覆盖更新。覆盖关系:作业->流程->应用","example":"0","maxLength":24,"minLength":0,"type":"string","x-ut-example-only":"0"},"gpu_type":{"description":"gpu架构类型,取值范围 ' '|GPU|D910|D310。对于流程和作业,不填默认使用前一级的配置,填值会覆盖更新。覆盖关系:作业->流程->应用","example":"GPU","maxLength":24,"minLength":0,"pattern":"^$|^(GPU|D910|D310)$","type":"string","x-pattern-message":"The gpu_type format does not match."},"memory":{"description":"内存申请使用量,取值范围[0.1-3072],单位G,支持一位小数。对于应用,不填默认1G;对于流程和作业,不填默认使用前一级的配置,填值会覆盖更新。覆盖关系:作业->流程->应用","example":"1G","maxLength":24,"minLength":0,"type":"string","x-ut-example-only":"1G"}},"type":"object"}},"description":null,"group_id":"653f66965c834000ba210ce002075ec3","host":"ai4sservice.cn-north-4.myhuaweicloud.com","id":"ae3d918f49884b22b60ae2c7b0b563ef","info_version":"v1","method":"post","name":"CreateApp","parameters":{},"paths":{"/v1/{project_id}/eihealth-projects/{eihealth_project_id}/apps":{"post":{"consumes":["application/json"],"description":"创建应用","operationId":"CreateApp","parameters":[{"description":"用户Token。\nToken认证就是在调用API的时候将Token加到请求消息头,从而通过身份认证,获得操作API的权限,[获取Token](eihealth_33_0010.xml)接口响应消息头中X-Subject-Token的值即为Token。","in":"header","maxLength":32768,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string"},{"description":"appDto","in":"body","name":"CreateAppRequestBody","required":true,"schema":{"$ref":"#/definitions/AppReq"}},{"description":"平台项目ID,您可以在平台单击所需的项目名称,进入项目设置页面查看。","in":"path","maxLength":128,"minLength":1,"name":"eihealth_project_id","pattern":"^[a-zA-Z0-9_-]*$","required":true,"type":"string","x-pattern-message":"eihealth_project_id is illegal"},{"description":"平台项目ID,您可以在平台单击所需的项目名称,进入项目设置页面查看。","in":"path","maxLength":128,"minLength":1,"name":"project_id","pattern":"^[a-zA-Z0-9_-]*$","required":true,"type":"string"}],"produces":["application/json;charset=utf-8"],"responses":{"201":{"description":"CREATED","examples":{"application/json":{"id":"baabcb56-5bb6-11eb-8a0d-fa163e3ddba1"}},"schema":{"$ref":"#/definitions/AppIdRsp"}}},"summary":"创建应用","tags":["应用管理"],"x-interface-name":"IAppController","x-is-registered":"Y","x-request-examples-1":{"commands":["echo eihealth;"],"description":"description","icon":"data:image/png;base64,xxxxx","image":"gwj-test-01/busybox:latest","inputs":[{"concurrent":"vars_iter","description":"parameter description","name":"dir-parameter","pattern":"*.fastq","required":true,"type":"DIRECTORY","values":["/test"]}],"labels":["labelA","labelB"],"name":"demo-app","node_labels":["health.node"],"outputs":[{"description":"parameter description","name":"dir-parameter","pattern":"*.fastq","required":true,"type":"DIRECTORY","values":["/test"]}],"resources":{"cpu":"1C","cpu_type":"X86","gpu":0,"gpu_type":"GPU","memory":"1G"},"summary":"summary","version":"1.0.0"},"x-request-examples-description-1":"创建应用,应用名称为demo-app,版本为1.0.0","x-request-examples-url-1":"https://{endpoint}/v1/{project_id}/eihealth-projects/{eihealth_project_id}/apps","x-support-sdk":"Y"}}},"product_short":"eiHealth","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建应用","tags":"应用管理","uri":null,"version":"2.0"}