{"base_path":null,"components":null,"consumes":"","definitions":{"BindSiteDto":{"description":"结合位点","properties":{"add_hydrogen":{"default":false,"description":"增加氢原子","type":"boolean"},"bounding_box":{"$ref":"#/definitions/BoundingBoxDto"},"name":{"description":"靶点名称,只能设置为target1或者target2。","example":"target1","maxLength":128,"minLength":1,"pattern":"^[a-zA-Z0-9_-]*$","type":"string","x-pattern-message":"bind site name is invalid","x-ut-exclude-equivalence":["LOWER_BOUND","NULL","UPPER_BOUND"]},"receptor":{"$ref":"#/definitions/ReceptorDrugFile","description":"受体文件"},"remove_ion":{"default":true,"description":"去除受体中的离子","type":"boolean"},"remove_ligand":{"default":true,"description":"去除受体中的配体分子","type":"boolean"},"remove_water":{"default":true,"description":"去除受体中的水分子","type":"boolean"}},"required":["receptor"],"type":"object"},"BoundingBoxDto":{"description":"结合口袋,包含口袋中心位置和尺寸大小","properties":{"center":{"description":"口袋中心坐标; x, y, z轴的坐标","example":[1.3,23.4,-14.5],"items":{"format":"float","maximum":99999999,"minimum":-9999999,"type":"number"},"maxItems":3,"minItems":3,"type":"array"},"padding":{"description":"填充","format":"float","maximum":20,"minimum":0,"type":"number"},"size":{"description":"口袋尺寸大小;  x, y, z轴的大小","example":[10.0,10.0,10.0],"items":{"format":"float","maximum":500,"minimum":2,"type":"number"},"maxItems":3,"minItems":3,"type":"array"}},"required":["center","size"],"type":"object"},"CreateDrugJobBasicInfo":{"description":"创建药物作业基本信息","properties":{"labels":{"description":"标签,取值范围[0,5],单个标签最大长度32字符,支持中文、字母、数字、空格、下划线和中划线,且不能以空格开头或者结尾。","example":["labelA","labelB"],"items":{"maxLength":32,"minLength":1,"pattern":"^[\\u4e00-\\u9fa5A-Za-z0-9-_]+(\\s+[\\u4e00-\\u9fa5A-z0-9-_]+)*$","type":"string","x-pattern-message":"The label name format does not match"},"maxItems":5,"minItems":0,"type":"array"},"name":{"description":"作业的名称,取值范围:[5,64],允许大小写字母、数字、空格、下划线(_)和中划线(-),只能以数字或字母开头","example":"demo-job","maxLength":64,"minLength":5,"pattern":"^[a-z0-9A-Z]+[a-z0-9A-Z-_\\s]+$","type":"string","x-pattern-message":"The name format does not match."}},"required":["name"],"type":"object"},"CreateGenJobReq":{"description":"创建分子生成请求体","properties":{"base_model_id":{"default":"pangu-drug-model","description":"基模型id","example":"pangu-drug-model","maxLength":128,"minLength":0,"type":"string","x-ut-exclude-equivalence":["UPPER_BOUND","LOWER_BOUND"]},"basic_info":{"$ref":"#/definitions/CreateDrugJobBasicInfo","description":"作业基本信息"},"binding_sites":{"description":"靶点列表","items":{"$ref":"#/definitions/BindSiteDto"},"maxItems":2,"minItems":0,"type":"array","x-ut-exclude-equivalence":["UPPER_BOUND","LOWER_BOUND"]},"model_ids":{"description":"模型id列表","example":["800c744f-0705-448e-bb90-d69b9d243152"],"items":{"maxLength":128,"minLength":1,"type":"string"},"maxItems":10,"minItems":0,"type":"array","x-ut-exclude-equivalence":["NULL","LOWER_BOUND"]},"molecule_file":{"$ref":"#/definitions/DrugFile","description":"分子文件,分子表达式列表和分子文件二选一,分子文件优先级最高"},"num_trials":{"default":5000,"description":"生成分子数量","example":500,"format":"int32","maximum":5000,"minimum":0,"type":"integer"},"smiles_list":{"description":"分子表达式列表","example":["CNC(=O)C(=O)OCCc1c[nH]c2ccc(OC)cc12000","CNC(=O)C(=O)OCCc1c[nH]c2ccc(OC)cc12001","CNC(=O)C(=O)OCCc1c[nH]c2ccc(OC)cc12002","CNC(=O)C(=O)OCCc1c[nH]c2ccc(OC)cc12003","CNC(=O)C(=O)OCCc1c[nH]c2ccc(OC)cc12004","CNC(=O)C(=O)OCCc1c[nH]c2ccc(OC)cc12005","CNC(=O)C(=O)OCCc1c[nH]c2ccc(OC)cc12006","CNC(=O)C(=O)OCCc1c[nH]c2ccc(OC)cc12007","CNC(=O)C(=O)OCCc1c[nH]c2ccc(OC)cc12008","CNC(=O)C(=O)OCCc1c[nH]c2ccc(OC)cc12009"],"items":{"maxLength":512,"minLength":1,"pattern":"^[ ]*[^\\u4e00-\\u9fa5\\s\\n]+[ ]*$","type":"string"},"maxItems":10000,"minItems":10,"type":"array","x-pattern-message":"Item of smile_list should not contain spaces, Chinese, or line break."},"strong_constraints":{"description":"强约束集合","items":{"$ref":"#/definitions/StrongConstraintDto"},"maxItems":5,"minItems":0,"type":"array"},"weak_constraints":{"description":"弱约束集合","items":{"$ref":"#/definitions/WeakConstraintDto"},"maxItems":10,"minItems":0,"type":"array"}},"required":["basic_info"]},"DrugFile":{"properties":{"data":{"description":"文件原始数据,仅数据源为RAW时提供","example":"raw_data","maxLength":10000000,"minLength":0,"type":"string"},"format":{"description":"文件格式,支持PDB、SDF、MOL2、SMI,仅数据源为RAW时提供","example":"PDB","maxLength":6,"minLength":1,"pattern":"^(PDB|SDF|MOL2|SMI)$","type":"string"},"source":{"$ref":"#/definitions/DrugFileSource","example":"RAW"},"url":{"description":"文件URL,当数据源为外部网络数据时为https地址;用户私有数据中心为项目路径、公共数据场景为obs地址","example":"https://files.rcsb.org/download/1TQN.pdb","maxLength":2000,"minLength":1,"pattern":".*\\.(pdb|mol2|sdf|smi)$","type":"string","x-ut-exclude-equivalence":["NULL"]}},"required":["source"],"type":"object"},"DrugFileSource":{"description":"受体的数据源:外部网络数据(如RCSB在线数据库)、用户私有数据中心、承载租户公共数据(含样例/公共库)","enum":["EXTRANET","PRIVATE","PUBLIC","RAW"],"type":"string"},"DrugJobIdRsp":{"properties":{"id":{"description":"作业id","example":"baabcb56-5bb6-11eb-8a0d-fa163e3ddba1","type":"string"},"limit_concurrency":{"description":"限制的并发量","example":50,"format":"int32","type":"integer"}},"type":"object"},"Interaction":{"description":"分子与蛋白间的相互作用力","properties":{"amino_acid":{"description":"氨基酸","example":"A:LEU:45","maxLength":16,"minLength":4,"type":"string"},"binding_site":{"description":"靶点,只支持target1或target2。","example":"target1","maxLength":128,"minLength":1,"pattern":"^[a-zA-Z0-9_-]*$","type":"string","x-pattern-message":"bind site name is invalid"},"type":{"$ref":"#/definitions/InteractionType"}},"required":["binding_site","type","amino_acid"],"type":"object"},"InteractionConstraintDto":{"description":"相互作用力约束参数","properties":{"exclusive":{"description":"是否排除指定的约束作用力","type":"boolean"},"interactions":{"description":"相互作用力列表","items":{"$ref":"#/definitions/Interaction"},"maxItems":8,"minItems":1,"type":"array"},"operator":{"$ref":"#/definitions/OperatorType","default":"or","description":"多个作用力之间的逻辑关系","type":"string"}},"required":["interactions","exclusive"],"type":"object"},"InteractionType":{"description":"相互作用力类型:氢键、疏水作用、盐桥、π-π堆积、π-阳离子","enum":["hydrogen_bond","hydrophobic_action","salt_bridge","pi_stacking","pi_cation"],"type":"string"},"OperatorType":{"enum":["or","and"],"type":"string"},"ReceptorDrugFile":{"properties":{"data":{"description":"文件原始数据,仅数据源为RAW时提供","example":"raw_data","maxLength":10000000,"minLength":0,"type":"string","x-ut-exclude-equivalence":["NULL"]},"format":{"description":"文件格式,仅支持PDB,仅数据源为RAW时提供","example":"PDB","maxLength":6,"minLength":1,"pattern":"^(PDB)$","type":"string"},"source":{"$ref":"#/definitions/DrugFileSource","example":"RAW"},"url":{"description":"文件URL,当数据源为外部网络数据时为https地址;用户私有数据中心为项目路径、公共数据场景为obs地址","example":"https://files.rcsb.org/download/1TQN.pdb","maxLength":2000,"minLength":1,"pattern":".*\\.(pdb)$","type":"string"}},"required":["source"],"type":"object"},"StrongConstraintDto":{"description":"分子约束","properties":{"bool":{"description":"属性约束类型bool的参数","type":"boolean"},"id":{"description":"自定义模型id,仅强约束为模型时填写","example":"800c744f-0705-448e-bb90-d69b9d243152","maxLength":128,"minLength":1,"type":"string"},"interaction":{"$ref":"#/definitions/InteractionConstraintDto"},"name":{"description":"属性名称","example":"mw","maxLength":128,"minLength":1,"type":"string"},"range":{"description":"属性约束类型range的参数","example":[0.1,0.8],"items":{"format":"float","maximum":9999,"minimum":-9999,"type":"number"},"maxItems":2,"minItems":2,"type":"array"},"struct":{"$ref":"#/definitions/StructureConstraintParamsDto"},"type":{"$ref":"#/definitions/StrongConstraintType","description":"属性约束类型","type":"string"}},"required":["type"],"type":"object"},"StrongConstraintType":{"enum":["bool","range","struct","interaction"],"type":"string"},"StructureConstraintParamsDto":{"description":"结构约束参数","properties":{"exclusive":{"description":"是否排除子结构","type":"boolean"},"operator":{"$ref":"#/definitions/OperatorType","default":"or","description":"多个子结构之间的逻辑关系","type":"string"},"structs":{"description":"子结构SMILES","items":{"maxLength":120,"minLength":1,"type":"string"},"maxItems":8,"minItems":1,"type":"array"}},"required":["structs","exclusive"],"type":"object"},"WeakConstraintDto":{"description":"分子约束","properties":{"bool":{"description":"属性约束类型bool的参数","type":"boolean"},"id":{"description":"自定义模型id,仅弱约束为模型时填写","example":"800c744f-0705-448e-bb90-d69b9d243152","maxLength":128,"minLength":1,"type":"string"},"interaction":{"$ref":"#/definitions/InteractionConstraintDto"},"name":{"description":"属性名称","example":"mw","maxLength":128,"minLength":1,"type":"string"},"quantiles":{"description":"属性约束类型minimize和maximize的参数","example":[0.1,0.8],"items":{"format":"float","maximum":1.0,"minimum":0.0,"type":"number"},"maxItems":2,"minItems":2,"type":"array"},"range":{"description":"属性约束类型range的参数","example":[0.1,0.8],"items":{"format":"float","maximum":9999,"minimum":-9999,"type":"number"},"maxItems":2,"minItems":2,"type":"array"},"struct":{"$ref":"#/definitions/StructureConstraintParamsDto"},"type":{"$ref":"#/definitions/WeakConstraintType","description":"属性约束类型","example":"range","type":"string"}},"required":["type"],"type":"object"},"WeakConstraintType":{"enum":["bool","range","struct","minimize","maximize","interaction"],"type":"string"}},"description":null,"group_id":"653f66965c834000ba210ce002075ec3","host":"eihealth.cn-north-4.myhuaweicloud.com","id":"3b0cdb1906fb472385ea2b014f6585f9","info_version":"v1","method":"post","name":"CreateGenJob","parameters":{},"paths":{"/v1/{project_id}/eihealth-projects/{eihealth_project_id}/drug-jobs/generation":{"post":{"consumes":["application/json"],"deprecated":false,"description":"创建分子生成作业","operationId":"CreateGenJob","parameters":[{"description":"用户Token。\nToken认证就是在调用API的时候将Token加到请求消息头,从而通过身份认证,获得操作API的权限,[获取Token](eihealth_33_0010.xml)接口响应消息头中X-Subject-Token的值即为Token。","in":"header","maxLength":32768,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string"},{"description":"项目ID,您可以从[获取项目ID](eihealth_33_0044.xml)中获取。","in":"path","maxLength":128,"minLength":1,"name":"project_id","pattern":"^[a-zA-Z0-9_-]*$","required":true,"type":"string","x-pattern-message":"project_id is invalid"},{"description":"平台项目ID。","in":"path","maxLength":128,"minLength":1,"name":"eihealth_project_id","pattern":"^[a-zA-Z0-9_-]*$","required":true,"type":"string","x-pattern-message":"eihealth_project_id is invalid"},{"description":"CreateGenJobRequestBody","in":"body","name":"CreateGenJobRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateGenJobReq"}}],"produces":["application/json;charset=utf-8"],"responses":{"201":{"description":"CREATED","schema":{"$ref":"#/definitions/DrugJobIdRsp"},"x-response-examples-1":{"application/json":{"id":"baabcb56-5bb6-11eb-8a0d-fa163e3ddba1"}},"x-response-examples-2":{"application/json":{"id":"baabcb56-5bb6-11eb-8a0d-fa163e3ddba1","limit_concurrency":50}},"x-response-examples-description-1":"创建分子生成作业成功","x-response-examples-description-2":"创建分子生成作业成功,当前运行作业数已达配额限制,此作业会等待"}},"summary":"创建分子生成作业","tags":["分子生成作业管理"],"x-interface-name":"IGenJobController","x-is-registered":"Y","x-request-examples-1":{"basic_info":{"labels":["labelA"],"name":"demo-job"},"binding_sites":[{"bounding_box":{"center":[0,0,0],"size":[500,500,500]},"name":"binding_name","receptor":{"source":"PRIVATE","url":"project:/test.pdb"},"remove_ion":false,"remove_ligand":false,"remove_water":false}],"molecule_file":{"source":"PRIVATE","url":"project:/dir/file"},"num_trials":500,"strong_constraints":[{"name":"cs2","range":[0,1],"type":"range"}],"weak_constraints":[{"bool":true,"name":"cs1","type":"bool"}]},"x-request-examples-description-1":"创建分子生成作业,输入方式为分子表达式,作业名称为demo-job,分子文件为project:/dir/file,靶点设置的受体文件为project:/test.pdb,口袋中心位置为[0,0,0],口袋尺寸大小为[500,500,500],设置强约束为cs1类型为布尔值,值为true,设置弱约束为cs2,类型为range,值为[0,1]","x-request-examples-url-1":"https://{endpoint}/v1/{project_id}/eihealth-projects/{eihealth_project_id}/drug-jobs/generation","x-support-sdk":"Y","x-ut-partial":true}}},"product_short":"eiHealth","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建分子生成作业","tags":"分子生成作业管理","uri":null,"version":"2.0"}