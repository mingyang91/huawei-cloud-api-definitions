{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"AllowedAddressPair":{"description":"IP/Mac对象","properties":{"ip_address":{"description":"- 功能说明:IP地址\n- 约束:\n    IP地址不支持“0.0.0.0/0”\n    如果allowed_address_pairs配置地址池较大的CIDR(掩码小于24位),建议为该port配置一个单独的安全组。\n    如果allowed_address_pairs的IP地址为“1.1.1.1/0”,表示关闭源目地址检查开关。","type":"string"},"mac_address":{"description":"MAC地址","type":"string"}},"required":["ip_address"]},"BandwidthConfig":{"description":"带宽配置","properties":{"sharetype":{"description":"带宽类型,现支持WHOLE类型,即共享带宽,其他类型不支持。","enum":["WHOLE"],"example":"WHOLE","type":"string"},"size":{"description":"带宽(Mbit/s)。","format":"int32","type":"integer"}},"required":["sharetype"]},"BandwidthConfigInstance":{"allOf":[{"$ref":"#/definitions/BandwidthConfig"},{"properties":{"bandwidth_types":{"items":{"description":"带宽类型。\n指定带宽ID,则该参数不生效。\n不指定带宽的情况下,如果当前带宽类型下没有带宽,自动在该带宽类型下创建带宽,有则使用最近创建的带宽。","example":"CT_cn_north_shijiazhuang","type":"string"},"type":"array"},"ids":{"items":{"description":"指定带宽创建虚拟机,\n指定此参数时,demand中的pool_id和pool_ids不生效。\n约束: ids必须小于等于网卡数量","pattern":"^[a-z0-9]{8}(-[a-z0-9]{4}){3}-[a-z0-9]{12}$","type":"string"},"type":"array"}}}],"description":"带宽配置"},"CoverageInstance":{"description":"覆盖策略对象","properties":{"coverage_level":{"description":"区域分布层级,只支持site。\n- site:站点级别。\n\n约束:\ncoverage_sites中'site'字段仅支持使用ID(站点ID,通过“查询边缘站点列表”获取),不支持name。","example":"site","type":"string"},"coverage_policy":{"description":"区域调度策略,只支持centralize。\n\n- centralize:代表城市集中策略,指定该策略,边缘业务创建时会保证将所有实例都发放在同一个站点。","example":"centralize","type":"string"},"coverage_sites":{"description":"区域及购买数量列表。","items":{"$ref":"#/definitions/CoverageSiteInstance","description":"","maxItems":1,"minItems":1},"type":"array"}},"required":["coverage_level","coverage_policy","coverage_sites"]},"CoverageSiteInstance":{"description":"站点覆盖策略","properties":{"demands":{"description":"租户需求数量列表。表示租户发放资源站点的运营商和发放的资源组的数量。","items":{"$ref":"#/definitions/DemandInstance","description":""},"maxItems":1,"minItems":1,"type":"array"},"site":{"description":"站点ID。\n具体信息可通过调用“查询边缘站点列表”来查询。","pattern":"^[a-z0-9]{8}(-[a-z0-9]{4}){3}-[a-z0-9]{12}$","type":"string"}},"required":["demands","site"]},"CreateInstanceOption":{"description":"创建边缘实例请求参数","properties":{"admin_pass":{"description":"如果需要使用密码方式登录边缘实例,可使用adminPass字段指定边缘实例管理员帐户初始登录密码。其中,Linux管理员帐户为root,Windows管理员帐户为Administrator。\n密码复杂度要求:\n1. 长度为8-26位。\n2. 密码至少必须包含大写字母、小写字母、数字和特殊字符(!@$%^-_=+[{}]:,./?)中的三种。\n3. 密码不能包含用户名或用户名的逆序。\n4. Windows系统密码不能包含用户名或用户名的逆序,不能包含用户名中超过两个连续字符的部分。\n说明\n目前边缘实例不支持创建后设置密码,不设置此参数会导致实例创建后无法登录。","type":"string"},"bandwidth":{"$ref":"#/definitions/BandwidthConfigInstance","description":"实例的带宽参数。IEC服务现在提供共享带宽服务,暂不不支持其他类型带宽。"},"count":{"description":"边缘实例数量。","format":"int32","maximum":50,"minimum":1,"type":"integer"},"coverage":{"$ref":"#/definitions/CoverageInstance","description":"边缘业务覆盖策略。"},"data_volumes":{"description":"边缘实例对应数据盘相关配置。每一个数据结构代表一块待创建的数据盘。\n约束:目前边缘实例最多可挂载2块数据盘","items":{"$ref":"#/definitions/DataVolume","description":""},"type":"array"},"flavor_ref":{"description":"边缘实例的系统规格的ID。\n已上线的规格请使用接口 “查询边缘实例规格列表“ 进行查询。","type":"string"},"image_ref":{"description":"边缘实例的系统镜像,需要指定已创建镜像的ID,ID格式为通用唯一识别码(Universally Unique Identifier,简称UUID)。\n镜像的ID可以从控制台或者参考本文档的“查询边镜像列表”的章节获取。","example":"d0272146-f6d8-4e3c-a1dc-196ec4a2f848","type":"string"},"key_name":{"description":"密钥对名称。","example":"test-pk1","type":"string"},"name":{"description":"边缘资源名称,与边缘实例一一对应。\n取值范围:只能由中文字符、大小写英文字母、数字及中划线、下划线组成,且长度为[1-48]个字符。","example":"ecs01","type":"string"},"net_config":{"$ref":"#/definitions/NetConfigInstance","description":"实例的边缘网络配置。包含了边缘网络的网段信息和子网数目信息。"},"root_volume":{"$ref":"#/definitions/RootVolume","description":"边缘实例对应系统盘相关配置。"},"security_groups":{"description":"边缘业务对应安全组信息。","items":{"$ref":"#/definitions/SecurityGroupOption","description":""},"type":"array"},"user_data":{"description":"创建边缘实例过程中注入用户数据。支持注入文本、文本文件或gzip文件。\n更多关于待注入用户数据的信息,请参见《弹性云服务器用户指南 》的“[用户数据注入](https://support.huaweicloud.com/usermanual-ecs/zh-cn_topic_0032380449.html)”章节。","example":"IyEvYmluL2Jhc2gKZWNobyAnc...","type":"string"},"with_prefix":{"default":true,"description":"是否自动添加前缀。\n- with_prefix为false时不拼接IEC前缀\n- with_prefix不传或者传true时拼自动IEC前缀\n\n以name为iec为例:\n不添加前缀时实例名称为:iec\n自动添加前缀实例名称为:IEC-ZS01-iec","type":"boolean","x-admin":"False","x-internal":"False"}},"required":["count","coverage","flavor_ref","image_ref","name","net_config","root_volume"]},"CreateInstanceRequestBody":{"description":"创建边缘实例请求对象","properties":{"server":{"$ref":"#/definitions/CreateInstanceOption","description":"待创建的边缘实例。"}},"required":["server"]},"CreateInstanceResponseBody":{"allOf":[{"$ref":"#/definitions/InstanceJob"},{"properties":{"server_ids":{"description":"创建中实例的ID。","items":{"description":"","type":"string"},"type":"array"}}}],"description":"创建边缘实例返回结果"},"DataVolume":{"description":"数据盘参数","properties":{"size":{"description":"数据盘大小,容量单位为GB,输入大小范围为[1,500]。","example":100,"format":"int32","maximum":500,"minimum":1,"type":"integer"},"volume_type":{"description":"边缘实例数据盘对应的磁盘类型,需要与站点所提供的磁盘类型相匹配。","example":"SATA","type":"string"}},"required":["size","volume_type"]},"DemandInstance":{"description":"租户需求","properties":{"pool_id":{"description":"弹性公网IP池。\n多线路场景下,将在该弹性公网IP池下创建弹性公网IP。\n> 覆盖规则为省级/大区时不支持指定线路ID创建边缘业务。","type":"string"},"pool_ids":{"description":"线路ID集合。多线路场景下,将在各线路下创建弹性公网IP。","example":["5_bgp-site5-5","5_bgp-site5-6"],"items":{"type":"string"},"type":"array"}}},"InstanceJob":{"properties":{"job_id":{"type":"string"},"server_ids":{"items":{"type":"string"},"type":"array"}}},"Ipv6Bandwidth":{"properties":{"bandwidth_type":{"description":"带宽类型。 \n指定带宽ID,则该参数不生效。\n不指定带宽的情况下,如果当前带宽类型下没有带宽,自动在该带宽类型下创建带宽,有则使用最近创建的带宽。\n约束:指定的bandwidth_type必须在对应弹性公网IP类型的allow_share_bandwidth_types中才能使用","example":"CT_cn_north_shijiazhuang","type":"string"},"id":{"description":"IPv6带宽的ID。","type":"string"}}},"NetConfigInstance":{"description":"创建边缘实例网络信息。","properties":{"subnets":{"description":"待创建边缘实例子网信息。\n\n需要指定vpcid对应VPC下已创建的子网(subnet)的网络ID,UUID格式。","items":{"$ref":"#/definitions/SubnetConfig","description":""},"type":"array"},"vpc_id":{"description":"边缘网络ID。","example":"d0272146-f6d8-4e3c-a1dc-196ec4a2f848","type":"string"}},"required":["subnets","vpc_id"]},"OsProfile":{"description":"边缘实例Os配置","properties":{},"required":["iam_agency_name"]},"RootVolume":{"description":"系统盘参数","properties":{"size":{"description":"系统盘大小,容量单位为GB,输入大小范围为[40,100]。","example":40,"format":"int32","maximum":100,"minimum":40,"type":"integer"},"volume_type":{"description":"边缘实例系统盘对应的磁盘类型,需要与站点所提供的磁盘类型相匹配。","example":"SAS","type":"string"}},"required":["size","volume_type"]},"SecurityGroupOption":{"description":"","properties":{"id":{"description":"边缘实例的安全组,会对边缘实例中配置的网卡生效。需要指定已有安全组的ID。不填写时选择默认安全组","example":"d0272146-f6d8-4e3c-a1dc-196ec4a2f848","type":"string"}}},"SubnetConfig":{"description":"子网配置","properties":{"allowed_address_pairs":{"description":"- 功能说明:IP/Mac对列表\n- 约束:\n    IP地址不允许为 “0.0.0.0/0”\n    如果allowed_address_pairs配置地址池较大的CIDR(掩码小于24位),建议为该port配置一个单独的安全组。\n    如果allowed_address_pairs为“1.1.1.1/0”,表示关闭源目地址检查开关","items":{"$ref":"#/definitions/AllowedAddressPair","description":""},"type":"array"},"id":{"description":"边缘子网ID。","example":"d0272146-f6d8-4e3c-a1dc-196ec4a2f848","type":"string"},"ipv6_bandwidth":{"$ref":"#/definitions/Ipv6Bandwidth","description":"绑定的共享带宽信息"},"ipv6_bandwidth_enable":{"description":"是否使用IPv6带宽。\n\n约束:\n- ipv6_enable=true时,有效;\n- 使用IPv6带宽后,优先根据ipv6_bandwidth中配置的带宽,如果ipv6_bandwidth未设置,则使用使用IPv6子网所在Ipv6池的带宽,如果当前IPv6所在池子下面没有带宽,则自动创建带宽","type":"boolean"},"ipv6_enable":{"default":false,"description":"创建实例是否开启IPv6能力。","type":"boolean"}},"required":["id"]}},"description":null,"group_id":"2e1a5bff2db646fdb41a09591e08a02f","host":"iecs.myhuaweicloud.com","id":"1c6e4cf9aefd475b82ad95bd06580956","info_version":"v1","method":"post","name":"CreateInstance","parameters":{},"paths":{"/v1/cloudservers":{"post":{"consumes":[],"deprecated":false,"description":"创建边缘实例。单租户默认可创建50个边缘实例。","operationId":"CreateInstance","parameters":[{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":1},{"description":"边缘实例详细配置。","in":"body","name":"CreateInstanceRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateInstanceRequestBody"},"x-order":2}],"produces":[],"responses":{"202":{"description":"Accepted","examples":{"application/json":{"job_id":"ff808082720e919801738f0e5eb1727f","server_ids":["fbe3076f-6d30-4ae2-9acf-a6d946ef2702"]}},"schema":{"$ref":"#/definitions/CreateInstanceResponseBody"}}},"summary":"创建边缘实例","tags":["边缘实例"],"x-apiexplorer-hide":"","x-constraint":"","x-first-open-time":"","x-hybridcloud":"","x-is-registered":"Y","x-name":"创建边缘实例","x-open-region-cloud":"hc","x-order":10,"x-publishpath":"","x-request-examples-description-1":"","x-request-examples-url-1":"POST https://{endpoint}/v1/cloudservers","x-scope":"Commercial","x-source":"","x-support-sdk":"Y","x-version":"v1"}}},"product_short":"IEC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建边缘实例","tags":"边缘实例","uri":null,"version":"2.0"}