{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"AllowedAddressPair":{"description":"IP/Mac对象","properties":{"ip_address":{"description":"- 功能说明:IP地址\n- 约束:\n    IP地址不支持“0.0.0.0/0”\n    如果allowed_address_pairs配置地址池较大的CIDR(掩码小于24位),建议为该port配置一个单独的安全组。\n    如果allowed_address_pairs的IP地址为“1.1.1.1/0”,表示关闭源目地址检查开关。","type":"string"},"mac_address":{"description":"MAC地址","type":"string"}},"required":["ip_address"]},"BandwidthConfig":{"description":"带宽配置","properties":{"sharetype":{"description":"带宽类型,现支持WHOLE类型,即共享带宽,其他类型不支持。","enum":["WHOLE"],"example":"WHOLE","type":"string"},"size":{"description":"带宽(Mbit/s)。","format":"int32","type":"integer"}},"required":["sharetype"]},"Coverage":{"description":"覆盖策略对象","properties":{"coverage_level":{"description":"区域分布层级,只支持area/prov/city/site。\n\n- area:大区,用户的资源会在指定大区下发放。\n- prov:省份,用户的资源会在指定省份下发放。\n- city:城市,用户的资源会在指定城市下发放。\n- site:站点级别。\n\n约束:\n\n站点层级,coverage_policy上仅支持'centralize',coverage_sites中'site'字段仅支持使用ID(站点ID,通过“查询边缘站点列表”获取),不支持name。","example":"city","type":"string"},"coverage_policy":{"description":"区域调度策略,只支持centralize/discrete。\n\n- centralize:代表城市集中策略,指定该策略,边缘业务创建时会保证将所有实例都发放在同一个站点。\n- discrete:代表城市分散,指定该策略,边缘业务创建时,尽量保证所有实例都分散发放在不同站点。","example":"centralize","type":"string"},"coverage_sites":{"description":"区域及购买数量列表。","example":"[{\"site\":\"wuhan\",\"demands\":[{\"operator\":\"chinamobile\",\"demand_count\":1}]}]","items":{"$ref":"#/definitions/CoverageSite","description":""},"type":"array"}},"required":["coverage_level","coverage_policy","coverage_sites"]},"CoverageSite":{"description":"站点覆盖策略","properties":{"demands":{"description":"租户需求数量列表。表示租户发放资源站点的运营商和发放的资源组的数量。","example":"[{\"operator\":\"chinamobile\",\"demand_count\":1}]","items":{"$ref":"#/definitions/Demand","description":""},"type":"array"},"site":{"description":"站点名称。\n具体信息可通过调用“查询边缘站点列表”来查询(注意:本字段区分大小写)。","example":"wuhan","type":"string"}},"required":["demands","site"]},"DataVolume":{"description":"数据盘参数","properties":{"size":{"description":"数据盘大小,容量单位为GB,输入大小范围为[1,500]。","example":100,"format":"int32","maximum":500,"minimum":1,"type":"integer"},"volume_type":{"description":"边缘实例数据盘对应的磁盘类型,需要与站点所提供的磁盘类型相匹配。","example":"SATA","type":"string"}},"required":["size","volume_type"]},"Demand":{"description":"租户需求","properties":{"bandwidth_type":{"description":"带宽类型。 如果当前带宽类型下没有带宽,自动在该带宽类型下创建带宽","type":"string"},"demand_count":{"description":"站点需要发放的资源(组)总数。 \n> 实际发放实例数量为count*demand_count。","example":1,"format":"int32","maximum":10,"minimum":1,"type":"integer"},"ipv6_bandwidth_enable":{"description":"使用IPv6带宽。\n边缘实例是否开启IPv6公网访问能力。如果该IPv6线路没有可用的带宽,则创建新的带宽。","type":"boolean"},"ipv6_bandwidth_type":{"description":"带宽类型。 \n边缘实例开启IPv6访问公网能力后,如果当前带宽类型下没有带宽,自动在该带宽类型下创建带宽","type":"string"},"operator":{"description":"所属运营商。","example":"chinamobile","type":"string"},"pool_id":{"description":"线路ID。\n多线路场景下,将在该线路下创建弹性公网IP。\n> 覆盖规则为省级/大区时不支持指定线路ID创建边缘业务。","type":"string"},"pool_id_v6":{"description":"指定IPv6线路,使用该线路下的子网分配IPv6端口。\n如果该线路下没有关联启用IPv6的子网,则创建新的子网。","type":"string"}},"required":["demand_count"]},"Deployment":{"description":"部署计划对象","properties":{"distribution":{"description":"部署位置信息列表","example":"[{\"area\":\"north-east\",\"province\":\"heilongjiang\",\"city\":\"wuhan\",\"operator\":\"chinamobile\",\"demand_count\":4,\"success_num\":3,\"failed_num\":1}]","items":{"$ref":"#/definitions/Distribution","description":""},"type":"array"},"edgecloud":{"$ref":"#/definitions/DeploymentEdgecloud","description":"待部署的边缘业务。"},"id":{"description":"部署计划ID。","example":"d0272146-f6d8-4e3c-a1dc-196ec4a2f848","type":"string"}}},"DeploymentEdgecloud":{"description":"","properties":{"coverage":{"$ref":"#/definitions/Coverage","description":"边缘业务覆盖策略。"},"description":{"description":"边缘业务描述,最大支持255字节。","type":"string"},"id":{"description":"边缘业务ID。","type":"string"},"name":{"description":"边缘业务名称。","type":"string"},"stacks":{"$ref":"#/definitions/Stack","description":"边缘业务资源组。"}}},"Distribution":{"description":"实例分布对象","properties":{"area":{"description":"所在大区名称。","example":"north-east","type":"string"},"city":{"description":"所在城市名称。","example":"wuhan","type":"string"},"city_short_name":{"description":"城市简称。","type":"string"},"ipv6_bandwidth_enable":{"description":"创建IPv6边缘实例是否支持公网访问。","type":"boolean"},"ipv6_enable":{"description":"创建边缘实例是否开启IPv6。","type":"boolean"},"operator":{"description":"所属运营商名称。","example":"chinamobile","type":"string"},"pool_id":{"description":"线路ID。多线路场景下,将在该线路下创建弹性公网IP。","type":"string"},"pool_id_v6":{"description":"IPv6线路ID。IPv6场景下,使用该线路下的子网分配IPv6端口。","type":"string"},"province":{"description":"所属省份名称。","example":"heilongjiang","type":"string"},"site_id":{"description":"站点ID。","type":"string"},"stack_count":{"description":"资源组配置模板数目","format":"int32","type":"integer"}}},"ListDeploymentsResponseBody":{"description":"查询部署计划列表响应体","properties":{"count":{"description":"部署计划列表的总和。","example":10,"format":"int32","type":"integer"},"deployments":{"description":"部署计划列表。","items":{"$ref":"#/definitions/Deployment","description":""},"type":"array"}}},"NetConfig":{"description":"","properties":{"allowed_address_pairs":{"description":"- 功能说明:IP/Mac对列表\n- 约束:\n    IP地址不允许为 “0.0.0.0/0”\n    如果allowed_address_pairs配置地址池较大的CIDR(掩码小于24位),建议为该port配置一个单独的安全组。\n    如果allowed_address_pairs为“1.1.1.1/0”,表示关闭源目地址检查开关","items":{"$ref":"#/definitions/AllowedAddressPair","description":""},"type":"array"},"nic_num":{"description":"边缘实例绑定的网卡数量。\n\n约束:一台边缘实例最少绑定一张网卡,最多绑定8张网卡。","example":2,"format":"int32","maximum":8,"minimum":1,"type":"integer"},"vpc_id":{"description":"边缘网络ID。\n\n约束:\n- 创建边缘业务仅支持使用系统规划的虚拟私有云。","example":"d0272146-f6d8-4e3c-a1dc-196ec4a2f848","type":"string"}},"required":["nic_num","vpc_id"]},"Resource":{"description":"边缘资源对象","properties":{"admin_pass":{"description":"如果需要使用密码方式登录边缘实例,可使用admin_pass字段指定边缘实例管理员帐户初始登录密码。其中,Linux管理员帐户为root,Windows管理员帐户为Administrator。\n\n密码复杂度要求:\n- 长度为8-26位。\n- 密码至少必须包含大写字母、小写字母、数字和特殊字符(!@$%^-_=+[{}]:,./?)中的三种。\n- 密码不能包含用户名或用户名的逆序。\n- Windows系统密码不能包含用户名或用户名的逆序,不能包含用户名中超过两个连续字符的部分。\n\n>   目前边缘实例不支持创建后设置密码,不设置此参数会导致实例无法登录。","maxLength":26,"minLength":8,"type":"string"},"bandwidth":{"$ref":"#/definitions/BandwidthConfig","description":"实例的带宽参数。\nIEC服务现在提供共享带宽服务,暂不支持其他类型带宽。\n> 创建边缘业务时指定实例同步创建EIP则需通过此参数指定。"},"count":{"description":"边缘实例数量。\n不传该字段时默认取值为1。","example":1,"format":"int32","type":"integer"},"data_volumes":{"description":"边缘实例对应数据盘相关配置。每一个数据结构代表一块待创建的数据盘。\n\n约束:目前边缘实例最多可挂载2块数据盘","items":{"$ref":"#/definitions/DataVolume","description":""},"type":"array"},"flavor_ref":{"description":"边缘实例的系统规格的ID。","type":"string"},"image_ref":{"description":"待发放边缘实例的系统镜像,需要指定已创建镜像的ID。\n> 镜像的ID可以从控制台或者参考本文档的“查询边镜像列表”的章节获取。","example":"d0272146-f6d8-4e3c-a1dc-196ec4a2f848","type":"string"},"key_name":{"description":"密钥对名称。","example":"test-pk1","type":"string"},"name":{"description":"边缘实例名称。\n取值范围: 只能由中文字符、英文字母 (大小写)、数字及“_”、“-”、“.” 组成。 创建的边缘实例数量(count字段对应的值)大于1时,为区分不同边缘实例,创建过程中系统会自动在名称后加“-000x”的类似标记。 \n>  华为云边缘实例内部主机名 (hostname)命名规则遵循RFC 952和RFC 1123命名规范,建议使用a-zA-z或0-9以及中划线'-'组成的名称命名,' _' 将在边缘实例内部默认转化为'-'。","example":"ecs01","maxLength":48,"minLength":1,"pattern":"^[a-zA-Z0-9_.\\u4e00-\\u9fa5-]*$","type":"string"},"net_config":{"$ref":"#/definitions/NetConfig","description":"实例的边缘网络配置。\n包含了边缘网络的网段信息和子网数目信息。"},"root_volume":{"$ref":"#/definitions/RootVolume","description":"边缘实例对应系统盘相关配置。"},"security_groups":{"description":"边缘业务对应安全组信息。","items":{"$ref":"#/definitions/SecurityGroupOption","description":""},"type":"array"},"user_data":{"description":"创建边缘实例过程中注入用户数据。支持注入文本、文本文件或gzip文件。\n更多关于待注入用户数据的信息,请参见《弹性云服务器用户指南 》的“[用户数据注入](https://support.huaweicloud.com/usermanual-ecs/zh-cn_topic_0032380449.html)”章节。","example":"IyEvYmluL2Jhc2gKZWNobyAnc...","type":"string"},"with_prefix":{"default":true,"description":"是否自动添加名称前缀。\n- with_prefix为false时不拼接IEC前缀\n- with_prefix不传或者传true时拼自动IEC前缀\n\n以name为iec为例:\n不添加前缀时实例名称为:iec-0001\n自动添加前缀实例名称为:IEC-ZS01-iec-0001\n0001为创建边缘业务时根据实例个数自动添加的编号","type":"boolean","x-admin":"False","x-internal":"False"}},"required":["flavor_ref","image_ref","name","net_config","root_volume"]},"RootVolume":{"description":"系统盘参数","properties":{"size":{"description":"系统盘大小,容量单位为GB,输入大小范围为[40,100]。","example":40,"format":"int32","maximum":100,"minimum":40,"type":"integer"},"volume_type":{"description":"边缘实例系统盘对应的磁盘类型,需要与站点所提供的磁盘类型相匹配。","example":"SAS","type":"string"}},"required":["size","volume_type"]},"SecurityGroupOption":{"description":"","properties":{"id":{"description":"边缘实例的安全组,会对边缘实例中配置的网卡生效。需要指定已有安全组的ID。不填写时选择默认安全组","example":"d0272146-f6d8-4e3c-a1dc-196ec4a2f848","type":"string"}}},"Stack":{"description":"边缘资源组对象","properties":{"name":{"description":"边缘资源组名称。\n取值范围:只能由中文字符、大小写英文字母、数字及中划线、下划线组成,且长度为[1-48]个字符。","example":"stack1","maxLength":48,"minLength":1,"pattern":"^[a-zA-Z0-9_.\\u4e00-\\u9fa5-]*$","type":"string"},"resources":{"description":"边缘业务的堆栈,即为资源组。","example":"[{\"name\":\"ecs01\",\"image_ref\":\"d0272146-f6d8-4e3c-a1dc-196ec4a2f848\",\"flavor_ref\":\"6\",\"net_config\":{\"vpc_id\":\"d0272146-f6d8-4e3c-a1dc-196ec4a2f848\",\"subnets\":[{\"id\":\"d0272146-f6d8-4e3c-a1dc-196ec4a2f848\"}],\"nic_num\":2},\"bandwidth\":{\"sharetype\":\"WHOLE\"},\"root_volume\":{\"volume_type\":\"SAS\",\"size\":40},\"data_volumes\":[{\"volume_type\":\"SATA\",\"size\":100}],\"count\":1,\"security_groups\":[{\"id\":\"d0272146-f6d8-4e3c-a1dc-196ec4a2f848\"}],\"edge_scenes\":\"LIVE_ACCELERATION\",\"user_data\":\"IyEvYmluL2Jhc2gKZWNobyAnc...\"}]","items":{"$ref":"#/definitions/Resource","description":""},"type":"array"}},"required":["name","resources"]}},"description":null,"group_id":"2e1a5bff2db646fdb41a09591e08a02f","host":"iecs.myhuaweicloud.com","id":"abbdbc6edb50472389b25a5db6695290","info_version":"v1","method":"get","name":"ListDeployments","parameters":{},"paths":{"/v1/deployments":{"get":{"consumes":[],"deprecated":false,"description":"查询部署计划列表。","operationId":"ListDeployments","parameters":[{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":1},{"description":"偏移量。\n当前偏移量,默认为0。","format":"int32","in":"query","name":"offset","required":false,"type":"integer","x-open-region-cloud":"","x-order":2},{"description":"查询返回部署计划列表当前页面的数量。","format":"int32","in":"query","maximum":1000,"minimum":0,"name":"limit","required":false,"type":"integer","x-open-region-cloud":"","x-order":3},{"description":"查询条件,部署计划状态,现只包含如下值:\n- open:部署计划处于未执行状态,可执行部署计划进行部署\n- closed:部署计划已关闭,不可部署。","in":"query","name":"status","required":false,"type":"string","x-open-region-cloud":"","x-order":4},{"description":"查询条件,部署计划ID。","in":"query","name":"id","required":false,"type":"string","x-open-region-cloud":"","x-order":5},{"description":"查询条件,边缘业务ID。","in":"query","name":"edgecloud_id","required":false,"type":"string","x-open-region-cloud":"","x-order":6}],"produces":[],"responses":{"200":{"description":"OK","examples":{"application/json":{"count":1,"deployments":[{"distribution":[{"area":"north","city":"xi'an","city_short_name":"","operator":"bgp","pool_id":"5_bgp_edgecloud-site4_0","province":"shaanxi","site_id":"74a75ed3-cfb9-11ea-a0c3-fa1640495574","stack_count":1}],"edgecloud":{"coverage":{"coverage_level":"city","coverage_policy":"centralize","coverage_sites":[{"demands":[{"demand_count":1,"operator":"","pool_id":""}],"site":"xi'an"}]},"name":"edgecloud1","stacks":{"name":"stack-fo09","resources":[{"count":1,"flavor_ref":"c6.large.2","image_ref":"00000000-0000-0000-0000-000000000002","name":"edgeinstance1","net_config":{"nic_num":1,"vpc_id":"4a6d9663-475f-11eb-aa7c-fa16406a65c4"},"root_volume":{"size":100,"volume_type":"SATA"},"security_groups":[{"id":"153133f5-2b16-11eb-a594-fa16408859a1"}],"user_data":"IyEvYmluL2Jhc2gKZWNobyAncm9vdDokNiQzOEVORTckaTJ6Li9ibzZMUGlUT3VFVE5KbmxNdC9yMmJSNlhyOC81S3BndWtNU0xhLmhiVlFJNkY3T25sUS5ucVM0SXpmVEhSU0ZHN3lBeHBiakxlNkUwYjE1YjEnIHwgY2hwYXNzd2QgLWU7"}]}},"id":"87b9a88c-499d-11eb-8a8a-fa1640495574"}]}},"schema":{"$ref":"#/definitions/ListDeploymentsResponseBody"}}},"summary":"查询部署计划列表","tags":["边缘业务"],"x-apiexplorer-hide":"","x-constraint":"","x-first-open-time":"","x-hybridcloud":"","x-is-registered":"Y","x-name":"查询部署计划列表","x-open-region-cloud":"hc","x-order":2,"x-publishpath":"","x-request-examples-1":"","x-request-examples-description-1":"","x-request-examples-text-1":"","x-request-examples-url-1":"GET https://{endpoint}/v1/deployments","x-scope":"Commercial","x-source":"","x-support-sdk":"Y","x-version":"v1"}}},"product_short":"IEC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询部署计划列表","tags":"边缘业务","uri":null,"version":"2.0"}