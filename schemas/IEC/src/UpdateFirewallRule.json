{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"FirewallPolicy":{"description":"网络ACL策略。","properties":{"firewall_rules":{"description":"网络ACL规则列表对象。","items":{"$ref":"#/definitions/FirewallRule","description":""},"maxItems":1,"minItems":0,"type":"array"},"id":{"description":"网络ACL策略ID。","pattern":"^[a-z0-9]{8}(-[a-z0-9]{4}){3}-[a-z0-9]{12}$","type":"string"},"insert_after":{"description":"ACL规则ID,表示在此ACL规则之后添加ACL规则","pattern":"^[a-z0-9]{8}(-[a-z0-9]{4}){3}-[a-z0-9]{12}$","type":"string"},"insert_before":{"description":"ACL规则ID,表示在此ACL规则之前添加ACL规则","pattern":"^[a-z0-9]{8}(-[a-z0-9]{4}){3}-[a-z0-9]{12}$","type":"string"},"name":{"description":"网络ACL策略名称。","maxLength":64,"minLength":0,"type":"string"}},"required":["firewall_rules","id"]},"FirewallRule":{"description":"网络ACL规则。","properties":{"action":{"description":"策略是否允许\n\n取值范围:allow,deny,reject","enum":["allow","deny","reject"],"example":"allow","type":"string"},"description":{"description":"网络ACL规则描述。","example":"testt","maxLength":64,"minLength":0,"type":"string"},"destination_ip_address":{"description":"目的地IP地址,IPv4或IPv6的CIDR格式","example":"0.0.0.0/12","type":"string"},"destination_port":{"description":"目的地端口范围\n\n取值范围:整数,比如80,或者以\"-\"隔开的范围,比如80-90","type":"string"},"enabled":{"default":true,"description":"网络ACL规则使能开关。\n\n取值范围:true,false","type":"boolean"},"id":{"description":"网络ACL规则ID。\n\n进行更新规则时,如果operate_type为add,则该值为空。","example":"5cb41787-6804-11ea-a41a-00e04c9bd2a3","pattern":"^[a-z0-9]{8}(-[a-z0-9]{4}){3}-[a-z0-9]{12}$","type":"string"},"ip_version":{"description":"IP协议版本\n\n取值范围:4、6","example":4,"format":"int32","type":"integer"},"name":{"description":"网络ACL规则名称。","example":"testt","maxLength":64,"minLength":0,"type":"string"},"operate_type":{"description":"网络ACL规则操作状态,作为请求时取值为\"add\"/\"modify\"/\"delete\",作为返回值时为\"normal\"。\n当请求更新规则时,本参数值为delete时,除id之外,本请求体其他参数均可为空。","enum":["add","modify","delete"],"example":"normal","type":"string"},"protocol":{"description":"IP协议,为any时代表所有协议\n\n取值范围:icmp,tcp,udp,any","enum":["icmp","tcp","udp","any "],"example":"tcp","type":"string"},"source_ip_address":{"description":"源IP地址,IPv4或IPv6的CIDR格式","example":"0.0.0.0/24","type":"string"},"source_port":{"description":"源地端口范围\n\n取值范围:整数,比如80,或者以\"-\"隔开的范围,比如80-90","type":"string"}},"required":["action","destination_ip_address","destination_port","enabled","id","ip_version","name","operate_type","protocol","source_ip_address","source_port"]},"UpdateFirewallRuleOption":{"description":"更新防火墙规则的参数","properties":{"egress_firewall_policy":{"$ref":"#/definitions/FirewallPolicy","description":"出方向防火墙策略,不能与ingress_firewall_policy同时存在"},"ingress_firewall_policy":{"$ref":"#/definitions/FirewallPolicy","description":"入方向防火墙策略,不能与egress_firewall_policy同时存在"}},"required":["egress_firewall_policy","ingress_firewall_policy"]},"UpdateFirewallRuleRequestBody":{"description":"更新防火墙规则请求体","properties":{"firewall":{"$ref":"#/definitions/UpdateFirewallRuleOption","description":"防火墙"}}},"UpdateFirewallRuleResp":{"description":"","properties":{"egress_firewall_policy":{"$ref":"#/definitions/FirewallPolicy","description":"出方向网络ACL策略返回体,当该返回体有值时,则ingress_firewall_policy为{}"},"id":{"description":"网络ACL ID","example":"c2c5234b-67ff-11ea-a41a-00e04c9bd2a3","pattern":"^[a-z0-9]{8}(-[a-z0-9]{4}){3}-[a-z0-9]{12}$","type":"string"},"ingress_firewall_policy":{"$ref":"#/definitions/FirewallPolicy","description":"入方向网络ACL策略返回体,当该返回体有值时,则egress_firewall_policy为{}"},"status":{"description":"网络ACL状态。","enum":["INACTIVE"],"example":"INACTIVE","type":"string"}},"required":["egress_firewall_policy","id","ingress_firewall_policy","status"]},"UpdateFirewallRuleResponseBody":{"description":"更新网络ACL规则返回体。","properties":{"firewall":{"$ref":"#/definitions/UpdateFirewallRuleResp","description":"更新网络ACL返回体,当更新操作为delete时,返回体中的policy策略中不再包含任何firewall_rule,只包含策略ID。"}},"required":["firewall"]}},"description":null,"group_id":"2e1a5bff2db646fdb41a09591e08a02f","host":"iecs.myhuaweicloud.com","id":"b0df46c4c11a419a8172cbd1d0cf9a8e","info_version":"v1","method":"put","name":"UpdateFirewallRule","parameters":{},"paths":{"/v1/firewalls/{firewall_id}/firewall-rules":{"put":{"consumes":[],"deprecated":false,"description":"更新网络ACL规则。","operationId":"UpdateFirewallRule","parameters":[{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":1},{"description":"网络ACL ID","in":"path","name":"firewall_id","pattern":"^[a-z0-9]{8}(-[a-z0-9]{4}){3}-[a-z0-9]{12}$","required":true,"type":"string","x-order":2},{"description":"更新网络ACL规则请求体。","in":"body","name":"UpdateFirewallRuleRequestBody","required":true,"schema":{"$ref":"#/definitions/UpdateFirewallRuleRequestBody"},"x-order":3}],"produces":[],"responses":{"200":{"description":"OK","examples":{"application/json":{"firewall":{"egress_firewall_policy":{},"id":"c2c5234b-67ff-11ea-a41a-00e04c9bd2a3","ingress_firewall_policy":{"firewall_rules":[{"action":"allow","description":"test","destination_ip_address":"0.0.0.0/12","destination_port":"443","enabled":true,"id":"438b8821-69a9-11ea-bec0-00e04c9bd2a3","ip_version":4,"name":"test","protocol":"tcp","source_ip_address":"0.0.0.0/24","source_port":"35"}],"id":"dd1b46d8-bff8-41d5-b79d-b96c300371d7"},"status":"INACTIVE"}}},"schema":{"$ref":"#/definitions/UpdateFirewallRuleResponseBody"}}},"summary":"更新网络ACL规则","tags":["网络ACL"],"x-apiexplorer-hide":"","x-constraint":"","x-first-open-time":"","x-hybridcloud":"","x-is-registered":"Y","x-name":"更新网络ACL规则","x-open-region-cloud":"hc","x-order":72,"x-publishpath":"","x-request-examples-1":{"firewall":{"egress_firewall_policy":{},"id":"c2c5234b-67ff-11ea-a41a-00e04c9bd2a3","ingress_firewall_policy":{"firewall_rules":[{"action":"allow","description":"test","destination_ip_address":"0.0.0.0/12","destination_port":"443","enabled":true,"id":"438b8821-69a9-11ea-bec0-00e04c9bd2a3","ip_version":4,"name":"test","protocol":"tcp","source_ip_address":"0.0.0.0/24","source_port":"35"}],"id":"dd1b46d8-bff8-41d5-b79d-b96c300371d7"},"status":"INACTIVE"}},"x-request-examples-description-1":"","x-request-examples-text-1":"{\n  \"firewall\": {\n    \"id\": \"c2c5234b-67ff-11ea-a41a-00e04c9bd2a3\",\n    \"status\": \"INACTIVE\",\n    \"ingress_firewall_policy\": {\n      \"id\": \"dd1b46d8-bff8-41d5-b79d-b96c300371d7\",\n      \"firewall_rules\": [\n        {\n          \"id\": \"438b8821-69a9-11ea-bec0-00e04c9bd2a3\",\n          \"name\": \"test\",\n          \"description\": \"test\",\n          \"enabled\": true,\n          \"action\": \"allow\",\n          \"protocol\": \"tcp\",\n          \"ip_version\": 4,\n          \"destination_ip_address\": \"0.0.0.0/12\",\n          \"destination_port\": \"443\",\n          \"source_ip_address\": \"0.0.0.0/24\",\n          \"source_port\": \"35\"\n        }\n      ]\n    },\n    \"egress_firewall_policy\": {}\n  }\n}","x-request-examples-url-1":"https://{{endpoint}}/v1/firewalls/c2c5234b-67ff-11ea-a41a-00e04c9bd2a3/firewall-rules","x-scope":"Commercial","x-source":"","x-support-sdk":"Y","x-version":"v1"}}},"product_short":"IEC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"更新网络ACL规则","tags":"网络ACL","uri":null,"version":"2.0"}