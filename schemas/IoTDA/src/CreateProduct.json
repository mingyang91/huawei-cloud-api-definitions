{"base_path":null,"components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"AddProduct":{"description":"创建产品信息结构体。","properties":{"app_id":{"description":"**参数说明**:资源空间ID。此参数为非必选参数,存在多资源空间的用户需要使用该接口时,建议携带该参数指定创建的产品归属到哪个资源空间下,否则创建的产品将会归属到[默认资源空间](https://support.huaweicloud.com/usermanual-iothub/iot_01_0006.html#section0)下。\n**取值范围**:长度不超过36,只允许字母、数字、下划线(_)、连接符(-)的组合。","example":"jeQDJQZltU8iKgFFoW060F5SGZka","pattern":"^[a-zA-Z0-9_-]{1,36}$","type":"string"},"data_format":{"default":"json","description":"**参数说明**:设备上报数据的格式。\n**取值范围**:\n- json:JSON格式\n- binary:二进制码流格式\n默认值json。","example":"json","pattern":"(json|binary)","type":"string"},"description":{"description":"**参数说明**:产品的描述信息。\n**取值范围**:长度不超过128,只允许中文、字母、数字、空白字符、以及_?'#().,;&%@!- ,、:;。/等字符的组合。","example":"this is a thermometer produced by Huawei","pattern":"^[\\s一-龥a-zA-Z0-9_?'#().,;&%@!\\- ,、:;。¥$!【】’‘“”()?...~/]{1,128}$","type":"string"},"device_type":{"description":"**参数说明**:设备类型。\n**取值范围**:长度不超过32,只允许中文、字母、数字、以及_?'#().,&%@!-等字符的组合。","example":"Thermometer","pattern":"^[一-龥a-zA-Z0-9_?'#().,&%@!-]{1,32}$","type":"string"},"industry":{"description":"**参数说明**:设备所属行业。\n**取值范围**:长度不超过64,只允许中文、字母、数字、以及_?'#().,&%@!-等字符的组合。","example":"smartCity","pattern":"^[一-龥a-zA-Z0-9_?'#().,&%@!-]{1,64}$","type":"string"},"manufacturer_name":{"description":"**参数说明**:厂商名称。\n**取值范围**:长度不超过32,只允许中文、字母、数字、以及_?'#().,&%@!-等字符的组合。","example":"ABC","pattern":"^[一-龥a-zA-Z0-9_?'#().,&%@!-]{1,32}$","type":"string"},"name":{"description":"**参数说明**:产品名称。\n**取值范围**:长度不超过64,只允许中文、字母、数字、以及_?'#().,&%@!-等字符的组合。","example":"Thermometer","pattern":"^[一-龥a-zA-Z0-9_?'#().,&%@!-]{1,64}$","type":"string"},"product_id":{"description":"**参数说明**:产品ID,资源空间下唯一。常app_id一起使用,用于唯一标识一个产品。如果携带此参数,平台将产品ID设置为该参数值;如果不携带此参数,产品ID在物联网平台创建产品后由平台分配获得。\n**取值范围**:长度不超过36,只允许字母、数字、下划线(_)、连接符(-)的组合。","example":"5ba24f5ebbe8f56f5a14f605","pattern":"^[a-zA-Z0-9_-]{1,36}$","type":"string"},"protocol_type":{"description":"**参数说明**:设备使用的协议类型。\n**取值范围**:MQTT,CoAP,HTTP,HTTPS,Modbus,ONVIF,OPC-UA,OPC-DA,Other,TCP,UDP。","example":"MQTT","pattern":"(MQTT|CoAP|HTTP|HTTPS|Modbus|ONVIF|OPC-UA|OPC-DA|Other|TCP|UDP)","type":"string"},"service_capabilities":{"description":"**参数说明**:设备的服务能力列表。\n**取值范围**:数组长度大小不超过500,内容大小不超过500k。","items":{"$ref":"#/definitions/ServiceCapability"},"type":"array","x-isSensitive":true}},"required":["data_format","device_type","name","protocol_type","service_capabilities"],"title":"创建产品信息结构体","type":"object"},"Product":{"description":"产品信息。","properties":{"app_id":{"description":"资源空间ID。","example":"jeQDJQZltU8iKgFFoW060F5SGZka","type":"string","x-isSensitive":true},"app_name":{"description":"资源空间名称。","example":"testAPP01","type":"string","x-isSensitive":true},"create_time":{"description":"在物联网平台创建产品的时间,格式:yyyyMMdd'T'HHmmss'Z',如20151212T121212Z。","example":"20190303T081011Z","type":"string","x-isSensitive":true},"data_format":{"description":"设备上报数据的格式,取值范围:json,binary。","example":"json","type":"string","x-isSensitive":true},"description":{"description":"产品的描述信息。","example":"this is a thermometer produced by Huawei","type":"string","x-isSensitive":true},"device_type":{"description":"设备类型。","example":"Thermometer","type":"string","x-isSensitive":true},"industry":{"description":"设备所属行业。","example":"smartCity","type":"string","x-isSensitive":true},"manufacturer_name":{"description":"厂商名称。","example":"ABC","type":"string","x-isSensitive":true},"name":{"description":"产品名称。","example":"Thermometer","type":"string","x-isSensitive":true},"product_id":{"description":"产品ID,用于唯一标识一个产品,在物联网平台创建产品后由平台分配获得。","example":"5ba24f5ebbe8f56f5a14f605","type":"string","x-isSensitive":true},"protocol_type":{"description":"设备使用的协议类型。取值范围:MQTT,CoAP,HTTP,HTTPS,Modbus,ONVIF, OPC-UA,OPC-DA,Other,TCP,UDP。","example":"MQTT","type":"string","x-isSensitive":true},"service_capabilities":{"description":"设备的服务能力列表。","items":{"$ref":"#/definitions/ServiceCapability"},"type":"array","x-isSensitive":true}},"title":"产品信息","type":"object"},"ServiceCapability":{"description":"ServiceCapability结构体。","properties":{"commands":{"description":"**参数说明**:设备服务支持的命令列表。\n**取值范围**:数组长度大小不超过500。","items":{"$ref":"#/definitions/ServiceCommand"},"type":"array","x-Valid":true},"description":{"description":"**参数说明**:设备服务的描述信息。\n**取值范围**:长度不超过128,只允许中文、字母、数字、空白字符、以及_?'#().,;&%@!- ,、:;。/等字符的组合。","example":"temperature","pattern":"^[\\s一-龥a-zA-Z0-9_?'#().,;&%@!\\- ,、:;。¥$!【】’‘“”()?...~/]{1,128}$","type":"string"},"events":{"description":"**参数说明**:设备服务支持的事件列表。目前暂未支持自定义事件,创建/修改产品时无需定义该字段。\n**取值范围**:数组长度大小不超过500。","items":{"$ref":"#/definitions/ServiceEvent"},"type":"array","x-Valid":true},"option":{"default":"Optional","description":"**参数说明**:指定设备服务是否必选。目前本字段为非功能性字段,仅起到标识作用。\n**取值范围**:\n- Master:主服务\n- Mandatory:必选服务\n- Optional:可选服务\n默认值为Optional。","pattern":"(Master|Mandatory|Optional)","type":"string"},"properties":{"description":"**参数说明**:设备服务支持的属性列表。\n**取值范围**:数组长度大小不超过500。","items":{"$ref":"#/definitions/ServiceProperty"},"type":"array","x-Valid":true},"service_id":{"description":"**参数说明**:设备的服务ID。注:产品内不允许重复。\n**取值范围**:长度不超过64,只允许中文、字母、数字、以及_?'#().,&%@!-$等字符的组合。","example":"temperature","pattern":"^[一-龥a-zA-Z0-9_?'#().,&%@!\\-$]{1,64}$","type":"string"},"service_type":{"description":"**参数说明**:设备的服务类型。\n**取值范围**:长度不超过64,只允许中文、字母、数字、以及_?'#().,&%@!-$等字符的组合。","example":"temperature","pattern":"^[一-龥a-zA-Z0-9_?'#().,&%@!\\-$]{1,64}$","type":"string"}},"required":["service_id","service_type"],"title":"ServiceCapability结构体","type":"object","x-imports":["com.fasterxml.jackson.annotation.JsonProperty;"]},"ServiceCommand":{"description":"命令服务对象。","properties":{"command_name":{"description":"**参数说明**:设备命令名称。注:设备服务内不允许重复。\n**取值范围**:长度不超过64,只允许中文、字母、数字、以及_?'#().,&%@!-等字符的组合。","example":"reboot","pattern":"^[一-龥a-zA-Z0-9_?'#().,&%@!-]{1,64}$","type":"string"},"paras":{"description":"**参数说明**:设备命令的参数列表。","items":{"$ref":"#/definitions/ServiceCommandPara"},"type":"array"},"responses":{"description":"**参数说明**:设备命令的响应列表。","items":{"$ref":"#/definitions/ServiceCommandResponse"},"type":"array"}},"required":["command_name"],"title":"命令服务对象","type":"object"},"ServiceCommandPara":{"description":"参数服务对象。","properties":{"data_type":{"description":"**参数说明**:参数的数据类型。\n**取值范围**:int,long,decimal,string,DateTime,jsonObject,enum,boolean,string list。","example":"string","pattern":"(int|long|decimal|string|DateTime|jsonObject|enum|boolean|string list)","type":"string"},"description":{"description":"**参数说明**:参数的描述。\n**取值范围**:长度不超过128,只允许中文、字母、数字、空白字符、以及_?'#().,;&%@!- ,、:;。/等字符的组合。","example":"force","pattern":"^[\\s一-龥a-zA-Z0-9_?'#().,;&%@!\\- ,、:;。¥$!【】’‘“”()?...~/]{1,128}$","type":"string"},"enum_list":{"description":"**参数说明**:参数的枚举值列表。","items":{"pattern":"[a-zA-Z0-9_]+","type":"string"},"type":"array"},"max":{"description":"**参数说明**:参数的最大值。\n**取值范围**:长度1-16。","example":"100","maxLength":16,"minLength":1,"type":"string"},"max_length":{"description":"**参数说明**:参数的最大长度。","example":100,"format":"int32","type":"integer"},"min":{"description":"**参数说明**:参数的最小值。\n**取值范围**:长度1-16。","example":"1","maxLength":16,"minLength":1,"type":"string"},"para_name":{"description":"**参数说明**:参数的名称。\n**取值范围**:长度不超过32,只允许中文、字母、数字、以及_?'#().,&%@!-等字符的组合。","example":"force","pattern":"^[一-龥a-zA-Z0-9_?'#().,&%@!-]{1,32}$","type":"string"},"required":{"default":false,"description":"**参数说明**:参数是否必选。默认为false。","example":false,"type":"boolean"},"step":{"description":"**参数说明**:参数的步长。","example":0.1,"format":"double","type":"number"},"unit":{"description":"**参数说明**:参数的单位。\n**取值范围**:长度不超过16。","example":"km/h","maxLength":16,"type":"string"}},"required":["data_type","para_name"],"title":"参数服务对象","type":"object"},"ServiceCommandResponse":{"description":"命令参数响应对象。","properties":{"paras":{"description":"**参数说明**:设备命令响应的参数列表。","items":{"$ref":"#/definitions/ServiceCommandPara"},"type":"array"},"response_name":{"description":"**参数说明**:设备命令响应名称。\n**取值范围**:长度不超过128,只允许中文、字母、数字、以及_?'#().,&%@!-等字符的组合。","example":"ACK","pattern":"^[一-龥a-zA-Z0-9_?'#().,&%@!-]{1,128}$","type":"string"}},"required":["response_name"],"title":"命令参数响应对象","type":"object"},"ServiceEvent":{"description":"事件服务对象。","properties":{"event_type":{"description":"**参数说明**:设备事件类型。注:设备服务内不允许重复。\n**取值范围**:长度不超过32,只允许中文、字母、数字、以及_?'#().,&%@!-等字符的组合。","example":"reboot","pattern":"^[一-龥a-zA-Z0-9_?'#().,&%@!-]{1,32}$","type":"string"},"paras":{"description":"**参数说明**:设备事件的参数列表。","items":{"$ref":"#/definitions/ServiceCommandPara"},"type":"array"}},"required":["event_type"],"title":"事件服务对象","type":"object"},"ServiceProperty":{"description":"属性服务对象。","properties":{"data_type":{"description":"**参数说明**:设备属性的数据类型。\n**取值范围**:int,long,decimal,string,DateTime,jsonObject,enum,boolean,string list。","example":"decimal","pattern":"(int|long|decimal|string|DateTime|jsonObject|enum|boolean|string list)","type":"string"},"default_value":{"description":"**参数说明**:设备属性的默认值。如果设置了默认值,使用该产品创建设备时,会将该属性的默认值写入到该设备的设备影子预期数据中,待设备上线时将该属性默认值下发给设备。","example":{"color":"red","size":1},"properties":{},"type":"object"},"description":{"description":"**参数说明**:设备属性的描述。\n**取值范围**:长度不超过128,只允许中文、字母、数字、空白字符、以及_?'#().,;&%@!- ,、:;。/等字符的组合。","example":"force","pattern":"^[\\s一-龥a-zA-Z0-9_?'#().,;&%@!\\- ,、:;。¥$!【】’‘“”()?...~/]{1,128}$","type":"string"},"enum_list":{"description":"**参数说明**:设备属性的枚举值列表。","items":{"pattern":"[a-zA-Z0-9_]+","type":"string"},"type":"array"},"max":{"description":"**参数说明**:设备属性的最大值。\n**取值范围**:长度1-16。","example":"100","maxLength":16,"minLength":1,"type":"string"},"max_length":{"description":"**参数说明**:设备属性的最大长度。","example":100,"format":"int32","type":"integer"},"method":{"description":"**参数说明**:设备属性的访问模式。\n**取值范围**:RWE,RW,RE,WE,E,W,R。\n- R:属性值可读\n- W:属性值可写\n- E:属性值可订阅,即属性值变化时上报事件","example":"RW","pattern":"(RWE|RW|RE|WE|E|W|R)","type":"string"},"min":{"description":"**参数说明**:设备属性的最小值。\n**取值范围**:长度1-16。","example":"1","maxLength":16,"minLength":1,"type":"string"},"property_name":{"description":"**参数说明**:设备属性名称。注:设备服务内不允许重复。属性名称作为设备影子JSON文档中的key不支持特殊字符:点(.)、dollar符号($)、空char(十六进制的ASCII码为00),如果包含了以上特殊字符则无法正常刷新影子文档。\n**取值范围**:长度不超过64,只允许中文、字母、数字、以及_?'#().,&%@!-等字符的组合。","example":"temperature","pattern":"^[一-龥a-zA-Z0-9_?'#().,&%@!-]{1,64}$","type":"string"},"required":{"default":false,"description":"**参数说明**:设备属性是否必选。默认为false。","example":true,"type":"boolean"},"step":{"description":"**参数说明**:设备属性的步长。","example":0.1,"format":"double","type":"number"},"unit":{"description":"**参数说明**:设备属性的单位。\n**取值范围**:长度不超过16。","example":"centigrade","maxLength":16,"type":"string"}},"required":["data_type","method","property_name"],"title":"属性服务对象","type":"object"}},"description":null,"group_id":"bf0cdd341d8b4c6f833486a40289d422","host":"iotda.cn-north-4.myhuaweicloud.com","id":"7cfd9db6537c40eea3a7d1d8fc44b1c1","info_version":"v5","method":"post","name":"CreateProduct","parameters":{},"paths":{"/v5/iot/{project_id}/products":{"post":{"description":"应用服务器可调用此接口创建产品。此接口仅创建了产品,没有创建和安装插件,如果需要对数据进行编解码,还需要在平台开发和安装插件。","operationId":"CreateProduct","parameters":[{"description":"**参数说明**:项目ID。获取方法请参见 [获取项目ID](https://support.huaweicloud.com/api-iothub/iot_06_v5_1001.html) 。","in":"path","name":"project_id","pattern":"^[a-fA-F0-9]{1,32}$","required":true,"type":"string","x-example":"04ed32dc1b0025b52fe3c01a27c2b0a8"},{"description":"**参数说明**:用户Token。通过调用IAM服务 [获取IAM用户Token](https://support.huaweicloud.com/api-iam/iam_30_0001.html)接口获取,接口返回的响应消息头中“X-Subject-Token”就是需要获取的用户Token。简要的获取方法样例请参见 [Token认证](https://support.huaweicloud.com/api-iothub/iot_06_v5_0091.html#section0)。","in":"header","name":"X-Auth-Token","required":false,"type":"string","x-effective-scene":"huaweicloud","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"**参数说明**:实例ID。物理多租下各实例的唯一标识,一般华为云租户无需携带该参数,仅在物理多租场景下从管理面访问API时需要携带该参数。您可以在IoTDA管理控制台界面,选择左侧导航栏“总览”页签查看当前实例的ID。","in":"header","name":"Instance-Id","pattern":"[0-9a-f-]{1,36}","required":false,"type":"string","x-example":"1a7ffc5c-d89c-44dd-8265-b1653d951ce0"},{"description":"request","in":"body","name":"CreateProductRequestBody","required":false,"schema":{"$ref":"#/definitions/AddProduct"}}],"produces":["application/json"],"responses":{"201":{"description":"Created","examples":{"application/json":{"app_id":"jeQDJQZltU8iKgFFoW060F5SGZka","app_name":"testAPP01","create_time":"20190303T081011Z","data_format":"json","description":"this is a thermometer produced by Huawei","device_type":"Thermometer","industry":"smartCity","manufacturer_name":"ABC","name":"Thermometer","product_id":"5ba24f5ebbe8f56f5a14f605","protocol_type":"MQTT","service_capabilities":[{"commands":[{"command_name":"reboot","paras":[{"data_type":"string","description":"force","max":"100","max_length":100,"min":"1","para_name":"force","required":false,"step":0.1,"unit":"km/h"}],"responses":[{"paras":[{"data_type":"string","description":"force","max":"100","max_length":100,"min":"1","para_name":"force","required":false,"step":0.1,"unit":"km/h"}],"response_name":"ACK"}]}],"description":"temperature","option":"Mandatory","properties":[{"data_type":"decimal","default_value":{"color":"red","size":1},"description":"force","max":"100","max_length":100,"method":"RW","min":"1","property_name":"temperature","required":true,"step":0.1,"unit":"centigrade"}],"service_id":"temperature","service_type":"temperature"}]}},"schema":{"$ref":"#/definitions/Product"},"x-SuccessCode":true},"400":{"description":"Bad Request","x-Error":["IOTDA.013005","IOTDA.014034","IOTDA.013010","IOTDA.013012"]},"403":{"description":"FORBIDDEN","x-Error":["IOTDA.001005","IOTDA.001006","IOTDA.001007","IOTDA.013006","IOTDA.000022"]}},"summary":"创建产品","tags":["ProductManagement"],"x-Note":"此接口仅创建了产品,没有创建和安装插件,如果需要对数据进行编解码,还需要在平台开发和安装插件。","x-externalAPI":true,"x-iftype":"OpenAPI_new","x-imports":"org.springframework.web.bind.annotation.ModelAttribute;javax.validation.Valid;org.springframework.http.ResponseEntity","x-is-registered":"Y","x-publishpath":"iot_06_v5_0050","x-request-examples-1":{"app_id":"jeQDJQZltU8iKgFFoW060F5SGZka","data_format":"json","description":"this is a thermometer produced by Huawei","device_type":"Thermometer","industry":"smartCity","manufacturer_name":"ABC","name":"Thermometer","product_id":"5ba24f5ebbe8f56f5a14f605","protocol_type":"MQTT","service_capabilities":[{"commands":[{"command_name":"reboot","paras":[{"data_type":"string","description":"force","max":"100","max_length":100,"min":"1","para_name":"force","required":false,"step":0.1,"unit":"km/h"}],"responses":[{"paras":[{"data_type":"string","description":"force","max":"100","max_length":100,"min":"1","para_name":"force","required":false,"step":0.1,"unit":"km/h"}],"response_name":"ACK"}]}],"description":"temperature","option":"Mandatory","properties":[{"data_type":"decimal","default_value":{"color":"red","size":1},"description":"force","max":"100","max_length":100,"method":"RW","min":"1","property_name":"temperature","required":true,"step":0.1,"unit":"centigrade"}],"service_id":"temperature","service_type":"temperature"}]},"x-request-examples-url-1":"POST https://{endpoint}/v5/iot/{project_id}/products","x-returnType":"ResponseEntity<Product>","x-support-sdk":"Y"}}},"product_short":"IoTDA","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建产品","tags":"产品管理","uri":null,"version":"2.0"}