{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ArrayAutoScalingPolicyV2":{"description":"弹性伸缩策略列表","items":{"$ref":"#/definitions/AutoScalingPolicyV2"},"type":"array"},"AutoScalingPolicyInfo":{"properties":{"auto_scaling_enable":{"description":"当前自动伸缩规则是否开启。","example":true,"type":"boolean"},"max_capacity":{"description":"指定该节点组的最大节点数。\n取值范围:[0~500]","format":"int32","maximum":500,"minimum":0,"type":"integer"},"min_capacity":{"description":"指定该节点组的最小保留节点数。\n取值范围:[0~500]","format":"int32","maximum":500,"minimum":0,"type":"integer"},"resources_plans":{"description":"资源计划列表。若该参数为空表示不启用资源计划。\n\n当启用弹性伸缩时,资源计划与自动伸缩规则需至少配置其中一种。","items":{"$ref":"#/definitions/ResourcesPlan"},"maxItems":5,"minItems":0,"type":"array"},"rules":{"description":"自动伸缩的规则列表。\n当启用弹性伸缩时,资源计划与自动伸缩规则需至少配置其中一种。","items":{"$ref":"#/definitions/Rule"},"maxItems":10,"minItems":0,"type":"array"},"tags":{"description":"弹性伸缩标签列表","items":{"$ref":"#/definitions/Tag"},"maxItems":100,"type":"array"}},"required":["auto_scaling_enable","min_capacity","max_capacity"],"type":"object"},"AutoScalingPolicyV2":{"properties":{"auto_scaling_policy":{"$ref":"#/definitions/AutoScalingPolicyInfo","description":"弹性伸缩规则。","type":"object"},"node_group_name":{"description":"节点组名称。必填参数。如果resource_pool_name为default,则创建节点组维度的弹性伸缩策略。如果resource_pool_name不为default,则在该节点组下创建对应资源池维度的策略。","example":"task_node_default_group","type":"string"},"resource_pool_name":{"description":"资源池名称。必填参数。当集群版本不支持按指定资源池进行弹性伸缩时,需要填写为default资源池。不为default时删除指定资源池维度的弹性伸缩策略。","example":"default","type":"string"}},"required":["node_group_name","resource_pool_name"],"type":"object"},"ErrorRsp":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误描述","type":"string"}},"required":["error_code","error_msg"]},"ResourcesPlan":{"properties":{"effective_days":{"description":"资源计划的生效日期,为空时代表每日,另外也可为以下返回值:\n\nMONDAY(周一)、TUESDAY(周二)、WEDNESDAY(周三)、THURSDAY(周四)、FRIDAY(周五)、SATURDAY(周六)、SUNDAY(周日)","items":{"description":"枚举值:\n- MONDAY: 星期一\n- TUESDAY: 星期二\n- WEDNESDAY: 星期三\n- THURSDAY: 星期四\n- FRIDAY: 星期五\n- SATURDAY: 星期六\n- SUNDAY: 星期日","enum":["MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY","SUNDAY"],"type":"string"},"type":"array"},"end_time":{"description":"资源计划的结束时间,格式与“start_time”相同,不早于start_time表示的时间,且与start_time间隔不小于30min。","example":"21:00","type":"string"},"max_capacity":{"description":"资源计划内该节点组的最大保留节点数。\n取值范围:[0~500]","format":"int32","maximum":500,"minimum":0,"type":"integer"},"min_capacity":{"description":"资源计划内该节点组的最小保留节点数。\n取值范围:[0~500]","example":3,"format":"int32","maximum":500,"minimum":0,"type":"integer"},"period_type":{"description":"资源计划的周期类型,当前只允许以下类型:\n\ndaily","example":"daily","type":"string"},"start_time":{"description":"资源计划的起始时间,格式为“hour:minute”,表示时间在0:00-23:59之间。","example":"20:00","type":"string"}},"required":["end_time","max_capacity","min_capacity","period_type","start_time"],"type":"object"},"Rule":{"properties":{"adjustment_type":{"description":"弹性伸缩规则的调整类型,只允许以下类型:\n枚举值:\n- scale_out:扩容\n- scale_in:缩容","enum":["scale_out","scale_in"],"type":"string"},"cool_down_minutes":{"description":"触发弹性伸缩规则后,该集群处于冷却状态(不再执行弹性伸缩操作)的时长,单位为分钟。\n取值范围[0~10080],10080为一周的分钟数。","format":"int32","maximum":10080,"minimum":0,"type":"integer"},"description":{"description":"弹性伸缩规则的说明。\n最大长度为1024字符。","example":"for_xxx","maxLength":1024,"minLength":0,"type":"string"},"name":{"description":"弹性伸缩规则的名称。\n只能由字母、数字、中划线和下划线组成,并且长度为1~64个字符。\n在一个节点组范围内,不允许重名。","example":"rule_xxx","maxLength":64,"minLength":1,"type":"string"},"scaling_adjustment":{"description":"单次调整集群节点的个数。\n取值范围[1~100]","format":"int32","maximum":100,"minimum":1,"type":"integer"},"trigger":{"$ref":"#/definitions/Trigger","description":"描述该规则触发条件。"}},"required":["adjustment_type","cool_down_minutes","name","scaling_adjustment","trigger"],"type":"object"},"Tag":{"properties":{"key":{"description":"标签键。","example":"app","maxLength":36,"minLength":1,"type":"string"},"value":{"description":"标签值。","example":"test","maxLength":43,"minLength":0,"type":"string"}},"required":["key","value"],"type":"object"},"Trigger":{"properties":{"comparison_operator":{"description":"指标判断逻辑运算符,包括:\n- LT:小于\n- GT:大于\n- LTOE:小于等于\n- GTOE:大于等于","example":"LT","type":"string"},"evaluation_periods":{"description":"判断连续满足指标阈值的周期数(一个周期为5分钟)。\n取值范围[1~288]","format":"int32","maximum":288,"minimum":1,"type":"integer"},"metric_name":{"description":"指标名称。 该触发条件会依据该名称对应指标的值来进行判断。 最大长度为64个字符。","maxLength":64,"minLength":0,"type":"string"},"metric_value":{"description":"指标阈值。\n\n触发该条件的指标阈值,只允许输入整数或者带两位小数的数。","example":50,"type":"string"}},"required":["evaluation_periods","metric_name","metric_value"],"type":"object"}},"description":null,"group_id":"64579295290047fea862f501e033ff3f","host":"mrs.cn-north-4.myhuaweicloud.com","id":"293e9f34fd6d47bdab74cead191bac2d","info_version":"v2","method":"get","name":"ShowAutoScalingPolicy","parameters":{},"paths":{"/v2/{project_id}/autoscaling-policy/{cluster_id}":{"get":{"description":"查看指定集群的所有的弹性伸缩策略信息。","operationId":"ShowAutoScalingPolicy","parameters":[{"description":"项目编号。获取方法,请参见[获取项目ID](https://support.huaweicloud.com/api-mrs/mrs_02_0011.html)。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"集群ID。获取方法,请参见[获取集群ID](https://support.huaweicloud.com/api-mrs/mrs_02_9001.html)。","in":"path","name":"cluster_id","required":true,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"查看弹性伸缩策略成功","examples":{"application/json":[{"auto_scaling_policy":{"auto_scaling_enable":true,"max_capacity":1,"min_capacity":0,"resources_plans":[{"effective_days":["SUNDAY"],"end_time":"13:00","max_capacity":3,"min_capacity":2,"period_type":"daily","start_time":"12:00"}],"rules":[{"adjustment_type":"scale_out","cool_down_minutes":5,"description":"","name":"default-expand-1","scaling_adjustment":1,"trigger":{"comparison_operator":"GTOE","evaluation_periods":1,"metric_name":"YARNAppRunning","metric_value":100}}]},"node_group_name":"task_node_analysis_group","resource_pool_name":"default"}]},"schema":{"$ref":"#/definitions/ArrayAutoScalingPolicyV2"}},"400":{"description":"查看弹性伸缩策略失败","schema":{"$ref":"#/definitions/ErrorRsp"}}},"summary":"查看弹性伸缩策略","tags":["弹性伸缩接口"],"x-apiexplorer-hide":"N","x-constraint":"无","x-is-registered":"Y","x-support-sdk":"Y"}}},"product_short":"MRS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查看弹性伸缩策略","tags":"弹性伸缩接口","uri":null,"version":"2.0"}