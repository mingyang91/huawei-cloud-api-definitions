{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"BootstrapScript":{"properties":{"action_stages":{"description":"选择引导操作脚本执行的时间。\n- BEFORE_COMPONENT_FIRST_START: 组件首次启动后\n- AFTER_COMPONENT_FIRST_START: 组件首次启动前\n- BEFORE_SCALE_IN: 缩容前\n- AFTER_SCALE_IN: 缩容后\n- BEFORE_SCALE_OUT: 扩容前\n- AFTER_SCALE_OUT: 扩容后","items":{"description":"枚举值:\n- BEFORE_COMPONENT_FIRST_START: 组件首次启动后\n- AFTER_COMPONENT_FIRST_START: 组件首次启动前\n- BEFORE_SCALE_IN: 缩容前\n- AFTER_SCALE_IN: 缩容后\n- BEFORE_SCALE_OUT: 扩容前\n- AFTER_SCALE_OUT: 扩容后","enum":["BEFORE_COMPONENT_FIRST_START","AFTER_COMPONENT_FIRST_START","BEFORE_SCALE_IN","AFTER_SCALE_IN","BEFORE_SCALE_OUT","AFTER_SCALE_OUT"],"type":"string"},"type":"array"},"active_master":{"description":"引导操作脚本是否只运行在主Master节点上。\n缺省值为false,表示引导操作脚本可运行在所有Master节点上。","type":"boolean"},"before_component_start":{"description":"引导操作脚本执行的时间。目前支持“组件启动前”和“组件启动后”两种类型。\n缺省值为false,表示引导操作脚本在组件启动后执行。","type":"boolean"},"fail_action":{"description":"引导操作脚本执行失败后,是否继续执行后续脚本和创建集群。\n\n缺省值为errorout,表示终止操作。\n\n说明:\n建议您在调试阶段设置为“继续”,无论此引导操作是否执行成功,则集群都能继续安装和启动。\n\n枚举值:\n- continue:继续执行后续脚本。\n- errorout:终止操作。","enum":["continue","errorout"],"type":"string"},"name":{"description":"引导操作脚本的名称,同一个集群的引导操作脚本名称不允许相同。\n\n只能由数字、英文字符、空格、中划线和下划线组成,且不能以空格开头。\n\n可输入的字符串长度为1~64个字符。","maxLength":64,"minLength":1,"type":"string"},"nodes":{"description":"引导操作脚本所执行的节点类型,包含master、core和task三种类型。\n说明:节点类型必须为小写字母。","items":{"type":"string"},"type":"array"},"parameters":{"description":"引导操作脚本参数。","type":"string"},"start_time":{"description":"单个引导操作脚本的执行时间。","format":"int64","type":"integer"},"state":{"description":"单个引导操作脚本的运行状态。 \n- PENDING\n- IN_PROGRESS\n- SUCCESS\n- FAILURE","enum":["PENDING","IN_PROGRESS","SUCCESS","FAILURE"],"type":"string"},"uri":{"description":"引导操作脚本的路径。设置为OBS桶的路径或虚拟机本地的路径。\n- OBS桶的路径:直接手动输入脚本路径。例如输入MRS提供的公共样例脚本路径。示例:s3a://bootstrap/presto/presto-install.sh,其中安装dualroles时,presto-install.sh脚本参数为dualroles, 安装worker时,presto-install.sh脚本参数为worker。根据Presto使用习惯,建议您在Active Master节点上安装dualroles,在Core节点上安装worker。\n- 虚拟机本地的路径:用户需要输入正确的脚本路径。脚本所在的路径必须以‘/’开头,以.sh结尾。","type":"string"}},"required":["fail_action","name","nodes","uri"],"type":"object"},"Cluster":{"properties":{"availabilityZoneId":{"description":"可用区域","type":"string"},"azCode":{"description":"可用区域英文名称","type":"string"},"azId":{"description":"可用区域ID。","type":"string"},"azName":{"description":"可用区域名称。","type":"string"},"billingType":{"description":"集群计费模式。","type":"string"},"bootstrapScripts":{"description":"配置引导操作脚本信息。","items":{"$ref":"#/definitions/BootstrapScript"},"type":"array"},"chargingStartTime":{"description":"开始计费时间。","type":"string"},"clusterId":{"description":"集群ID。","type":"string"},"clusterName":{"description":"集群名称。","type":"string"},"clusterState":{"description":"集群状态,包括:\n- starting:启动中的集群。\n- running:运行中的集群。\n- terminated:已删除的集群。\n- failed:失败的集群。\n- abnormal:异常的集群。\n- terminating:删除中的集群。\n- frozen:已冻结的集群。\n- scaling-out:扩容中的集群。\n- scaling-in:缩容中的集群。","type":"string"},"clusterType":{"description":"集群类型。","format":"int32","type":"integer"},"clusterVersion":{"description":"集群版本。","type":"string"},"componentList":{"description":"组件列表信息。","items":{"$ref":"#/definitions/ComponentAmb"},"type":"array"},"coreDataVolumeCount":{"description":"Core节点数据磁盘个数。\n取值范围:1~10","format":"int32","type":"integer"},"coreDataVolumeSize":{"description":"Core节点数据磁盘存储空间。为增大数据存储容量,创建集群时可同时添加磁盘。\n取值范围:100GB~32000GB,传值只需填数字,不需要带单位GB。","format":"int32","type":"integer"},"coreDataVolumeType":{"description":"Core节点数据磁盘存储类别,目前支持SATA、SAS和SSD。","type":"string"},"coreNodeNum":{"description":"集群部署的Core节点数量。","type":"string"},"coreNodeProductId":{"description":"Core节点产品ID。","type":"string"},"coreNodeSize":{"description":"Core节点的实例规格。","type":"string"},"coreNodeSpecId":{"description":"Core节点规格ID。","type":"string"},"createAt":{"description":"集群创建时间,十位时间戳。","type":"string"},"dataCenter":{"description":"集群工作区域。","type":"string"},"deploymentId":{"description":"集群部署ID。","type":"string"},"duration":{"description":"集群购买时长。","type":"string"},"eipAddress":{"description":"集群弹性公网ip的IPV4地址","example":"100.XXX.XXX.XXX","type":"string"},"eipId":{"description":"集群弹性公网ip的唯一标识","example":"a2405dad-1be7-4f45-9e04-8d16f1fc7d82","type":"string"},"eipv6Address":{"description":"集群弹性公网ip的IPV6地址,IPv4时无此字段。","example":"2403:XXXX:XXXX::XXXX:XXXX","type":"string"},"enterpriseProjectId":{"description":"企业项目ID。","type":"string"},"errorInfo":{"description":"错误信息。","type":"string"},"externalAlternateIp":{"description":"公网备用IP地址。","type":"string"},"externalIp":{"description":"公网IP地址。","type":"string"},"fee":{"description":"创建集群所需费用,系统自动计算。","type":"string"},"hadoopVersion":{"description":"Hadoop组件版本信息。","type":"string"},"instanceId":{"description":"实例ID。","type":"string"},"internalIp":{"description":"内网IP地址。","type":"string"},"isMrsManagerFinish":{"description":"表示集群创建过程中,MRS Manager是否安装完成。\n- true:安装完成\n- false:安装未完成","type":"boolean"},"logCollection":{"description":"集群安装失败时,是否搜集日志。\n- 0:不收集\n- 1:收集","format":"int32","type":"integer"},"masterDataVolumeCount":{"description":"Master节点数据磁盘个数。\n取值只能是1","format":"int32","type":"integer"},"masterDataVolumeSize":{"description":"Master节点数据磁盘存储空间。为增大数据存储容量,创建集群时可同时添加磁盘。\n取值范围:100GB~32000GB,传值只需填数字,不需要带单位GB。","format":"int32","type":"integer"},"masterDataVolumeType":{"description":"Master节点数据磁盘存储类别,目前支持SATA、SAS和SSD。","type":"string"},"masterNodeIp":{"description":"Master节点IP。","type":"string"},"masterNodeNum":{"description":"集群部署的Master节点数量。","type":"string"},"masterNodeProductId":{"description":"Master节点产品ID。","type":"string"},"masterNodeSize":{"description":"Master节点的实例规格。","type":"string"},"masterNodeSpecId":{"description":"Master节点规格ID。","type":"string"},"nodeGroups":{"description":"Master节点、Core节点和Task节点列表信息。","items":{"$ref":"#/definitions/NodeGroupV10"},"type":"array"},"nodePublicCertName":{"description":"密钥文件名称。","type":"string"},"orderId":{"description":"创建集群的订单号。","type":"string"},"periodType":{"description":"区分包周期,集群是包年还是包月。\n- 0:包月\n- 1:包年","format":"int32","type":"integer"},"privateIpFirst":{"description":"首选私有IP。","type":"string"},"remark":{"description":"集群备注信息。","type":"string"},"safeMode":{"description":"MRS集群运行模式。\n- 0:普通集群\n- 1:安全集群","format":"int32","type":"integer"},"scale":{"description":"集群节点的变更状态(扩容/缩容/变更规格)。当该参数取值为空时,表示集群节点没有进行变更操作。\n取值范围:\n- scaling-out:扩容中\n- scaling-in:缩容中\n- scaling-error:处于running状态,且上一次扩容/缩容/升级规格失败的集群\n- scaling-up:Master节点规格升级中\n- scaling_up_first:备Master节点规格升级中\n- scaled_up_first:备Master节点规格升级成功\n- scaled-up-success:Master节点规格升级成功","type":"string"},"securityGroupsId":{"description":"安全组ID。","type":"string"},"slaveSecurityGroupsId":{"description":"非Master节点的安全组id,当前一个MRS集群只会使用一个安全组,所以该字段已经废弃,从兼容性考虑,该字段会返回和securityGroupsId同样的值。","type":"string"},"stageDesc":{"description":"集群进度描述。\n\n安装集群进度包括:\n- Verifying cluster parameters:校验集群参数中\n- Applying for cluster resources:申请集群资源中\n- Creating VM:创建虚拟机中\n- Initializing VM:初始化虚拟机中\n- Installing MRS Manager:安装MRS Manager中\n- Deploying cluster:部署集群中\n- Cluster installation failed:集群安装失败\n\n扩容集群进度包括:\n- Preparing for cluster expansion:准备扩容中\n- Creating VM:创建虚拟机中\n- Initializing VM:初始化虚拟机中\n- Adding node to the cluster:节点加入集群中\n- Cluster expansion failed:集群扩容失败\n\n缩容集群进度包括:\n- Preparing for cluster shrink:正在准备缩容\n- Decommissioning instance:实例退服中\n- Deleting VM:删除虚拟机中\n- Deleting node from the cluster:从集群删除节点中\n- Cluster shrink failed:集群缩容失败\n集群安装、扩容、缩容失败,stageDesc会显示失败的原因。","type":"string"},"subnetId":{"description":"子网ID。","type":"string"},"subnetName":{"description":"子网名称。","type":"string"},"tags":{"description":"标签信息","type":"string"},"taskNodeGroups":{"description":"Task节点列表信息。","items":{"$ref":"#/definitions/NodeGroupV10"},"type":"array"},"tenantId":{"description":"项目编号。","type":"string"},"totalNodeNum":{"description":"集群部署的节点总数。","type":"string"},"updateAt":{"description":"集群更新时间,十位时间戳。","type":"string"},"vnc":{"description":"远程登录弹性云服务器的URI地址。","type":"string"},"volumeSize":{"description":"磁盘存储空间。","format":"int32","type":"integer"},"volumeType":{"description":"磁盘类型。","type":"string"},"vpc":{"description":"VPC名称。","type":"string"},"vpcId":{"description":"VPC ID。","type":"string"}},"type":"object"},"ComponentAmb":{"properties":{"componentDesc":{"description":"组件描述信息。","type":"string"},"componentId":{"description":"组件ID。","type":"string"},"componentName":{"description":"组件名称。","type":"string"},"componentVersion":{"description":"组件版本。","type":"string"}},"type":"object"},"DescribeClustersRespV11":{"properties":{"cluster":{"$ref":"#/definitions/Cluster","description":"集群参数。"}},"type":"object"},"NodeGroupV10":{"properties":{"DataVolumeCount":{"description":"节点数据磁盘存储数目。","format":"int32","maximum":20,"minimum":0,"type":"integer"},"DataVolumeProductId":{"description":"节点数据磁盘的产品ID。","type":"string"},"DataVolumeResourceSpecCode":{"description":"节点数据磁盘的产品规格。","type":"string"},"DataVolumeResourceType":{"description":"节点数据磁盘的产品类型。","type":"string"},"DataVolumeSize":{"description":"节点数据磁盘存储大小。","format":"int32","type":"integer"},"DataVolumeType":{"description":"节点数据磁盘存储类别,目前支持SATA、SAS和SSD。\n\n- SATA:普通IO\n- SAS:高IO\n- SSD:超高IO","enum":["SATA","SAS","SSD","GPSSD"],"type":"string"},"GroupName":{"description":"节点组名。","maxLength":64,"minLength":0,"type":"string"},"NodeNum":{"description":"节点数量,取值范围0~500,Master节点和Core节点数量至少为1,Core与Task节点总数最大为500个。","format":"int32","maximum":500,"minimum":0,"type":"integer"},"NodeProductId":{"description":"节点实例产品ID。","type":"string"},"NodeSize":{"description":"节点的实例规格。","type":"string"},"NodeSpecId":{"description":"节点实例规格ID。","type":"string"},"RootVolumeProductId":{"description":"节点系统盘的产品ID。","type":"string"},"RootVolumeResourceSpecCode":{"description":"节点系统盘产品规格。","type":"string"},"RootVolumeResourceType":{"description":"节点系统盘产品类型。","type":"string"},"RootVolumeSize":{"description":"节点系统盘大小,不可配置,默认为40GB。","format":"int32","maximum":32000,"minimum":40,"type":"integer"},"RootVolumeType":{"description":"节点系统盘的类型。","type":"string"},"VmProductId":{"description":"节点虚拟机产品ID。","type":"string"},"VmSpecCode":{"description":"节点虚拟机产品规格。","type":"string"}},"type":"object"}},"description":null,"group_id":"64579295290047fea862f501e033ff3f","host":"mrs.cn-north-4.myhuaweicloud.com","id":"2df53e542e4e40c5939546e56fa860ff","info_version":"v1","method":"get","name":"ShowClusterDetails","parameters":{},"paths":{"/v1.1/{project_id}/cluster_infos/{cluster_id}":{"get":{"consumes":["application/json"],"deprecated":false,"description":"查看指定集群的详细信息。该接口不兼容Sahara。","operationId":"ShowClusterDetails","parameters":[{"description":"集群ID。获取方法,请参见[获取集群ID](https://support.huaweicloud.com/api-mrs/mrs_02_9001.html)。","in":"path","name":"cluster_id","required":true,"type":"string","x-example":"431b135exxxxxxebedb6e57xxxxxxxx"},{"description":"项目编号。获取方法,请参见[获取项目ID](https://support.huaweicloud.com/api-mrs/mrs_02_0011.html)。","in":"path","name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"}],"produces":["application/json"],"responses":{"200":{"description":"查询集群详情成功。","examples":{"application/json":{"cluster":{"azId":"null","azName":"az1.dc1","billingType":"Metered","bootstrapScripts":[{"action_stages":["AFTER_SCALE_IN","AFTER_SCALE_OUT"],"active_master":true,"before_component_start":true,"fail_action":"errorout","name":"test1-success","nodes":["master","core"],"parameters":"","start_time":1527681083,"state":"SUCCESS","uri":"s3a://bootscript/script/simple/basic_success.sh"}],"clusterId":"bdb064ff-2855-4624-90d5-e9a6376abd6e","clusterName":"c17022001","clusterState":"scaling-in","clusterType":"","clusterVersion":"MRS 2.1.0","componentList":[{"componentDesc":"A framework that allows for the distributed processing of large data sets across clusters.","componentId":"MRS 3.1.0_001","componentName":"Hadoop","componentVersion":"3.1.1"},{"componentDesc":"A fast and general engine for large-scale data processing.","componentId":"MRS 3.1.0_002","componentName":"Spark","componentVersion":"2.3.2"},{"componentDesc":"A data warehouse infrastructure that provides data summarization and ad hoc querying.","componentId":"MRS 3.1.0_004","componentName":"Hive","componentVersion":"3.1.0"},{"componentDesc":"A scalable, distributed database that supports structured data storage for large tables.","componentId":"MRS 3.1.0_003","componentName":"HBase","componentVersion":"2.1.1"}],"coreDataVolumeCount":"1","coreDataVolumeSize":"100","coreDataVolumeType":"SATA","coreNodeNum":"3","coreNodeProductId":"dc970349d128460e960a0c2b826c427c","coreNodeSize":"s1.xlarge.linux.bigdata","coreNodeSpecId":"cdc6035a249a40249312f5ef72a23cd7","createAt":"1487570757","dataCenter":"cn-north-1","deploymentId":"4ac46ca7-a488-4b91-82c2-e4d7aa9c40c2","duration":"0","eipAddress":"100.XXX.XXX.XXX","eipId":"b16dd5eb-5e5b-486a-906a-2e8f6e814a7a","eipv6Address":"2403:XXXX:XXXX::XXXX:XXXX","errorInfo":null,"externalAlternateIp":"100.XXX.XXX.XXX","externalIp":"100.XXX.XXX.XXX","fee":"0","hadoopVersion":"","instanceId":"4ac46ca7-a488-4b91-82c2-e4d7aa9c40c2","internalIp":"192.XXX.XXX.XXX","isMrsManagerFinish":false,"logCollection":"1","masterDataVolumeCount":"1","masterDataVolumeSize":"200","masterDataVolumeType":"SATA","masterNodeIp":"192.XXX.XXX.XXX","masterNodeNum":"2","masterNodeProductId":"b35cf2d2348a445ca74b32289a160882","masterNodeSize":"s3.2xlarge.2.linux.bigdata","masterNodeSpecId":"8ab05e503b4c42abb304e2489560063b","nodeGroups":[{"DataVolumeCount":"1","DataVolumeProductId":"16c1dcf0897249758b1ec276d06e0572","DataVolumeResourceSpecCode":"","DataVolumeResourceType":"","DataVolumeSize":"100","DataVolumeType":"SATA","GroupName":"master_node_default_group","NodeNum":"1","NodeProductId":"dc970349d128460e960a0c2b826c427c","NodeSize":"s3.xlarge.2.linux.bigdata","NodeSpecId":"cdc6035a249a40249312f5ef72a23cd7","RootVolumeProductId":"16c1dcf0897249758b1ec276d06e0572","RootVolumeResourceSpecCode":"","RootVolumeResourceType":"","RootVolumeSize":"40","RootVolumeType":"SATA","VmProductId":"","VmSpecCode":null},{"DataVolumeCount":"1","DataVolumeProductId":"16c1dcf0897249758b1ec276d06e0572","DataVolumeResourceSpecCode":"","DataVolumeResourceType":"","DataVolumeSize":"100","DataVolumeType":"SATA","GroupName":"core_node_analysis_group","NodeNum":"1","NodeProductId":"dc970349d128460e960a0c2b826c427c","NodeSize":"s3.xlarge.2.linux.bigdata","NodeSpecId":"cdc6035a249a40249312f5ef72a23cd7","RootVolumeProductId":"16c1dcf0897249758b1ec276d06e0572","RootVolumeResourceSpecCode":"","RootVolumeResourceType":"","RootVolumeSize":"40","RootVolumeType":"SATA","VmProductId":"","VmSpecCode":null},{"DataVolumeCount":"1","DataVolumeProductId":"16c1dcf0897249758b1ec276d06e0572","DataVolumeResourceSpecCode":"","DataVolumeResourceType":"","DataVolumeSize":"100","DataVolumeType":"SATA","GroupName":"task_node_analysis_group","NodeNum":"1","NodeProductId":"dc970349d128460e960a0c2b826c427c","NodeSize":"s3.xlarge.2.linux.bigdata","NodeSpecId":"cdc6035a249a40249312f5ef72a23cd7","RootVolumeProductId":"16c1dcf0897249758b1ec276d06e0572","RootVolumeResourceSpecCode":"","RootVolumeResourceType":"","RootVolumeSize":"40","RootVolumeType":"SATA","VmProductId":"","VmSpecCode":null}],"nodePublicCertName":"myp","orderId":"null","periodType":"0","privateIpFirst":"192.XXX.XXX.XXX","remark":"","safeMode":"1","securityGroupsId":"930e34e2-195d-401f-af07-0b64ea6603f8","slaveSecurityGroupsId":"2ef3343e-3477-4a0d-80fe-4d874e4f81b8","stageDesc":"Installing MRS Manager","subnetId":"6b96eec3-4f8d-4c83-93e2-6ec625001d7c","subnetName":"subnet-ftest","tags":"k1=v1,k2=v2,k3=v3","taskNodeGroups":[{"DataVolumeCount":"1","DataVolumeProductId":"16c1dcf0897249758b1ec276d06e0572","DataVolumeResourceSpecCode":"","DataVolumeResourceType":"","DataVolumeSize":"100","DataVolumeType":"SATA","GroupName":"task_node_default_group","NodeNum":"1","NodeProductId":"dc970349d128460e960a0c2b826c427c","NodeSize":"s3.xlarge.2.linux.bigdata","NodeSpecId":"cdc6035a249a40249312f5ef72a23cd7","RootVolumeProductId":"16c1dcf0897249758b1ec276d06e0572","RootVolumeResourceSpecCode":"","RootVolumeResourceType":"","RootVolumeSize":"40","RootVolumeType":"SATA","VmProductId":"","VmSpecCode":null}],"tenantId":"3f99e3319a8943ceb15c584f3325d064","updateAt":"1487668974","vnc":null,"volumeSize":"100","volumeType":"SATA","vpc":"vpc-autotest","vpcId":"e2978efd-ca12-4058-9332-1ca0bfbab592"}}},"schema":{"$ref":"#/definitions/DescribeClustersRespV11"}}},"summary":"查询集群详情","tags":["集群管理接口"],"x-apiexplorer-hide":"N","x-apigateway-auth-type":"IAM","x-apigateway-match-mode":"NORMAL","x-apigateway-request-type":"public","x-call_frequency":"high","x-constraint":"无","x-ctc":"N","x-hc":"Y","x-hk":"Y","x-hybridcloud":true,"x-is-registered":"Y","x-is_calling":"Y","x-is_registered":"Y","x-name":"获取集群详情","x-obc":"N","x-order":4,"x-otc":"N","x-request-examples-description-1":"","x-request-examples-url-1":"GET /v1.1/{project_id}/cluster_infos/{cluster_id}","x-scope":"Commercial","x-support-sdk":"Y","x-tlf":"N","x-version":"v1.1"}}},"product_short":"MRS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询集群详情","tags":"集群管理接口","uri":null,"version":"2.0"}