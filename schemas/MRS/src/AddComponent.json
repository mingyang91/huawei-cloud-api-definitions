{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"AddComponentsReq":{"description":"添加组件请求","properties":{"components_install_mode":{"description":"组件模型详情","items":{"$ref":"#/definitions/ComponentInstallMode"},"type":"array"}},"required":["components_install_mode"],"type":"object"},"ApiCommonResponse":{"description":"失败时返回的错误对象","properties":{"result":{"description":"更新映射请求操作结果,succeeded为操作成功,failed为操作失败","example":"succeeded","type":"string"}},"required":["result"]},"AssignedNodeGroup":{"description":"节点组详情","properties":{"assigned_roles":{"description":"角色部署信息。\n可以指定节点组中部署的角色,该参数是一个字符串数组,每个字符串表示一个角色表达式。\n角色表达式定义:\n- 当该角色在节点组所有节点部署时: {role name},如“DataNode”。\n- 当该角色在节点组指定下标节点部署时:{role name}:{index1},{index2}...,{indexN},如“NameNode:1,2”,下标从1开始计数。\n- 部分角色支持多实例部署(即在一个节点部署多个同角色的实例):{role name}[{instance count}],如“EsNode[9]”,多实例部署不需要指定角色位置,默认在节点组所有节点部署多个实例\n可选的角色请参考[MRS支持的角色与组件对应表](https://support.huaweicloud.com/api-mrs/mrs_02_0106.html)。","items":{"type":"string"},"maxLength":1000,"type":"array"},"name":{"description":"节点组名称","example":"node_group_1","maxLength":64,"minLength":1,"pattern":"^[a-z0-9A-Z_-]*$","type":"string"}},"required":["name","assigned_roles"],"type":"object"},"ComponentInstallMode":{"description":"组件详情","properties":{"component":{"description":"组件名称","example":"Kafka","maxLength":64,"minLength":1,"pattern":"^[a-z0-9A-Z_-]*$","type":"string"},"component_default_password":{"description":"配置组件default用户密码,该密码用于ClickHouse组件人机用户连接使用。\n- 密码长度应在8~26个字符之间\n- 不能与用户名或者倒序用户名相同\n- 必须包含如下4种字符的组合\n- 至少一个小写字母\n- 至少一个大写字母\n- 至少一个数字\n- 至少一个特殊字符:!@$%^-_=+[{}]:,./?","maxLength":26,"minLength":8,"type":"string"},"component_user_password":{"description":"配置组件用户密码,该密码用于ClickHouse组件机机用户连接使用。\n- 密码长度应在8~26个字符之间\n- 不能与用户名或者倒序用户名相同\n- 必须包含如下4种字符的组合\n- 至少一个小写字母\n- 至少一个大写字母\n- 至少一个数字\n- 至少一个特殊字符:!@$%^-_=+[{}]:,./?","maxLength":26,"minLength":8,"type":"string"},"node_groups":{"description":"该组件的角色部署信息","items":{"$ref":"#/definitions/AssignedNodeGroup"},"type":"array"}},"required":["component","node_groups"],"type":"object"}},"description":null,"group_id":"64579295290047fea862f501e033ff3f","host":"mrs.cn-north-4.myhuaweicloud.com","id":"e48df3a8692241c2aac2c60028c563ca","info_version":"v2","method":"post","name":"AddComponent","parameters":{},"paths":{"/v2/{project_id}/clusters/{cluster_id}/components":{"post":{"description":"集群添加组件","operationId":"AddComponent","parameters":[{"description":"项目编号。获取方法,请参见[获取项目ID](https://support.huaweicloud.com/api-mrs/mrs_02_0011.html)。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"集群ID。获取方法,请参见[获取集群ID](https://support.huaweicloud.com/api-mrs/mrs_02_9001.html)。","in":"path","name":"cluster_id","required":true,"type":"string"},{"description":"添加组件请求","in":"body","name":"AddComponentRequestBody","required":true,"schema":{"$ref":"#/definitions/AddComponentsReq"}}],"responses":{"200":{"description":"请求处理结果","examples":{"application/json":{"result":"succeeded"}},"schema":{"$ref":"#/definitions/ApiCommonResponse"}}},"summary":"集群添加组件","tags":["ClusterManagement"],"x-apiexplorer-hide":"N","x-is-registered":"Y","x-name":"集群添加组件","x-request-examples-1":{"components_install_mode":[{"component":"ClickHouse","component_default_password":"*****","component_user_password":"*****","node_groups":[{"assigned_roles":["ClickHouseServer:1,2"],"name":"master_node_default_group"},{"assigned_roles":["ClickHouseServer","ClickHouseBalancer"],"name":"node_group_1"}]}]},"x-request-examples-2":{"components_install_mode":[{"component":"HBase","node_groups":[{"assigned_roles":["RegionServer","HMaster"],"name":"master_node_default_group"}]}]},"x-request-examples-description-1":"非安全集群添加请求添加ClickHouse组件","x-request-examples-description-2":"添加Hbase组件","x-request-examples-text-1":{"components_install_mode":[{"component":"ClickHouse","component_default_password":"*****","component_user_password":"*****","node_groups":[{"assigned_roles":["ClickHouseServer:1,2"],"name":"master_node_default_group"},{"assigned_roles":["ClickHouseServer","ClickHouseBalancer"],"name":"node_group_1"}]}]},"x-request-examples-text-2":{"components_install_mode":[{"component":"HBase","node_groups":[{"assigned_roles":["RegionServer","HMaster"],"name":"master_node_default_group"}]}]},"x-request-examples-url-1":"v2/f77c10d14a544393a24e5f0bf53202b6/clusters/ff879d3a-e5d5-4485-a9b6-c673b52673fa/components","x-request-examples-url-2":"v2/f77c10d14a544393a24e5f0bf53202b6/clusters/ff879d3a-e5d5-4485-a9b6-c673b52673fa/components","x-support-sdk":"Y"}}},"product_short":"MRS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"集群添加组件","tags":"集群管理接口","uri":null,"version":"2.0"}