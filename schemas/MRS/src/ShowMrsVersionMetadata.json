{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ComponentExternalDatasource":{"description":"组件外部数据源","properties":{"name":{"description":"外部数据源名称","type":"string"},"types":{"description":"外部数据源类型","items":{"type":"string"},"type":"array"}},"type":"object"},"FlavorLists":{"description":"支持规格列表","properties":{"core":{"description":"core节点支持的规格列表","items":{"type":"string"},"type":"array"},"master":{"description":"master节点支持的规格列表","items":{"type":"string"},"type":"array"},"task":{"description":"task节点支持的规格列表","items":{"type":"string"},"type":"array"}},"type":"object"},"NodeConstraint":{"description":"节点限制","properties":{"disk_type_constraint":{"additionalProperties":{"type":"string"},"description":"磁盘类型限制,包含当前节点组所支持的磁盘类型","type":"object"},"max_node_group_num":{"description":"最大节点组数","format":"int32","type":"integer"},"max_node_num":{"description":"最多节点数","format":"int32","type":"integer"},"min_core_num":{"additionalProperties":{"format":"int32","type":"integer"},"description":"最少核心数","type":"object"},"min_data_volume_total_size":{"additionalProperties":{"format":"int32","type":"integer"},"description":"最小数据卷容量","type":"object"},"min_disk_size":{"description":"最小磁盘容量","format":"int32","type":"integer"},"min_mem_size":{"additionalProperties":{"format":"int32","type":"integer"},"description":"最小内存容量","type":"object"},"min_node_num":{"description":"最少节点数","format":"int32","type":"integer"},"min_root_disk_size":{"description":"最小系统磁盘大小","format":"int32","type":"integer"},"other":{"additionalProperties":{"type":"object"},"description":"其他限制","type":"object"}},"type":"object"},"NodeConstraints":{"description":"节点限制","properties":{"core":{"$ref":"#/definitions/NodeConstraint","description":"core节点限制,包括节点数,磁盘等限制"},"core_combine":{"$ref":"#/definitions/NodeConstraint","description":"core节点管控合设限制,管控合设模版下core节点的限制,包括节点数,磁盘等限制"},"core_separate":{"$ref":"#/definitions/NodeConstraint","description":"core节点管控分离限制,管控分离模版下core节点的限制,包括节点数,磁盘等限制"},"master":{"$ref":"#/definitions/NodeConstraint","description":"master节点限制,包括节点数,磁盘等限制"},"node_group_task":{"$ref":"#/definitions/NodeConstraint","description":"task节点组限制,包括节点数,磁盘等限制"},"other":{"additionalProperties":{"type":"object"},"description":"其他节点限制","type":"object"},"task":{"$ref":"#/definitions/NodeConstraint","description":"task节点限制,包括节点数,磁盘等限制"},"task_combine":{"$ref":"#/definitions/NodeConstraint","description":"task节点管控合设限制,管控合设模版下task节点的限制,包括节点数,磁盘等限制"},"task_separate":{"$ref":"#/definitions/NodeConstraint","description":"task节点管控分离限制,管控分离模版下task节点的限制,包括节点数,磁盘等限制"}},"type":"object"},"RoleDeployMeta":{"description":"角色部署元数据","properties":{"affinity":{"description":"亲和","type":"string"},"affinity_target":{"description":"亲和目标","type":"string"},"arbitration_deployment":{"description":"仲裁部署","type":"boolean"},"code_name":{"description":"角色简称","example":"\"NN\"","type":"string"},"component":{"description":"角色所属组件","example":"\"HDFS\"","type":"string"},"constraints":{"description":"角色限制,包含当前组件角色的一些功能限制,例如:\"no_scale_in\"","items":{"type":"string"},"type":"array"},"count":{"description":"角色数量限制","type":"string"},"local_disks_anti_affinity":{"description":"本地盘反亲和","type":"boolean"},"multi_affinity_group_enable":{"description":"启用多亲和组","type":"boolean"},"multi_az_placement":{"description":"多az部署","example":"\"AT_LEAST_2\"","type":"string"},"multi_instance":{"description":"多实例","format":"int32","type":"integer"},"multi_instance_name_pattern":{"description":"多实例名称模式","type":"string"},"name":{"description":"角色名称","example":"\"NameNode\"","type":"string"},"node_preference":{"description":"部署倾向","example":"\"MASTER\"","type":"string"},"other":{"additionalProperties":{"type":"object"},"description":"其他扩展属性","type":"object"},"private_ip":{"description":"私有IP","type":"string"},"role_kind":{"description":"角色类型","type":"string"},"support_elb":{"description":"支持ELB","type":"boolean"},"weight":{"description":"权重","type":"string"}},"type":"object"},"VersionComponent":{"description":"组件详情","properties":{"available_cluster_types":{"description":"支持该组件的集群类型","example":["analysis","mixed","custom"],"items":{"type":"string"},"type":"array"},"children_components":{"description":"子组件","example":["HDFS","Mapreduce","Yarn"],"items":{"type":"string"},"type":"array","uniqueItems":true},"depend_on":{"description":"组件依赖项","example":["ZooKeeper","Ranger"],"items":{"type":"string"},"type":"array"},"description":{"description":"组件描述","example":"\"A framework that allows for the distributed processing of large data sets across clusters.\"","type":"string"},"external_datasources":{"description":"外部数据源","items":{"$ref":"#/definitions/ComponentExternalDatasource"},"type":"array"},"multi_az_support_status":{"description":"多az支持状态","example":"\"multi_az_ha\"","type":"string"},"name":{"description":"组件名称","example":"\"Hadoop\"","type":"string"},"other":{"additionalProperties":{"type":"object"},"description":"其他","type":"object"},"resource_requirement":{"description":"所需的ip等资源说明","items":{"type":"string"},"type":"array"},"valid_roles":{"description":"有效角色","example":["NameNode","Zkfc","JournalNode"],"items":{"type":"string"},"type":"array"},"version":{"description":"支持版本","example":"\"3.1.1\"","type":"string"},"visible":{"description":"是否可见","type":"boolean"}},"type":"object"},"VersionConstraint":{"description":"版本限制说明","properties":{"node_constraint":{"$ref":"#/definitions/NodeConstraints","description":"节点限制"},"other":{"additionalProperties":{"type":"object"},"description":"其他限制","type":"object"},"safe_mode_kerberos_exclude_components":{"description":"安全模式kerberos排除组件列表","example":["Presto","Pulsar"],"items":{"type":"string"},"type":"array"}},"type":"object"},"VersionMetadata":{"description":"版本元数据信息","properties":{"cluster_types":{"description":"集群类型列表","example":["analysis","streaming","mixed","custom"],"items":{"type":"string"},"type":"array"},"components":{"description":"组件列表","items":{"$ref":"#/definitions/VersionComponent"},"type":"array"},"constraints":{"$ref":"#/definitions/VersionConstraint","description":"版本限制说明"},"features":{"description":"特性列表","example":["obs_integration","random_passwd_for_install","log_collect"],"items":{"type":"string"},"type":"array"},"flavors":{"$ref":"#/definitions/FlavorLists","description":"规格列表"},"image_id":{"description":"镜像ID","example":"\"ECS:X86:f61186d9-dfd5-4625-a876-e1c1db1120bf,ECS:ARM:39292585-8fbd-4abc-b222-b46481c45df4\"","type":"string"},"name":{"description":"镜像版本名称","example":"MRS 2.1.0","type":"string"},"other":{"additionalProperties":{"type":"object"},"description":"其他","type":"object"},"resource_requirement":{"description":"版本所需的ip等资源说明","example":["privateIp:2"],"items":{"type":"string"},"type":"array"},"role_deploy_meta":{"description":"版本组件实例角色部署策略","items":{"$ref":"#/definitions/RoleDeployMeta"},"type":"array"},"status":{"description":"版本状态","example":"beta","type":"string"},"template_type":{"description":"模板类型","example":"\"clusterFusion\",管控合设,管控分设","type":"string"},"version_type":{"description":"版本类型","example":"LTS,basic","type":"string"}},"type":"object"}},"description":null,"group_id":"64579295290047fea862f501e033ff3f","host":"mrs.cn-north-4.myhuaweicloud.com","id":"3e9e7f680e1d463fadad87d32275180e","info_version":"v1","method":"get","name":"ShowMrsVersionMetadata","parameters":{},"paths":{"/v1.1/{project_id}/metadata/versions/{version_name}":{"get":{"description":"查询对应版本元数据。如果参数里指定集群id,则可查询集群更新过补丁之后的最新元数据。","operationId":"ShowMrsVersionMetadata","parameters":[{"description":"项目ID。","in":"path","maxLength":64,"minLength":1,"name":"project_id","pattern":"^[a-z0-9A-Z_-]*$","required":true,"type":"string"},{"description":"集群版本。例如“MRS 3.1.0”。如果请求客户端不支持自动转义,则需要将空格转义为%20,例如“MRS%203.1.0”。","in":"path","name":"version_name","required":true,"type":"string"},{"description":"集群ID。如果指定集群ID,则获取该集群做过补丁更新的最新版本元数据。","in":"query","maxLength":64,"minLength":1,"name":"cluster_id","pattern":"^[a-z0-9A-Z_-]*$","required":false,"type":"string"}],"responses":{"200":{"description":"版本元数据详情。(该样例省略了部分内容,详细返回请调用接口查看)","examples":{"application/json":{"cluster_types":["analysis","streaming","mixed","custom"],"components":[{"available_cluster_types":["analysis","mixed","custom"],"children_components":["HDFS","Mapreduce","Yarn"],"depend_on":["ZooKeeper","Ranger"],"description":"A framework that allows for the distributed processing of large data sets across clusters.","external_datasources":null,"multi_az_support_status":"multi_az_ha","name":"Hadoop","other":{},"resource_requirement":["privateIp:1"],"valid_roles":["NameNode","Zkfc","JournalNode","DataNode","ResourceManager","NodeManager","JobHistoryServer","TimelineServer","HttpFS"],"version":"3.1.1","visible":true},{"available_cluster_types":["analysis","mixed","custom"],"children_components":["Spark2x"],"depend_on":["HDFS","Yarn","Hive","KrbClient","KrbServer","ZooKeeper"],"description":"Apache Spark2x is a fast and general engine based on open source Spark2.x for large-scale data processing.","external_datasources":null,"multi_az_support_status":"multi_az_ha","name":"Spark2x","other":{},"resource_requirement":null,"valid_roles":["JobHistory2x","JDBCServer2x","SparkResource2x","IndexServer2x"],"version":"2.4.5","visible":true},{"available_cluster_types":["analysis","mixed","custom"],"children_components":["HBase"],"depend_on":["HDFS","Yarn","KrbServer","ZooKeeper"],"description":"A scalable, distributed database that supports structured data storage for large tables.","external_datasources":null,"multi_az_support_status":"multi_az_ha","name":"HBase","other":{},"resource_requirement":null,"valid_roles":["HMaster","RegionServer","ThriftServer","Thrift1Server","RESTServer","RegionServer_1"],"version":"2.2.3","visible":true},{"available_cluster_types":["analysis","mixed","custom"],"children_components":["Hive"],"depend_on":["HDFS","Mapreduce","Yarn","DBService","ZooKeeper"],"description":"A data warehouse infrastructure that provides data summarization and ad hoc querying.","external_datasources":[{"name":"hive_metastore","types":["RDS_MYSQL","DLCATALOG"]}],"multi_az_support_status":"multi_az_ha","name":"Hive","other":{},"resource_requirement":null,"valid_roles":["MetaStore","WebHCat","HiveServer"],"version":"3.1.0","visible":true},{"available_cluster_types":["analysis","streaming","mixed","custom"],"children_components":["ZooKeeper"],"depend_on":["KrbClient","KrbServer"],"description":null,"external_datasources":null,"multi_az_support_status":"multi_az_ha","name":"ZooKeeper","other":{},"resource_requirement":null,"valid_roles":["quorumpeer"],"version":null,"visible":true}],"constraints":{"node_constraint":{"core":{"disk_type_constraint":null,"max_node_group_num":null,"max_node_num":500,"min_core_num":null,"min_data_volume_total_size":null,"min_disk_size":600,"min_mem_size":null,"min_node_num":3,"min_root_disk_size":480,"other":{}},"core_combine":null,"core_separate":null,"master":{"disk_type_constraint":null,"max_node_group_num":1,"max_node_num":9,"min_core_num":null,"min_data_volume_total_size":null,"min_disk_size":600,"min_mem_size":null,"min_node_num":2,"min_root_disk_size":480,"other":{}},"node_group_task":{"disk_type_constraint":null,"max_node_group_num":9,"max_node_num":10000,"min_core_num":null,"min_data_volume_total_size":null,"min_disk_size":600,"min_mem_size":null,"min_node_num":2,"min_root_disk_size":480,"other":{}},"other":{},"task":null,"task_combine":null,"task_separate":null},"other":{},"safe_mode_kerberos_exclude_components":["Presto","Pulsar"],"tab_page_constraint":null},"features":["anti_affinity","auto_scaling","bootstrap_scripts","bootstrap_support_obs","custom_config","custom_topology","datasource_manager","decouple_install","elastic_ip","fi_cluster","fi_cluster_v2","iam_user_sync","log_collect","log_collect_v2","master_scale_up","mrs_ecs_agency","multi_disks","multi_login_mode","obs_integration","obs_user_policy","opensource_port_matrix","ops_channel","password_policy_v2","random_passwd_for_install","register_dns_server","resize","resources_plans","safe_mode","scale_scripts","security_job_submit","smn_alarm","spark_sql_validation_in_executor","support_obs_protocol","task_node","unified_management_ui","sql_execution","multi_az","weak_multi_az_deployment_constraint","multi_master_scale_up","omm_random_pwd","metric_monitor","auth_manager","cluster_patch","hw_domain_name","fi_custom_config","force_scale_up","skip_fi_evs_expand","detach_node"],"flavors":{"core":["ac7.4xlarge.4","ac7.8xlarge.4","ac7.16xlarge.4","ac7.32xlarge.4","ac7.8xlarge.2","ac7.16xlarge.2","ac7.32xlarge.2","am7.2xlarge.8","am7.4xlarge.8","am7.8xlarge.8","c3ne.4xlarge.4","c3ne.8xlarge.4","c3ne.15xlarge.4","c6.4xlarge.4","c6.8xlarge.2","c6.8xlarge.4","c6.16xlarge.2"],"master":["ac7.4xlarge.4","ac7.8xlarge.4","ac7.16xlarge.4","ac7.32xlarge.4","ac7.8xlarge.2","ac7.16xlarge.2","ac7.32xlarge.2","am7.2xlarge.8","am7.4xlarge.8","am7.8xlarge.8","c3ne.4xlarge.4","c3ne.8xlarge.4","c3ne.15xlarge.4"],"task":["ac7.4xlarge.4","ac7.8xlarge.4","ac7.16xlarge.4","ac7.32xlarge.4","ac7.8xlarge.2","ac7.16xlarge.2","ac7.32xlarge.2","am7.2xlarge.8","am7.4xlarge.8","am7.8xlarge.8","c3ne.4xlarge.4","c3ne.8xlarge.4","c3ne.15xlarge.4"]},"image_id":"ECS:X86:deda7c89-6069-46d3-af7c-4afc31eec0d9,ECS:ARM:d5f0087b-9fd7-4977-b9c8-d07262f452d6,BMS:ks1ne:bf071a00-d1d6-472f-943b-22f733248f36,BMS:d2:a9a1a279-85c9-4c05-bd0a-4cb786937a09","name":"MRS 3.1.0","other":{},"resource_requirement":["privateIp:2"],"role_deploy_meta":[{"affinity":null,"affinity_target":null,"arbitration_deployment":false,"code_name":"OMS","component":"OMSServer","constraints":null,"count":"2","local_disks_anti_affinity":false,"multi_affinity_group_enable":false,"multi_az_placement":"AT_LEAST_2","multi_instance":null,"multi_instance_name_pattern":null,"name":"OMSServer","node_preference":"MASTER","other":{},"private_ip":null,"role_kind":null,"support_elb":false,"weight":null},{"affinity":null,"affinity_target":null,"arbitration_deployment":false,"code_name":"NN","component":"HDFS","constraints":null,"count":"2","local_disks_anti_affinity":false,"multi_affinity_group_enable":false,"multi_az_placement":"AT_LEAST_2","multi_instance":null,"multi_instance_name_pattern":null,"name":"NameNode","node_preference":"MASTER","other":{},"private_ip":null,"role_kind":null,"support_elb":false,"weight":null},{"affinity":"JUST_COLOCATE","affinity_target":"NameNode","arbitration_deployment":false,"code_name":"ZKFC","component":"HDFS","constraints":null,"count":null,"local_disks_anti_affinity":false,"multi_affinity_group_enable":false,"multi_az_placement":"AT_LEAST_2","multi_instance":null,"multi_instance_name_pattern":null,"name":"Zkfc","node_preference":null,"other":{},"private_ip":null,"role_kind":null,"support_elb":false,"weight":null},{"affinity":null,"affinity_target":null,"arbitration_deployment":false,"code_name":"HFS","component":"HDFS","constraints":null,"count":"[0-10]","local_disks_anti_affinity":false,"multi_affinity_group_enable":false,"multi_az_placement":"AT_LEAST_2","multi_instance":null,"multi_instance_name_pattern":null,"name":"HttpFS","node_preference":"MASTER","other":{},"private_ip":null,"role_kind":null,"support_elb":false,"weight":null},{"affinity":null,"affinity_target":null,"arbitration_deployment":true,"code_name":"JN","component":"HDFS","constraints":null,"count":"[3-60],step=2","local_disks_anti_affinity":false,"multi_affinity_group_enable":false,"multi_az_placement":"QUORUM_LIKE","multi_instance":null,"multi_instance_name_pattern":null,"name":"JournalNode","node_preference":"MASTER","other":{},"private_ip":null,"role_kind":null,"support_elb":false,"weight":null},{"affinity":null,"affinity_target":null,"arbitration_deployment":false,"code_name":"DN","component":"HDFS","constraints":null,"count":"[3-10000]","local_disks_anti_affinity":false,"multi_affinity_group_enable":false,"multi_az_placement":"AT_LEAST_2","multi_instance":null,"multi_instance_name_pattern":null,"name":"DataNode","node_preference":"NO_LIMIT","other":{},"private_ip":null,"role_kind":"stateful","support_elb":false,"weight":null},{"affinity":null,"affinity_target":null,"arbitration_deployment":false,"code_name":"RM","component":"Yarn","constraints":null,"count":"2","local_disks_anti_affinity":false,"multi_affinity_group_enable":false,"multi_az_placement":"AT_LEAST_2","multi_instance":null,"multi_instance_name_pattern":null,"name":"ResourceManager","node_preference":"MASTER","other":{},"private_ip":null,"role_kind":null,"support_elb":false,"weight":null},{"affinity":null,"affinity_target":null,"arbitration_deployment":false,"code_name":"NM","component":"Yarn","constraints":null,"count":"[3-10000]","local_disks_anti_affinity":false,"multi_affinity_group_enable":false,"multi_az_placement":"AT_LEAST_2","multi_instance":null,"multi_instance_name_pattern":null,"name":"NodeManager","node_preference":"NO_LIMIT","other":{},"private_ip":null,"role_kind":"stateless","support_elb":false,"weight":null}],"status":"GA","template_type":"clusterFusion","version_type":"basic"}},"schema":{"$ref":"#/definitions/VersionMetadata"}}},"summary":"查询对应版本元数据","tags":["VersionMetaQuery"],"x-apiexplorer-hide":"N","x-is-registered":"Y","x-name":"查询对应版本元数据","x-request-examples-description-1":"获取MRS 3.1.0的版本元数据","x-request-examples-url-1":"GET /v1.1/{project_id}/metadata/versions/MRS%203.1.0","x-support-sdk":"Y"}}},"product_short":"MRS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询对应版本元数据","tags":"版本元数据查询","uri":null,"version":"2.0"}