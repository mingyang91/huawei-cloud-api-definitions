{"base_path":null,"components":null,"consumes":"[\"application/json\"]","definitions":{"CreateVersionAliasRequestBody":{"description":"创建别名请求体","properties":{"additional_version_strategy":{"additionalProperties":{"$ref":"#/definitions/VersionStrategy"},"description":"指定规则灰度策略信息","type":"object"},"additional_version_weights":{"additionalProperties":{"type":"integer"},"description":"百分比灰度配置信息","type":"object"},"description":{"description":"别名描述信息。","type":"string"},"name":{"description":"别名名称。","type":"string"},"version":{"description":"别名对应的版本名称。","type":"string"}},"required":["name","version"]},"CreateVersionAliasResponseBody":{"description":"创建别名响应体","properties":{"additional_version_strategy":{"additionalProperties":{"$ref":"#/definitions/VersionStrategy"},"description":"指定规则灰度策略信息","type":"object"},"additional_version_weights":{"additionalProperties":{"type":"integer"},"description":"百分比灰度配置信息","type":"object"},"alias_urn":{"description":"版本别名唯一标识。","type":"string"},"description":{"description":"别名描述信息。","type":"string"},"last_modified":{"description":"别名最后修改时间。","format":"date-time","type":"string"},"name":{"description":"要获取的别名名称。","type":"string"},"version":{"description":"别名对应的版本名称。","type":"string"}},"required":["alias_urn","last_modified","name","version"]},"ErrorResp":{"properties":{"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误信息","type":"string"}}},"VersionStrategy":{"description":"灰度策略信息","properties":{"combine_type":{"description":"所有规则聚合方式。and:所有规则都满足,or:满足其中一个","enum":["and","or"],"example":"and","type":"string"},"rules":{"description":"规则列表","items":{"$ref":"#/definitions/VersionStrategyRules"},"type":"array"}}},"VersionStrategyRules":{"properties":{"op":{"description":"规则匹配操作符,目前仅需支持 = 或者in。","enum":["in","="],"example":"in","type":"string"},"param":{"description":"规则参数名, 只支持大小写字母,数字,下划线,中划线。","example":"xxx","type":"string"},"rule_type":{"description":"参数类型。","enum":["header","cookie"],"example":"header","type":"string"},"value":{"description":"规则值,如果op为in,则为逗号分隔的多值字符串","example":"xxx,xxx","type":"string"}}}},"description":null,"group_id":"cb46b925a4eb40a192520da4fc33b990","host":"functiongraph.cn-north-4.myhuaweicloud.com","id":"ddb95ed103404ef88ba877f2ee3e9ab6","info_version":"v2","method":"post","name":"CreateVersionAlias","parameters":{"Content-Type":{"default":"application/json","description":"消息体的类型(格式)","in":"header","name":"Content-Type","required":true,"type":"string","x-example":"application/json"},"X-Auth-Token":{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},"function_urn":{"description":"函数的URN,详细解释见FunctionGraph函数模型的描述。","in":"path","name":"function_urn","required":true,"type":"string","x-example":"urn:fss:{region}:46b6f338fc3445b8846c71dfb1fbxxxx:function:csharp:test2-0:latest"},"project_id":{"description":"租户项目 ID,获取方式请参见[获取项目ID](functiongraph_06_0260.xml)。","in":"path","name":"project_id","required":true,"type":"string","x-example":"46b6f338fc3445b8846c71dfb1fbd9e8"}},"paths":{"/v2/{project_id}/fgs/functions/{function_urn}/aliases":{"post":{"description":"创建函数灰度版本别名。","operationId":"CreateVersionAlias","parameters":[{"$ref":"#/parameters/project_id"},{"$ref":"#/parameters/function_urn"},{"$ref":"#/parameters/X-Auth-Token"},{"$ref":"#/parameters/Content-Type"},{"description":"创建函数请求body体。","in":"body","name":"CreateVersionAliasRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateVersionAliasRequestBody"},"x-order":4}],"responses":{"200":{"description":"ok","examples":{"application/json":{"alias_urn":"urn:fss:{region}:46b6f338fc3445b8846c71dfb1fbxxxx:function:default:xxxxx:!a1","description":"","last_modified":"2019-10-31T11:37:58+08:00","name":"a1","version":"latest"}},"schema":{"$ref":"#/definitions/CreateVersionAliasResponseBody"}},"400":{"description":"Bad Request 请求错误。","schema":{"$ref":"#/definitions/ErrorResp"}},"401":{"description":"Unauthorized 鉴权失败。","schema":{"$ref":"#/definitions/ErrorResp"}},"403":{"description":"Forbidden 没有操作权限。","schema":{"$ref":"#/definitions/ErrorResp"}},"404":{"description":"Not Found 找不到资源。","examples":{"application/json":{"error_code":"FSS.1051","error_msg":"Not found the function"}},"schema":{"$ref":"#/definitions/ErrorResp"}},"500":{"description":"Internal Server Error 服务内部错误。","schema":{"$ref":"#/definitions/ErrorResp"}}},"summary":"创建函数版本别名","tags":["函数版本别名"],"x-produc-type":"functiongraph","x-request-examples-1":{"name":"a1","version":"v1"},"x-request-examples-2":{"additional_version_weights":{"v2":50},"name":"a1","version":"v1"},"x-request-examples-3":{"additional_version_strategy":{"v2":{"combine_type":"and","rules":[{"op":"=","param":"version","rule_type":"Header","value":"v1"}]}},"name":"a1","version":"v1"},"x-request-examples-description-1":"为函数的v1版本创建别名a1。","x-request-examples-description-2":"为函数的v1版本创建别名a1,且开启灰度版本,将v2版本设置为50%随机灰度。","x-request-examples-description-3":"为函数的v1版本创建别名a1,且开启灰度版本,将v2版本设置为指定规则灰度。","x-request-examples-url-1":"POST https://{Endpoint}/v2/{project_id}/fgs/functions/{function_urn}/aliases","x-request-examples-url-2":"POST https://{Endpoint}/v2/{project_id}/fgs/functions/{function_urn}/aliases","x-request-examples-url-3":"POST https://{Endpoint}/v2/{project_id}/fgs/functions/{function_urn}/aliases","x-support-sdk":"Y"}}},"product_short":"FunctionGraph","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建函数版本别名","tags":"函数版本别名","uri":null,"version":"2.0"}