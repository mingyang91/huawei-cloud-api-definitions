{"base_path":"/","components":null,"consumes":"","definitions":{"EventList":{"description":"事件告警上报实体。","properties":{"events":{"description":"事件或者告警详情。","items":{"$ref":"#/definitions/EventModel","type":"object"},"type":"array"}},"required":["events"],"type":"object"},"EventModel":{"description":"事件或者告警元数据。","example":{"annotations":{"alarm_fix_suggestion_zh_cn":"修复建议","alarm_probableCause_zh_cn":"可能原因"},"attach_rule":{},"ends_at":1579420868000,"metadata":{"event_name":"test","event_severity":"Major","event_type":"alarm","resource_id":"ecs123","resource_provider":"ecs","resource_type":"vm"},"resource_group_id":"5680587ab6*******755c543c1f","starts_at":1579420868000,"timeout":60000},"properties":{"annotations":{"additionalProperties":{"type":"object"},"description":"事件或者告警附加字段,可以为空。","type":"object"},"attach_rule":{"additionalProperties":{"type":"object"},"description":"事件或者告警预留字段,为空。","type":"object"},"ends_at":{"description":"事件或者告警清除的时间,CST毫秒级时间戳,为0时表示未删除。","format":"int64","type":"integer"},"id":{"description":"事件或者告警id,系统会自动生成,上报无须填写该字段。","type":"string"},"metadata":{"additionalProperties":{"type":"string"},"description":"事件或者告警的详细信息,为键值对形式。必须字段为:\n\n- event_name:事件或者告警名称,类型为String;\n\n- event_severity:事件级别枚举值。类型为String,四种类型 \"Critical\", \"Major\", \"Minor\",\n\"Info\";\n\n- event_type:事件类别枚举值。类型为String,event为告警事件,alarm为普通告警;\n\n- resource_provider:事件对应云服务名称。类型为String;\n\n- resource_type:事件对应资源类型。类型为String;\n\n- resource_id:事件对应资源信息。类型为String。","type":"object"},"starts_at":{"description":"事件或者告警产生的时间,CST毫秒级时间戳。","format":"int64","type":"integer"},"timeout":{"description":"告警自动清除时间。毫秒数,例如一分钟则填写为60000。默认清除时间为3天,对应数字为 4320 * 1000(即:3天 * 24小时 * 60分钟 * 1000毫秒)。","format":"int64","type":"integer"}},"type":"object"}},"description":null,"group_id":"ac32153cf89a435d96dd423fdce82920","host":"aom.cn-north-4.myhuaweicloud.com","id":"8a40608ee7d5484297bdfa7fdfc9df95","info_version":"v2","method":"put","name":"PushEvents","parameters":{},"paths":{"/v2/{project_id}/push/events":{"put":{"consumes":["application/json"],"description":"该接口用于上报对应用户的事件、告警。","operationId":"PushEvents","parameters":[{"description":"租户从IAM申请到的projectid,一般为32位字符串。","in":"path","name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"从IAM服务获取的用户Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."},{"description":"指定类型为application/json。","enum":["application/json"],"in":"header","name":"Content-Type","required":true,"type":"string"},{"description":"告警所属的企业项目id。","in":"header","name":"x-enterprise-prject-id","required":false,"type":"string"},{"description":"接口请求动作。action=clear代表清除告警,不传或者传其他值默认为上报动作。","enum":["clear"],"in":"query","name":"action","required":false,"type":"string","x-example":"clear"},{"description":"事件或者告警列表。","in":"body","name":"PushEventsRequestBody","required":true,"schema":{"$ref":"#/definitions/EventList"}}],"produces":["application/json"],"responses":{"204":{"description":"OK 请求响应成功。"},"400":{"description":"BadRequest 非法请求。建议直接修改该请求,不要重试该请求。"},"401":{"description":"Unauthorized  在客户端提供认证信息后,返回该状态码,表明服务端指出客户端所提供的认证信息不正确或非法。"},"403":{"description":"Forbidden 请求被拒绝访问。返回该状态码,表明请求能够到达服务端,且服务端能够理解用户请求,但是拒绝做更多的事情,因为该请求被设置为拒绝访问,建议直接修改该请求,不要重试该请求。"},"500":{"description":"InternalServerError 表明服务端能被请求访问到,但是不能理解用户的请求。"},"503":{"description":"ServiceUnavailable 被请求的服务无效。建议直接修改该请求,不要重试该请求。"}},"summary":"上报事件告警信息","tags":["告警"],"x-apigateway-backend":{"httpEndpoints":{"address":"10.63.46.141:443","description":"","method":"POST","path":"/v2/{project_id}/push/events","scheme":"https","timeout":30000},"parameters":[{"description":"","in":"PATH","name":"project_id","origin":"REQUEST","value":"project_id"}],"type":"HTTP"},"x-apigateway-cors":false,"x-apigateway-match-mode":"NORMAL","x-apigateway-request-type":"public","x-is-registered":"Y","x-request-examples-1":{"events":[{"annotations":{"alarm_fix_suggestion_zh_cn":"修复建议","alarm_probableCause_zh_cn":"可能原因","message":"告警详情"},"attach_rule":{},"metadata":{"event_name":"test","event_severity":"Major","event_type":"alarm","resource_id":"ecs123","resource_provider":"ecs","resource_type":"vm"},"starts_at":1605232501000,"timeout":60000}]},"x-request-examples-description-1":"上报一条名称为“test”、事件等级为“Major”且告警源为“ecs”的告警。","x-request-examples-text-1":{"events":[{"annotations":{"alarm_fix_suggestion_zh_cn":"修复建议","alarm_probableCause_zh_cn":"可能原因","message":"告警详情"},"attach_rule":{},"metadata":{"event_name":"test","event_severity":"Major","event_type":"alarm","resource_id":"ecs123","resource_provider":"ecs","resource_type":"vm"},"starts_at":1605232501000,"timeout":60000}]},"x-request-examples-url-1":"https://{EndPoint}/v2/{project_id}/push/events","x-support-sdk":"Y"}}},"product_short":"AOM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"上报事件告警信息","tags":"告警","uri":null,"version":"2.0"}