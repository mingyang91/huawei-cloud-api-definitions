{"base_path":"/","components":null,"consumes":"","definitions":{"AgentUpgradeParam":{"properties":{"agent_list":{"description":"UniAgent主机列表信息。","items":{"$ref":"#/definitions/SingleAgentParam"},"type":"array"},"version":{"description":"UniAgent升级的版本号。","type":"string"}},"required":["version","agent_list"],"type":"object"},"NoPrivilegeException":{"properties":{"error_code":{"description":"错误码","example":"AOM.32000002","type":"string"},"error_msg":{"description":"错误信息","example":"No permission.","maxLength":1024,"minLength":0,"type":"string"}}},"ParamException":{"properties":{"error_code":{"description":"错误码","example":"AOM.32000003","type":"string"},"error_msg":{"description":"错误信息","example":"Invalid parameter.","maxLength":1024,"minLength":0,"type":"string"}}},"Response":{"properties":{"state":{"description":"执行状态:\n- true:成功下发任务。\n- false:失败下发任务。","type":"boolean"}},"type":"object"},"SingleAgentParam":{"properties":{"agent_id":{"description":"agent ID唯一值。","type":"string"},"inner_ip":{"description":"主机ip。","type":"string"}},"required":["agent_id","inner_ip"],"type":"object"}},"description":null,"group_id":"ac32153cf89a435d96dd423fdce82920","host":"aom.cn-north-4.myhuaweicloud.com","id":"b417b6fce0f14124820baef1c496f749","info_version":"v4","method":"post","name":"BatchUpdateAgent","parameters":{},"paths":{"/v1/{project_id}/uniagent-console/upgrade/batch-upgrade":{"post":{"description":"该接口用于下发批量升级UniAgent任务。","operationId":"BatchUpdateAgent","parameters":[{"description":"租户从IAM申请到的projectid,一般为32位字符串。","in":"path","maxLength":32,"minLength":32,"name":"project_id","required":true,"type":"string"},{"description":"从IAM服务获取的用户Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"指定类型为application/json。","enum":["application/json"],"in":"header","name":"Content-Type","required":true,"type":"string"},{"description":"升级UniAgent信息。","in":"body","name":"BatchUpdateAgentRequestBody","required":true,"schema":{"$ref":"#/definitions/AgentUpgradeParam"}}],"produces":["application/json"],"responses":{"200":{"description":"OK 请求响应成功。","examples":{"application/json":{"state":true}},"schema":{"$ref":"#/definitions/Response"}},"400":{"description":"BadRequest 非法请求。建议直接修改该请求,不要重试该请求。","examples":{"application/json":{"error_code":"AOM.32000003","error_msg":"Invalid parameter."}},"schema":{"$ref":"#/definitions/ParamException"}},"403":{"description":"Forbidden 请求被拒绝访问。返回该状态码,表明请求能够到达服务端,且服务端能够理解用户请求,但是拒绝做更多的事情,因为该请求被设置为拒绝访问,建议直接修改该请求,不要重试该请求。","examples":{"application/json":{"error_code":"AOM.32000002","error_msg":"No permission."}},"schema":{"$ref":"#/definitions/NoPrivilegeException"}}},"summary":"下发批量升级UniAgent任务","tags":["UniAgent管理"],"x-api-type":"open-api","x-is-registered":"Y","x-open-region-cloud":"hws","x-request-examples-1":{"agent_list":[{"agent_id":"24cfff********************77","inner_ip":"192.168.0.136"}],"version":"1.1.0"},"x-request-examples-description-1":"批量升级UniAgent","x-request-examples-text-1":{"agent_list":[{"agent_id":"24cfff********************77","inner_ip":"192.168.0.136"}],"version":"1.1.0"},"x-request-examples-url-1":"https://{Endpoint}/v1/{project_id}/uniagent-console/upgrade/batch-upgrade","x-support-sdk":"Y"}}},"product_short":"AOM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"下发批量升级UniAgent任务","tags":"UniAgent管理","uri":null,"version":"2.0"}