{"base_path":"/v1","components":null,"consumes":"","definitions":{"HISFastScript":{"description":"HIS 用户快速执行脚本实体类。","properties":{"cmd_user":{"description":"执行脚本的ECS机器用户。","maxLength":1024,"minLength":1,"type":"string"},"ecs_id_list":{"description":"执行的机器列表。","maxLength":10000,"minLength":1,"type":"string"},"name":{"description":"任务名称。","maxLength":1024,"minLength":1,"type":"string"},"project_id":{"description":"项目ID。","maxLength":32,"minLength":32,"type":"string"},"script_args":{"description":"任务参数,多个参数以空格分隔。","maxLength":10000,"minLength":1,"type":"string"},"script_content":{"description":"脚本内容。","maxLength":10000,"minLength":1,"type":"string"},"script_type":{"description":"脚本类型。SHELL BAT PYTHON POWER_SHELL","maxLength":20,"minLength":1,"type":"string"}},"required":["script_type","cmd_user","script_content","ecs_id_list","name","project_id"],"type":"object"},"ResultInfo":{"description":"调用失败时的返回值。","properties":{"error_code":{"description":"响应码。","maxLength":64,"minLength":1,"type":"string"},"error_msg":{"description":"调用失败响应信息描述。","maxLength":1024,"minLength":1,"type":"string"},"http_code":{"description":"http返回码","format":"int32","maximum":999,"minimum":0,"type":"integer"}},"required":["error_code","error_msg","http_code"],"type":"object"},"ResultInfo_Execute_Response":{"description":"任务下发完成后接口的返回体","properties":{"execution_id":{"description":"工作流执行id。","maxLength":64,"minLength":1,"type":"string"}},"required":["execution_id"],"type":"object"}},"description":null,"group_id":"ac32153cf89a435d96dd423fdce82920","host":"aom.cn-north-4.myhuaweicloud.com","id":"b0d1880dff8342e6962d1f73c836efd4","info_version":"v1","method":"post","name":"CreateFastExecuteScript","parameters":{},"paths":{"/{project_id}/cms/fast-execute-script":{"post":{"consumes":["application/json"],"description":"该接口用于创建快速执行脚本的任务,可以指定脚本类型,执行用户,脚本参数,执行机器,脚本内容,在用户指定的机器上执行脚本。(注:接口目前开放的region为:华东-苏州二零一)。","operationId":"CreateFastExecuteScript","parameters":[{"description":"租户从IAM申请到的projectid,一般为32位字符串。","in":"path","maxLength":32,"minLength":32,"name":"project_id","required":true,"type":"string"},{"description":"从IAM服务获取的用户Token。","in":"header","maxLength":40960,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string"},{"description":"指定类型为application/json。","in":"header","maxLength":32,"minLength":1,"name":"Content-Type","required":true,"type":"string"},{"description":"创建快速执行脚本任务的实体类。","in":"body","name":"CreateFastExecuteScriptRequestBody","required":true,"schema":{"$ref":"#/definitions/HISFastScript"}}],"produces":["application/json"],"responses":{"200":{"description":"该接口返回执行ID(execution_id:xxxxxxxxx),可在其他接口使用此execution_id查询执行详情。","examples":{"application/json":{"execution_id":"5axxx600-bxxx-4be4-8xx7-3axxxxe62xx9"}},"schema":{"$ref":"#/definitions/ResultInfo_Execute_Response"}},"400":{"description":"BadRequest。非法请求。创建快速执行脚本参数非法,建议直接修改该请求,不要重试该请求。","examples":{"application/json":{"error_code":"AOM.31003902","error_msg":"param error","http_code":400}},"schema":{"$ref":"#/definitions/ResultInfo"}},"500":{"description":"InternalServerError 快速执行脚本任务内部错误,表明服务端能被请求访问到,但是不能理解用户的请求。","examples":{"application/json":{"error_code":"AOM.31003932","error_msg":"fast execution error","http_code":500}},"schema":{"$ref":"#/definitions/ResultInfo"}}},"summary":"快速创建并执行脚本","tags":["自动化运维"],"x-is-registered":"Y","x-open-region-cloud":"hws","x-order":1,"x-request-examples-1":{"cmd_user":"root","ecs_id_list":"[\"a6c58afe6d4b4017b12e8205159f1045\",\"608856d0e88a444ca4a6e2afa9120685\"]","name":"12avvvs","project_id":"2axxx75bxxxx","script_args":"arg1 arg2","script_content":"cd / && ls","script_type":"SHELL"},"x-request-examples-description-1":"快速执行脚本可指定脚本类型、执行用户、名称为 name的脚本、脚本参数 script_args,指定的执行机器列表 ecs_id_list来快速下发脚本在对应的机器上。","x-request-examples-text-1":{"cmd_user":"root","ecs_id_list":"[\"a6c58afe6d4b4017b12e8205159f1045\",\"608856d0e88a444ca4a6e2afa9120685\"]","name":"12avvvs","project_id":"2axxx75bxxxx","script_args":"arg1 arg2","script_content":"cd / && ls","script_type":"SHELL"},"x-request-examples-url-1":"https://{Endpoint}/v1/{project_id}/cms/fast-execute-script","x-support-sdk":"Y"}}},"product_short":"AOM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"快速创建并执行脚本","tags":"自动化运维","uri":null,"version":"2.0"}