{"base_path":"/","components":null,"consumes":"","definitions":{"PromConfigModel":{"properties":{"dashboard_id":{"description":"Prometheus实例关联dashboard的dashboard id(目前未使用)。","type":"string"},"prom_http_api_endpoint":{"description":"Prometheus实例调用url。","type":"string"},"region_id":{"description":"Prometheus实例所属的region。","type":"string"},"remote_read_url":{"description":"Prometheus实例remote-read地址。","type":"string"},"remote_write_url":{"description":"Prometheus实例remote-write地址。","type":"string"}},"type":"object"},"PromInstanceEpsCreateModel":{"properties":{"cce_spec_config":{"description":"Prometheus实例所属CCE特殊配置。","type":"string"},"deleted_time":{"description":"删除时间。","format":"int64","type":"integer"},"enterprise_project_id":{"description":"Prometheus实例所属的企业项目。","type":"string"},"project_id":{"description":"Prometheus实例所属projectId。","type":"string"},"prom_create_timestamp":{"description":"Prometheus实例创建时间戳。","format":"int64","type":"integer"},"prom_id":{"description":"Prometheus实例id。","type":"string"},"prom_name":{"description":"Prometheus实例名称 名称不能以下划线或中划线开头结尾,只含有中文、英文、数字、下划线、中划线、长度1-100。","type":"string"},"prom_spec_config":{"$ref":"#/definitions/PromConfigModel","description":"Prometheus实例所属特定配置。"},"prom_status":{"description":"Prometheus实例状态。","enum":["DELETED","NORMAL","ALL"],"type":"string"},"prom_type":{"description":"Prometheus实例类型(暂时不支持VPC、KUBERNETES)。","enum":["ECS","VPC","CCE","REMOTE_WRITE","KUBERNETES","CLOUD_SERVICE","ACROSS_ACCOUNT"],"type":"string"},"prom_update_timestamp":{"description":"Prometheus实例更新时间戳。","format":"int64","type":"integer"},"prom_version":{"description":"Prometheus实例版本号。","type":"string"}},"required":["prom_name","prom_type"],"type":"object"},"PromInstanceEpsCreateResult":{"properties":{"prometheus":{"description":"Prometheus实例名称列表。","items":{"$ref":"#/definitions/PromInstanceEpsCreateModel"},"type":"array"}},"type":"object"},"PromInstanceRequestModel":{"properties":{"enterprise_project_id":{"description":"Prometheus实例所属的企业项目。","type":"string"},"project_id":{"description":"Prometheus实例所属projectId。","type":"string"},"prom_name":{"description":"Prometheus实例名称 名称不能以下划线或中划线开头结尾,只含有中文、英文、数字、下划线、中划线、长度1-100。","type":"string"},"prom_type":{"description":"Prometheus实例类型(暂时不支持VPC、KUBERNETES)。","enum":["ECS","VPC","CCE","REMOTE_WRITE","KUBERNETES","CLOUD_SERVICE","ACROSS_ACCOUNT"],"type":"string"},"prom_version":{"description":"Prometheus实例版本号。","type":"string"}},"required":["prom_name","prom_type"],"type":"object"}},"description":null,"group_id":"ac32153cf89a435d96dd423fdce82920","host":"aom.cn-north-4.myhuaweicloud.com","id":"20d0de0dd8ab48d88ba86a96a6228a43","info_version":"v2","method":"post","name":"CreatePromInstance","parameters":{},"paths":{"/v1/{project_id}/aom/prometheus":{"post":{"description":"该接口用于新增Prometheus实例。","operationId":"CreatePromInstance","parameters":[{"description":"租户从IAM申请到的projectid,一般为32位字符串。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"Prometheus实例信息","in":"body","name":"CreatePromInstanceRequestBody","required":true,"schema":{"$ref":"#/definitions/PromInstanceRequestModel"}},{"description":"从IAM服务获取的用户Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"指定类型为application/json。","in":"header","name":"Content-Type","required":true,"type":"string"},{"description":"Prometheus实例所属Region,一般为承载REST服务端点的服务器域名或IP,不同服务不同区域的名称不同。","in":"header","name":"region","required":true,"type":"string"}],"responses":{"200":{"description":"OK 请求响应成功。","examples":{"application/json":{"prometheus":[{"deleted_time":0,"enterprise_project_id":"0","project_id":"2a4***56cc***7f837***891***c1cf","prom_create_timestamp":1691718171483,"prom_id":"08****2a-8**b-4**5-b**1-d1********79","prom_name":"aom_prometheus","prom_spec_config":{"prom_http_api_endpoint":"aom-internal.cn-****-*.myhuaweicloud.com:***/v1/2a4***56cc***7f837***891***c1cf/08****2a-8**b-4**5-b**1-d1********79","region_id":"cn-****-*","remote_read_url":"aom-internal.cn-****-*.myhuaweicloud.com:***/v1/2a4***56cc***7f837***891***c1cf/08****2a-8**b-4**5-b**1-d1********79/api/v1/read","remote_write_url":"aom-internal.cn-****-*.myhuaweicloud.com:***/v1/2a4***56cc***7f837***891***c1cf/08****2a-8**b-4**5-b**1-d1********79/push"},"prom_type":"CCE","prom_update_timestamp":1691718171483}]}},"schema":{"$ref":"#/definitions/PromInstanceEpsCreateResult"}}},"schemes":["https"],"summary":"新增Prometheus实例","tags":["Prometheus实例"],"x-api-type":"open-api","x-is-registered":"Y","x-open-region-cloud":"hws,hws_hk,hws_eu","x-order":2,"x-request-examples-1":{"prom_name":"aom_prometheus","prom_type":"CCE"},"x-request-examples-description-1":"新增Prometheus类型为CCE的Prometheus实例。","x-request-examples-text-1":{"prom_name":"aom_prometheus","prom_type":"CCE"},"x-request-examples-url-1":"https://{Endpoint}/v1/{project_id}/aom/prometheus","x-support-sdk":"Y"}}},"product_short":"AOM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"新增Prometheus实例","tags":"Prometheus实例","uri":null,"version":"2.0"}