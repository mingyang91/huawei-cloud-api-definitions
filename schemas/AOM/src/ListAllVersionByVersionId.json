{"base_path":"/v1","components":null,"consumes":"","definitions":{"ErrorResult":{"description":"错误查询返回结果","properties":{"error_code":{"description":"响应码。","example":"AOM.0403","maxLength":32,"minLength":1,"type":"string"},"error_msg":{"description":"调用失败响应信息描述。","example":"Forbidden","maxLength":1024,"minLength":1,"type":"string"},"http_code":{"description":"Http返回码","example":"","format":"int32","maximum":999,"minimum":1,"type":"integer"}},"required":["error_code","error_msg","http_code"],"type":"object"},"PageResultScriptVersion":{"properties":{"elements":{"description":"查询结果集合。","items":{"$ref":"#/definitions/ScriptVersion"},"maxItems":9999999,"minItems":0,"type":"array"},"total_elements":{"description":"查询到的结果数量。","format":"int32","maximum":9999999,"minimum":0,"type":"integer"}},"required":["elements","total_elements"],"type":"object"},"ReferenceInfo":{"description":"脚本版本或文件包版本引用的作业详情。","properties":{"job_id":{"description":"作业ID。","maxLength":64,"minLength":1,"type":"string"},"job_name":{"description":"作业名称。","maxLength":64,"minLength":1,"type":"string"}},"required":["job_id","job_name"],"type":"object"},"ScriptVersion":{"description":"脚本版本的详细信息。","properties":{"content":{"description":"脚本内容,脚本内容不能为空","example":"asffas","maxLength":30000,"minLength":1,"type":"string"},"create_by":{"description":"创建人,比如为:张三","example":"kaifatest","maxLength":64,"minLength":1,"type":"string"},"create_time":{"description":"创建时间","example":1669287764791,"format":"int64","maximum":9999999999999,"minimum":0,"type":"integer"},"enterprise_project_id":{"description":"企业项目id","example":0,"maxLength":64,"minLength":1,"type":"string"},"job_reference_name":{"description":"脚本引用的作业详情","items":{"$ref":"#/definitions/ReferenceInfo"},"maxItems":9999999,"minItems":0,"type":"array"},"job_reference_number":{"description":"脚本版本的引用次数,脚本版本被作业引用的次数。默认是0次,引用次数为非负整数,不能出现负数","example":0,"format":"int32","maximum":9999999,"minimum":0,"type":"integer"},"name":{"description":"脚本名称,支持数字,下划线,大小写字母 ,中文","example":"sagf","maxLength":64,"minLength":1,"type":"string"},"project_id":{"description":"租户从IAM申请到的projectid,一般为32位字符串","example":"2a473356cca5487f8373be891bffc1cf","maxLength":32,"minLength":32,"type":"string"},"script_id":{"description":"脚本id,根据UUID.randomUUID生成。","example":"800dc2b3-5f2e-48c4-8e17-3f8681fb21ed","maxLength":64,"minLength":1,"type":"string"},"script_language":{"description":"脚本语言,目前支持四种,分别是:SHELL BAT PYTHON POWER_SHELL","example":"SHELL BAT PYTHON POWER_SHELL","maxLength":32,"minLength":1,"type":"string"},"status_desc":{"description":"状态说明  0代表 未上线,1代表已上线  2代表已下线   3代表已禁用","example":1,"format":"int32","maximum":4,"minimum":0,"type":"integer"},"update_by":{"description":"修改人","example":"kaifatest","maxLength":64,"minLength":1,"type":"string"},"update_time":{"description":"实体的最后更新时间戳。 注意:执行创建/修改/删除操作时,update_time将更新。","example":1669287775915,"format":"int64","maximum":9999999999999,"minimum":0,"type":"integer"},"version_id":{"description":"版本id,根据UUID.randomUUID生成。","example":"afd3b246-38d3-46b9-8b88-8c9072c1c2fb","maxLength":64,"minLength":1,"type":"string"},"version_number":{"description":"脚本版本号,支持数字,下划线,大小写字母和小数点","example":1.0,"maxLength":64,"minLength":1,"type":"string"}},"required":["content"],"type":"object"},"SearchScriptsRequestBody":{"properties":{"create_by":{"description":"创建人,默认按照创建人搜索脚本。","maxLength":64,"minLength":1,"type":"string"},"enterprise_project_id":{"description":"企业项目id,根据企业项目id搜索。","maxLength":64,"minLength":1,"type":"string"},"is_default":{"description":"查询规则,如果是类型为default,则为模糊查询和脚本管理主页展示,no_default为版本管理。","maxLength":16,"minLength":0,"type":"string"},"name":{"description":"查询接收的参数,版本管理时,name为脚本名称(版本管理查询时name不能为空),脚本管理页面查询时,name为接收模糊查询的参数,name是null,表示查询所有默认脚本。","maxLength":128,"minLength":0,"type":"string"},"order_by_column":{"description":"需要排序的字段(默认为更新时间),支持字段有name,create_time和update_time。","maxLength":16,"minLength":1,"type":"string"},"page_num":{"description":"page_num为正整数。","format":"int32","maximum":100,"minimum":1,"type":"integer"},"page_size":{"description":"每页显示的条数,默认值是10。","format":"int32","maximum":1000,"minimum":1,"type":"integer"},"project_id":{"description":"项目id。","maxLength":32,"minLength":32,"type":"string"},"script_id":{"description":"版本管理时需要查询的脚本id。","maxLength":64,"minLength":1,"type":"string"},"sort_order":{"description":"排序规则(默认降序) 传入升序或降序,升序:ASC,降序:DESC。","maxLength":16,"minLength":1,"type":"string"}},"required":["script_id","order_by_column","sort_order"],"type":"object"}},"description":null,"group_id":"ac32153cf89a435d96dd423fdce82920","host":"aom.cn-north-4.myhuaweicloud.com","id":"3644d4fc6fb04857b90031298bda29ea","info_version":"v1","method":"post","name":"ListAllVersionByVersionId","parameters":{},"paths":{"/{project_id}/cms/script-version-list":{"post":{"consumes":["application/json"],"description":"该接口可查询指定脚本ID下的所有版本,返回该名称的脚本版本列表信息。(注:接口目前开放的region为:华北-北京四,华东-上海一,华东-上海二,华南-广州)。","operationId":"ListAllVersionByVersionId","parameters":[{"description":"租户从IAM申请到的projectid,一般为32位字符串。","in":"path","maxLength":32,"minLength":32,"name":"project_id","pattern":"^[\\w-]{0,64}$","required":true,"type":"string"},{"description":"从IAM服务获取的用户Token。","in":"header","maxLength":40960,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string"},{"description":"指定类型为application/json。","in":"header","maxLength":32,"minLength":1,"name":"Content-Type","required":true,"type":"string"},{"description":"查询参数体。","in":"body","name":"ListAllVersionByVersionIdRequestBody","required":true,"schema":{"$ref":"#/definitions/SearchScriptsRequestBody"}}],"produces":["application/json"],"responses":{"200":{"description":"请求响应成功,返回指定ID脚本下版本列表。","examples":{"application/json":{"elements":[{"content":"xxxxxxx","create_by":"xxxxxxxx","create_time":1660006887334,"enterprise_project_id":"0","job_reference_name":[{"job_id":"012b43a3xxxxx684a30b52xxxx98cbe","job_name":"onxx_cxxxxxxxx"}],"job_reference_number":1,"name":"xxxxx","project_id":"2axxxxxcca548xxxxe891bxxxf","script_id":"xxxxaef-dbxx-41x9-8xx2-8exxxx4e159d2","script_language":"SHELL","status_desc":1,"update_by":"xxxxxxx","update_time":1660073752533,"version_id":"xxxxxxx","version_number":"1.0"}],"total_elements":1}},"schema":{"$ref":"#/definitions/PageResultScriptVersion"}},"400":{"description":"BadRequest。非法请求。建议直接修改该请求,不要重试该请求。","examples":{"application/json":{"error_code":"AOM.31002002","error_msg":"Invalid script parameter.","http_code":400}},"schema":{"$ref":"#/definitions/ErrorResult"}},"401":{"description":"Unauthorized。在客户端提供认证信息后,返回该状态码,表明服务端指出客户端所提供的认证信息不正确或非法。","examples":{"application/json":{"error_code":"AOM.31009011","error_msg":"auth failed.","http_code":401}},"schema":{"$ref":"#/definitions/ErrorResult"}},"500":{"description":"InternalServerError 表明服务端能被请求访问到,但是不能理解用户的请求。","examples":{"application/json":{"error_code":"AOM.31002005","error_msg":"script internal server error.","http_code":500}},"schema":{"$ref":"#/definitions/ErrorResult"}}},"summary":"脚本版本查询","tags":["自动化运维"],"x-is-registered":"Y","x-open-region-cloud":"hws","x-order":7,"x-request-examples-1":{"order_by_column":"update_time","page_num":1,"page_size":10,"script_id":"xxxxxxxxxx","sort_order":"ASC"},"x-request-examples-description-1":"查询指定script_id下脚本版本信息。\n","x-request-examples-text-1":{"order_by_column":"update_time","page_num":1,"page_size":10,"script_id":"xxxxxxxxxx","sort_order":"ASC"},"x-request-examples-url-1":"POST   https://{Endpoint}/v1/{project_id}/cms/script-version-list","x-support-sdk":"Y"}}},"product_short":"AOM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"脚本版本查询","tags":"自动化运维","uri":null,"version":"2.0"}