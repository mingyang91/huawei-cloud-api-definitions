{"base_path":"/","components":null,"consumes":"","definitions":{"ErrorDetail":{"properties":{"error":{"description":"错误信息。","type":"string"},"errorType":{"description":"错误类型。","type":"string"},"status":{"description":"响应状态。","type":"string"}}},"ResultDetail":{"properties":{"data":{"description":"响应数据。","type":"object"},"status":{"description":"响应状态。","type":"string"}}}},"description":null,"group_id":"ac32153cf89a435d96dd423fdce82920","host":"aom.cn-north-4.myhuaweicloud.com","id":"70fa564ca85643669658d63a2179c9a9","info_version":"v2","method":"post","name":"ListInstantQueryAomPromPost","parameters":{},"paths":{"/v1/{project_id}/aom/api/v1/query":{"post":{"description":"该接口使用POST方法查询PromQL(Prometheus Query Language) 在特定时间点下的计算结果。","operationId":"ListInstantQueryAomPromPost","parameters":[{"description":"从IAM服务获取的用户Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"租户从IAM申请到的projectid,一般为32位字符串。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"PromQL表达式(参考https://prometheus.io/docs/prometheus/latest/querying/basics/)。","in":"query","name":"query","required":true,"type":"string"},{"description":"指定用于计算 PromQL 的时间戳,(Unix时间戳格式,单位:秒)。","in":"query","name":"time","required":false,"type":"string"}],"responses":{"200":{"description":"OK 请求响应成功。","examples":{"application/json":{"data":{"result":[{"metric":{"__name__":"amm_node_status","clusterId":"00000000-0000-0000-0000-00000000","hostID":"g947xcxh-2xcxc-xxx-xxcd-f6xxx85","nameSpace":"default","nodeIP":"1x6.1xx.0.xxx","nodeName":"sdxx-jxxxgksi-axx"},"value":[16303810036,"0"]},{"metric":{"__name__":"amm_node_status","clusterId":"00000000-0000-0000-0000-00000000","hostID":"dc1xxxf7e-b095-4e77-bxx-914dhlxxxbf7","nameSpace":"default","nodeIP":"1xx.1xx.0.xxx","nodeName":"sds-jixxxsi-texxt"},"value":[1630381536,"0"]}],"resultType":"vector"},"status":"success"}},"schema":{"$ref":"#/definitions/ResultDetail"}},"400":{"description":"BadRequest 非法请求。建议直接修改该请求,不要重试该请求。","examples":{"application/json":{"error":"param is invalid.","errorType":"bad_param","status":"error"}},"schema":{"$ref":"#/definitions/ErrorDetail"}},"403":{"description":"Forbidden 请求被拒绝访问。返回该状态码,表明请求能够到达服务端,且服务端能够理解用户请求,但是拒绝做更多的事情,因为该请求被设置为拒绝访问,建议直接修改该请求,不要重试该请求。","examples":{"application/json":{"error":"auth project_id not pass.","errorType":"auth","status":"error"}},"schema":{"$ref":"#/definitions/ErrorDetail"}},"422":{"description":"Unprocessable 表达式无法执行。","examples":{"application/json":{"error":"expression can't be executed.","errorType":"excution","status":"error"}},"schema":{"$ref":"#/definitions/ErrorDetail"}},"503":{"description":"ServiceUnavailable 被请求的服务无效。建议直接修改该请求,不要重试该请求。","examples":{"application/json":{"error":"query timed out in query execution.","errorType":"timeout","status":"error"}},"schema":{"$ref":"#/definitions/ErrorDetail"}}},"schemes":["https"],"summary":"(推荐)POST方法查询瞬时数据","tags":["prometheus监控"],"x-is-registered":"Y","x-open-region-cloud":"hws,hws_hk","x-request-examples-description-1":"查询在1630381536时刻的aom_node_status指标(前topk个)。","x-request-examples-url-1":"https://{EndPoint}/v1/{project_id}/aom/api/v1/query?query=topk(2,aom_node_status)&time=1630381536","x-support-sdk":"Y"}}},"product_short":"AOM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"(推荐)POST方法查询瞬时数据","tags":"prometheus监控","uri":null,"version":"2.0"}