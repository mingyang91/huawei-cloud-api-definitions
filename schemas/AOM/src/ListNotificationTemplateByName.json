{"base_path":"/","components":null,"consumes":"","definitions":{"NotificationTemplate":{"description":"消息通知模板列表。","properties":{"create_time":{"description":"消息通知模板创建时间。","format":"int64","type":"integer"},"desc":{"description":"消息通知模板描述。","type":"string"},"enterprise_project_id":{"description":"消息通知模板所属企业项目id。","type":"string"},"locale":{"description":"消息通知模板语言。","type":"string"},"modify_time":{"description":"消息通知模板修改时间。","format":"int64","type":"integer"},"name":{"description":"消息通知模板名称。","type":"string"},"project_id":{"description":"消息通知模板所属项目id。","type":"string"},"source":{"description":"消息通知模板来源。","type":"string"},"templates":{"description":"消息通知模板内容。\n消息通知模板内容为json字符串,具体内容是由下列参数拼接成json数组后转义而来。\n\n| 名称 |是否必选  |参数类型  |说明  |\n|--|--|--|--|\n|content  |是  |string  |消息模板内容。| \n|subType  |是  |string  |消息模板发送类型,支持:email,sms,webhook。|\n| topic | 否 | string |邮件主题。|\n| sendType |否  |string  |当消息模板发送类型为“webhook”时需要指定消息模板格式,支持:HTML、JSON。  |\n| version |是  |string  |默认为v2。 |","type":"string"},"type":{"description":"消息通知方式。","items":{"type":"string"},"type":"array"}},"required":["create_time","desc","enterprise_project_id","locale","modify_time","name","project_id","templates","type"],"type":"object"}},"description":null,"group_id":"ac32153cf89a435d96dd423fdce82920","host":"aom.cn-north-4.myhuaweicloud.com","id":"952f4f0ce48240b48fcbe720c46b3f84","info_version":"v2","method":"get","name":"ListNotificationTemplateByName","parameters":{},"paths":{"/v2/{project_id}/events/notification/template/{name}":{"get":{"description":"该接口用于根据消息通知模板名称查询消息通知模板。","operationId":"ListNotificationTemplateByName","parameters":[{"description":"项目ID,可以从控制台获取,也可以从调用API处获取。获取方式请参见:[获取项目ID](aom_04_0024.xml)。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"消息通知模板名称。","in":"path","name":"name","required":true,"type":"string"},{"description":"从IAM服务获取的用户Token。获取方式请参见:[获取Token](aom_04_0059.xml)。","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"消息体的类型(格式)。指定类型为“application/json”。","in":"header","name":"Content-Type","required":true,"type":"string"},{"description":"企业项目id。获取方式请参见:[获取企业项目ID](aom_04_0024.xml)。\n- 查询单个企业项目下通知消息模板列表,填写企业项目id。\n- 查询所有企业项目下通知消息模板列表,填写“all_granted_eps”。\n- 不填,查询默认企业项目下通知消息模板列表。","in":"header","name":"Enterprise-Project-Id","required":false,"type":"string"}],"responses":{"200":{"description":"OK 请求响应成功。","examples":{"application/json":{"create_time":1685445932076,"desc":"","enterprise_project_id":"0","locale":"zh-cn","modify_time":1707011425355,"name":"530en","project_id":"2a4****6cca****f837****91bf****f","templates":"[{\"subType\":\"email\",\"version\":\"v2\",\"topic\":\"${region_name}[${event_severity}_${event_type}_${clear_type}] have a new alert at ${starts_at}.\",\"content\":\"\\nAlarm Name:${event_name_alias};\\nAlarm ID:${id};\\nOccurred:${starts_at};\\nEvent Severity:${event_severity};\\nAlarm Info:${alarm_info};\\nResource Identifier:${resources_new};\\nSuggestion:${alarm_fix_suggestion_zh};\"},{\"subType\":\"sms\",\"version\":\"v2\",\"content\":\"\\nAlarm Name:${event_name_alias};\\nAlarm ID:${id};\\nOccurred:${starts_at};\\nEvent Severity:${event_severity};\\nAlarm Info:${alarm_info};\\nResource Identifier:${resources_new};\\nSuggestion:${alarm_fix_suggestion_zh};\"},{\"subType\":\"wechat\",\"version\":\"v2\",\"content\":\"> **Alarm Name:** ${event_name_alias}  \\n> **Alarm ID:** ${id}  \\n> **Occurred:** ${starts_at}  \\n> **Event Severity:** ${event_severity}  \\n> **Alarm Info:** ${alarm_info}  \\n> **Resource Identifier:** ${resources_new}  \\n> **Suggestion:** ${alarm_fix_suggestion_zh}\"},{\"subType\":\"dingding\",\"version\":\"v2\",\"content\":\"> **Alarm Name:** ${event_name_alias}  \\n\\n> **Alarm ID:** ${id}  \\n\\n> **Occurred:** ${starts_at}  \\n\\n> **Event Severity:** ${event_severity}  \\n\\n> **Alarm Info:** ${alarm_info}  \\n\\n> **Resource Identifier:** ${resources_new}  \\n\\n> **Suggestion:** ${alarm_fix_suggestion_zh}\",\"sendType\":\"HTML\"},{\"subType\":\"webhook\",\"version\":\"v2\",\"content\":\"Notification Type:${event_type};\\nSeverity:${event_severity};\\nName:$event.metadata.event_name_alias;\\nOccurred:${starts_at};\\nSource:$event.metadata.resource_provider;\\nResource Type:$event.metadata.resource_type;\\nResource Identifier:${resources_new};\\nPossible Cause:${alarm_probableCause_zh};\\nAdditional Info:${message};\\nSuggestion:${alarm_fix_suggestion_zh};\",\"sendType\":\"HTML\"},{\"subType\":\"voice\",\"version\":\"v2\",\"topic\":\"\",\"content\":\"Notification Type:${event_type};  \\nSeverity:${event_severity};  \\nName:$event.metadata.event_name_alias;  \\nOccurred:${starts_at};  \\nSource:$event.metadata.resource_provider;  \\nResource Type:$event.metadata.resource_type;  \\nResource Identifier:${resources_new};  \\nPossible Cause:${alarm_probableCause_zh};  \\nAdditional Info:${message};  \\nSuggestion:${alarm_fix_suggestion_zh};\"},{\"subType\":\"espace\",\"version\":\"v2\",\"topic\":\"\",\"content\":\"Notification Type:${event_type};  \\nSeverity:${event_severity};  \\nName:$event.metadata.event_name_alias;  \\nOccurred:${starts_at};  \\nSource:$event.metadata.resource_provider;  \\nResource Type:$event.metadata.resource_type;  \\nResource Identifier:${resources_new};  \\nPossible Cause:${alarm_probableCause_zh};  \\nAdditional Info:${message};  \\nSuggestion:${alarm_fix_suggestion_zh};\"},{\"subType\":\"feishu\",\"version\":\"v2\",\"topic\":\"\",\"content\":\"**Alarm Name:** ${event_name_alias}  \\n\\n**Alarm ID:** ${id}  \\n\\n**Occurred:** ${starts_at}  \\n\\n**Event Severity:** ${event_severity}  \\n\\n**Alarm Info:** ${alarm_info}  \\n\\n**Resource Identifier:** ${resources_new}  \\n\\n**Suggestion:** ${alarm_fix_suggestion_zh}\"},{\"subType\":\"welink\",\"version\":\"v2\",\"topic\":\"\",\"content\":\"\\nAlarm Name:${event_name_alias};\\nAlarm ID:${id};\\nOccurred:${starts_at};\\nEvent Severity:${event_severity};\\nAlarm Info:${alarm_info};\\nResource Identifier:${resources_new};\\nSuggestion:${alarm_fix_suggestion_zh};\"}]","type":[]}},"schema":{"$ref":"#/definitions/NotificationTemplate"}}},"summary":"根据消息通知模板名称查询消息通知模板","tags":["告警"],"x-api-type":"open-api","x-is-registered":"Y","x-open-region-cloud":"hws,hws_hk,hws_eu","x-order":28,"x-request-examples-description-1":"查询消息通知模板名称为test22的消息通知模板。","x-request-examples-url-1":"/v2/{project_id}/events/notification/templates/test22","x-support-sdk":"Y"}}},"product_short":"AOM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"根据消息通知模板名称查询消息通知模板","tags":"告警","uri":null,"version":"2.0"}