{"base_path":"/","components":null,"consumes":"","definitions":{"AddAlarmRuleBadRequestResultInfo":{"properties":{"error_code":{"description":"错误码。","type":"string"},"error_msg":{"description":"错误信息描述。","type":"string"},"error_type":{"description":"错误类型。","type":"string"},"trace_id":{"description":"跟踪编号。主要用于开发人员快速搜索日志,定位问题。当返回的状态码为2xx时,trace_id为空;当返回4xx的状态码时,trace_id不为空。","type":"string"}},"type":"object"},"Dimension":{"description":"指标维度。","properties":{"name":{"description":"维度名称。","type":"string"},"value":{"description":"维度取值。","type":"string"}},"required":["name","value"]},"ListAlarmRuleResultInfo":{"description":"阈值规则列表查询结果","properties":{"meta_data":{"$ref":"#/definitions/MetaData"},"thresholds":{"items":{"$ref":"#/definitions/QueryAlarmResult"},"type":"array"}}},"MetaData":{"description":"查询结果元数据信息,包括分页信息等。","properties":{"count":{"description":"当前返回结果条数。","format":"int32","type":"integer"},"start":{"description":"下一个开始的标记,用于分页,null表示无更多数据。","type":"string"},"total":{"description":"总条数。","format":"int32","type":"integer"}}},"QueryAlarmResult":{"description":"阈值规则查询参数。","properties":{"action_enabled":{"description":"是否启用通知。","type":"boolean"},"alarm_actions":{"description":"告警状态通知列表。","items":{"type":"string"},"type":"array"},"alarm_advice":{"description":"告警清除建议。","type":"string"},"alarm_description":{"description":"阈值规则描述。","type":"string"},"alarm_level":{"description":"告警级别。","type":"string"},"alarm_rule_id":{"description":"阈值规则ID。","type":"string"},"alarm_rule_name":{"description":"阈值规则名称。","type":"string"},"comparison_operator":{"description":"极限条件。","type":"string"},"dimensions":{"description":"时间序列维度。","items":{"$ref":"#/definitions/Dimension"},"type":"array"},"evaluation_periods":{"description":"间隔周期。","format":"int32","type":"integer"},"id_turn_on":{"description":"阈值规则是否启用。","type":"boolean"},"insufficient_data_actions":{"description":"数据不足通知列表。","items":{"type":"string"},"type":"array"},"metric_name":{"description":"时间序列名称。","type":"string"},"namespace":{"description":"时间序列命名空间。","type":"string"},"ok_actions":{"description":"正常状态通知列表。","items":{"type":"string"},"type":"array"},"period":{"description":"统计周期。","format":"int32","type":"integer"},"policy_name":{"description":"阈值规则模板名称。","type":"string"},"resources":{"description":"资源信息(已废弃)。","items":{"type":"string"},"type":"array"},"state_reason":{"description":"原因描述。","type":"string"},"state_updated_timestamp":{"description":"状态更新时间戳。","type":"string"},"state_value":{"description":"服务状态。","type":"string"},"statistic":{"description":"统计方式。","type":"string"},"threshold":{"description":"临界值。","type":"string"},"type":{"description":"阈值规则类型。","type":"string"},"unit":{"description":"阈值单元。","type":"string"}}}},"description":null,"group_id":"ac32153cf89a435d96dd423fdce82920","host":"aom.cn-north-4.myhuaweicloud.com","id":"01516e64b47b493a93949e185810836f","info_version":"v2","method":"get","name":"ListAlarmRule","parameters":{},"paths":{"/v2/{project_id}/alarm-rules":{"get":{"description":"该接口用于查询阈值规则列表。","operationId":"ListAlarmRule","parameters":[{"description":"租户从IAM申请到的projectid,一般为32位字符串。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"分页信息。","in":"query","name":"offset","required":false,"type":"string"},{"description":"用于限制结果数据条数。\n取值范围(0,1000],默认值为1000。","format":"int32","in":"query","name":"limit","required":false,"type":"integer"},{"description":"从IAM服务获取的用户Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"指定类型为application/json。","enum":["application/json"],"in":"header","name":"Content-Type","required":true,"type":"string"}],"responses":{"200":{"description":"OK 请求响应成功。","examples":{"application/json":{"meta_data":[{"count":10,"total":100}],"thresholds":[{"action_enabled":false,"alarm_actions":null,"alarm_advice":null,"alarm_description":null,"alarm_level":3,"alarm_rule_id":2137,"alarm_rule_name":"aom_rule","comparison_operator":">=","dimensions":[{"name":"appName"},{"value":"rhm-broker"}],"evaluation_periods":1,"id_turn_on":true,"insufficient_data_actions":null,"metric_name":"cpuCoreLimit","namespace":"PAAS.CONTAINER","ok_actions":null,"period":60000,"policy_name":"23,","resources":[],"state_reason":null,"state_updated_timestamp":null,"state_value":"alarm","statistic":"average","threshold":0,"type":"single,","unit":"Core"}]}},"schema":{"$ref":"#/definitions/ListAlarmRuleResultInfo"}},"400":{"description":"BadRequest 非法请求。建议直接修改该请求,不要重试该请求。","examples":{"application/json":{"error_code":"AOM.02003SVCSTG_AMS_4000123","error_msg":"The rule does not exist","error_type":"BAD_REQUEST","trace_id":""}},"schema":{"$ref":"#/definitions/AddAlarmRuleBadRequestResultInfo"}},"401":{"description":"Unauthorized 在客户端提供认证信息后,返回该状态码,表明服务端指出客户端所提供的认证信息不正确或非法。","schema":{"type":"string"}},"403":{"description":"Forbidden 请求被拒绝访问。返回该状态码,表明请求能够到达服务端,且服务端能够理解用户请求,但是拒绝做更多的事情,因为该请求被设置为拒绝访问,建议直接修改该请求,不要重试该请求。","schema":{"type":"string"}},"500":{"description":"InternalServerError 表明服务端能被请求访问到,但是不能理解用户的请求。","schema":{"type":"string"}},"503":{"description":"ServiceUnavailable 被请求的服务无效。建议直接修改该请求,不要重试该请求。","schema":{"type":"string"}}},"summary":"查询阈值规则列表","tags":["监控"],"x-api-type":"open-api","x-is-registered":"Y","x-request-examples-description-1":"获取用户ID为 “Project_Id” 的用户的告警规则列表。","x-request-examples-url-1":"https://{EndPoint_Id}/v2/{Project_Id}/alarm-rules","x-support-sdk":"Y"}}},"product_short":"AOM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询阈值规则列表","tags":"监控","uri":null,"version":"2.0"}