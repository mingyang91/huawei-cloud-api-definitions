{"base_path":"/v1","components":null,"consumes":"","definitions":{"ResultInfo":{"description":"调用失败时的返回值。","properties":{"error_code":{"description":"响应码。","maxLength":64,"minLength":1,"type":"string"},"error_msg":{"description":"调用失败响应信息描述。","maxLength":1024,"minLength":1,"type":"string"},"http_code":{"description":"http返回码","format":"int32","maximum":999,"minimum":0,"type":"integer"}},"required":["error_code","error_msg","http_code"],"type":"object"},"WorkflowExecutionBrief":{"description":"函数流执行概要信息","properties":{"approve_user_name_list":{"description":"审批人列表","items":{"maxLength":128,"minLength":1,"type":"string"},"maxItems":200,"minItems":0,"type":"array"},"begin_time":{"description":"流程实例创建时间,格式:UTC时间戳","example":"2021-01-01T00:00:00Z","format":"int64","maximum":9999999999999,"minimum":0,"type":"integer"},"created_by":{"description":"流程实例创建者","example":"admin","maxLength":32,"minLength":1,"type":"string"},"end_time":{"description":"流程实例结束时间,格式:UTC时间戳","example":"2021-01-01T00:00:00Z","format":"int64","maximum":9999999999999,"minimum":0,"type":"integer"},"execution_id":{"description":"流程执行实例ID","example":"48aff955-ea10-4ffd-b426-190bc192dc14","maxLength":64,"minLength":1,"type":"string"},"execution_result_list":{"description":"执行记录","items":{"$ref":"#/definitions/execution_result_list"},"maxItems":200,"minItems":1,"type":"array"},"last_record_id_with_snapshot":{"description":"执行快照","maxLength":64,"minLength":1,"type":"string"},"last_update_time":{"description":"流程实例上次更新时间,格式:UTC时间戳","example":"2021-01-01T00:00:00Z","format":"int64","maximum":9999999999999,"minimum":0,"type":"integer"},"project_id":{"description":"租户从IAM申请到的projectid,一般为32位字符串。","example":"2a473356cca5487f8373be891bffc1cf","maxLength":32,"minLength":32,"type":"string"},"status":{"description":"流程实例执行状态","example":"success,fail,running,timeout,cancel","maxLength":32,"minLength":1,"type":"string"},"workflow_edit_time":{"description":"执行工作流的修改时间,格式:UTC时间戳","example":0,"format":"int64","maximum":9999999999999,"minimum":0,"type":"integer"},"workflow_id":{"description":"流程定义ID","example":"48aff955-ea10-4ffd-b426-190bc192dc14","maxLength":64,"minLength":1,"type":"string"}},"type":"object"},"execution_result_list":{"description":"函数流节点执行详细信息","properties":{"begin_time":{"description":"节点开始执行时间。","example":1669366534587,"format":"int64","maximum":9999999999999,"minimum":0,"type":"integer"},"end_time":{"description":"节点执行结束时间。","example":1669366546428,"format":"int64","maximum":9999999999999,"minimum":0,"type":"integer"},"function_execution_id":{"description":"FunctionGraph的执行id。","example":"9ba47689-71fe-4798-865d-fb47c031223b","maxLength":64,"minLength":1,"type":"string"},"node_id":{"description":"流程节点ID。","example":"48aff955-ea10-4ffd-b426-190bc192dc14","maxLength":64,"minLength":1,"type":"string"},"output":{"description":"节点输出。","type":"object"},"status":{"description":"节点状态。","example":"success","maxLength":32,"minLength":1,"type":"string"}},"type":"object"}},"description":null,"group_id":"ac32153cf89a435d96dd423fdce82920","host":"aom.cn-north-4.myhuaweicloud.com","id":"046f9fbedd024f478b520ea7c89113c2","info_version":"v1","method":"get","name":"ListWorkflowExecutions","parameters":{},"paths":{"/{project_id}/cms/workflow/{workflow_id}/executions":{"get":{"consumes":["application/json"],"description":"该接口可获取执行任务的执行历史。(注:接口目前开放的region为:华北-北京四,华东-上海一,华东-上海二,华南-广州)。","operationId":"ListWorkflowExecutions","parameters":[{"description":"租户从IAM申请到的projectid,一般为32位字符串。","in":"path","maxLength":32,"minLength":32,"name":"project_id","required":true,"type":"string"},{"description":"任务id,从工作流命令列表中获取的工作流id。","in":"path","maxLength":64,"minLength":1,"name":"workflow_id","required":true,"type":"string"},{"description":"从IAM服务获取的用户Token。","in":"header","maxLength":40960,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."},{"description":"指定类型为application/json。","in":"header","maxLength":32,"minLength":1,"name":"Content-Type","required":true,"type":"string"},{"default":"0","description":"所属的企业项目id。","in":"query","maxLength":64,"minLength":1,"name":"x_enterprise_project_id","required":false,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"请求响应成功,返回指定任务的执行历史。","examples":{"application/json":[{"approve_user_name_list":[],"begin_time":1600000000,"create_by":"xxx","end_time":1600000000,"execution_id":"xxxx","execution_result_list":[{"begin_time":16000000,"end_time":160000000,"function_execution_id":"xxxxx","node_id":"delete-workload-pod","output":{"fail":[],"in_execution":[],"not_performed":[],"success":[{"app":"xxxxxx","availableReplicas":0,"cceWorkloadCluster":"xxxxxx","cceWorkloadType":"deployments","cmdb_work_load_id":"xxxxxxx","code":"0","creationTimestamp":" ","current_project":true,"execute_time":"35505","id":"xxxxx","log":"Restart Success.","matchLabels":"{\"app\":\"xxxxx\",\"version\":\"xxxx\"}","name":"xxxxxx","namespace":"default","replicas":1,"type":"manual"}]},"status":"success"}],"project_id":"xxxxxxx","status":"success","workflowEditTime":0,"workflow_id":"xxxxxxx"}]},"schema":{"items":{"$ref":"#/definitions/WorkflowExecutionBrief"},"type":"array"}},"401":{"description":"Unauthorized。在客户端提供认证信息后,返回该状态码,表明服务端指出客户端所提供的认证信息不正确或非法。","examples":{"application/json":{"error_code":"AOM.31009004","error_message":"auth failed.","http_code":"401"}},"schema":{"$ref":"#/definitions/ResultInfo"}},"500":{"description":"InternalServerError 表明服务端能被请求访问到,但是不能理解用户的请求。","examples":{"application/json":{"error_code":"AOM.31001405","error_msg":"execution internal server error.","http_code":500}},"schema":{"$ref":"#/definitions/ResultInfo"}}},"summary":"获取任务执行历史","tags":["自动化运维(即将下线)"],"x-is-registered":"Y","x-open-region-cloud":"hws","x-order":12,"x-request-examples-description-1":"获取指定workflow_id的任务执行历史。","x-request-examples-url-1":" https://{endpoint}/v1/{project_id}/cms/workflow/{workflow_id}/executions","x-support-sdk":"Y"}}},"product_short":"AOM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"获取任务执行历史","tags":"自动化运维(即将下线)","uri":null,"version":"2.0"}