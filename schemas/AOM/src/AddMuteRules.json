{"base_path":"/","components":null,"consumes":"","definitions":{"ApiException":{"properties":{"error_code":{"description":"错误码","example":"AOM.02007102","maxLength":12,"minLength":12,"type":"string"},"error_msg":{"description":"错误信息","example":"this Threshold has been existed","maxLength":1024,"minLength":0,"type":"string"},"error_type":{"description":"错误类型","example":"BAD_REQUEST","maxLength":128,"minLength":0,"type":"string"},"trace_id":{"description":"请求id","example":"8fb508e9e31b44279016f708e1c60e4c","maxLength":32,"minLength":32,"type":"string"}},"type":"object"},"Match":{"description":"静默规则的匹配条件","properties":{"key":{"description":"指定按照Metadata中的key进行匹配","maxLength":128,"minLength":1,"type":"string"},"operate":{"description":"指定匹配的方式:EXIST:存在,REGEX:正则,EQUALS:等于","enum":["EQUALS","REGEX","EXIST"],"maxLength":100,"minLength":1,"type":"string"},"value":{"description":"要匹配的key对应的value,当operate为存在时,此值为空","items":{"maxLength":256,"minLength":1,"type":"string"},"maxItems":5,"minItems":0,"type":"array"}},"required":["key","operate"],"type":"object"},"MuteConfig":{"description":"静默规则的生效时间配置","properties":{"ends_at":{"description":"静默规则结束时间","format":"int64","maximum":999999999,"minimum":0,"type":"integer"},"scope":{"description":"当type为每周或者每月时,scope不能为空","items":{"format":"int32","maximum":31,"minimum":0,"type":"integer"},"maxItems":100,"minItems":1,"type":"array"},"starts_at":{"description":"静默规则开始时间","format":"int64","maximum":999999999,"minimum":0,"type":"integer"},"type":{"description":"静默规则生效时间种类。FIXED:固定方式统计,DAILY:按日合计,WEEKLY:按周统计,MONTHLY:按月统计","enum":["FIXED","DAILY","WEEKLY","MONTHLY"],"maxLength":100,"minLength":1,"type":"string"}},"required":["starts_at","type"],"type":"object"},"MuteRule":{"description":"静默规则","properties":{"create_time":{"description":"创建时间","format":"int64","maximum":9999999999999,"minimum":0,"type":"integer"},"desc":{"description":"规则描述","maxLength":1024,"minLength":0,"type":"string"},"match":{"description":"规则的匹配条件。串行条件和并行条件的最大数量限制为10。","items":{"items":{"$ref":"#/definitions/Match"},"maxItems":10,"minItems":1,"type":"array"},"maxItems":10,"minItems":1,"type":"array"},"mute_config":{"$ref":"#/definitions/MuteConfig","description":"规则的生效时间配置"},"name":{"description":"规则名称。名称包含大小写字母、数字、特殊字符(_)、不能以下划线开头或结尾,最大长度为100。","maxLength":100,"minLength":1,"type":"string"},"timezone":{"description":"时区","maxLength":32,"minLength":1,"type":"string"},"update_time":{"description":"修改时间","format":"int64","maximum":9999999999999,"minimum":0,"type":"integer"},"user_id":{"description":"用户ID","maxLength":32,"minLength":32,"type":"string"}},"required":["match","mute_config","name","timezone"],"type":"object"},"ResultInfo1":{"properties":{"error_code":{"description":"响应码。","example":"AOM.08001005","maxLength":13,"minLength":13,"type":"string"},"error_msg":{"description":"响应信息描述。","example":null,"maxLength":100,"minLength":1,"type":"string"},"trace_id":{"description":"响应id。","maxLength":12,"minLength":12,"type":"string"}},"type":"object"}},"description":null,"group_id":"ac32153cf89a435d96dd423fdce82920","host":"aom.cn-north-4.myhuaweicloud.com","id":"cd5ad8be0db242cc81ba346b12dd638e","info_version":"v2","method":"post","name":"AddMuteRules","parameters":{},"paths":{"/v2/{project_id}/alert/mute-rules":{"post":{"description":"新增静默规则。","operationId":"AddMuteRules","parameters":[{"description":"租户从IAM申请到的projectid,一般为32位字符串。","in":"path","maxLength":32,"minLength":32,"name":"project_id","required":true,"type":"string"},{"description":"从IAM服务获取的用户Token。","in":"header","maxLength":40960,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string"},{"description":"指定类型为application/json。","enum":["application/json"],"in":"header","name":"Content-Type","required":true,"type":"string"},{"description":"静默规则","in":"body","name":"AddMuteRulesRequestBody","required":true,"schema":{"$ref":"#/definitions/MuteRule"}}],"produces":["application/json"],"responses":{"204":{"description":"OK 添加成功"},"400":{"description":"BadRequest 非法请求。建议直接修改该请求,不要重试该请求。","examples":{"application/json":{"error_code":"AOM.08011001","error_msg":"the muteName is exist","error_type":"PARAM_INVALID","trace_id":""}},"schema":{"$ref":"#/definitions/ApiException"}},"401":{"description":"Unauthorized  在客户端提供认证信息后,返回该状态码,表明服务端指出客户端所提供的认证信息不正确或非法。","examples":{"application/json":{"error_code":"AOM.0403","error_msg":"auth failed.","error_type":"AUTH_FAILED","trace_id":null}},"schema":{"$ref":"#/definitions/ApiException"}},"403":{"description":"Forbidden 请求被拒绝访问。返回该状态码,表明请求能够到达服务端,且服务端能够理解用户请求,但是拒绝做更多的事情,因为该请求被设置为拒绝访问,建议直接修改该请求,不要重试该请求。","examples":{"application/json":{"error_code":"AOM.0403","error_msg":"auth failed.","error_type":"AUTH_FAILED","trace_id":null}},"schema":{"$ref":"#/definitions/ApiException"}},"500":{"description":"InternalServerError 表明服务端能被请求访问到,但是不能理解用户的请求。","examples":{"application/json":{"error_code":"APM.00000500","error_msg":"Internal Server Error","trace_id":""}},"schema":{"$ref":"#/definitions/ResultInfo1"}}},"summary":"新增静默规则","tags":["告警"],"x-api-type":"open-api","x-is-registered":"Y","x-open-region-cloud":"hws,hws_hk,tm,g42,sbc","x-request-examples-1":{"create_time":1668147671966,"desc":"","match":[[{"key":"event_severity","operate":"EQUALS","value":["Info"]}]],"mute_config":{"ends_at":86399,"scope":[],"starts_at":0,"type":"DAILY"},"name":"32255","timezone":"xxx","update_time":1668147671966,"user_id":"2xxxxxxxxxxxxxxxxxxxxxxxxxcf"},"x-request-examples-description-1":"新增一条名称为\"32255\",用户id为\"2xxxxxxxxxxxxxxxxxxxxxxxxxcf\"的静默规则","x-request-examples-text-1":{"create_time":1668147671966,"desc":"","match":[[{"key":"event_severity","operate":"EQUALS","value":["Info"]}]],"mute_config":{"ends_at":86399,"scope":[],"starts_at":0,"type":"DAILY"},"name":"32255","timezone":"xxx","update_time":1668147671966,"user_id":"2xxxxxxxxxxxxxxxxxxxxxxxxxcf"},"x-request-examples-url-1":"https://{Endpoint}/v2/{project_id}/alert/mute-rules","x-support-sdk":"Y"}}},"product_short":"AOM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"新增静默规则","tags":"告警","uri":null,"version":"2.0"}