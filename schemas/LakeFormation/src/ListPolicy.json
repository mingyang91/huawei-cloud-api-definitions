{"base_path":null,"components":null,"consumes":"","definitions":{"DataMaskPolicyItem":{"properties":{"accesses":{"description":"访问数组","items":{"$ref":"#/definitions/PolicyItemAccess"},"type":"array"},"conditions":{"description":"条件数组","items":{"$ref":"#/definitions/PolicyItemCondition"},"type":"array"},"data_mask_info":{"$ref":"#/definitions/PolicyItemDataMaskInfo","description":"列掩码策略信息"},"delegate_admin":{"description":"是否支持传递","type":"boolean","x-annotations":["@UsNoConstraint(reason = \"Boolean类型无需校验\")"],"x-imports":["com.huawei.us.validator.annotation.UsNoConstraint;"]},"groups":{"description":"用户组","items":{"type":"string"},"type":"array"},"roles":{"description":"角色","items":{"type":"string"},"type":"array"},"users":{"description":"用户","items":{"type":"string"},"type":"array"}},"title":"DataMaskPolicyItem"},"ErrorMessage":{"description":"失败时返回的错误对象","properties":{"common_error_code":{"description":"CBC公共错误码","example":"CMM.1008","maxLength":36,"minLength":1,"type":"string"},"error_code":{"description":"错误码","example":"lakeformation.00010003","maxLength":36,"minLength":8,"type":"string"},"error_msg":{"description":"错误描述","example":"failed","maxLength":4096,"minLength":2,"type":"string"},"solution_msg":{"description":"解决方案描述","example":"Please use correct instance id.","maxLength":4096,"minLength":2,"type":"string"}},"required":["error_code","error_msg"],"type":"object"},"PagedInfo":{"description":"分页返回信息","properties":{"current_count":{"description":"本次返回的对象个数","format":"int32","maximum":2000,"minimum":0,"type":"integer"},"next_marker":{"description":"下一页查询地址","example":"006f492b-xxxx","maxLength":32,"type":"string"},"previous_marker":{"description":"上一页查询地址","example":"003e6eba-xxxx","maxLength":32,"type":"string"}},"required":["current_count","next_marker","previous_marker"],"type":"object"},"PagedListPolicy":{"properties":{"page_info":{"$ref":"#/definitions/PagedInfo","description":"policy列表"},"policies":{"description":"分页信息","items":{"$ref":"#/definitions/Policy"},"type":"array"}},"type":"object"},"Policy":{"properties":{"allow_exceptions":{"description":"排除的允许策略","items":{"$ref":"#/definitions/PolicyItem"},"type":"array"},"conditions":{"description":"条件属性","items":{"$ref":"#/definitions/PolicyItemCondition"},"type":"array"},"create_time":{"description":"创建时间","format":"date-time","type":"string"},"created_by":{"description":"创建者","type":"string"},"data_mask_policy_items":{"description":"类掩码策略条目","items":{"$ref":"#/definitions/DataMaskPolicyItem"},"type":"array"},"deny_exceptions":{"description":"拒绝排除策略","items":{"$ref":"#/definitions/PolicyItem"},"type":"array"},"deny_policy_items":{"description":"拒绝策略","items":{"$ref":"#/definitions/PolicyItem"},"type":"array"},"description":{"description":"描述","type":"string"},"guid":{"description":"唯一guid","type":"string"},"id":{"description":"主键","format":"int64","type":"integer"},"is_audit_enabled":{"description":"是否支持审计","type":"boolean","x-annotations":["@UsNoConstraint(reason = \"Boolean类型无需校验\")"],"x-imports":["com.huawei.us.validator.annotation.UsNoConstraint;"]},"is_default_policy":{"description":"是否默认策略","type":"boolean","x-annotations":["@UsNoConstraint(reason = \"Boolean类型无需校验\")"],"x-imports":["com.huawei.us.validator.annotation.UsNoConstraint;"]},"is_deny_all_else":{"description":"是否拒绝所有","type":"boolean","x-annotations":["@UsNoConstraint(reason = \"Boolean类型无需校验\")"],"x-imports":["com.huawei.us.validator.annotation.UsNoConstraint;"]},"is_enabled":{"description":"是否启动","type":"boolean","x-annotations":["@UsNoConstraint(reason = \"Boolean类型无需校验\")"],"x-imports":["com.huawei.us.validator.annotation.UsNoConstraint;"]},"name":{"description":"名","type":"string"},"options":{"description":"选项","properties":{},"type":"object"},"policy_items":{"description":"策略信息数组","items":{"$ref":"#/definitions/PolicyItem"},"type":"array"},"policy_labels":{"description":"策略便签","items":{"type":"string"},"type":"array"},"policy_priority":{"description":"策略优先级","format":"int32","type":"integer"},"policy_type":{"description":"策略类型","format":"int32","type":"integer"},"resource_signature":{"description":"资源签名","type":"string"},"resources":{"additionalProperties":{"$ref":"#/definitions/PolicyResource"},"description":"资源","type":"object"},"row_filter_policy_items":{"description":"行过滤策略条目","items":{"$ref":"#/definitions/RowFilterPolicyItem"},"type":"array"},"service":{"description":"服务","type":"string"},"service_type":{"description":"服务类型","type":"string"},"update_time":{"description":"更新时间","format":"date-time","type":"string"},"updated_by":{"description":"更新者","type":"string"},"validity_schedules":{"description":"验证周期","items":{"$ref":"#/definitions/ValiditySchedule"},"type":"array"},"version":{"description":"版本","format":"int64","type":"integer"},"zone_name":{"description":"域","type":"string"}},"title":"Policy","type":"object"},"PolicyItem":{"properties":{"accesses":{"description":"访问控制数据","items":{"$ref":"#/definitions/PolicyItemAccess"},"type":"array"},"conditions":{"description":"条件","items":{"$ref":"#/definitions/PolicyItemCondition"},"type":"array"},"delegate_admin":{"description":"是否传递","type":"boolean","x-annotations":["@UsNoConstraint(reason = \"Boolean类型无需校验\")"],"x-imports":["com.huawei.us.validator.annotation.UsNoConstraint;"]},"groups":{"description":"组","items":{"type":"string"},"type":"array"},"roles":{"description":"角色","items":{"type":"string"},"type":"array"},"users":{"description":"用户","items":{"type":"string"},"type":"array"}},"title":"PolicyItem"},"PolicyItemAccess":{"properties":{"is_allowed":{"description":"是否允许","type":"boolean","x-annotations":["@UsNoConstraint(reason = \"Boolean类型无需校验\")"],"x-imports":["com.huawei.us.validator.annotation.UsNoConstraint;"]},"type":{"description":"类型","type":"string"}},"title":"PolicyItemAccess"},"PolicyItemCondition":{"properties":{"type":{"description":"条件类型","type":"string"},"values":{"description":"条件值","items":{"type":"string"},"type":"array"}},"title":"PolicyItemCondition"},"PolicyItemDataMaskInfo":{"properties":{"condition_expr":{"description":"条件表达式","type":"string"},"data_mask_type":{"description":"列掩码类型","type":"string"},"value_expr":{"description":"列掩码表达式","type":"string"}},"title":"PolicyItemDataMaskInfo"},"PolicyItemRowFilterInfo":{"properties":{"filter_expr":{"description":"行过滤表达式","type":"string"}},"title":"PolicyItemRowFilterInfo"},"PolicyResource":{"properties":{"is_excludes":{"description":"是否排除","type":"boolean","x-annotations":["@UsNoConstraint(reason = \"Boolean类型无需校验\")"],"x-imports":["com.huawei.us.validator.annotation.UsNoConstraint;"]},"is_recursive":{"description":"是否递归","type":"boolean","x-annotations":["@UsNoConstraint(reason = \"Boolean类型无需校验\")"],"x-imports":["com.huawei.us.validator.annotation.UsNoConstraint;"]},"values":{"description":"值","items":{"type":"string"},"type":"array"}},"title":"PolicyResource"},"RecurrenceSchedule":{"properties":{"day_of_month":{"description":"日期按月","type":"string"},"day_of_week":{"description":"日期按星期","type":"string"},"hour":{"description":"时","type":"string"},"minute":{"description":"分","type":"string"},"month":{"description":"月","type":"string"},"year":{"description":"年","type":"string"}},"title":"RecurrenceSchedule"},"RowFilterPolicyItem":{"properties":{"accesses":{"description":"权限","items":{"$ref":"#/definitions/PolicyItemAccess"},"type":"array"},"conditions":{"description":"条件","items":{"$ref":"#/definitions/PolicyItemCondition"},"type":"array"},"delegate_admin":{"description":"是否传递","type":"boolean","x-annotations":["@UsNoConstraint(reason = \"Boolean类型无需校验\")"],"x-imports":["com.huawei.us.validator.annotation.UsNoConstraint;"]},"groups":{"description":"组","items":{"type":"string"},"type":"array"},"roles":{"description":"角色","items":{"type":"string"},"type":"array"},"row_filter_info":{"$ref":"#/definitions/PolicyItemRowFilterInfo","description":"行过滤"},"users":{"description":"用户","items":{"type":"string"},"type":"array"}},"title":"RowFilterPolicyItem"},"ValidityInterval":{"properties":{"days":{"description":"日","format":"int32","maximum":31,"minimum":1,"type":"integer"},"hours":{"description":"时","format":"int32","maximum":23,"minimum":0,"type":"integer"},"minutes":{"description":"分","format":"int32","maximum":59,"minimum":0,"type":"integer"}},"title":"ValidityInterval"},"ValidityRecurrence":{"properties":{"interval":{"$ref":"#/definitions/ValidityInterval","description":"时间间隔"},"schedule":{"$ref":"#/definitions/RecurrenceSchedule","description":"周期"}},"title":"ValidityRecurrence"},"ValiditySchedule":{"properties":{"end_time":{"description":"end时间","type":"string"},"recurrences":{"description":"策略递归","items":{"$ref":"#/definitions/ValidityRecurrence"},"type":"array"},"start_time":{"description":"开始时间","type":"string"},"time_zone":{"description":"时间域","type":"string"}},"title":"ValiditySchedule"}},"description":null,"group_id":"bf0ce8340d8b4439b53683607ef0d87f","host":"lakeformation.cn-north-4.myhuaweicloud.com","id":"706fefb00ffa49f28dc1bf3d0c732c74","info_version":"v1","method":"get","name":"ListPolicy","parameters":{},"paths":{"/v1/{project_id}/instances/{instance_id}/policies":{"get":{"deprecated":false,"description":"分页获取同步权限策略","operationId":"ListPolicy","parameters":[{"description":"租户token","in":"header","items":{"type":"string"},"name":"X-Auth-Token","required":true,"type":"array"},{"description":"项目id","in":"path","maxLength":64,"minLength":1,"name":"project_id","pattern":"^[a-z0-9]+$","required":true,"type":"string"},{"description":"instance id","in":"path","minLength":1,"name":"instance_id","pattern":"^[a-zA-Z0-9-]{36}$","required":true,"type":"string"},{"default":5000,"description":"limit","format":"int32","in":"query","maximum":10000,"minimum":1,"name":"limit","required":false,"type":"integer"},{"description":"marker","in":"query","maxLength":1024,"name":"marker","required":false,"type":"string"},{"default":false,"description":"是否查询上一页","in":"query","name":"reverse_page","required":false,"type":"boolean","x-annotations":["@UsNoConstraint(reason = \"Boolean类型无需校验\")"],"x-imports":["com.huawei.us.validator.annotation.UsNoConstraint;"]}],"produces":["application/json;charset=UTF-8"],"responses":{"200":{"description":"OK","examples":{"application/json":"/"},"schema":{"$ref":"#/definitions/PagedListPolicy"}},"400":{"description":"Bad Request","examples":{"application/json":{"error_code":"common.01000001","error_msg":"failed to read http request, please check your input, code: 400, reason: Type mismatch., cause: TypeMismatchException"}},"schema":{"$ref":"#/definitions/ErrorMessage"}},"401":{"description":"Unauthorized","examples":{"application/json":"{\n  \"error_code\": 'APIG.1002',\n  \"error_msg\": 'Incorrect token or token resolution failed'\n}"}},"403":{"description":"Forbidden","examples":{"application/json":{"error":{"code":"403","message":"X-Auth-Token is invalid in the request","title":"Forbidden"},"error_code":"403","error_msg":"X-Auth-Token is invalid in the request","title":"Forbidden"}}},"404":{"description":"Not Found","examples":{"application/json":{"error_code":"common.01000001","error_msg":"response status exception, code: 404"}},"schema":{"$ref":"#/definitions/ErrorMessage"}},"408":{"description":"Request Timeout","examples":{"application/json":{"error_code":"common.00000408","error_msg":"timeout exception occurred"}}},"500":{"description":"Internal Server Error","examples":{"application/json":{"error_code":"common.00000500","error_msg":"internal error"}},"schema":{"$ref":"#/definitions/ErrorMessage"}}},"summary":"获取同步权限策略","tags":["Access"],"x-apiexplorer-hide":"N","x-is-registered":"Y","x-request-examples-url-1":"/v1/{project_id}/instances/{instance_id}/policies","x-support-sdk":"Y"}}},"product_short":"LakeFormation","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"获取同步权限策略","tags":"接入管理","uri":null,"version":"2.0"}