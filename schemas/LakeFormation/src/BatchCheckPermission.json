{"base_path":null,"components":null,"consumes":"","definitions":{"AccessRequest":{"description":"CheckPoliciesInput body","properties":{"action":{"description":"权限信息,ALL,CREATE,ALTER,DROP,DESCRIBE,EXEC,CREATE_DATABASE,LIST_DATABASE,CREATE_TABLE,LIST_TABLE,CREATE_FUNC,LIST_FUNC,REGISTER_MODEL,LIST_MODEL,INSERT,UPDATE,DELETE,SELECT,READ,WRITE,OPERATE,USE","enum":["ALL","CREATE","ALTER","DROP","DESCRIBE","EXEC","CREATE_DATABASE","LIST_DATABASE","CREATE_TABLE","LIST_TABLE","CREATE_FUNC","LIST_FUNC","REGISTER_MODEL","LIST_MODEL","INSERT","UPDATE","DELETE","SELECT","READ","WRITE","OPERATE","USE"],"example":"ALTER","type":"string"},"principal":{"description":"授权主体信息","items":{"$ref":"#/definitions/Principal"},"maxItems":2000,"minItems":0,"type":"array"},"resource":{"$ref":"#/definitions/ResourceInput","description":"资源信息"}},"required":["resource","principal","action"],"title":"CheckPoliciesInput","type":"object"},"CheckPermissionInput":{"description":"CheckPermissionInput body","properties":{"access_request":{"description":"主体信息","items":{"$ref":"#/definitions/AccessRequest"},"maxItems":100,"minItems":0,"type":"array"}},"required":["access_request"],"title":"CheckPermissionInput","type":"object"},"CheckPermissionResult":{"description":"查询权限返回结果","properties":{"check_result":{"default":false,"description":"对应输入策略的检查结果","type":"boolean","x-annotations":["@UsNoConstraint(reason = \"Boolean类型无需校验\")"],"x-imports":["com.huawei.us.validator.annotation.UsNoConstraint;"]},"error_message":{"description":"错误信息","maxLength":65534,"minLength":0,"type":"string"}},"required":["check_result"],"title":"CheckPermissionResult","type":"object"},"ErrorMessage":{"description":"失败时返回的错误对象","properties":{"common_error_code":{"description":"CBC公共错误码","example":"CMM.1008","maxLength":36,"minLength":1,"type":"string"},"error_code":{"description":"错误码","example":"lakeformation.00010003","maxLength":36,"minLength":8,"type":"string"},"error_msg":{"description":"错误描述","example":"failed","maxLength":4096,"minLength":2,"type":"string"},"solution_msg":{"description":"解决方案描述","example":"Please use correct instance id.","maxLength":4096,"minLength":2,"type":"string"}},"required":["error_code","error_msg"],"type":"object"},"Principal":{"properties":{"principal_name":{"description":"主体名","example":"user1","maxLength":49,"minLength":1,"pattern":"^[A-Za-z0-9_]+$","type":"string"},"principal_source":{"description":"主体来源\nIAM云用户\nSAML联邦\nLDAP ld用户\nLOCAL 本地用户","enum":["IAM","SAML","LDAP","LOCAL"],"example":"IAM","type":"string"},"principal_type":{"description":"主体类型\nUSER用户\nGROUP组\nROLE角色\nSHARE共享\nOTHER其它","enum":["USER","GROUP","ROLE","SHARE","OTHER"],"example":"USER","type":"string"}},"required":["principal_name","principal_source","principal_type"],"title":"Principal","type":"object"},"ResourceInput":{"description":"ResourceInput","properties":{"catalog":{"description":"catalog名称。只能包含字母、数字和下划线,且长度为1~256个字符。","example":"catalog1","maxLength":256,"minLength":1,"pattern":"^[a-zA-Z_0-9]+$","type":"string"},"column":{"description":"列名称。只能包含中文、字母、数字和_-+*\\(), 特殊字符,且长度为1~767个字符。","example":"c1","maxLength":767,"minLength":1,"pattern":"^[a-zA-Z0-9_\\-\\+*\\\\(), \\u4e00-\\u9fa5]+$","type":"string"},"columns":{"description":"列名称列表","example":"[c1]","items":{"example":"c1","maxLength":767,"minLength":1,"pattern":"^[a-zA-Z0-9_\\-\\+*\\\\(), \\u4e00-\\u9fa5]+$","type":"string"},"maxItems":1000,"minItems":0,"type":"array"},"database":{"description":"数据库名称。只能包含中文、字母、数字和下划线,且长度为1到128个字符。","example":"db1","maxLength":128,"minLength":1,"pattern":"^[a-zA-Z0-9\\u4e00-\\u9fa5_]*$","type":"string"},"function":{"description":"函数名称。只能包含字母、数字和下划线,且长度为1~256个字符。","example":"func1","maxLength":256,"minLength":1,"pattern":"[a-zA-Z0-9_]+","type":"string"},"resource_type":{"description":"元数据资源类型,CATALOG,DATABASE,TABLE,FUNC,MODEL,COLUMN,URI","enum":["CATALOG","DATABASE","TABLE","FUNC","MODEL","COLUMN","URI"],"pattern":"^(CATALOG|DATABASE|TABLE|FUNC|MODEL|COLUMN|URI)$","type":"string"},"table":{"description":"表名称。只能包含中文、字母、数字和下划线,且长度为1~256个字符。","example":"tb1","maxLength":256,"minLength":1,"pattern":"^[a-zA-Z0-9\\u4e00-\\u9fa5_]*$","type":"string"},"uri":{"description":"URI","maxLength":4000,"minLength":0,"type":"string"}},"required":["resource_type"],"title":"ResourceInput","type":"object"}},"description":null,"group_id":"bf0ce8340d8b4439b53683607ef0d87f","host":"lakeformation.cn-north-4.myhuaweicloud.com","id":"fff4b35258e342e68f2dd64d03ca0e0e","info_version":"v1","method":"post","name":"BatchCheckPermission","parameters":{},"paths":{"/v1/{project_id}/instances/{instance_id}/policies/check-permission":{"post":{"deprecated":false,"description":"批量鉴权","operationId":"BatchCheckPermission","parameters":[{"description":"租户token","in":"header","items":{"type":"string"},"maxItems":100,"minItems":1,"name":"X-Auth-Token","required":true,"type":"array"},{"description":"项目编号。获取方法,请参见[获取项目ID](lakeformation_04_0026.xml)。","in":"path","maxLength":64,"minLength":1,"name":"project_id","pattern":"^[a-z0-9]+$","required":true,"type":"string"},{"description":"LakeFormation实例ID。创建实例时自动生成。例如:2180518f-42b8-4947-b20b-adfc53981a25。","in":"path","minLength":1,"name":"instance_id","pattern":"^[a-zA-Z0-9-]{36}$","required":true,"type":"string"},{"description":"check permission input","in":"body","name":"BatchCheckPermissionRequestBody","required":true,"schema":{"$ref":"#/definitions/CheckPermissionInput"}}],"produces":["application/json;charset=UTF-8"],"responses":{"200":{"description":"OK","examples":{"application/json":[{"check_result":false,"error_message":"test error message"}]},"schema":{"items":{"$ref":"#/definitions/CheckPermissionResult"},"maxItems":100,"type":"array"}},"400":{"description":"Bad Request","examples":{"application/json":{"error_code":"common.01000001","error_msg":"failed to read http request, please check your input, code: 400, reason: Type mismatch., cause: TypeMismatchException"}},"schema":{"$ref":"#/definitions/ErrorMessage"}},"401":{"description":"Unauthorized","examples":{"application/json":"{\n  \"error_code\": 'APIG.1002',\n  \"error_msg\": 'Incorrect token or token resolution failed'\n}"}},"403":{"description":"Forbidden","examples":{"application/json":{"error":{"code":"403","error_code":null,"error_msg":null,"message":"X-Auth-Token is invalid in the request","title":"Forbidden"},"error_code":"403","error_msg":"X-Auth-Token is invalid in the request","title":"Forbidden"}}},"404":{"description":"Not Found","examples":{"application/json":{"error_code":"common.01000001","error_msg":"response status exception, code: 404"}},"schema":{"$ref":"#/definitions/ErrorMessage"}},"408":{"description":"Request Timeout","examples":{"application/json":{"error_code":"common.00000408","error_msg":"timeout exception occurred"}}},"500":{"description":"Internal Server Error","examples":{"application/json":{"error_code":"common.00000500","error_msg":"internal error"}},"schema":{"$ref":"#/definitions/ErrorMessage"}}},"summary":"批量鉴权","tags":["Access"],"x-apiexplorer-hide":"N","x-imports":["com.huawei.lakeformation.common.annotation.ApiCount;"],"x-is-registered":"Y","x-method-annotations":["@ApiCount"],"x-request-examples-1":{"access_request":[{"action":"ALL","principal":[{"principal_name":"onebox","principal_source":"IAM","principal_type":"GROUP"}],"resource":{"catalog":"hive","database":"test_database_name","resource_type":"DATABASE"}}]},"x-request-examples-text-1":{"access_request":[{"action":"ALL","principal":[{"principal_name":"onebox","principal_source":"IAM","principal_type":"GROUP"}],"resource":{"catalog":"hive","database":"test_database_name","resource_type":"DATABASE"}}]},"x-request-examples-url-1":"GET https://{endpoint}/v1/{project_id}/instances/{instance_id}/policies/check-permission","x-support-sdk":"Y"}}},"product_short":"LakeFormation","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"批量鉴权","tags":"接入管理","uri":null,"version":"2.0"}