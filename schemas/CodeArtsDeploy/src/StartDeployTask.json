{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"AppComponentDao":{"description":"应用和AOM应用组件对应关系","properties":{"app_id":{"description":"AOM应用id","pattern":"^[A-Za-z0-9]{32}$","type":"string"},"app_name":{"description":"AOM应用名称","pattern":"^deploy_[A-Za-z0-9]{6}$","type":"string"},"comp_id":{"description":"AOM应用组件id","pattern":"^[A-Za-z0-9]{32}$","type":"string"},"comp_name":{"description":"AOM应用组件名称","maxLength":128,"minLength":0,"type":"string"},"domain_id":{"description":"租户ID","pattern":"^[A-Za-z0-9]{32}$","type":"string"},"region":{"description":"局点信息","maxLength":256,"minLength":1,"type":"string"},"state":{"description":"AOM应用组件是否生效,0表示初始化,1表示执行成功,已生效","example":0,"maxLength":32,"minLength":1,"pattern":"^[0-1]{1}$","type":"string"},"task_id":{"description":"部署任务id","pattern":"^[A-Za-z0-9]{32}$","type":"string"}}},"DeployRecordInfo":{"description":"部署应用响应体","properties":{"app_component_list":{"description":"应用和AOM应用组件对应关系","items":{"$ref":"#/definitions/AppComponentDao"},"type":"array"},"id":{"description":"部署记录id","pattern":"^[A-Za-z0-9]{32}$","type":"string"},"job_name":{"description":"执行任务名称","maxLength":55,"minLength":45,"type":"string"},"task_id":{"description":"部署任务id","pattern":"^[A-Za-z0-9]{32}$","type":"string"}}},"DynamicConfigInfo":{"allOf":[{"$ref":"#/definitions/KeyValueDO"},{"properties":{"type":{"description":"类型,如果填写动态参数,则类型必选","enum":["text","host_group","encrypt","enum"],"example":"text","type":"string"}},"type":"object"}],"description":"部署应用时传递的参数"},"EnvExecutionBody":{"description":"应用启动参数","properties":{"params":{"description":"部署应用时传递的参数","items":{"$ref":"#/definitions/DynamicConfigInfo"},"maxItems":500,"minItems":0,"type":"array"},"record_id":{"description":"应用的部署id,可通过record_id回滚至之前的部署状态。选中应用历史部署记录,在URL中获取","example":"5bf0a54f36b04ddda7b94470fee39307","pattern":"[A-Za-z0-9]{1,32}$","type":"string"},"trigger_source":{"description":"限制触发来源,0不限制任何部署请求来源,1时只允许通过流水线触发部署","example":0,"pattern":"^(0|1)$","type":"string"}}},"KeyValueDO":{"description":"部署应用时传递的动态参数","properties":{"key":{"description":"部署应用时传递的参数名称","example":"test","maxLength":128,"minLength":1,"pattern":"^[a-zA-Z0-9\\-_.]*$","type":"string"},"value":{"description":"部署应用时传递的参数值","example":"test","maxLength":8192,"minLength":1,"pattern":"^(?![\\s\\S]*(\\{[\\{%#]))[\\s\\S]*$","type":"string"}}}},"description":null,"group_id":"dd78b2802a5f4901936a879de13fbe3f","host":"codearts-deploy.cn-north-4.myhuaweicloud.com","id":"f7d1af93a3794720b7a28ad36411e683","info_version":"v2","method":"post","name":"StartDeployTask","parameters":{"Content-Type":{"default":"application/json;charset=utf-8","description":"消息体的类型(格式),下方类型可任选其一使用:\n                        application/json;charset=utf-8\n                        application/json","enum":["application/json;charset=utf-8","application/json"],"in":"header","name":"Content-Type","required":true,"type":"string"},"X-Auth-Token":{"description":"用户Token。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","maxLength":20000,"minLength":0,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."}},"paths":{"/v2/tasks/{task_id}/start":{"post":{"consumes":["application/json"],"description":"根据部署任务id部署应用。","operationId":"StartDeployTask","parameters":[{"description":"部署任务id","in":"path","name":"task_id","pattern":"^[A-Za-z0-9]{32}$","required":true,"type":"string"},{"description":"启动参数","in":"body","name":"StartDeployTaskRequestBody","required":true,"schema":{"$ref":"#/definitions/EnvExecutionBody"}},{"$ref":"#/parameters/Content-Type"},{"$ref":"#/parameters/X-Auth-Token"}],"produces":["application/json"],"responses":{"200":{"description":"OK 请求响应成功","examples":{"application/json":{"app_component_list":[],"id":"0ee9c8e6a7dc44109541e53c6dccf47c","job_name":"job_0ee9c8e6a7dc44109541e53c6dccf47c_1620810492008","task_id":"d2dc947ec2424d8789bb3984bb3adf45"}},"schema":{"$ref":"#/definitions/DeployRecordInfo"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"summary":"部署应用","tags":["deploy-env-controller-v2"],"x-is-registered":"Y","x-request-examples-1":{"params":[]},"x-request-examples-description-1":"跟据部署任务id部署应用。","x-request-examples-text-1":{"params":[]},"x-request-examples-url-1":"https://{endpoint}/v2/tasks/d2dc947ec2424d8789bb3984bb3adf45/start","x-support-sdk":"Y"}}},"product_short":"CodeArtsDeploy","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"部署应用","tags":"应用管理","uri":null,"version":"2.0"}