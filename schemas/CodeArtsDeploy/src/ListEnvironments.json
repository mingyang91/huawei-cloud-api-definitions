{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"EnvironmentDetail":{"description":"环境详情","properties":{"created_by":{"$ref":"#/definitions/UserInfo"},"created_time":{"description":"创建时间","type":"string"},"deploy_type":{"description":"部署类型:0表示主机, 1表示kubernetes","type":"integer"},"description":{"description":"环境描述","type":"string"},"id":{"description":"环境id","type":"string"},"instance_count":{"description":"环境下主机实例数量","type":"integer"},"name":{"description":"环境名称","type":"string"},"nick_name":{"description":"用户昵称","type":"string"},"os":{"description":"操作系统","type":"string"},"permission":{"$ref":"#/definitions/EnvironmentPermissionDetail"}}},"EnvironmentListsResponseBody":{"description":"查询环境列表发挥提","properties":{"result":{"description":"环境列表信息","items":{"$ref":"#/definitions/EnvironmentDetail"},"maxItems":100,"minItems":0,"type":"array"},"status":{"description":"响应状态","type":"string"},"total":{"description":"应用下环境总数","type":"integer"}}},"EnvironmentPermissionDetail":{"description":"环境权限详情","properties":{"can_delete":{"description":"是否有删除环境权限","type":"boolean"},"can_deploy":{"description":"是否有部署权限","type":"boolean"},"can_edit":{"description":"是否有编辑环境权限","type":"boolean"},"can_manage":{"description":"是否有编辑环境权限矩阵的权限","type":"boolean"},"can_view":{"description":"是否有环境的查看权限","type":"boolean"}}},"UserInfo":{"description":"用户信息","properties":{"user_id":{"description":"用户id","type":"string"},"user_name":{"description":"用户名","type":"string"}}}},"description":null,"group_id":"dd78b2802a5f4901936a879de13fbe3f","host":"codearts-deploy.cn-north-4.myhuaweicloud.com","id":"06b17c02d54540e38fb4a56d5a059553","info_version":"v2","method":"get","name":"ListEnvironments","parameters":{"X-Auth-Token":{"description":"用户Token。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","maxLength":20000,"minLength":0,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."}},"paths":{"/v1/applications/{application_id}/environments":{"get":{"consumes":["application/json"],"description":"查询应用下环境列表。","operationId":"ListEnvironments","parameters":[{"description":"应用id","in":"path","maxLength":32,"minLength":32,"name":"application_id","pattern":"^[A-Za-z0-9]{32}$","required":true,"type":"string"},{"description":"项目ID","in":"query","maxLength":32,"minLength":32,"name":"project_id","pattern":"^[A-Za-z0-9]{32}$","required":true,"type":"string"},{"default":1,"description":"分页页码, 表示从此页开始查询, page大于等于1","format":"int32","in":"query","maximum":50,"minimum":1,"name":"page_index","type":"integer"},{"default":100,"description":"每页显示的条目数量,size小于等于100","format":"int32","in":"query","maximum":100,"minimum":1,"name":"page_size","type":"integer"},{"description":"要查询的环境名称","in":"query","maximum":128,"name":"name","required":false,"type":"string"},{"default":"CREATED_TIME","description":"排序字段,支持按照环境名称|用户名称|创建时间|用户昵称排序","enum":["NAME","USER_NAME","CREATED_TIME","NICK_NAME"],"in":"query","name":"sort_key","required":false,"type":"string"},{"default":"DESC","description":"排序顺序,DESC降序,ASC升序","enum":["DESC","ASC"],"in":"query","name":"sort_dir","required":false,"type":"string"},{"$ref":"#/parameters/X-Auth-Token"}],"produces":["application/json"],"responses":{"200":{"description":"OK 请求响应成功","examples":{"application/json":{"result":[{"created_by":{"user_id":"6baa7454109d47c192f22078fe6cda20","user_name":"devcloud_devcloud_l00490255_01"},"created_time":"2023-06-20 16:53:29.0","deploy_type":0,"description":"","id":"a0a2274acc4f482bb2ecf49f865879fa","name":"casdasd","nick_name":"AB边账号","os":"linux","permission":{"can_delete":true,"can_deploy":true,"can_edit":true,"can_manage":true,"can_view":true}}],"status":"success","total":1}},"schema":{"$ref":"#/definitions/EnvironmentListsResponseBody"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"summary":"查询应用下环境列表","tags":["environment-controller-v2"],"x-is-registered":"Y","x-request-examples-url-1":"https://{endpoint}/v1/applications/43943381f7764c52baae8e697720873f/environments?project_id=55837d272adf4eee90319800e2da6961","x-support-sdk":"Y"}}},"product_short":"CodeArtsDeploy","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询应用下环境列表","tags":"环境管理","uri":null,"version":"2.0"}