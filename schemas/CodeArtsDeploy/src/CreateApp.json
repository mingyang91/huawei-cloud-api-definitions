{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"AppBaseResponse":{"properties":{"arrange_infos":{"description":"部署任务列表","items":{"$ref":"#/definitions/TaskBaseBody"},"type":"array"},"id":{"description":"创建的应用id","type":"string"},"name":{"description":"创建应用名称","type":"string"},"region":{"description":"应用所属区域","type":"string"}}},"CreateAppRequestBody":{"description":"创建应用请求体","properties":{"arrange_infos":{"description":"部署任务列表信息","items":{"$ref":"#/definitions/TaskV2RequestBody"},"type":"array"},"create_type":{"description":"创建类型,创建类型只有一个'template',即根据模板创建","enum":["template"],"type":"string"},"description":{"description":"描述","type":"string"},"group_id":{"description":"分组id","type":"string"},"is_draft":{"description":"是否为草稿","type":"boolean"},"name":{"description":"应用名称","example":"templateTest","maxLength":128,"minLength":3,"pattern":"^[a-zA-Z0-9\\u4E00-\\u9FA5-_]+$","type":"string"},"project_id":{"description":"项目ID","example":"6039d4480efc4dddb178abff98719913","pattern":"^[A-Za-z0-9]{32}$","type":"string"},"slave_cluster_id":{"description":"自定义slave资源池id","example":"9fee11a3722749598cd8468311e082d9","pattern":"^[A-Za-z0-9]{1,32}$","type":"string"},"trigger":{"$ref":"#/definitions/TaskTriggerVO"}},"required":["name","create_type","project_id","is_draft"]},"CreateAppResponseBody":{"description":"","properties":{"result":{"$ref":"#/definitions/AppBaseResponse"},"status":{"description":"请求成功失败状态","type":"string"}}},"DeployV2OperationsDO":{"properties":{"code":{"description":"下载地址","type":"string"},"description":{"description":"步骤描述","type":"string"},"entrance":{"description":"入口函数","type":"string"},"module_id":{"description":"模块id","type":"string"},"name":{"description":"步骤名称","type":"string"},"params":{"description":"参数","type":"string"},"version":{"description":"版本","type":"string"}}},"TaskBaseBody":{"properties":{"id":{"description":"创建的部署任务id","type":"string"}}},"TaskTriggerVO":{"properties":{"artifact_source_system":{"description":"当任务只允许流水线触发执行时,流水线传递的来源信息,当前只有CloudArtifact","type":"string"},"artifact_type":{"description":"当任务只允许流水线触发执行时,对应流水线源的制品仓库类型(generic、docker)","type":"string"},"trigger_source":{"description":"部署任务允许执行的场景。其中0:所有执行请求均可,1:只允许流水线触发","type":"string"}}},"TaskV2RequestBody":{"properties":{"operation_list":{"description":"部署编排列表信息","items":{"$ref":"#/definitions/DeployV2OperationsDO"},"type":"array"},"template_id":{"description":"模板id","type":"string"}}}},"description":null,"group_id":"dd78b2802a5f4901936a879de13fbe3f","host":"codearts-deploy.cn-north-4.myhuaweicloud.com","id":"60d2241660554e3d99e0c853152a45bd","info_version":"v2","method":"post","name":"CreateApp","parameters":{"Content-Type":{"default":"application/json;charset=utf-8","description":"消息体的类型(格式),下方类型可任选其一使用:\n                        application/json;charset=utf-8\n                        application/json","enum":["application/json;charset=utf-8","application/json"],"in":"header","name":"Content-Type","required":true,"type":"string"},"X-Auth-Token":{"description":"用户Token。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","maxLength":20000,"minLength":0,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."}},"paths":{"/v1/applications":{"post":{"consumes":["application/json"],"description":"新建应用。","operationId":"CreateApp","parameters":[{"description":"Body参数","in":"body","name":"CreateAppRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateAppRequestBody"}},{"$ref":"#/parameters/Content-Type"},{"$ref":"#/parameters/X-Auth-Token"}],"produces":["application/json"],"responses":{"200":{"description":"OK 请求响应成功","examples":{"application/json":{"result":{"arrange_infos":[{"id":"e700f15965694253940502911220d76b"}],"id":"e700f15965694253940502911220d76b","name":"testApp","region":"cn-north-7"},"status":"success"}},"schema":{"$ref":"#/definitions/CreateAppResponseBody"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"summary":"新建应用","tags":["deploy-env-controller-v2"],"x-is-registered":"Y","x-request-examples-1":{"arrange_infos":[],"create_type":"template","description":"使用空白模板创建应用","is_draft":true,"name":"deployenv20230822192953","project_id":"55837d272adf4eee90319800e2da6961","slave_cluster_id":"","trigger":{"artifact_source_system":"","artifact_type":"","trigger_source":0}},"x-request-examples-description-1":"创建一个应用","x-request-examples-text-1":{"arrange_infos":[],"create_type":"template","description":"使用空白模板创建应用","is_draft":true,"name":"deployenv20230822192953","project_id":"55837d272adf4eee90319800e2da6961","slave_cluster_id":"","trigger":{"artifact_source_system":"","artifact_type":"","trigger_source":0}},"x-request-examples-url-1":"https://{endpoint}/v1/applications","x-support-sdk":"Y"}}},"product_short":"CodeArtsDeploy","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"新建应用","tags":"应用管理","uri":null,"version":"2.0"}