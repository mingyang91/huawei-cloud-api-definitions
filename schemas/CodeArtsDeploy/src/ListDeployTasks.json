{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"AppComponentDao":{"description":"应用和AOM应用组件对应关系","properties":{"app_id":{"description":"AOM应用id","pattern":"^[A-Za-z0-9]{32}$","type":"string"},"app_name":{"description":"AOM应用名称","pattern":"^deploy_[A-Za-z0-9]{6}$","type":"string"},"comp_id":{"description":"AOM应用组件id","pattern":"^[A-Za-z0-9]{32}$","type":"string"},"comp_name":{"description":"AOM应用组件名称","maxLength":128,"minLength":0,"type":"string"},"domain_id":{"description":"租户ID","pattern":"^[A-Za-z0-9]{32}$","type":"string"},"region":{"description":"局点信息","maxLength":256,"minLength":1,"type":"string"},"state":{"description":"AOM应用组件是否生效,0表示初始化,1表示执行成功,已生效","example":0,"maxLength":32,"minLength":1,"pattern":"^[0-1]{1}$","type":"string"},"task_id":{"description":"部署任务id","pattern":"^[A-Za-z0-9]{32}$","type":"string"}}},"ListDeployTasksResultBody":{"properties":{"result":{"description":"返回结果","items":{"$ref":"#/definitions/TaskInfo"},"type":"array"},"total_num":{"description":"总数","format":"int32","type":"integer"}}},"Step":{"description":"部署步骤","properties":{"enable":{"description":"是否开启","type":"boolean"},"id":{"description":"id","type":"string"},"name":{"description":"名称","type":"string"},"params":{"additionalProperties":{"description":"附加属性","type":"string"},"description":"参数","type":"object"}},"type":"object"},"TaskInfo":{"description":"查询应用详情响应体","properties":{"app_component_list":{"description":"应用和AOM应用组件对应关系","items":{"$ref":"#/definitions/AppComponentDao"},"type":"array"},"can_copy":{"description":"是否有复制权限","type":"boolean"},"can_delete":{"description":"是否有删除的权限","type":"boolean"},"can_disable":{"description":"是否有禁用应用的权限","type":"boolean"},"can_execute":{"description":"是否有部署权限","type":"boolean"},"can_manage":{"description":"是否有编辑应用权限矩阵的权限","type":"boolean"},"can_modify":{"description":"是否有编辑权限","type":"boolean"},"can_view":{"description":"是否有查看权限","type":"boolean"},"create_time":{"description":"创建时间","example":"2021-02-25 10:37:27","maxLength":128,"minLength":3,"type":"string"},"deploy_system":{"description":"部署类型模式,包括deployTemplate,ansible,shell","pattern":"^[A-Za-z]{1,128}$","type":"string"},"description":{"description":"描述","maxLength":1024,"minLength":0,"type":"string"},"duration":{"description":"部署时间","type":"string"},"execution_state":{"description":"部署状态","type":"string"},"execution_time":{"description":"最后一次部署时间","maxLength":128,"minLength":3,"type":"string"},"executor_id":{"description":"部署者id","type":"string"},"executor_nick_name":{"description":"部署者名称","type":"string"},"id":{"description":"部署任务id","type":"string"},"is_care":{"description":"当前用户是否已收藏","type":"boolean"},"is_defaut_permission":{"description":"是否使用默认权限矩阵","type":"boolean"},"is_disable":{"description":"当前应用是否被禁用","type":"boolean"},"name":{"description":"应用名称","maxLength":128,"minLength":3,"pattern":"^[a-zA-Z0-9\\u4E00-\\u9FA5-_]+$","type":"string"},"nick_name":{"description":"应用创建者昵称","maxLength":128,"minLength":0,"type":"string"},"owner":{"description":"应用创建者用户名","maxLength":128,"minLength":0,"type":"string"},"owner_id":{"description":"应用创建者用户ID","pattern":"^[A-Za-z0-9]{32}$","type":"string"},"project_id":{"description":"项目ID","pattern":"^[A-Za-z0-9]{32}$","type":"string"},"project_name":{"description":"项目名称","maxLength":128,"minLength":3,"type":"string"},"release_id":{"description":"部署记录序列号","format":"int32","type":"integer"},"role_id":{"description":"角色ID,0:应用创建者,-1:项目创建者,3:项目经理,4:开发人员,5:测试经理,6:测试人员,7:参与者,8:浏览者","format":"int32","type":"integer"},"slave_cluster_id":{"description":"slave集群id,默认为null时使用默认slave集群,用户自定义slave时为slave集群id","pattern":"^[A-Za-z0-9]{1,32}$","type":"string"},"state":{"description":"应用状态,Draft表示草稿状态,Available表示可用状态","enum":["Available","Draft"],"type":"string"},"steps":{"additionalProperties":{"$ref":"#/definitions/Step"},"description":"部署步骤","type":"object"},"task_id":{"description":"部署任务id","pattern":"^[A-Za-z0-9]{32}$","type":"string"},"template_id":{"description":"模板id","pattern":"^[A-Za-z0-9]{32}$","type":"string"},"tenant_id":{"description":"应用创建者租户ID","pattern":"^[A-Za-z0-9]{32}$","type":"string"},"tenant_name":{"description":"应用创建者租户名","maxLength":128,"minLength":0,"type":"string"},"update_time":{"description":"修改时间","maxLength":128,"minLength":3,"type":"string"}},"type":"object"}},"description":null,"group_id":"dd78b2802a5f4901936a879de13fbe3f","host":"codearts-deploy.cn-north-4.myhuaweicloud.com","id":"0f388d0a09324c3494184544fa26ceea","info_version":"v2","method":"get","name":"ListDeployTasks","parameters":{"Content-Type":{"default":"application/json;charset=utf-8","description":"消息体的类型(格式),下方类型可任选其一使用:\n                        application/json;charset=utf-8\n                        application/json","enum":["application/json;charset=utf-8","application/json"],"in":"header","name":"Content-Type","required":true,"type":"string"},"X-Auth-Token":{"description":"用户Token。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","maxLength":20000,"minLength":0,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."}},"paths":{"/v2/{project_id}/tasks/list":{"get":{"consumes":["application/json"],"description":"查询项目下应用列表。该接口于2024年09月30日后不再维护,推荐使用新版ListAllApp接口。","operationId":"ListDeployTasks","parameters":[{"description":"项目ID","in":"path","maxLength":32,"minLength":32,"name":"project_id","pattern":"^[A-Za-z0-9]{32}$","required":true,"type":"string"},{"$ref":"#/parameters/Content-Type"},{"$ref":"#/parameters/X-Auth-Token"},{"description":"分页页码, 表示从此页开始查询, page大于等于1","format":"int32","in":"query","name":"page","required":true,"type":"integer"},{"description":"每页显示的条目数量,size小于等于100","format":"int32","in":"query","name":"size","required":true,"type":"integer"}],"produces":["application/json"],"responses":{"200":{"description":"OK 请求响应成功","examples":{"application/json":{"result":[{"can_copy":true,"can_delete":true,"can_disable":false,"can_execute":true,"can_manage":true,"can_modify":true,"can_view":true,"create_time":"2022-02-09 16:34:20","deploy_system":"deployTemplate","duration":"00:00:50","execution_state":"succeeded","execution_time":"2022-04-11 15:50:23","executor_id":"6baa7454109d47c192f22078fe6cda20","executor_nick_name":"AB边账号","id":"2c82ffe8d00d4968a4e5f7a36d87ae17","is_care":true,"is_defaut_permission":false,"is_disable":true,"name":"消息通知","nick_name":"AB边账号","owner":"devcloud_devcloud_l00490255_01","owner_id":"6baa7454109d47c192f22078fe6cda20","project_id":"332f53cbabc44863a46ce6b4f82a9fe7","project_name":"DeployMan-UI-L0","release_id":61640,"role_id":-1,"state":"succeeded","update_time":"2022-03-05 09:04:39"},{"can_copy":true,"can_delete":true,"can_disable":false,"can_execute":true,"can_manage":true,"can_modify":true,"can_view":true,"create_time":"2022-04-12 17:26:07","deploy_system":"deployTemplate","duration":"00:02:36","execution_state":"failed","execution_time":"2022-04-13 11:45:09","executor_id":"04ec4661a8df4359b50980a9c958c86d","executor_nick_name":"paas_clouddeploy_h00472130_01","id":"a9c3ef27a1f34a1abf1dc84d927d7d39","is_care":false,"is_defaut_permission":false,"is_disable":true,"name":"412","nick_name":"paas_clouddeploy_h00472130_01","owner":"paas_clouddeploy_h00472130_01","owner_id":"04ec4661a8df4359b50980a9c958c86d","project_id":"332f53cbabc44863a46ce6b4f82a9fe7","project_name":"DeployMan-UI-L0","release_id":29,"role_id":-1,"state":"failed","update_time":"2022-04-12 17:26:07"}],"total_num":331}},"schema":{"$ref":"#/definitions/ListDeployTasksResultBody"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"summary":"获取应用列表","tags":["deploy-env-controller-v2"],"x-is-registered":"Y","x-request-examples-url-1":"https://{endpoint}/v2/332f53cbabc44863a46ce6b4f82a9fe7/tasks/list?page=1&size=2","x-support-sdk":"Y"}}},"product_short":"CodeArtsDeploy","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"获取应用列表","tags":"应用管理","uri":null,"version":"2.0"}