{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"EnvironmentHostInfo":{"description":"主机详情信息","properties":{"as_proxy":{"description":"是否为代理机","type":"boolean"},"connection_result":{"description":"连通性验证结果","type":"string"},"connection_status":{"description":"连通性状态","type":"string"},"group_id":{"description":"主机集群id","type":"string"},"host_id":{"description":"主机id","pattern":"^[A-Za-z0-9]{32}$","type":"string"},"host_name":{"description":"主机名","type":"string"},"ip":{"description":"主机ip,如:161.17.101.12","type":"string"},"lastest_connection_time":{"description":"上次连通时间","type":"string"},"nick_name":{"description":"创建人昵称","type":"string"},"owner_id":{"description":"主机所属人id","type":"string"},"owner_name":{"description":"主机所属人名称","type":"string"},"permission":{"$ref":"#/definitions/EnvironmentHostPermission","type":"object"},"port":{"description":"ssh端口,如:22","type":"integer"},"proxy_host_id":{"description":"代理机id","type":"string"},"proxy_host_name":{"description":"代理机名称","type":"string"}}},"EnvironmentHostPermission":{"description":"环境下主机权限详情","properties":{"can_delete":{"description":"是否有删除权限","type":"boolean"},"can_deploy":{"description":"是否有部署权限","type":"boolean"},"can_edit":{"description":"是否有编辑权限","type":"boolean"},"can_manage":{"description":"是否有权限管理权限","type":"boolean"},"can_view":{"description":"是否有查看权限","type":"boolean"}}},"ListEnvironmentHostsPageResponse":{"properties":{"result":{"description":"环境下主机信息列表","items":{"$ref":"#/definitions/EnvironmentHostInfo","description":"主机详情信息","type":"object"},"type":"array"},"status":{"description":"请求成功失败状态","example":"success","maxLength":64,"minLength":0,"pattern":"^[a-zA-Z0-9]+$","type":"string"},"total":{"description":"总数量","example":1,"type":"integer"}},"type":"object"}},"description":null,"group_id":"dd78b2802a5f4901936a879de13fbe3f","host":"codearts-deploy.cn-north-4.myhuaweicloud.com","id":"2ef22cd01d4c4949a06d5b3e0aa7bf33","info_version":"v2","method":"get","name":"ListEnvironmentHosts","parameters":{"X-Auth-Token":{"description":"用户Token。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","maxLength":20000,"minLength":0,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."}},"paths":{"/v1/applications/{application_id}/environments/{environment_id}/hosts":{"get":{"description":"查询环境内的主机列表。","operationId":"ListEnvironmentHosts","parameters":[{"$ref":"#/parameters/X-Auth-Token"},{"description":"应用id","in":"path","maxLength":32,"minLength":32,"name":"application_id","pattern":"^[0-9a-z]{32}$","required":true,"type":"string","x-example":"a5b72667c74a7683af32ae9eff88a524"},{"description":"环境id","in":"path","maxLength":32,"minLength":32,"name":"environment_id","pattern":"^[0-9a-z]{32}$","required":true,"type":"string","x-example":"9e88affa5b72667c74a7683af32ae524"},{"description":"主机名、ip关键字模糊搜索","in":"query","maxLength":128,"minLength":0,"name":"key_field","pattern":"^[a-zA-Z0-9\\u4E00-\\u9FA5\\-_.]+(\\s+[a-zA-Z0-9\\u4E00-\\u9FA5\\-_.]+)*$","required":false,"type":"string","x-example":"主机"},{"description":"是否为代理机,true为代理机","in":"query","name":"as_proxy","required":false,"type":"boolean","x-example":true},{"description":"分页页码","format":"int32","in":"query","maximum":2147483647,"minimum":1,"name":"page_index","required":false,"type":"integer","x-example":1},{"description":"分页查询每页条数","format":"int32","in":"query","maximum":100,"minimum":1,"name":"page_size","required":false,"type":"integer","x-example":10}],"produces":["application/json;charset=UTF-8"],"responses":{"200":{"description":"OK 请求响应成功","examples":{"application/json":{"result":[{"as_proxy":false,"connection_result":"连接失败","connection_status":"failed","group_id":"2a8c2da888c04a5eaff10d0787c90ea4","host_id":"13c208e61c9541ab9895f450fd1cbf7c","host_name":"test","ip":"100.85.172.31","lastest_connection_time":"2024-05-31 14:47:52","nick_name":"devcloud_devcloud_l00490255_01","owner_id":"6baa7454109d47c192f22078fe6cda20","owner_name":"devcloud_devcloud_l00490255_01","permission":{"can_delete":true,"can_deploy":true,"can_edit":true,"can_manage":true,"can_view":true},"port":22,"proxy_host_id":"","proxy_host_name":null}],"status":"success","total":1}},"schema":{"$ref":"#/definitions/ListEnvironmentHostsPageResponse"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"summary":"查询环境内的主机列表","tags":["environment-controller-v2"],"x-api-framework":"RestfulAPI","x-api-highrisk":"N","x-api-position":"Region_ZONE","x-api-type":"open-api","x-api-user":"IAM_User","x-is-registered":"Y","x-open-region-cloud":"hws,hws_hk,hcs,hcso,g42","x-request-examples-url-1":"https://{endpoint}/v1/applications/e1d7b7388b4641e2a027f5673fd6093b/environments/82c4eb8c522d42969a3da30123e1ecba/hosts?page_index=1&page_size=10&key_field=","x-sec-auditlog":"N","x-sec-authority-parameter-body":null,"x-sec-authority-parameter-url":"application_id,environment_id","x-sec-privacy-parameter":null,"x-sec-sensitiveinfo":null,"x-sec-upload-download":0,"x-sec-userinput-untrust":null,"x-support-sdk":"Y"}}},"product_short":"CodeArtsDeploy","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询环境内的主机列表","tags":"环境管理","uri":null,"version":"2.0"}