{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"StateInfo":{"description":"任务基本信息","properties":{"end_time":{"description":"结束时间","type":"string"},"executor":{"description":"执行人","type":"string"},"nick_name":{"description":"用户昵称","type":"string"},"record_id":{"description":"执行记录id","type":"string"},"start_time":{"description":"开始时间","type":"string"},"status":{"description":"任务执行状态","type":"string"},"step":{"description":"步骤状态","type":"string"},"step_state":{"description":"子步骤信息","items":{"$ref":"#/definitions/StepInfo"},"type":"array"},"task_id":{"description":"任务id","type":"string"},"task_name":{"description":"任务名称","type":"string"}}},"StateResponseBody":{"description":"任务执行状态响应体","properties":{"result":{"$ref":"#/definitions/StateInfo"},"status":{"description":"请求成功失败状态","type":"string"}}},"StepInfo":{"description":"子步骤信息","properties":{"current_offset":{"description":"当前偏移量","type":"integer"},"elapsed_time":{"description":"任务执行时长","format":"int64","type":"integer"},"enable":{"description":"是否启用","type":"boolean"},"faq_url":{"description":"常见问题","type":"string"},"id":{"description":"应用id","format":"int64","type":"integer"},"name":{"description":"步骤名称","type":"string"},"offset":{"description":"偏移量","type":"integer"},"region":{"description":"请求的region","type":"string"}}}},"description":null,"group_id":"dd78b2802a5f4901936a879de13fbe3f","host":"codearts-deploy.cn-north-4.myhuaweicloud.com","id":"1fd76141b17c4c5a904e523ac7c29693","info_version":"v2","method":"get","name":"CheckDeployStatus","parameters":{"Content-Type":{"default":"application/json;charset=utf-8","description":"消息体的类型(格式),下方类型可任选其一使用:\n                        application/json;charset=utf-8\n                        application/json","enum":["application/json;charset=utf-8","application/json"],"in":"header","name":"Content-Type","required":true,"type":"string"},"X-Auth-Token":{"description":"用户Token。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","maxLength":20000,"minLength":0,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."}},"paths":{"/v2/tasks/{task_id}/state":{"get":{"consumes":["application/json"],"description":"获取部署任务状态","operationId":"CheckDeployStatus","parameters":[{"description":"task_id","in":"path","maxLength":32,"minLength":32,"name":"task_id","pattern":"^[A-Za-z0-9]{32}$","required":true,"type":"string","x-sec-authority-parameter":"Y"},{"description":"record_id","in":"query","maxLength":32,"minLength":32,"name":"record_id","pattern":"^[A-Za-z0-9]{32}$","required":false,"type":"string","x-sec-authority-parameter":"Y"},{"description":"是否返回部署任务各步骤的状态, true返回, false不返回","in":"query","name":"step_state","required":false,"type":"boolean"},{"$ref":"#/parameters/X-Auth-Token"},{"$ref":"#/parameters/Content-Type"}],"produces":["application/json;charset=UTF-8"],"responses":{"200":{"description":"OK","examples":{"application/json":{"result":{"end_time":"2025-07-09 11:36:43","executor":"devcloud_test","nick_name":"AB边账号","record_id":"2c82ffe8d00d4968a4e5f7a36d87ae17","start_time":"2025-07-09 11:36:28","status":"succeeded","step":"finish","task_id":"e700f15965694253940502911220d76b","task_name":"test"},"status":"success"}},"schema":{"$ref":"#/definitions/StateResponseBody"}}},"summary":"获取部署任务状态","tags":["DeployState"],"x-api-type":"open-api","x-apigateway-ratelimit":"CodeArtsDeployU60A1200","x-apigateway-request-type":"public","x-is-registered":"Y","x-open-region-cloud":"hws,hws_hk,hcs,hcso,g42","x-sec-authority-parameter-url":"task_id","x-support-sdk":"Y"}}},"product_short":"CodeArtsDeploy","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"获取部署任务状态","tags":"DeployState","uri":null,"version":"2.0"}