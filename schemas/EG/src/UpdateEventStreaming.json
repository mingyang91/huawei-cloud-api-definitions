{"base_path":"/","components":null,"consumes":"","definitions":{"BatchWindow":{"properties":{"count":{"description":"批量推送条数[1,10000]","example":500,"type":"integer"},"interval":{"description":"批量推送间隔[0,15](时间:秒)","format":"int32","type":"integer"},"time":{"description":"重试次数","example":10,"type":"integer"}},"type":"object"},"EventStreamingCreateReq":{"properties":{"description":{"description":"事件流描述","example":"this is a test eventstreaming","maxLength":255,"type":"string"},"name":{"description":"事件流名称,租户下唯一,由字母、数字、点、下划线和中划线组成,必须字母或数字开头","example":"test-eventstreaming","maxLength":128,"minLength":1,"type":"string"},"option":{"$ref":"#/definitions/RunOption"},"rule_config":{"description":"事件规则,包括过滤规则和转换规则","properties":{"filter":{"description":"过滤规则","type":"string"},"transform":{"$ref":"#/definitions/TransForm","description":"转换规则"}}},"sink":{"$ref":"#/definitions/EventStreamingSink"},"source":{"$ref":"#/definitions/EventStreamingSource"}},"required":["name","source","sink"],"type":"object"},"EventStreamingInfo":{"properties":{"eventStreamingID":{"description":"事件流ID","example":"23709d68-54d5-423b-a6be-03302e893152","type":"string"}},"type":"object"},"EventStreamingSink":{"description":"事件目标,一个事件流中只有一个","properties":{"name":{"description":"事件目标类型名称","enum":["HC.FG"],"type":"string"},"sink_fg":{"$ref":"#/definitions/SinkFGParameters"}},"type":"object"},"EventStreamingSource":{"description":"事件源,一个事件流中事件源只有一个","properties":{"name":{"description":"事件源类型名称","enum":["HC.DMS"],"type":"string"},"source_kafka":{"$ref":"#/definitions/SourceKafkaMQParameters"}},"type":"object"},"EventStreamingUpdateReq":{"allOf":[{"$ref":"#/definitions/EventStreamingCreateReq"}]},"RunOption":{"properties":{"batch_window":{"$ref":"#/definitions/BatchWindow","description":"批量推送"},"thread_num":{"description":"并发数","example":"3","format":"int32","type":"integer"}},"type":"object"},"SinkFGParameters":{"properties":{"agency":{"description":"租户委托","type":"string"},"invoke_type":{"description":"函数执行方式,同步/异步","enum":["SYNC,ASYNC"],"example":"SYNC/ASYNC","type":"string"},"urn":{"description":"函数链接","example":"String","maxLength":512,"minLength":1,"type":"string"}},"type":"object"},"SourceKafkaMQParameters":{"properties":{"enable_sasl_ssl":{"description":"SASL_SSL是否开启","example":true,"type":"boolean"},"group":{"description":"kafka消费组","example":"group-test","maxLength":256,"minLength":1,"type":"string"},"instance_id":{"description":"kafka实例ID","example":"instance-id-test","maxLength":256,"minLength":1,"type":"string"},"instance_name":{"description":"kafka实例名称","example":"instance-name-test","maxLength":64,"minLength":4,"type":"string"},"password":{"description":"用户密码","example":"","maxLength":256,"minLength":1,"type":"string"},"sasl_mechanism":{"description":"SASL认证机制","enum":["SCRAM-SHA-512","PLAIN"],"example":"PLAIN","type":"string"},"seek_to":{"description":"消费点位","enum":["latest","earliest"],"example":"earliest","type":"string"},"ssl_certificate_pwd":{"description":"SASL证书密码","example":null,"maxLength":256,"minLength":1,"type":"string"},"ssl_certificate_url":{"description":"SASL证书地址,配置的obs地址","example":"https://domain/kafka-certs.zip","maxLength":512,"minLength":1,"type":"string"},"topic":{"description":"kafka topic名称","example":"topic-test","maxLength":200,"minLength":3,"type":"string"},"user_name":{"description":"用户名","example":"","maxLength":256,"minLength":1,"type":"string"}},"required":["group","topic"],"type":"object"},"TransForm":{"description":"订阅的事件目标转换规则","properties":{"template":{"description":"变量类型规则时,规则内容的模板定义,支持对已定义变量的引用。","example":"{\"contant_boolean\": ${contant_boolean},\"contant_string\": \"${contant_string!\\\"default\\\"}\",\"varaible_string\": \"${contant_boolean}\",\"varaible_json_object\": ${varaible_json_object!\"null\"}}","maxLength":2048,"type":"string"},"type":{"description":"转换规则类型","enum":["ORIGINAL","CONSTANT","VARIABLE"],"example":"VARIABLE","type":"string"},"value":{"description":"常量类型规则时,字段为常量内容定义;\n变量类型规则时,为变量定义,内容必须为JsonObject字符串。\n变量最多支持100个,且不支持嵌套结构定义;\n变量名由字母、数字、点、下划线和中划线组成,必须字母或数字开头不能以HC.开头,长度不超过64个字符;\n变量值表达式支持常量或JsonPath表达式,字符串长度不超过1024个字符。","example":"{\"contant_boolean\": true,\"contant_string\": \"constant\",\"varaible_string\": \"$.data.string\",\"varaible_json_object\": \"$.data.object\"}","maxLength":1024,"type":"string"}},"required":["type"],"type":"object"}},"description":null,"group_id":"dbc8d90200f14ed9a1cfd69008aa0f08","host":"eg.cn-north-4.myhuaweicloud.com","id":"868cf07b4b1441cb8821c4a3da5f2e44","info_version":"v1","method":"put","name":"UpdateEventStreaming","parameters":{"EventStreamingId":{"description":"事件流ID","in":"path","name":"eventstreaming_id","required":true,"type":"string","x-example":"73d69ae0cfcf460190522d06b60f05ad"},"IamToken":{"description":"用户Token。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":16384,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."},"ProjectId":{"description":"租户项目ID","in":"path","name":"project_id","required":true,"type":"string","x-example":"73d69ae0cfcf460190522d06b60f05ad"}},"paths":{"/v1/{project_id}/eventstreamings/{eventstreaming_id}":{"put":{"description":"更新事件流。","operationId":"UpdateEventStreaming","parameters":[{"$ref":"#/parameters/IamToken"},{"$ref":"#/parameters/ProjectId"},{"$ref":"#/parameters/EventStreamingId"},{"description":"update eventstreaming request","in":"body","name":"UpdateEventStreamingRequestBody","required":true,"schema":{"$ref":"#/definitions/EventStreamingUpdateReq"}}],"produces":["application/json"],"responses":{"200":{"description":"更新事件流配置成功","headers":{"X-Request-Id":{"description":"This field is the request ID number for task tracking. Format is request_uuid-timestamp-hostname.","type":"string"}},"schema":{"$ref":"#/definitions/EventStreamingInfo"}},"400":{"$ref":"#/responses/ServerBadRequest"},"401":{"$ref":"#/responses/ServerUnauthorized"},"403":{"$ref":"#/responses/ServerForbidden"},"404":{"$ref":"#/responses/ServerNotFound"},"500":{"$ref":"#/responses/ServerInternalServerError"}},"summary":"更新事件流","tags":["事件流管理"],"x-is-registered":"Y","x-support-sdk":"Y"}}},"product_short":"EG","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"更新事件流","tags":"事件流管理","uri":null,"version":"2.0"}