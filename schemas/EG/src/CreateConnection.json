{"base_path":"/","components":null,"consumes":"","definitions":{"ConnectionCreateReq":{"properties":{"description":{"description":"目标连接描述","example":"","maxLength":255,"type":"string"},"kafka_detail":{"$ref":"#/definitions/KafkaConnectionDetail"},"name":{"description":"目标连接名称,租户下唯一,由字母、数字、点、下划线和中划线组成,必须以字母或数字开头,不能为default","example":"private-link","maxLength":128,"minLength":1,"type":"string"},"subnet_id":{"description":"待连接的子网ID","example":"bf14153e-5fec-67d6-b89d-5409b52c0op8","maxLength":128,"type":"string"},"type":{"$ref":"#/definitions/ConnectionType"},"vpc_id":{"description":"待连接的VPC ID","example":"ac14144e-8fec-53d6-bdfd-8f09b52c09iu","maxLength":128,"type":"string"}},"required":["name","vpc_id","subnet_id"],"type":"object"},"ConnectionInfo":{"properties":{"agency":{"description":"私网目标连接使用的用户委托名称","example":"EG_TRUST","type":"string"},"created_time":{"description":"创建UTC时间","example":"2021-12-09 09:00:00","type":"string"},"description":{"description":"目标连接描述","example":"","type":"string"},"error_info":{"$ref":"#/definitions/ErrorInfo"},"flavor":{"description":"规格","properties":{"bandwidth_type":{"description":"带宽类型","enum":["shared","exclusive"],"example":"exclusive","type":"string"},"concurrency":{"description":"并发数","example":500,"type":"integer"},"concurrency_type":{"description":"并发规格类型","enum":["shared","exclusive"],"example":"exclusive","type":"string"},"name":{"description":"规格名称","example":"default","type":"string"}},"type":"object"},"id":{"description":"事件源ID","example":"90e0b962-c6c1-438c-ba8a-3024fe592bda","type":"string"},"kafka_detail":{"$ref":"#/definitions/KafkaConnectionDetail"},"name":{"description":"目标连接名称,租户下唯一,由小写字母、数字、点、下划线和中划线组成,必须以字母或数字开头,不能为default","example":"private-link","type":"string"},"status":{"description":"目标连接状态","enum":["CREATING","CREATED","CREATE_FAILED"],"example":"CREATING","type":"string"},"subnet_id":{"description":"待连接的子网ID","example":"bf14153e-5fec-67d6-b89d-5409b52c0op8","type":"string"},"type":{"$ref":"#/definitions/ConnectionType"},"updated_time":{"description":"更新UTC时间","example":"2021-12-09 09:00:00","type":"string"},"vpc_id":{"description":"待连接的VPC ID","example":"ac14144e-8fec-53d6-bdfd-8f09b52c09iu","type":"string"}},"type":"object"},"ConnectionType":{"default":"WEBHOOK","description":"目标连接类型。目前支持webhook:http连接;kafka:华为云官方kafka实例","enum":["WEBHOOK","KAFKA"],"type":"string"},"ErrorInfo":{"properties":{"error_code":{"description":"错误码","example":"EGS.00511000","maxLength":128,"minLength":1,"type":"string"},"error_detail":{"description":"错误详情","example":"unknown","maxLength":128,"minLength":1,"type":"string"},"error_msg":{"description":"错误信息","example":"internal server error, unknown","maxLength":128,"minLength":1,"type":"string"}},"type":"object"},"KafkaConnectionDetail":{"properties":{"acks":{"default":"1","description":"收到Server端确认信号个数,表示procuder需要收到多少个这样的确认信号,算消息发送成功。acks参数代表了数据备份的可用性。支持选项:\nacks=0:表示producer不需要等待任何确认收到的信息,副本将立即加到socket buffer并认为已经发送。没有任何保障可以保证此种情况下server已经成功接收数据,同时重试配置不会发生作用(因为客户端不知道是否失败)回馈的offset会总是设置为-1。\nacks=1:这意味着至少要等待leader已经成功将数据写入本地log,但是并没有等待所有follower是否成功写入。如果follower没有成功备份数据,而此时leader又无法提供服务,则消息会丢失。\nacks=all:这意味着leader需要等待ISR中所有备份都成功写入日志,只有任何一个备份存活,数据都不会丢失。min.insync.replicas指定必须确认写入才能被认为成功的副本的最小数量。","enum":["0","1","all"],"example":"1","type":"string"},"addr":{"description":"kafka连接地址。","example":"192.168.0.58:9093,192.168.0.210:9093,192.168.0.203:9093","type":"string"},"enable_sasl_ssl":{"default":false,"description":"kafka实例是否开启了SASL_SSL。","example":false,"type":"boolean"},"instance_id":{"description":"kafka实例id。","example":"8516d278-268a-4a8b-8766-9bf9b3302f43","type":"string"},"password":{"description":"kafka实例密码。实例开启了SASL_SSL时必填","example":"pwd","type":"string"},"security_protocol":{"description":"安全协议。","example":"PLAINTEXT","type":"string"},"user_name":{"description":"kafka实例用户名。实例开启了SASL_SSL时必填","example":"kafka","type":"string"}},"required":["instance_id","addr","enable_sasl_ssl"],"type":"object"}},"description":null,"group_id":"dbc8d90200f14ed9a1cfd69008aa0f08","host":"eg.cn-north-4.myhuaweicloud.com","id":"cb1542366f7e486dbd24311f42ab16b6","info_version":"v1","method":"post","name":"CreateConnection","parameters":{"IamToken":{"description":"用户Token。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":16384,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."},"ProjectId":{"description":"租户资源空间ID","in":"path","name":"project_id","required":true,"type":"string","x-example":"73d69ae0cfcf460190522d06b60f05ad"}},"paths":{"/v1/{project_id}/connections":{"post":{"description":"创建目标连接。","operationId":"CreateConnection","parameters":[{"$ref":"#/parameters/IamToken"},{"$ref":"#/parameters/ProjectId"},{"description":"create request","in":"body","name":"CreateConnectonRequestBody","required":true,"schema":{"$ref":"#/definitions/ConnectionCreateReq"}}],"produces":["application/json"],"responses":{"200":{"description":"Demo Information","headers":{"X-Request-Id":{"description":"This field is the request ID number for task tracking. Format is request_uuid-timestamp-hostname.","type":"string"}},"schema":{"$ref":"#/definitions/ConnectionInfo"}}},"summary":"创建目标连接","tags":["目标连接管理"],"x-api-framework":"RestfulAPI","x-api-position":"管理面","x-api-type":"open-api","x-api-user":"IAM普通租户","x-is-open-doc":"Y","x-is-registered":"Y","x-open-region-cloud":"hws,hws_hk","x-support-sdk":"Y"}}},"product_short":"EG","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建目标连接","tags":"目标连接管理","uri":null,"version":"2.0"}