{"base_path":null,"components":null,"consumes":"[\"application/json;charset=UTF-8\",\"application/json\"]","definitions":{"AnalysisInfo":{"properties":{"channel":{"default":"MONO","description":"语音文件声道信息,可以为MONO(缺省), LEFT_AGENT, RIGHT_AGENT。\n\n如果channel 为MONO,那么原始文件需要为单声道文件。\n\n如果为双声道文件,系统会将其转换成单声道文件,可能会影响识别效果。\n\n如果 channel 为 LEFT_AGENT或RIGHT_AGENT, 则原始文件需要为双声道文件,如果为单声道文件,系统会将其转换成双声道文件,可能会影响识别效果。\n\n当channel 为 LEFT_AGENT或RIGHT_AGENT,且diarization为true时,系统会按照配置给出对应角色。其中:\n\nLEFT_AGENT 指定左声道语音为agent(坐席),\n\nRIGHT_AGENT 指定右声道为agent(坐席)。","enum":["MONO","LEFT_AGENT","RIGHT_AGENT"],"type":"string"},"diarization":{"description":"是否需要做话者分离。缺省为true,表示会进行话者分离,识别结果中会包含role项(角色)。如果diarization为false, 那么结果中不会出现role项。","type":"boolean"},"emotion":{"description":"是否需要做情绪检测, 缺省为true。","type":"boolean"},"speed":{"description":"是否需要输出语速信息, 缺省为true。","type":"boolean"}}},"ErrorResp":{"properties":{"error_code":{"description":"调用失败时的错误码。\n调用成功时无此字段。","type":"string"},"error_msg":{"description":"调用失败时的错误信息。\n调用成功时无此字段。","type":"string"}}},"PostTranscriberJobs":{"description":"","properties":{"config":{"$ref":"#/definitions/TranscriberConfig","description":"录音文件识别配置信息。"},"data_url":{"description":"存放在OBS的音频文件路径。OBS的region要和请求服务的region保持一致,region不一致则OBS不可用,即使obs是公开访问权限。","type":"string"}},"required":["config","data_url"]},"PostTranscriberJobsResp":{"properties":{"job_id":{"description":"创建的任务标识, 如果创建任务成功时必须存在。","type":"string"}},"required":["job_id"]},"TranscriberConfig":{"properties":{"add_punc":{"default":"no","description":"是否加标点, 可以为 yes, no(缺省)。","enum":["yes","no"],"type":"string"},"audio_format":{"default":"pcm8k16bit","description":"支持语音的格式。\n\naudioformat取值范围:\n\nauto  自动判断,系统会自动判断并支持WAV(内部支持pcm/ulaw/alaw/adpcm编码格式)、MP3、M4A、ogg-speex、ogg-opus、AMR、wma等格式,相应的文件后缀名为.wav, .mp3, .m4a, .spx, .opus, .amr 和.wma, 不区分大小写。支持双声道的音频。\n\npcm16k16bit  16k16bit裸音频录音数据。\n\npcm8k16bit   8k16bit裸音频录音数据。\n\nulaw16k8bit  16k8bit ulaw 裸音频录音数据。\n\nulaw8k8bit   8k8bit ulaw 裸音频录音数据。\n\nalaw16k8bit  16k8bit alaw 裸音频录音数据。\n\nalaw8k8bit   8k8bit alaw 裸音频录音数据。\n\nvox8k4bit    8k4bit vox 裸音频录音数据。\n\nv3_8k4bit    8k4bit v3 裸音频录音数据。","enum":["auto","pcm16k16bit","pcm8k16bit","ulaw16k8bit","ulaw8k8bit","alaw16k8bit","alaw8k8bit","vox8k4bit","v3_8k4bit"],"type":"string"},"callback_url":{"description":"用于录音文件识表示回调 url,即用户用于接收识别结果的服务器地址,不支持IP地址方式调用,url长度小于2048字节。服务请求方法为POST。\n\n如果用户使用回调方式获取识别结果,需填写该参数,处理成功后用户服务器需返回状态码“200”。\n\n如果用户使用轮询方式获取识别结果,则无需填写该参数。别结果的回调url,不使用则不填写。","type":"string"},"digit_norm":{"default":"yes","description":"表示是否将语音中的数字识别为阿拉伯数字,取值为yes 、 no,缺省为yes。","enum":["yes","no"],"type":"string"},"need_analysis_info":{"$ref":"#/definitions/AnalysisInfo","description":"该参数用于设置质检分析参数,是否需要输出质检分析内容,如果为null(缺省) , 表示不需要。仅对8K模型有效。"},"need_word_info":{"default":"no","description":"表示是否在识别结果中输出分词结果信息,取值为“yes”和“no”,默认为“no”。","enum":["yes","no"],"type":"string"},"property":{"default":"chinese_8k_common","description":"所使用的模型特征串。通常是“语种_采样率_领域”的形式,例如chinese_8k_common。\n\n采样率需要与音频采样率保持一致。\n\n当前支持如下模型特征串:\n\nchinese_8k_general (最新8k 通用版e2e模型,推荐使用)\n\nchinese_16k_media (音视频领域,区域仅支持cn-north-4,cn-east-3)\n\nchinese_8k_common\n\nchinese_16k_conversation\n\nchinese_8k_bank(银行领域,区域仅支持cn-north-4)\n\nchinese_8k_insurance(保险领域,区域仅支持cn-north-4)\n\nsichuan_8k_common (四川话识别,区域支持cn-north-4,cn-east-3)\n","enum":["chinese_16k_media","chinese_8k_common","chinese_16k_conversation","chinese_8k_bank","chinese_8k_insurance","sichuan_8k_common","chinese_8k_general"],"type":"string"},"vocabulary_id":{"description":"热词表id,不使用则不填写。","type":"string"}},"required":["property"]}},"description":null,"group_id":"9de3af80b8dd488598624403f5e27d74","host":"sis-ext.cn-north-4.myhuaweicloud.com","id":"7ab7e38fcec74780a3c64154b32c6454","info_version":"v1","method":"post","name":"PushTranscriberJobs","parameters":{},"paths":{"/v1/{project_id}/asr/transcriber/jobs":{"post":{"consumes":[],"deprecated":false,"description":"**录音文件识别**\n录音文件识别接口,用于识别长录音文件,录音文件放在华为云OBS(对象存储服务)上。\n\n由于录音文件识别通常会需要较长的时间,因此识别是异步的,也即接口分为创建识别任务和查询任务状态两个接口。创建识别任务接口创建任务完成后返回,然后用户通过调用查询任务状态接口来获得转写状态和结果。\n\n**功能介绍**\n该接口用于提交录音文件识别任务,其中录音文件保存在用户的OBS桶中。用户开通录音识别服务时,需授权录音文件引擎读取用户OBS桶权限。\n\n接口约束\n录音时长不超过5小时,文件大小不超过300M,识别结果保存72小时(从识别完成的时间算起)。72小时后如果再访问,将会返回 \"task id is not found\"错误。","operationId":"PushTranscriberJobs","parameters":[{"description":"来自公有云的Project ID,用于资源隔离。","in":"path","name":"project_id","required":true,"type":"string","x-order":1},{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":2},{"description":"企业项目ID。SIS支持通过企业项目管理(EPS)对不同用户组和用户的资源使用,进行分账。\n获取方法:进入“[企业项目管理](https://console.huaweicloud.com/eps/?region=cn-north-4#/projects/list)”页面,单击企业项目名称,在企业项目详情页获取Enterprise-Project-Id(企业项目ID)。\n企业项目创建步骤请参见用户指南。\n> 说明:\n创建企业项目后,在传参时,有以下三类场景。\n- 携带正确的ID,正常使用SIS服务,账单归到企业ID对应的企业项目中。\n- 携带错误的ID,正常使用SIS服务,账单的企业项目会被分类为“default”。\n- 不携带ID,正常使用SIS服务,账单的企业项目会被分类为“default”。","in":"header","name":"Enterprise-Project-Id","required":false,"type":"string","x-order":3},{"description":"请求体。","in":"body","name":"PostTranscribe","required":false,"schema":{"$ref":"#/definitions/PostTranscriberJobs"},"x-order":4}],"produces":[],"responses":{"200":{"description":"OK","examples":{"application/json":{"job_id":"567e6536-a89c-13c3-a882-826321939656"}},"schema":{"$ref":"#/definitions/PostTranscriberJobsResp"}},"400":{"description":"Bad Request","examples":{"application/json":{"error_code":"SIS.xxxx","error_msg":"***"}},"schema":{"$ref":"#/definitions/ErrorResp"}}},"summary":"提交录音文件识别任务","tags":["语音识别接口"],"x-apiErrorCodes":[{"errorCode":"SIS.0012","errorDescription":"检查请求参数字段名,修改正确后重新尝试。","errorMessage":"请求参数异常。","httpStatus":"400","solution":""},{"errorCode":"SIS.0032","errorDescription":"例如:请求字段的Value类型不符合预期或Value值超出范围\n检查请求参数内容,修改正确后重新尝试。","errorMessage":"请求参数内容错误。","httpStatus":"400","solution":""},{"errorCode":"SIS.0002","errorDescription":"检查Token是否正确,使用正确的Token重新尝试。","errorMessage":"认证失败","httpStatus":"401","solution":""},{"errorCode":"SIS.0004","errorDescription":"需要输入正确project_id。","errorMessage":"无访问权限,就算通过身份验证也禁止访问。\n例如,project_id不合法。","httpStatus":"403","solution":""},{"errorCode":"SIS.0022","errorDescription":"检查使用的URI地址,修改正确后重新尝试。","errorMessage":"非法的URI地址。","httpStatus":"404","solution":""},{"errorCode":"SIS.0013","errorDescription":"检查使用的HTTP方法,修改正确后重新尝试","errorMessage":"非法的HTTP 方法,例如HTTP不是使用POST方法等。","httpStatus":"405","solution":""},{"errorCode":"SIS.0003","errorDescription":"请联系服务管理员。","errorMessage":"内部服务异常。","httpStatus":"500","solution":""}],"x-apiexplorer-hide":"N","x-constraint":"","x-is-registered":"Y","x-name":"提交录音文件识别任务","x-open-region-cloud":"hc","x-order":2,"x-publishpath":"","x-request-examples-1":{"config":{"add_punc":"yes","audio_format":"auto","digit_norm":"yes","need_analysis_info":{"channel":"LEFT_AGENT","diarization":true,"emotion":true},"need_word_info":"yes","property":"chinese_8k_common"},"data_url":"https://****_voip.obs.cn-north-4.myhuaweicloud.com/VOIP/***.wav"},"x-request-examples-description-1":"","x-request-examples-text-1":"{\n  \"config\":\n  {\n    \"audio_format\": \"auto\",\n    \"property\": \"chinese_8k_common\",\n    \"add_punc\": \"yes\",\n    \"digit_norm\": \"yes\",\n    \"need_word_info\": \"yes\",\n    \"need_analysis_info\":\n    {\n      \"diarization\": true,\n      \"channel\": \"LEFT_AGENT\",\n      \"emotion\": true\n    }\n  },\n  \"data_url\":\"https://****_voip.obs.cn-north-4.myhuaweicloud.com/VOIP/***.wav\"\n}","x-request-examples-url-1":"https://{endpoint}/v1/1609d8170cd86660a81281e5a3a03f8b/asr/transcriber/jobs","x-scope":"Commercial","x-support-sdk":"Y"}}},"product_short":"SIS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"提交录音文件识别任务","tags":"语音识别接口","uri":null,"version":"2.0"}