{"base_path":null,"components":null,"consumes":"","definitions":{"CommonErrorResponse":{"description":"通用错误响应体","properties":{"encoded_authorization_message":{"description":"包含有关未经授权请求的信息。","type":"string","x-omitempty":true},"error_code":{"description":"响应码","maxLength":11,"minLength":11,"type":"string"},"error_msg":{"description":"响应消息","type":"string"}},"type":"object"},"ListStackEventsResponseBody":{"description":"ListStackEvents API的响应Body体","properties":{"stack_events":{"description":"资源栈事件列表","items":{"$ref":"#/definitions/StackEvent"},"type":"array","x-omitempty":true}},"type":"object"},"ResourceNamePrimitiveTypeHolder":{"example":{"resource_name":"my_hello_world_vpc"},"properties":{"resource_name":{"description":"资源的名称,默认为资源的逻辑名称\n\n以HCL格式的模板为例,resource_name 为 my_hello_world_vpc\n\n```hcl\nresource \"huaweicloud_vpc\" \"my_hello_world_vpc\" {\n  name = \"test_vpc\"\n}\n```\n\n以json格式的模板为例,resource_name 为 my_hello_world_vpc\n\n```json\n{\n  \"resource\": {\n    \"huaweicloud_vpc\": {\n      \"my_hello_world_vpc\": {\n        \"name\": \"test_vpc\"\n      }\n    }\n  }\n}\n```","type":"string"}},"type":"object"},"ResourceTypePrimitiveTypeHolder":{"example":{"resource_type":"huaweicloud_vpc"},"properties":{"resource_type":{"description":"资源的类型\n\n以HCL格式的模板为例,resource_type 为 huaweicloud_vpc\n\n```hcl\nresource \"huaweicloud_vpc\" \"my_hello_world_vpc\" {\n  name = \"test_vpc\"\n}\n```\n\n以json格式的模板为例,resource_type 为 huaweicloud_vpc\n\n```json\n{\n  \"resource\": {\n    \"huaweicloud_vpc\": {\n      \"my_hello_world_vpc\": {\n        \"name\": \"test_vpc\"\n      }\n    }\n  }\n}\n```","type":"string"}},"type":"object"},"StackEvent":{"allOf":[{"$ref":"#/definitions/ResourceTypePrimitiveTypeHolder"},{"$ref":"#/definitions/ResourceNamePrimitiveTypeHolder"},{"description":"资源栈事件","properties":{"elapsed_seconds":{"description":"此事件执行所花的时间,以秒为单位","type":"integer"},"event_message":{"description":"该资源栈事件对应的详细信息","type":"string"},"event_type":{"description":"此次事件的类型\n  * `LOG` - 记录状态信息,比如当前状态,目标状态等。\n  * `ERROR` - 记录失败信息\n  * `DRIFT` - 记录资源偏移信息\n  * `SUMMARY` - 记录资源变更结果总结\n  * `CREATION_IN_PROGRESS` - 正在生成\n  * `CREATION_FAILED` - 生成失败\n  * `CREATION_COMPLETE` - 生成完成\n  * `DELETION_IN_PROGRESS` - 正在删除\n  * `DELETION_FAILED` - 删除失败\n  * `DELETION_COMPLETE` - 已经删除\n  * `UPDATE_IN_PROGRESS` - 正在更新。此处的更新特指非替换式更新,如果是替换式更新,则是DELETION后CREATION,或者CREATION后DELETION,具体以何种行为进行替换式更新由Provider定义。\n  * `UPDATE_FAILED` - 更新失败。此处的更新特指非替换式更新,如果是替换式更新,则是DELETION后CREATION,或者CREATION后DELETION,具体以何种行为进行替换式更新由Provider定义。\n  * `UPDATE_COMPLETE` - 更新完成。此处的更新特指非替换式更新,如果是替换式更新,则是DELETION后CREATION,或者CREATION后DELETION,具体以何种行为进行替换式更新由Provider定义。","enum":["LOG","ERROR","DRIFT","SUMMARY","CREATION_IN_PROGRESS","CREATION_FAILED","CREATION_COMPLETE","DELETION_IN_PROGRESS","DELETION_FAILED","DELETION_COMPLETE","UPDATE_IN_PROGRESS","UPDATE_FAILED","UPDATE_COMPLETE"],"type":"string"},"resource_id_key":{"description":"资源id的名称,即对应资源作为id使用的值的名称,当资源未创建的时候,不返回resource_id_key\n此id由provider定义,因此不同的provider可能遵循了不同的命名规则,具体的命名规则请与provider开发者确认或阅读provider文档","type":"string"},"resource_id_value":{"description":"资源id的值,即对应资源作为id使用的值,当资源未创建的时候,不返回resource_id_value","type":"string"},"resource_key":{"description":"资源键,若用户在模板中使用了count或for_each则会返回resource_key\n\n若用户在模板中使用count,则resource_key为从0开始的数字\n\n以HCL格式的模板为例,模板中count为2,意味着将会生成两个资源,对应的resource_key分别为0和1\n\n```hcl\nresource \"huaweicloud_vpc\" \"my_hello_world_vpc\" {\n  count = 2\n  name = \"test_vpc\"\n}\n```\n\n以json格式的模板为例,模板中count为2,意味着将会生成两个资源,对应的resource_key分别为0和1\n\n```json\n{\n  \"resource\": {\n    \"huaweicloud_vpc\": {\n      \"my_hello_world_vpc\": {\n        \"name\": \"test_vpc\",\n        \"count\": 2\n      }\n    }\n  }\n}\n```\n\n若用户在模板中使用for_each,则resource_key为用户自定义的字符串\n\n以HCL格式的模板为例,resource_key分别为vpc1和vpc2\n\n```hcl\nresource \"huaweicloud_vpc\" \"my_hello_world_vpc\" {\n  for_each = {\n    \"vpc1\" = \"test_vpc\"\n    \"vpc2\" = \"test_vpc\"\n  }\n  name = each.value\n}\n```\n\n以json格式的模板为例,resource_key分别为vpc1和vpc2\n\n```json\n{\n  \"resource\": {\n    \"huaweicloud_vpc\": {\n      \"my_hello_world_vpc\": {\n        \"for_each\": {\n          \"vpc1\": \"test_vpc\",\n          \"vpc2\": \"test_vpc\"\n        }\n        \"name\": \"${each.value}\"\n      }\n    }\n  }\n}\n```","type":"string"},"time":{"description":"事件发生的时间\n格式遵循RFC3339,即yyyy-mm-ddTHH:MM:SSZ,如1970-01-01T00:00:00Z","type":"string"}},"type":"object"}]}},"description":null,"group_id":"ffbc0f3a195c4338b5218addf5d56a6c","host":"aos.cn-north-4.myhuaweicloud.com","id":"aee67b716a6e4dfcadb1173e1746886c","info_version":"v1","method":"get","name":"ListStackEvents","parameters":{},"paths":{"/v1/{project_id}/stacks/{stack_name}/events":{"get":{"description":"列举资源栈事件(ListStackEvents)\n\n此API用于列举资源栈某一次或全部的部署事件\n\n* 若给予deployment_id,则会将deployment_id作为查询条件,返回对应某一次部署的资源栈事件;若不给予deployment_id,则返回全量的资源栈事件\n* 若给定的deployment_id对应的部署不存在,则返回404\n* 可以使用filter作为过滤器,过滤出指定事件类型(event_type)、资源类型(resource_type)、资源名称(resource_name)的资源栈事件\n* 可以使用field选择数据应返回的属性,属性事件类型(event_type)不可配置,一定会返回,可选择的属性有逝去时间(elapsed_seconds)、事件消息(event_message)、 资源ID键(resource_id_key)、资源ID值(resource_id_value)、资源键(resource_key)、资源类型(resource_type)、资源名称(resource_name)和时间戳(timestamp)\n* 事件返回将以时间降序排列","operationId":"ListStackEvents","parameters":[{"description":"用户指定的,对于此请求的唯一ID,用于定位某个请求,推荐使用UUID","in":"header","maxLength":128,"minLength":36,"name":"Client-Request-Id","pattern":"^[A-Za-z0-9]+[A-Za-z0-9-]*$","required":true,"type":"string"},{"description":"项目ID,可以从调用API处获取,也可以从控制台获取。\n\n[项目ID获取方式](https://support.huaweicloud.com/api-ticket/ticket_api_20002.html)","in":"path","maxLength":64,"minLength":3,"name":"project_id","pattern":"^[A-Za-z0-9-]+$","required":true,"type":"string"},{"description":"资源栈的名称。此名字在domain_id+区域+project_id下应唯一,可以使用中文、大小写英文、数字、下划线、中划线。首字符需为中文或者英文,区分大小写。","in":"path","maxLength":128,"minLength":1,"name":"stack_name","pattern":"^[一-龥A-Za-z]+[一-龥A-Za-z0-9_-]*$","required":true,"type":"string"},{"description":"资源栈(stack)的唯一Id。\n\n此Id由资源编排服务在生成资源栈的时候生成,为UUID。\n\n由于资源栈名仅仅在同一时间下唯一,即用户允许先生成一个叫HelloWorld的资源栈,删除,再重新创建一个同名资源栈。\n\n对于团队并行开发,用户可能希望确保,当前我操作的资源栈就是我认为的那个,而不是其他队友删除后创建的同名资源栈。因此,使用ID就可以做到强匹配。\n\n资源编排服务保证每次创建的资源栈所对应的ID都不相同,更新不会影响ID。如果给与的stack_id和当前资源栈的ID不一致,则返回400","in":"query","maxLength":36,"minLength":36,"name":"stack_id","pattern":"^[a-z0-9]+[a-z0-9-]*$","required":false,"type":"string","x-isnullable":true},{"description":"标识部署的唯一Id,此Id由资源编排服务在触发部署、回滚等操作时生成,为UUID。","in":"query","maxLength":36,"minLength":36,"name":"deployment_id","pattern":"^[a-z0-9]+[a-z0-9-]*$","required":false,"type":"string"},{"description":"过滤条件\n\n* 与(AND)运算符使用逗号(,)定义\n* 或(OR)运算符使用竖线(|)定义,OR运算符优先级高于AND运算符\n* 不支持括号\n* 过滤运算符仅支持等号(==)\n* 过滤参数名及其值仅支持包含大小写英文、数字和下划线\n* 过滤条件中禁止使用分号,若有分号,则此条过滤会被忽略\n* 一个过滤参数仅能与一个与条件相关,一个与条件中的多个或条件仅能与一个过滤参数相关","in":"query","maxLength":512,"minLength":0,"name":"filter","required":false,"type":"string"},{"description":"选择的属性名称\n\n* 属性名仅支持包含大小写英文、数字和下划线\n* 多个属性名称之间以逗号(,)分隔","in":"query","maxLength":128,"minLength":0,"name":"field","required":false,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"列举资源栈事件成功","examples":{"x-response-examples-1":{"stack_events":[{"event_message":"Apply required resource success. ","event_type":"LOG","time":"2023-05-17T11:56:47Z"},{"event_message":"Apply complete! Resources: 1 added, 0 changed, 0 destroyed.","event_type":"SUMMARY","time":"2023-05-17T11:56:45Z"},{"elapsed_seconds":8,"event_message":"huaweicloud_vpc.vpc: Creation complete after 8s [id=38d617da-9b7f-4550-9ff7-d0e271dd4735]","event_type":"CREATION_COMPLETE","resource_id_key":"id","resource_id_value":"38d617da-9b7f-4550-9ff7-d0e271dd4735","resource_name":"vpc","resource_type":"huaweicloud_vpc","time":"2023-05-17T11:56:40Z"},{"event_message":"huaweicloud_vpc.vpc: Creating...","event_type":"CREATION_IN_PROGRESS","resource_name":"vpc","resource_type":"huaweicloud_vpc","time":"2023-05-17T11:56:32Z"},{"event_message":"Creating required resource now","event_type":"LOG","time":"2023-05-17T11:56:31Z"}]}},"schema":{"$ref":"#/definitions/ListStackEventsResponseBody"}},"400":{"description":"用户请求非法","schema":{"$ref":"#/definitions/CommonErrorResponse"}},"401":{"description":"用户身份认证失败","schema":{"$ref":"#/definitions/CommonErrorResponse"}},"403":{"description":"用户无权限调用此API","schema":{"$ref":"#/definitions/CommonErrorResponse"}},"404":{"description":"资源栈或指定的部署不存在","schema":{"$ref":"#/definitions/CommonErrorResponse"}},"429":{"description":"请求数量过多","schema":{"$ref":"#/definitions/CommonErrorResponse"}},"500":{"description":"服务器内部错误","schema":{"$ref":"#/definitions/CommonErrorResponse"}}},"summary":"列举资源栈事件","tags":["Stack"],"x-api-type":"open-api","x-is-registered":"Y","x-request-examples-description-1":"通过filter获取指定event_type和resource_name的资源栈事件","x-request-examples-description-2":"通过field选择返回resource_key、resource_name和event_type三个属性,其中event_type为自动补选","x-request-examples-description-3":"通过deployment_id获取指定部署的资源栈事件","x-request-examples-url-1":"GET https://{endpoint}/v1/ba2b9930c977f71edaeaa3a5e96a8ff1/stacks/my_hello_world_stack/events?filter=event_type==LOG,resource_name==my_hello_world_resource","x-request-examples-url-2":"GET https://{endpoint}/v1/ba2b9930c977f71edaeaa3a5e96a8ff1/stacks/my_hello_world_stack/events?field=resource_key,resource_name","x-request-examples-url-3":"GET https://{endpoint}/v1/ba2b9930c977f71edaeaa3a5e96a8ff1/stacks/my_hello_world_stack/events?deployment_id=81edbb3e-00d9-42fd-94c8-59c7525d0f28","x-support-sdk":"Y"}}},"product_short":"AOS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-app":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-app-optional":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-opt":{"access-auth-type":"optional"},"x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-iam-none":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM_NONE"},"token":{"in":"header","name":"X-Auth-Token","type":"apiKey"}},"summary":"列举资源栈事件","tags":"资源编排-资源栈","uri":null,"version":"2.0"}