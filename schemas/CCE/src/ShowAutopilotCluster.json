{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"AutopilotAuthentication":{"description":"","properties":{"mode":{"description":"集群认证模式。默认取值为“rbac”。","type":"string"}}},"AutopilotClusterEndpoints":{"properties":{"type":{"description":"集群访问地址的类型\n- Internal:用户子网内访问的地址\n- External:公网访问的地址","type":"string"},"url":{"description":"集群中 kube-apiserver 的访问地址","type":"string"}}},"AutopilotClusterExtendParam":{"properties":{"enterpriseProjectId":{"description":"集群所属的企业项目ID。\n>   - 需要开通企业项目功能后才可配置企业项目。\n>   - 集群所属的企业项目与集群下所关联的其他云服务资源所属的企业项目必须保持一致。","type":"string"},"upgradefrom":{"description":"记录集群通过何种升级方式升级到当前版本。","type":"string"}}},"AutopilotClusterMetadata":{"description":"支持通过 annotations[\"cluster.install.addons/install\"] 来指定创建集群时需要安装的插件","properties":{"alias":{"description":"集群显示名,用于在 CCE 界面显示,该名称创建后可修改。\n\n命名规则:以小写字母开头,由小写字母、数字、中划线(-)组成,长度范围4-128位,且不能以中划线(-)结尾。\n\n显示名和其他集群的名称、显示名不可以重复。\n\n在创建集群、更新集群请求体中,集群显示名alias未指定或取值为空,表示与集群名称name一致。在查询集群等响应体中,集群显示名alias将必然返回,未配置时将返回集群名称name。","maxLength":128,"minLength":4,"type":"string"},"annotations":{"additionalProperties":{"description":"","type":"string"},"description":"集群注解,由key/value组成:\n\n```\n\"annotations\": {\n   \"key1\" : \"value1\",\n   \"key2\" : \"value2\"\n}\n```\n\n>    - Annotations不用于标识和选择对象。Annotations中的元数据可以是small或large,structured或unstructured,并且可以包括标签不允许使用的字符。\n>    - 该字段不会被数据库保存,当前仅用于指定集群待安装插件。","type":"object"},"creationTimestamp":{"description":"集群创建时间","type":"string"},"labels":{"additionalProperties":{"description":"","type":"string"},"description":"集群标签,key/value对格式。\n\n>  该字段值由系统自动生成,用于升级时前端识别集群支持的特性开关,用户指定无效。","type":"object"},"name":{"description":"集群名称。\n\n命名规则:以小写字母开头,由小写字母、数字、中划线(-)组成,长度范围4-128位,且不能以中划线(-)结尾。","maxLength":128,"minLength":4,"type":"string"},"uid":{"description":"集群ID,资源唯一标识,创建成功后自动生成,填写无效。在创建包周期集群时,响应体不返回集群ID。","pattern":"^[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}$","type":"string"},"updateTimestamp":{"description":"集群更新时间","type":"string"}},"required":["name"]},"AutopilotClusterSpec":{"description":"集群参数定义。","properties":{"authentication":{"$ref":"#/definitions/AutopilotAuthentication","description":"集群认证方式相关配置。"},"az":{"description":"可用区(仅查询返回字段)。\n\nCCE支持的可用区请参考[地区和终端节点](https://developer.huaweicloud.com/endpoint?CCE)","type":"string"},"billingMode":{"default":0,"description":"集群的计费方式。\n- 0: 按需计费\n\n默认为“按需计费”。","format":"int32","type":"integer"},"category":{"description":"集群类别。","enum":["Turbo"],"type":"string"},"clusterTags":{"description":"集群资源标签","items":{"$ref":"#/definitions/AutopilotResourceTag","description":"集群资源标签"},"maxItems":5,"minItems":0,"type":"array"},"configurationsOverride":{"description":"覆盖集群默认组件配置\n\n若指定了不支持的组件或组件不支持的参数,该配置项将被忽略。\n\n当前支持的可配置组件及其参数详见\n[配置管理](https://support.huaweicloud.com/usermanual-cce/cce_10_0213.html)","items":{"$ref":"#/definitions/AutopilotPackageConfiguration"},"type":"array"},"containerNetwork":{"$ref":"#/definitions/AutopilotContainerNetwork","description":"容器网络参数,包含了容器网络类型和容器网段的信息。"},"customSan":{"$ref":"#/definitions/AutopilotCustomSan"},"description":{"description":"集群描述,对于集群使用目的的描述,可根据实际情况自定义,默认为空。集群创建成功后可通过接口[更新指定的集群](cce_02_0240.xml)来做出修改,也可在CCE控制台中对应集群的“集群详情”下的“描述”处进行修改。仅支持utf-8编码。","maxLength":200,"minLength":0,"pattern":"[\\~\\$\\%\\^\\&\\*\\<\\>\\[\\]\\{\\}\\(\\)\\'\\\"\\#\\\\]","type":"string"},"enableSWRImageAccess":{"description":"集群是否配置镜像访问。为确保您的集群节点可以从容器镜像服务中拉取镜像,默认使用所选VPC中已有的SWR和OBS终端节点,否则将会为您自动新建SWR和OBS终端节点。","type":"boolean"},"enableSnat":{"description":"集群是否配置SNAT。开启后您的集群可以通过NAT网关访问公网,默认使用所选的VPC中已有的NAT网关,否则系统将会为您自动创建一个默认规格的NAT网关并绑定弹性公网IP,自动配置SNAT规则。","type":"boolean"},"eniNetwork":{"$ref":"#/definitions/AutopilotEniNetwork","description":"云原生网络2.0网络配置。","x-open-region-cloud":"hws,hws_hk"},"extendParam":{"$ref":"#/definitions/AutopilotClusterExtendParam","description":"集群扩展字段,可配置多可用区集群、专属CCE集群,以及将集群创建在特定的企业项目下等。"},"flavor":{"description":"集群规格,cce.autopilot.cluster","type":"string"},"hostNetwork":{"$ref":"#/definitions/AutopilotHostNetwork","description":"节点网络参数,包含了虚拟私有云VPC和子网的ID信息,而VPC是集群内节点之间的通信依赖,所以是必选的参数集。"},"ipv6enable":{"description":"集群是否使用IPv6模式。","type":"boolean"},"kubeProxyMode":{"description":"服务转发模式:\n\n- iptables:社区传统的kube-proxy模式,完全以iptables规则的方式来实现service负载均衡。该方式最主要的问题是在服务多的时候产生太多的iptables规则,非增量式更新会引入一定的时延,大规模情况下有明显的性能问题。\n\n> 默认使用iptables转发模式。","enum":["iptables"],"type":"string"},"kubernetesSvcIpRange":{"description":"服务网段参数,kubernetes clusterIP取值范围。创建集群时如若未传参,默认为\"10.247.0.0/16\"。该参数废弃中,推荐使用新字段serviceNetwork,包含IPv4服务网段。","type":"string"},"platformVersion":{"description":"CCE集群平台版本号,表示集群版本(version)下的内部版本。用于跟踪某一集群版本内的迭代,集群版本内唯一,跨集群版本重新计数。不支持用户指定,集群创建时自动选择对应集群版本的最新平台版本。\n\nplatformVersion格式为:cce.X.Y\n- X: 表示内部特性版本。集群版本中特性或者补丁修复,或者OS支持等变更场景。其值从1开始单调递增。\n- Y: 表示内部特性版本的补丁版本。仅用于特性版本上线后的软件包更新,不涉及其他修改。其值从0开始单调递增。","type":"string"},"serviceNetwork":{"$ref":"#/definitions/AutopilotServiceNetwork","description":"服务网段参数,包含IPv4 CIDR。"},"type":{"description":"集群Master节点架构:\n\n- VirtualMachine:Master节点为x86架构服务器","enum":["VirtualMachine"],"type":"string"},"version":{"description":"集群版本,与Kubernetes社区基线版本保持一致,建议选择最新版本。\n\n在CCE控制台支持创建两种最新版本的集群。可登录CCE控制台创建集群,在“版本”处获取到集群版本。\n其它集群版本,当前仍可通过api创建,但后续会逐渐下线,具体下线策略请关注CCE官方公告。\n\n>    - 若不配置,默认创建最新版本的集群。","type":"string"}},"required":["containerNetwork","flavor","hostNetwork"]},"AutopilotClusterStatus":{"description":"","properties":{"deleteOption":{"description":"删除配置状态(仅删除请求响应包含)","type":"object"},"deleteStatus":{"description":"删除状态信息(仅删除请求响应包含)","type":"object"},"endpoints":{"description":"集群中 kube-apiserver 的访问地址。","items":{"$ref":"#/definitions/AutopilotClusterEndpoints"},"type":"array"},"isLocked":{"description":"CBC资源锁定","type":"boolean","x-open-region-cloud":"hws,hws_hk"},"jobID":{"description":"任务ID,集群当前状态关联的任务ID。当前支持:\n- 创建集群时返回关联的任务ID,可通过任务ID查询创建集群的附属任务信息;\n- 删除集群或者删除集群失败时返回关联的任务ID,此字段非空时,可通过任务ID查询删除集群的附属任务信息。\n> 任务信息具有一定时效性,仅用于短期跟踪任务进度,请勿用于集群状态判断等额外场景。","type":"string"},"lockScene":{"description":"CBC资源锁定场景","type":"string","x-open-region-cloud":"hws,hws_hk"},"lockSource":{"description":"锁定资源","type":"string","x-open-region-cloud":"hws,hws_hk"},"lockSourceId":{"description":"锁定的资源ID","type":"string","x-open-region-cloud":"hws,hws_hk"},"message":{"description":"集群变为当前状态的原因的详细信息,在集群在非“Available”状态下时,会返回此参数。","type":"string"},"phase":{"description":"集群状态,取值如下\n- Available:可用,表示集群处于正常状态。\n- Unavailable:不可用,表示集群异常,需手动删除。\n- Creating:创建中,表示集群正处于创建过程中。\n- Deleting:删除中,表示集群正处于删除过程中。\n- Upgrading:升级中,表示集群正处于升级过程中。\n- RollingBack:回滚中,表示集群正处于回滚过程中。\n- RollbackFailed:回滚异常,表示集群回滚异常。\n- Error:错误,表示集群资源异常,可尝试手动删除。","type":"string"},"reason":{"description":"集群变为当前状态的原因,在集群在非“Available”状态下时,会返回此参数。","type":"string"}}},"AutopilotConfigurationItem":{"properties":{"name":{"description":"组件配置项名称","type":"string"},"value":{"description":"组件配置项值","properties":{},"type":"object"}},"type":"object"},"AutopilotContainerNetwork":{"description":"Container network parameters.","properties":{"mode":{"description":"容器网络类型\n- eni:云原生网络2.0,深度整合VPC原生ENI弹性网卡能力,采用VPC网段分配容器地址,支持ELB直通容器,享有高性能,创建集群时指定。","enum":["eni"],"maxLength":64,"minLength":0,"type":"string"}},"required":["mode"]},"AutopilotCustomSan":{"description":"集群的API Server服务端证书中的自定义SAN(Subject Alternative Name)字段,遵从SSL标准X509定义的格式规范。\n\n1. 不允许出现同名重复。\n2. 格式符合IP和域名格式。\n\n示例:\n```\nSAN 1: DNS Name=example.com\nSAN 2: DNS Name=www.example.com\nSAN 3: DNS Name=example.net\nSAN 4: IP Address=93.184.216.34\n```","items":{"description":"","maxLength":255,"minLength":0,"type":"string"},"maxItems":128,"minItems":0,"type":"array"},"AutopilotEniNetwork":{"description":"ENI网络配置。","properties":{"subnets":{"description":"ENI所在子网的IPv4子网ID列表。获取方法如下:\n\n- 方法1:登录虚拟私有云服务的控制台界面,单击VPC下的子网,进入子网详情页面,查找IPv4子网ID。\n- 方法2:通过虚拟私有云服务的查询子网列表接口查询。\n  链接请参见[查询子网列表](https://support.huaweicloud.com/api-vpc/vpc_subnet01_0003.html)","items":{"$ref":"#/definitions/AutopilotNetworkSubnet","description":"IPv4子网ID"},"type":"array"}},"required":["subnets"],"x-open-region-cloud":"hws,hws_hk"},"AutopilotHostNetwork":{"description":"Node network parameters.","properties":{"subnet":{"description":"用于创建控制节点的subnet的网络ID。获取方法如下:\n\n- 方法1:登录虚拟私有云服务的控制台界面,单击VPC下的子网,进入子网详情页面,查找网络ID。\n- 方法2:通过虚拟私有云服务的查询子网列表接口查询。\n  链接请参见[查询子网列表](https://support.huaweicloud.com/api-vpc/vpc_subnet01_0003.html)","maxLength":64,"minLength":0,"type":"string"},"vpc":{"description":"用于创建控制节点的VPC的ID。\n\n获取方法如下:\n- 方法1:登录虚拟私有云服务的控制台界面,在虚拟私有云的详情页面查找VPC ID。\n- 方法2:通过虚拟私有云服务的API接口查询。\n  链接请参见[查询VPC列表](https://support.huaweicloud.com/api-vpc/vpc_api01_0003.html)","maxLength":64,"minLength":0,"type":"string"}},"required":["subnet","vpc"]},"AutopilotNetworkSubnet":{"description":"ENI网络配置,创建集群指定subnets字段使用时必填。","properties":{"subnetID":{"description":"用于创建控制节点的subnet的IPv4子网ID(暂不支持IPv6)。获取方法如下:\n\n- 方法1:登录虚拟私有云服务的控制台界面,单击VPC下的子网,进入子网详情页面,查找IPv4子网ID。\n- 方法2:通过虚拟私有云服务的查询子网列表接口查询。\n  链接请参见[查询子网列表](https://support.huaweicloud.com/api-vpc/vpc_subnet01_0003.html)","pattern":"^[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}$","type":"string"}},"required":["subnetID"]},"AutopilotPackageConfiguration":{"properties":{"configurations":{"description":"组件配置项","items":{"$ref":"#/definitions/AutopilotConfigurationItem"},"type":"array"},"name":{"description":"组件名称","type":"string"}},"type":"object"},"AutopilotResourceTag":{"description":"CCE资源标签","properties":{"key":{"description":"Key值。\n- 不能为空,最多支持128个字符\n- 可用UTF-8格式表示的汉字、字母、数字和空格\n- 支持部分特殊字符:_.:/=+-@\n- 不能以\"\\_sys\\_\"开头","maxLength":128,"minLength":1,"type":"string"},"value":{"description":"Value值。\n- 可以为空但不能缺省,最多支持255个字符\n- 可用UTF-8格式表示的汉字、字母、数字和空格\n- 支持部分特殊字符:_.:/=+-@","maxLength":255,"type":"string"}}},"AutopilotServiceNetwork":{"properties":{"IPv4CIDR":{"description":"kubernetes clusterIP IPv4 CIDR取值范围。创建集群时若未传参,默认为\"10.247.0.0/16\"。","type":"string"}}},"AutopilotShowCluster":{"description":"","properties":{"apiVersion":{"default":"v3","description":"API版本,固定值“v3”,该值不可修改。","type":"string"},"kind":{"default":"Cluster","description":"API类型,固定值“Cluster”或“cluster”,该值不可修改。","type":"string"},"metadata":{"$ref":"#/definitions/AutopilotClusterMetadata","description":"集群的基本信息,为集合类的元素类型,包含一组由不同名称定义的属性。"},"spec":{"$ref":"#/definitions/AutopilotClusterSpec","description":"spec是集合类的元素类型,您对需要管理的集群对象进行详细描述的主体部分都在spec中给出。CCE通过spec的描述来创建或更新对象。"},"status":{"$ref":"#/definitions/AutopilotClusterStatus","description":"集群状态信息"}},"required":["apiVersion","kind","metadata","spec"]}},"description":null,"group_id":"394aeee55c894cd89bc6a709f45ae609","host":"cce.cn-north-4.myhuaweicloud.com","id":"6c9f5ad38670401a875efcfdf36da6b2","info_version":"v3","method":"get","name":"ShowAutopilotCluster","parameters":{"param_header_content_type":{"default":"application/json","description":"消息体的类型(格式)","in":"header","name":"Content-Type","required":true,"type":"string","x-order":51},"param_header_x_auth_token":{"description":"调用接口的认证方式分为Token和AK/SK两种,如果您使用的Token方式,此参数为必填,请填写Token的值,获取方式请参见[获取token](cce_02_0004.xml)。","in":"header","maxLength":16384,"name":"X-Auth-Token","required":true,"type":"string","x-order":52},"param_path_clusterid":{"description":"集群ID,获取方式请参见[如何获取接口URI中参数](cce_02_0271.xml)。","in":"path","name":"cluster_id","pattern":"^[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}$","required":true,"type":"string","x-order":2},"param_path_projectid":{"description":"项目ID,获取方式请参见[如何获取接口URI中参数](cce_02_0271.xml)。","in":"path","name":"project_id","required":true,"type":"string","x-order":1}},"paths":{"/autopilot/v3/projects/{project_id}/clusters/{cluster_id}":{"get":{"consumes":[],"deprecated":false,"description":"该API用于获取指定集群的详细信息。\n>集群管理的URL格式为:https://Endpoint/uri。其中uri为资源路径,也即API访问的路径。","operationId":"ShowAutopilotCluster","parameters":[{"$ref":"#/parameters/param_path_projectid"},{"$ref":"#/parameters/param_path_clusterid"},{"$ref":"#/parameters/param_header_content_type"},{"$ref":"#/parameters/param_header_x_auth_token"},{"description":"查询集群详细信息。\n\n若设置为true,获取集群下节点总数(totalNodesNumber)、正常节点数(activeNodesNumber)、CPU总量(totalNodesCPU)、内存总量(totalNodesMemory)和已安装插件列表(installedAddonInstances),已安装插件列表中包含名称(addonTemplateName)、版本号(version)、插件的状态信息(status),放入到annotation中。","in":"query","name":"detail","required":false,"type":"string","x-order":200}],"produces":[],"responses":{"200":{"description":"表示获取指定集群成功。","examples":{"application/json":{"apiVersion":"v3","kind":"Cluster","metadata":{"alias":"autopilot-test-v1274","annotations":{"enableAutopilot":"true"},"creationTimestamp":"2024-06-01 09:05:03.665134 +0000 UTC","labels":{"FeatureGates":"arpOptimization,elbv3,xGPU"},"name":"autopilot-test-v1274","uid":"087dc72a-1ff6-11ef-af74-0255ac10010b","updateTimestamp":"2024-06-04 12:54:27.803532 +0000 UTC"},"spec":{"authentication":{"mode":"rbac"},"az":"cn-north-7c","billingMode":0,"category":"Turbo","containerNetwork":{"mode":"eni"},"eniNetwork":{"subnets":[{"subnetID":"f061c486-a190-4e2e-993c-5bc3dc9d65a8"}]},"extendParam":{"enterpriseProjectId":"0","upgradefrom":""},"flavor":"cce.autopilot.cluster","hostNetwork":{"subnet":"19e3960d-b9ae-4d2d-b3a4-92ff56ae0301","vpc":"13cd773f-7f9f-4821-b9b8-dba5b351e1ec"},"kubeProxyMode":"iptables","kubernetesSvcIpRange":"10.247.0.0/16","platformVersion":"cce.6.0","serviceNetwork":{"IPv4CIDR":"10.247.0.0/16"},"type":"VirtualMachine","version":"v1.27"},"status":{"endpoints":[{"type":"Internal","url":"https://087dc72a-1ff6-11ef-af74-0255ac10010b.cluster.cce.cn-north-7.myhuaweicloud.com:5443"}],"phase":"Available"}}},"schema":{"$ref":"#/definitions/AutopilotShowCluster"}}},"summary":"获取指定的集群","tags":["集群管理(Autopilot)"],"x-api-category":"autopilot","x-api-type":"open-api","x-apiexplorer-hide":"false","x-constraint":"","x-is-registered":"Y","x-name":"获取指定的集群","x-open-region-cloud":"hws,hws_hk","x-order":2,"x-scope":"Commercial","x-support-sdk":"Y"}}},"product_short":"CCE","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"获取指定的集群","tags":"集群管理(Autopilot)","uri":null,"version":"2.0"}