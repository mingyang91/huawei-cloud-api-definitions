{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"AccessPolicy":{"properties":{"accessScope":{"$ref":"#/definitions/AccessScope","description":"**参数解释:**\n授权范围,指定需要授权的集群及命名空间。\n**约束限制:**\n不涉及"},"apiVersion":{"default":"v3","description":"**参数解释:**\nAPI版本。\n**约束限制:**\n该值不可修改\n**取值范围:**\n不涉及\n**默认取值:**\nv3","type":"string"},"clusters":{"description":"**参数解释:**\n集群ID的列表,允许使用通配符(“\\*”),表示所有集群。获取方式请参见[如何获取接口URI中参数](cce_02_0271.xml)。\n**约束限制:**\n当前最多支持同时授权200个集群。\n**取值范围:**\n\\[\"\\*\"\\]或者集群ID列表。\n**默认取值:**\n不涉及","items":{"type":"string"},"maxItems":200,"minItems":1,"type":"array"},"kind":{"default":"AccessPolicy","description":"**参数解释:**\nAPI类型。\n**约束限制:**\n该值不可修改\n**取值范围:**\n不涉及\n**默认取值:**\nAccessPolicy","type":"string"},"name":{"description":"**参数解释:**\n访问策略名称。\n**约束限制:**\n以小写字母开头,由小写字母、数字、中划线(-)、点(.)组成,长度范围1-56位,且不能以中划线(-)结尾。\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","maxItems":56,"minItems":1,"type":"string"},"policyType":{"description":"**参数解释:**\n权限类型。\n**约束限制:**\n不涉及\n**取值范围:**\n- CCEAdminPolicy:管理员权限\n- CCEClusterAdminPolicy:运维权限\n- CCEEditPolicy:开发权限\n- CCEViewPolicy:只读权限\n\n**默认取值:**\n不涉及","type":"string"},"principal":{"$ref":"#/definitions/Principal","description":"**参数解释:**\n授权对象。\n**约束限制:**\n不涉及"}},"required":["clusters","accessScope","policyType","principal"],"type":"object"},"AccessPolicyResp":{"properties":{"accessScope":{"$ref":"#/definitions/AccessScope","description":"**参数解释:**\n授权范围,指定需要授权的集群及命名空间。\n**约束限制:**\n不涉及"},"apiVersion":{"default":"v3","description":"**参数解释:**\nAPI版本。\n**约束限制:**\n该值不可修改。\n**取值范围:**\n不涉及\n**默认取值:**\nv3","type":"string"},"clusters":{"description":"**参数解释:**\n集群ID的列表,允许使用通配符(“\\*”),表示所有集群。\n**约束限制:**\n当前最多支持同时授权200个集群。\n**取值范围:**\n\\[\"\\*\"\\]或者集群ID列表。\n**默认取值:**\n不涉及","items":{"type":"string"},"maxItems":200,"minItems":1,"type":"array"},"createTime":{"description":"**参数解释:**\n创建时间。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","format":"date-time","type":"string"},"kind":{"default":"AccessPolicy","description":"**参数解释:**\nAPI类型。\n**约束限制:**\n该值不可修改。\n**取值范围:**\n不涉及\n**默认取值:**\nAccessPolicy","type":"string"},"name":{"description":"**参数解释:**\n访问策略名称。\n**约束限制:**\n以小写字母开头,由小写字母、数字、中划线(-)、点(.)组成,长度范围1-56位,且不能以中划线(-)结尾。\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","maxItems":56,"minItems":1,"type":"string"},"policyId":{"description":"**参数解释:**\n权限ID。\n**约束限制:**\n系统自动生成,该值不可修改。\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","type":"string"},"policyType":{"description":"**参数解释:**\n权限类型。\n**约束限制:**\n不涉及\n**取值范围:**\n- CCEAdminPolicy:管理员权限\n- CCEClusterAdminPolicy:运维权限\n- CCEEditPolicy:开发权限\n- CCEViewPolicy:只读权限\n\n**默认取值:**\n不涉及","type":"string"},"principal":{"$ref":"#/definitions/Principal","description":"**参数解释:**\n授权对象。\n**约束限制:**\n不涉及"},"updateTime":{"description":"**参数解释:**\n更新时间。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","format":"date-time","type":"string"}},"type":"object"},"AccessScope":{"properties":{"namespaces":{"description":"**参数解释:**\n集群命名空间的列表,允许使用通配符(“\\*”),表示所有命名空间。当选择了不同集群时,命名空间的列表可以为多个集群的集合,在转化成RBAC策略时,会自动判断集群下的命名空间是否存在。\n**约束限制:**\n当前最多支持同时授权500个命名空间。\n**取值范围:**\n\\[\"\\*\"\\]或者集群命名空间列表。\n**默认取值:**\n不涉及","items":{"type":"string"},"maxItems":500,"minItems":1,"type":"array"}},"required":["namespaces"],"type":"object"},"Principal":{"properties":{"ids":{"description":"**参数解释:**\n授权对象ID列表,根据授权对象的类型,用户、用户组和委托账号,填入对应的ID。\n**约束限制:**\n当前最多支持同时授权500个用户/用户组。\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","items":{"type":"string"},"maxItems":500,"minItems":1,"type":"array"},"type":{"description":"**参数解释:**\n授权对象的类型。\n**约束限制:**\n不涉及\n**取值范围:**\n- user:用户\n- group:用户组\n- agency:委托账号\n\n**默认取值:**\n不涉及","enum":["user","group","agency"],"type":"string"}},"required":["type","ids"],"type":"object"}},"description":null,"group_id":"394aeee55c894cd89bc6a709f45ae609","host":"cce.cn-north-4.myhuaweicloud.com","id":"1b38be4a3c61435d8423c096a2d0e5be","info_version":"v3","method":"post","name":"CreateAccessPolicy","parameters":{},"paths":{"/api/v3/access-policies":{"post":{"deprecated":false,"description":"该API用于创建访问策略。","operationId":"CreateAccessPolicy","parameters":[{"in":"body","name":"CreateAccessPolicy","required":false,"schema":{"$ref":"#/definitions/AccessPolicy"}}],"responses":{"201":{"description":"","examples":{"application/json":{"accessScope":{"namespaces":["*"]},"apiVersion":"v3","clusters":["*"],"createTime":"","kind":"AccessPolicy","name":"test-access-policy","policy":"CCEAdminPolicy","policyId":"402358e8-2e3a-4531-bae7-fe9cba14d0d1","principal":{"ids":["069fcc2116c347b89869eae3cdxxxxxx1","069fcc2116c347b89869eae3cdxxxxxx2"],"type":"user"},"updateTime":""}},"schema":{"$ref":"#/definitions/AccessPolicyResp"}}},"summary":"创建访问策略","tags":["权限管理"],"x-api-category":"cce","x-api-type":"open-api","x-apiexplorer-hide":"false","x-constraint":"","x-is-registered":"Y","x-name":"创建访问策略","x-open-region-cloud":"hws,hws_hk","x-publishpath":"CreateAccessPolicy","x-request-examples-1":{"accessScope":{"clusters":["*"],"namespaces":["*"]},"apiVersion":"v3","kind":"AccessPolicy","name":"test-access-policy","policy":"CCEAdminPolicy","principal":{"ids":["069fcc2116c347b89869eae3cdxxxxxx1","069fcc2116c347b89869eae3cdxxxxxx2"],"type":"user"}},"x-request-examples-description-1":"创建访问策略","x-request-examples-text-1":{"accessScope":{"clusters":["*"],"namespaces":["*"]},"apiVersion":"v3","kind":"AccessPolicy","name":"test-access-policy","policy":"CCEAdminPolicy","principal":{"ids":["069fcc2116c347b89869eae3cdxxxxxx1","069fcc2116c347b89869eae3cdxxxxxx2"],"type":"user"}},"x-request-examples-url-1":"POST /api/v3/access-policies","x-scope":"Commercial","x-support-sdk":"Y"}}},"product_short":"CCE","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建访问策略","tags":"权限管理","uri":null,"version":"2.0"}