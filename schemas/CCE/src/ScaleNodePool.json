{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"ScaleNodePoolOptions":{"description":"节点池伸缩选项配置","properties":{"billingConfigOverride":{"$ref":"#/definitions/ScaleUpBillingConfigOverride","description":"节点池扩容时覆盖节点的默认计费模式配置"},"scalableChecking":{"default":"instant","description":"扩容状态检查策略: instant(同步检查), async(异步检查)。默认同步检查instant","type":"string"},"scalePolicy":{"description":"**参数解释**:\n扩容的策略,允许为空,该参数scaleGroups传多项时有效。\n**约束限制**:\n不涉及\n**取值范围**:\n- AZBalance:AZ优先策略,扩容节点池时,系统会使各个AZ间的节点数尽可能的均衡,规格会在所选伸缩组中随机指定。该策略适用于对节点成本和可用区无特殊要求的场景,优点是配置简便、降低单点故障风险。注意:如果某个AZ资源不足,该AZ期望的扩容节点会向其他AZ扩容,可能会使AZ间节点不均衡。如需解决该问题,可在该AZ资源充足时尝试再次扩容。\n- Random:随机策略,从下发的规格scaleGroups列表中随机选择伸缩组扩容。\n\n**默认取值**:\nRandom","enum":["AZBalance","Random"],"type":"string"}}},"ScaleNodePoolRequestBody":{"description":"伸缩节点池的请求体","properties":{"apiVersion":{"default":"v3","description":"API版本,固定值“v3”。","type":"string"},"kind":{"default":"NodePool","description":"API类型,固定值“NodePool”。","type":"string"},"spec":{"$ref":"#/definitions/ScaleNodePoolSpec","description":"伸缩节点池请求详细参数"}},"required":["kind","apiVersion","spec"]},"ScaleNodePoolResponseBody":{"description":"伸缩节点池响应参数","properties":{"orderID":{"description":"**参数解释**:\n订单ID,仅扩容包周期节点时返回\n**取值范围**:\n不涉及","type":"string"}}},"ScaleNodePoolSpec":{"description":"伸缩节点池请求详细参数","properties":{"desiredNodeCount":{"description":"节点池期望节点数","type":"integer"},"options":{"$ref":"#/definitions/ScaleNodePoolOptions","description":"节点池伸缩选项配置"},"scaleGroups":{"description":"**参数解释**:\n要扩缩容的节点池中的伸缩组名称,通过[获取指定的节点池](cce_02_0355.xml)接口获取伸缩组名称\n**约束限制**:\n如果要伸缩默认伸缩组填\"default\"\n**取值范围**:\n不涉及\n**默认取值**:\n不涉及","items":{"description":"伸缩组名称","type":"string"},"type":"array"}},"required":["desiredNodeCount","scaleGroups"]},"ScaleUpBillingConfigOverride":{"description":"节点池扩容时覆盖节点的默认计费模式配置","properties":{"billingMode":{"description":"节点计费类型,0(按需),1(包周期)","type":"integer"},"extendParam":{"$ref":"#/definitions/ScaleUpExtendParam","description":"节点池扩容时节点的计费配置"}},"required":["billingMode"]},"ScaleUpExtendParam":{"description":"节点池扩容时节点的计费配置","properties":{"isAutoPay":{"description":"是否自动付费,可选参数,如果不填写,以节点池isAutoPay属性为准。","type":"boolean"},"isAutoRenew":{"description":"是否自动续费,可选参数,如果不填写,以节点池isAutoRenew属性为准。","type":"boolean"},"periodNum":{"description":"包周期时长, 包月1-9, 包年1-3","type":"integer"},"periodType":{"description":"包周期类型, year(包年), month(包月)","type":"string"}},"required":["periodNum","periodType"]}},"description":null,"group_id":"394aeee55c894cd89bc6a709f45ae609","host":"cce.cn-north-4.myhuaweicloud.com","id":"5bde4263846747a6ad391536a458f1af","info_version":"v3","method":"post","name":"ScaleNodePool","parameters":{"param_header_content_type":{"default":"application/json","description":"消息体的类型(格式)","in":"header","name":"Content-Type","required":true,"type":"string","x-order":51},"param_header_x_auth_token":{"description":"调用接口的认证方式分为Token和AK/SK两种,如果您使用的Token方式,此参数为必填,请填写Token的值,获取方式请参见[获取token](cce_02_0004.xml)。","in":"header","maxLength":16384,"name":"X-Auth-Token","required":true,"type":"string","x-order":52},"param_path_clusterid":{"description":"集群ID,获取方式请参见[如何获取接口URI中参数](cce_02_0271.xml)。","in":"path","name":"cluster_id","pattern":"^[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}$","required":true,"type":"string","x-order":2},"param_path_nodepool_id":{"description":"节点池ID","in":"path","name":"nodepool_id","pattern":"^[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}$","required":true,"type":"string","x-order":4},"param_path_projectid":{"description":"项目ID,获取方式请参见[如何获取接口URI中参数](cce_02_0271.xml)。","in":"path","name":"project_id","required":true,"type":"string","x-order":1}},"paths":{"/api/v3/projects/{project_id}/clusters/{cluster_id}/nodepools/{nodepool_id}/operation/scale":{"post":{"deprecated":false,"description":"该API用于伸缩指定的节点池\n> 集群管理的URL格式为:https://Endpoint/uri。其中uri为资源路径,也即API访问的路径","operationId":"ScaleNodePool","parameters":[{"$ref":"#/parameters/param_path_projectid"},{"$ref":"#/parameters/param_path_clusterid"},{"$ref":"#/parameters/param_path_nodepool_id"},{"$ref":"#/parameters/param_header_content_type"},{"$ref":"#/parameters/param_header_x_auth_token"},{"description":"伸缩节点池的请求体","in":"body","name":"ScaleNodePoolRequestBody","required":true,"schema":{"$ref":"#/definitions/ScaleNodePoolRequestBody"},"x-order":5}],"responses":{"202":{"description":"表示节点池伸缩已经被接受,节点池将根据伸缩后的节点池期望节点数增加或者删除节点池中的节点","schema":{"$ref":"#/definitions/ScaleNodePoolResponseBody","examples":{"application/json":{"orderID":"CS2504231542LJVS6"}}}}},"summary":"伸缩节点池","tags":["节点池管理"],"x-api-category":"cce","x-apiexplorer-hide":"false","x-constraint":"","x-is-registered":"Y","x-name":"伸缩节点池","x-open-region-cloud":"hws,hws_hk,sbc,hk_sbc,ctc,cmcc,g42,tm,hk_tm,hk_g42,hcso,hcs,ocb,hws_ocb,hws_eu,hcso_dt,dt","x-order":22,"x-request-examples-1":{"apiVersion":"v3","kind":"NodePool","spec":{"desiredNodeCount":1,"scaleGroups":["default"]}},"x-request-examples-2":{"apiVersion":"v3","kind":"NodePool","spec":{"desiredNodeCount":1,"options":{"billingConfigOverride":{"billingMode":1,"extendParam":{"isAutoPay":false,"isAutoRenew":false,"periodNum":1,"periodType":"month"}}},"scaleGroups":["default"]}},"x-request-examples-description-1":"扩容节点池默认伸缩组(按需)","x-request-examples-description-2":"扩容节点池默认伸缩组(包年包月)","x-request-examples-url-1":"","x-request-examples-url-2":"","x-scope":"Commercial","x-support-sdk":"Y"}}},"product_short":"CCE","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"伸缩节点池","tags":"节点池管理","uri":null,"version":"2.0"}