{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"CreateReleaseReqBody":{"description":"创建模板实例的请求体","properties":{"chart_id":{"description":"模板ID","example":"af4b699e-018c-11ec-b8b0-0255ac100b05","type":"string"},"description":{"description":"模板实例描述","example":"","type":"string"},"name":{"description":"模板实例名称","example":"testwww","type":"string"},"namespace":{"description":"模板实例所在的命名空间","example":"monitoring","type":"string"},"parameters":{"$ref":"#/definitions/ReleaseReqBodyParams"},"values":{"description":"模板实例的值","properties":{"imagePullPolicy":{"description":"镜像拉取策略","example":"IfNotPresent","type":"string"},"imageTag":{"description":"镜像标签","example":"v2","type":"string"}},"type":"object"},"version":{"description":"模板实例版本号","example":"1.0.0","type":"string"}},"required":["chart_id","name","namespace","values","version"]},"ReleaseReqBodyParams":{"description":"模板实例参数","properties":{"dry_run":{"description":"开启后,仅验证模板参数,不进行安装","example":false,"type":"boolean"},"include_hooks":{"description":"更新或者删除时启用hooks","example":false,"type":"boolean"},"name_template":{"description":"实例名称模板","type":"string"},"no_hooks":{"description":"安装时是否禁用hooks","example":false,"type":"boolean"},"recreate":{"description":"是否重建实例","example":false,"type":"boolean"},"release_version":{"description":"回滚实例的版本","example":1,"format":"int32","type":"integer"},"replace":{"description":"是否替换同名实例","example":false,"type":"boolean"},"reset_values":{"description":"更新时是否重置values","example":false,"type":"boolean"}}},"ReleaseResp":{"properties":{"chart_name":{"description":"模板名称","example":"magento-mysql","type":"string"},"chart_public":{"description":"是否公开模板","example":false,"type":"boolean"},"chart_version":{"description":"模板版本","example":"1.0.0","type":"string"},"cluster_id":{"description":"集群ID","example":"a870253f-5dc7-11ee-bf71-0255ac100b03","type":"string"},"cluster_name":{"description":"集群名称","example":"sfs-turbo-test","type":"string"},"create_at":{"description":"创建时间","example":"2023-11-14T20:30:57+08:00","type":"string"},"description":{"description":"模板实例描述","example":"Initial install underway","type":"string"},"name":{"description":"模板实例名称","example":"testwww","type":"string"},"namespace":{"description":"模板实例所在的命名空间","example":"monitoring","type":"string"},"parameters":{"description":"模板实例参数","example":"","type":"string"},"resources":{"description":"模板实例需要的资源","example":"","type":"string"},"status":{"description":"模板实例状态","example":"PENDING_INSTALL","type":"string"},"status_description":{"description":"模板实例状态描述","example":"Initial install underway","type":"string"},"update_at":{"description":"更新时间","example":"2023-11-14T20:30:57+08:00","type":"string"},"values":{"description":"模板实例的值","example":"{\"basic\":{\"admin_password\":\"magentorocks1\",\"admin_username\":\"admin\",\"app_name\":\"magento\",\"mysql_database\":\"magento\",\"mysql_name\":\"mysql\",\"mysql_password\":\"magento\",\"mysql_port\":3306,\"mysql_root_password\":\"changeme\",\"mysql_user\":\"magento\",\"storage_class\":\"csi-nas\",\"storage_mode\":\"ReadWriteMany\",\"storage_size\":\"10G\"},\"global\":{\"magento_EIP\":\"100.95.154.255\",\"magento_EPORT\":32080,\"namespace\":\"default\"},\"image\":{\"magento_image\":\"swr.cn-north-7.myhuaweicloud.com/everest/magento:latest\",\"mysql_image\":\"swr.cn-north-7.myhuaweicloud.com/everest/mysql:5.7.14\"}}","type":"string"},"version":{"description":"模板实例版本","example":1,"format":"int32","type":"integer"}}}},"description":null,"group_id":"394aeee55c894cd89bc6a709f45ae609","host":"cce.cn-north-4.myhuaweicloud.com","id":"530c59ca36724677be9d689c3b5f82d8","info_version":"v3","method":"post","name":"CreateRelease","parameters":{"param_header_content_type":{"default":"application/json","description":"消息体的类型(格式)","in":"header","name":"Content-Type","required":true,"type":"string","x-order":51},"param_header_x_auth_token":{"description":"调用接口的认证方式分为Token和AK/SK两种,如果您使用的Token方式,此参数为必填,请填写Token的值,获取方式请参见[获取token](cce_02_0004.xml)。","in":"header","maxLength":16384,"name":"X-Auth-Token","required":true,"type":"string","x-order":52},"param_path_clusterid":{"description":"集群ID,获取方式请参见[如何获取接口URI中参数](cce_02_0271.xml)。","in":"path","name":"cluster_id","pattern":"^[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}$","required":true,"type":"string","x-order":2}},"paths":{"/cce/cam/v3/clusters/{cluster_id}/releases":{"post":{"description":"创建模板实例","operationId":"CreateRelease","parameters":[{"$ref":"#/parameters/param_header_content_type"},{"$ref":"#/parameters/param_header_x_auth_token"},{"$ref":"#/parameters/param_path_clusterid"},{"description":"创建release请求体","in":"body","name":"CreateReleaseRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateReleaseReqBody"},"x-example":{"chart_id":"3c138b72-7ce4-6d76-7c55-604cdb2ce423","name":"nino21","namespace":"project01","parameters":{"dry_run":false,"name_template":"","no_hooks":false,"replace":false},"values":{"imagePullPolicy":"IfNotPresent","imageTag":"v2"}},"x-order":3}],"responses":{"201":{"description":"Created","schema":{"$ref":"#/definitions/ReleaseResp"}}},"summary":"创建模板实例","tags":["模板管理"],"x-apiexplorer-hide":"false","x-constraint":"","x-is-registered":"Y","x-name":"创建模板实例","x-order":2,"x-publishpath":"","x-request-examples-1":{"chart_id":"e99a7e86-afdd-11eb-aca3-0255ac100b0e","cluster_id":"7378a198-a3fe-11eb-ad37-0255ac100b07","description":"","name":"koi-neo4j","namespace":"default","project_id":"0abdd2dce980d4162f8ac006608ee02d","values":{"acceptLicenseAgreement":"no","affinity":{},"authEnabled":true,"clusterDomain":"cluster.local","core":{"initContainers":[],"numberOfServers":3,"persistentVolume":{"enabled":true,"mountPath":"/data","size":"10Gi"},"sidecarContainers":[]},"defaultDatabase":"neo4j","image":"neo4j","imagePullPolicy":"IfNotPresent","imageTag":"4.0.3-enterprise","name":"neo4j","nodeSelector":{},"podDisruptionBudget":{},"readReplica":{"autoscaling":{"enabled":false,"maxReplicas":3,"minReplicas":1,"targetAverageUtilization":70},"initContainers":[],"numberOfServers":0,"resources":{},"sidecarContainers":[]},"resources":{},"testImage":"markhneedham/k8s-kubectl","testImageTag":"master","tolerations":[],"useAPOC":"true"},"version":"3.0.1"},"x-request-examples-url-1":"POST /cce/cam/v3/clusters/{cluster_id}/releases","x-scope":"Commercial","x-support-sdk":"Y"}}},"product_short":"CCE","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建模板实例","tags":"模板管理","uri":null,"version":"2.0"}