{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"AddonCheckGetResponse":{"description":"插件检查任务查询-response结构体","properties":{"apiVersion":{"default":"v3","description":"**参数解释:**\nAPI版本\n**取值范围:**\n固定值\"v3\"","type":"string"},"items":{"description":"**参数解释:**\n插件检查任务信息列表,包含了插件检查任务ID,插件模板名称,插件实例ID等。\n**约束限制:**\n不涉及","items":{"$ref":"#/definitions/AddonCheckTask","description":""},"type":"array"},"kind":{"default":"AddonCheck","description":"**参数解释:**\nAPI类型\n**取值范围:**\n固定值\"AddonCheck\"","type":"string"},"pageInfo":{"$ref":"#/definitions/PageInfo","description":"**参数解释:**\n插件任务列表的分页信息\n**约束限制:**\n不涉及"}},"required":["apiVersion","kind","pageInfo"]},"AddonCheckTask":{"properties":{"metadata":{"$ref":"#/definitions/CheckTaskMetadata","description":"**参数解释:**\n基本信息,为集合类的元素类型,包含一组由不同名称定义的属性\n**约束限制:**\n不涉及"},"spec":{"$ref":"#/definitions/CheckTaskSpec","description":"**参数解释:**\n插件检查目标信息,包含插件升级的目标版本和集群升级的目标版本\n**约束限制:**\n不涉及"},"status":{"$ref":"#/definitions/CheckTaskStatus","description":"**参数解释**:\n插件检查任务状态信息\n**约束限制**:\n不涉及"}},"required":["metadata","status"]},"CheckTaskMetadata":{"properties":{"addonInstanceID":{"description":"**参数解释:**\n插件实例ID\n**取值范围:**\n不涉及","type":"string"},"addonInstanceName":{"description":"**参数解释:**\n插件实例名称\n**取值范围:**\n不涉及","type":"string"},"addonTemplateName":{"description":"**参数解释:**\n插件模板名称\n**取值范围:**\ncce服务提供的插件模板,可以通过[查询AddonTemplates列表](cce_02_0321.xml)中的items[].metadata.name字段获取","type":"string"},"createTimeStamp":{"description":"**参数解释:**\n插件检查任务创建时间\n**取值范围:**\n不涉及","type":"string"},"expireTimeStamp":{"description":"**参数解释:**\n插件检查任务超时时间,仅终态(Failed/Success)任务存在此字段\n**取值范围:**\n不涉及","type":"string"},"taskID":{"description":"**参数解释:**\n插件检查任务ID,用于任务检查结果查询\n**取值范围:**\n不涉及","type":"string"},"type":{"description":"**参数解释:**\n插件检查类型\n**取值范围:**\n- addonStatic: 运行中插件巡检\n- addonUpgrade: 插件升级前检查","enum":["addonStatic","addonUpgrade"],"type":"string"}},"required":["type","taskID","addonTemplateName","createTimeStamp"]},"CheckTaskRisk":{"properties":{"level":{"description":"**参数解释:**\n风险等级\n**取值范围:**\n- Warning: 中危,允许跳过\n- Fatal: 高危,不允许跳过","enum":["Warning","Fatal"],"type":"string"},"message":{"description":"**参数解释:**\n风险检查结果说明\n**取值范围:**\n不涉及","type":"string"},"riskName":{"description":"**参数解释:**\n风险项名称\n**取值范围:**\n不涉及","type":"string"},"status":{"description":"**参数解释:**\n风险项检查状态\n**取值范围:**\n- Init: 风险项检查状态,初始化\n- Running: 风险项检查状态,检查中\n- Failed: 风险项检查状态,检查完成有风险\n- Success: 风险项检查状态,检查完成无风险","enum":["Init","Running","Failed","Success"],"type":"string"}},"required":["riskName","status","level"]},"CheckTaskSpec":{"properties":{"addonTargetVersion":{"description":"**参数解释:**\n插件升级目标版本\n**取值范围:**\n不涉及","type":"string"}}},"CheckTaskStatus":{"properties":{"message":{"description":"**参数解释:**\n插件检查结果信息\n**取值范围:**\n不涉及","type":"string"},"riskList":{"description":"**参数解释:**\n插件检查风险项列表,不同插件对应的风险检查项不同。\n**约束限制:**\n不涉及","items":{"$ref":"#/definitions/CheckTaskRisk","description":""},"type":"array"},"status":{"description":"**参数解释:**\n插件检查状态\n**取值范围:**\n- Init: 插件检查状态,初始化\n- Running: 插件检查状态,检查中\n- Failed: 插件检查状态,检查完成有风险\n- Success: 插件检查状态,检查完成无风险","enum":["Init","Running","Failed","Success"],"type":"string"}},"required":["status","message"]},"PageInfo":{"properties":{"currentCount":{"description":"**参数解释:**\n当前所有的插件检查任务数\n**取值范围:**\n不涉及","type":"integer"}},"required":["currentCount"]}},"description":null,"group_id":"394aeee55c894cd89bc6a709f45ae609","host":"cce.cn-north-4.myhuaweicloud.com","id":"0939435b602d46fa8046fdaaff065afe","info_version":"v3","method":"get","name":"ListAddonPrecheckTasks","parameters":{"param_header_content_type":{"default":"application/json","description":"消息体的类型(格式)","in":"header","name":"Content-Type","required":true,"type":"string","x-order":51},"param_header_x_auth_token":{"description":"调用接口的认证方式分为Token和AK/SK两种,如果您使用的Token方式,此参数为必填,请填写Token的值,获取方式请参见[获取token](cce_02_0004.xml)。","in":"header","maxLength":16384,"name":"X-Auth-Token","required":true,"type":"string","x-order":52},"param_path_clusterid":{"description":"集群ID,获取方式请参见[如何获取接口URI中参数](cce_02_0271.xml)。","in":"path","name":"cluster_id","pattern":"^[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}$","required":true,"type":"string","x-order":2},"param_path_projectid":{"description":"项目ID,获取方式请参见[如何获取接口URI中参数](cce_02_0271.xml)。","in":"path","name":"project_id","required":true,"type":"string","x-order":1}},"paths":{"/api/v3/projects/{project_id}/clusters/{cluster_id}/addons/precheck/tasks":{"get":{"consumes":["application/json"],"deprecated":false,"description":"获取集群下插件检查任务结果列表","operationId":"ListAddonPrecheckTasks","parameters":[{"$ref":"#/parameters/param_path_projectid"},{"$ref":"#/parameters/param_path_clusterid"},{"$ref":"#/parameters/param_header_content_type"},{"$ref":"#/parameters/param_header_x_auth_token"},{"description":"**参数解释:**\n根据插件检查类型筛选结果\n**约束限制:**\n不涉及\n**取值范围:**\n- addonStatic: 运行中插件巡检\n- addonUpgrade: 插件升级前检查\n\n**默认取值:**\n不涉及","enum":["addonStatic","addonUpgrade"],"in":"query","name":"type","required":false,"type":"string","x-order":502},{"description":"**参数解释:**\n根据插件检查任务ID筛选结果,插件检查任务ID可以通过[批量创建插件检查任务](BatchCreateAddonPrecheck.xml)中的status.items[].metadata.taskID字段获取\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","in":"query","name":"task_id","pattern":"^[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}$","required":false,"type":"string","x-order":503},{"description":"**参数解释:**\n根据插件实例ID筛选结果,实例ID可以通过[获取AddonInstance列表](cce_02_0326.xml)中的items[].metadata.uid字段获取\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","in":"query","name":"addon_instance_id","pattern":"^[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}$","required":false,"type":"string","x-order":504}],"produces":["application/json"],"responses":{"200":{"description":"ok","examples":{"application/json":{"apiVersion":"v3","items":{"metadata":{"addonInstanceID":"1d43577d-4b50-4723-b05b-2121f47cb219","addonInstanceName":"cceaddon-coredns","addonTemplateName":"coredns","createTimeStamp":"2025-08-05T17:10:44.648388+08:00","taskID":"8ca259cc-553b-11e9-926f-0255ac101a31","type":"addonUpgrade"},"spec":{"addonTargetVersion":"3.0.4","clusterTargetVersion":"v1.31.1-r4"},"status":{"message":"Addon task check finish","status":"Failed"}},"kind":"AddonCheck","pageInfo":{"currentCount":1}}},"schema":{"$ref":"#/definitions/AddonCheckGetResponse"}}},"summary":"获取插件检查任务结果列表","tags":["插件管理"],"x-api-category":"cce","x-api-type":"open-api","x-apiexplorer-hide":"false","x-constraint":"","x-is-registered":"Y","x-name":"获取插件检查列表","x-open-region-cloud":"hws,hws_hk,sbc,hk_sbc,ctc,cmcc,g42,tm,hk_tm,hk_g42,hcso,hcs,ocb,hws_ocb,hws_eu,hcso_dt,dt","x-order":500,"x-publishpath":"ListAddonPrecheckTasks","x-scope":"Commercial","x-support-sdk":"Y"}}},"product_short":"CCE","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"获取插件检查任务结果列表","tags":"插件管理","uri":null,"version":"2.0"}