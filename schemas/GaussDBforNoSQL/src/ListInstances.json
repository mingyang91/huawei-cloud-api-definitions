{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"ErrorResponseBody":{"properties":{"error_code":{"description":"错误码。","example":"DBS.200001","type":"string"},"error_msg":{"description":"错误消息。","example":"参数错误。","type":"string"}},"required":["error_code","error_msg"]},"ListInstancesBackupStrategyResult":{"description":"自动备份策略。","properties":{"keep_days":{"description":"已生成备份文件可以保存的天数。取值范围:0~35。","type":"integer"},"start_time":{"description":"备份时间段。自动备份将在该时间段内触发。当前时间指UTC时间。","example":"23:00-00:00","type":"string"}},"required":["start_time","keep_days"]},"ListInstancesDatastoreResult":{"description":"数据库信息。","properties":{"patch_available":{"description":"是否有补丁版本的数据库支持升级,返回true时可以通过升级补丁接口进行数据库升级,否则不允许升级补丁。","type":"boolean"},"type":{"description":"数据库引擎。","type":"string"},"version":{"description":"数据库版本号。","type":"string"},"whole_version":{"description":"数据库的完整版本号(目前只有GeminiDB Cassandra支持)。","type":"string"}},"required":["type","version","patch_available","whole_version"]},"ListInstancesGroupResult":{"description":"实例组信息。","properties":{"id":{"description":"组ID。","example":"5b0fda418d9f4b51b0d188732aaf992fno06","type":"string"},"nodes":{"description":"节点信息。","items":{"$ref":"#/definitions/ListInstancesNodeResult"},"type":"array"},"status":{"description":"组状态。","type":"string"},"volume":{"$ref":"#/definitions/Volume","description":"volume信息"}},"required":["id","status","volume","nodes"]},"ListInstancesNodeResult":{"description":"实例节点信息。","properties":{"availability_zone":{"description":"可用区。","example":"az1","type":"string"},"id":{"description":"节点ID。","example":"5b0fda418d9f4b51b0d188732aaf992fno06","type":"string"},"name":{"description":"节点名称。","type":"string"},"private_ip":{"description":"节点内网IP。在弹性云服务器创建成功后参数值存在,否则,值为\"\"。","type":"string"},"public_ip":{"description":"绑定的公网IP。该参数仅针对绑定了公网IP的节点有效。","type":"string"},"role":{"description":"节点角色。\n该参数仅对GeminiDB Mongo引擎的副本集实例有效。","type":"string"},"spec_code":{"description":"资源规格编码。关于实例的规格信息,请参见查询所有实例规格信息中响应参数“flavors.spec_code”的值。","type":"string"},"status":{"description":"节点状态。","example":"normal","type":"string"},"subnet_id":{"description":"节点所在的子网的ID。","type":"string"},"support_reduce":{"description":"是否支持节点缩容。\n- true,表示该节点支持节点缩容。\n- false,表示该节点不支持节点缩容。","type":"boolean"}},"required":["id","name","status","role","subnet_id","private_ip","public_ip","spec_code","availability_zone","support_reduce"]},"ListInstancesResponseBody":{"properties":{"instances":{"description":"实例信息。","items":{"$ref":"#/definitions/ListInstancesResult"},"type":"array"},"total_count":{"description":"总记录数。","type":"integer"}},"required":["instances","total_count"]},"ListInstancesResult":{"description":"实例信息。","properties":{"actions":{"description":"实例正在执行的动作。","items":{"type":"string"},"type":"array"},"availability_zone":{"description":"实例可用区。","type":"string"},"backup_strategy":{"$ref":"#/definitions/ListInstancesBackupStrategyResult","description":"备份策略。"},"created":{"description":"实例创建时间。","type":"string"},"datastore":{"$ref":"#/definitions/ListInstancesDatastoreResult","description":"数据库信息。"},"db_user_name":{"description":"默认用户名。取值为“rwuser”。","type":"string"},"dedicated_resource_id":{"description":"专属资源ID,只有数据库实例属于专属资源池才会返回该参数。","type":"string"},"engine":{"description":"存储引擎。取值为“rocksDB”。","type":"string"},"enterprise_project_id":{"description":"企业项目ID。取值为“0”,表示为default企业项目。","type":"string"},"groups":{"description":"组信息。","items":{"$ref":"#/definitions/ListInstancesGroupResult"},"type":"array"},"id":{"description":"实例ID。","example":"5a0c7051faa0471a8e23703f1dc0f458in06","type":"string"},"lb_ip_address":{"description":"负载均衡ip,只有存在负载均衡ip,才会返回该参数。","type":"string"},"lb_port":{"description":"负载均衡端口,只有存在负载均衡ip,才会返回该参数。","type":"string"},"maintenance_window":{"description":"系统可维护时间窗。","type":"string"},"mode":{"description":"实例类型。\n-  取值为“Cluster”,表示GeminiDB Cassandra、GeminiDB Influx、GeminiDB Redis Proxy经典部署模式集群实例类型。 \n-  取值为“CloudNativeCluster”,表示GeminiDB Cassandra、GeminiDB Influx、GeminiDB Redis云原生部署模式集群实例类型。\n-  取值为“RedisCluster”,表示GeminiDB Redis Cluster经典部署模式集群实例类型。\n-  取值为“Replication”,表示GeminiDB Redis经典部署模式主备实例类型。 \n-  取值为“InfluxdbSingle”,表示GeminiDB Influx经典部署模式单节点实例类型。\n-  取值为“ReplicaSet”,表示GeminiDB Mongo副本集实例类型。\n-  如果不传datastore_type参数,自动忽略该参数设置。\n-  默认取值:不涉及。","type":"string"},"name":{"description":"实例名称。","type":"string"},"pay_mode":{"description":"计费方式。\n- 取值为“0”,表示按需计费。\n- 取值为“1”,表示包年/包月计费。","type":"string"},"port":{"description":"数据库端口。","example":"3306","type":"string"},"product_type":{"description":"产品类型。\nGeminiDB Redis云原生部署模式集群涉及此字段,取值:\n  -  Standard 标准型\n  -  Capacity 容量型","type":"string"},"region":{"description":"实例所在区域。","type":"string"},"security_group_id":{"description":"安全组ID。","type":"string"},"status":{"description":"实例状态。\n取值:\n- normal,表示实例正常。\n- abnormal,表示实例异常。\n- creating,表示实例创建中。\n- frozen,表示实例被冻结。\n- data_disk_full,表示实例磁盘已满。\n- createfail,表示实例创建失败。\n- enlargefail,表示实例扩容节点个数失败。","example":"creating","type":"string"},"subnet_id":{"description":"子网ID。","type":"string"},"time_zone":{"description":"时区。","type":"string"},"updated":{"description":"实例操作最新变更的时间。","type":"string"},"vpc_id":{"description":"虚拟私有云ID。","type":"string"}},"required":["id","name","status","port","mode","region","datastore","engine","created","updated","db_user_name","ssl","vpc_id","subnet_id","security_group_id","backup_strategy","pay_mode","maintenance_window","groups","storage","disk_encryption_id","enterprise_project_id","time_zone","actions"]},"Volume":{"description":"volume信息。","properties":{"size":{"description":"磁盘大小。单位:GB。","type":"string"},"used":{"description":"磁盘使用量。单位:GB。","type":"string"}},"required":["size","used"]}},"description":null,"group_id":"e59009abc8d6499f9f8dc004e69d73d7","host":"gaussdb-nosql.cn-north-4.myhuaweicloud.com","id":"13784163e1a3447eb8b859929840a7ae","info_version":"v3","method":"get","name":"ListInstances","parameters":{},"paths":{"/v3/{project_id}/instances":{"get":{"description":"根据指定条件查询数据库实例列表和详情。","operationId":"ListInstances","parameters":[{"description":"用户Token。","in":"header","name":"x-auth-token","required":true,"type":"string","x-example":"******"},{"description":"租户在某一region下的project ID。","in":"path","name":"project_id","required":true,"type":"string","x-example":"619d3e78f61b4be68bc5aa0b59edcf7b"},{"description":"实例ID。\n如果id以“*”起始,表示按照“*”后面的值模糊匹配,否则,按照实际填写的id精确匹配查询。","in":"query","name":"id","type":"string"},{"description":"实例名称。\n如果name以“*”起始,表示按照“*”后面的值模糊匹配,否则,按照实际填写的name精确匹配查询。","in":"query","name":"name","type":"string"},{"description":"实例类型。\n  - 取值为“Cluster”,表示GeminiDB Cassandra、GeminiDB Influx、GeminiDB Redis集群实例类型。\n  - 取值为“Sharding”,表示GeminiDB Mongo集群实例类型。\n  - 取值为“ReplicaSet”,表示GeminiDB Mongo副本集实例类型。\n  - 取值为“InfluxdbCluster”,表示GeminiDB Influx集群实例类型。\n  - 取值为“InfluxdbSingle”,表示GeminiDB Influx单节点实例类型。\n  - 取值为“RedisReplica”,表示GeminiDB Redis性能版实例类型。\n  - 取值为“Replication”,表示GeminiDB Redis主备版实例类型。","in":"query","name":"mode","type":"string"},{"description":"数据库类型。\n  - 取值为“cassandra”,表示查询GeminiDB Cassandra数据库实例。\n  - 取值为“mongodb”,表示查询GeminiDB Mongo数据库实例。\n  - 取值为“influxdb”,表示查询GeminiDB Influx数据库实例。\n  - 取值为“redis”,表示查询GeminiDB Redis数据库实例。\n  - 如果不传该参数,表示查询所有数据库实例。","in":"query","name":"datastore_type","type":"string"},{"description":"虚拟私有云ID,获取方法如下:\n  - 方法1:登录虚拟私有云服务的控制台界面,在虚拟私有云的详情页面查找VPC ID。\n  - 方法2:通过虚拟私有云服务的API接口查询,具体操作可参考查询VPC列表。","in":"query","name":"vpc_id","type":"string"},{"description":"子网的网络ID,获取方法如下:\n  - 方法1:登录虚拟私有云服务的控制台界面,单击VPC下的子网,进入子网详情页面,查找网络ID。\n  - 方法2:通过虚拟私有云服务的API接口查询,具体操作可参考查询子网列表。","in":"query","name":"subnet_id","type":"string"},{"description":"索引位置偏移量,表示从指定project ID下最新的实例创建时间开始,按时间的先后顺序偏移offset条数据后查询对应的实例信息。\n取值大于或等于0。不传该参数时,查询偏移量默认为0,表示从最新的实例创建时间对应的实例开始查询。","in":"query","name":"offset","type":"integer"},{"description":"查询实例个数上限值。\n取值范围:1~100。不传该参数时,默认查询前100条实例信息。","in":"query","name":"limit","type":"integer"}],"responses":{"200":{"description":"Success.","examples":{"application/json":{"instances":[{"actions":["CREATE"],"availability_zone":"cn-north-4a,cn-north-4b,cn-north-4c","backup_strategy":{"keep_days":7,"start_time":"16:00-17:00"},"created":"2019-01-17T07:05:52","datastore":{"patch_available":false,"type":"cassandra","version":"3.11","whole_version":"3.11.3"},"db_user_name":"rwuser","engine":"rocksDB","enterprise_project_id":"0","groups":{"id":"0b0ff12541794e1084f6827e424be2d6gr06","nodes":[{"availability_zone":"cn-north-4c","id":"233eaac9c6f245c0bb9c2d21eea12d1bno06","name":"nosql-efa6_priam_node_1","private_ip":"192.168.0.174","spec_code":"geminidb.cassandra.xlarge.4","status":"normal","subnet_id":"f1df08c5-71d1-406a-aff0-de435a51007b","support_reduce":false},{"availability_zone":"cn-north-4b","id":"d57d76d6320a4a7b86db82c317550c4ano06","name":"nosql-efa6_priam_node_2","private_ip":"192.168.0.175","spec_code":"geminidb.cassandra.xlarge.4","status":"normal","subnet_id":"f1df08c5-71d1-406a-aff0-de435a51007b","support_reduce":false},{"availability_zone":"cn-north-4a","id":"f46b0a1cf4d9400e9fd7af17f8742d37no06","name":"nosql-efa6_priam_node_3","private_ip":"192.168.0.176","spec_code":"geminidb.cassandra.xlarge.4","status":"normal","subnet_id":"f1df08c5-71d1-406a-aff0-de435a51007b","support_reduce":true}],"status":"creating","volume":{"size":10,"used":0.33}},"id":"8436a91546294036b75931e879882200in06","lb_ip_address":"192.168.11.145","lb_port":"8635","maintenance_window":"02:00-06:00","mode":"Cluster","name":"nosql-efa6","pay_mode":0,"port":"8635","region":"aaa","security_group_id":"7aa51dbf-5b63-40db-9724-dad3c4828b58","ssl":1,"status":"normal","subnet_id":"f1df08c5-71d1-406a-aff0-de435a51007b","time_zone":"","updated":"2019-01-17T07:05:47","vpc_id":"674e9b42-cd8d-4d25-a2e6-5abcc565b961"}],"total_count":1}},"schema":{"$ref":"#/definitions/ListInstancesResponseBody"}},"default":{"description":"Client or server error.","schema":{"$ref":"#/definitions/ErrorResponseBody"}}},"summary":"查询实例列表和详情","tags":["实例管理"],"x-constraint":"该接口支持如下数据库实例:\n  - GeminiDB Cassandra\n  - GeminiDB Mongo 副本集4.0\n  - GeminiDB Influx\n  - GeminiDB Redis","x-is-registered":"N","x-request-examples-description-1":"查询所有实例列表和详情","x-request-examples-description-2":"根据指定条件查询实例列表和详情","x-request-examples-url-1":"GET https://{endpoint}/v3/054e292c9880d4992f02c0196d3ea468/instances","x-request-examples-url-2":"GET https://{endpoint}/v3/054e292c9880d4992f02c0196d3ea468/instances?offset=0&limit=10&id=ed7cc6166ec24360a5ed5c5c9c2ed726in06&name=hy&mode=Cluster&datastore_type=cassandra&vpc_id=19e5d45d-70fd-4a91-87e9-b27e71c9891f&subnet_id=bd51fb45-2dcb-4296-8783-8623bfe89bb7","x-support-sdk":"Y"}}},"product_short":"GaussDBforNoSQL","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询实例列表和详情","tags":"实例管理","uri":null,"version":"2.0"}