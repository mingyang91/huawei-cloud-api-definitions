{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"ErrorResponseBody":{"properties":{"error_code":{"description":"错误码。","example":"DBS.200001","type":"string"},"error_msg":{"description":"错误消息。","example":"参数错误。","type":"string"}},"required":["error_code","error_msg"]},"ListInstanceSessionsResponseBody":{"properties":{"node_sessions":{"description":"节点的会话信息列表。","items":{"$ref":"#/definitions/ListNodeSessionsResult"},"type":"array"}},"required":["node_sessions"]},"ListNodeSessionsResult":{"properties":{"node_id":{"description":"节点ID。","type":"string"},"sessions":{"description":"节点会话详细信息列表。","items":{"properties":{"addr":{"description":"客户端的地址和端口。","example":"127.0.0.1:8080","type":"string"},"age":{"description":"以秒计算的已连接时长。","example":8888581,"type":"string"},"cmd":{"description":"最近一次执行的命令。","example":"get","type":"string"},"db":{"description":"该客户端正在使用的数据库ID。","example":0,"type":"string"},"fd":{"description":"套接字所使用的文件描述符。","example":1311,"type":"string"},"id":{"description":"会话ID。","example":254487,"type":"string"},"idle":{"description":"以秒计算的空闲时长。","example":8888581,"type":"string"},"multi":{"description":"在事务中被执行的命令数量。","example":-1,"type":"string"},"name":{"description":"连接名。","example":"cli","type":"string"},"psub":{"description":"已订阅模式的数量。","example":0,"type":"string"},"sub":{"description":"已订阅频道的数量。","example":0,"type":"string"}}},"type":"array"},"total_count":{"description":"总会话数。","example":1,"type":"integer"}},"required":["node_id"]}},"description":null,"group_id":"e59009abc8d6499f9f8dc004e69d73d7","host":"gaussdb-nosql.cn-north-4.myhuaweicloud.com","id":"997298033a414349b22ea475a1529f98","info_version":"v3","method":"get","name":"ListInstanceSessions","parameters":{},"paths":{"/v3/{project_id}/instances/{instance_id}/sessions":{"get":{"description":"获取实例的会话。","operationId":"ListInstanceSessions","parameters":[{"description":"租户在某一region下的project ID。获取方法请参见获取项目ID。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"实例ID。","in":"path","name":"instance_id","required":true,"type":"string"},{"description":"用户Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"节点ID。","in":"query","name":"node_id","required":false,"type":"string"}],"responses":{"200":{"description":"Success.","examples":{"application/json":{"node_sessions":[{"node_id":"8436a91546294036b75931e879882200in06","sessions":[{"addr":"127.0.0.1:8080","age":8888581,"cmd":"get","db":0,"fd":1311,"id":54487,"idle":8888581,"multi":-1,"name":"cli","psub":0,"sub":0}],"total_count":1},{"node_id":"8123sa46294daw13def423fw79882200in06","sessions":[{"addr":"127.0.0.1:8080","age":3124124,"cmd":"get","db":0,"fd":1312,"id":54488,"idle":4414141,"multi":-1,"name":"cli","psub":0,"sub":0}],"total_count":1}]}},"schema":{"$ref":"#/definitions/ListInstanceSessionsResponseBody"}},"400":{"description":"Client error.","schema":{"$ref":"#/definitions/ErrorResponseBody"}},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/ErrorResponseBody"}}},"summary":"获取实例的会话","tags":["连接管理"],"x-api-type":"open-api","x-apigateway-ratelimit":"nosql_default_policy","x-constraint":"- 该接口支持如下数据库实例。\n- GeminiDB Redis","x-is-registered":"Y","x-request-examples-description-1":"查询实例所有节点的会话信息","x-request-examples-description-2":"查询实例指定节点的会话信息","x-request-examples-url-1":"GET https://{endpoint}/v3/054e292c9880d4992f02c0196d3ea468/instances/e73893ef73754465a8bd2e0857bbf13ein12/sessions","x-request-examples-url-2":"GET https://{endpoint}/v3/054e292c9880d4992f02c0196d3ea468/instances/e73893ef73754465a8bd2e0857bbf13ein12/sessions?node_id=9d3288bbbb81448e8a99ff41a5717281no12","x-support-sdk":"Y"}}},"product_short":"GaussDBforNoSQL","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"获取实例的会话","tags":"连接管理","uri":null,"version":"2.0"}