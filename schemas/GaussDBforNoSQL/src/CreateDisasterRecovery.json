{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"ConstructDisasterRecoveryBody":{"properties":{"alias":{"description":"搭建容灾关系的别名。","type":"string"},"disaster_recovery_instance":{"$ref":"#/definitions/ConstructDisasterRecoveryInstance","description":"与当前实例建立容灾关系的容灾实例信息。","type":"object"},"id":{"description":"容灾ID。\n对容灾角色为主的实例下发搭建容灾接口时不传该参数,接口成功响应后返回生成的容灾ID。\n对容灾角色为备的实例下发建容灾接口时必传该参数,且必须与上述生成的容灾ID保持一致。","type":"string"},"instance_role":{"description":"指定当前实例的容灾角色。取值为master或slave,表示在容灾关系中角色为主或备。","type":"string"},"password":{"description":"建立容灾关系所需要的容灾密码,搭建同一容灾关系的两次调用容灾密码必须保持一致。 容灾密码为容灾集群内部数据通信所用,不能用于客户端连接使用。","type":"string"}},"required":["alias","password","instance_role","disaster_recovery_instance"]},"ConstructDisasterRecoveryInstance":{"properties":{"id":{"description":"容灾实例的ID。","type":"string"},"node_ips":{"description":"与当前实例建立容灾关系实例的所有节点的IP列表。","items":{"type":"string"},"type":"array"},"region_code":{"description":"容灾实例所在Region的code。","type":"string"},"subnet_cidrs":{"description":"与当前实例建立容灾关系实例所在子网的CIDR列表。","items":{"type":"string"},"type":"array"}},"required":["id","region_code","subnet_cidrs","node_ips"]},"ConstructDisasterRecoveryResponseBody":{"properties":{"disaster_recovery_id":{"description":"容灾ID。","type":"string"},"job_id":{"description":"搭建容灾关系的工作ID。","type":"string"}},"required":["job_id","disaster_recovery_id"]},"ErrorResponseBody":{"properties":{"error_code":{"description":"错误码。","example":"DBS.200001","type":"string"},"error_msg":{"description":"错误消息。","example":"参数错误。","type":"string"}},"required":["error_code","error_msg"]}},"description":null,"group_id":"e59009abc8d6499f9f8dc004e69d73d7","host":"gaussdb-nosql.cn-north-4.myhuaweicloud.com","id":"7a1b332408184bc6b47350b27c9fadd5","info_version":"v3","method":"post","name":"CreateDisasterRecovery","parameters":{},"paths":{"/v3/{project_id}/instances/{instance_id}/disaster-recovery/construction":{"post":{"description":"搭建实例与特定实例的容灾关系。 该接口需要对搭建容灾关系的两个实例分别各调用一次,2次接口都调用成功才能成功搭建容灾关系。","operationId":"CreateDisasterRecovery","parameters":[{"description":"用户Token。","in":"header","name":"x-auth-token","required":true,"type":"string","x-example":"******"},{"description":"租户在某一region下的project ID。","in":"path","name":"project_id","required":true,"type":"string","x-example":"619d3e78f61b4be68bc5aa0b59edcf7b"},{"description":"实例ID。","in":"path","name":"instance_id","required":true,"type":"string","x-example":"ee5589ad2a234b329f80dcfbe4676ad4in12"},{"description":"请求体。","in":"body","name":"ConstructDisasterRecoveryBody","required":true,"schema":{"$ref":"#/definitions/ConstructDisasterRecoveryBody"}}],"responses":{"202":{"description":"Success.","examples":{"application/json":{"disaster_recovery_id":"81f9b466-d6e0-4325-bc3e-18ba3d0d905f","job_id":"58b7579a-efea-3713-887c-4694234cbdc3"}},"schema":{"$ref":"#/definitions/ConstructDisasterRecoveryResponseBody"}},"default":{"description":"Client or server error.","schema":{"$ref":"#/definitions/ErrorResponseBody"}}},"summary":"搭建实例与特定实例的容灾关系","tags":["容灾管理"],"x-apigateway-ratelimit":"nosql_default_policy","x-constraint":"该接口支持GeminiDB Redis数据库实例。\nGeminiDB Redis主备版实例暂不支持该接口。\n搭建容灾实例的VPC CIDR非192网段,非172网段。","x-is-registered":"Y","x-request-examples-1":{"alias":"视频业务容灾","disaster_recovery_instance":{"id":"f90458c41aea4c26a9dcbb5740f2ff76in12","node_ips":["10.7.1.10","10.7.1.77","10.7.1.226"],"region_code":"cn-north-1","subnet_cidrs":["10.7.1.0/24"]},"instance_role":"master","operation":"construction","password":"******"},"x-request-examples-description-1":"搭建实例与特定实例的容灾关系。","x-request-examples-url-1":"POST https://{endpoint}/v3/0549b4a43100d4f32f51c01c2fe4acdb/instances/f90458c41aea4c26a9dcbb5740f2ff76in12/disaster-recovery/construction","x-support-sdk":"Y"}}},"product_short":"GaussDBforNoSQL","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"搭建实例与特定实例的容灾关系","tags":"容灾管理","uri":null,"version":"2.0"}