{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"Backup":{"description":"备份详情列表。","properties":{"begin_time":{"description":"备份开始时间,为yyyy-mm-ddThh:mm:ssZ字符串格式,T指某个时间的开始,Z指时区偏移量。","example":"2019-05-27T03:38:51+0000","type":"string"},"database_tables":{"description":"备份里的库表信息\n- 实例级查询时该字段为空,可忽略\n- 库表级查询时该字段非空(存在库表级备份的话)","items":{"$ref":"#/definitions/QueryDatabaseTableInfo"},"type":"array"},"datastore":{"$ref":"#/definitions/Datastore"},"description":{"description":"备份描述信息。","type":"string"},"end_time":{"description":"备份结束时间,为yyyy-mm-ddThh:mm:ssZ字符串格式,T指某个时间的开始,Z指时区偏移量。","example":"2019-05-27T03:38:51+0000","type":"string"},"id":{"description":"备份ID。","type":"string"},"instance_id":{"description":"备份所属的实例ID。","type":"string"},"instance_name":{"description":"备份所属的实例名称。","type":"string"},"name":{"description":"备份名称。","type":"string"},"size":{"description":"备份大小,单位:KB。","example":1233239900,"format":"double","type":"number"},"status":{"description":"备份状态。取值:\n- BUILDING:备份中。\n- COMPLETED:备份完成。\n- FAILED:备份失败。","example":"BUILDING","type":"string"},"type":{"description":"- 取值为“Auto”,表示自动全量备份。\n- 取值为“Manual”,表示手动全量备份。","type":"string"}},"required":["id","description","instance_id","instance_name","datastore","name","type","size","status","begin_time","end_time"],"type":"object"},"Datastore":{"description":"数据库版本信息。","properties":{"type":{"description":"数据库类型。","example":"cassandra","type":"string"},"version":{"description":"数据库版本。","example":"3.2.18","type":"string"}},"required":["type","version"],"type":"object"},"QueryBackupResponse":{"description":"备份库表信息","properties":{"backups":{"items":{"$ref":"#/definitions/Backup"},"type":"array"},"total_count":{"description":"备份总数量。","type":"integer"}},"required":["total_count","backups"]},"QueryDatabaseTableInfo":{"description":"备份里的库表信息。\n- 为空表示实例级查询\n- 非空表示库表级查询","properties":{"database_name":{"description":"数据库名称。","example":"databaseNameA","type":"string"},"table_names":{"description":"表名称列表。\n- table_names为空的时候,表示库级别查询。\n- table_names非空的时候,表示表级别查询。","example":["TABLE_A","TABLE_B"],"items":{"type":"string"},"type":"array"}},"required":["database_name"],"type":"object"}},"description":null,"group_id":"e59009abc8d6499f9f8dc004e69d73d7","host":"gaussdb-nosql.cn-north-4.myhuaweicloud.com","id":"e66245e45dde4039a070a94e29da1fa0","info_version":"v3","method":"get","name":"ListBackups","parameters":{},"paths":{"/v4/{project_id}/backups":{"get":{"description":"根据指定条件查询备份列表。","operationId":"ListBackups","parameters":[{"description":"参数解释:\n租户在某一region下的project ID。\n约束限制:\n不涉及。\n取值范围:\n不涉及。\n默认取值:\n不涉及。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"参数解释:\n实例ID,可以调用“查询实例列表”接口获取。如果未申请实例,可以调用“创建实例”接口创建。\n约束限制:\n不涉及。\n取值范围:\n不涉及。\n默认取值:\n不涉及。","in":"query","name":"instance_id","required":false,"type":"string"},{"description":"参数解释:\n数据库类型。\n约束限制:\n不涉及。\n取值范围:\n不涉及。\n默认取值:\n - cassandra\n - redis\n - mongodb\n - influxdb","in":"query","name":"datastore_type","required":false,"type":"string"},{"description":"备份ID。","in":"query","name":"backup_id","required":false,"type":"string"},{"description":"参数解释:\n备份类型,大小写敏感。\n约束限制:\n不涉及。\n取值范围:\n - 取值为“Auto”,表示自动全量备份。\n - 取值为“Manual”,表示手动全量备份。\n - 当该字段未传入值时,默认只查询所有的全量备份(包含库表级),包括自动全备备份和手动全量备份。\n默认取值:\n不涉及。","in":"query","name":"backup_type","required":false,"type":"string"},{"description":"参数解释:\n备份策略类型。\n约束限制:\n不涉及。\n取值范围:\n - Instance 表示查询实例级备份。\n - DatabaseTable 表示查询库表级备份。\n默认取值:\n Instance。","in":"query","name":"type","required":false,"type":"string","x-example":true},{"description":"参数解释:\n查询备份个数上限值。\n约束限制:\n不涉及。\n取值范围:\n1~100。\n默认取值:\n不传该参数时,默认查询前100条实例信息。","in":"query","maximum":100,"minimum":1,"name":"limit","required":false,"type":"integer"},{"description":"参数解释:\n索引位置偏移量,表示从指定project ID下最新的备份创建时间开始,按时间的先后顺序偏移offset条数据后查询对应的备份信息。\n约束限制:\n取值大于或等于0。\n取值范围:\n取值大于或等于0。\n默认取值:\n不传该参数时,查询偏移量默认为0,表示从最新的备份创建时间对应的备份开始查询。","in":"query","minimum":0,"name":"offset","required":false,"type":"integer"},{"description":"参数解释:\n查询备份开始的时间,为yyyy-mm-ddThh:mm:ssZ字符串格式,T指某个时间的开始,Z指时区偏移量。\n约束限制:\n- “end_time”有值时,“begin_time”必选。\n取值范围:\n不涉及。\n默认取值:\n默认为空。","in":"query","name":"begin_time","required":false,"type":"string"},{"description":"参数解释:\n查询备份开始的结束时间,为yyyy-mm-ddThh:mm:ssZ字符串格式,T指某个时间的开始,Z指时区偏移量。\n约束限制:\n- “begin_time”有值时,“end_time”必选。\n取值范围:\n不涉及。\n默认取值:\n默认为空。","in":"query","name":"end_time","required":false,"type":"string"},{"description":"参数解释:\n用户认证token。\n约束限制:\n不涉及。\n取值范围:\n不涉及。\n默认取值:\n不涉及。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"*******"}],"responses":{"200":{"description":"查询备份文件中的备份信息","examples":{"application/json":{"backups":[{"begin_time":"2019-05-27T03:38:51+0000","database_tables":[{"database_name":"DATABASE_X","table_names":["TABLE_A","TABLE_B","TABLE_C"]},{"database_name":"DATABASE_Y","table_names":null}],"datastore":{"type":"cassandra","version":"3.4"},"description":"backup description","end_time":"2019-05-27T03:39:51+0000","id":"43e4feaab48f11e89039fa163ebaa7e4br01","instance_id":"43e4feaab48f11e89039fa163ebaa7e4br01","instance_name":"cluster-test","name":"backup-test","size":2803,"status":"COMPLETED","type":"Auto"},{"begin_time":"2019-05-27T03:38:51+0000","database_tables":[{"database_name":"DATABASE_X","table_names":["TABLE_A","TABLE_B","TABLE_C"]},{"database_name":"DATABASE_Y","table_names":null}],"datastore":{"type":"cassandra","version":"3.4"},"description":"backup description","end_time":"2019-05-27T03:39:51+0000","id":"43e4feaab48f11e89039fa163ebaa7e4br02","instance_id":"43e4feaab48f11e89039fa163ebaa7e4br02","instance_name":"cluster-test","name":"backup-test-2","size":2803,"status":"COMPLETED","type":"Manual"}],"total_count":4}},"schema":{"$ref":"#/definitions/QueryBackupResponse"}}},"summary":"查询备份列表(推荐)","tags":["备份与恢复"],"x-api-type":"open-api","x-is-registered":"Y","x-request-examples-url-1":"GET https://console-datebase.huaweiclouds.com/v4/054b61972980d4552f0bc00ac8d3f5cd/backups?instance_id=c0c9f155c7b7423a9d30f0175998b63bin06&offset=2&limit=2&begin_time=2019-05-27T03:38:51+0000&end_time=2019-05-28T03:38:51+0000&type=DatabaseTable","x-support-sdk":"Y"}}},"product_short":"GaussDBforNoSQL","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询备份列表(推荐)","tags":"备份与恢复","uri":null,"version":"2.0"}