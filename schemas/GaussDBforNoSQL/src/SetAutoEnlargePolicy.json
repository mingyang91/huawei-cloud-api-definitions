{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"DiskAutoExpansionPolicy":{"properties":{"size":{"description":"实例通过自动扩容所能达到的存储空间上限,单位:GB。需要大于等于实例购买的存储空间大小,且最大上限不能超过实例当前规格支持的最大存储容量。批量自动扩容时,不支持自定义存储自动扩容上限,默认扩容至所选实例对应的最大存储空间。","format":"int32","type":"integer"},"step":{"description":"扩容步长(s%),默认为10,支持输入10、15和20。当触发自动扩容的时候,自动扩容当前存储空间的s%(非10倍数向上取整。小数点后四舍五入,默认一次最小100G,账户余额不足时,会导致包年包月实例扩容失败)","format":"int32","type":"integer"},"threshold":{"description":"触发自动扩容阈值,只支持输入80、85和90。默认阈值为90,即当已使用存储空间达到总存储空间的90%或者可用空间小于10GB时就会触发扩容。","format":"int32","type":"integer"}},"type":"object"},"ErrorResponseBody":{"properties":{"error_code":{"description":"错误码。","example":"DBS.200001","type":"string"},"error_msg":{"description":"错误消息。","example":"参数错误。","type":"string"}},"required":["error_code","error_msg"]},"SetAutoPolicyRequestBody":{"properties":{"instance_ids":{"description":"设置磁盘自动扩容的实例组ID。","items":{"type":"string"},"type":"array"},"policy":{"description":"磁盘自动扩容策略","items":{"$ref":"#/definitions/DiskAutoExpansionPolicy"},"type":"array"},"switch_option":{"description":"自动扩容开关。\n\t“on”,表示开启磁盘自动扩容策略。\n\t“off”,表示关闭磁盘自动扩容策略。\n默认值为“on”。","type":"string"}},"required":["instance_ids","policy"],"type":"object"}},"description":null,"group_id":"e59009abc8d6499f9f8dc004e69d73d7","host":"gaussdb-nosql.cn-north-4.myhuaweicloud.com","id":"ab92f0b228624148a9803d645265f4ce","info_version":"v3","method":"put","name":"SetAutoEnlargePolicy","parameters":{},"paths":{"/v3/{project_id}/instances/disk-auto-expansion":{"put":{"description":"设置磁盘自动扩容策略。","operationId":"SetAutoEnlargePolicy","parameters":[{"description":"租户在某一region下的project ID。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"用户token","in":"header","name":"x-auth-token","required":true,"type":"string"},{"description":"请求ID。","in":"body","name":"SetAutoEnlargePolicyRequest","required":true,"schema":{"$ref":"#/definitions/SetAutoPolicyRequestBody"}}],"responses":{"204":{"description":"No Content"},"default":{"description":"Client or server error.","schema":{"$ref":"#/definitions/ErrorResponseBody"}}},"summary":"设置磁盘自动扩容策略","tags":["实例管理"],"x-constraint":"该接口支持如下数据库实例。\n- GeminiDB Cassandra\n\n包周期用户默认自动扣费\n\n账户需要有足够的余额,才可进行自动扩容。","x-is-registered":"N","x-request-examples-1":{"instance_ids":["93e4b3eda14349b1b870f72829bc3b9bin06"],"policy":{"size":600,"step":10,"threshold":90}},"x-request-examples-2":{"instance_ids":["93e4b3eda14349b1b870f72829bc3b9bin06"],"policy":{"size":600,"step":10,"threshold":90},"switch_option":[false]},"x-request-examples-text-1":{"instance_ids":["93e4b3eda14349b1b870f72829bc3b9bin06"],"policy":{"size":600,"step":10,"threshold":90}},"x-request-examples-text-2":{"instance_ids":["93e4b3eda14349b1b870f72829bc3b9bin06"],"policy":{"size":600,"step":10,"threshold":90},"switch_option":[false]},"x-request-examples-url-1":"PUT https://{endpoint}/v3/619d3e78f61b4be68bc5aa0b59edcf7b/instances/disk-auto-expansion","x-request-examples-url-2":"PUT https://{endpoint}/v3/619d3e78f61b4be68bc5aa0b59edcf7b/instances/disk-auto-expansion","x-support-sdk":"Y"}}},"product_short":"GaussDBforNoSQL","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"设置磁盘自动扩容策略","tags":"实例管理","uri":null,"version":"2.0"}