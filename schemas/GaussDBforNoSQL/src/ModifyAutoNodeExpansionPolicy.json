{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"ModifyAutoNodeExpansionPolicyRequestBody":{"properties":{"cpu_threshold":{"description":"**参数解释:**\n触发节点自动扩容的CPU使用率。\n**约束限制:**\n不涉及。\n**取值范围:**\n1-100的正整数\n**默认取值:**\n默认为80。","format":"int32","type":"integer"},"mem_threshold":{"description":"**参数解释:**\n触发节点自动扩容的内存使用率。\n**约束限制:**\n不涉及。\n**取值范围:**\n1-100的数字\n**默认取值:**\n默认为80。","format":"int32","type":"integer"},"node_limit":{"description":"**参数解释:**\n自动扩容所能达到的节点上限。\n**约束限制:**\n不涉及。\n**取值范围:**\n大等于1的正整数,最大不超过当前实例可扩容的节点上限。\n**默认取值:**\n默认为当前实例可扩容的节点上限。","format":"int32","type":"integer"},"overload_node_threshold":{"description":"**参数解释:**\n超负载节点比例。如当前实例3个节点,需要当2个节点满足阈值时触发扩容,因2÷3≈67%,可设置为67(向上取整)\n**约束限制:**\n不涉及。\n**取值范围:**\n1-100的正整数。\n**默认取值:**\n不涉及。","format":"int32","type":"integer"},"step":{"description":"**参数解释:**\n每次扩容的节点个数。\n**约束限制:**\n不涉及。\n**取值范围:**\n大等于1的正整数,最大不超过可扩容的节点上限。\n**默认取值:**\n默认为3。","format":"int32","type":"integer"},"switch_option":{"description":"**参数解释:**\n节点扩容是否开启。\n**约束限制:**\n不涉及。\n**取值范围:**\n  true为开启。\n  false为关闭。\n**默认取值:**\n不涉及。","type":"boolean"}},"required":["switch_option"],"type":"object"}},"description":null,"group_id":"e59009abc8d6499f9f8dc004e69d73d7","host":"gaussdb-nosql.cn-north-4.myhuaweicloud.com","id":"58b3d75ac18940cba7495a6f630fdef8","info_version":"v3","method":"put","name":"ModifyAutoNodeExpansionPolicy","parameters":{},"paths":{"/v3/{project_id}/instances/{instance_id}/node-auto-expansion-policy":{"put":{"description":"设置节点自动扩容策略。","operationId":"ModifyAutoNodeExpansionPolicy","parameters":[{"description":"**参数解释:**\n租户在某一Region下的项目ID。请参考获取项目ID章节获取项目编号。\n**约束限制:**\n不涉及。\n**取值范围:**\n不涉及。\n**默认取值:**\n不涉及。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"**参数解释:**\n实例ID。\n**约束限制:**\n不涉及。\n**取值范围:**\n不涉及。\n**默认取值:**\n不涉及。","in":"path","name":"instance_id","required":true,"type":"string"},{"description":"**参数解释:**\n用户Token。\n**约束限制:**\n不涉及。\n**取值范围:**\n不涉及。\n**默认取值:**\n不涉及。","in":"header","name":"X-Auth-token","required":false,"type":"string"},{"description":"**参数解释:**\n语言。\n**约束限制:**\n不涉及。\n**取值范围:**\n不涉及。\n**默认取值:**\n不涉及。","in":"header","name":"X-Language","type":"string","x-example":"zh-cn"},{"description":"请求体。","in":"body","name":"ModifyAutoNodeExpansionPolicyRequestBody","required":true,"schema":{"$ref":"#/definitions/ModifyAutoNodeExpansionPolicyRequestBody"}}],"produces":["application/json"],"responses":{"200":{"description":"Success."}},"summary":"设置节点自动扩容策略","tags":["实例管理"],"x-api-type":"open-api","x-constraint":"该接口支持GeminiDB Cassandra数据库实例。\n该接口支持按需和包周期实例。\n包周期用户默认自动扣费。\n账户需要有足够的余额,才可进行自动扩容。\n实例状态非“normal”时,不允许设置节点自动扩容策略。","x-is-registered":"Y","x-request-examples-1":{"cpu_threshold":"80","mem_threshold":"80","node_limit":"10","overload_node_threshold":"50","step":"3","switch_option":"true"},"x-request-examples-description-1":"设置节点自动扩容策略为:当大等于30%的节点,节点内存使用率≥80%或cpu使用率≥80%时,自动扩容3个节点,最大扩容至10个节点。","x-request-examples-text-1":{"cpu_threshold":"80","mem_threshold":"80","node_limit":"10","overload_node_threshold":"50","step":"3","switch_option":"true"},"x-request-examples-url-1":"PUT https://{endpoint}/v3/054e292c9880d4992f02c0196d3ea468/instances/3d39c18788b54a919bab633874c159dfin02/auto-node-expansion-policy","x-support-sdk":"Y"}}},"product_short":"GaussDBforNoSQL","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"设置节点自动扩容策略","tags":"实例管理","uri":null,"version":"2.0"}