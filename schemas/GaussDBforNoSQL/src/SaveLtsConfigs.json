{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"ErrorResponseBody":{"properties":{"error_code":{"description":"错误码。","example":"DBS.200001","type":"string"},"error_msg":{"description":"错误消息。","example":"参数错误。","type":"string"}},"required":["error_code","error_msg"]},"SaveLtsConfigsRequestBody":{"properties":{"instance_ids":{"description":"需要建立关联的实例ID列表。","items":{"type":"string"},"type":"array"},"log_type":{"description":"日志类型。slow_log表示慢日志。","enum":["slow_log"],"type":"string"},"lts_group_id":{"description":"LTS日志组ID。可通过云日志服务-“查询账号下所有日志组”API接口获取。","type":"string"},"lts_stream_id":{"description":"LTS日志流ID。可通过云日志服务-“查询指定日志组下的所有日志流”API接口获取。","type":"string"}},"required":["instance_ids","log_type","lts_group_id","lts_stream_id"]}},"description":null,"group_id":"e59009abc8d6499f9f8dc004e69d73d7","host":"gaussdb-nosql.cn-north-4.myhuaweicloud.com","id":"e32a0586560641ea99e527213ca13bec","info_version":"v3","method":"post","name":"SaveLtsConfigs","parameters":{},"paths":{"/v3/{project_id}/instances/logs/lts-configs":{"post":{"description":"- 将实例日志与LTS日志流关联,后台将自动上传实例日志到关联的LTS日志流里。\n- 关联成功后,会产生一定费用,具体计费可参考云日志服务(LTS)的定价详情。\n- 系统会为当前选择的日志流创建对应日志类型的结构化配置,若该日志流已存在其他日志类型的结构化配置,系统会进行覆盖。","operationId":"SaveLtsConfigs","parameters":[{"description":"用户Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"******"},{"description":"语言。","in":"header","name":"X-Language","type":"string","x-example":"zh-cn"},{"description":"租户在某一region下的project ID。","in":"path","name":"project_id","required":true,"type":"string","x-example":"619d3e78f61b4be68bc5aa0b59edcf7b"},{"description":"请求体。","in":"body","name":"SaveLtsConfigsRequestBody","required":true,"schema":{"$ref":"#/definitions/SaveLtsConfigsRequestBody"}}],"responses":{"200":{"description":"Success."},"default":{"description":"Client or server error.","schema":{"$ref":"#/definitions/ErrorResponseBody"}}},"summary":"关联LTS日志流","tags":["日志管理"],"x-constraint":"- 仅支持GeminiDB Redis所有部署模式数据库实例的慢日志配置。\n- 仅支持GeminiDB Redis经典部署模式Proxy集群类型、主备类型实例和GeminiDB Mongo数据库实例的审计日志配置。\n- 部分低版本的实例需要升级内核小版本以支持审计日志配置功能。\n- 创建中、已删除、冻结状态的实例不支持该操作。\n- 最大支持100条数据。","x-is-registered":"Y","x-request-examples-1":{"instance_ids":["fe45815ce8a6413ab7fa290da1db1614in12","362b42f769ff45d884e1866f8ee00bb4in12"],"log_type":"slow_log","lts_group_id":"65442dd4-b8de-4e9f-8a80-b60aa0698354","lts_stream_id":"5992dd29-fd11-4228-a852-5f6e578789c5"},"x-request-examples-url-1":"POST https://{endpoint}/v3/0549b4a43100d4f32f51c01c2fe4acdb/instances/logs/lts-configs","x-support-sdk":"Y"}}},"product_short":"GaussDBforNoSQL","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"关联LTS日志流","tags":"日志管理","uri":null,"version":"2.0"}