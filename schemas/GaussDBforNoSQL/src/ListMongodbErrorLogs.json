{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"ErrorResponseBody":{"properties":{"error_code":{"description":"错误码。","example":"DBS.200001","type":"string"},"error_msg":{"description":"错误消息。","example":"参数错误。","type":"string"}},"required":["error_code","error_msg"]},"ListMongodbErrorLogsRequestBody":{"properties":{"end_time":{"description":"结束时间,格式为“yyyy-mm-ddThh:mm:ssZ”。\n其中,T指某个时间的开始;Z指时区偏移量,例如北京时间偏移显示为+0800。注:结束时间不能晚于当前时间。","type":"string"},"keywords":{"description":"根据多个关键字搜索日志全文,表示同时匹配所有关键字。\n- 最多支持10个关键字。\n- 每个关键字最大长度不超过512个字符。","items":{"type":"string"},"type":"array"},"limit":{"description":"表示每次查询的日志条数,最大限制100条。","type":"integer"},"line_num":{"description":"日志单行序列号,第一次查询时不需要此参数,下一次查询时需要使用,可从上一次查询的返回信息中获取。\n说明:当次查询从line_num的下一条日志开始查询,不包含当前line_num日志。","type":"string"},"node_id":{"description":"节点ID,取空值,表示查询实例下所有允许查询的节点。\n具体取值请参考查询实例列表和详情接口\"ListInstances\"中nodes字段数据结构说明的“id”。","type":"string"},"severity":{"description":"日志级别,取空值,表示查询所有日志级别的日志。","enum":["Warning","Error"],"type":"string"},"start_time":{"description":"开始时间,格式为“yyyy-mm-ddThh:mm:ssZ”。\n其中,T指某个时间的开始;Z指时区偏移量,例如北京时间偏移显示为+0800。注:开始时间不得早于当前时间30天。","type":"string"}},"required":["start_time","end_time","limit"]},"ListMongodbErrorLogsResponseBody":{"properties":{"error_logs":{"description":"错误日志具体信息。","items":{"$ref":"#/definitions/MongodbErrorLogDetail"},"type":"array"}},"required":["error_logs"]},"MongodbErrorLogDetail":{"properties":{"line_num":{"description":"日志单行序列号","example":"1595659490239433658","type":"string"},"log_time":{"description":"日志产生时间,UTC时间。\n格式为“yyyy-mm-ddThh:mm:ssZ”。 其中,T指某个时间的开始;Z指时区偏移量,例如北京时间偏移显示为+0800。","example":"2020-11-15T22:49:38.643000Z","type":"string"},"node_id":{"description":"节点ID。","example":"8b76c35e91eb4c9d82fe25417d750cb5no06","type":"string"},"node_name":{"description":"节点名称。","example":"test_priam_node_1","type":"string"},"raw_message":{"description":"描述信息。","example":"testDb","type":"string"},"severity":{"description":"日志级别。","example":"Warning","type":"string"}},"required":["node_name","node_id","raw_message","severity","log_time","line_num"],"type":"object"}},"description":null,"group_id":"e59009abc8d6499f9f8dc004e69d73d7","host":"gaussdb-nosql.cn-north-4.myhuaweicloud.com","id":"86582d14123e491e8f74a2dab17bd7c4","info_version":"v3","method":"post","name":"ListMongodbErrorLogs","parameters":{},"paths":{"/v3/{project_id}/mongodb/instances/{instance_id}/error-logs":{"post":{"description":"查询GeminiDB(for Mongo)数据库错误日志信息,支持日志关键字搜索。","operationId":"ListMongodbErrorLogs","parameters":[{"description":"用户Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"******"},{"description":"租户在某一region下的project ID。","in":"path","name":"project_id","required":true,"type":"string","x-example":"619d3e78f61b4be68bc5aa0b59edcf7b"},{"description":"实例ID,可以调用“查询实例列表和详情”接口获取。如果未申请实例,可以调用“创建实例”接口创建。","in":"path","name":"instance_id","required":true,"type":"string","x-example":"916de02c35fe4abaa3e707ebd916d3f8in10"},{"description":"请求体。","in":"body","name":"ListMongodbErrorLogsRequestBody","required":true,"schema":{"$ref":"#/definitions/ListMongodbErrorLogsRequestBody"}}],"responses":{"200":{"description":"Success.","examples":{"application/json":{"error_logs":[{"line_num":"1595659490239433659","log_time":"2023-01-09T12:55:39.398+0000","node_id":"dfe41edcb2a1483c96ddf61cc0cee237no10","node_name":"test_replica_node_1","raw_message":"W TEST [test001] test error log","severity":"Warning"}]}},"schema":{"$ref":"#/definitions/ListMongodbErrorLogsResponseBody"}},"default":{"description":"Client or server error.","schema":{"$ref":"#/definitions/ErrorResponseBody"}}},"summary":"查询GeminiDB(for Mongo)数据库错误日志","tags":["日志管理"],"x-constraint":"- 不支持使用 &&、||、AND、OR、NOT、*、?、:、>、<、=、>=、<= 这些关键字来搜索日志。\n- 每页查询最大限制100条,错误日志最多保存30天。","x-is-registered":"Y","x-request-examples-1":{"end_time":"2023-01-10T10:41:14+0800","keywords":["error"],"limit":100,"line_num":"1595659490239433658","node_id":"dfe41edcb2a1483c96ddf61cc0cee237no10","severity":"Warning","start_time":"2023-01-06T10:41:14+0800"},"x-request-examples-description-1":"","x-request-examples-url-1":"POST https://{endpoint}/v3/619d3e78f61b4be68bc5aa0b59edcf7b/mongodb/instances/916de02c35fe4abaa3e707ebd916d3f8in10/error-logs","x-support-sdk":"Y"}}},"product_short":"GaussDBforNoSQL","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询GeminiDB(for Mongo)数据库错误日志","tags":"日志管理","uri":null,"version":"2.0"}