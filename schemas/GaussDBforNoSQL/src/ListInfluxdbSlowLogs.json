{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"ErrorResponseBody":{"properties":{"error_code":{"description":"错误码。","example":"DBS.200001","type":"string"},"error_msg":{"description":"错误消息。","example":"参数错误。","type":"string"}},"required":["error_code","error_msg"]},"InfluxdbSlowLogDetail":{"properties":{"cost_time":{"description":"执行时间。单位:ms","type":"string"},"database":{"description":"数据库名称。","type":"string"},"line_num":{"description":"日志单行序列号。","type":"string"},"log_time":{"description":"日志产生时间,UTC时间。 格式为“yyyy-mm-ddThh:mm:ssZ”。 其中,T指某个时间的开始;Z指时区偏移量,例如北京时间偏移显示为+0800。","type":"string"},"node_id":{"description":"节点ID。","type":"string"},"node_name":{"description":"节点名称。","type":"string"},"operate_type":{"description":"语句类型。","type":"string"},"retention_policy":{"description":"保留策略。","type":"string"},"whole_message":{"description":"执行语句。","type":"string"}},"required":["node_id","node_name","whole_message","operate_type","cost_time","log_time","database","retention_policy","line_num"],"type":"object"},"ListInfluxdbSlowLogsRequestBody":{"description":"查询Influxdb慢日志请求体","properties":{"database":{"description":"数据库名称。","type":"string"},"end_time":{"description":"结束时间,格式为“yyyy-mm-ddThh:mm:ssZ”。\n其中,T指某个时间的开始;Z指时区偏移量,例如北京时间偏移显示为+0800。注:结束时间不能晚于当前时间。","type":"string"},"keywords":{"description":"根据多个关键字搜索日志全文,表示同时匹配所有关键字。 - 最多支持10个关键字。 - 每个关键字最大长度不超过512个字符。","type":"string"},"limit":{"description":"表示每次查询的日志条数,最大限制100条。","type":"integer"},"line_num":{"description":"日志单行序列号,第一次查询时不需要此参数,下一次查询时需要使用,可从上一次查询的返回信息中获取。 说明:当次查询从line_num的下一条日志开始查询,不包含当前line_num日志。","type":"string"},"max_cost_time":{"description":"支持根据最大执行时间范围查找日志。单位:ms","type":"integer"},"min_cost_time":{"description":"支持根据最小执行时间范围查找日志。单位:ms","type":"integer"},"node_id":{"description":"节点ID,取空值,表示查询实例下所有允许查询的节点。 具体取值请参考查询实例列表和详情接口\"ListInstances\"中nodes字段数据结构说明的“id”。","type":"string"},"operate_type":{"description":"语句类型,取空值,表示查询所有语句类型。\n可取值:SELECT、DELETE 、SHOW 、DROP 、CREATE 、ALTER","type":"string"},"retention_policy":{"description":"保留策略。","type":"string"},"start_time":{"description":"开始时间,格式为“yyyy-mm-ddThh:mm:ssZ”。\n其中,T指某个时间的开始;Z指时区偏移量,例如北京时间偏移显示为+0800。注:开始时间不得早于当前时间30天。","type":"string"}},"required":["start_time","end_time","limit"],"type":"object"},"ListInfluxdbSlowLogsResponseBody":{"properties":{"slow_logs":{"description":"Influxdb慢日志列表","items":{"$ref":"#/definitions/InfluxdbSlowLogDetail"},"type":"array"}},"required":["slow_logs"],"type":"object"}},"description":null,"group_id":"e59009abc8d6499f9f8dc004e69d73d7","host":"gaussdb-nosql.cn-north-4.myhuaweicloud.com","id":"8140fbf1d79a41b5818f617916078f96","info_version":"v3","method":"post","name":"ListInfluxdbSlowLogs","parameters":{},"paths":{"/v3/{project_id}/influxdb/instances/{instance_id}/slow-logs":{"post":{"description":"查询GeminiDB(for influxdb)数据库慢日志信息,支持日志关键字搜索。","operationId":"ListInfluxdbSlowLogs","parameters":[{"description":"用户Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"******"},{"description":"租户在某一region下的project ID。","in":"path","name":"project_id","required":true,"type":"string","x-example":"619d3e78f61b4be68bc5aa0b59edcf7b"},{"description":"实例ID,可以调用“查询实例列表和详情”接口获取。如果未申请实例,可以调用“创建实例”接口创建。","in":"path","name":"instance_id","required":true,"type":"string","x-example":"a6d3c8a9857b4c81b3c1fe4802dfa4d0in13"},{"description":"请求体。","in":"body","name":"ListInfluxdbSlowLogsRequestBody","required":true,"schema":{"$ref":"#/definitions/ListInfluxdbSlowLogsRequestBody"}}],"responses":{"200":{"description":"Success.","examples":{"application/json":{"slow_logs":[{"cost_time":60.12,"line_num":"1595659490239433659","log_time":"2022-09-15T22:49:38.643000Z","node_id":"dbd0b65ed0c34125a0b04d4e5ba67e66no02","node_name":"test_worker_node_1","operate_type":"set","whole_message":"GqKc6_S"}]}},"schema":{"$ref":"#/definitions/ListInfluxdbSlowLogsResponseBody"}},"default":{"description":"Client or server error.","schema":{"$ref":"#/definitions/ErrorResponseBody"}}},"summary":"查询GeminiDB(for influxdb)数据库慢日志","tags":["日志管理"],"x-constraint":"- 在入参start_time和end_time的时间段内。\n- 当次查询的日志起始行号line_num须从上一次查询的日志返回信息中获取,第一次查询可不传。\n- 每页查询最大限制100条。\n- 慢日志最多保存30天。","x-is-registered":"Y","x-request-examples-1":{"end_time":"2022-09-16T10:41:14+0800","keywords":["log","test"],"limit":100,"line_num":"1595659490239433658","max_cost_time":100.12,"min_cost_time":50.12,"node_id":"2997329fe3cb4b3faedcade16df6966eno12","operate_type":"set","start_time":"2022-09-06T10:41:14+0800"},"x-request-examples-description-1":"","x-request-examples-url-1":"POST https://{endpoint}/v3/619d3e78f61b4be68bc5aa0b59edcf7b/redis/instances/a6d3c8a9857b4c81b3c1fe4802dfa4d0in12/slow-logs","x-support-sdk":"Y"}}},"product_short":"GaussDBforNoSQL","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询GeminiDB(for influxdb)数据库慢日志","tags":"日志管理","uri":null,"version":"2.0"}