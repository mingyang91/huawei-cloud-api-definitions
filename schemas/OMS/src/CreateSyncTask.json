{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CreateSyncTaskReq":{"description":"创建同步请求body体","properties":{"app_id":{"description":"当源端为腾讯云时,需要填写此参数。","maxLength":255,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string"},"consistency_check":{"default":"size_last_modified","description":"一致性校验方式,用于迁移前/后校验对象是否一致,所有校验方式需满足源端/目的端对象的加密状态一致,具体校验方式和校验结果可通过对象列表查看。默认size_last_modified。\nsize_last_modified:默认配置。迁移前后,通过对比源端和目的端对象大小+最后修改时间,判断对象是否已存在或迁移后数据是否完整。源端与目的端同名对象大小相同,且目的端对象最后修改时间晚于源端对象最后修改时间,则代表该对象已存在/迁移成功。\ncrc64:目前仅支持华为/阿里/腾讯。迁移前后,通过对比源端和目的端对象元数据中CRC64值是否相同,判断对象是否已存在/迁移完成。如果源端与目的端对象元数据中不存在CRC64值,则系统会默认使用大小/最后修改时间校验方式来校验。\ntransmission:目前仅支持HTTP/HTTPS数据源。当源端对象无法通过标准http协议中content-length字段获取数据大小时,默认数据下载成功即迁移成功,不对数据做额外校验,且迁移时源端对象默认覆盖目的端同名对象。当源端对象能正常通过标准http协议中content-length字段获取数据大小时,则采用大小/最后修改时间校验方式来校验。","enum":["size_last_modified","crc64","transmission"],"example":"size_last_modified","type":"string"},"description":{"description":"任务描述,不能超过255个字符,且不能包含<>()\"'&等特殊字符。","maxLength":255,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string"},"dst_ak":{"description":"目的端桶的AK(最大长度100个字符)。","maxLength":100,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string"},"dst_bucket":{"description":"目的端桶名","maxLength":1024,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string"},"dst_region":{"description":"目的端region","maxLength":100,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string"},"dst_sk":{"description":"目的端桶的SK(最大长度100个字符)。","maxLength":100,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string"},"enable_kms":{"default":false,"description":"是否开启KMS加密,默认不开启。","type":"boolean","x-annotations":""},"enable_metadata_migration":{"default":false,"description":"是否启用元数据迁移,默认否。不启用时,为保证迁移任务正常运行,仍将为您迁移ContentType元数据。","example":false,"type":"boolean","x-annotations":""},"enable_restore":{"default":false,"description":"是否自动解冻归档数据,默认否。\n\n开启后,如果遇到归档类型数据,会自动解冻再进行迁移。","type":"boolean","x-annotations":""},"source_cdn":{"$ref":"#/definitions/SourceCdnReq","description":"指定是否启用CDN迁移支持,若包含此字段则为支持,否则为不支持,启用CDN迁移支持后,迁移时将从CDN域名获取源端对象。"},"src_ak":{"description":"源端桶的AK(最大长度100个字符)。","maxLength":100,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string"},"src_bucket":{"description":"源端桶名","maxLength":1024,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string"},"src_cloud_type":{"default":"Aliyun","description":"源端云服务提供商。\n\n可选值有AWS、Azure、Aliyun、Tencent、HuaweiCloud、QingCloud、KingsoftCloud、Baidu、Qiniu、Cloud。默认值为Aliyun。","pattern":"^(AWS|Azure|Aliyun|Tencent|HuaweiCloud|QingCloud|KingsoftCloud|Baidu|Qiniu|UCloud)$","type":"string","x-annotations":""},"src_region":{"description":"源端桶所处的区域","maxLength":100,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string"},"src_sk":{"description":"源端桶的SK(最大长度100个字符)。","maxLength":100,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string"}},"required":["src_region","src_bucket","src_ak","src_sk","dst_ak","dst_sk","dst_region","dst_bucket"],"type":"object"},"CreateSyncTaskResp":{"description":"创建同步任务的响应体","properties":{"sync_task_id":{"description":"同步任务ID","maxLength":255,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string"}}},"ErrorResp":{"description":"标准错误响应体。","properties":{"error_code":{"description":"错误码。","example":"OMS.0001","pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string","x-annotations":""},"error_msg":{"description":"错误信息。","example":"Error message.","pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string","x-annotations":""}},"x-annotations":"@com.fasterxml.jackson.annotation.JsonPropertyOrder({\"error_code\", \"error_msg\"})"},"SourceCdnReq":{"description":"源端CDN配置。","properties":{"authentication_key":{"description":"CDN鉴权秘钥,如果CDN需要进行鉴权,则此选项为必选。\n\n无需授权:无需配置此项。\nQiniu:无需配置此项。\nAliyun:根据authentication_type指定的鉴权方式配置此项。\nKingsoftCloud:无需配置此项。","example":"xxx","maxLength":255,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string"},"authentication_type":{"default":"NONE","description":"鉴权类型:\nNONE,\nQINIU_PRIVATE_AUTHENTICATION,\nALIYUN_OSS_A,\nALIYUN_OSS_B,\nALIYUN_OSS_C,\nKSYUN_PRIVATE_AUTHENTICATION,\nAZURE_SAS_TOKEN,\nTENCENT_COS_A,\nTENCENT_COS_B,\nTENCENT_COS_C,\nTENCENT_COS_D","enum":["NONE","QINIU_PRIVATE_AUTHENTICATION","ALIYUN_OSS_A","ALIYUN_OSS_B","ALIYUN_OSS_C","KSYUN_PRIVATE_AUTHENTICATION","TENCENT_COS_A","TENCENT_COS_B","TENCENT_COS_C","TENCENT_COS_D"],"example":"ALIYUN_OSS_A","type":"string"},"domain":{"description":"\t\n从指定域名获取对象。","example":"xxx.xxx.xxx","maxLength":1024,"minLength":0,"pattern":"^(?=^.{3,255}$)(?!^.*\\.myhuaweicloud.com$)(?!^.*\\.myhwclouds.com$)((?!^.*(\\d)+$)[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+$)","type":"string"},"protocol":{"description":"协议类型,支持http和https协议。","enum":["http","https"],"example":"https","type":"string"}},"required":["authentication_type","domain","protocol"]}},"description":null,"group_id":"46e3c0a88b3c4637acadda543a71d717","host":"oms.cn-north-4.myhuaweicloud.com","id":"aebbb43c55b8416a9542bea113d2e59d","info_version":"v2","method":"post","name":"CreateSyncTask","parameters":{},"paths":{"/v2/{project_id}/sync-tasks":{"post":{"description":"创建同步任务,创建成功后,任务会被自动启动,不需要额外调用启动任务命令。","operationId":"CreateSyncTask","parameters":[{"description":"项目ID。","in":"path","maxLength":1024,"minLength":1,"name":"project_id","required":true,"type":"string","x-example":"45ac6df9hjxxxx...","x-order":1},{"description":"创建同步任务请求body","in":"body","name":"CreateSyncTaskRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateSyncTaskReq"}},{"description":"IAM鉴权Token。","in":"header","maxLength":16384,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIPGwYJKoZIhvcN...","x-order":2}],"responses":{"200":{"description":"Created","examples":{"application/json":{"sync_task_id":"xxxxxxxxxxxxxxxxx"}},"schema":{"$ref":"#/definitions/CreateSyncTaskResp"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/ErrorResp"}}},"summary":"创建同步任务","tags":["同步任务"],"x-api-type":"open-api","x-constraint":"- 单个租户最多创建5个同步任务","x-iftype":"OpenAPI","x-is-registered":"Y","x-name":"创建同步任务","x-order":18,"x-request":"none","x-request-examples-1":{"description":"XXXX","dst_ak":"dst_ak","dst_bucket":"oms-sonar-north","dst_region":"cn-north-4","dst_sk":"dst_sk","enable_kms":false,"enable_metadata_migration":false,"enable_restore":false,"src_ak":"src_ak","src_bucket":"api-auto-test1","src_cloud_type":"Aliyun","src_region":"cn-beijing","src_sk":"src_sk"},"x-request-examples-description-1":"创建阿里云北京api-auto-test1桶到华为云北京4的oms-sonar-north桶的同步任务","x-request-examples-text-1":{"description":"XXXX","dst_ak":"dst_ak","dst_bucket":"oms-sonar-north","dst_region":"cn-north-4","dst_sk":"dst_sk","enable_kms":false,"enable_metadata_migration":false,"enable_restore":false,"src_ak":"src_ak","src_bucket":"api-auto-test1","src_cloud_type":"Aliyun","src_region":"cn-beijing","src_sk":"src_sk"},"x-request-examples-url-1":"POST https://v2/{project_id}/sync-tasks","x-response":"none","x-scope":"Commercial","x-support-sdk":"Y","x-version":"v2"}}},"product_short":"OMS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建同步任务","tags":"同步任务","uri":null,"version":"2.0"}