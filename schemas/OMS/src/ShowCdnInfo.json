{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CheckedKey":{"description":"检查键","properties":{"is_etag_matching":{"description":"是否电子标签匹配","type":"boolean"},"is_object_existing":{"description":"是否存在对象","type":"boolean"},"key":{"description":"键","maxLength":2048,"minLength":0,"type":"string"}},"type":"object"},"ErrorResp":{"description":"标准错误响应体。","properties":{"error_code":{"description":"错误码。","example":"OMS.0001","pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string","x-annotations":""},"error_msg":{"description":"错误信息。","example":"Error message.","pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string","x-annotations":""}},"x-annotations":"@com.fasterxml.jackson.annotation.JsonPropertyOrder({\"error_code\", \"error_msg\"})"},"PrefixKeyInfo":{"description":"前缀key","properties":{"keys":{"description":"键","items":{"maxLength":2048,"minLength":0,"type":"string"},"maxItems":100,"minItems":0,"type":"array"}},"required":["keys"],"type":"object"},"ShowCdnInfoReq":{"description":"查桶对应的CDN信息","properties":{"ak":{"description":"源端桶的AK(最大长度100个字符),task_type为非url_list时,本参数为必选。","maxLength":100,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string"},"app_id":{"description":"当源端为腾讯云时,会返回此参数。","example":"xxxxx","maxLength":255,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string"},"bucket":{"description":"桶名","example":"xxx","maxLength":100,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string"},"cloud_type":{"description":"云类型\nAWS:亚马逊\nAliyun:阿里云\nQiniu:七牛云\nQingCloud:青云\nTencent:腾讯云\nBaidu:百度云\nKingsoftCloud:金山云\nAzure:微软云\nUCloud:优刻得\nHuaweiCloud:华为云\nURLSource:URL\nHEC:HEC","example":"HuaweiCloud","maxLength":100,"minLength":0,"pattern":"^(AWS|Azure|Aliyun|Tencent|HuaweiCloud|QingCloud|KingsoftCloud|Baidu|Qiniu|URLSource|UCloud|HEC)$","type":"string"},"prefix":{"$ref":"#/definitions/PrefixKeyInfo","description":"前缀"},"region":{"description":"区域","example":"cn-north-x","maxLength":100,"minLength":0,"type":"string"},"sk":{"description":"源端桶的SK(最大长度100个字符),task_type为非url_list时,本参数为必选。","maxLength":100,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string"},"source_cdn":{"$ref":"#/definitions/SourceCdnReq","description":"指定是否启用CDN迁移支持,若包含此字段则为支持,否则为不支持,启用CDN迁移支持后,迁移时将从CDN域名获取源端对象。"}},"required":["ak","sk","cloud_type","region","bucket","source_cdn"],"type":"object"},"ShowCdnInfoResp":{"description":"查询CDN信息响应体","properties":{"checked_keys":{"description":"返回的已检查的对象数组","items":{"$ref":"#/definitions/CheckedKey"},"maxItems":1000,"minItems":0,"type":"array"},"is_download_available":{"description":"是否下载可用","type":"boolean"},"is_same_cloud_type":{"description":"是否相同云类型","type":"boolean"}},"type":"object"},"SourceCdnReq":{"description":"源端CDN配置。","properties":{"authentication_key":{"description":"CDN鉴权秘钥,如果CDN需要进行鉴权,则此选项为必选。\n\n无需授权:无需配置此项。\nQiniu:无需配置此项。\nAliyun:根据authentication_type指定的鉴权方式配置此项。\nKingsoftCloud:无需配置此项。","example":"xxx","maxLength":255,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string"},"authentication_type":{"default":"NONE","description":"鉴权类型:\nNONE,\nQINIU_PRIVATE_AUTHENTICATION,\nALIYUN_OSS_A,\nALIYUN_OSS_B,\nALIYUN_OSS_C,\nKSYUN_PRIVATE_AUTHENTICATION,\nAZURE_SAS_TOKEN,\nTENCENT_COS_A,\nTENCENT_COS_B,\nTENCENT_COS_C,\nTENCENT_COS_D","enum":["NONE","QINIU_PRIVATE_AUTHENTICATION","ALIYUN_OSS_A","ALIYUN_OSS_B","ALIYUN_OSS_C","KSYUN_PRIVATE_AUTHENTICATION","AZURE_SAS_TOKEN","TENCENT_COS_A","TENCENT_COS_B","TENCENT_COS_C","TENCENT_COS_D"],"example":"ALIYUN_OSS_A","type":"string"},"domain":{"description":"\t\n从指定域名获取对象。","example":"xxx.xxx.xxx","maxLength":1024,"minLength":0,"pattern":"^(?=^.{3,255}$)(?!^.*\\.myhuaweicloud.com$)(?!^.*\\.myhwclouds.com$)((?!^.*(\\d)+$)[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+$)","type":"string"},"protocol":{"description":"协议类型,支持http和https协议。","enum":["http","https"],"example":"https","type":"string"}},"required":["authentication_type","domain","protocol"]}},"description":null,"group_id":"46e3c0a88b3c4637acadda543a71d717","host":"oms.cn-north-4.myhuaweicloud.com","id":"21573f8500464c858547a9b5235262d7","info_version":"v2","method":"post","name":"ShowCdnInfo","parameters":{},"paths":{"/v2/{project_id}/objectstorage/buckets/cdn-info":{"post":{"description":"查桶对应的CDN信息","operationId":"ShowCdnInfo","parameters":[{"description":"项目ID","in":"path","maxLength":1024,"minLength":1,"name":"project_id","required":true,"type":"string"},{"description":"IAM Token认证,需要确认Token中包含的Project ID与请求URI中修改资源的Project ID匹配。","in":"header","maxLength":16384,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string"},{"description":"查询CDN信息请求体","in":"body","name":"ShowCdnInfoRequestBody","required":true,"schema":{"$ref":"#/definitions/ShowCdnInfoReq"}}],"responses":{"200":{"description":"查询CDN信息响应体","examples":{"application/json":{"checked_keys":[{"is_etag_matching":false,"is_object_existing":false,"key":"xxx"},{"is_etag_matching":false,"is_object_existing":false,"key":"yyy"},{"is_etag_matching":false,"is_object_existing":false,"key":"ccc"},{"is_etag_matching":false,"is_object_existing":false,"key":"bbb"},{"is_etag_matching":false,"is_object_existing":false,"key":"nnnn"}],"is_download_available":false,"is_same_cloud_type":false}},"schema":{"$ref":"#/definitions/ShowCdnInfoResp"}},"400":{"description":"通用异常响应体","schema":{"$ref":"#/definitions/ErrorResp"}}},"summary":"查桶对应的CDN信息","tags":["桶操作"],"x-api-type":"open-api","x-apigateway-request-type":"Public","x-is-registered":"Y","x-order":1,"x-request-examples-1":"{\n  \"ak\": \"xxx\",\n  \"sk\": \"xxx\",\n  \"cloud_type\": \"Aliyun\",\n  \"region\": \"cn-hangzhou\",\n  “bucket”: \"xxx\",\n  \"source_cdn\": {\n    \"protocol\": \"https\",\n    \"domain\": \"xxx\",\n    \"authentication_type\": \"ALIYUN_OSS_B\",\n    \"authentication_key\": \"xcsad\"\n  }\n}","x-request-examples-description-1":"用ALIYUN_OSS_B加密方式xcsad秘钥查询xxx桶的CDN信息","x-request-examples-text-1":"{\n  \"ak\": \"xxx\",\n  \"sk\": \"xxx\",\n  \"cloud_type\": \"Aliyun\",\n  \"region\": \"cn-hangzhou\",\n  “bucket”: \"xxx\",\n  \"source_cdn\": {\n    \"protocol\": \"https\",\n    \"domain\": \"xxx\",\n    \"authentication_type\": \"ALIYUN_OSS_B\",\n    \"authentication_key\": \"xcsad\"\n  }\n}","x-request-examples-url-1":"POST https://{endpoint}/v2/{project_id}/objectstorage/buckets/cdn-info","x-support-sdk":"Y"}}},"product_short":"OMS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查桶对应的CDN信息","tags":"桶操作","uri":null,"version":"2.0"}