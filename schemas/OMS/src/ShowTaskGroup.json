{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"BandwidthPolicyDto":{"description":"带宽限速策略。","properties":{"end":{"description":"流量控制结束时间(包含),格式为“hh:mm”。例如“12:03”表示12时03分。","example":"23:59","pattern":"^(20|21|22|23|[0-1]\\d):[0-5]\\d","type":"string"},"max_bandwidth":{"description":"时段内允许的最大流量带宽,单位Byte/s,取值范围为>= 1048576Byte/s(相当于1MB/s)且<=209715200Byte/s(相当于200MB/s)。","example":5242880,"format":"int64","maximum":209715200,"minimum":1048576,"type":"integer","x-annotations":""},"start":{"description":"流量控制开始时间(包含),格式为“hh:mm”。例如“12:03”表示12时03分。","example":"00:00","pattern":"^(20|21|22|23|[0-1]\\d):[0-5]\\d","type":"string"}},"required":["end","max_bandwidth","start"]},"ErrorReasonResp":{"description":"迁移任务查询接口中返回的任务失败信息提示","properties":{"error_code":{"description":"迁移失败的错误码。","maxLength":10,"minLength":0,"type":"string","x-annotations":""},"error_msg":{"description":"迁移失败的原因。","maxLength":1024,"minLength":0,"type":"string","x-annotations":""}}},"ErrorResp":{"description":"标准错误响应体。","properties":{"error_code":{"description":"错误码。","example":"OMS.0001","pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string","x-annotations":""},"error_msg":{"description":"错误信息。","example":"Error message.","pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string","x-annotations":""}},"x-annotations":"@com.fasterxml.jackson.annotation.JsonPropertyOrder({\"error_code\", \"error_msg\"})"},"FailedObjectRecordDto":{"description":"","properties":{"error_code":{"description":"失败对象列表上传失败的错误码。","example":"S3M.0001","maxLength":10,"minLength":0,"type":"string"},"list_file_key":{"description":"失败对象列表文件路径。","example":"oms/failed_object_lists/hw-source-oms-test-01-20200808072749593_159_20200808072749593-0.failed_list.txt","maxLength":1024,"minLength":0,"type":"string"},"result":{"description":"是否支持失败对象重传。","example":true,"type":"boolean"}}},"ListFile":{"description":"列表文件配置。","properties":{"list_file_key":{"description":"对象列表文件或URL列表文件对象名。","example":"object_list_file.txt","maxLength":1024,"minLength":1,"type":"string"},"list_file_num":{"description":"存放对象列表文件的数量","example":10,"maxLength":65535,"minLength":0,"type":"string"},"obs_bucket":{"description":"存放对象列表文件的OBS桶名。\n\n请确保与目的端桶处于同一区域,否则将导致任务创建失败。","example":"obs_bucket","maxLength":1024,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string"}},"required":["list_file_key","obs_bucket"]},"SmnInfo":{"description":"smn 消息通知结果","properties":{"notify_error_message":{"description":"记录SMN消息发送失败原因的错误码(迁移任务成功时为空)。","example":"S3M.0001","maxLength":1024,"minLength":0,"type":"string"},"notify_result":{"description":"记录迁移任务执行完毕后SMN消息是否发送成功。","example":false,"type":"boolean"},"topic_name":{"description":"SMN Topic的名称(SMN消息发送成功时为空)。","example":"smn:xxxxxx","maxLength":5120,"minLength":0,"type":"string"}}},"SourceCdnResp":{"description":"源端CDN配置返回值。","properties":{"authentication_type":{"description":"鉴权类型:\nNONE,\nQINIU_PRIVATE_AUTHENTICATION,\nALIYUN_OSS_A,\nALIYUN_OSS_B,\nALIYUN_OSS_C,\nKSYUN_PRIVATE_AUTHENTICATION,\nAZURE_SAS_TOKEN,\nTENCENT_COS_A,\nTENCENT_COS_B,\nTENCENT_COS_C,\nTENCENT_COS_D","enum":["NONE","QINIU_PRIVATE_AUTHENTICATION","ALIYUN_OSS_A","ALIYUN_OSS_B","ALIYUN_OSS_C","KSYUN_PRIVATE_AUTHENTICATION","AZURE_SAS_TOKEN","TENCENT_COS_A","TENCENT_COS_B","TENCENT_COS_C","TENCENT_COS_D"],"type":"string"},"domain":{"description":"\t\n从指定域名获取对象。","example":"xxx.xxx.xxx","maxLength":1024,"minLength":0,"pattern":"^(?=^.{3,255}$)(?!^.*\\.myhuaweicloud.com$)(?!^.*\\.myhwclouds.com$)((?!^.*(\\d)+$)[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+$)","type":"string"},"protocol":{"description":"协议类型,支持http和https协议。","enum":["http","https"],"example":"https","type":"string"}},"required":["domain","protocol"]},"TaskGroupDstNodeResp":{"description":"迁移任务组目的端节点信息","properties":{"bucket":{"description":"目的端桶的名称。","example":"dst_bucket","maxLength":1024,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]$","type":"string"},"region":{"description":"目的端桶所处的区域。","example":"cn-north-1","maxLength":100,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]$","type":"string"},"save_prefix":{"description":"目的端桶内路径前缀(拼接在对象key前面,组成新的key,拼接后不能超过1024个字符)。","example":"1000-files","maxLength":1024,"minLength":0,"type":"string"}}},"TaskGroupResp":{"description":"返回的查询的迁移任务组信息","properties":{"bandwidth_policy":{"description":"配置流量控制策略。数组中一个元素对应一个时段的最大带宽,最多允许5个时段,且时段不能重叠。","items":{"$ref":"#/definitions/BandwidthPolicyDto"},"maxItems":5,"minItems":0,"type":"array"},"complete_size":{"description":"已迁移成功的对象总大小(Byte)","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"complete_task_num":{"description":"已完成的迁移任务数","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"consistency_check":{"description":"一致性校验方式,用于迁移前/后校验对象是否一致,所有校验方式需满足源端/目的端对象的加密状态一致,具体校验方式和校验结果可通过对象列表查看。默认size_last_modified。\nsize_last_modified:默认配置。迁移前后,通过对比源端和目的端对象大小+最后修改时间,判断对象是否已存在或迁移后数据是否完整。源端与目的端同名对象大小相同,且目的端对象的最后修改时间不早于源端对象的最后修改时间,则代表该对象已存在/迁移成功。\ncrc64:目前仅支持华为/阿里/腾讯。迁移前后,通过对比源端和目的端对象元数据中CRC64值是否相同,判断对象是否已存在/迁移完成。如果源端与目的端对象元数据中不存在CRC64值,则系统会默认使用大小/最后修改时间校验方式来校验。\nno_check:目前仅支持HTTP/HTTPS数据源。当源端对象无法通过标准http协议中content-length字段获取数据大小时,默认数据下载成功即迁移成功,不对数据做额外校验,且迁移时源端对象默认覆盖目的端同名对象。当源端对象能正常通过标准http协议中content-length字段获取数据大小时,则采用大小/最后修改时间校验方式来校验。","enum":["size_last_modified","crc64","no_check"],"example":"size_last_modified","type":"string"},"create_complete_num":{"description":"已完成任务创建的对象总数量","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"create_complete_size":{"description":"已创建迁移任务包含的对象总大小(Byte)","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"create_task_num":{"description":"已创建的迁移任务数","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"description":{"description":"任务描述,不能超过255个字符,且不能包含^<>&\"'等特殊字符。","example":"这是一个迁移任务","maxLength":255,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string"},"dst_node":{"$ref":"#/definitions/TaskGroupDstNodeResp","description":"目的端信息。"},"dst_storage_policy":{"default":"STANDARD","description":"目的端存储类型设置,当且仅当目的端为华为云OBS时需要,默认为标准存储\nSTANDARD:华为云OBS标准存储\nIA:华为云OBS低频存储\nARCHIVE:华为云OBS归档存储\nDEEP_ARCHIVE:华为云OBS深度归档存储\nSRC_STORAGE_MAPPING:保留源端存储类型,将源端存储类型映射为华为云OBS存储类型","enum":["STANDARD","IA","ARCHIVE","DEEP_ARCHIVE","SRC_STORAGE_MAPPING"],"example":"STANDARD","maxLength":128,"minLength":0,"type":"string"},"enable_failed_object_recording":{"description":"是否开启记录失败对象","example":true,"pattern":"^.{0,100}$","type":"boolean"},"enable_kms":{"description":"存储入OBS时是否使用KMS加密。","example":"true","type":"boolean"},"enable_metadata_migration":{"default":"false","description":"是否启用元数据迁移,默认否。不启用时,为保证迁移任务正常运行,仍将为您迁移ContentType元数据。","example":"true","type":"boolean","x-annotations":""},"enable_requester_pays":{"description":"是否开启请求者付款,在启用后,请求者支付请求和数据传输费用。","example":"true","type":"boolean"},"enable_restore":{"description":"是否自动解冻归档数据,(由于对象存储解冻需要源端存储等待一定时间,开启自动解冻会对迁移速度有较大影响,建议先完成归档存储数据解冻后再启动迁移)。\n开启后,如果遇到归档类型数据,会自动解冻再进行迁移;如果遇到归档类型的对象直接跳过相应对象,系统默认对象迁移失败并记录相关信息到失败对象列表中。","example":false,"type":"boolean"},"error_reason":{"$ref":"#/definitions/ErrorReasonResp","description":"任务组失败原因,非失败状态时该字段为空字符串。"},"executing_task_num":{"description":"正在运行的迁移任务数","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"fail_num":{"description":"失败的对象数量","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"failed_object_record":{"$ref":"#/definitions/FailedObjectRecordDto","description":"失败对象记录"},"failed_task_num":{"description":"失败的迁移任务数","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"group_id":{"description":"任务组id","maxLength":100,"minLength":1,"type":"string"},"migrate_since":{"default":0,"description":"迁移指定时间(时间戳,毫秒),表示仅迁移在指定时间之后修改的源端待迁移对象。默认为0,表示不设置迁移指定时间。","example":1586490079,"format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"migrate_speed":{"description":"任务组迁移速度(Byte/s)","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"object_overwrite_mode":{"description":"迁移前同名对象覆盖方式,用于迁移前判断源端与目的端有同名对象时,覆盖目的端或跳过迁移。默认SIZE_LAST_MODIFIED_COMPARISON_OVERWRITE。\nNO_OVERWRITE:不覆盖。迁移前源端对象与目的端对象同名时,不做对比直接跳过迁移。\nSIZE_LAST_MODIFIED_COMPARISON_OVERWRITE:大小/最后修改时间对比覆盖。默认配置。迁移前源端对象与目的端对象同名时,通过对比源端和目的端对象大小和最后修改时间,判断是否覆盖目的端,需满足源端/目的端对象的加密状态一致。源端与目的端同名对象大小不相同,或目的端对象的最后修改时间晚于源端对象的最后修改时间(源端较新),覆盖目的端。\nCRC64_COMPARISON_OVERWRITE:CRC64对比覆盖。目前仅支持华为/阿里/腾讯。迁移前源端对象与目的端对象同名时,通过对比源端和目的端对象元数据中CRC64值是否相同,判断是否覆盖目的端,需满足源端/目的端对象的加密状态一致。如果源端与目的端对象元数据中不存在CRC64值,则系统会默认使用SIZE_LAST_MODIFIED_COMPARISON_OVERWRITE(大小/最后修改时间对比覆盖)来对比进行覆盖判断。\nFULL_OVERWRITE:全覆盖。迁移前源端对象与目的端对象同名时,不做对比覆盖目的端。","enum":["NO_OVERWRITE","SIZE_LAST_MODIFIED_COMPARISON_OVERWRITE","CRC64_COMPARISON_OVERWRITE","FULL_OVERWRITE"],"example":"SIZE_LAST_MODIFIED_COMPARISON_OVERWRITE","type":"string"},"paused_task_num":{"description":"暂停的迁移任务数","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"skip_num":{"description":"忽略的对象数量","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"smn_config":{"$ref":"#/definitions/SmnInfo","description":"SMN消息发送配置。"},"source_cdn":{"$ref":"#/definitions/SourceCdnResp","description":"指定是否启用CDN迁移支持,若包含此字段则为支持,否则为不支持,启用CDN迁移支持后,迁移时将从CDN域名获取源端对象。"},"src_node":{"$ref":"#/definitions/TaskGroupSrcNodeResp","description":"源端信息","x-annotations":""},"start_time":{"description":"迁移任务组的启动时间(Unix时间戳,毫秒)","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"status":{"description":"迁移组任务状态。\n0 – 等待中\n1 – 执行中/创建中\n2 – 监控任务执行\n3 – 暂停\n4 – 创建任务失败\n5 – 迁移失败\n6 – 迁移完成\n7 – 暂停中\n8 – 等待删除中\n9 – 删除","format":"int32","maximum":9,"minimum":0,"type":"integer"},"success_num":{"description":"成功的对象数量","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"task_type":{"description":"任务类型,默认为PREFIX。\nLIST:对象列表迁移\nURL_LIST:URL列表迁移,\nPREFIX:对象前缀迁移","enum":["LIST","URL_LIST","PREFIX"],"example":"PREFIX","type":"string"},"total_num":{"description":"迁移任务组包含的对象总数量","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"total_size":{"description":"任务迁移总大小(Byte)","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"total_task_num":{"description":"任务组包含的迁移任务总数","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"total_time":{"description":"迁移任务组总耗时(毫秒)","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"waiting_task_num":{"description":"等待中的迁移任务数","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"}}},"TaskGroupSrcNodeResp":{"description":"源端迁移任务组节点信息。","properties":{"app_id":{"description":"当源端为腾讯云时,会返回此参数。","example":"apptest123","maxLength":255,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]$","type":"string"},"bucket":{"description":"源端桶的名称。","example":"src_bucket","maxLength":1024,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]$","type":"string"},"cloud_type":{"description":"源端云服务提供商。\n\n可选值有AWS、AZURE、ALIYUN、TENCENT、HUAWEICLOUD、QINGCLOUD、KINGSOFTCLOUD、BAIDU、QINIU、GOOGLE、URLSOURCE或者UCLOUD。默认值为ALIYUN。","enum":["AWS","AZURE","ALIYUN","TENCENT","HUAWEICLOUD","QINGCLOUD","KINGSOFTCLOUD","BAIDU","QINIU","URLSOURCE","UCLOUD","GOOGLE"],"example":"HUAWEICLOUD","type":"string"},"list_file":{"$ref":"#/definitions/ListFile","description":"列表文件配置,当task_type为list或url_list时,list_file为必选参数。"},"object_key":{"description":"任务组类型为前缀迁移任务时,表示待迁移前缀。","items":{"maxLength":1024,"minLength":0,"type":"string"},"maxItems":500,"minItems":0,"type":"array"},"region":{"description":"源端桶所处的区域。","example":"cn-north-1","maxLength":100,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]$","type":"string"}}}},"description":null,"group_id":"46e3c0a88b3c4637acadda543a71d717","host":"oms.cn-north-4.myhuaweicloud.com","id":"7fbc2d226ea94bd8b34980ddb013b265","info_version":"v2","method":"get","name":"ShowTaskGroup","parameters":{},"paths":{"/v2/{project_id}/taskgroups/{group_id}":{"get":{"description":"获取指定id的taskgroup信息","operationId":"ShowTaskGroup","parameters":[{"description":"项目id","in":"path","maxLength":1024,"minLength":1,"name":"project_id","required":true,"type":"string"},{"description":"任务组id","in":"path","maxLength":1024,"minLength":1,"name":"group_id","required":true,"type":"string"},{"description":"IAM鉴权Token","in":"header","maxLength":16384,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","examples":{"application/json":{"bandwidth_policy":[],"complete_size":0,"complete_task_num":null,"consistency_check":"size_last_modified","create_complete_num":null,"create_complete_size":null,"create_task_num":null,"description":"","dst_node":{"bucket":"assess-bucket-1","region":"cn-north-7","save_prefix":""},"enable_failed_object_recording":true,"enable_kms":false,"enable_metadata_migration":false,"enable_requester_pays":false,"enable_restore":false,"error_reason":null,"executing_task_num":null,"fail_num":0,"failed_object_record":{"error_code":null,"list_file_key":null,"result":null},"failed_task_num":null,"group_id":"9522a7e5-b4fc-44b9-93e1-4dbadbd86e67","migrate_since":0,"migrate_speed":0,"object_overwrite_mode":"SIZE_LAST_MODIFIED_COMPARISON_OVERWRITE","paused_task_num":null,"skip_num":0,"smn_config":null,"source_cdn":null,"src_node":{"app_id":"","bucket":"dst-test-001","cloud_type":"HUAWEICLOUD","list_file":null,"object_key":[""],"region":"cn-north-7"},"start_time":1659937788779,"status":3,"success_num":0,"task_type":"PREFIX","total_num":4128588,"total_size":27814708666,"total_task_num":null,"total_time":7907369,"waiting_task_num":null}},"schema":{"$ref":"#/definitions/TaskGroupResp"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/ErrorResp"}}},"summary":"获取指定id的taskgroup信息","tags":["迁移任务组管理"],"x-api-type":"open-api","x-constraint":"","x-iftype":"OpenAPI","x-is-registered":"Y","x-name":"查询指定id的迁移任务组","x-open-region-cloud":"hc,hk","x-order":32,"x-request-examples-description-1":"查询f4e146cac1de45669c3fed73dc3b9c6f项目下id为157ece42-3270-4824-a3d2-f0187a03ca01的迁移任务组","x-request-examples-url-1":"Get https://{endpoint}/v2/f4e146cac1de45669c3fed73dc3b9c6f/taskgroups/157ece42-3270-4824-a3d2-f0187a03ca01","x-scope":"Commercial","x-support-sdk":"Y","x-version":"v2"}}},"product_short":"OMS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"获取指定id的taskgroup信息","tags":"迁移任务组管理","uri":null,"version":"2.0"}