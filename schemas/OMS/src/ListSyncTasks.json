{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ErrorResp":{"description":"标准错误响应体。","properties":{"error_code":{"description":"错误码。","example":"OMS.0001","pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string","x-annotations":""},"error_msg":{"description":"错误信息。","example":"Error message.","pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string","x-annotations":""}},"x-annotations":"@com.fasterxml.jackson.annotation.JsonPropertyOrder({\"error_code\", \"error_msg\"})"},"ListSyncTasksResp":{"description":"查询所有同步请求的响应体","properties":{"count":{"description":"满足查询条件的同步任务总数","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"tasks":{"description":"查询的同步任务详情","items":{"$ref":"#/definitions/SyncTaskInfo"},"maxItems":100,"minItems":0,"type":"array"}}},"SourceCdnResp":{"description":"源端CDN配置返回值。","properties":{"authentication_type":{"description":"鉴权类型:\nNONE:公开访问,无安全限制,\nQINIU_PRIVATE_AUTHENTICATION:七牛自定义URL签名,\nALIYUN_OSS_A:阿里云  URL携带签名,简单通用,\nALIYUN_OSS_B:阿里云  Header携带签名,用于API调用,\nALIYUN_OSS_C:阿里云  STS临时安全令牌,最安全,\nKSYUN_PRIVATE_AUTHENTICATION:金山云  金山云自定义URL签名,\nAZURE_SAS_TOKEN:微软Azure  灵活安全的共享访问签名,\nTENCENT_COS_A:腾讯云  多次有效签名(不推荐),\nTENCENT_COS_B:腾讯云  单次有效签名,安全性最高,\nTENCENT_COS_C:腾讯云  Header携带签名,用于API调用,\nTENCENT_COS_D:腾讯云  Header携带签名,用于API调用.","enum":["NONE","QINIU_PRIVATE_AUTHENTICATION","ALIYUN_OSS_A","ALIYUN_OSS_B","ALIYUN_OSS_C","KSYUN_PRIVATE_AUTHENTICATION","AZURE_SAS_TOKEN","TENCENT_COS_A","TENCENT_COS_B","TENCENT_COS_C","TENCENT_COS_D"],"type":"string"},"domain":{"description":"\t\n从指定域名获取对象。","example":"xxx.xxx.xxx","maxLength":1024,"minLength":0,"pattern":"^(?=^.{3,255}$)(?!^.*\\.myhuaweicloud.com$)(?!^.*\\.myhwclouds.com$)((?!^.*(\\d)+$)[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+$)","type":"string"},"protocol":{"description":"协议类型,支持http和https协议。","enum":["http","https"],"example":"https","type":"string"}},"required":["domain","protocol"]},"SyncTaskInfo":{"description":"查询同步任务列表时返回的单个同步任务信息实体","properties":{"app_id":{"description":"当源端为腾讯云时,需要填写此参数。","maxLength":255,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string"},"consistency_check":{"description":"迁移后对象一致性校验方式,用于迁移后校验对象是否一致,所有校验方式需满足源端/目的端对象的加密状态一致,具体校验方式和校验结果可通过对象列表查看。默认size_last_modified。\nsize_last_modified:默认配置。迁移后,通过对比源端和目的端对象大小和最后修改时间,判断对象迁移后数据是否完整。源端与目的端同名对象大小相同,且目的端对象的最后修改时间不早于源端对象的最后修改时间,则代表该对象迁移成功。\ncrc64:目前仅支持华为/阿里/腾讯。迁移后,通过对比源端和目的端对象元数据中CRC64值是否相同,判断对象是否迁移完成。如果源端与目的端对象元数据中不存在CRC64值,则系统会默认使用大小/最后修改时间校验方式来校验。\nno_check:目前仅支持HTTP/HTTPS数据源。当源端对象无法通过标准http协议中content-length字段获取数据大小时,默认数据下载成功即迁移成功,不对数据做额外校验。当源端对象能正常通过标准http协议中content-length字段获取数据大小时,则采用大小/最后修改时间校验方式来校验。","enum":["size_last_modified","crc64","no_check"],"example":"size_last_modified","type":"string"},"create_time":{"description":"同步任务创建时间(Unix时间戳,毫秒)","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"description":{"description":"任务描述,不能超过255个字符,且不能包含<>()\"'&等特殊字符。","maxLength":255,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string"},"dst_bucket":{"description":"目的端桶。","maxLength":1024,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string"},"dst_region":{"description":"目的端region","maxLength":100,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string"},"dst_storage_policy":{"default":"STANDARD","description":"目的端存储类型设置,当且仅当目的端为华为云OBS时需要,默认为标准存储\nSTANDARD:华为云OBS标准存储\nIA:华为云OBS低频存储\nARCHIVE:华为云OBS归档存储\nDEEP_ARCHIVE:华为云OBS深度归档存储\nSRC_STORAGE_MAPPING:保留源端存储类型,将源端存储类型映射为华为云OBS存储类型","enum":["STANDARD","IA","ARCHIVE","DEEP_ARCHIVE","SRC_STORAGE_MAPPING"],"example":"STANDARD","maxLength":128,"minLength":0,"type":"string"},"enable_kms":{"description":"是否开启KMS加密,默认不开启。","type":"boolean"},"enable_metadata_migration":{"description":"是否启用元数据迁移,默认否。不启用时,为保证迁移任务正常运行,仍将为您迁移ContentType元数据。","type":"boolean"},"enable_restore":{"description":"是否自动解冻归档数据,默认否。 开启后,如果遇到归档类型数据,会自动解冻再进行迁移。","type":"boolean"},"last_start_time":{"description":"最近启动同步任务时间(Unix时间戳,毫秒)","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"object_overwrite_mode":{"description":"迁移前同名对象覆盖方式,用于迁移前判断源端与目的端有同名对象时,覆盖目的端或跳过迁移。默认SIZE_LAST_MODIFIED_COMPARISON_OVERWRITE。\nNO_OVERWRITE:不覆盖。迁移前源端对象与目的端对象同名时,不做对比直接跳过迁移。\nSIZE_LAST_MODIFIED_COMPARISON_OVERWRITE:大小/最后修改时间对比覆盖。默认配置。迁移前源端对象与目的端对象同名时,通过对比源端和目的端对象大小和最后修改时间,判断是否覆盖目的端,需满足源端/目的端对象的加密状态一致。源端与目的端同名对象大小不相同,或目的端对象的最后修改时间晚于源端对象的最后修改时间(源端较新),覆盖目的端。 \nCRC64_COMPARISON_OVERWRITE:CRC64对比覆盖。目前仅支持华为/阿里/腾讯。迁移前源端对象与目的端对象同名时,通过对比源端和目的端对象元数据中CRC64值是否相同,判断是否覆盖目的端,需满足源端/目的端对象的加密状态一致。如果源端与目的端对象元数据中不存在CRC64值,则系统会默认使用SIZE_LAST_MODIFIED_COMPARISON_OVERWRITE(大小/最后修改时间对比覆盖)来对比进行覆盖判断。\nFULL_OVERWRITE:全覆盖。迁移前源端对象与目的端对象同名时,不做对比覆盖目的端。","enum":["NO_OVERWRITE","SIZE_LAST_MODIFIED_COMPARISON_OVERWRITE","CRC64_COMPARISON_OVERWRITE","FULL_OVERWRITE"],"example":"SIZE_LAST_MODIFIED_COMPARISON_OVERWRITE","type":"string"},"source_cdn":{"$ref":"#/definitions/SourceCdnResp","description":"指定是否启用CDN迁移支持。启用CDN迁移支持后,迁移时将从CDN域名获取源端对象。若包含此字段则为支持,否则为不支持。"},"src_bucket":{"description":"源端桶","maxLength":1024,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string"},"src_cloud_type":{"description":"源端云服务提供商。\n\n可选值有AWS、Azure、Aliyun、Tencent、HuaweiCloud、QingCloud、KingsoftCloud、Baidu、Qiniu、UCloud。默认值为Aliyun。","enum":["AWS","Azure","Aliyun","Tencent","HuaweiCloud","QingCloud","KingsoftCloud","Baidu","Qiniu","UCloud"],"type":"string"},"src_region":{"description":"源端桶所处的区域","maxLength":100,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string"},"status":{"description":"同步任务状态\nSYNCHRONIZING:同步中\nSTOPPED:已停止","enum":["SYNCHRONIZING","STOPPED"],"type":"string"},"sync_task_id":{"description":"同步任务ID","maxLength":255,"minLength":0,"pattern":"^[^<>&\\\"'\\\\\\\\]*$","type":"string"}},"type":"object"}},"description":null,"group_id":"46e3c0a88b3c4637acadda543a71d717","host":"oms.cn-north-4.myhuaweicloud.com","id":"c6e983a6646b425cb081fb639be2c303","info_version":"v2","method":"get","name":"ListSyncTasks","parameters":{},"paths":{"/v2/{project_id}/sync-tasks":{"get":{"description":"查询用户名下所有同步任务信息","operationId":"ListSyncTasks","parameters":[{"description":"项目ID","in":"path","maxLength":1024,"minLength":1,"name":"project_id","required":true,"type":"string","x-example":"f4e146cac1de45669c3fed73dc9b9c6f","x-order":1},{"description":"IAM 鉴权 Token","in":"header","maxLength":16384,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-annotations":"","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX...","x-order":5},{"default":10,"description":"查询返回同步任务列表当前页面的数量,默认查询10条。\n最多返回100条迁移任务信息。","format":"int32","in":"query","maximum":100,"minimum":1,"name":"limit","required":false,"type":"integer","x-example":100,"x-order":4},{"default":0,"description":"起始的任务序号,默认为0。\n取值大于等于0,取值为0时从第一条开始查询。","format":"int32","in":"query","maximum":10000,"minimum":0,"name":"offset","required":false,"type":"integer","x-example":0,"x-order":3},{"description":"同步任务状态(无该参数时代表查询所有状态的任务):\nSYNCHRONIZING:同步中\nSTOPPED:已停止","in":"query","maxLength":255,"minLength":0,"name":"status","pattern":"^(SYNCHRONIZING|STOPPED)$","required":false,"type":"string","x-example":"SYNCHRONIZING","x-order":2}],"responses":{"200":{"description":"OK","examples":{"application/json":{"count":1,"tasks":[{"app_id":null,"consistency_check":"size_last_modified","create_time":1700639560751,"description":"sync task test","dst_bucket":"oms-sdk-test-dst","dst_region":"cn-north-7","dst_storage_policy":null,"enable_kms":false,"enable_metadata_migration":false,"enable_restore":false,"last_start_time":1700639560751,"object_overwrite_mode":"SIZE_LAST_MODIFIED_COMPARISON_OVERWRITE","source_cdn":null,"src_bucket":"oms-sdk-test-src","src_cloud_type":"HuaweiCloud","src_region":"cn-north-7","status":"SYNCHRONIZING","sync_task_id":"d18befdd-eb82-41f3-8019-bbb593d74a3e"}]}},"schema":{"$ref":"#/definitions/ListSyncTasksResp"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/ErrorResp"}}},"summary":"查询同步任务列表","tags":["同步任务"],"x-api-type":"open-api","x-constraint":"","x-iam-auth-meta-anno":{"abacAction":"oms:synctask:list","authContextInitializerName":"syncTaskAuthContextInitializer","authLevel":"NO_INSTANCE","model":"v5","needAbacCheck":true,"needAbacResourceCheck":false,"needApigwJwtAuthCheck":true,"needCbcCheck":true,"needRbacCheck":true,"needResourceTagCheck":false,"opType":"guessByHttpMethod","supportAllGrantedEps":false},"x-iftype":"OpenAPI","x-is-registered":"Y","x-name":"查询所有同步任务","x-order":17,"x-request":"none","x-request-examples-description-1":"查询2c0689c860ad4728a497c91ec0844383项目下5条同步中的任务","x-request-examples-url-1":"GET https://{endpoint}/v2/2c0689c860ad4728a497c91ec0844383/sync-tasks?offset=0&limit=5&status=SYNCHRONIZING","x-response":"none","x-scope":"Commercial","x-support-sdk":"Y","x-version":"v2"}}},"product_short":"OMS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询同步任务列表","tags":"同步任务","uri":null,"version":"2.0"}