{"base_path":null,"components":{"parameters":{"AuthorizationHeader":{"description":"承载令牌","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},"TenantId":{"allowEmptyValue":false,"description":"租户的全局唯一标识符(ID)","in":"path","name":"tenant_id","required":true,"schema":{"type":"string"}},"UserId":{"allowEmptyValue":false,"description":"用户的全局唯一标识符(ID)","in":"path","name":"user_id","required":true,"schema":{"type":"string"}}},"schemas":{"AddressItemDto":{"properties":{"country":{"description":"国家或地区","type":"string"},"formatted":{"description":"包含要显示的地址的格式化版本的字符串","type":"string"},"locality":{"description":"地址位置","type":"string"},"postalCode":{"description":"邮政编码","type":"string"},"primary":{"description":"一个布尔值,表示这是否是用户的主地址","type":"boolean"},"region":{"description":"区域","type":"string"},"streetAddress":{"description":"街道","type":"string"},"type":{"description":"表示地址类型的字符串","type":"string"}},"type":"object"},"EmailItemDto":{"properties":{"primary":{"description":"一个布尔值,表示这是否是用户的主电子邮箱","type":"boolean"},"type":{"description":"表示电子邮箱类型的字符串","type":"string"},"value":{"description":"包含电子邮箱地址的字符串","type":"string"}},"required":["value","primary","type"],"type":"object"},"EnterpriseDto":{"description":"包含用户工作相关信息的对象","properties":{"costCenter":{"description":"成本中心","type":"string"},"department":{"description":"部门","type":"string"},"division":{"description":"分部","type":"string"},"employeeNumber":{"description":"员工编号","type":"string"},"manager":{"$ref":"#/components/schemas/ManagerDto"},"organization":{"description":"组织","type":"string"}},"type":"object"},"ManagerDto":{"description":"经理","properties":{"value":{"description":"经理","type":"string"}},"type":"object"},"MetaDto":{"properties":{"created":{"description":"资源创建时间","type":"string"},"lastModified":{"description":"资源最后更新时间","type":"string"},"resourceType":{"description":"资源类型","type":"string"}},"type":"object"},"NameDto":{"properties":{"familyName":{"description":"用户的姓氏","type":"string"},"formatted":{"description":"包含要显示的名称的格式化版本的字符串","type":"string"},"givenName":{"description":"用户的名字","type":"string"},"honorificPrefix":{"description":"用户的尊称前缀","type":"string"},"honorificSuffix":{"description":"用户的尊称后缀","type":"string"},"middleName":{"description":"用户的中间名","type":"string"}},"required":["familyName","givenName"],"type":"object"},"OperationItemDto":{"properties":{"op":{"description":"要执行的修改操作类型。\nadd:添加属性,replace:替换属性,remove:删除属性","type":"string"},"path":{"description":"要修改的属性路径","type":"string"},"value":{"description":"要修改的属性值。执行删除操作时不填写","type":"object"}},"required":["op"],"type":"object"},"PatchUserReqBody":{"properties":{"Operations":{"description":"要执行的修改操作列表","items":{"$ref":"#/components/schemas/OperationItemDto"},"type":"array"},"schemas":{"description":"概要","items":{"type":"string"},"type":"array"}},"required":["schemas","Operations"],"type":"object"},"PhoneNumberItemDto":{"properties":{"primary":{"description":"一个布尔值,表示这是否是用户的主电话号码","type":"boolean"},"type":{"description":"表示电话号码类型的字符串","type":"string"},"value":{"description":"包含电话号码的字符串","type":"string"}},"type":"object"},"ScimErrorResp":{"properties":{"detail":{"description":"异常详情","type":"string"},"schema":{"description":"概要","type":"string"},"schemas":{"description":"概要列表","items":{"type":"string"},"type":"array"},"status":{"description":"状态码","type":"integer"},"timeStamp":{"description":"时间戳","type":"string"}},"required":["schema","schemas","detail","status","timeStamp"],"type":"object"},"UpdateUserResp":{"properties":{"active":{"description":"表示用户是否启用","type":"boolean"},"addresses":{"description":"包含用户地址信息的对象列表","items":{"$ref":"#/components/schemas/AddressItemDto"},"type":"array"},"displayName":{"description":"包含用户显示名称的字符串","type":"string"},"emails":{"description":"包含用户的电子邮箱信息的对象列表","items":{"$ref":"#/components/schemas/EmailItemDto"},"type":"array"},"externalId":{"description":"外部标识符","type":"string"},"id":{"description":"用户的全局唯一标识符(ID)","type":"string"},"locale":{"description":"包含用户地理区域或位置的字符串","type":"string"},"meta":{"$ref":"#/components/schemas/MetaDto","description":"元数据"},"name":{"$ref":"#/components/schemas/NameDto","description":"包含用户姓名信息的对象"},"nickName":{"description":"包含用户昵称的字符串","type":"string"},"phoneNumbers":{"description":"包含用户电话号码信息的对象列表","items":{"$ref":"#/components/schemas/PhoneNumberItemDto"},"type":"array"},"preferredLanguage":{"description":"包含用户首选语言的字符串","type":"string"},"schemas":{"description":"概要","items":{"type":"string"},"type":"array"},"timezone":{"description":"包含用户时区的字符串","type":"string"},"title":{"description":"包含用户头衔的字符串","type":"string"},"urn:ietf:params:scim:schemas:extension:enterprise:2.0:User":{"$ref":"#/components/schemas/EnterpriseDto"},"userName":{"description":"用户名,用于标识用户的唯一字符串","type":"string"},"userType":{"description":"指示用户类型的字符串","type":"string"}},"required":["id","userName"],"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"ec3fa29a9dc34b90b5d70ba06e9debb9","host":"scim.cn-north-4.myhuaweicloud.com","id":"a7316308063e42d7ba6e335b6da0035d","info_version":"v1","method":"patch","name":"PatchUser","parameters":null,"paths":{"/{tenant_id}/scim/v2/Users/{user_id}":{"patch":{"description":"修改现有用户的部分属性。\n暂不支持\nIAM身份中心暂不支持此API操作的以下方面。\n- 对userName或active属性执行多个PATCH操作\n- ims、photos、x509Certificates、entitlements和password属性\n- manager的displayName子属性\n- emails、addresses和phoneNumbers的display子属性\n\n约束条件\nIAM身份中心对此API操作具有以下约束。\n- 支持的操作是add、replace和remove\n- 必须指定操作\n- remove操作需要指定属性路径\n- add和replace操作需要指定属性的值\n- 仅允许修改userName、active、externalId、displayName、nickName、profileUrl、title、userType、preferredLanguage、locale、timezone、name、enterprise、emails、addresses和phoneNumbers属性\n- 过滤器中仅支持eq运算符\n- userName或active属性不支持remove操作\n- 我们不支持多值属性中的多个值(例如emails,addresses,phoneNumbers)。这些属性中的每一个都只允许有一个值","operationId":"PatchUser","parameters":[{"$ref":"#/components/parameters/AuthorizationHeader"},{"$ref":"#/components/parameters/TenantId"},{"$ref":"#/components/parameters/UserId"}],"requestBody":{"content":{"application/json":{"example":{"Operations":[{"op":"replace","path":"active","value":"false"}],"schemas":["urn:ietf:params:scim:api:messages:2.0:PatchOp"]},"schema":{"$ref":"#/components/schemas/PatchUserReqBody"}}},"description":"","required":false},"responses":{"200":{"content":{"application/json":{"example":{"active":false,"addresses":[{"country":"xxx","formatted":"xxx","locality":"xxx","postalCode":"123456","primary":true,"region":"xxx","streetAddress":"xxx","type":"work"}],"displayName":"xxx","emails":[{"primary":true,"type":"work","value":"xxx"}],"externalId":"123456","id":"ac6aa714-daa7-1aaa-aaa2-6715aaaa4dd9","locale":"zh-CN","meta":{"created":"2023-04-08T14:53:43Z","lastModified":"2023-04-16T21:32:55Z","resourceType":"User"},"name":{"familyName":"xxx","formatted":"xxx","givenName":"xxx","honorificPrefix":"xxx","honorificSuffix":"xxx","middleName":"xxx"},"nickName":"xxx","phoneNumbers":[{"primary":true,"type":"work","value":"xxx"}],"preferredLanguage":"zh-CN","schemas":["urn:ietf:params:scim:schemas:core:2.0:User"],"timezone":"xxx","title":"xxx","userName":"xxx","userType":"xxx"},"schema":{"$ref":"#/components/schemas/UpdateUserResp"}}},"description":"Successful"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScimErrorResp"}}},"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScimErrorResp"}}},"description":"Forbidden"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScimErrorResp"}}},"description":"Not Found"},"409":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScimErrorResp"}}},"description":"Conflict"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScimErrorResp"}}},"description":"Internal Server Error"}},"summary":"部分更新用户","tags":["User"],"x-apiexplorer-auth":false,"x-is-registered":"Y","x-order":5,"x-request-examples-1":{"Operations":[{"op":"replace","path":"active","value":"false"}],"schemas":["urn:ietf:params:scim:api:messages:2.0:PatchOp"]},"x-request-examples-description-1":"修改现有用户的部分属性","x-request-examples-url-1":"PATCH https://{hostname}/{tenant_id}/scim/v2/Users/{user_id}","x-support-sdk":"Y"}}},"product_short":"IdentityCenterSCIM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"部分更新用户","tags":"用户管理","uri":null,"version":"3.0.3"}