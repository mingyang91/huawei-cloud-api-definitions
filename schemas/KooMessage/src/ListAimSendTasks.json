{"base_path":null,"components":null,"consumes":"","definitions":{"AIMResolveTaskMode":{"description":"查询发送任务短链请求信息","properties":{"aim_code_type":{"description":"智能信息编码类型。\n- group:群发\n- individual:个性化\n","example":"group","type":"string"},"domain":{"description":"自定义短链域名,由大小写字母和数字组成的二级域名。","example":"km2n.cn","pattern":"[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+\\.?","type":"string"},"expiration_time":{"description":"失效时间(天)。","example":7,"type":"integer"},"params":{"description":"短链解析详情列表。一次请求最多100个短链。","items":{"$ref":"#/definitions/ResolveTaskParam"},"maxItems":100,"type":"array"},"resolve_times":{"description":"短链的最大解析次数。","example":10000,"type":"integer"},"tpl_id":{"description":"智能信息模板ID,由9位数字组成。","example":"600000000","type":"string"}}},"AIMSendTaskInfo":{"description":"发送任务消息体。","properties":{"resolve_task":{"$ref":"#/definitions/AIMResolveTaskMode","description":"短链生成配置。\n\n> 预留字段,暂时为空。\n"},"sms_channel":{"$ref":"#/definitions/AIMSendTaskSmsChannel"},"task_name":{"description":"智能信息发送任务名称。","example":"短信发送","type":"string"}}},"AIMSendTaskSmsChannel":{"description":"查询智能信息发送任务响应体。","properties":{"channel_number":{"description":"短信通道号。\n\n> 预留字段,暂时为空。\n","example":"600000000","type":"string"},"sms_app_name":{"description":"短信应用名称。\n\n> 预留字段,暂时为空。\n","example":"APaas","type":"string"},"sms_sign":{"description":"短信签名。","example":"华为云","type":"string"},"sms_tpl_id":{"description":"短信模板ID。","example":"6000002","type":"string"}}},"AIMSendTasksMode":{"allOf":[{"$ref":"#/definitions/AIMSendTaskInfo"},{"properties":{"creation_time":{"description":"创建时间。样例:2019-10-12T07:20:50.522Z。","format":"date-time","type":"string"},"failed_short_chains":{"description":"短链生成失败列表。\n\n> 预留字段。\n","items":{"$ref":"#/definitions/CreateResolveTaskParamMode"},"type":"array"},"resolve_count":{"description":"智能信息解析成功的手机号码总数。","type":"integer"},"send_count":{"description":"发送数量。","type":"integer"},"submission_count":{"description":"提交的手机号码总数。","type":"integer"},"success_number":{"description":"发送成功的智能信息数。","type":"integer"},"support_resolve_count":{"description":"支持智能信息解析的手机号码总数。\n\n>通过API发送的智能信息任务不做解析能力判断,返回-1作为标识。\n","type":"integer"},"task_id":{"description":"任务ID。","type":"string"},"task_state":{"description":"任务状态。\n\n- Success:发送成功\n- Failed:发送失败\n\n> 此状态仅代表任务提交状态,不代表智能信息发送结果。用户手机接收智能信息结果请以收到的回执结果为准,也可通过查询智能信息发送明细API获取或登录KooMessage控制台查看。\n","type":"string"}}}],"description":"智能信息发送任务。"},"AimErrorMsg":{"description":"错误模型。","properties":{"error_code":{"description":"结果状态码。","type":"string"},"error_message":{"description":"结果详情。\n\n> 该字段在以后可能会废弃,建议使用error_msg字段对接。\n"},"error_msg":{"description":"结果详情。","type":"string"}}},"CreateResolveTaskParamMode":{"description":"生成短链的响应参数对象。","properties":{"aim_code":{"description":"智能信息编码,样例:PDiWqc。","example":"asides","type":"string"},"aim_url":{"description":"完整的短链连接地址,通过自己的短信渠道发送时,需要把该短链添加到短信模板中,并确保发送短信时的签名与创建短链时的签名保持一致。样例:km2g.cn/PDiWqc。","example":"aim6.cn/asides","type":"string"},"cust_flag":{"description":"创建解析任务时填写用户唯一标识,手机号码或者任何的唯一标识,唯一标识不超过64个字符。 发送智能信息时则必须填客户的手机号码。样例为:130****0001。","example":"130****0001","type":"string"},"cust_id":{"description":"租户ID。","example":"231724915a62455ca356e10a085c0000","type":"string"},"custom_short_code":{"description":"自定义短码,支持长度为3到10位的数字或大小写字母。样例为:aDC123。","type":"string"},"custom_url":{"description":"自定义跳转地址。\n> - 未填时,终端用户点击访问短信原文中的短链,跳转智能信息H5页\n> - 已填时,终端用户点击访问短信原文中的短链,跳转客户填写的链接落地页,填写时必须为http或https作为前缀\n","type":"string"},"dync_params":{"additionalProperties":{"type":"string"},"description":"动态参数。","type":"object"},"error_message":{"description":"短链申请结果错误描述。\n","example":"成功","type":"string"},"expire_date":{"description":"短链到期时间。样例为:2019-10-12T07:20:50Z。","example":"2019-10-12T07:20:50","type":"string"},"ext_data":{"description":"自定义扩展参数。\n\n>预留字段。\n","type":"string"},"generate_date":{"description":"短链生成时间。样例为:2019-10-12T07:20:50Z。","example":"2019-10-12T07:20:50","type":"string"},"resolved_date":{"description":"解析时间。样例为:2019-10-12T07:20:50Z。\n\n>预留字段。\n","example":"2019-10-12T07:20:50","type":"string"},"resolved_times":{"description":"短链实际解析次数。\n\n>预留字段。\n","example":1,"type":"integer"},"result_code":{"description":"短链申请结果返回码。\n- 0:成功\n- 非0:失败,具体请参见错误码\n","example":"0","type":"string"}},"type":"object"},"ListAimSendTasksRsp":{"description":"查询智能信息发送任务列表响应。","properties":{"aim_send_tasks":{"description":"短信记录查询结果列表。","items":{"$ref":"#/definitions/AIMSendTasksMode"},"maxItems":100,"type":"array"},"page_info":{"$ref":"#/definitions/Page","description":"分页信息。"}}},"Page":{"description":"分页信息。","properties":{"limit":{"description":"每页显示的条目数量。","example":20,"type":"integer"},"offset":{"description":"偏移量,表示从此偏移量开始查询,offset大于等于0。","example":1,"type":"integer"},"total":{"description":"总条数。","example":222,"type":"integer"}}},"ResolveTaskParam":{"description":"生成短链的参数对象。","properties":{"cust_flag":{"description":"创建解析任务时填写用户唯一标识,手机号码或者任何的唯一标识,唯一标识不超过64个字符。 发送智能信息时则必须填客户的手机号码。样例为:130****0001。","example":"130****0001","type":"string"},"custom_url":{"description":"自定义跳转地址。长度要求不超过2048。\n> - 未填时,终端用户点击短信原文中的短链后,跳转智能信息模板H5页\n> - 已填时,终端用户点击短信原文中的短链后,跳转该字段对应的页面,填写时必须为http或https作为前缀\n> - 使用自定义跳转链接功能请联系KooMessage运营人员进行域名备案\n","example":"https://www.xxxx.com","pattern":"^http[s]{0,1}://([\\w-]+\\.)+[\\w-]+(/[\\w-./?%&=]*)?$","type":"string"},"dync_params":{"additionalProperties":{"example":"param","type":"string"},"description":"动态参数。\n> 使用动态参数模板时,aim_code_type字段只能为individual。\n","type":"object"}},"required":["cust_flag"],"type":"object"}},"description":null,"group_id":"57a445a5fb5d4ba5b80445bd4c5ec9b3","host":"koomessage.myhuaweicloud.cn","id":"498fe512ca4e423db8aab665e8229efc","info_version":"v1","method":"get","name":"ListAimSendTasks","parameters":{},"paths":{"/v1/aim/send-tasks":{"get":{"consumes":["application/json"],"description":"\n根据用户提供的过滤条件查询智能信息发送任务列表,包括:发送任务名称、智能信息模板ID等。","operationId":"ListAimSendTasks","parameters":[{"description":"用户Token。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"智能信息发送任务ID。","in":"query","name":"task_id","required":false,"type":"string"},{"description":"智能信息发送任务名称。","in":"query","maxLength":20,"minLength":0,"name":"task_name","required":false,"type":"string"},{"description":"智能信息模板ID。","in":"query","maxLength":9,"minLength":0,"name":"tpl_id","required":false,"type":"string"},{"description":"智能信息模板名称。","in":"query","maxLength":100,"minLength":0,"name":"tpl_name","required":false,"type":"string"},{"description":"智能信息发送任务创建开始时间。样例:2019-10-12T07:20:50.522Z。\n\n> 需同时传入end_time才能生效,单独传begin_time不会作为过滤条件。缺省:查询最近7天(168小时)数据。\n>\n> 仅支持查询最近1年内创建的智能信息发送任务。\n","in":"query","name":"begin_time","required":false,"type":"string"},{"description":"智能信息发送任务创建结束时间。样例:2019-10-12T07:20:50.522Z。\n\n> 需同时传入begin_time才能生效,单独传end_time不会作为过滤条件。缺省:查询最近7天(168小时)数据。\n","in":"query","name":"end_time","required":false,"type":"string"},{"description":"智能信息发送任务状态。 \n- Success:创建成功 \n- Fail:创建失败\n","in":"query","name":"task_status","required":false,"type":"string"},{"default":0,"description":"偏移量,表示从此偏移量开始查询,offset大于等于0。\n\n>为提高查询效率,offset+limit须小于等于10000,超出范围查询为空。\n","in":"query","maximum":1000000,"minimum":0,"name":"offset","required":false,"type":"integer"},{"default":20,"description":"每页显示的条目数量。\n","in":"query","maximum":100,"minimum":1,"name":"limit","required":false,"type":"integer"}],"produces":["application/json"],"responses":{"200":{"description":"返回信息。","examples":{"application/json":{"aim_send_tasks":[{"creation_time":"2022-07-19T14:57:20.00Z","failed_short_chains":null,"resolve_count":1,"send_count":2,"sms_channel":{"sms_sign":"华为云KooMessage"},"submission_count":2,"success_number":2,"support_resolve_count":-1,"task_id":"7cc198c3-91d3-425b-9226-54c27cd7cccc","task_name":"智能信息发送-动态参数","task_state":"Success"}],"page_info":{"limit":2,"offset":0,"total":1}}},"schema":{"$ref":"#/definitions/ListAimSendTasksRsp"}},"400":{"description":"非法参数。","schema":{"$ref":"#/definitions/AimErrorMsg"}},"500":{"description":"内部错误。","schema":{"$ref":"#/definitions/AimErrorMsg"}}},"summary":"查询智能信息发送任务","tags":["AIMSendTask"],"x-apigateway-request-type":"Public","x-is-registered":"Y","x-opseverity":"Info","x-request-examples-description-1":"查询智能信息发送任务。","x-request-examples-url-1":"https://koomessage.myhuaweicloud.com/v1/aim/send-tasks?offset=0&limit=2","x-support-sdk":"Y"}}},"product_short":"KooMessage","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-app":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-app-optional":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-opt":{"access-auth-type":"optional"},"x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-iam-none":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM_NONE"}},"summary":"查询智能信息发送任务","tags":"智能信息发送","uri":null,"version":"2.0"}