{"base_path":null,"components":null,"consumes":"","definitions":{"AimSaErrorMsg":{"properties":{"error_code":{"description":"错误码。","type":"string"},"error_msg":{"description":"结果详情。","type":"string"}}},"CreatePubFastappModel":{"description":"快应用模型。","properties":{"deeplink":{"description":"快应用跳转链接。","maxLength":1000,"minLength":1,"pattern":"^hap://app/.*$","type":"string"},"depend_engine_version":{"description":"快应用依赖引擎版本。\n\n> 长度范围为1-50个字符,中文占2个字符,英文占1个字符。\n","type":"string"},"description":{"description":"快应用描述。\n\n> 长度范围为1-38个字符,中文占2个字符,英文占1个字符。\n","type":"string"},"logo_img":{"description":"快应用LOGO图片资源ID。\n\n> 图片格式为jpg、bmp、jpeg,分辨率大于等于192*192,大小不超过4M。参数值为上传智能信息服务号图片资源API返回的resource_id。\n","maxLength":32,"minLength":32,"type":"string"},"name":{"description":"快应用名。\n\n> 长度范围为1-30个字符,中文占2个字符,英文占1个字符。\n","pattern":"^((?![\\s\\*\\-]).){1,15}$","type":"string"}},"required":["deeplink","depend_engine_version","logo_img","name"]},"CreatePubInfoRequestBody":{"description":"创建服务号一站式请求体。","example":{},"properties":{"menu_request_body":{"$ref":"#/definitions/MenuInfoRequestBody","description":"创建菜单的请求体。"},"portal_request_body":{"$ref":"#/definitions/PortalInfoRequestBody","description":"创建主页的请求体。"},"pub_request_body":{"$ref":"#/definitions/PubInfoRequestBody","description":"创建服务号的请求体。"}},"required":["menu_request_body","portal_request_body","pub_request_body"]},"CreatePubInfoResponseModel":{"description":"创建服务号的返回体。","properties":{"data":{"description":"响应实体类。","properties":{"log_id":{"description":"服务号申请记录ID。","example":"10001","type":"string"},"menu_id":{"description":"菜单ID。","example":"3452ec75eb974f508cee2cee10a7d968","type":"string"},"portal_id":{"description":"主页ID。","example":"5645ec75eb974f508cee2cee10a7d968","type":"string"},"pub_id":{"description":"服务号ID。","example":"5467ec75eb974f508cee2cee10a7d968","type":"string"},"pub_name":{"description":"服务号名称。","example":"谷歌01通过","type":"string"}},"required":["log_id"],"type":"object"}}},"CreatePubInfoRsp":{"properties":{"data":{"$ref":"#/definitions/CreatePubInfoResponseModel"}}},"ExtMsg":{"properties":{"app_id":{"description":"商家应用的appid,长度范围为0-60个字符。\n> action_type=OPEN_APP必填,其他不填。\n","type":"string"},"browser_floor_url":{"description":"兜底url,长度范围为0-1000个字符,支持http/https。\n> action_type=OPEN_APP选填,其他不填。\n","type":"string"},"depend_engine_ver":{"description":"依赖的快应用引擎版本号,长度范围为1-50个字符。\n> action_type=OPEN_QUICK必填,其他不填。\n","type":"string"},"open_in_browser":{"description":"打开方式。\n- 0:webView打开 \n- 1:浏览器打开 \n\n> action_type=OPEN_URL必填,其他不填。\n","type":"string"},"package_name":{"description":"app包名,长度范围为1-50个字符。\n> action_type=OPEN_APP必填,其他不填。\n","type":"string"},"third_service_name":{"description":"第三方服务名,长度范围为1-50个字符。\n> action_type=OPEN_QUICK或OPEN_APP必填,其他不填。\n","type":"string"},"web_title":{"description":"标题,必填,长度范围为1-20个字符。\n> action_type=OPEN_URL必填,其他不填。\n","type":"string"}}},"MenuInfoRequestBody":{"properties":{"menu":{"$ref":"#/definitions/MenusMode"}},"required":["menu"]},"MenuItem":{"properties":{"action_type":{"description":"菜单动作类型。\n- OPEN_SUBMENU:打开子菜单\n- OPEN_URL:打开URL\n- CALLING:拨打电话\n- OPEN_APP:打开APP\n- OPEN_QUICK:打开快应用\n","example":"OPEN_URL","maxLength":30,"minLength":0,"type":"string"},"content":{"description":"对应值类型。对应不同action_type值,content含义如下:\n- action_type=OPEN_SUBMENU:不填\n- action_type=OPEN_URL:参数数值为跳转URL\n- action_type=CALLING:参数数值为电话号码\n- action_type=OPEN_APP:参数数值为APP的跳转deeplink\n- action_type=OPEN_QUICK:参数数值为快应用跳转的deeplink\n","example":"https://www.xxxx.com","maxLength":1000,"minLength":0,"type":"string"},"ext_msg":{"$ref":"#/definitions/ExtMsg","description":"额外需要携带的信息。\n\n- action_type=OPEN_SUBMENU时,不填\n- action_type=CALLING时,不填\n- action_type=OPEN_URL时,必填\n- action_type=OPEN_APP时,必填\n- action_type=OPEN_QUICK时,必填\n"},"name":{"description":"子菜单名称。\n\n1. 一级菜单名长度和菜单数量有关,具体约束为:\n\n   - 当菜单数量为1个时,菜单名长度范围在1-24个字符。\n   - 当菜单数量为2个时,菜单名长度范围在1-12个字符。\n   - 当菜单数量为3个时,菜单名长度范围在1-8个字符。\n\n2. 二级菜单名长度范围恒为1-16个字符。\n\n> 以上字符区分中英文,一个中文占2个字符,字母和数字占1个字符,且同时生效的一组菜单内名称不能重复。","type":"string"},"sub_menu_items":{"description":"子菜单配置项。\n\n> 仅当action_type=OPEN_SUBMENU时生效,且该项内不允许再配置子菜单。\n","example":"[]","items":{"$ref":"#/definitions/MenuItem"},"maxItems":5,"minItems":0,"type":"array"}},"required":["action_type","name"]},"MenusMode":{"properties":{"menu_items":{"description":"各子菜单项配置。\n","items":{"$ref":"#/definitions/MenuItem"},"maxItems":3,"minItems":0,"type":"array"}},"required":["menu_items"]},"PortalInfoRequestBody":{"description":"创建主页请求体。","properties":{"background_img":{"description":"主页背景图片资源ID。\n\n> 分辨率大于等于1440*810,支持jpg、jpeg、bmp、png。参数值为上传智能信息服务号图片资源API返回的resource_id。\n","example":"2f808aeae54f42b6b60f354d076bb63b","maxLength":32,"minLength":32,"type":"string"},"fastapps":{"description":"快应用列表。","items":{"$ref":"#/definitions/CreatePubFastappModel"},"maxItems":10,"minItems":0,"type":"array"},"hw_pubs":{"description":"华为服务号列表。\n\n> 预留,暂未使用。\n","items":{"maxLength":50,"minLength":1,"type":"string"},"maxItems":10,"minItems":0,"type":"array"},"summary":{"description":"简介。","example":"主页简介","maxLength":75,"minLength":1,"type":"string"},"tels":{"description":"热线号列表。","items":{"$ref":"#/definitions/TelModel"},"maxItems":5,"minItems":0,"type":"array"}},"required":["background_img","summary"]},"PubInfoRequestBody":{"description":"PubRequestBody","properties":{"authorization_files":{"description":"授权证明图片ID,最多支持6张。\n\n> 参数值为上传智能信息服务号图片资源API返回的resource_id。\n","example":["b16023e2e7c24418aa6b4e471d600001","da916e86576d43f1895ffa0f23300001"],"items":{"type":"string"},"maxItems":6,"minItems":0,"type":"array"},"auto_get_port":{"description":"是否授权系统自动收集端口。 \n\n- 0:否\n- 1:是\n","example":0,"maximum":1,"minimum":0,"type":"integer"},"industry":{"description":"从事行业,默认取服务号所属商家的行业分类。 \n- 1:金融理财 \n- 2:社交通讯 \n- 3:影音娱乐 \n- 4:旅游出行 \n- 5:购物 \n- 6:本地生活 \n- 7:运动健康 \n- 8:教育培训 \n- 9:新闻阅读 \n- 10:运营商 \n- 11:其他\n","example":1,"maximum":11,"minimum":1,"type":"integer"},"logo_img":{"description":"服务号LOGO图片ID。\n\n> 通过上传智能信息服务号图片资源接口上传LOGO图片后获得的图片resource_id。图片要求大于等于240*240且比例相同。\n","example":"718ae5c3add041048ff00b3d00a23852","maxLength":32,"minLength":32,"type":"string"},"pub_abstract":{"description":"服务号简介。","example":"服务号简介","maxLength":75,"minLength":1,"type":"string"},"pub_name":{"description":"服务号名称。\n\n> 同一个企业下可以相同,不同企业下不能重复。\n","example":"服务号名称","maxLength":15,"minLength":1,"type":"string"},"pub_remark":{"description":"服务号备注。\n\n> 同一个企业下,服务号名称相同时该项必须不同。\n","example":"服务号备注","maxLength":15,"minLength":1,"type":"string"},"signs_for_auto_get_port":{"description":"自动收集端口使用的签名列表。\n\n> auto_get_port为1时,该字段为必填,每个签名长度为2-18个字符,每个服务号签名不可以重复。\n","example":[""],"items":{"maxLength":18,"minLength":2,"type":"string"},"maxItems":5,"minItems":0,"type":"array"}},"required":["authorization_files","logo_img","pub_abstract","pub_name"]},"TelModel":{"description":"热线模型。","properties":{"tel":{"description":"电话号码(只能包含数字和”-“,且开头和结尾必须为数字)。","maxLength":20,"minLength":1,"pattern":"^[0-9]+[\\-]?[0-9]+$","type":"string"},"usage":{"description":"号码用途。\n\n> 号码用途长度范围为1-30个字符,中文占2个字符,英文占1个字符。\n","type":"string"}},"required":["tel","usage"]}},"description":null,"group_id":"57a445a5fb5d4ba5b80445bd4c5ec9b3","host":"koomessage.myhuaweicloud.cn","id":"90ee94bb1b644ae88d4116aa9f741c12","info_version":"v1","method":"post","name":"CreatePubInfo","parameters":{},"paths":{"/v1/aim-sa/unify/pubs":{"post":{"consumes":["application/json"],"description":"一站式服务号创建。","operationId":"CreatePubInfo","parameters":[{"description":"用户Token。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":2000,"minLength":0,"name":"X-Auth-Token","required":true,"type":"string"},{"description":"创建服务号一站式请求体。","in":"body","name":"CreatePubInfoRequestBody","required":true,"schema":{"$ref":"#/definitions/CreatePubInfoRequestBody"}}],"produces":["application/json"],"responses":{"200":{"description":"返回信息。","examples":{"application/json":{"data":{"data":{"log_id":"14458","menu_id":"b1323ef35b8f4ee3a6767fa5b6cbcccc","portal_id":"71233b4208194db991e0ec091f23cccc","pub_id":"5467ec75eb974f508cee2cee10a7cccc","pub_name":"服务号名称"}}}},"schema":{"$ref":"#/definitions/CreatePubInfoRsp"}},"400":{"description":"非法参数。","schema":{"$ref":"#/definitions/AimSaErrorMsg"}},"500":{"description":"内部错误。","schema":{"$ref":"#/definitions/AimSaErrorMsg"}}},"security":[{"apig-auth-iam":[]}],"summary":"一站式服务号创建","tags":["AimSaPubUnify"],"x-apigateway-request-type":"Public","x-is-registered":"Y","x-opseverity":"Info","x-request-examples-1":{"menu_request_body":{"menu":{"menu_items":[{"action_type":"OPEN_URL","content":"https://www.xxxx.com/","ext_msg":{"open_in_browser":1,"web_title":"百度百度"},"name":"打开商城","sub_menu_items":[]},{"action_type":"OPEN_SUBMENU","ext_msg":{},"name":"联系我们","sub_menu_items":[{"action_type":"OPEN_URL","content":"https://www.xxxx.com/","ext_msg":{"open_in_browser":1,"web_title":"url标题"},"name":"百度一下","sub_menu_items":[]}]}]}},"portal_request_body":{"background_img":"6d5eb6dc1c1a4fa6a240671e0845cccc","fastapps":[{"deeplink":"hap://app/fastapp1","depend_engine_version":"1040","description":"快应用简介","logo_img":"651029053e15443eb5e26e1f4495cccc","name":"主页快应用"}],"summary":"主页简介","tels":[{"tel":"131****0000","usage":"官网电话用途"}]},"pub_request_body":{"authorization_files":["0315f966f362400d9b2f369aef98cccc"],"auto_get_port":0,"industry":1,"logo_img":"651029053e15443eb5e26e1f4495cccc","pub_abstract":"服务号摘要","pub_name":"服务号名称","pub_remark":"服务号备注","signs_for_auto_get_port":[]}},"x-request-examples-description-1":"一站式创建智能信息服务号。","x-request-examples-url-1":"https://koomessage.myhuaweicloud.cn/v1/aim-sa/unify/pubs","x-support-sdk":"Y"}}},"product_short":"KooMessage","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-app":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-app-optional":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-opt":{"access-auth-type":"optional"},"x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-iam-none":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM_NONE"}},"summary":"一站式服务号创建","tags":"一站式创建服务号","uri":null,"version":"2.0"}