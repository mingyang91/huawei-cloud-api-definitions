{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ErrorRsp":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"错误码","example":"CSMS.XXXX","maxLength":36,"minLength":8,"type":"string"},"error_msg":{"description":"错误描述","example":"XXXX","maxLength":512,"minLength":2,"type":"string"}},"required":["error_code","error_msg"]},"GrantData":{"description":"授权返回数据","properties":{"createTime":{"description":"创建时间","format":"int64","type":"integer"},"granteeUser":{"description":"授权目标用户id","type":"string"},"resourceId":{"description":"资源id","maxLength":64,"minLength":1,"type":"string"},"signature":{"description":"签名","maxLength":512,"minLength":0,"type":"string"},"state":{"description":"状态","format":"int32","maximum":16,"minimum":0,"type":"integer"},"type":{"description":"授权类型(SECRET,GROUP)","maxLength":16,"minLength":1,"type":"string"},"updateTime":{"description":"更新时间","format":"int64","type":"integer"},"uuid":{"description":"授权id,授权给个人时存在","maxLength":64,"minLength":1,"type":"string"},"validityTime":{"description":"有效期","format":"int64","type":"integer"}},"required":["uuid","resourceId","type","granteeUser"],"title":"GrantDTOResponseBody","type":"object"},"GrantResponse":{"properties":{"data":{"$ref":"#/definitions/GrantData","description":"授权结构体"}},"required":["data"],"type":"object"},"GrantSecretReqBody":{"description":"授权传入参数","properties":{"grantee_target_id":{"description":"被授权id","maxLength":64,"minLength":1,"type":"string"},"grantee_type":{"description":"被授权类型,(0:USER;2:GROUP)个人,群组","maxLength":16,"minLength":1,"type":"string"},"resource_id":{"description":"资源id","maxLength":64,"minLength":1,"type":"string"},"type":{"description":"资源类型(SECRET、GROUP)","maxLength":10,"minLength":5,"type":"string"},"validity_time":{"description":"有效期截止时间","format":"date","type":"string"}},"required":["resource_id","type","grantee_type","grantee_target_id"],"title":"AuthSecretReqBody","type":"object"}},"description":null,"group_id":"2696b19762094c0393f47c92da7528c5","host":"kms.cn-north-4.myhuaweicloud.com","id":"6b0aba414bd44e658cc4303055339959","info_version":"v1","method":"put","name":"UpdateGrant","parameters":{},"paths":{"/v1/{project_id}/csms/grants":{"put":{"description":"更新授权","operationId":"UpdateGrant","parameters":[{"description":"项目id","in":"path","maxLength":64,"minLength":1,"name":"project_id","required":true,"type":"string"},{"description":"用户token","in":"header","maxLength":2097152,"minLength":32,"name":"X-Auth-Token","required":true,"type":"string"},{"description":"授权入参","in":"body","name":"UpdateGrantRequestBody","required":true,"schema":{"$ref":"#/definitions/GrantSecretReqBody"}},{"description":"资源ID","in":"query","maxLength":64,"minLength":1,"name":"resource_id","required":true,"type":"string"}],"responses":{"200":{"description":"更新授权响应","examples":{"application/json":{"data":{"createTime":"2022-11-09 16:37:24","granteeUser":"user_01","resourceId":"43d643d2-95ec-4b0f-8020-a84f3ce931cc","signature":"","state":0,"type":"SECRET","updateTime":"2022-11-09 16:37:24","uuid":"1c087a48-0d48-4222-9d34-ae43d30b27d2","validityTime":null}}},"schema":{"$ref":"#/definitions/GrantResponse"}},"400":{"description":"请求参数有误","schema":{"$ref":"#/definitions/ErrorRsp"}},"401":{"description":"被请求的页面需要用户名和密码","schema":{"$ref":"#/definitions/ErrorRsp"}},"403":{"description":"认证失败","schema":{"$ref":"#/definitions/ErrorRsp"}},"404":{"description":"资源不存在,资源未找到","schema":{"$ref":"#/definitions/ErrorRsp"}},"500":{"description":"服务内部错误","schema":{"$ref":"#/definitions/ErrorRsp"}},"502":{"description":"请求未完成。服务器从上游服务器收到一个无效的响应","schema":{"$ref":"#/definitions/ErrorRsp"}},"504":{"description":"网关超时","schema":{"$ref":"#/definitions/ErrorRsp"}}},"summary":"更新授权","tags":["授权管理"],"x-is-registered":"Y","x-request-examples-1":{"grantee_target_id":5,"grantee_type":"0","resource_id":21,"type":"SECRET"},"x-request-examples-text-1":{"grantee_target_id":5,"grantee_type":"0","resource_id":21,"type":"SECRET"},"x-support-sdk":"Y"}}},"product_short":"CSMS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"更新授权","tags":"授权管理","uri":null,"version":"2.0"}