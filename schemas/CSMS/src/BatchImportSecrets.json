{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CreateSecretRequestBody":{"description":"创建凭据请求消息体。","properties":{"auto_rotation":{"description":"自动轮转\n\n取值:true 开启 ,false 关闭 (默认)","example":"this is a demo secret auto rotation","type":"boolean"},"description":{"description":"凭据的描述信息。\n\n约束:2048字节。","example":"this is a demo","maxLength":2048,"minLength":0,"type":"string"},"enterprise_project_id":{"description":"该参数针对企业用户使用。如果您是企业用户,且已创建企业项目,则请从下拉列表中为密钥选择需要绑定的企业项目,默认项目为“default”。\n未开通企业管理的用户页面则没有“企业项目”参数项,无需进行配置。","example":"xxxxxxxx-6545-44be-988f-6880a2cb0e2f","maxLength":36,"minLength":1,"type":"string"},"event_subscriptions":{"description":"凭据订阅的事件列表,当前最大可订阅一个事件。当事件包含的基础事件触发时,通知消息将发送到事件对应的通知主题。","example":"pocEvent","items":{"description":"基础事件类型。","maxLength":32,"minLength":0,"type":"string"},"maxItems":1,"minItems":0,"type":"array"},"kms_key_id":{"description":"用于加密保护凭据值的KMS主密钥ID,如果您未指定此参数,凭据管理服务将默认使用名为csms/default的默认主密钥,用于加密您账号在本项目中创建的凭据值。如果用户账号下不存在该名称的主密钥,则凭据管理服务自动为您创建该名称的密钥。","example":"0d0466b0-e727-4d9c-b35d-f84bb474a37f","pattern":"^[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}$","type":"string"},"name":{"description":"待创建凭据的名称。\n\n约束:取值范围为1到64个字符,满足正则匹配“^[a-zA-Z0-9_-]{1,64}$”。","example":"demo","pattern":"^[a-zA-Z0-9_-]{1,64}$","type":"string"},"rotation_config":{"description":"轮转配置\n\n约束:范围不超过1024个字符。\n\n当secret_type为RDS-FG、GaussDB-FG时,必须填写本参数,参数格式为{\"InstanceId\":\"\",\"SecretSubType\":\"\"}\n\n参数说明:InstanceId为实例ID,SecretSubType为轮转子类型,取值为:SingleUser,MultiUser。\n\nSingleUser:指定轮转类型为单用户模式轮转,每次轮转将指定账号重置为新的口令。\n\nMultiUser:指定轮转类型为双用户模式轮转,SYSCURRENT和SYSPREVIOUS分别引用其中一个账号。凭据轮转时,SYSPREVIOUS引用的账号口令会被重置为新的随机口令,随后凭据交换SYSCURRENT和SYSPREVIOUS对账号的引用。","example":"this is a demo secret rotation config","maxLength":1024,"minLength":0,"type":"string"},"rotation_func_urn":{"description":"FunctionGraph函数的urn。","example":"urn:fss:{region}:46b6f338fc3445b8846c71dfb1fbxxxx:function:default:test2-0:latest","type":"string"},"rotation_period":{"description":"轮转周期\n\n约束:6小时-8,760小时 (365天)\n\n类型:Integer[unit] ,Integer表示时间长度 。unit表示时间单位,d(天)、h(小时)、m(分钟)、s(秒)。例如 1d 表示一天,24h也表示一天\n\n说明:当开启自动轮转时,必须填写该值","example":"this is a demo secret rotation period","maxLength":50,"minLength":0,"type":"string"},"secret_binary":{"description":"二进制类型凭据在base64编码后的明文,凭据管理服务将其加密后,存入凭据的初始版本中。\n\n类型:base64编码的二进制数据对象。\n\n约束:secret_binary和secret_string必须且只能设置一个,最大32K。","example":"this is a demo secret binary","maxLength":32768,"minLength":0,"type":"string"},"secret_string":{"description":"文本类型凭据的明文,凭据管理服务将其加密后,存入凭据的初始版本中。\n\n约束:secret_binary和secret_string必须且只能设置一个,最大32K。","example":"this is a demo secret string","maxLength":32768,"minLength":0,"type":"string"},"secret_type":{"description":"凭据类型\n\n - COMMON:通用凭据(默认)。用于应用系统中的各种敏感信息储存。\n - RDS:RDS凭据 。专门针对RDS的凭据,用于存储RDS的账号信息。(已不支持,使用RDS-FG替代)\n - RDS-FG:RDS凭据 。专门针对RDS的凭据,用于存储RDS的账号信息。\n - GaussDB-FG:TaurusDB凭据。专门针对TaurusDB的凭据,用于存储TaurusDB的账号信息。","enum":["COMMON","RDS-FG","GaussDB-FG"],"example":"COMMON","type":"string"}},"required":["name"],"type":"object"},"ErrorInfo":{"properties":{"error_msg":{"description":"失败原因","type":"string"},"name":{"description":"名称","type":"string"}},"required":["name","error_msg"],"type":"object"},"ErrorResponse":{"properties":{"error_code":{"description":"错误编号。","type":"string"},"error_msg":{"description":"错误详情。","type":"string"}},"required":["error_code","error_msg"],"type":"object"},"ImportResponse":{"properties":{"error_list":{"description":"失败描述","items":{"$ref":"#/definitions/ErrorInfo"},"type":"array"},"failed":{"description":"失败条数","format":"int32","type":"integer"},"success":{"description":"成功条数","format":"int32","type":"integer"},"total":{"description":"总条数","format":"int32","type":"integer"}},"required":["error_list","total","success","failed"],"type":"object"},"ImportSecretsRequest":{"properties":{"secrets":{"description":"批量创建凭据参数","items":{"$ref":"#/definitions/CreateSecretRequestBody"},"type":"array"}},"required":["secrets"],"type":"object"}},"description":null,"group_id":"2696b19762094c0393f47c92da7528c5","host":"kms.cn-north-4.myhuaweicloud.com","id":"652f23d2703541b4b6078ad392263f0a","info_version":"v1","method":"post","name":"BatchImportSecrets","parameters":{"X-Auth-Token":{"description":"用户Token。 通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":2097152,"minLength":32,"name":"X-Auth-Token","required":true,"type":"string"}},"paths":{"/v1/{project_id}/secrets/batch-import":{"post":{"description":"批量导入凭据。","operationId":"BatchImportSecrets","parameters":[{"description":"项目id","in":"path","name":"project_id","required":true,"type":"string"},{"$ref":"#/parameters/X-Auth-Token"},{"description":"创建批量凭据请求消息体。","in":"body","name":"ImportSecretsRequest","required":true,"schema":{"$ref":"#/definitions/ImportSecretsRequest"}}],"responses":{"200":{"description":"请求已成功","schema":{"$ref":"#/definitions/ImportResponse"}},"400":{"description":"请求失败","schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"批量导入凭据","tags":["生命周期管理"],"x-is-registered":"Y","x-support-sdk":"Y"}}},"product_short":"CSMS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"批量导入凭据","tags":"生命周期管理","uri":null,"version":"2.0"}