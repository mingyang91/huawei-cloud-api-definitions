{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"Error":{"properties":{"error":{"$ref":"#/definitions/ErrorDetail","description":"错误信息返回体。"}},"type":"object"},"ErrorDetail":{"properties":{"error_code":{"description":"错误请求返回的错误码","maxLength":36,"minLength":3,"type":"string"},"error_msg":{"description":"错误请求返回的错误信息","maxLength":1024,"minLength":0,"type":"string"}}},"ListEventNotifyRecordsResponseBody":{"properties":{"page_info":{"$ref":"#/definitions/PageInfo"},"records":{"description":"Record对象。","items":{"$ref":"#/definitions/Record"},"maxItems":1000,"minItems":0,"type":"array"}}},"PageInfo":{"description":"分页信息。","properties":{"current_count":{"description":"本页返回条目数量。","example":1000,"format":"int32","maximum":1000,"minimum":0,"type":"integer"},"next_marker":{"description":"下一页查询地址(本页的末尾凭据名称,下一页起始凭据名称)。","example":"secret-name-test","pattern":"^[a-zA-Z0-9_-]{1,64}$","type":"string"},"previous_marker":{"description":"本页的起始凭据名称,上一页末尾凭据名称。","example":"secret-name-test","pattern":"^[a-zA-Z0-9_-]{1,64}$","type":"string"}}},"Record":{"description":"事件通知记录。","properties":{"create_time":{"description":"事件通知记录的创建时间,时间戳,即从1970年1月1日至该时间的总秒数。","example":1581507580000,"format":"int64","maximum":13,"minimum":0,"type":"integer"},"event_name":{"description":"凭据名称。","example":"demo-secret","pattern":"^[a-zA-Z0-9_-]{1,64}$","type":"string"},"notification_content":{"description":"事件通知的内容。","example":{"data":{"createTime":"2023-03-22T20:43:04.000Z","secretId":"fde3d6ba-cb31-40b0-b6c4-78757050f8c8","secretName":"Secret20230325","updateTime":"2023-03-29T17:02:13.000Z","versionExpireTime":"2023-03-27T22:28:21.000Z","versionId":"v1"},"eventName":"TestEvent20221112","eventTime":"2023-03-29T21:00:42.308Z","eventType":"SECRET_VERSION_EXPIRED"},"maxLength":255,"minLength":0,"type":"string"},"notification_status":{"description":"事件通知状态。\n\n- SUCCESS:事件通知成功。\n- FAIL:事件通知失败。\n- INVALID:事件通知配置主题信息无效或不正确,无法触发通知。","enum":["SUCCESS","FAIL","INVALID"],"example":"SUCCESS","type":"string"},"notification_target_id":{"description":"事件通知的对象ID。","example":"urn:smn:cn-north-4:dc3b7c85759141a991da17423c0f2068:test-poc","pattern":"^[a-zA-Z0-9\\-._:]{1,256}$","type":"string"},"notification_target_name":{"description":"事件通知的对象名称。","example":"test-poc","pattern":"^[a-zA-Z0-9_-]{1,64}$","type":"string"},"secret_name":{"description":"凭据名称。","example":"demo","pattern":"^[a-zA-Z0-9_-]{1,64}$","type":"string"},"secret_type":{"description":"凭据类型\n\n- COMMON:通用凭据(默认)。用于应用系统中的各种敏感信息储存。\n- RDS:RDS凭据 。专门针对RDS的凭据,用于存储RDS的账号信息。(已不支持,使用RDS-FG替代)\n- RDS-FG:RDS凭据 。专门针对RDS的凭据,用于存储RDS的账号信息。\n- GaussDB-FG:GaussDB凭据。专门针对GaussDB的凭据,用于存储GaussDB的账号信息。","enum":["COMMON","RDS-FG","GaussDB-FG"],"example":"COMMON","type":"string"},"trigger_event_type":{"description":"事件类型。\n- SECRET_VERSION_CREATED:版本创建\n- SECRET_VERSION_EXPIRED:版本过期\n- SECRET_ROTATED:凭据轮转成功\n- SECRET_DELETED:凭据删除\n- SECRET_ROTATED_FAILED:凭据轮转失败","enum":["SECRET_VERSION_CREATED","SECRET_VERSION_EXPIRED","SECRET_ROTATED","SECRET_DELETED","SECRET_ROTATED_FAILED"],"example":"SECRET_VERSION_CREATED","type":"string"}},"type":"object"}},"description":null,"group_id":"2696b19762094c0393f47c92da7528c5","host":"kms.cn-north-4.myhuaweicloud.com","id":"084a1b5e4bc74a4bb388d86382faa574","info_version":"v1","method":"get","name":"ListNotificationRecords","parameters":{},"paths":{"/v1/{project_id}/csms/notification-records":{"get":{"description":"查询三个月内所有已触发的事件通知记录。","operationId":"ListNotificationRecords","parameters":[{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":2097152,"minLength":32,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"项目ID。","in":"path","maxLength":64,"minLength":32,"name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"}],"produces":["application/json"],"responses":{"200":{"description":"请求已成功","examples":{"application/json":{"records":[{"create_time":1581507580000,"event_name":"demo-event","notification_content":"{\"eventName\":\"TestEvent20221112\",\"eventType\":\"SECRET_VERSION_EXPIRED\",\"eventTime\":\"2023-04-14T20:25:10.126Z\",\"data\":{\"secretId\":\"fde3d6ba-cb31-40b0-b6c4-78757050f8c8\",\"secretName\":\"Secret20230325\",\"createTime\":\"2023-03-22T20:43:04.000Z\",\"updateTime\":\"2023-04-14T20:18:29.000Z\",\"versionId\":\"v18\",\"versionExpireTime\":\"2023-03-29T17:07:23.000Z\"}}","notification_status":"SUCCESS","notification_target_id":"urn:smn:cn-north-4:SecertExpirationTest","notification_target_name":"SecertExpirationNotificationTest","secret_name":"demo-secret","secret_type":"COMMON","trigger_event_type":"SECRET_VERSION_EXPIRED"}]}},"schema":{"$ref":"#/definitions/ListEventNotifyRecordsResponseBody"}},"400":{"description":"请求参数有误","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"被请求的页面需要用户名和密码","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"认证失败","schema":{"$ref":"#/definitions/Error"}},"404":{"description":"资源不存在,资源未找到","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"服务内部错误","schema":{"$ref":"#/definitions/Error"}},"502":{"description":"请求未完成。服务器从上游服务器收到一个无效的响应","schema":{"$ref":"#/definitions/Error"}},"504":{"description":"网关超时","schema":{"$ref":"#/definitions/Error"}}},"summary":"查询已触发的事件通知记录","tags":["事件管理"],"x-constraint":"仅保存三个月以内的事件通知记录。","x-is-registered":"Y","x-support-sdk":"Y"}}},"product_short":"CSMS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询已触发的事件通知记录","tags":"事件管理","uri":null,"version":"2.0"}