{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"AccessLogging":{"properties":{"lts":{"description":"LTS配置","items":{"$ref":"#/definitions/LtsConfig"},"type":"array"}},"type":"object"},"Aom":{"properties":{"instanceID":{"description":"AOM实例ID。","type":"string","x-api-type":"open-api","x-mesh-type":"基础版网格"}},"required":["instanceID"],"type":"object"},"ErrorResp":{"description":"失败时返回的错误对象","properties":{"errorCode":{"description":"错误码","maxLength":36,"minLength":8,"type":"string","x-api-type":"open-api","x-mesh-type":"基础版网格"},"errorMsg":{"description":"错误描述","maxLength":512,"minLength":2,"type":"string","x-api-type":"open-api","x-mesh-type":"基础版网格"}},"required":["errorCode","errorMsg"],"type":"object"},"FieldSelector":{"description":"“字段选择器(Field selectors)”允许你根据一个或多个资源字段的值筛选 Kubernetes 对象","properties":{"key":{"description":"Key值","type":"string","x-api-type":"open-api","x-mesh-type":"基础版网格"},"operator":{"description":"操作符,仅支持取值\"In\"","type":"string","x-api-type":"open-api","x-mesh-type":"基础版网格"},"values":{"description":"Value值","items":{"type":"string"},"type":"array","x-api-type":"open-api","x-mesh-type":"基础版网格"}},"required":["key","operator","values"],"type":"object"},"InjectionConfig":{"description":"集群注入信息","properties":{"namespaces":{"$ref":"#/definitions/Selector","description":"需要注入的命名空间","x-api-type":"open-api","x-mesh-type":"基础版网格"}},"type":"object"},"InstallationConfig":{"properties":{"nodes":{"$ref":"#/definitions/Selector","description":"安装网格组件的节点","x-api-type":"open-api","x-mesh-type":"基础版网格"}},"required":["nodes"],"type":"object"},"LtsConfig":{"properties":{"logGroupID":{"description":"AccessLog日志组ID","type":"string"},"logStreamID":{"description":"AccessLog输出日志流ID","type":"string"}},"type":"object"},"Mesh":{"properties":{"apiVersion":{"default":"v1","description":"API版本,固定值“v1”,该值不可修改","type":"string","x-api-type":"open-api","x-mesh-type":"基础版网格"},"kind":{"default":"Mesh","description":"API类型,固定值“Mesh”或“mesh”,该值不可修改","type":"string","x-api-type":"open-api","x-mesh-type":"基础版网格"},"metadata":{"$ref":"#/definitions/MeshMetadata","description":"网格的基本信息,为集合类的元素类型,包含一组由不同名称定义的属性","x-api-type":"open-api","x-mesh-type":"基础版网格"},"spec":{"$ref":"#/definitions/MeshSpec","description":"集合类的元素类型,您对需要管理的网格对象进行详细描述的主体部分都在spec中给出。ASM通过spec的描述来创建或更新对象","x-api-type":"open-api","x-mesh-type":"基础版网格"},"status":{"$ref":"#/definitions/MeshStatus","description":"集合类的元素类型,用于记录对象在系统中的当前状态信息。\n该对象为系统自动生成,不需要用户填写","readOnly":true,"x-api-type":"open-api","x-mesh-type":"基础版网格"}},"required":["apiVersion","kind","metadata","spec"],"type":"object","x-api-type":"open-api","x-mesh-type":"基础版网格"},"MeshCluster":{"properties":{"clusterID":{"description":"集群ID,资源唯一标识,通过该ID查询需要添加的集群","type":"string","x-api-type":"open-api","x-mesh-type":"基础版网格"},"injection":{"$ref":"#/definitions/InjectionConfig","description":"sidecar注入配置","x-api-type":"open-api","x-mesh-type":"基础版网格"},"installation":{"$ref":"#/definitions/InstallationConfig","description":"网格组件安装配置","x-api-type":"open-api","x-mesh-type":"基础版网格"}},"required":["clusterID","installation"],"type":"object"},"MeshConfig":{"description":"网格配置","properties":{"proxyConfig":{"$ref":"#/definitions/ProxyConfig","description":"网格数据面配置"},"telemetryConfig":{"$ref":"#/definitions/TelemetryConfig","description":"网格的可观测性配置"}},"type":"object"},"MeshExtendParams":{"properties":{"clusters":{"description":"网格内集群信息","items":{"$ref":"#/definitions/MeshCluster"},"type":"array","x-api-type":"open-api","x-mesh-type":"基础版网格"}},"required":["clusters"],"type":"object"},"MeshList":{"properties":{"apiVersion":{"description":"API版本,固定值“v1”,该值不可修改","type":"string"},"items":{"description":"网格列表","items":{"$ref":"#/definitions/Mesh"},"type":"array"},"kind":{"description":"API类型,固定值“MeshList”,该值不可修改","type":"string"}},"type":"object","x-api-type":"open-api","x-mesh-type":"基础版网格"},"MeshMetadata":{"properties":{"annotations":{"additionalProperties":{"type":"string"},"description":"网格注解,由key/value组成:\n```\n\"annotations\": {\n   \"key1\" : \"value1\",\n   \"key2\" : \"value2\"\n}\n```","type":"object","x-api-type":"open-api","x-mesh-type":""},"creationTimestamp":{"description":"网格创建时间","format":"date-time","readOnly":true,"type":"string","x-api-type":"open-api","x-mesh-type":"基础版网格"},"labels":{"additionalProperties":{"type":"string"},"description":"网格标签,由key/value组成:\n\n\n```\n\n\"labels\": {\n   \"key1\" : \"value1\",\n   \"key2\" : \"value2\"\n}\n\n```","type":"object","x-api-type":"open-api","x-mesh-type":""},"name":{"description":"网格名称。\n命名规则:以小写字母开头,由小写字母、数字、中划线(-)组成,长度范围4-64位,且不能以中划线(-)结尾","type":"string","x-api-type":"open-api","x-mesh-type":"基础版网格"},"uid":{"description":"网格ID,资源唯一标识,创建成功后自动生成,填写无效","readOnly":true,"type":"string","x-api-type":"open-api","x-mesh-type":"基础版网格"}},"required":["name"],"type":"object","x-api-type":"open-api","x-mesh-type":"基础版网格"},"MeshSpec":{"description":"网格参数定义","properties":{"config":{"$ref":"#/definitions/MeshConfig","description":"网格配置。","x-api-type":"open-api","x-mesh-type":"基础版网格"},"extendParams":{"$ref":"#/definitions/MeshExtendParams","description":"服务网格扩展信息。","x-api-type":"open-api","x-mesh-type":"基础版网格"},"ipv6Enable":{"description":"网格是否支持IPV6","type":"boolean","x-api-type":"open-api","x-mesh-type":"基础版网格"},"tags":{"description":"网格资源标签。如果需要配置资源标签,请确认当前region的TMS服务已上线。","items":{"$ref":"#/definitions/MeshTags"},"type":"array","x-api-type":"open-api","x-mesh-type":"基础版网格"},"type":{"description":"网格类型。\n取值范围:\n- InCluster: 集群内控制平面形态,基础版网格取值为InCluster。目前仅支持该类型。","enum":["InCluster"],"type":"string","x-api-type":"open-api","x-mesh-type":"基础版网格"},"version":{"description":"网格版本。","type":"string","x-api-type":"open-api","x-mesh-type":"基础版网格"}},"required":["type","version","extendParams"],"type":"object"},"MeshStatus":{"properties":{"phase":{"description":"网格状态,取值如下\n- Running:运行中,表示网格处于正常运行状态\n- Creating:创建中,表示网格正处于创建过程中\n- CreateFailed:创建失败\n- Deleting:删除中,表示网格正处于删除过程中\n- DeleteFailed:删除失败\n- Upgrading:升级中,表示网格正处于升级过程中\n- UpgradeFailed:升级失败\n- RollingBack:回滚中,表示网格正处于回滚过程中\n- RollbackFailed:回滚失败","type":"string"},"updateTimestamp":{"description":"网格更新时间","format":"date-time","type":"string"}},"type":"object"},"MeshTags":{"description":"网格标签集合","properties":{"key":{"description":"Key值。\n\n不能为空,最多支持128个字符\n\n可用UTF-8格式表示的汉字、字母、数字和空格\n\n支持部分特殊字符:_.:/=+-@\n\n不能以\"_sys_\"开头","type":"string"},"value":{"description":"Value值。\n\n可以为空但不能缺省,最多支持255个字符\n\n可用UTF-8格式表示的汉字、字母、数字和空格\n\n支持部分特殊字符:_.:/=+-@","type":"string"}},"type":"object"},"Metric":{"properties":{"aom":{"description":"AOM实例配置。","items":{"$ref":"#/definitions/Aom"},"type":"array"}},"type":"object"},"ProxyConfig":{"description":"网格数据面代理配置。","properties":{"excludeIPRanges":{"description":"排除拦截对外访问的地址范围,以半角英文逗号(,)分隔的IP网段","type":"string"},"excludeInboundPorts":{"description":"排除拦截访问服务的端口,以半角英文逗号(,)分隔的入站端口列表","type":"string"},"excludeOutboundPorts":{"description":"排除拦截对外访问端口,以半角英文逗号(,)分隔的出站端口列表","type":"string"},"includeIPRanges":{"description":"拦截对外访问的地址范围,以半角英文逗号(,)分隔的IP网段","type":"string"},"includeInboundPorts":{"description":"拦截访问服务的端口,以半角英文逗号(,)分隔的入站端口列表","type":"string"},"includeOutboundPorts":{"description":"拦截对外访问端口,以半角英文逗号(,)分隔的出站端口列表","type":"string"}},"type":"object"},"Selector":{"description":"选择器","properties":{"fieldSelector":{"$ref":"#/definitions/FieldSelector","description":"字段选择器","x-api-type":"open-api","x-mesh-type":"基础版网格"}},"required":["fieldSelector"],"type":"object"},"TelemetryConfig":{"properties":{"accessLogging":{"$ref":"#/definitions/AccessLogging","description":"AccessLog配置,用于上报ASM网格内Istio代理的访问日志。如果要启用该配置,集群需安装云原生日志采集插件。","x-api-type":"open-api","x-open-region-cloud":"hws,hws_hk"},"metrics":{"$ref":"#/definitions/Metric","description":"应用指标配置,用于上报ASM网格指标数据。如果要启用该配置,集群需安装云原生监控插件。","x-api-type":"open-api","x-open-region-cloud":"hws,hws_hk"},"tracing":{"$ref":"#/definitions/Tracing","description":"Tracing配置,用于上报ASM网格内的调用链数据。","x-api-type":"open-api","x-open-region-cloud":"hws,hws_hk"}},"type":"object"},"Tracing":{"properties":{"defaultProviders":{"description":"tracing默认上报的provider名称,必须与extensionProviders中的name字段匹配,或使用ASM预设的provider \"apm-otel\"。\n如果使用\"apm-otel\",需确认当前region已支持APM2.0且网格版本大于1.18。","items":{"type":"string"},"type":"array"},"extensionProviders":{"description":"用户自配置provider,目前支持zipkin协议。\n如果用户配置zipkin协议的provider,请保证网格版本大于等于1.15。","items":{"$ref":"#/definitions/TracingExtensionProvider"},"type":"array"},"randomSamplingPercentage":{"description":"tracing采样率","format":"float","type":"number"}},"type":"object"},"TracingExtensionProvider":{"properties":{"name":{"description":"provider实例name","type":"string"},"zipkin":{"$ref":"#/definitions/ZipkinTracingProvider","description":"zipkin协议provider自有配置"}},"type":"object"},"ZipkinTracingProvider":{"properties":{"port":{"description":"zipkin服务端口","format":"int32","type":"integer"},"service":{"description":"zipkin服务地址","type":"string"}},"type":"object"}},"description":null,"group_id":"89ef1f81e9a8463a8105e2907d4f1754","host":"asm.cn-north-4.myhuaweicloud.com","id":"8cc96ca77d094eb2a08a6391d5955084","info_version":"v1","method":"get","name":"ListMeshes","parameters":{"param_header_x_auth_token":{"description":"调用接口的认证方式分为Token和AK/SK两种,如果您使用的Token方式,此参数为必填,请填写Token的值。","in":"header","name":"X-Auth-Token","required":true,"type":"string"},"param_path_projectid":{"description":"项目ID。","in":"path","name":"project_id","required":true,"type":"string"}},"paths":{"/v1/{project_id}/meshes":{"get":{"description":"该API用于获取用户所有网格的详细信息","operationId":"ListMeshes","parameters":[{"$ref":"#/parameters/param_path_projectid"},{"$ref":"#/parameters/param_header_x_auth_token"}],"produces":["application/json"],"responses":{"200":{"description":"表示获取网格列表成功","examples":{"application/json":{"apiVersion":"v1","items":[{"apiVersion":"v1","kind":"Mesh","metadata":{"creationTimestamp":"2025-04-10T07:48:37Z","name":"mesh-test-api","uid":"a1efdc3e-xxxx-xxxx-xxxx-94bef433347e"},"spec":{"config":{"proxyConfig":{"includeIPRanges":"10.247.0.0/16"},"telemetryConfig":{"accessLogging":{"lts":[{"logGroupID":"b884eaeb-xxxx-xxxx-xxxx-f442de73c392","logStreamID":"362e11e8-xxxx-xxxx-xxxx-0afdc68da7d2"}]},"metrics":{"aom":[{"instanceID":"602a5b7e-xxxx-xxxx-xxxx-4268c35b0424"}]},"tracing":{"defaultProviders":["zipkin"],"extensionProviders":[{"name":"zipkin","zipkin":{"port":9411,"service":"zipkin.monitoring.svc.cluster.local"}}],"randomSamplingPercentage":1}}},"extendParams":{"clusters":[{"clusterID":"cb0ef541-xxxx-xxxx-xxxx-0255ac1001b7"}]},"type":"InCluster","version":"1.18.7-r5"},"status":{"phase":"Running","updateTimestamp":"2025-04-10T07:58:43Z"}}],"kind":"MeshList"}},"schema":{"$ref":"#/definitions/MeshList"}},"400":{"description":"用户提供的参数有问题,未通过校验","schema":{"$ref":"#/definitions/ErrorResp"}},"500":{"description":"查询过程中出现问题","schema":{"$ref":"#/definitions/ErrorResp"}}},"summary":"查询网格列表","tags":["网格接口"],"x-api-type":"open-api","x-asmapi-version":1.0,"x-is-registered":"Y","x-mesh-type":"基础版网格","x-order":3,"x-support-sdk":"Y"}}},"product_short":"ASM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询网格列表","tags":"网格接口","uri":null,"version":"2.0"}