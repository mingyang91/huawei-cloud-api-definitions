{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"AddFacesResp":{"properties":{"face_set_id":{"description":"人脸库ID。\n调用失败时无此字段。","type":"string"},"face_set_name":{"description":"人脸库名称。\n调用失败时无此字段。","type":"string"},"faces":{"description":"人脸库当中的人脸结构,详见[FaceSetFace](https://support.huaweicloud.com/api-face/face_02_0018.html)。调用失败时无此字段。","items":{"$ref":"#/definitions/FaceSetFace","type":"object"},"type":"array"}},"required":["face_set_name","face_set_id","faces"]},"BoundingBox":{"properties":{"height":{"description":"矩形框高度。","format":"int32","type":"integer"},"top_left_x":{"description":"矩形框左上角横坐标。","format":"int32","type":"integer"},"top_left_y":{"description":"矩形框左上角纵坐标。","format":"int32","type":"integer"},"width":{"description":"矩形框宽度。","format":"int32","type":"integer"}},"required":["top_left_x","top_left_y","width","height"]},"ErrorResp":{"properties":{"error_code":{"description":"调用失败时的错误码,具体请参考[错误码](https://support.huaweicloud.com/api-face/face_02_0045.html)。调用成功时无此字段。","type":"string"},"error_msg":{"description":"调用失败时的错误信息。\n调用成功时无此字段。","type":"string"}},"required":["error_code","error_msg"]},"FaceSetFace":{"properties":{"bounding_box":{"$ref":"#/definitions/BoundingBox","description":"人脸在图像中的位置。BoundingBox结构见[BoundingBox](https://support.huaweicloud.com/api-face/face_02_0021.html)。","type":"object"},"external_fields":{"description":"用户添加的额外字段。","type":"object"},"external_image_id":{"description":"人脸所在的外部图片ID。","type":"string"},"face_id":{"description":"人脸ID,由系统内部生成的唯一ID。","type":"string"}},"required":["bounding_box","face_id","external_image_id","external_fields"]}},"description":null,"group_id":"25f85699435345e7b8f09f6cea4f48d5","host":"face.cn-north-4.myhuaweicloud.com","id":"1081f4a6e96b4f32b2406f42d5074820","info_version":"v2","method":"post","name":"AddFacesByFile","parameters":{},"paths":{"/v2/{project_id}/face-sets/{face_set_name}/faces":{"post":{"consumes":["multipart/form-data"],"deprecated":false,"description":"添加人脸到人脸库中。将单张图片中的人脸添加至人脸库中,支持添加最大人脸或所有人脸。","operationId":"AddFacesByFile","parameters":[{"description":"项目ID,获取方法请参见[获取项目ID/账号租户名/AK/SK](https://support.huaweicloud.com/api-face/face_02_0056.html)。","in":"path","name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx","x-order":2},{"description":"X-Auth-Token值获取方法请参见[认证鉴权](https://support.huaweicloud.com/api-face/face_02_0004.html)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX...","x-order":1},{"description":"企业项目ID。FRS支持通过企业项目管理(EPS)对不同用户组和用户的资源使用,进行分账。当前仅支持按需计费模式。\n\n获取方法:进入“[企业项目管理](https://console.huaweicloud.com/eps/?region=cn-north-4#/projects/list)”页面,单击企业项目名称,在企业项目详情页获取Enterprise-Project-Id(企业项目ID)。\n\n企业项目创建步骤请参见用户指南。\n> 说明:\n创建企业项目后,在传参时,有以下三类场景。\n- 携带正确的ID,正常使用FRS服务,账单的企业项目会被分类到企业ID对应的企业项目中。\n- 携带格式正确但不存在的ID,正常使用FRS服务,账单的企业项目会显示对应不存在的企业项目ID。\n- 不携带ID或格式错误ID(包含特殊字符等),正常使用FRS服务,账单的企业项目会被分类到\"default\"中。","in":"header","name":"Enterprise-Project-Id","required":false,"type":"string","x-order":3},{"description":"人脸库名称。","in":"path","name":"face_set_name","required":true,"type":"string"},{"description":"本地图片文件,图片不能超过8MB,建议小于1MB。上传文件时,请求格式为multipart。","in":"formData","name":"image_file","required":true,"type":"file"},{"description":"用户指定的图片外部ID,与当前图像绑定。用户没提供,系统会生成一个。\n该ID长度范围为1~36位,可以包含字母、数字、中划线或者下划线,不包含其他的特殊字符。","in":"formData","name":"external_image_id","type":"string"},{"description":"根据用户自定义数据类型,填入相应的数值。创建faceset时定义该字段,Json字符串不校验重复性,参考[自定义字段](https://support.huaweicloud.com/api-face/face_02_0012.html)。","in":"formData","name":"external_fields","type":"string"},{"description":"是否将图片中的最大人脸添加至人脸库。可选值包括:\n• true: 传入的单张图片中如果包含多张人脸,则只将最大人脸添加到人脸库中。\n• false: 默认为false。传入的单张图片中如果包含多张人脸,则将所有人脸添加至人脸库中。","in":"formData","name":"single","type":"boolean"}],"produces":["application/json"],"responses":{"200":{"description":"OK","examples":{"application/json":{"face_set_id":"T785tx1N","face_set_name":"test1","faces":[{"bounding_box":{"height":63,"top_left_x":221,"top_left_y":100,"width":63},"external_fields":{"id":"home","timestamp":12},"external_image_id":"Xr0phyap","face_id":"JLa9hYLl"}]}},"headers":{"X-Request-Id":{"description":"This field is the request ID number for task tracking. Format is request_uuid-timestamp-hostname.","type":"string"}},"schema":{"$ref":"#/definitions/AddFacesResp"}},"400":{"description":"失败响应样例","examples":{"application/json":{"error_code":"FRS.0404","error_msg":"Detect no face, can not add it to face set."}},"schema":{"$ref":"#/definitions/ErrorResp"}}},"summary":"添加人脸","tags":["人脸资源管理"],"x-name":"添加人脸","x-open-region-cloud":"hc,hk","x-request-examples-1":{"external_fields":{"id":"home","timestamp":7},"external_image_id":"imageID","image_file":"File(图片文件)"},"x-request-examples-url-1":"POST https://{endpoint}/v2/{project_id}/face-sets/{face_set_name}/faces","x-support-sdk":"Y"}}},"product_short":"FRS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"添加人脸","tags":"人脸资源管理","uri":null,"version":"2.0"}