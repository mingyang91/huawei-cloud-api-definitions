{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ErrorInfo":{"description":"失败返回信息","properties":{"code":{"description":"错误码","type":"string"},"message":{"description":"错误信息","type":"string"}},"required":["code","message"]},"JobFailResponse":{"description":"Job失败返回","properties":{"error":{"$ref":"#/definitions/ErrorInfo","description":"失败返回结构"}}},"JobSuccessResponse":{"description":"Job成功返回","properties":{"job_id":{"description":"成功返回jobId信息","type":"string"}},"required":["job_id"]},"ResizeProtectedInstanceRequestBody":{"description":"保护实例变更规格请求体","properties":{"resize":{"$ref":"#/definitions/ResizeProtectedInstanceRequestParams","description":"表示保护实例变更规格的操作。"}},"required":["resize"]},"ResizeProtectedInstanceRequestParams":{"description":"保护实例变更规格请求数据结构","properties":{"dr_dedicated_host_id":{"description":"新容灾站点专属主机ID。 说明:容灾站点云服务器在专属主机上时,变更规格需要指定此参数。可以指定为容灾站点云服务器当前所在专属主机ID或其他专属主机ID。","type":"string"},"dr_flavorRef":{"description":"变更规格后,容灾站点云服务器的flavor ID。可通过查询云服务器规格变更支持列表接口获取。 说明:系统支持仅变更容灾站点云服务器的规格。此时,请使用dr_flavorRef参数。当flavorRef参数有值时,dr_flavorRef参数不生效。","type":"string"},"flavorRef":{"description":"变更规格后,生产站点云服务器和容灾站点云服务器的flavor ID。可通过查询云服务器规格变更支持列表接口获取。 说明:系统支持同时变更生产站点云服务器和容灾站点云服务器的规格。如需同时变更,请使用flavorRef参数,变更规格后,生产站点云服务器和容灾站点云服务器的规格相同。","type":"string"},"production_dedicated_host_id":{"description":"新生产站点专属主机ID。 说明:生产站点云服务器在专属主机上时,变更规格需要指定此参数。可以指定为生产站点云服务器当前所在专属主机ID或其他专属主机ID。","type":"string"},"production_flavorRef":{"description":"变更规格后,生产站点云服务器的flavor ID。可通过查询云服务器规格变更支持列表接口获取。 说明:系统支持仅变更生产站点云服务器的规格。此时,请使用production_flavorRef参数。当flavorRef参数有值时,production_flavorRef参数不生效。","type":"string"}}}},"description":null,"group_id":"10d28b86a3b24bb2a48fbb2befd68709","host":"sdrs.cn-north-4.myhuaweicloud.com","id":"c58eddf8a6f14a0184d905ba217e601b","info_version":"v1","method":"post","name":"ResizeProtectedInstance","parameters":{},"paths":{"/v1/{project_id}/protected-instances/{protected_instance_id}/resize":{"post":{"consumes":[],"deprecated":false,"description":"变更指定保护实例中弹性云服务器的规格,包括:同时变更生产站点云服务器和容灾站点云服务器的规格。\n仅变更生产站点云服务器的规格,容灾站点云服务器规格不变。\n生产站点云服务器规格不变,仅变更容灾站点云服务器的规格。\n当且仅当待变更规格的云服务器处于关机状态时,才能执行此操作。\n 说明:不同规格的云服务器在性能上存在差异,可能会对云服务器上运行的应用产生影响。\n为保证切换/故障切换后云服务器的性能,建议容灾站点服务器的规格(CPU、内存)不低于生产站点云服务器的规格(CPU、内存)。","operationId":"ResizeProtectedInstance","parameters":[{"description":"项目ID。","in":"path","name":"project_id","required":true,"type":"string","x-order":1},{"description":"保护实例的ID。","in":"path","name":"protected_instance_id","required":true,"type":"string","x-order":2},{"description":"用户Token。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":3},{"description":"保护实例变更规格请求体","in":"body","name":"ResizeProtectedInstanceRequestBody","required":true,"schema":{"$ref":"#/definitions/ResizeProtectedInstanceRequestBody"},"x-order":4}],"produces":[],"responses":{"200":{"description":"OK","examples":{"application/json":{"job_id":"0000000011db92d70162db9d20df32ch"}},"schema":{"$ref":"#/definitions/JobSuccessResponse"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/JobFailResponse"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/JobFailResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/JobFailResponse"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/JobFailResponse"}},"405":{"description":"Method Not Allowed","schema":{"$ref":"#/definitions/JobFailResponse"}},"406":{"description":"Not Acceptable","schema":{"$ref":"#/definitions/JobFailResponse"}},"407":{"description":"Proxy Authentication Required","schema":{"$ref":"#/definitions/JobFailResponse"}},"408":{"description":"Request Timeout","schema":{"$ref":"#/definitions/JobFailResponse"}},"409":{"description":"Conflict","schema":{"$ref":"#/definitions/JobFailResponse"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/JobFailResponse"}},"501":{"description":"Not Implemented","schema":{"$ref":"#/definitions/JobFailResponse"}},"502":{"description":"Bad Gateway","schema":{"$ref":"#/definitions/JobFailResponse"}},"503":{"description":"Service Unavailable","schema":{"$ref":"#/definitions/JobFailResponse"}},"504":{"description":"Gateway Timeout","schema":{"$ref":"#/definitions/JobFailResponse"}}},"summary":"保护实例变更规格","tags":["保护实例"],"x-apiexplorer-hide":"","x-apigateway-auth-type":"","x-apigateway-match-mode":"","x-apigateway-request-type":"","x-call_frequency":"","x-constraint":"保护组的状态为available或者protected。\n保护实例的状态为available或者protected或者error-resizing。\n待变更规格的云服务器已关机。","x-ctc":"N","x-first_open_time":"2018-05-30","x-flow_control_group":"ResizeProtectedInstance","x-hc":"Y","x-hk":"Y","x-hybridcloud":false,"x-in_cli":"","x-is_calling":"Y","x-is_registered":"Y","x-multi_tenant_flow_time":1,"x-multi_tenant_flow_value":2000,"x-name":"保护实例变更规格","x-obc":"Y","x-order":25,"x-otc":"Y","x-publishpath":"","x-request-examples-1":{"resize":{"production_flavorRef":"e2.small"}},"x-request-examples-2":{"resize":{"dr_flavorRef":"e2.small"}},"x-request-examples-3":{"resize":{"dr_dedicated_host_id":"59f82ad6-6fc9-4bae-8621-aef2194e112c","dr_flavorRef":"e2.small"}},"x-request-examples-4":{"resize":{"flavorRef":"e2.small"}},"x-request-examples-5":{"resize":{"production_dedicated_host_id":"59f82ad6-6fc9-4bae-8621-aef2194e112c","production_flavorRef":"e2.small"}},"x-request-examples-6":{"resize":{"dr_flavorRef":"s3.large.2","production_flavorRef":"s3.small.1"}},"x-request-examples-description-1":"变更生产站点云服务器的规格为e2.small,容灾站点云服务器规格不变","x-request-examples-description-2":"生产站点云服务器规格不变,变更容灾站点云服务器的规格为e2.small","x-request-examples-description-3":"容灾站点云服务器为DeH,生产站点云服务器规格不变,变更容灾站点云服务器的规格为e2.small。","x-request-examples-description-4":"变更规格后,生产站点云服务器和容灾站点云服务器的规格为e2.small","x-request-examples-description-5":"生产站点云服务器为DeH,变更生产站点云服务器的规格为e2.small,容灾站点云服务器规格不变。","x-request-examples-description-6":"变更规格后,生产站点云服务器的规格为s3.small.1,容灾站点云服务器的规格为s3.large.2。","x-request-examples-text-1":"{\n\t\"resize\": {\n\t\t\"production_flavorRef\": \"e2.small\"\n\t}\n}","x-request-examples-text-2":"{\n\t\"resize\": {\n\t\t\"dr_flavorRef\": \"e2.small\"\n\t}\n}","x-request-examples-text-3":"{\n\t\"resize\": {\n\t\t\"dr_flavorRef\": \"e2.small\",\n\t\t\"dr_dedicated_host_id\": \"59f82ad6-6fc9-4bae-8621-aef2194e112c\"\n\t}\n}","x-request-examples-text-4":"{\n\t\"resize\": {\n\t\t\"flavorRef\": \"e2.small\"\n\t}\n}","x-request-examples-text-5":"{\n\t\"resize\": {\n\t\t\"production_flavorRef\": \"e2.small\",\n\t\t\"production_dedicated_host_id\": \"59f82ad6-6fc9-4bae-8621-aef2194e112c\"\n\t}\n}","x-request-examples-text-6":"{\n\t\"resize\": {\n\t\t\"production_flavorRef\": \"s3.small.1\",\n\t\t\"dr_flavorRef\": \"s3.large.2\"\n\t}\n}","x-request-examples-url-1":"POST https://{Endpoint}/v1/{project_id}/protected-instances/00000000632302f501632305f63c000e/resize","x-request-examples-url-2":"POST https://{Endpoint}/v1/{project_id}/protected-instances/00000000632302f501632305f63c000e/resize","x-request-examples-url-3":"POST https://{Endpoint}/v1/{project_id}/protected-instances/00000000632302f501632305f63c000e/resize","x-request-examples-url-4":"POST https://{Endpoint}/v1/{project_id}/protected-instances/00000000632302f501632305f63c000e/resize","x-request-examples-url-5":"POST https://{Endpoint}/v1/{project_id}/protected-instances/00000000632302f501632305f63c000e/resize","x-request-examples-url-6":"POST https://{Endpoint}/v1/{project_id}/protected-instances/00000000632302f501632305f63c000e/resize","x-scope":"Commercial","x-source":"SelfDeveloped","x-source_url":"","x-support-sdk":"Y","x-tenant_flow_time":1,"x-tenant_flow_value":1000,"x-timeout":"200s","x-tlf":"N","x-un_cli":"","x-version":"v1"}}},"product_short":"SDRS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"保护实例变更规格","tags":"保护实例","uri":null,"version":"2.0"}