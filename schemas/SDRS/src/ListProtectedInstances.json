{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ErrorInfo":{"description":"失败返回信息","properties":{"code":{"description":"错误码","type":"string"},"message":{"description":"错误信息","type":"string"}},"required":["code","message"]},"JobFailResponse":{"description":"Job失败返回","properties":{"error":{"$ref":"#/definitions/ErrorInfo","description":"失败返回结构"}}},"ListProtectedInstancesResponseBody":{"description":"查询保护实例列表响应","properties":{"count":{"description":"列表中包含的保护实例个数。","format":"int32","type":"integer"},"protected_instances":{"description":"保护实例的信息列表。","items":{"$ref":"#/definitions/ShowProtectedInstanceParams"},"type":"array"}},"required":["count","protected_instances"]},"MetadataParams":{"description":"保护实例元数据数据结构","properties":{"__system__frozen":{"description":"保护实例元数据中资源冻结的字段。\ntrue:表示资源被冻结。\n空:表示资源没有被冻结。","type":"string"}},"required":["__system__frozen"]},"ProtectedInstanceAttachment":{"description":"保护实例挂载信息结构","properties":{"device":{"description":"挂载点。","type":"string"},"replication":{"description":"复制对ID。","type":"string"}},"required":["device","replication"]},"ResourceTag":{"description":"单个标签资源结构","properties":{"key":{"description":"键。同一资源的key值不能重复。最大长度为36个UNICODE字符。key不能为空,不允许为空字符串。不能包含以下字符:非打印字符ASCII(0-31)特殊字符“*”,“<”,“>”,“\\”,“=”,“,”,“|”,“/”键。不能为空。对于同一资源键值唯一。","type":"string"},"value":{"description":"值。最大长度为43个UNICODE字符。value不能为空,可以为空字符串。不能包含以下字符:非打印字符ASCII(0-31)特殊字符“*”,“<”,“>”,“\\”,“=”,“,”,“|”,“/”。长度不超过43个字符。","type":"string"}},"required":["key","value"]},"ShowProtectedInstanceParams":{"description":"查询保护实例数据结构","properties":{"attachment":{"description":"挂载的复制对列表。","items":{"$ref":"#/definitions/ProtectedInstanceAttachment"},"type":"array"},"created_at":{"description":"创建时间。默认格式为:\"yyyy-MM-dd HH:mm:ss.SSS\",例:\"2019-04-01 12:00:00.000\"。","type":"string","x-huawei-extraAnnotation":""},"description":{"description":"保护实例的描述。","type":"string"},"id":{"description":"保护实例的ID。","type":"string"},"metadata":{"$ref":"#/definitions/MetadataParams","description":"保护实例元数据信息。"},"name":{"description":"保护实例的名称。","type":"string"},"priority_station":{"description":"标识保护实例所在保护组的当前生产站点可用区。source:表示当前生产站点可用区为保护组source_availability_zone的值。target:表示当前生产站点可用区为保护组的target_availability_zone的值。","type":"string"},"progress":{"description":"保护实例的同步进度。单位:百分比(%)。","format":"int32","type":"integer"},"server_group_id":{"description":"保护组的ID。","type":"string"},"source_server":{"description":"生产站点云服务器ID。","type":"string"},"status":{"description":"保护实例的状态。","type":"string"},"tags":{"description":"标签列表。","items":{"$ref":"#/definitions/ResourceTag"},"type":"array"},"target_server":{"description":"容灾站点云服务器ID。","type":"string"},"updated_at":{"description":"更新时间。默认格式为:\"yyyy-MM-dd HH:mm:ss.SSS\",例:\"2019-04-01 12:00:00.000\"。","type":"string","x-huawei-extraAnnotation":""}},"required":["attachment","created_at","description","id","metadata","name","priority_station","progress","server_group_id","source_server","status","target_server","updated_at"]}},"description":null,"group_id":"10d28b86a3b24bb2a48fbb2befd68709","host":"sdrs.cn-north-4.myhuaweicloud.com","id":"a31874d456ab42e8acbcc1fb0028848c","info_version":"v1","method":"get","name":"ListProtectedInstances","parameters":{},"paths":{"/v1/{project_id}/protected-instances":{"get":{"consumes":[],"deprecated":false,"description":"查询当前租户下的所有保护实例列表。","operationId":"ListProtectedInstances","parameters":[{"description":"项目ID。","in":"path","name":"project_id","required":true,"type":"string","x-order":1},{"description":"用户Token。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":2},{"description":"保护组的ID,表示查询该保护组下的所有保护实例列表。","in":"query","name":"server_group_id","required":false,"type":"string","x-order":3},{"description":"保护组的ID列表,格式为server_group_ids=['server_group_id1','server_group_id2',...,'server_group_idx'],请使用URL编码进行转换。返回“server_group_ids”中有效server_group_id的所有保护实例列表,无效的server_group_id会被忽略。支持查询最多30个server_group_id对应的所有保护实例列表。如果“server_group_id”和“server_group_ids”查询参数同时存在,“server_group_id”会被忽略。","in":"query","name":"server_group_ids","required":false,"type":"string","x-ctc":"","x-hc":"","x-hk":"","x-is_admin":"","x-is_inner_param":"","x-obc":"","x-order":4,"x-otc":"","x-tlf":""},{"description":"保护实例的ID列表,格式为protected_instance_ids=['protected_instance_id1','protected_instance_id2',...,'protected_instance_idx'],请使用URL编码进行转换。返回“protected_instance_ids”中有效protected_instance_id的所有保护实例列表,无效的protected_instance_id会被忽略。支持查询最多30个protected_instance_id对应的所有保护实例列表。如果“server_group_id”或者“server_group_ids”查询参数存在时,“protected_instance_ids”会被忽略。","in":"query","name":"protected_instance_ids","required":false,"type":"string","x-ctc":"","x-hc":"","x-hk":"","x-is_admin":"","x-is_inner_param":"","x-obc":"","x-order":5,"x-otc":"","x-tlf":""},{"default":1000,"description":"每次请求返回结果个数限制,取值范围为[0,1000]的正整数,默认值为1000。","format":"int32","in":"query","maximum":1000,"minimum":0,"name":"limit","required":false,"type":"integer","x-ctc":"","x-hc":"","x-hk":"","x-is_admin":"","x-is_inner_param":"","x-obc":"","x-order":6,"x-otc":"","x-tlf":""},{"default":0,"description":"每次请求开始的下标,即偏移量,默认值为0。offset必须为数字,不能为负数。","format":"int32","in":"query","minimum":0,"name":"offset","required":false,"type":"integer","x-order":7},{"description":"保护实例状态。","in":"query","name":"status","required":false,"type":"string","x-order":8},{"description":"保护实例的名称。支持模糊查询。","in":"query","name":"name","required":false,"type":"string","x-order":9},{"description":"查询场景类型。status_abnormal:表示查询异常状态的保护实例列表。general或空时:该参数不生效。","enum":["status_abnormal","general"],"in":"query","name":"query_type","required":false,"type":"string","x-order":10},{"description":"保护实例所在的保护组的当前生产站点可用区。","in":"query","name":"availability_zone","required":false,"type":"string","x-order":11}],"produces":[],"responses":{"200":{"description":"OK","examples":{"application/json":{"count":2,"protected_instances":[{"attachment":[{"device":"/dev/vdb","replication":"08d6b5a0-9a12-4263-a468-30d71d10498c"},{"device":"/dev/vda","replication":"4c332757-dc77-458d-9883-03d701cde2f2"}],"created_at":"2018-11-06 11:09:25.861","description":"protected_instance_xff","id":"67a2cc7e-fb87-41a8-ba28-9c032abcaee1","metadata":{},"name":"protected_instance_xff","priority_station":"source","progress":0,"server_group_id":"21d65fa4-430e-4761-b9ad-4e27364f874c","source_server":"d1e8e8a7-ae6f-4f40-bead-20093976961e","status":"available","tags":[{"key":"aaaaaaa","value":"01234567889"},{"key":"ffffff","value":"dddd"}],"target_server":"9bad52b9-ca5a-4274-ba9e-3c8ca9843fa1","updated_at":"2018-11-06 11:12:11.716"},{"attachment":[{"device":"/dev/vda","replication":"6568f7c4-0510-4f39-929d-8ffccbd4fd47"}],"created_at":"2018-11-06 09:27:52.258","description":"1111","id":"50f5091e-9e9e-473c-a932-2a2cbcbeb1ff","metadata":{},"name":"ecs_sdrs_test","priority_station":"target","progress":100,"server_group_id":"943c7d15-0371-4b89-b1a6-db1ef35c9263","source_server":"5fb92d6c-b0cb-46c9-824b-b90ec5500ae6","status":"protected","tags":[{"key":"aaaaaaa","value":"01234567889"},{"key":"ffffff","value":"dddd"}],"target_server":"c6c0ff54-fa1f-43ef-9ccc-1774e40c8745","updated_at":"2018-11-06 09:44:59.853"}]}},"schema":{"$ref":"#/definitions/ListProtectedInstancesResponseBody"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/JobFailResponse"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/JobFailResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/JobFailResponse"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/JobFailResponse"}},"405":{"description":"Method Not Allowed","schema":{"$ref":"#/definitions/JobFailResponse"}},"406":{"description":"Not Acceptable","schema":{"$ref":"#/definitions/JobFailResponse"}},"407":{"description":"Proxy Authentication Required","schema":{"$ref":"#/definitions/JobFailResponse"}},"408":{"description":"Request Timeout","schema":{"$ref":"#/definitions/JobFailResponse"}},"409":{"description":"Conflict","schema":{"$ref":"#/definitions/JobFailResponse"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/JobFailResponse"}},"501":{"description":"Not Implemented","schema":{"$ref":"#/definitions/JobFailResponse"}},"502":{"description":"Bad Gateway","schema":{"$ref":"#/definitions/JobFailResponse"}},"503":{"description":"Service Unavailable","schema":{"$ref":"#/definitions/JobFailResponse"}},"504":{"description":"Gateway Timeout","schema":{"$ref":"#/definitions/JobFailResponse"}}},"summary":"查询保护实例列表","tags":["保护实例"],"x-apiexplorer-hide":"","x-apigateway-auth-type":"","x-apigateway-match-mode":"","x-apigateway-request-type":"","x-call_frequency":"","x-constraint":"无","x-ctc":"N","x-first_open_time":"2018-05-30","x-flow_control_group":"QueryProtectedInstances","x-hc":"Y","x-hk":"Y","x-hybridcloud":false,"x-in_cli":"","x-is_calling":"Y","x-is_registered":"Y","x-multi_tenant_flow_time":1,"x-multi_tenant_flow_value":4000,"x-name":"查询保护实例列表","x-obc":"Y","x-order":18,"x-otc":"Y","x-publishpath":"","x-request-examples-1":"GET https://{Endpoint}/v1/{project_id}/protected-instances?server_group_ids=%5b%2221d65fa4-430e-4761-b9ad-4e27364f874c%22%2c%22943c7d15-0371-4b89-b1a6-db1ef35c9263%22%5d","x-request-examples-description-1":" 说明:使用server_group_ids或protected_instance_ids时,请采用URL编码。","x-request-examples-text-1":"GET https://{Endpoint}/v1/{project_id}/protected-instances?server_group_ids=%5b%2221d65fa4-430e-4761-b9ad-4e27364f874c%22%2c%22943c7d15-0371-4b89-b1a6-db1ef35c9263%22%5d","x-request-examples-url-1":"","x-scope":"Commercial","x-source":"SelfDeveloped","x-source_url":"","x-support-sdk":"Y","x-tenant_flow_time":1,"x-tenant_flow_value":2000,"x-timeout":"200s","x-tlf":"N","x-un_cli":"","x-version":"v1"}}},"product_short":"SDRS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询保护实例列表","tags":"保护实例","uri":null,"version":"2.0"}