{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ErrorInfo":{"description":"失败返回信息","properties":{"code":{"description":"错误码","type":"string"},"message":{"description":"错误信息","type":"string"}},"required":["code","message"]},"JobFailResponse":{"description":"Job失败返回","properties":{"error":{"$ref":"#/definitions/ErrorInfo","description":"失败返回结构"}}},"JobSuccessResponse":{"description":"Job成功返回","properties":{"job_id":{"description":"成功返回jobId信息","type":"string"}},"required":["job_id"]},"ReverseProtectionGroupRequestBody":{"description":"保护组切换请求体","properties":{"reverse-server-group":{"$ref":"#/definitions/ReverseProtectionGroupRequestParams","description":"标识保护组切换操作。"}},"required":["reverse-server-group"]},"ReverseProtectionGroupRequestParams":{"description":"保护组切换请求参数数据结构","properties":{"priority_station":{"description":"切换方向。target:表示从创建保护组时指定的生产站点切换到创建保护组时指定的容灾站点。source:表示从创建保护组时指定的容灾站点切换到创建保护组时指定的生产站点。","enum":["target","source"],"type":"string"}},"required":["priority_station"]}},"description":null,"group_id":"10d28b86a3b24bb2a48fbb2befd68709","host":"sdrs.cn-north-4.myhuaweicloud.com","id":"06f152a7a19443c6a2bf317833378556","info_version":"v1","method":"post","name":"StartReverseProtectionGroup","parameters":{},"paths":{"/v1/{project_id}/server-groups/{server_group_id}/action":{"post":{"consumes":[],"deprecated":false,"description":"对保护组进行切换操作,可以将保护组的当前生产站点,从创建保护组时指定的生产站点切换到创建保护组时指定的容灾站点,也可以从创建保护组时指定的容灾站点切换到创建保护组时指定的生产站点。切换后,生产站点和容灾站点的数据仍然处于被保护状态,只是复制方向与操作之前相反。","operationId":"StartReverseProtectionGroup","parameters":[{"description":"项目ID。","in":"path","name":"project_id","required":true,"type":"string","x-order":1},{"description":"保护组的ID。","in":"path","name":"server_group_id","required":true,"type":"string","x-order":2},{"description":"用户Token。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":3},{"description":"保护组切换请求体","in":"body","name":"ReverseProtectionGroupRequestBody","required":true,"schema":{"$ref":"#/definitions/ReverseProtectionGroupRequestBody"},"x-order":4}],"produces":[],"responses":{"200":{"description":"OK","examples":{"application/json":{"job_id":"0000000062db92d70162db9d200f002d"}},"schema":{"$ref":"#/definitions/JobSuccessResponse"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/JobFailResponse"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/JobFailResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/JobFailResponse"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/JobFailResponse"}},"405":{"description":"Method Not Allowed","schema":{"$ref":"#/definitions/JobFailResponse"}},"406":{"description":"Not Acceptable","schema":{"$ref":"#/definitions/JobFailResponse"}},"407":{"description":"Proxy Authentication Required","schema":{"$ref":"#/definitions/JobFailResponse"}},"408":{"description":"Request Timeout","schema":{"$ref":"#/definitions/JobFailResponse"}},"409":{"description":"Conflict","schema":{"$ref":"#/definitions/JobFailResponse"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/JobFailResponse"}},"501":{"description":"Not Implemented","schema":{"$ref":"#/definitions/JobFailResponse"}},"502":{"description":"Bad Gateway","schema":{"$ref":"#/definitions/JobFailResponse"}},"503":{"description":"Service Unavailable","schema":{"$ref":"#/definitions/JobFailResponse"}},"504":{"description":"Gateway Timeout","schema":{"$ref":"#/definitions/JobFailResponse"}}},"summary":"保护组切换","tags":["保护组"],"x-apiexplorer-hide":"","x-apigateway-auth-type":"","x-apigateway-match-mode":"","x-apigateway-request-type":"","x-call_frequency":"","x-constraint":"保护组中必须包含复制对才能切换。\n保护组status为protected或者error-reversing才能切换。\n保护组中所有的当前生产站点的云服务器必须关机才能切换。切换过程中,请勿将生产站点和容灾站点可用区的云服务器开机,否则可能导致保护组切换失败。如果调用原生接口删除保护实例的生产站点或者容灾站点服务器,切换或切回将会失败,并且保护实例以及保护实例所在的保护组将不可用。","x-ctc":"N","x-first_open_time":"2018-05-30","x-flow_control_group":"ProtectionGroupAction","x-hc":"Y","x-hk":"Y","x-hybridcloud":false,"x-in_cli":"","x-is_calling":"Y","x-is_registered":"Y","x-multi_tenant_flow_time":1,"x-multi_tenant_flow_value":2000,"x-name":"保护组切换","x-obc":"Y","x-order":13,"x-otc":"Y","x-publishpath":"","x-request-examples-1":{"reverse-server-group":{"priority_station":"source"}},"x-request-examples-description-1":"","x-request-examples-text-1":"{\n\t\"reverse-server-group\": {\n\t\t\"priority_station\": \"source\"\n\t}\n}","x-request-examples-url-1":"POST https://{Endpoint}/v1/{project_id}/server-groups/40df180b-9fe2-471a-8c64-1b758dc84189/action","x-scope":"Commercial","x-source":"SelfDeveloped","x-source_url":"","x-support-sdk":"Y","x-tenant_flow_time":1,"x-tenant_flow_value":1000,"x-timeout":"200s","x-tlf":"N","x-un_cli":"","x-version":"v1"}}},"product_short":"SDRS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"保护组切换","tags":"保护组","uri":null,"version":"2.0"}