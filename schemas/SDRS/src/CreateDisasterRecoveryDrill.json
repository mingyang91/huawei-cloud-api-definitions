{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CreateDisasterRecoveryDrillRequestBody":{"description":"创建容灾演练请求体","properties":{"disaster_recovery_drill":{"$ref":"#/definitions/CreateDisasterRecoveryDrillRequestParams","description":"容灾演练的信息。"}},"required":["disaster_recovery_drill"]},"CreateDisasterRecoveryDrillRequestParams":{"description":"创建容灾演练请求数据结构","properties":{"drill_vpc_id":{"description":"演练虚拟私有云ID,不指定时系统会自动创建演练VPC。","type":"string"},"name":{"description":"指定容灾演练的名称,最大支持长度为64个字节。只包含中文字符、英文字母(a~z、A~Z)、数字(0~9)、小数点(.)、下划线(_)、中划线(-)。","maxLength":64,"minLength":1,"type":"string"},"server_group_id":{"description":"保护组的ID。","type":"string"}},"required":["name","server_group_id"]},"ErrorInfo":{"description":"失败返回信息","properties":{"code":{"description":"错误码","type":"string"},"message":{"description":"错误信息","type":"string"}},"required":["code","message"]},"JobFailResponse":{"description":"Job失败返回","properties":{"error":{"$ref":"#/definitions/ErrorInfo","description":"失败返回结构"}}},"JobSuccessResponse":{"description":"Job成功返回","properties":{"job_id":{"description":"成功返回jobId信息","type":"string"}},"required":["job_id"]}},"description":null,"group_id":"10d28b86a3b24bb2a48fbb2befd68709","host":"sdrs.cn-north-4.myhuaweicloud.com","id":"f7a9d48882c6430fa558ff3db0e3fb38","info_version":"v1","method":"post","name":"CreateDisasterRecoveryDrill","parameters":{},"paths":{"/v1/{project_id}/disaster-recovery-drills":{"post":{"consumes":[],"deprecated":false,"description":"创建容灾演练。","operationId":"CreateDisasterRecoveryDrill","parameters":[{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string","x-order":1},{"description":"用户Token。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":2},{"description":"创建容灾演练请求体","in":"body","name":"CreateDisasterRecoveryDrillRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateDisasterRecoveryDrillRequestBody"},"x-order":3}],"produces":[],"responses":{"200":{"description":"OK","examples":{"application/json":{"job_id":"0000000011db92d36662db9d20df32ch"}},"schema":{"$ref":"#/definitions/JobSuccessResponse"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/JobFailResponse"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/JobFailResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/JobFailResponse"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/JobFailResponse"}},"405":{"description":"Method Not Allowed","schema":{"$ref":"#/definitions/JobFailResponse"}},"406":{"description":"Not Acceptable","schema":{"$ref":"#/definitions/JobFailResponse"}},"407":{"description":"Proxy Authentication Required","schema":{"$ref":"#/definitions/JobFailResponse"}},"408":{"description":"Request Timeout","schema":{"$ref":"#/definitions/JobFailResponse"}},"409":{"description":"Conflict","schema":{"$ref":"#/definitions/JobFailResponse"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/JobFailResponse"}},"501":{"description":"Not Implemented","schema":{"$ref":"#/definitions/JobFailResponse"}},"502":{"description":"Bad Gateway","schema":{"$ref":"#/definitions/JobFailResponse"}},"503":{"description":"Service Unavailable","schema":{"$ref":"#/definitions/JobFailResponse"}},"504":{"description":"Gateway Timeout","schema":{"$ref":"#/definitions/JobFailResponse"}}},"summary":"创建容灾演练","tags":["容灾演练"],"x-apiexplorer-hide":"","x-apigateway-auth-type":"","x-apigateway-match-mode":"","x-apigateway-request-type":"","x-call_frequency":"","x-constraint":"保护组的状态为available,protected,failed-over, error-starting,error-stopping,error-reversing,error-reprotecting,error-failing-over。\n在第一次同步数据完成前请不要进行容灾演练操作,否则可能导致容灾演练服务器无法正常启动。\n创建容灾演练时,如果保护组内的容灾站点云服务器加入了企业项目,容灾演练创建的演练云服务器不会自动加入到企业项目,如有需要请手动将演练云服务器加入到企业项目。\n创建容灾演练时,若传入drill_vpc_id,使用已创建好的演练VPC,则需保证已创建好的演练VPC内子网网段和保护组所在VPC内的子网网段一致;若不传入drill_vpc_id,则自动创建演练VPC。\n创建容灾演练时,使用已创建好的演练VPC,创建容灾演练后,演练VPC内子网的网络ACL规则和保护组所在VPC内子网的不会保持一致,如需保持一致请手动配置。\n创建容灾演练时,如果保护组所在VPC创建了自定义路由表并关联子网,演练VPC不会自动创建相对应的路由表,如有需要请手动创建。","x-ctc":"N","x-first_open_time":"2018-07-30","x-flow_control_group":"CreateDisasterRecoveryDrill","x-hc":"Y","x-hk":"Y","x-hybridcloud":false,"x-in_cli":"","x-is_calling":"Y","x-is_registered":"Y","x-multi_tenant_flow_time":1,"x-multi_tenant_flow_value":600,"x-name":"创建容灾演练","x-obc":"Y","x-order":32,"x-otc":"Y","x-publishpath":"","x-request-examples-1":{"disaster_recovery_drill":{"name":"dr_drill_test","server_group_id":"c2aee29a-2959-4d01-9755-01cc76a4d17d"}},"x-request-examples-description-1":"","x-request-examples-text-1":"{\n\t\"disaster_recovery_drill\": {\n\t\t\"name\": \"dr_drill_test\",\n\t\t\"server_group_id\": \"c2aee29a-2959-4d01-9755-01cc76a4d17d\"\n\t}\n}","x-request-examples-url-1":"POST https://{Endpoint}/v1/{project_id}/disaster-recovery-drills","x-scope":"Commercial","x-source":"SelfDeveloped","x-source_url":"","x-support-sdk":"Y","x-tenant_flow_time":1,"x-tenant_flow_value":300,"x-timeout":"200s","x-tlf":"N","x-un_cli":"","x-version":"v1"}}},"product_short":"SDRS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建容灾演练","tags":"容灾演练","uri":null,"version":"2.0"}