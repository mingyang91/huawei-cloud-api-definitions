{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CreateGrantRequestBody":{"properties":{"grantee_principal":{"description":"被授权用户ID,1~64字节,满足正则匹配“^[a-zA-Z0-9]{1,64}$”。\n例如:0d0466b00d0466b00d0466b00d0466b0","maxLength":64,"minLength":1,"type":"string"},"grantee_principal_type":{"description":"授权类型。有效值:“user”,“domain”。默认值为“user”。","enum":["user","domain"],"type":"string"},"key_id":{"description":"密钥ID,36字节,满足正则匹配“^[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}$”。\n例如:0d0466b0-e727-4d9c-b35d-f84bb474a37f。","maxLength":36,"minLength":36,"type":"string"},"name":{"description":"授权名称,取值1到255字符,满足正则匹配“^[a-zA-Z0-9:/_-]{1,255}$”。","maxLength":255,"minLength":1,"type":"string"},"operations":{"description":"授权允许的操作列表。\n有效的值:“create-datakey”,“create-datakey-without-plaintext”,“encrypt-datakey”,“decrypt-datakey”,“describe-key”,“create-grant”,“retire-grant”,“encrypt-data”,“decrypt-data”。\n有效值不能仅为“create-grant”。\n - “create-datakey” 创建数据密钥\n - “create-datakey-without-plaintext” 创建不含明文数据密钥\n - “encrypt-datakey” 加密数据密钥\n - “decrypt-datakey” 解密数据密钥\n - “describe-key” 查询密钥信息\n - “retire-grant” 退役授权\n - “encrypt-data” 加密数据\n - “decrypt-data” 解密数据","items":{"type":"string"},"maxItems":10,"minItems":1,"type":"array"},"retiring_principal":{"description":"可退役授权的用户ID,1~64字节,满足正则匹配“^[a-zA-Z0-9]{1,64}$”。\n例如:0d0466b00d0466b00d0466b00d0466b0","maxLength":64,"minLength":1,"type":"string"},"sequence":{"description":"请求消息序列号,36字节序列号。\n例如:919c82d4-8046-4722-9094-35c3c6524cff","maxLength":36,"minLength":0,"type":"string"}},"required":["key_id","grantee_principal","operations"]},"CreateGrantResponseBody":{"properties":{"grant_id":{"description":"授权ID,64字节。","maxLength":64,"minLength":64,"type":"string"}}},"Error":{"properties":{"error":{"description":"错误信息返回体。","items":{"$ref":"#/definitions/ErrorDetail"}}}},"ErrorDetail":{"properties":{"error_code":{"description":"错误请求返回的错误码","maxLength":36,"minLength":3,"type":"string"},"error_msg":{"description":"错误请求返回的错误信息","maxLength":1024,"minLength":0,"type":"string"}}}},"description":null,"group_id":"2db7b8185e9643bda6488925a07b94e6","host":"kms.cn-north-4.myhuaweicloud.com","id":"91e7c7801ac347819b0598ac9d7225eb","info_version":"v2","method":"post","name":"CreateGrant","parameters":{},"paths":{"/v1.0/{project_id}/kms/create-grant":{"post":{"description":"- 功能介绍:创建授权,被授权用户可以对授权密钥进行操作。\n- 说明:\n   - 服务默认主密钥(密钥别名后缀为“/default”)不可以授权。","operationId":"CreateGrant","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":2097152,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"项目ID","in":"path","maxLength":32,"minLength":32,"name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"create_grant","in":"body","name":"CreateGrantRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateGrantRequestBody"}}],"produces":["application/json"],"responses":{"200":{"description":"请求已成功","examples":{"application/json":{"grant_id":"7c9a3286af4fcca5f0a385ad13e1d21a50e27b6dbcab50f37f30f93b8939827d"}},"schema":{"$ref":"#/definitions/CreateGrantResponseBody"}},"400":{"description":"请求参数有误","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"被请求的页面需要用户名和密码","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"认证失败","schema":{"$ref":"#/definitions/Error"}},"404":{"description":"资源不存在,资源未找到","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"服务内部错误","schema":{"$ref":"#/definitions/Error"}},"502":{"description":"请求未完成。服务器从上游服务器收到一个无效的响应","schema":{"$ref":"#/definitions/Error"}},"504":{"description":"网关超时","schema":{"$ref":"#/definitions/Error"}}},"summary":"创建授权","tags":["密钥授权管理"],"x-is-registered":"Y","x-request-examples-1":{"grantee_principal":"13gg44z4g2sglzk0egw0u726zoyzvrs8","grantee_principal_type":"user","key_id":"0d0466b0-e727-4d9c-b35d-f84bb474a37f","operations":["describe-key","create-datakey","encrypt-datakey"],"retiring_principal":"13gg44z4g2sglzk0egw0u726zoyzvrs8"},"x-support-sdk":"Y"}}},"product_short":"KMS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建授权","tags":"密钥授权管理","uri":null,"version":"2.0"}