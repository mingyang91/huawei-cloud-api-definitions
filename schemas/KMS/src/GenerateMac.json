{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"Error":{"properties":{"error":{"description":"错误信息返回体。","items":{"$ref":"#/definitions/ErrorDetail"}}}},"ErrorDetail":{"properties":{"error_code":{"description":"错误请求返回的错误码","maxLength":36,"minLength":3,"type":"string"},"error_msg":{"description":"错误请求返回的错误信息","maxLength":1024,"minLength":0,"type":"string"}}},"GenerateMacRequestBody":{"properties":{"key_id":{"description":"密钥ID","maxLength":36,"minLength":36,"type":"string"},"mac_algorithm":{"description":"Mac算法,HMAC_SM3只有中国区支持。枚举如下:\n- HMAC_SHA_256\n- HMAC_SHA_384\n- HMAC_SHA_512\n- HMAC_SM3","enum":["HMAC_SHA_256","HMAC_SHA_384","HMAC_SHA_512","HMAC_SM3"],"type":"string"},"message":{"description":"待处理消息。原消息最小长度1、最大长度4096。请将原消息转为Base64格式后传入","type":"string"}},"required":["key_id","mac_algorithm","message"],"type":"object"},"GenerateMacResponseBody":{"properties":{"key_id":{"description":"密钥ID","maxLength":36,"minLength":36,"type":"string"},"mac":{"description":"生成的消息验证码","type":"string"},"mac_algorithm":{"description":"Mac算法","type":"string"}},"type":"object"}},"description":null,"group_id":"2db7b8185e9643bda6488925a07b94e6","host":"kms.cn-north-4.myhuaweicloud.com","id":"fb833a1a6a8049dabeb8b7e361186202","info_version":"v2","method":"post","name":"GenerateMac","parameters":{},"paths":{"/v1.0/{project_id}/kms/generate-mac":{"post":{"description":"功能介绍:生成消息验证码","operationId":"GenerateMac","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":2097152,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"项目ID","in":"path","maxLength":32,"minLength":32,"name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"in":"body","name":"GenerateMacRequestBody","required":true,"schema":{"$ref":"#/definitions/GenerateMacRequestBody"}}],"produces":["application/json"],"responses":{"200":{"description":"请求已成功","examples":{"application/json":{"key_id":"826314dd-1b5b-4037-b976-5f9b7a17df46","mac":"9d266415acf82985bb44daf4990604f1931384c88fd21ef32b202396755dcfd7","mac_algorithm":"HMAC_SHA_256"}},"schema":{"$ref":"#/definitions/GenerateMacResponseBody"}},"400":{"description":"请求参数有误","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"被请求的页面需要用户名和密码","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"认证失败","schema":{"$ref":"#/definitions/Error"}},"404":{"description":"资源不存在,资源未找到","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"服务内部错误","schema":{"$ref":"#/definitions/Error"}},"502":{"description":"请求未完成。服务器从上游服务器收到一个无效的响应","schema":{"$ref":"#/definitions/Error"}},"504":{"description":"网关超时","schema":{"$ref":"#/definitions/Error"}}},"summary":"生成消息验证码","tags":["消息验证码"],"x-constraint":"- 仅支持key_usage为GENERATE_VERIFY_MAC的密钥进行操作。","x-is-registered":"Y","x-request-examples-1":{"key_id":"826314dd-1b5b-4037-b976-5f9b7a17df46","mac_algorithm":"HMAC_SHA_256","message":"ZmRzYQ=="},"x-request-examples-text-1":{"key_id":"826314dd-1b5b-4037-b976-5f9b7a17df46","mac_algorithm":"HMAC_SHA_256","message":"ZmRzYQ=="},"x-support-sdk":"Y"}}},"product_short":"KMS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"生成消息验证码","tags":"消息验证码","uri":null,"version":"2.0"}