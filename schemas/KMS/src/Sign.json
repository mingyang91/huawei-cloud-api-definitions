{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"Error":{"properties":{"error":{"description":"错误信息返回体。","items":{"$ref":"#/definitions/ErrorDetail"}}}},"ErrorDetail":{"properties":{"error_code":{"description":"错误请求返回的错误码","maxLength":36,"minLength":3,"type":"string"},"error_msg":{"description":"错误请求返回的错误信息","maxLength":1024,"minLength":0,"type":"string"}}},"SignRequestBody":{"properties":{"key_id":{"description":"密钥ID,36字节,满足正则匹配“^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$”。\n例如:0d0466b0-e727-4d9c-b35d-f84bb474a37f。","pattern":"^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$","type":"string"},"message":{"description":"待签名的消息摘要或者消息,消息长度要求小于4096字节,使用Base64编码。","maxLength":4096,"minLength":0,"type":"string"},"message_type":{"description":"消息类型,默认为“DIGEST”,枚举如下:\n - DIGEST 表示消息摘要\n - RAW 表示消息原文","enum":["DIGEST","RAW"],"maxLength":4096,"type":"string"},"sequence":{"description":"请求消息序列号,36字节序列号。\n例如:919c82d4-8046-4722-9094-35c3c6524cff。","maxLength":36,"minLength":0,"type":"string"},"signing_algorithm":{"description":"签名算法,枚举如下:\n - RSASSA_PSS_SHA_256\n - RSASSA_PSS_SHA_384\n - RSASSA_PSS_SHA_512\n - RSASSA_PKCS1_V1_5_SHA_256\n - RSASSA_PKCS1_V1_5_SHA_384\n - RSASSA_PKCS1_V1_5_SHA_512\n - ECDSA_SHA_256\n - ECDSA_SHA_384\n - ECDSA_SHA_512\n - SM2DSA_SM3","enum":["RSASSA_PSS_SHA_256","RSASSA_PSS_SHA_384","RSASSA_PSS_SHA_512","RSASSA_PKCS1_V1_5_SHA_256","RSASSA_PKCS1_V1_5_SHA_384","RSASSA_PKCS1_V1_5_SHA_512","ECDSA_SHA_256","ECDSA_SHA_384","ECDSA_SHA_512","SM2DSA_SM3"],"type":"string"}},"required":["key_id","message","signing_algorithm"]},"SignResponseBody":{"properties":{"key_id":{"description":"密钥ID。","pattern":"^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$","type":"string"},"signature":{"description":"签名值,使用base64编码。","maxLength":684,"minLength":96,"type":"string"}}}},"description":null,"group_id":"2db7b8185e9643bda6488925a07b94e6","host":"kms.cn-north-4.myhuaweicloud.com","id":"5b21949d36734f9c802ca67c0156c1f5","info_version":"v2","method":"post","name":"Sign","parameters":{},"paths":{"/v1.0/{project_id}/kms/sign":{"post":{"description":"- 功能介绍:使用非对称密钥的私钥对消息或消息摘要进行数字签名。","operationId":"Sign","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":2097152,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"项目ID","in":"path","maxLength":32,"minLength":32,"name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"SignRequestBody","in":"body","name":"SignRequestBody","required":true,"schema":{"$ref":"#/definitions/SignRequestBody"}}],"produces":["application/json"],"responses":{"200":{"description":"请求已成功","examples":{"application/json":{"key_id":"0d0466b0-e727-4d9c-b35d-f84bb474a37f","signature":"jFUqQESGBc0j6k9BozzrP9YL4qk8/W9DZRvK6XXX..."}},"schema":{"$ref":"#/definitions/SignResponseBody"}},"400":{"description":"请求参数有误","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"被请求的页面需要用户名和密码","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"认证失败","schema":{"$ref":"#/definitions/Error"}},"404":{"description":"资源不存在,资源未找到","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"服务内部错误","schema":{"$ref":"#/definitions/Error"}},"502":{"description":"请求未完成。服务器从上游服务器收到一个无效的响应","schema":{"$ref":"#/definitions/Error"}},"504":{"description":"网关超时","schema":{"$ref":"#/definitions/Error"}}},"summary":"签名数据","tags":["签名验签"],"x-constraint":"- 仅支持key_usage为SIGN_VERIFY的非对称密钥进行签名操作。\n- 使用SM2密钥签名时,仅支持对消息摘要签名。根据GBT32918国家标准,计算SM2签名值时,消息摘要不是对原始消息直接计算SM3摘要,而是对Z(A)和M的拼接值计算的摘要,其中M是待签名的原始消息,Z(A)是GBT32918中定义的用户A的杂凑值。","x-is-registered":"Y","x-request-examples-1":{"key_id":"0d0466b0-e727-4d9c-b35d-f84bb474a37f","message":"MmFiZWE0ZjI3ZGIxYTkzY2RmYmEzM2YwMTA1YmJjYw==","signing_algorithm":"RSASSA_PKCS1_V1_5_SHA_256"},"x-support-sdk":"Y"}}},"product_short":"KMS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"签名数据","tags":"签名验签","uri":null,"version":"2.0"}