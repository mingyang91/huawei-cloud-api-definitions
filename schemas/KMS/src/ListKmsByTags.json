{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ActionResources":{"properties":{"resource_detail":{"$ref":"#/definitions/KeyDetails"},"resource_id":{"description":"资源ID。","maxLength":36,"minLength":36,"type":"string"},"resource_name":{"description":"资源名称,默认为空字符串。","maxLength":255,"minLength":0,"type":"string"},"tags":{"description":"标签列表,没有标签,数组默认为空。","items":{"$ref":"#/definitions/TagItem"},"maxItems":20,"minItems":1,"type":"array"}}},"Error":{"properties":{"error":{"description":"错误信息返回体。","items":{"$ref":"#/definitions/ErrorDetail"}}}},"ErrorDetail":{"properties":{"error_code":{"description":"错误请求返回的错误码","maxLength":36,"minLength":3,"type":"string"},"error_msg":{"description":"错误请求返回的错误信息","maxLength":1024,"minLength":0,"type":"string"}}},"KeyDetails":{"description":"密钥详情。","properties":{"creation_date":{"description":"密钥创建时间,时间戳,即从1970年1月1日至该时间的总秒数。","maxLength":13,"minLength":13,"type":"string"},"default_key_flag":{"description":"默认主密钥标识,默认主密钥标识为1,非默认标识为0。","maxLength":1,"minLength":0,"type":"string"},"domain_id":{"description":"用户域ID。","maxLength":64,"minLength":32,"type":"string"},"expiration_time":{"description":"密钥材料失效时间,时间戳,即从1970年1月1日至该时间的总秒数。","maxLength":13,"minLength":0,"type":"string"},"key_alias":{"description":"密钥别名。","maxLength":255,"minLength":1,"type":"string"},"key_description":{"description":"密钥描述。","maxLength":255,"minLength":0,"type":"string"},"key_id":{"description":"密钥ID。","maxLength":36,"minLength":36,"pattern":"^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$","type":"string"},"key_rotation_enabled":{"description":"密钥轮换状态,默认为“false”,表示关闭密钥轮换功能。","maxLength":5,"minLength":4,"type":"string"},"key_spec":{"description":"密钥生成算法。\n - AES_256\n - SM4\n - RSA_2048\n - RSA_3072\n - RSA_4096\n - EC_P256\n - EC_P384\n - SM2","enum":["AES_256","SM4","RSA_2048","RSA_3072","RSA_4096","EC_P256","EC_P384","SM2"],"type":"string"},"key_state":{"description":"密钥状态,满足正则匹配“^[1-5]{1}$”,枚举如下:\n - “1”表示待激活状态\n - “2”表示启用状态\n - “3”表示禁用状态\n - “4”表示计划删除状态\n - “5”表示等待导入状态","pattern":"^[1-5]{1}$","type":"string"},"key_type":{"description":"密钥类型。","maxLength":13,"minLength":0,"type":"string"},"key_usage":{"description":"密钥用途。\n- ENCRYPT_DECRYPT\n- SIGN_VERIFY","enum":["ENCRYPT_DECRYPT","SIGN_VERIFY"],"type":"string"},"keystore_id":{"description":"密钥库ID","type":"string"},"origin":{"description":"密钥来源,默认为“kms”,枚举如下:\n - kms表示密钥材料由kms生成kms表示密钥材料由kms生成\n - external表示密钥材料由外部导入","enum":["kms","external"],"type":"string"},"realm":{"description":"密钥区域。","maxLength":255,"minLength":0,"type":"string"},"scheduled_deletion_date":{"description":"密钥计划删除时间,时间戳,即从1970年1月1日至该时间的总秒数。","maxLength":13,"minLength":0,"type":"string"},"sys_enterprise_project_id":{"description":"企业项目ID,默认为“0”。\n - 对于开通企业项目的用户,表示资源处于默认企业项目下。\n - 对于未开通企业项目的用户,表示资源未处于企业项目下。","maxLength":32,"minLength":0,"type":"string"}},"type":"object"},"ListKmsByTagsRequestBody":{"properties":{"action":{"description":"操作标识(可设置为“filter”或者“count”)。\n - filter:表示过滤。\n - count:表示查询总条数。","maxLength":6,"minLength":5,"type":"string"},"limit":{"description":"查询记录数(“action”为“count”时,无需设置此参数),如果“action”为“filter”,默认为“10”。\nlimit的取值范围为“1-1000”。","maxLength":4,"minLength":0,"type":"string"},"matches":{"description":"搜索字段。\n - key为要匹配的字段,例如:resource_name等。\n - value为匹配的值,最大长度为255个字符,不能为空。","items":{"$ref":"#/definitions/TagItem"},"maxItems":10,"minItems":0,"type":"array"},"offset":{"description":"索引位置。从offset指定的下一条数据开始查询。查询第一页数据时,将查询前一页数据时响应体中的值带入此参数(“action”为“count”时,无需设置此参数)。如果“action”为“filter”,offset默认为“0”。\noffset必须为数字,不能为负数。","maxLength":4,"minLength":0,"type":"string"},"sequence":{"description":"请求消息序列号,36字节序列号。\n例如:919c82d4-8046-4722-9094-35c3c6524cff","maxLength":36,"minLength":0,"type":"string"},"tags":{"description":"标签列表,key和value键值对的集合。\n - key:表示标签键,一个密钥下最多包含10个key,key不能为空,不能重复,同一个key中value不能重复。key最大长度为36个字符。\n - value:表示标签值。每个值最大长度43个字符,value之间为“与”的关系。","items":{"$ref":"#/definitions/Tag"},"maxItems":10,"minItems":1,"type":"array"}}},"ListKmsByTagsResponseBody":{"properties":{"resources":{"description":"资源实例列表,详情请参见resource字段数据结构说明。","items":{"$ref":"#/definitions/ActionResources"},"maxItems":100,"minItems":0,"type":"array"},"total_count":{"description":"总记录数。","format":"int32","maximum":100,"minimum":0,"type":"integer"}}},"Tag":{"properties":{"key":{"description":"键。\n最大长度36个unicode字符。 key不能为空。不能包含非打印字符“ASCII(0-31)”、“*”、“<”、“>”、“\\”、“=”。","maxLength":36,"minLength":1,"type":"string"},"values":{"description":"标签值集合","items":{"type":"string"},"maxItems":10,"minItems":1,"type":"array"}}},"TagItem":{"description":"标签。","properties":{"key":{"description":"键。\n最大长度36个unicode字符。 key不能为空。不能包含非打印字符“ASCII(0-31)”、“*”、“<”、“>”、“\\”、“=”。","maxLength":36,"minLength":1,"type":"string"},"value":{"description":"值。\n每个值最大长度43个unicode字符,可以为空字符串。 不能包含非打印字符“ASCII(0-31)”、“*”、“<”、“>”、“\\”、“=”。","maxLength":43,"minLength":0,"type":"string"}},"required":["key"],"type":"object"}},"description":null,"group_id":"2db7b8185e9643bda6488925a07b94e6","host":"kms.cn-north-4.myhuaweicloud.com","id":"e23dd74eb7b149608161561d1b655112","info_version":"v2","method":"post","name":"ListKmsByTags","parameters":{},"paths":{"/v1.0/{project_id}/kms/{resource_instances}/action":{"post":{"description":"- 功能介绍:查询密钥实例。通过标签过滤,查询指定用户主密钥的详细信息。","operationId":"ListKmsByTags","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":2097152,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"项目ID","in":"path","maxLength":32,"minLength":32,"name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"default":"resource_instances","description":"资源实例,固定值为resource_instances","in":"path","maxLength":18,"minLength":18,"name":"resource_instances","pattern":"^resource_instances$","required":true,"type":"string"},{"description":"action","in":"body","name":"ListKmsByTagsRequestBody","required":true,"schema":{"$ref":"#/definitions/ListKmsByTagsRequestBody"}}],"produces":["application/json"],"responses":{"200":{"description":"请求已成功","examples":{"application/json":{"resources":[{"resource_detail":[{"creation_date":1521449277000,"default_key_flag":0,"domain_id":"4B688Fb77412Aee5570E7ecdbeB5afdc","expiration_time":"","key_alias":"tagTest_xmdmi","key_description":"123","key_id":"90c03e67-5534-4ed0-acfa-89780e47a535","key_rotation_enabled":false,"key_state":2,"key_type":1,"origin":"kms","realm":"test","scheduled_deletion_date":"","sys_enterprise_project_id":"0"}],"resource_id":"90c03e67-5534-4ed0-acfa-89780e47a535","resource_name":"tagTest_xmdmi","tags":[{"key":"key","value":"testValue!"},{"key":"haha","value":"testValue"}]}],"total_count":1}},"schema":{"$ref":"#/definitions/ListKmsByTagsResponseBody"}},"400":{"description":"请求参数有误","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"被请求的页面需要用户名和密码","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"认证失败","schema":{"$ref":"#/definitions/Error"}},"404":{"description":"资源不存在,资源未找到","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"服务内部错误","schema":{"$ref":"#/definitions/Error"}},"502":{"description":"请求未完成。服务器从上游服务器收到一个无效的响应","schema":{"$ref":"#/definitions/Error"}},"504":{"description":"网关超时","schema":{"$ref":"#/definitions/Error"}}},"summary":"查询密钥实例","tags":["密钥标签管理"],"x-is-registered":"Y","x-request-examples-1":{"action":"filter","limit":"100","matches":[{"key":"resource_name","value":"resource1"}],"offset":"100","tags":[{"key":"key1","values":["value1","value2"]}]},"x-support-sdk":"Y"}}},"product_short":"KMS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询密钥实例","tags":"密钥标签管理","uri":null,"version":"2.0"}