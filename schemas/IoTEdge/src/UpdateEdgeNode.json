{"base_path":"/v2","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ActiveStandbyConfigDTO":{"description":"高可用主备配置请求结构体","properties":{"master_interface_name":{"description":"主节点网卡名称","example":"eth0","maxLength":64,"minLength":1,"pattern":"^[A-Za-z0-9-_]*$","type":"string"},"slave_interface_name":{"description":"备节点网卡名称","example":"eth0","maxLength":64,"minLength":1,"pattern":"^[A-Za-z0-9-_]*$","type":"string"},"virtual_ip_address":{"description":"网卡ip","example":"127.0.0.1","maxLength":64,"minLength":0,"type":"string"},"virtual_ipv6_address":{"description":"网卡ipv6地址","example":"ABCD:EF01:2345:6789:ABCD:EF01:2345:6789","maxLength":64,"minLength":0,"type":"string"},"work_node":{"default":"DEFAULT","description":"当前的工作节点,主节点还是备节点在工作,初始创建时工作节点为DEFAULT节点,(DEFAULT|MASTER|SLAVE)","example":"DEFAULT","maxLength":64,"minLength":1,"pattern":"^[A-Za-z0-9-_]*$","type":"string"}},"title":"高可用主备类型配置请求结构体","type":"object"},"BasePathDTO":{"properties":{"config_base_path":{"description":"节点配置根目录","maxLength":64,"minLength":1,"pattern":"^/([a-zA-Z_0-9-]+/)*$","type":"string"},"db_base_path":{"description":"节点数据存储根目录","maxLength":64,"minLength":1,"pattern":"^/([a-zA-Z_0-9-]+/)*$","type":"string"},"log_base_path":{"description":"节点日志根目录","maxLength":64,"minLength":1,"pattern":"^/([a-zA-Z_0-9-]+/)*$","type":"string"},"offline_cache_configs":{"$ref":"#/definitions/OfflineCacheConfigsDTO","description":"边缘节点离线缓存配置"}},"title":"节点根目录结构体","type":"object"},"CertificateLocalPathDTO":{"description":"证书文件的本地存储路径","properties":{"cert_path":{"description":"节点数字证书的本地存储路径。","example":"/opt/device-cert/cert.pem","maxLength":2048,"minLength":1,"pattern":"^/([a-zA-Z0-9-_]+/?)+(.pem|.crt){1}$","type":"string"},"key_path":{"description":"证书私钥的本地存储路径。","example":"/opt/device-cert/key.pem","maxLength":2048,"minLength":1,"pattern":"^/([a-zA-Z0-9-_]+/?)+(.pem|.key){1}$","type":"string"}},"required":["cert_path","key_path"],"type":"object"},"DeviceAuthInfoDisplayDTO":{"description":"边缘节点认证方式信息。","properties":{"auth_type":{"default":"SECRET","description":"边缘节点认证方式。","example":"CERTIFICATES","pattern":"(SECRET|CERTIFICATES)","type":"string"},"local_path":{"$ref":"#/definitions/CertificateLocalPathDTO","description":"证书文件的本地存储路径","type":"object"}},"required":["auth_type"],"type":"object"},"DeviceDataRecord":{"description":"设备上报数据打印开关","properties":{"age":{"default":1,"description":"老化时间,日志压缩文件名时间戳老于这个时间就会发生老化删除","format":"int32","maximum":7,"minimum":1,"type":"integer"},"disk_quota":{"default":512,"description":"磁盘配额,单位MB,参考值,只能保证在这个值左右","format":"int32","maximum":10240,"minimum":512,"type":"integer"},"state":{"description":"配置开关,true启用数据打印,false不启用数据打印","example":"off","maxLength":16,"minLength":0,"pattern":"(on|off)","type":"string"}},"required":["disk_quota","age","state"],"type":"object"},"HaConfigDTO":{"description":"高可用配置请求结构体","properties":{"active_standby_config":{"$ref":"#/definitions/ActiveStandbyConfigDTO","description":"主备详细配置"},"ha_type":{"default":"ACTIVE_STANDBY","description":"节点高可用类型双活或者主备","example":"ACTIVE_STANDBY","pattern":"(ACTIVE_ACTIVE|ACTIVE_STANDBY)","type":"string"}},"title":"高可用配置请求结构体","type":"object"},"LogConfigDTO":{"description":"日志配置","properties":{"component":{"description":"app:部署到边缘设备上的应用的日志, system 边缘设备上系统的日志","pattern":"(app|system)","type":"string"},"level":{"description":"应用日志级别,可选项:on/off/trace/debug/info/warn/error/fatal,当type为LTS时有效。当选择非on/off的选项时,将只采集大于等于指定级别的日志。","pattern":"(on|off|trace|debug|info|warn|error|fatal)","type":"string"},"rotate_num":{"description":"应用日志rotate个数,默认5,取值范围1-10","format":"int32","maximum":10,"minimum":1,"type":"integer"},"rotate_period":{"description":"应用日志rotate周期,可选项: daily/monthly/weekly/yearly","pattern":"(daily|monthly|weekly|yearly)","type":"string"},"size":{"description":"应用日志文件大小限制,单位MB,默认50,取值范围10-1000","format":"int32","maximum":1000,"minimum":10,"type":"integer"},"type":{"default":"LTS","description":"LTS:将日志发送到LTS, local 本地日志","pattern":"(LTS|local)","type":"string"}},"type":"object"},"Nic":{"description":"网络网卡信息","properties":{"eth":{"description":"网卡信息,如eth0,eth1","maxLength":32,"minLength":0,"type":"string"},"ip":{"description":"网卡ip","maxLength":64,"minLength":0,"type":"string"}},"type":"object"},"OfflineCacheConfigsDTO":{"description":"节点离线缓存配置","properties":{"capacity":{"default":2048,"description":"节点离线缓存容量,单位MB,默认2048,取值范围500-8192","format":"int32","maximum":8192,"minimum":500,"type":"integer"},"period":{"default":7,"description":"节点离线缓存数据的储存天数,默认7,取值范围-1~14,-1表示存储天数没有限制","format":"int32","maximum":14,"minimum":-1,"type":"integer"},"publish_order":{"default":"realtime_first","description":"数据上报优先级,可选项:realtime_first实时数据优先 sequential按时序上报,默认realtime_first","pattern":"(sequential|realtime_first)","type":"string"}},"title":"节点缓存配置结构体","type":"object"},"QueryEdgeNodeResponse":{"description":"创建边缘节点及查询边缘节点响应体","properties":{"ai_card_type":{"description":"AI加速卡类型,如华为昇腾AI加速卡NPU、图像处理加速卡GPU。","maxLength":16,"minLength":0,"type":"string"},"arch":{"description":"边缘节点操作系统架构","maxLength":16,"minLength":4,"type":"string"},"automatic_upgrade":{"description":"自动升级系统应用的节点开关,默认为关闭:OFF,IMMEDIATE表示节点开关打开","maxLength":16,"minLength":0,"pattern":"(OFF|IMMEDIATE)","type":"string"},"base_path":{"$ref":"#/definitions/BasePathDTO","description":"节点根目录配置"},"container_version":{"description":"容器运行时版本","example":"17.0.1","maxLength":64,"minLength":0,"type":"string"},"create_time":{"description":"边缘节点创建时间","maxLength":256,"minLength":0,"type":"string"},"device_auth_info":{"$ref":"#/definitions/DeviceAuthInfoDisplayDTO","description":"边缘节点设备认证方式"},"device_data_format":{"description":"节点使用的数据格式,默认为iotda物模型1.0格式,可以选择属性平铺数据格式flat_json","maxLength":16,"minLength":0,"pattern":"(iotda_1.0|flat_json)","type":"string"},"device_data_record":{"$ref":"#/definitions/DeviceDataRecord","description":"边缘节点设备数据上报打印配置"},"edge_node_id":{"description":"边缘节点Id","maxLength":64,"minLength":1,"pattern":"^[a-zA-Z0-9_-]*$","type":"string"},"ha_config":{"$ref":"#/definitions/HaConfigDTO","description":"节点根目录配置"},"hardware_model":{"description":"注册节点网关配置","maxLength":1024,"minLength":0,"type":"string"},"host_name":{"description":"边缘节点主机名","maxLength":256,"minLength":1,"type":"string"},"instance_id":{"description":"实例ID。物理多租下各实例的唯一标识,一般华为云租户无需携带该参数,仅在物理多租场景下从管理面访问API时需要携带该参数。","maxLength":36,"minLength":1,"pattern":"^[a-f0-9-]{1,36}$","type":"string","x-example":"1a7ffc5c-d89c-44dd-8265-b1653d951ce0"},"ips":{"description":"边缘节点主机ip","items":{"type":"string"},"maxItems":10,"minItems":0,"type":"array"},"log_configs":{"description":"边缘节点在IEF的日志配置","items":{"$ref":"#/definitions/LogConfigDTO"},"maxItems":10,"minItems":0,"type":"array"},"metric_report":{"description":"omagent监控运维工具是否上报指标","maxLength":16,"minLength":0,"pattern":"(off|on)","type":"string"},"name":{"description":"边缘节点名称","maxLength":64,"minLength":1,"pattern":"^[a-zA-Z0-9_\\-\\u4e00-\\u9fa5]*$","type":"string"},"nics":{"description":"边缘节点网络网卡信息","items":{"$ref":"#/definitions/Nic"},"maxItems":10,"minItems":0,"type":"array"},"npu_library_path":{"description":"npu驱动动态库路径","example":"/usr/local/Ascend/driver/lib64/","maxLength":256,"minLength":0,"pattern":"^/([a-zA-Z_0-9-]+/)*$","type":"string"},"offline_cache_configs":{"$ref":"#/definitions/OfflineCacheConfigsDTO","description":"边缘节点离线缓存配置"},"os_name":{"description":"边缘节点操作系统名称","maxLength":64,"minLength":1,"type":"string"},"product_id":{"description":"边缘节点关联的产品ID,用于唯一标识一个产品模型。","maxLength":36,"minLength":1,"pattern":"^[a-f0-9-]{1,36}$","type":"string","x-example":"1a7ffc5c-d89c-44dd-8265-b1653d951ce0"},"product_name":{"description":"边缘节点关联的产品名称。","example":"jeQDJQZltU8iKgFFoW060F5SGZka","maxLength":64,"minLength":1,"pattern":"^[一-龥a-zA-Z0-9_?'#().,&%@!-]{1,64}$","type":"string"},"reliability_level":{"default":"LOW","description":"节点的可靠性等级。","example":"LOW","maxLength":64,"minLength":1,"pattern":"(MEDIUM|LOW)","type":"string"},"resource_ids":{"description":"资源id列表,创建节点时需绑定已购买的资源包,可以叠加节点功能。","items":{"example":"jeQDJQZltU8iKgFFoW060F5SGZka","maxLength":64,"minLength":1,"pattern":"^[a-zA-Z0-9_-]*$","type":"string"},"type":"array","x-type":"List<@Pattern(regexp = \"^[a-zA-Z0-9-_/]*$\")String>"},"resource_spec_types":{"description":"节点所购买的资源类型的列表","items":{"example":"iotedge.campus.1000tps.10000device","maxLength":16,"minLength":4,"type":"string"},"type":"array"},"security_level":{"description":"节点的安全等级,MEDIUM边缘节数据上报不进行加密,HIGH对数据上报进行加密。","example":"HIGH","maxLength":64,"minLength":1,"pattern":"(MEDIUM|HIGH)","type":"string"},"software_version":{"description":"边缘应用id,只允许数字、英文小写、中划线,切必须以字母或数字结尾","example":"1.0.0","maxLength":32,"minLength":0,"pattern":"^[A-Za-z0-9-_$]*$","type":"string"},"space_id":{"description":"资源空间id,对应IOTDA云服务接口参数中的app_id。","example":"jeQDJQZltU8iKgFFoW060F5SGZka","maxLength":64,"minLength":1,"pattern":"^[a-zA-Z0-9_-]*$","type":"string"},"specification":{"description":"网络规格,如4 cores | 3867 MB","maxLength":64,"minLength":0,"type":"string"},"state":{"description":"边缘节点状态","maxLength":32,"minLength":4,"type":"string"},"storage_period":{"description":"节点的存储周期,默认0天,取值范围0~7天,0天则不存储。","format":"int32","maximum":7,"minimum":0,"type":"integer"},"type":{"description":"节点所属资源类型:advanced|standard","maxLength":16,"minLength":4,"type":"string"},"update_time":{"description":"边缘节点更新时间","maxLength":256,"minLength":0,"type":"string"}},"type":"object","x-imports":"java.util.Map;java.util.List;"},"UpdateNodeReqDTO":{"description":"修改边缘节点请求结构体。","properties":{"automatic_upgrade":{"description":"自动升级系统应用的节点开关,默认为关闭:OFF,IMMEDIATE表示节点开关打开","maxLength":16,"minLength":0,"pattern":"(OFF|IMMEDIATE)","type":"string"},"device_data_record":{"$ref":"#/definitions/DeviceDataRecord","description":"边缘节点设备数据上报打印配置"},"ha_config":{"$ref":"#/definitions/HaConfigDTO","description":"高可用配置参数"},"hardware_model":{"description":"网关型号","maxLength":1024,"minLength":0,"type":"string"},"log_configs":{"description":"边缘节点在IEF日志配置参数","items":{"$ref":"#/definitions/LogConfigDTO"},"maxItems":10,"minItems":0,"type":"array"},"metric_report":{"description":"omagent监控运维工具是否上报指标","maxLength":16,"minLength":0,"pattern":"(off|on)","type":"string"},"name":{"description":"边缘节点名称,只允许中、数字、英文大小写、中划线、下划线","example":"test-node","maxLength":64,"minLength":1,"pattern":"^[a-zA-Z0-9_\\-\\u4e00-\\u9fa5]*$","type":"string"},"npu_library_path":{"description":"npu驱动动态库路径","example":"/usr/local/Ascend/driver/lib64/","maxLength":256,"minLength":0,"pattern":"^/([a-zA-Z_0-9-]+/)*$","type":"string"},"offline_cache_configs":{"$ref":"#/definitions/UpdateOfflineCacheConfigsDTO","description":"边缘节点离线缓存配置"},"storage_period":{"description":"节点的存储周期,默认0天,取值范围0~7天,0天则不存储。","format":"int32","maximum":7,"minimum":0,"type":"integer"}},"type":"object","x-imports":"java.util.Map;java.util.List;"},"UpdateOfflineCacheConfigsDTO":{"description":"节点离线缓存配置","properties":{"capacity":{"default":2048,"description":"节点离线缓存容量,单位MB,默认2048,取值范围500-65536","format":"int32","maximum":65536,"minimum":500,"type":"integer"}},"title":"节点缓存配置结构体","type":"object"}},"description":null,"group_id":"754c02d86d9b4c75b894729259232632","host":"iotedge-api.cn-north-4.myhuaweicloud.com","id":"a95983dfd7464c51bee51e23f9110f18","info_version":"v2","method":"put","name":"UpdateEdgeNode","parameters":{"X-Auth-Token":{"description":"用户Token。通过调用IAM服务 [获取IAM用户Token](https://support.huaweicloud.com/api-iam/iam_30_0001.html)接口获取,接口返回的响应消息头中“X-Subject-Token”就是需要获取的用户Token。简要的获取方法样例请参见 [Token认证](https://support.huaweicloud.com/api-iothub/iot_06_v5_0091.html#section0)。","in":"header","maxLength":20000,"minLength":0,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},"project_id":{"description":"项目ID。获取方法请参见 [获取项目ID](x-wc://file=zh-cn_topic_0225049489.xml)。","in":"path","maxLength":64,"minLength":1,"name":"project_id","pattern":"^[a-fA-F0-9]{1,32}$","required":true,"type":"string","x-example":"04ed32dc1b0025b52fe3c01a27c2b0a8"}},"paths":{"/{project_id}/edge-nodes/{edge_node_id}":{"put":{"consumes":["application/json"],"description":"修改边缘节点","operationId":"UpdateEdgeNode","parameters":[{"$ref":"#/parameters/project_id"},{"$ref":"#/parameters/X-Auth-Token"},{"description":"节点id","in":"path","maxLength":64,"minLength":1,"name":"edge_node_id","pattern":"^[a-zA-Z0-9_-]*$","required":true,"type":"string"},{"description":"修改边缘节点请求的结构体","in":"body","name":"UpdateEdgeNodeRequestBody","required":true,"schema":{"$ref":"#/definitions/UpdateNodeReqDTO"}}],"produces":["application/json"],"responses":{"200":{"description":"Ok","schema":{"$ref":"#/definitions/QueryEdgeNodeResponse"},"x-SuccessCode":true},"401":{"description":"Bad Request","x-Error":["IoTEdge.00000002"]},"500":{"description":"Internal Server Error","x-Error":["IoTEdge.00000001"]}},"summary":"修改边缘节点","tags":["BasicNode"],"x-externalAPI":true,"x-iftype":"OpenAPI_new","x-is-registered":"Y","x-request-examples-1":{"automatic_upgrade":"OFF","device_data_record":{"age":7,"disk_quota":512,"state":"off"},"ha_config":{"active_standby_config":null,"ha_type":"ACTIVE_STANDBY","master_interface_name":"eth0","slave_interface_name":"eth0","virtual_ip_address":"127.0.0.1","virtual_ipv6_address":"ABCD:EF01:2345:6789:ABCD:EF01:2345:6789","work_node":"DEFAULT"},"hardware_model":"string","log_configs":[{"component":"string","level":"string","rotate_num":10,"rotate_period":"string","size":1000,"type":"LTS"}],"metric_report":"on","name":"test-node","npu_library_path":"/usr/local/Ascend/driver/lib64/","offline_cache_configs":{"capacity":2048,"period":7,"publish_order":"realtime_first"},"storage_period":0},"x-request-examples-url-1":"PUT https://{endpoint}/v2/{project_id}/edge-nodes/{edge_node_id}","x-returnType":"ResponseEntity<QueryEdgeNodeResponse>","x-support-sdk":"Y"}}},"product_short":"IoTEdge","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"修改边缘节点","tags":"节点管理","uri":null,"version":"2.0"}