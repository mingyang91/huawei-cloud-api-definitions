{"base_path":null,"components":null,"consumes":"[\"application/json\"]","definitions":{"BaseResponse":{"description":"API响应基类","properties":{"error_code":{"description":"错误码。","maxLength":12,"minLength":0,"type":"string"},"error_msg":{"description":"错误描述。","maxLength":1000,"minLength":0,"type":"string"}}},"DesktopMetric":{"properties":{"metric":{"description":"统计信息\n* `desktop_usage` -  桌面使用时长(单位:秒)\n* `desktop_idle_duration` -  桌面空闲时长(单位:秒)","items":{"$ref":"#/definitions/Metric"},"readOnly":true,"type":"array"},"resource_id":{"description":"桌面ID","example":"xxx-xxx-xxx","readOnly":true,"type":"string"},"resource_name":{"description":"桌面名称","example":"xxxx","readOnly":true,"type":"string"},"resource_pool_id":{"description":"桌面池ID(仅桌面池中的桌面存在该字段)","example":"xxx-xxx-xxx","readOnly":true,"type":"string"}}},"ListDesktopMetricResp":{"description":"查询桌面统计指标响应","properties":{"count":{"description":"总数","example":0,"readOnly":true,"type":"integer"},"items":{"description":"桌面统计指标","items":{"$ref":"#/definitions/DesktopMetric"},"readOnly":true,"type":"array"}}},"Metric":{"description":"指标","properties":{"metric_name":{"description":"指标名称","example":"desktop_state","readOnly":true,"type":"string"},"metric_value":{"description":"指标值","example":10.0,"format":"double","readOnly":true,"type":"number"}},"type":"object"}},"description":null,"group_id":"7383c32d5d5e4d0481c071faeb994404","host":"workspace.cn-north-4.myhuaweicloud.com","id":"fee2212287154a6cb82ec7cf7e0ddb1a","info_version":"v2","method":"get","name":"ListDesktopUsageMetric","parameters":{},"paths":{"/v2/{project_id}/statistics/metrics/desktops":{"get":{"description":"查询桌面使用统计信息;\n云服务每天凌晨02:00进行聚合运算前一天00:00:00~23:59:59的使用时长,并将周期范围内的数据聚合到周期边界上\n跨天的记录会按照统计周期进行计算\n假设一天内桌面登录多次,09:00~12:00,13:00~21:00,22:00~01:00(次日):\n则当天的累计使用时长数据会被汇聚到23:59:59这个点;总使用时长为 3hours(09:00~12:00)+8hours(13:00~21:00)+2hours(22:00~00:00)\n仅能查询最近180天已进行汇聚计算的数据","operationId":"ListDesktopUsageMetric","parameters":[{"description":"查询起始时间(0时区)\n云服务每天凌晨02:00进行聚合运算前一天00:00:00~23:59:59的使用时长,并将周期范围内的数据聚合到周期边界上\n跨天的记录会按照统计周期进行计算\n假设一天内桌面登录多次,09:00~12:00,13:00~21:00,22:00~01:00(次日):\n则当天的累计使用时长数据会被汇聚到23:59:59这个点;总使用时长为 3hours(09:00~12:00)+8hours(13:00~21:00)+2hours(22:00~00:00)\n如果查询的from-to不足一个周期内,可能造成查询到数据为空;","in":"query","maxLength":32,"minLength":1,"name":"start_time","required":true,"type":"string","x-example":"1970-01-01T00:00:00Z"},{"description":"查询截至时间(0时区)","in":"query","maxLength":32,"minLength":1,"name":"end_time","required":true,"type":"string","x-example":"1970-01-01T01:00:00Z"},{"description":"项目ID。","in":"path","maxLength":255,"minLength":1,"name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":64000,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."},{"description":"资源名称(模糊匹配)","in":"query","maxLength":64,"minLength":1,"name":"resource_name","required":false,"type":"string","x-example":""},{"description":"最小空闲天数","in":"query","maximum":180,"minimum":0,"name":"min_idle_days","required":false,"type":"integer","x-example":"1"},{"description":"最大空闲天数\nmin_idle_days、max_idle_days都非空时,max_idle_days必须大于等于min_idle_days否则可能查询不到数据","in":"query","maximum":180,"minimum":0,"name":"max_idle_days","required":false,"type":"integer","x-example":"1"},{"description":"使用时长(hour)最小值","in":"query","maximum":2147483646,"minimum":0,"name":"usage_min_hours","required":false,"type":"integer","x-example":"0"},{"description":"使用时长(hour)最大值(必须大于等于usage_min_hours)","in":"query","maximum":2147483646,"minimum":0,"name":"usage_max_hours","required":false,"type":"integer","x-example":"0"},{"description":"按照指标进行排序\n* `desktop_usage` -  按照桌面使用时长排序\n* `desktop_idle_duration` -  按照桌面空闲周期排序","in":"query","name":"sort_field","pattern":"(desktop_usage|desktop_idle_duration)","required":false,"type":"string","x-example":"desktop_usage"},{"default":"DESC","description":"按照指标进行排序的方向;需配合sort_field起义使用\n* `DESC` - 降序返回数据\n* `ASC` -  升序返回数据","in":"query","name":"sort_type","pattern":"(ASC|DESC)","required":false,"type":"string","x-example":"DESC"},{"default":0,"description":"查询的偏移量,默认值0","in":"query","maximum":2147483646,"minimum":0,"name":"offset","required":false,"type":"integer","x-example":"0"},{"default":10,"description":"单次查询的大小[1-100],默认值10","in":"query","maximum":100,"minimum":1,"name":"limit","required":false,"type":"integer","x-example":"10"}],"produces":["application/json"],"responses":{"200":{"description":"响应成功","schema":{"$ref":"#/definitions/ListDesktopMetricResp"}},"400":{"description":"客户端请求有误","schema":{"$ref":"#/definitions/BaseResponse"}},"401":{"description":"鉴权失败","schema":{"$ref":"#/definitions/BaseResponse"}},"500":{"description":"内部错误","schema":{"$ref":"#/definitions/BaseResponse"}}},"summary":"查询桌面使用情况统计数据","tags":["Statistics"],"x-api-type":"open-api","x-apiexplorer-hide":"N","x-apig-group":"internal_token,public","x-apigateway-request-type":"public","x-is-registered":"Y","x-support-sdk":"Y"}}},"product_short":"Workspace","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询桌面使用情况统计数据","tags":"报表统计","uri":null,"version":"2.0"}