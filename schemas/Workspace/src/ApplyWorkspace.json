{"base_path":null,"components":null,"consumes":"[\"application/json\"]","definitions":{"AdDomain":{"description":"域信息。","properties":{"active_dns_ip":{"description":"主DNS IP地址。域类型为LOCAL_AD时需要配置。","maxLength":255,"minLength":1,"pattern":"^((\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])$","type":"string"},"active_domain_ip":{"description":"主域控制器IP地址。域类型为LOCAL_AD时需要配置。","maxLength":255,"minLength":1,"pattern":"^((\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])$","type":"string"},"active_domain_name":{"description":"主域控制器名称。域类型为LOCAL_AD时需要配置。","maxLength":55,"minLength":1,"type":"string"},"delete_computer_object":{"default":0,"description":"是否在删除桌面的同时删除AD上对应的计算机对象,0代表不删除,1代表删除。","format":"int32","maximum":1,"minimum":0,"type":"integer"},"domain_admin_account":{"description":"域管理员帐号。域类型为LOCAL_AD时需要配置。\n必须为AD服务器上已经存在的域管理员帐号。","maxLength":55,"minLength":1,"type":"string"},"domain_name":{"description":"域名称。域类型为LOCAL_AD时需要配置。\n域名必须为AD服务器上已经存在的域名,且长度不超过55。","maxLength":55,"minLength":1,"type":"string"},"domain_password":{"description":"域管理员账号密码。域类型为LOCAL_AD时需要配置。","maxLength":255,"minLength":1,"type":"string","x-isSensitive":true},"domain_type":{"description":"域类型。\n- LITE_AS:本地认证。\n- LOCAL_AD:本地AD。\n说明:域类型为“LOCAL_AD”时,请确保所选VPC网络与AD所属网络可连通。","enum":["LITE_AS","LOCAL_AD"],"maxLength":55,"minLength":1,"type":"string"},"standby_dns_ip":{"description":"备DNS IP地址。域类型为LOCAL_AD时且配置备节点时需要配置。","maxLength":255,"minLength":0,"pattern":"^((\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])$","type":"string"},"standby_domain_ip":{"description":"备域控制器IP地址。域类型为LOCAL_AD时且配置备节点时需要配置。","maxLength":255,"minLength":0,"pattern":"^((\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])$","type":"string"},"standby_domain_name":{"description":"备域控制器名称。域类型为LOCAL_AD时且配置备节点时需要配置。","maxLength":55,"minLength":0,"type":"string"},"tls_config":{"$ref":"#/definitions/TlsConfig"},"use_ldaps":{"default":false,"description":"是否开启LDAPS。","type":"boolean"}},"required":["domain_type"]},"ApplyWorkspaceReq":{"description":"申请开通云办公服务请求","properties":{"access_mode":{"description":"接入方式。\n- INTERNET:表示Internet接入。\n- DEDICATED:表示专线接入。\n- BOTH:表示两种接入方式都支持。","enum":["INTERNET","DEDICATED","BOTH"],"maxLength":55,"minLength":0,"type":"string"},"ad_domains":{"$ref":"#/definitions/AdDomain","description":"域信息。"},"dedicated_subnets":{"description":"专线接入网段列表,多个网段信息用分号隔开,列表长度不超过5。","example":"192.168.0.0/24;10.0.0.0/16","maxLength":100,"minLength":0,"type":"string"},"enterprise_id":{"description":"企业ID。\n企业ID是您在云桌面服务的唯一标识,终端用户登录时需要填写企业ID,若不自定义设置企业ID,系统将自动生成您的企业ID。格式为由半角数字、字母、_-组成,长度范围小于等于32个字符。","maxLength":32,"minLength":0,"pattern":"^[a-zA-Z0-9_-]+$","type":"string"},"is_send_email":{"description":"桌面退订是否发送邮件通知。","type":"boolean"},"manage_subnet_cidr":{"description":"管理子网网段。\n注:不能与172.16.0.0/12以及subnet_ids参数下子网的网段冲突。","maxLength":255,"minLength":0,"type":"string"},"subnet_ids":{"description":"指定业务子网的网络ID,子网不能与172.16.0.0/12冲突。","items":{"$ref":"#/definitions/Subnet"},"maxItems":100,"minItems":0,"type":"array","x-maxLength":100,"x-minLength":0},"vpc_id":{"description":"VPC ID。","maxLength":255,"minLength":0,"type":"string"}},"required":["ad_domains"]},"ApplyWorkspaceRsp":{"description":"开通服务响应。","properties":{"job_id":{"description":"开通云办公服务的任务ID。","maxLength":255,"minLength":1,"type":"string"}}},"BaseResponse":{"description":"API响应基类","properties":{"error_code":{"description":"错误码。","maxLength":12,"minLength":0,"type":"string"},"error_msg":{"description":"错误描述。","maxLength":1000,"minLength":0,"type":"string"}}},"Subnet":{"properties":{"subnet_id":{"description":"子网的网络ID。","maxLength":255,"minLength":1,"type":"string"}},"required":["subnet_id"]},"TlsConfig":{"description":"TLS信息。","properties":{"cert_end_time":{"description":"证书生效截止时间,时间参考样例 2022-01-25T09:24:27。","maxLength":255,"minLength":0,"type":"string"},"cert_pem":{"description":"pem内容, 有则更新,无则上传。查询不返回。","maxLength":8192,"minLength":0,"type":"string"},"cert_start_time":{"description":"证书生效开始时间,时间参考样例 2022-01-25T09:24:27。","maxLength":255,"minLength":0,"type":"string"}}}},"description":null,"group_id":"7383c32d5d5e4d0481c071faeb994404","host":"workspace.cn-north-4.myhuaweicloud.com","id":"ce961238bdb5476fa547a1b7fa097e6a","info_version":"v2","method":"post","name":"ApplyWorkspace","parameters":{},"paths":{"/v2/{project_id}/workspaces":{"post":{"description":"该接口用于开通云办公服务。\n\n作为异步接口,调用成功说明云办公服务后台收到了开通请求,但服务是否开通成功需要通过任务查询接口(GET /v2/{project_id}/workspace-sub-jobs)查询该任务的执行状态。","operationId":"ApplyWorkspace","parameters":[{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":40000,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."},{"description":"发送的实体的MIME类型。","in":"header","maxLength":255,"minLength":1,"name":"Content-Type","required":true,"type":"string","x-example":"application/json"},{"description":"项目ID。","in":"path","maxLength":255,"minLength":1,"name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"开通云办公服务请求。","in":"body","name":"ApplyWorkspaceRequestBody","required":true,"schema":{"$ref":"#/definitions/ApplyWorkspaceReq"}}],"responses":{"200":{"description":"开通云办公服务响应。","examples":{"application/json":{"job_id":"0000000059071dbc01591661d3990019"}},"schema":{"$ref":"#/definitions/ApplyWorkspaceRsp"}},"400":{"description":"由于包含语法错误,当前请求无法被服务器理解。","schema":{"$ref":"#/definitions/BaseResponse"}},"401":{"description":"鉴权失败。","schema":{"$ref":"#/definitions/BaseResponse"}},"403":{"description":"没有操作权限。","schema":{"$ref":"#/definitions/BaseResponse"}},"404":{"description":"找不到资源。","schema":{"$ref":"#/definitions/BaseResponse"}},"500":{"description":"服务内部错误,具体返回错误码请参见错误码说明。","schema":{"$ref":"#/definitions/BaseResponse"}}},"schemes":["https"],"summary":"开通云办公服务","tags":["Workspace"],"x-apiexplorer-hide":"N","x-apig-group":"public,internal_token","x-apigateway-request-type":"public","x-is-registered":"Y","x-request-examples-1":{"access_mode":"INTERNET","ad_domains":{"domain_type":"LITE_AS"},"is_send_email":true,"subnet_ids":[{"subnet_id":"067b30a9-1b73-4804-a808-699c5f6c4e09"}],"vpc_id":"e8f985fa-5161-4cb8-bf5a-155058ea58c9"},"x-request-examples-2":{"access_mode":"INTERNET","ad_domains":{"active_dns_ip":"192.161.43.66","active_domain_ip":"192.161.43.66","active_domain_name":"AD-xxx-0001.vdesktop.huawei.com","domain_admin_account":"vdsadmin","domain_name":"xxxx.xxxx.com","domain_password":"xxxxxxxxxx@","domain_type":"LOCAL_AD","standby_dns_ip":"192.161.43.67","standby_domain_ip":"192.161.43.67","standby_domain_name":"AD-xxx-0002.vdesktop.huawei.com"},"is_send_email":true,"subnet_ids":[{"subnet_id":"598d4599-059f-40ca-9cce-841b784d13e6"}],"vpc_id":"27823fc4-5808-4f3b-a5bc-24c7a80742b8"},"x-request-examples-3":{"access_mode":"DEDICATED","ad_domains":{"active_dns_ip":"192.161.43.66","active_domain_ip":"192.161.43.66","active_domain_name":"AD-xxx-0001.vdesktop.huawei.com","domain_admin_account":"vdsadmin","domain_name":"xxxx.xxxx.com","domain_password":"xxxxxxxxxx@","domain_type":"LOCAL_AD","standby_dns_ip":"192.161.43.67","standby_domain_ip":"192.161.43.67","standby_domain_name":"AD-xxx-0002.vdesktop.huawei.com"},"dedicated_subnets":"192.168.0.0/24;10.0.0.0/16","is_send_email":true,"subnet_ids":[{"subnet_id":"598d4599-059f-40ca-9cce-841b784d13e6"}],"vpc_id":"27823fc4-5808-4f3b-a5bc-24c7a80742b8"},"x-request-examples-url-1":"POST /v2/fb2e5ec048384c8f9469d22db0037908/workspaces","x-support-sdk":"Y"}}},"product_short":"Workspace","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"开通云办公服务","tags":"云办公服务","uri":null,"version":"2.0"}