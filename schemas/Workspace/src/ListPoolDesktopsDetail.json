{"base_path":null,"components":null,"consumes":"[\"application/json\"]","definitions":{"AddressInfo":{"properties":{"OS-EXT-IPS-MAC:mac_addr":{"description":"MAC地址。","maxLength":255,"minLength":0,"type":"string"},"OS-EXT-IPS:type":{"description":"IP地址分配方式。\n-fixed  私有IP地址。\n-floating 浮动IP地址。","maxLength":255,"minLength":0,"type":"string"},"addr":{"description":"IP地址信息。","maxLength":255,"minLength":1,"type":"string"},"version":{"description":"IP地址类型,值为4或6,分别表示IPV4和IPV6。","maxLength":5,"minLength":1,"type":"string"}}},"AttachInstancesUserInfo":{"description":"分配桌面用户信息。","properties":{"type":{"default":"USER","description":"对象类型,可选值为:\n- USER:用户。\n- GROUP:用户组。","enum":["USER","GROUP"],"maxLength":20,"minLength":1,"type":"string"},"user_group":{"description":"桌面用户所属的用户组。\n- sudo:Linux管理员组。\n- default:Linux默认用户组。\n- administrators:Windows管理员组。管理员拥有对该桌面的完全访问权,可以做任何需要的更改(禁用操作除外)。\n- users:Windows标准用户组。标准用户可以使用大多数软件,并可以更改不影响其他用户的系统设置。","maxLength":255,"minLength":1,"type":"string"},"user_id":{"description":"用户id","maxLength":255,"minLength":1,"type":"string"},"user_name":{"description":"桌面所属的用户,当桌面分配成功后此用户可以登录该桌面。只允许输入大写字母、小写字母、数字、中划线(-)和下划线(_)。域类型为LITE_AD时,使用小写字母或者大写字母开头,长度范围为[1-20]。当域类型为LOCAL_AD时,用户名可以使用小写字母或者大写字母或者数字开头,长度范围为[1-32]。Windows桌面用户最长支持20个字符,Linux桌面用户最长支持32个字符。","maxLength":32,"minLength":1,"type":"string","x-isSensitive":true}}},"BaseResponse":{"description":"API响应基类","properties":{"error_code":{"description":"错误码。","maxLength":12,"minLength":0,"type":"string"},"error_msg":{"description":"错误描述。","maxLength":1000,"minLength":0,"type":"string"}}},"DesktopDetailInfo":{"description":"桌面详情。","properties":{"addresses":{"additionalProperties":{"items":{"$ref":"#/definitions/AddressInfo"},"maxItems":255,"minItems":0,"type":"array"},"description":"桌面IP地址列表。","type":"object"},"attach_state":{"description":"分配状态。\n- ATTACHED:已分配。\n- UNATTACH:未分配 表示未关联。\n- DEATTACHED:已解分配。\n- ATTACHING:分配中。\n- DEATTACHING:解分配中。\n- ATTACHFAIL:分配失败。\n- DEATTACHFAIL:解分配失败。\n- WAITING:等待被分配中,描述从批量分配(解分配)下发到转入分配(解分配)的中间状态 同时方便单个关联流程的状态独立性。\n- ATTACH_FAIL_CAN_ATTACH_AGAIN:分配失败,还可以再关联。\n- DEATTACH_FAIL_CAN_DEATTACH_AGAIN:解分配失败,还可以再解分配。","enum":["ATTACHED","UNATTACH","DEATTACHED","ATTACHING","DEATTACHING","ATTACHFAIL","DEATTACHFAIL","WAITING","ATTACH_FAIL_CAN_ATTACH_AGAIN","DEATTACH_FAIL_CAN_DEATTACH_AGAIN"],"readOnly":true,"type":"string"},"attach_user_infos":{"description":"桌面已分配的用户信息列表。","items":{"$ref":"#/definitions/AttachInstancesUserInfo"},"readOnly":true,"type":"array"},"availability_zone":{"description":"可用分区。","maxLength":55,"minLength":1,"type":"string"},"bill_resource_id":{"description":"桌面计费资源ID","maxLength":255,"minLength":0,"type":"string"},"computer_name":{"description":"桌面名。","maxLength":55,"minLength":1,"type":"string"},"created":{"description":"桌面创建时间。","maxLength":255,"minLength":1,"type":"string"},"data_volumes":{"description":"数据盘列表。","items":{"$ref":"#/definitions/VolumeDetail"},"maxItems":10,"minItems":1,"type":"array","x-maxLength":10,"x-minLength":1},"desktop_id":{"description":"桌面ID。","maxLength":255,"minLength":1,"type":"string"},"desktop_type":{"description":"桌面类型。\n\n- DEDICATED:专属桌面。","maxLength":55,"minLength":1,"type":"string"},"enterprise_project_id":{"description":"企业项目ID","maxLength":36,"minLength":0,"type":"string"},"flavor":{"$ref":"#/definitions/FlavorInfo","description":"产品信息。"},"internet_mode":{"description":"上网方式。\n- NAT:表示NAT上网方式。\n- EIP:表示EIP上网方式。\n- BOTH:表示两种上网方式都支持。","enum":["NAT","EIP","BOTH"],"readOnly":true,"type":"string"},"ip_addresses":{"description":"IP地址列表。","items":{"maxLength":255,"minLength":0,"type":"string"},"maxItems":10,"minItems":1,"type":"array","x-maxLength":10,"x-minLength":1},"is_attaching_eip":{"description":"桌面是否正在绑定EIP。","readOnly":true,"type":"boolean"},"login_status":{"description":"桌面的登录状态。\n\n- UNREGISTER:表示桌面未注册时的状态(桌面启动后,会自动注册)。关机后也会出现未注册的状态。\n- REGISTERED:表示桌面注册以后,等待用户连接的状态。\n- CONNECTED:表示用户已经成功登录,正在使用桌面。\n- DISCONNECTED:表示桌面与客户端断开会话后显示的状态,可能为关闭客户端窗口,或客户端与桌面网络断开引起。","maxLength":255,"minLength":1,"type":"string"},"metadata":{"additionalProperties":{"maxLength":255,"minLength":0,"type":"string"},"description":"桌面元数据。\n\n- charging_mode 周期套餐标识,1表示包周期,0表示按需。\n- image_name 创建桌面的镜像名称。\n- bill_resource_id 镜像计费资源ID。\n- metering.image_id 镜像ID。\n- metering.resourcespeccode 桌面资源编码。\n- metering.resourcetype 桌面资源类型。\n- os_bit 操作系统位数:32或64。\n- os_type 操作系统类型:Linux、Windows或Others。\n- desktop_os_version 操作系统版本。","type":"object"},"order_id":{"description":"包周期产品的订单ID。","maxLength":255,"minLength":0,"type":"string"},"os_version":{"description":"操作系统版本号。","maxLength":55,"minLength":1,"type":"string"},"ou_name":{"description":"创建桌面时加入的OU名称。","maxLength":55,"minLength":1,"type":"string"},"process":{"description":"桌面任务进度, 取值范围0-100以及null,null表示该桌面无任务,0-100表明该任务进度的百分比。","readOnly":true,"type":"integer"},"product":{"$ref":"#/definitions/ProductDetailInfo","description":"产品信息。"},"product_id":{"description":"产品ID。","maxLength":255,"minLength":1,"type":"string"},"root_volume":{"$ref":"#/definitions/VolumeDetail","description":"系统盘。"},"security_groups":{"description":"桌面安全组。","items":{"$ref":"#/definitions/SecurityGroup"},"maxItems":10,"minItems":1,"type":"array","x-maxLength":10,"x-minLength":1},"sid":{"description":"SID","maxLength":255,"minLength":0,"type":"string"},"site_name":{"description":"站点名字","readOnly":true,"type":"string"},"site_type":{"description":"站点类型","readOnly":true,"type":"string"},"status":{"description":"桌面状态。","maxLength":55,"minLength":1,"type":"string"},"subnet_id":{"description":"桌面的子网ID。","maxLength":255,"minLength":0,"type":"string"},"tags":{"description":"桌面标签列表。","items":{"$ref":"#/definitions/Tag"},"maxItems":2147483647,"minItems":0,"type":"array"},"task_status":{"description":"任务状态。\n\n- scheduling:创建中,正在进行调度。\n- block_device_mapping:创建中,正在准备磁盘。\n- networking:创建中,正在准备网络。\n- spawning:创建中,正在内部创建。\n- rebooting:重启中。\n- reboot_pending:重启中,正在下发重启。\n- reboot_started:重启中,开始内部重启。\n- rebooting_hard:强制重启中。\n- reboot_pending_hard:强制重启中,正在下发重启。\n- reboot_started_hard:强制重启中,开始内部重启。\n- rebuilding:重建中。\n- rebuild_block_device_mapping:重建中,正在准备磁盘。\n- rebuild_spawning:重建中,正在内部重建。\n- migrating:热迁移中。\n- resize_prep:调整规格中,正在准备阶段。\n- resize_migrating:调整规格中,正在迁移阶段。\n- resize_migrated:调整规格中,已经完成迁移。\n- resize_finish:调整规格中,正在完成调整。\n- resize_reverting:调整规格中,正在回退调整。\n- powering-off:停止中。\n- powering-on:启动中。\n- deleting:删除中。\n- deleteFailed:删除失败。","maxLength":55,"minLength":1,"type":"string"},"user_group":{"description":"桌面用户所属的用户组。\n\n- sudo:Linux管理员组。\n- default:Linux默认用户组。\n- administrators:Windows管理员组。管理员拥有对该桌面的完全访问权,可以做任何需要的更改(禁用操作除外)。\n- users:Windows标准用户组。标准用户可以使用大多数软件,并可以更改不影响其他用户的系统设置。","maxLength":55,"minLength":1,"type":"string"},"user_group_list":{"description":"用户组列表","items":{"maxLength":255,"minLength":0,"type":"string"},"type":"array","x-maxLength":255,"x-minLength":0},"user_list":{"description":"用户列表","items":{"maxLength":255,"minLength":0,"type":"string"},"type":"array","x-maxLength":255,"x-minLength":0},"user_name":{"description":"桌面所属用户。","maxLength":55,"minLength":1,"type":"string"}}},"FlavorInfo":{"properties":{"id":{"description":"桌面对应的规格ID。","maxLength":255,"minLength":1,"type":"string"},"links":{"description":"桌面对应规格的相关标记快捷链接信息。","items":{"$ref":"#/definitions/FlavorLinkInfo"},"maxItems":10,"minItems":1,"type":"array","x-maxLength":10,"x-minLength":1}}},"FlavorLinkInfo":{"properties":{"hrel":{"description":"对应快捷链接。","maxLength":255,"minLength":1,"type":"string"},"rel":{"description":"快捷链接标记名称。","maxLength":55,"minLength":1,"type":"string"}}},"ListPoolDesktopsDetailResponseBody":{"properties":{"on_demand_desktops_num":{"description":"按需桌面总数。","format":"int32","readOnly":true,"type":"integer"},"period_desktops_num":{"description":"包周期桌面总数。","format":"int32","readOnly":true,"type":"integer"},"pool_desktops":{"description":"池桌面详情","items":{"$ref":"#/definitions/PoolDesktopsDetailInfo"},"readOnly":true,"type":"array"},"total_count":{"description":"桌面总数。","format":"int32","readOnly":true,"type":"integer"}}},"PoolDesktopsDetailInfo":{"allOf":[{"$ref":"#/definitions/DesktopDetailInfo"},{"properties":{"inconsistent_types":{"description":"桌面与桌面池不一致的规格类型:\n\n- PRODUCT: 产品ID不一致\n- IMAGE: 镜像ID不一致","items":{"type":"string"},"type":"array"}},"type":"object"}],"description":"池桌面详情"},"ProductDetailInfo":{"allOf":[{"$ref":"#/definitions/SimpleProduct"},{"type":"object"}]},"SecurityGroup":{"description":"安全组。","properties":{"id":{"description":"安全组ID。","maxLength":255,"minLength":0,"type":"string"},"name":{"description":"安全组名称。","maxLength":55,"minLength":0,"type":"string"}},"required":["id"]},"SimpleProduct":{"description":"产品信息。","properties":{"charge_mode":{"description":"周期套餐标识,0表示包周期,1表示按需。","maxLength":1,"minLength":0,"type":"string"},"cpu":{"description":"CPU","maxLength":255,"minLength":1,"type":"string"},"descriptions":{"description":"产品描述。","maxLength":255,"minLength":1,"type":"string"},"flavor_id":{"description":"产品规格ID。","maxLength":255,"minLength":1,"type":"string"},"memory":{"description":"内存。","maxLength":255,"minLength":1,"type":"string"},"product_id":{"description":"产品ID。","maxLength":255,"minLength":1,"type":"string"},"type":{"description":"产品类型。\n\n- BASE:表示产品基础套餐,套餐镜像中不包括除操作系统之外的其他商业软件,私有镜像场景只能使用此类套餐。","maxLength":55,"minLength":1,"type":"string"}}},"Tag":{"description":"标签","properties":{"key":{"description":"标签的键,不能为空,最大长度128个unicode字符。大小写字母,数字,可以包含中划线“-”,下划线“_”,不能包含以下字符“=”,“*”,“<”,“>”,“\\”,“,”,“|”,“/”。","maxLength":128,"minLength":0,"type":"string"},"value":{"default":"","description":"标签的值,最大长度43个unicode字符。大小写字母,数字,可以包含中划线“-”,下划线“_”,不能包含以下字符“=”,“*”,“<”,“>”,“\\”,“,”,“|”,“/”。","maxLength":43,"minLength":0,"type":"string"}},"required":["key"]},"VolumeDetail":{"description":"磁盘信息。","properties":{"bill_resource_id":{"description":"磁盘计费资源ID。","maxLength":255,"minLength":0,"type":"string"},"create_time":{"description":"磁盘的创建时间","maxLength":255,"minLength":0,"type":"string"},"device":{"description":"挂载目录。","maxLength":255,"minLength":0,"type":"string"},"display_name":{"description":"磁盘名","maxLength":255,"minLength":0,"type":"string"},"id":{"description":"磁盘表唯一标识ID。","maxLength":255,"minLength":0,"type":"string"},"size":{"description":"磁盘容量,单位GB。","maximum":2147483647,"minimum":0,"type":"integer"},"type":{"description":"桌面数据盘对应的磁盘类型,需要与系统所提供的磁盘类型相匹配。\n\n- SAS:高IO。\n- SSD:超高IO。","maxLength":255,"minLength":1,"type":"string"},"volume_id":{"description":"磁盘ID。","maxLength":255,"minLength":0,"type":"string"}},"required":["size","type"]}},"description":null,"group_id":"7383c32d5d5e4d0481c071faeb994404","host":"workspace.cn-north-4.myhuaweicloud.com","id":"ff82b9a462a049e3ad849f860deda0e2","info_version":"v2","method":"get","name":"ListPoolDesktopsDetail","parameters":{"X-Auth-Token":{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":40000,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."},"pool_id":{"description":"桌面池ID。","in":"path","maxLength":255,"minLength":1,"name":"pool_id","required":true,"type":"string","x-annotations":"@Size(max = 255, min = 1)","x-example":"2b31e-d520xxxx-xxebedb6-e57xxxxxx"},"project_id":{"description":"项目ID。","in":"path","maxLength":255,"minLength":1,"name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"}},"paths":{"/v2/{project_id}/desktop-pools/{pool_id}/desktops":{"get":{"description":"该接口用于查询桌面池下的桌面信息。","operationId":"ListPoolDesktopsDetail","parameters":[{"$ref":"#/parameters/X-Auth-Token"},{"$ref":"#/parameters/project_id"},{"$ref":"#/parameters/pool_id"},{"description":"通过该类型过滤出与桌面池规格类型不一致的桌面\n\n- PRODUCT: 查找productID与桌面池套餐ID不一致的桌面\n- IMAGE: 查找imageID与桌面池镜像ID不一致的桌面","in":"query","name":"inconsistent_type","required":false,"type":"string"},{"default":0,"description":"用于分页查询,查询的起始记录序号,从0开始","in":"query","maximum":10000,"minimum":0,"name":"offset","required":false,"type":"integer"},{"default":10,"description":"用于分页查询,返回桌面数量限制。取值范围0-100,默认值是10","in":"query","maximum":100,"minimum":1,"name":"limit","required":false,"type":"integer"}],"responses":{"200":{"description":"查询桌面池授权的用户、用户组响应","schema":{"$ref":"#/definitions/ListPoolDesktopsDetailResponseBody"}},"400":{"description":"由于包含语法错误,当前请求无法被服务器理解。","schema":{"$ref":"#/definitions/BaseResponse"}},"401":{"description":"鉴权失败。","schema":{"$ref":"#/definitions/BaseResponse"}},"403":{"description":"没有操作权限。","schema":{"$ref":"#/definitions/BaseResponse"}},"404":{"description":"找不到资源。","schema":{"$ref":"#/definitions/BaseResponse"}},"409":{"description":"操作冲突。","schema":{"$ref":"#/definitions/BaseResponse"}},"500":{"description":"服务内部错误,具体返回错误码请参见错误码说明。","schema":{"$ref":"#/definitions/BaseResponse"}}},"schemes":["https"],"summary":"查询桌面池下的桌面信息","tags":["DesktopPool"],"x-apiexplorer-hide":"N","x-apig-group":"public,internal_token","x-apigateway-request-type":"public","x-is-registered":"Y","x-methodAnnotations":["@EnableAuth","@WksIamAuthMeta(resourceType=ResourceType.DESKTOP_POOL, resourceField=\"pool_id\")","@IamAuthMeta(authLevel = IamAuthLevel.INSTANCE, abacAction = \"workspace:desktopPools:listDesktops\", needApigwJwtAuthCheck = false, authContextInitializerName = \"workspaceInstanceAuthContextInitializer\", needRbacCheck = false, needAbacResourceCheck = true)","@CtsMeta(serviceType = \"Workspace\", resourceType = \"workspace\", traceName = \"listPoolDesktopsDetail\")"],"x-request-examples-url-1":"/v2/bcae3e673fd04716a3b9dacdf58ca336/desktop-pools/a130ab3a-72bf-4b71-baa9-af4987c8e338/desktops","x-support-sdk":"Y"}}},"product_short":"Workspace","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询桌面池下的桌面信息","tags":"桌面池","uri":null,"version":"2.0"}