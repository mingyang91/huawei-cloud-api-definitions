{"base_path":null,"components":null,"consumes":"[\"application/json\"]","definitions":{"AttachUsersInfo":{"description":"桌面分配用户信息。","properties":{"id":{"description":"当type字段为USER时,填写用户id;当type字段为GROUP时,填写用户组id,后端服务会校验组id是否存在;","maxLength":255,"minLength":1,"type":"string"},"name":{"description":"桌面分配对象的名称,当type类型USER时填写用户名字;当type类型GROUP时填写用户组名称。\n- 当type类型USER时:桌面所属的用户,当桌面分配成功后此用户可以登录该桌面。只允许输入大写字母、小写字母、数字、中划线(-)和下划线(_)。域类型为LITE_AD时,使用小写字母或者大写字母开头,长度范围为[1-20]。当域类型为LOCAL_AD时,用户名可以使用小写字母或者大写字母或者数字开头,长度范围为[1-64]。Windows桌面用户最长支持20个字符,Linux桌面用户最长支持64个字符。后端服务会校验用户名是否存在,并且用户名不能与机器名重复。\n- 当type类型GROUP时:只能为中文、字母、数字及特殊符号-_。","maxLength":64,"minLength":1,"type":"string","x-isSensitive":true},"type":{"default":"USER","description":"对象类型,可选值为:\n- USER:用户。\n- GROUP:用户组。","readOnly":true,"type":"string"},"user_group":{"description":"桌面用户所属的用户组。\n- sudo:Linux管理员组。\n- default:Linux默认用户组。\n- administrators:Windows管理员组。管理员拥有对该桌面的完全访问权,可以做任何需要的更改(禁用操作除外)。\n- users:Windows标准用户组。标准用户可以使用大多数软件,并可以更改不影响其他用户的系统设置。","maxLength":255,"minLength":1,"type":"string"}}},"BaseResponse":{"description":"API响应基类","properties":{"error_code":{"description":"错误码。","maxLength":12,"minLength":0,"type":"string"},"error_msg":{"description":"错误描述。","maxLength":1000,"minLength":0,"type":"string"}}},"ConnectDesktopsInfo":{"description":"桌面登录状态信息。","properties":{"attach_users":{"description":"桌面已分配的用户或用户组信息列表。","items":{"$ref":"#/definitions/AttachUsersInfo"},"readOnly":true,"type":"array"},"connect_status":{"description":"桌面的登录状态。\n\n- UNREGISTER:表示桌面未注册时的状态(桌面启动后,会自动注册)。关机后也会出现未注册的状态。\n- REGISTERED:表示桌面注册以后,等待用户连接的状态。\n- CONNECTED:表示用户已经成功登录,正在使用桌面。\n- DISCONNECTED:表示桌面与客户端断开会话后显示的状态,可能为关闭客户端窗口,或客户端与桌面网络断开引起。","maxLength":255,"minLength":1,"type":"string"},"desktop_id":{"description":"桌面id。","readOnly":true,"type":"string","x-is-registered":"N"},"desktop_name":{"description":"桌面名称。","readOnly":true,"type":"string","x-is-registered":"N"}}},"DescribeConnectDesktopsResponse":{"description":"查询桌面登录信息响应。","properties":{"desktops":{"description":"桌面登录信息列表。","items":{"$ref":"#/definitions/ConnectDesktopsInfo"},"readOnly":true,"type":"array"},"total_count":{"description":"桌面总数。","format":"int32","readOnly":true,"type":"integer"}}}},"description":null,"group_id":"7383c32d5d5e4d0481c071faeb994404","host":"workspace.cn-north-4.myhuaweicloud.com","id":"7058dd752851488f9e10d52fbbe7eb48","info_version":"v2","method":"get","name":"ListDesktopsConnectStatus","parameters":{},"paths":{"/v2/{project_id}/connect-desktops":{"get":{"description":"查询桌面登录状态列表。","operationId":"ListDesktopsConnectStatus","parameters":[{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":40000,"minLength":1,"name":"X-Auth-Token","required":false,"type":"string","x-annotations":"@Size(max = 40000, min = 1)","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX...","x-is-registered":"N"},{"description":"发送的实体的MIME类型。","in":"header","maxLength":255,"minLength":1,"name":"Content-Type","required":false,"type":"string","x-annotations":"@Size(max = 255, min = 1)","x-example":"application/json"},{"description":"项目ID。","in":"path","maxLength":255,"minLength":1,"name":"project_id","required":true,"type":"string","x-annotations":"@Size(max = 255, min = 1)","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"桌面所属用户,批量筛选,最多不超过100个用户。","in":"query","items":{"maxLength":36,"minLength":0,"type":"string"},"maxItems":100,"maxLength":100,"minItems":0,"minLength":0,"name":"user_names","required":false,"type":"array"},{"description":"桌面的登录状态。\n\n- UNREGISTER:表示桌面未注册时的状态(桌面启动后,会自动注册)。关机后也会出现未注册的状态。\n- REGISTERED:表示桌面注册以后,等待用户连接的状态。\n- CONNECTED:表示用户已经成功登录,正在使用桌面。\n- DISCONNECTED:表示桌面与客户端断开会话后显示的状态,可能为关闭客户端窗口,或客户端与桌面网络断开引起。","in":"query","maxLength":255,"minLength":0,"name":"connect_status","required":false,"type":"string"},{"default":0,"description":"从查询结果中的第几条数据开始返回,用于分页查询,取值范围0-2000,默认从0开始。","in":"query","maximum":100000,"minimum":0,"name":"offset","required":false,"type":"integer"},{"default":100,"description":"查询结果中想要返回的信息条目数量,用于分页查询,取值范围0-2000,默认值100。","in":"query","maximum":1000,"minimum":0,"name":"limit","required":false,"type":"integer"}],"responses":{"200":{"description":"查询云桌面详情列表响应。","examples":{"application/json":{"desktops":[{"attach_infos":[{"id":"e4406c227a8711ecaf56fa163ed8e03f","name":"aabb","type":"USER","user_group":"administrators"}],"desktop_id":"21616aa6-061d-4b2f-bd83-b230d7a9a14c","desktop_name":"CHENMIN01","login_status":"REGISTERED"}],"total_count":1}},"schema":{"$ref":"#/definitions/DescribeConnectDesktopsResponse"}},"400":{"description":"由于包含语法错误,当前请求无法被服务器理解。","schema":{"$ref":"#/definitions/BaseResponse"}},"401":{"description":"鉴权失败。","schema":{"$ref":"#/definitions/BaseResponse"}},"403":{"description":"没有操作权限。","schema":{"$ref":"#/definitions/BaseResponse"}},"404":{"description":"找不到资源。","schema":{"$ref":"#/definitions/BaseResponse"}},"500":{"description":"服务内部错误,具体返回错误码请参见错误码说明。","schema":{"$ref":"#/definitions/BaseResponse"}}},"schemes":["https"],"summary":"查询桌面登录状态列表","tags":["Desktop"],"x-api-type":"open-api","x-apiexplorer-hide":"N","x-apig-group":"public,internal_token","x-apigateway-request-type":"public","x-is-registered":"Y","x-methodAnnotations":["@EnableAuth","@IamAuthMeta(authLevel = IamAuthLevel.PROJECT,  authContextInitializerName = \"workspaceCommonAuthContextInitializer\", abacAction = \"workspace:desktops:listWithConnectStatus\",  needApigwJwtAuthCheck = false, needRbacCheck = false)"],"x-request-examples-url-1":"/v2/0bec5db98280d2d02fd6c00c2de791ce/connect-desktops","x-support-sdk":"Y"}}},"product_short":"Workspace","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询桌面登录状态列表","tags":"桌面","uri":null,"version":"2.0"}