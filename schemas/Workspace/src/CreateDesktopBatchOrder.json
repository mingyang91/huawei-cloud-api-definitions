{"base_path":null,"components":null,"consumes":"[\"application/json\",\"application/json;charset=utf-8\"]","definitions":{"BaseResponse":{"description":"API响应基类","properties":{"encoded_authorization_message":{"description":"加密后的详细拒绝原因,用户可以自行调用STS服务的decode-authorization-message接口进行解密。","readOnly":true,"type":"string"},"error_code":{"description":"错误码。","maxLength":12,"minLength":0,"type":"string"},"error_msg":{"description":"错误描述。","maxLength":1000,"minLength":0,"type":"string"}}},"BatchInquiryCommonInfo":{"description":"批量询价/下单公共参数","properties":{"desktop_ids":{"description":"包周期桌面ID列表。 不可同时存在普通桌面和池桌面ID。","items":{"maxLength":255,"minLength":0,"type":"string"},"maxItems":100,"minItems":0,"type":"array","x-maxLength":100,"x-minLength":0,"x-type":"List<@Size(min=0, max=255) String>"},"desktop_pool_id":{"description":"桌面池ID。当desktop_pool_id与desktop_ids同时存在时,取desktop_ids的值,两者不可同时为空。","maxLength":64,"minLength":0,"type":"string"},"promotion_plan_id":{"description":"促销计划ID","maxLength":255,"minLength":0,"type":"string"}}},"CreateBatchChangeOrderRequestBody":{"properties":{"add_sub_resources_param":{"$ref":"#/definitions/EstimateAddSubResourcesRequestBody"},"add_volume_param":{"$ref":"#/definitions/EstimateAddVolumeRequestBody"},"change_image_param":{"$ref":"#/definitions/CreateChangeImageOrderRequestBody"},"delete_sub_resources_param":{"$ref":"#/definitions/CreateDeleteSubResourcesOrderRequestBody"},"extend_volume_param":{"$ref":"#/definitions/EstimateExtendVolumeRequestBody"},"resize_param":{"$ref":"#/definitions/CreateResizeOrderRequestBody"},"type":{"description":"下单类型。\n - ADD_VOLUME:增加磁盘\n - EXTEND_VOLUME:扩容磁盘\n - RESIZE:变更规格\n - CHANGE_IMAGE:切换镜像\n - ADD_SUB_RESOURCES:购买桌面协同资源\n - DELETE_SUB_RESOURCES:退订桌面协同资源","enum":["ADD_VOLUME","EXTEND_VOLUME","RESIZE","CHANGE_IMAGE","ADD_SUB_RESOURCES","DELETE_SUB_RESOURCES"],"type":"string"}}},"CreateBatchChangeOrderResponseBody":{"properties":{"orders":{"description":"批量生成订单结果","items":{"$ref":"#/definitions/OrderV5"},"readOnly":true,"type":"array"}},"type":"object"},"CreateChangeImageOrderRequestBody":{"allOf":[{"$ref":"#/definitions/EstimateChangeImageRequestBody"},{"properties":{"delay_time":{"description":"立即重建时给用户预留的保存数据的时间(单位:分钟)。","format":"int32","maximum":15,"minimum":0,"type":"integer"},"message":{"description":"下发重建系统盘任务时,给用户发送的提示信息。","maxLength":400,"minLength":0,"type":"string"}},"type":"object"}],"description":"包周期重建系统盘询价请求体。"},"CreateDeleteSubResourcesOrderRequestBody":{"allOf":[{"$ref":"#/definitions/BatchInquiryCommonInfo"},{},{"properties":{"sub_resource_type":{"description":"待删除附属资源类型:DESKTOP_SHARER(桌面协同资源)。","maxLength":255,"minLength":1,"type":"string"}},"type":"object"}],"description":"包周期删除附属资源询价请求体。"},"CreateResizeOrderRequestBody":{"allOf":[{"$ref":"#/definitions/EstimateResizeRequestBody"},{"properties":{"extend_param":{"$ref":"#/definitions/ResizeDesktopExtendParam"},"mode":{"description":"是否支持开机状态下执行变更规格操作。固定传值STOP_DESKTOP,如果桌面处于开机状态,会先关机再变更规格。","maxLength":255,"minLength":0,"type":"string"}},"type":"object"}],"description":"包周期变更规格询价请求体。"},"EstimateAddSubResourcesRequestBody":{"allOf":[{"$ref":"#/definitions/BatchInquiryCommonInfo"},{},{"properties":{"sub_resource_sku":{"description":"新增附属资源SKU码。","maxLength":255,"minLength":1,"type":"string"}},"type":"object"}],"description":"包周期新增附属资源询价请求体。"},"EstimateAddVolumeRequestBody":{"allOf":[{"$ref":"#/definitions/BatchInquiryCommonInfo"},{},{"properties":{"volume_size":{"description":"新增磁盘大小","maximum":8200,"minimum":10,"type":"integer"},"volume_type":{"description":"新增磁盘类型","maxLength":255,"minLength":1,"type":"string"}},"type":"object"}],"description":"包周期桌面池添加磁盘、切换镜像询价请求体。"},"EstimateChangeImageRequestBody":{"allOf":[{"$ref":"#/definitions/BatchInquiryCommonInfo"},{"properties":{"image_id":{"description":"云市场镜像ID,建议使用image_id。","maxLength":255,"minLength":0,"type":"string"},"image_spec_code":{"description":"云市场镜像的specCode,即将停用。image_spec_code与image_id同时存在时取image_id的值,两者不可同时为空。","maxLength":255,"minLength":0,"type":"string"}},"type":"object"}],"description":"包周期桌面池由不收费镜像切换至收费镜像的询价请求体"},"EstimateExtendVolumeRequestBody":{"allOf":[{"$ref":"#/definitions/BatchInquiryCommonInfo"},{},{"properties":{"desktop_pool_disk_id":{"description":"需要扩容的桌面池磁盘ID","maxLength":255,"minLength":1,"type":"string"},"new_size":{"description":"扩容后的磁盘大小","maximum":8200,"minimum":10,"type":"integer"}},"type":"object"}],"description":"包周期扩容磁盘询价请求体。"},"EstimateResizeRequestBody":{"allOf":[{"$ref":"#/definitions/BatchInquiryCommonInfo"},{},{"properties":{"product_id":{"description":"目标规格产品ID。","maxLength":255,"minLength":1,"type":"string"}},"type":"object"}]},"OrderV5":{"properties":{"order_id":{"description":"订单id","readOnly":true,"type":"string"},"order_status":{"description":"订单状态:0:初始化; 1:待审核; 2:待退款; 3:处理中; 4:已取消; 5:已完成; 6:待支付; 7:补偿中; 8:待审批; 9:待确认; 10:待发货; 11:待收货; 12:待上门取货; 13:换新中; 14:待商家收货","readOnly":true,"type":"integer"},"result":{"description":"结果,SUCCESS:成功; FAIL:失败","readOnly":true,"type":"string"},"result_code":{"description":"result=FAIL时,必填,标识该订单失败原因","readOnly":true,"type":"string"},"result_msg":{"description":"失败信息,和result_code结对出现","readOnly":true,"type":"string"}},"type":"object"},"ResizeDesktopExtendParam":{"description":"桌面变更规格的扩展参数。","properties":{"is_auto_pay":{"description":"是否自动付款,下单订购后,是否自动从客户的账户中支付,而不需要客户手动去进行支付。默认为false。","maxLength":255,"minLength":0,"type":"string"}}}},"description":null,"group_id":"7383c32d5d5e4d0481c071faeb994404","host":"workspace.cn-north-4.myhuaweicloud.com","id":"dbda1d3b8d4c4f6684668c767cd9e24c","info_version":"v2","method":"post","name":"CreateDesktopBatchOrder","parameters":{},"paths":{"/v2/{project_id}/periodic/change/batch-order":{"post":{"consumes":["application/json"],"description":"包周期桌面批量变更下单","operationId":"CreateDesktopBatchOrder","parameters":[{"description":"项目ID。","in":"path","maxLength":255,"minLength":1,"name":"project_id","required":true,"type":"string","x-annotations":"@Size(max = 255, min = 1)","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":40000,"minLength":1,"name":"X-Auth-Token","required":false,"type":"string","x-annotations":"@Size(max = 40000, min = 1)","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX...","x-is-registered":"N"},{"description":"发送的实体的MIME类型","in":"header","maxLength":255,"minLength":1,"name":"Content-Type","required":false,"type":"string","x-annotations":"@Size(max = 255, min = 1)","x-example":"application/json"},{"description":"包周期桌面批量下单请求体","in":"body","name":"CreateDesktopBatchOrderRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateBatchChangeOrderRequestBody"}}],"produces":["application/json"],"responses":{"200":{"description":"包周期桌面批量下单响应体","examples":{"application/json":{"orders":[{"order_id":"string","order_status":0,"result":"string","result_code":"string","result_msg":"string"}]}},"schema":{"$ref":"#/definitions/CreateBatchChangeOrderResponseBody"}},"400":{"description":"由于包含语法错误,当前请求无法被服务器理解。","schema":{"$ref":"#/definitions/BaseResponse"}},"409":{"description":"操作冲突。","schema":{"$ref":"#/definitions/BaseResponse"}},"500":{"description":"服务器内部错误","schema":{"$ref":"#/definitions/BaseResponse"}}},"summary":"包周期桌面批量变更下单","tags":["Order"],"x-api-type":"open-api","x-apiexplorer-hide":"N","x-apig-group":"public,internal_token","x-apigateway-request-type":"public","x-is-registered":"Y","x-methodAnnotations":["@EnableAuth","@IamAuthMeta(authLevel = IamAuthLevel.PROJECT, abacAction = \"workspace:orders:change\",  needApigwJwtAuthCheck = false, needRbacCheck = false, authContextInitializerName = \"changeOrdersAuthContextInitializer\")","@CtsMeta(serviceType = \"Workspace\", resourceType = \"workspace\", traceName = \"createBatchChangeOrder\")"],"x-request-examples-1":{"add_sub_resources_param":{"desktop_ids":["string"],"desktop_pool_id":"string","promotion_plan_id":"string","sub_resource_sku":"string"},"add_volume_param":{"desktop_ids":["string"],"desktop_pool_id":"string","promotion_plan_id":"string","volume_size":8200,"volume_type":"string"},"change_image_param":{"delay_time":15,"desktop_ids":["string"],"desktop_pool_id":"string","image_id":"string","image_spec_code":"string","message":"string","promotion_plan_id":"string"},"delete_sub_resources_param":{"desktop_ids":["string"],"desktop_pool_id":"string","promotion_plan_id":"string","sub_resource_type":"string"},"extend_volume_param":{"desktop_ids":["string"],"desktop_pool_disk_id":"string","desktop_pool_id":"string","new_size":8200,"promotion_plan_id":"string"},"resize_param":{"desktop_ids":["string"],"desktop_pool_id":"string","extend_param":{"is_auto_pay":"string"},"mode":"string","product_id":"string","promotion_plan_id":"string"},"type":"string"},"x-request-examples-text-1":{"add_sub_resources_param":{"desktop_ids":["string"],"desktop_pool_id":"string","promotion_plan_id":"string","sub_resource_sku":"string"},"add_volume_param":{"desktop_ids":["string"],"desktop_pool_id":"string","promotion_plan_id":"string","volume_size":8200,"volume_type":"string"},"change_image_param":{"delay_time":15,"desktop_ids":["string"],"desktop_pool_id":"string","image_id":"string","image_spec_code":"string","message":"string","promotion_plan_id":"string"},"delete_sub_resources_param":{"desktop_ids":["string"],"desktop_pool_id":"string","promotion_plan_id":"string","sub_resource_type":"string"},"extend_volume_param":{"desktop_ids":["string"],"desktop_pool_disk_id":"string","desktop_pool_id":"string","new_size":8200,"promotion_plan_id":"string"},"resize_param":{"desktop_ids":["string"],"desktop_pool_id":"string","extend_param":{"is_auto_pay":"string"},"mode":"string","product_id":"string","promotion_plan_id":"string"},"type":"string"},"x-support-sdk":"Y"}}},"product_short":"Workspace","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-app":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-iam-used-authn5":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-opt":{"inner-auth-type":"iam_auth_n5"},"x-apigateway-auth-type":"IAM"}},"summary":"包周期桌面批量变更下单","tags":"订单","uri":null,"version":"2.0"}