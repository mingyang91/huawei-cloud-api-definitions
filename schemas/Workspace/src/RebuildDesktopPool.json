{"base_path":null,"components":null,"consumes":"[\"application/json\"]","definitions":{"BaseResponse":{"description":"API响应基类","properties":{"error_code":{"description":"错误码。","maxLength":12,"minLength":0,"type":"string"},"error_msg":{"description":"错误描述。","maxLength":1000,"minLength":0,"type":"string"}}},"RebuildDesktopPoolReq":{"description":"重建系统盘的请求。","properties":{"delay_time":{"description":"立即重建时给用户预留的保存数据的时间(单位:分钟)。","format":"int32","maximum":15,"minimum":0,"type":"integer"},"image_id":{"description":"模板ID。","maxLength":255,"minLength":1,"type":"string"},"image_type":{"description":"镜像类型。","maxLength":255,"minLength":0,"type":"string"},"is_fix":{"default":false,"description":"是否是修复行为,修复行为只修复镜像ID与桌面池镜像ID不一致的桌面,用于桌面池切换镜像失败场景的修复。","type":"boolean"},"message":{"description":"下发重建系统盘任务时,给用户发送的提示信息。","maxLength":400,"minLength":0,"type":"string"},"order_id":{"description":"订单ID,包周期桌面重建系统盘,涉及收费镜像时需传","maxLength":255,"minLength":0,"type":"string"},"os_type":{"description":"os类型。","maxLength":255,"minLength":0,"type":"string"}},"required":["image_id"]},"RebuildDesktopPoolRsp":{"description":"桌面池重建系统盘响应体","properties":{"get_job_endpoint":{"description":"云运营平台CBC获取到JobId后,会使用getJobEndpoint当做URL,调用云服务,查询获取Job结果。","maxLength":255,"minLength":0,"type":"string","x-annotations":["@JsonProperty(\"getJobEndpoint\")"],"x-is_inner_param":"True","x-onlyCustomAnnotation":true},"job_id":{"description":"重建系统盘总任务id。","maxLength":255,"minLength":1,"type":"string"},"max_provision_time":{"description":"在线开通最大时间。","format":"int32","readOnly":true,"type":"integer","x-annotations":["@JsonProperty(\"maxProvisionTime\")"],"x-is_inner_param":"True","x-onlyCustomAnnotation":true},"min_provision_time":{"description":"开通最小时间(云服务最快开通时长,或一般开通时长)。","format":"int32","readOnly":true,"type":"integer","x-annotations":["@JsonProperty(\"minProvisionTime\")"],"x-is_inner_param":"True","x-onlyCustomAnnotation":true},"periodic_query_time":{"description":"Job周期性查询时间。","format":"int32","readOnly":true,"type":"integer","x-annotations":["@JsonProperty(\"periodicQueryTime\")"],"x-is_inner_param":"True","x-onlyCustomAnnotation":true}}}},"description":null,"group_id":"7383c32d5d5e4d0481c071faeb994404","host":"workspace.cn-north-4.myhuaweicloud.com","id":"c20188d4620249dca927d401585d40ef","info_version":"v2","method":"post","name":"RebuildDesktopPool","parameters":{"Service-Transaction-Id":{"description":"CBC接口回调时,请求头里带上的业务ID","in":"header","maxLength":15000,"minLength":1,"name":"Service-Transaction-Id","required":false,"type":"string","x-example":"2b31e-d520xxxx-xxebedb6-e57xxxxxx","x-is_inner_param":"True"},"X-Auth-Token":{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":40000,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."},"pool_id":{"description":"桌面池ID。","in":"path","maxLength":255,"minLength":1,"name":"pool_id","required":true,"type":"string","x-annotations":"@Size(max = 255, min = 1)","x-example":"2b31e-d520xxxx-xxebedb6-e57xxxxxx"},"project_id":{"description":"项目ID。","in":"path","maxLength":255,"minLength":1,"name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"}},"paths":{"/v2/{project_id}/desktop-pools/{pool_id}/rebuild":{"post":{"description":"桌面池重建系统盘。","operationId":"RebuildDesktopPool","parameters":[{"$ref":"#/parameters/X-Auth-Token"},{"$ref":"#/parameters/Service-Transaction-Id"},{"$ref":"#/parameters/project_id"},{"$ref":"#/parameters/pool_id"},{"description":"桌面池重建系统盘","in":"body","name":"RebuildDesktopPoolRequestBody","required":true,"schema":{"$ref":"#/definitions/RebuildDesktopPoolReq"}}],"responses":{"200":{"description":"正常","examples":{"application/json":{"job_id":"abc85365-0b2e-4b4f-a091-f7db72072d4b"}},"schema":{"$ref":"#/definitions/RebuildDesktopPoolRsp"}},"400":{"description":"由于包含语法错误,当前请求无法被服务器理解。","schema":{"$ref":"#/definitions/BaseResponse"}},"401":{"description":"鉴权失败。","schema":{"$ref":"#/definitions/BaseResponse"}},"403":{"description":"没有操作权限。","schema":{"$ref":"#/definitions/BaseResponse"}},"404":{"description":"找不到资源。","schema":{"$ref":"#/definitions/BaseResponse"}},"409":{"description":"操作冲突。","schema":{"$ref":"#/definitions/BaseResponse"}},"500":{"description":"服务内部错误,具体返回错误码请参见错误码说明。","schema":{"$ref":"#/definitions/BaseResponse"}}},"schemes":["https"],"summary":"桌面池重建系统盘","tags":["DesktopPool"],"x-apiexplorer-hide":"N","x-apig-group":"public,internal_token,internal_appcode","x-apigateway-request-type":"public","x-is-registered":"Y","x-methodAnnotations":["@EnableAuth","@WksIamAuthMeta(resourceType=ResourceType.DESKTOP_POOL, resourceField=\"pool_id\")","@IamAuthMeta(authLevel = IamAuthLevel.INSTANCE, abacAction = \"workspace:desktopPools:rebuild\", needApigwJwtAuthCheck = false, authContextInitializerName = \"workspaceInstanceAuthContextInitializer\", needRbacCheck = false, needAbacResourceCheck = true)","@CtsMeta(serviceType = \"Workspace\", resourceType = \"workspace\", traceName = \"rebuildDesktopPool\")"],"x-request-examples-1":{"delay_time":"integer","desktop_ids":["string"],"image_id":"string","image_type":"string","message":"string","os_type":"string"},"x-support-sdk":"Y","x-workspace-api-auth":"CBC"}}},"product_short":"Workspace","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"桌面池重建系统盘","tags":"桌面池","uri":null,"version":"2.0"}