{"base_path":null,"components":null,"consumes":"[\"application/json\",\"application/json;charset=utf-8\",\"application/json;charset=UTF-8\"]","definitions":{"AppRule":{"description":"应用规则。","properties":{"create_time":{"description":"创建时间。","format":"date-time","readOnly":true,"type":"string"},"description":{"description":"规则描述。","readOnly":true,"type":"string"},"id":{"description":"规则ID。","readOnly":true,"type":"string"},"name":{"description":"规则名称。","readOnly":true,"type":"string"},"rule":{"$ref":"#/definitions/Rule"},"rule_source":{"description":"规则来源。","readOnly":true,"type":"string"},"update_time":{"description":"更新时间。","format":"date-time","readOnly":true,"type":"string"}}},"BaseResp":{"description":"API响应基类。","properties":{"error_code":{"description":"错误码,失败时返回。","example":"WKS.00139901","readOnly":true,"type":"string"},"error_msg":{"description":"错误描述。","example":"The request message is invalid.","readOnly":true,"type":"string"}}},"CreateAppRuleReq":{"description":"创建规则。","properties":{"description":{"description":"规则描述:\n1. 名称允许可见字符或空格,不可为全空格。\n2. 长度0~128个字符。","example":"test","pattern":"^(?! +$)[\\S ]{0,128}$","type":"string"},"name":{"description":"规则名称:\n1. 名称允许可见字符或空格,不可为全空格。\n2. 长度1~64个字符。","example":"Huawei","pattern":"^(?! +$)[\\S ]{1,64}$","type":"string"},"rule":{"$ref":"#/definitions/Rule"}},"required":["name","rule"]},"PathRule":{"description":"路径规则信息,限制对应路径及子路径","properties":{"path":{"description":"完整路径:\n1. 名称允许可见字符或空格,不可为全空格。\n2. 长度0~512个字符。","example":"D:\\\\tmp","pattern":"^(?!.*\\*)(?! +$)[\\S ]{0,512}$","type":"string"}}},"ProductRule":{"description":"产品规则信息,进程名称、产品名称、发布者的各项都需要匹配,为空或者*表示任意匹配。\n例如:\n发布者:*\n产品名称:Huawei\n进程名称:*\n只要产品名称是Huawei的就可以认为是匹配的。","properties":{"identify_condition":{"description":"识别条件。","example":"productName","maxLength":128,"minLength":0,"type":"string"},"process_name":{"description":"进程名称:\n1. 名称允许可见字符或空格,不可为全空格。\n2. 长度0~128个字符。\n3. 为空或者*号表示任意匹配。","example":"Huawei.exe","pattern":"^(?! +$)[\\S ]{0,128}$","type":"string"},"product_name":{"description":"产品名称:\n1. 名称允许可见字符或空格,不可为全空格。\n2. 长度0~128个字符。\n3. 为空或者*号表示任意匹配。","example":"HUAWEI","pattern":"^(?! +$)[\\S ]{0,128}$","type":"string"},"product_version":{"description":"产品版本号:\n1. 允许可见字符。\n2. 长度0~128个字符。","example":"1.0.0.1","pattern":"[a-zA-z0-9.-]{1,128}$","type":"string"},"publisher":{"description":"发布者名称:\n1. 名称允许可见字符或空格,不可为全空格。\n2. 长度0~1024个字符。\n3. 为空或者*号表示任意匹配。","pattern":"^(?! +$)[\\S ]{0,1024}$","type":"string"},"support_os":{"description":"操作系统类型,仅内置规则存在该字段。\n1. 名称允许可见字符或空格,不可为全空格。\n2. 长度0~128个字符。","example":"Windows","pattern":"^(?! +$)[\\S ]{0,128}$","type":"string"},"version":{"description":"版本号:\n1. 名称允许可见字符或空格,不可为全空格。\n2. 长度0~128个字符。\n3. 为空或者*号表示任意匹配。","example":"1.0.0.1","pattern":"^(?! +$)[\\S ]{0,128}$","type":"string"}}},"Rule":{"description":"规则信息。","properties":{"path_rule":{"$ref":"#/definitions/PathRule"},"product_rule":{"$ref":"#/definitions/ProductRule"},"scope":{"$ref":"#/definitions/RuleScope"}},"required":["scope"]},"RuleScope":{"description":"规则范围:\n* `PRODUCT` - 产品\n* `PATH` - 路径","enum":["PRODUCT","PATH"],"example":"PRODUCT","type":"string"}},"description":null,"group_id":"7383c32d5d5e4d0481c071faeb994404","host":"workspace.cn-north-4.myhuaweicloud.com","id":"759c476f510741229eaf2899e8268324","info_version":"v2","method":"post","name":"CreateAppRule","parameters":{},"paths":{"/v1/{project_id}/app-center/app-rules":{"post":{"description":"创建应用规则。","operationId":"CreateAppRule","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":102400,"minLength":1,"name":"X-Auth-Token","required":false,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."},{"description":"项目ID。","in":"path","maxLength":128,"minLength":1,"name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"创建应用规则请求结构体。","in":"body","name":"CreateAppRuleRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateAppRuleReq"}}],"responses":{"200":{"description":"成功响应。","examples":{"application/json":{"create_time":"2024-12-25T07:03:30.065Z","description":"string","id":"string","name":"string","rule":{"path_rule":{"path":"D:\\\\tmp"},"product_rule":{"identify_condition":"productName","process_name":"Huawei.exe","product_name":"HUAWEI","product_version":"1.0.0.1","support_os":"Windows","version":"1.0.0.1"},"scope":"PRODUCT"},"rule_source":"string","update_time":"2024-12-25T07:03:30.065Z"}},"schema":{"$ref":"#/definitions/AppRule"}},"400":{"description":"由于包含语法错误,当前请求无法被服务器理解。","schema":{"$ref":"#/definitions/BaseResp"}},"401":{"description":"鉴权失败。","schema":{"$ref":"#/definitions/BaseResp"}},"403":{"description":"没有操作权限。","schema":{"$ref":"#/definitions/BaseResp"}},"404":{"description":"找不到资源。","schema":{"$ref":"#/definitions/BaseResp"}},"405":{"description":"请求中指定的方法不被允许。","schema":{"$ref":"#/definitions/BaseResp"}},"500":{"description":"服务内部错误,具体返回错误码请参见错误码说明。","schema":{"$ref":"#/definitions/BaseResp"}},"503":{"description":"服务不可用。","schema":{"$ref":"#/definitions/BaseResp"}}},"schemes":["https"],"security":[{"apig-auth-iam-used-authn5":[]}],"summary":"创建应用规则","tags":["AppRule"],"x-api-type":"open-api","x-apiexplorer-hide":"N","x-apig-group":"internal_token,public","x-apigateway-backend":{"httpVpcEndpoints":{"description":"","method":"POST","name":"wks-appcenter-lb","path":"/v1/{project_id}/app-center/app-rules","scheme":"https","timeout":30000},"parameters":[{"description":"","in":"header","name":"X-Auth-Token","origin":"request","value":"X-Auth-Token"},{"description":"","in":"path","name":"project_id","origin":"request","value":"project_id"}],"type":"HTTP-VPC"},"x-apigateway-cors":false,"x-apigateway-match-mode":"NORMAL","x-apigateway-ratelimit":"workspace_default_operate","x-apigateway-request-type":"public","x-is-registered":"Y","x-request-examples-1":{"description":"test","name":"Huawei","rule":{"path_rule":{"path":"D:\\\\tmp"},"product_rule":{"identify_condition":"productName","process_name":"Huawei.exe","product_name":"HUAWEI","product_version":"1.0.0.1","support_os":"Windows","version":"1.0.0.1"},"scope":"PRODUCT"}},"x-request-examples-text-1":{"description":"test","name":"Huawei","rule":{"path_rule":{"path":"D:\\\\tmp"},"product_rule":{"identify_condition":"productName","process_name":"Huawei.exe","product_name":"HUAWEI","product_version":"1.0.0.1","support_os":"Windows","version":"1.0.0.1"},"scope":"PRODUCT"}},"x-support-apig-group":"workspace","x-support-sdk":"Y"}}},"product_short":"Workspace","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-app":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-iam-used-authn5":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-opt":{"inner-auth-type":"iam_auth_n5"},"x-apigateway-auth-type":"IAM"}},"summary":"创建应用规则","tags":"应用管控","uri":null,"version":"2.0"}