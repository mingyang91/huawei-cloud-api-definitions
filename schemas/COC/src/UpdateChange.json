{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"BaseResponse":{"description":"--","properties":{"data":{"description":"响应数据","type":"object"},"error_code":{"description":"请求响应代码,范围:0000~9999,正常时取值:0","maxLength":20,"minLength":1,"type":"string"},"error_msg":{"description":"请求响应描述","maxLength":10240,"minLength":0,"type":"string"},"provider_code":{"default":4,"description":"服务标识","maxLength":3,"minLength":3,"type":"string"}},"required":["provider_code","error_code","error_msg","data"],"type":"object"},"CocErrorResponse":{"allOf":[{"$ref":"#/definitions/BaseResponse"}],"description":"失败时返回的错误对象"},"CocUpdateChangeRequestBodyV2":{"description":"UpdateChangeRequestBodyV2 更新变更单","properties":{"history_info":{"description":"历史信息","example":null,"properties":{"action":{"description":"操作类型","example":"change_set_change_result_success","maxLength":1000,"minLength":0,"type":"string"}}},"sub_tickets":{"description":"子单信息","example":null,"items":{"example":null,"properties":{"change_fail_type":{"description":"变更失败类型","example":"fr_dependent_service_issue","maxLength":100,"minLength":0,"type":"string"},"change_result":{"description":"变更结果","example":"change_result_failed","maxLength":100,"minLength":0,"type":"string"},"comment":{"description":"失败原因描述","example":"备注信息","maxLength":10000,"minLength":0,"type":"string"},"is_monitor_found":{"description":"是否监控发现","type":"boolean"},"is_rollback_success":{"description":"是否回退成功","type":"boolean"},"is_verified_in_change_time":{"description":"在时间窗内是否可验证","example":true,"maxLength":100,"minLength":0,"type":"boolean"},"rollback_end_time":{"description":"回退结束时间","example":1677674295413,"format":"int64","maximum":9999999999999,"minimum":0,"type":"integer"},"rollback_start_time":{"description":"回退开始时间","example":1677674295413,"format":"int64","maximum":9999999999999,"minimum":0,"type":"integer"},"ticket_id":{"description":"子单ID","example":"b74acf6b-215c-4f4f-bff0-ad8bef57c8ad","maxLength":100,"minLength":0,"type":"string"},"verified_docs":{"description":"文档ID","example":"170b5-8756-489a-9f23-12e7","maxLength":1000,"minLength":0,"type":"string"}}},"maxItems":10000,"minItems":0,"type":"array"},"ticket_info":{"description":"主单字段","example":null,"properties":{"phase":{"description":"阶段","example":"phase_change_end","maxLength":255,"minLength":0,"type":"string"},"work_flow_status":{"description":"状态","example":"COMPLETE","maxLength":255,"minLength":0,"type":"string"}}}},"type":"object","x-apidesigner-tag":"change"},"CocUpdateChangeResponseV2":{"allOf":[{"$ref":"#/definitions/BaseResponse"}],"description":"CreateChangeResponseV2","x-apidesigner-tag":"change"}},"description":null,"group_id":"82af75d8fb894fc2b06ca4175859ba53","host":"coc.myhuaweicloud.com","id":"48021c0c04dc4d9286f7b5a2a0827497","info_version":"v1","method":"put","name":"UpdateChange","parameters":{},"paths":{"/v2/changes/{change_id}":{"put":{"description":"UpdateChange 更新变更单","operationId":"UpdateChange","parameters":[{"description":"创单参数","in":"body","name":"updateChangeRequestBody","required":true,"schema":{"$ref":"#/definitions/CocUpdateChangeRequestBodyV2"}},{"description":"变更单id","in":"path","maxLength":50,"minLength":1,"name":"change_id","required":true,"type":"string"}],"responses":{"200":{"description":"response","schema":{"$ref":"#/definitions/CocUpdateChangeResponseV2"}},"400":{"description":"Error response","schema":{"$ref":"#/definitions/CocErrorResponse"}}},"summary":"UpdateChange 更新变更单","tags":["CocChangeV2"],"x-access-level":"ReadWrite","x-api-mode":"tent-api","x-api-type":"open-api","x-classAnnotation":["@EnableAuth(type = \"${wushan.integration.common.auth.type}\")","@ConditionalOnProperty(name = \"server.deploy.mode\", havingValue = \"tent\")"],"x-imports":"com.huawei.globaloperationmgmt.common.auth.IAMCustomAuthContextInitializer;com.huawei.globaloperationmgmt.common.apos.AuditLog;com.huawei.globaloperationmgmt.incident.aops.TicketQuotaCheck;com.huawei.globaloperationmgmt.common.auth.IAMCustomAuthContextInitializer;org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;com.huawei.clouds.wushan.auth.token.meta.BssOpType;com.huawei.globaloperationmgmt.common.auth.CoaCustomizeAuthMeta;com.huawei.globaloperationmgmt.common.enums.GomResourceTypeEnum;com.huawei.clouds.wushan.integration.common.auth.EnableAuth;com.huawei.clouds.wushan.auth.token.IamAuthMeta;com.huawei.clouds.wushan.auth.token.IamAuthLevel;com.huawei.clouds.wushan.cts.meta.CtsMeta;com.huawei.globaloperationmgmt.common.apos.CtsExtendMeta;com.huawei.globaloperationmgmt.common.apos.QuotaCheck;","x-is-registered":"Y","x-methodAnnotations":["@IamAuthMeta(authLevel = IamAuthLevel.TOKEN, abacAction = \"coc:ticket:update\", opType = BssOpType.RESOURCE, needApigwJwtAuthCheck = false, authContextInitializer = IAMCustomAuthContextInitializer.class)","@AuditLog(operation = \"gocm:UpdateTicket\", risk = \"middle\", resourceType = GomResourceTypeEnum.TICKET, resourceId = \"gocm:TicketId=#changeId\", resourceName = \"#changeId\")","@CtsMeta(resourceType = \"Ticket\", traceName = \"updateTicket\", operationId = \"UpdateTicket\")","@CtsExtendMeta(resourceId = \"#changeId\", resourceName = \"#changeId\")","@QuotaCheck(featureId = \"coc.change_central\", operateId = \"operate\")"],"x-risk-level":"middle","x-sre-api-type":"D","x-support-sdk":"Y"}}},"product_short":"COC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"UpdateChange 更新变更单","tags":"CocChangeV2","uri":null,"version":"2.0"}