{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"Customttribute":{"description":"当前执行脚本的自定义属性,仅用于表示本次执行的产生工单的信息","properties":{"key":{"description":"自定义属性key","example":"1kkkkkk","maxLength":10,"minLength":0,"type":"string"},"value":{"description":"自定义属性的value","example":"1lhkjh","maxLength":20,"minLength":0,"type":"string"}},"required":["key","value"],"type":"object"},"ExectionInstanceModel":{"description":"执行主机实例详情","properties":{"execute_costs":{"description":"耗时时间,单位:秒","format":"int64","type":"integer"},"gmt_created":{"description":"创建时间","format":"int64","type":"integer"},"gmt_finished":{"description":"完成时间","format":"int64","type":"integer"},"id":{"description":"主键id","format":"int64","type":"integer"},"message":{"description":"实例执行日志","type":"string"},"status":{"description":"实例执行状态","enum":["READY","PROCESSING","ABNORMAL","CANCELED","FINISHED","ROLLBACKED"],"type":"string"},"target_instance":{"$ref":"#/definitions/ResourceInstance","description":"目标实例"}},"type":"object"},"JobScriptBatchDetailModel":{"description":"执行批次详情","properties":{"batch_index":{"description":"批次索引,从1开始","format":"int32","type":"integer"},"execute_instances":{"description":"执行实例列表,分页","items":{"$ref":"#/definitions/ExectionInstanceModel"},"type":"array"},"total_instances":{"description":"批次内执行实例数量","format":"int32","type":"integer"}},"type":"object"},"ResourceInstance":{"properties":{"agent_sn":{"description":"agent纳管id。该参数即将废弃,请勿使用。","example":"7aec98ca0edd45bc8145005c1892cb3a","type":"string"},"agent_status":{"description":"agent纳管状态。该参数即将废弃,请勿使用。","example":"ONLINE","type":"string"},"custom_attributes":{"description":"支持用户自定义5个key_value形式的属性。\n约束条件:\n\t- key值长度为20\n    - value长度为50\n    - map长度最大为5","items":{"$ref":"#/definitions/Customttribute"},"type":"array"},"properties":{"$ref":"#/definitions/ResourceInstanceProp","description":"主机附加属性。该参数即将废弃,请勿使用。"},"provider":{"description":"资源提供者:ECS。单个脚本工单, 每个实例的provider是一致的","type":"string"},"region_id":{"description":"机器所属region的ID","type":"string"},"resource_id":{"description":"实例唯一id","example":"66006c8e-dc6b-45bb-a65b-6f8a3700392f","type":"string"},"type":{"description":"资源提供者下资源类型,不传默认为CLOUDSERVER\nCLOUDSERVER:CLOUDSERVER类型","enum":["CLOUDSERVER"],"type":"string"}},"required":["provider","region_id","resource_id","type"],"type":"object"},"ResourceInstanceProp":{"description":"主机附加属性","properties":{"application":{"description":"CMDB应用,CMDB应用视图才有值。类似管理面的云服务","type":"string"},"fixed_ip":{"description":"内网ip\n未校验:\n格式,长度","example":"192.168.0.163","type":"string"},"floating_ip":{"description":"弹性公网ip\n未校验:\n格式,长度","example":"1.1.1.1","type":"string"},"group":{"description":"CMDB分组,CMDB应用视图才有值。类似管理面的schema","type":"string"},"host_name":{"description":"主机名\n未校验:长度","example":"coc-cdr001-0002","type":"string"},"project_id":{"description":"实例的 project_id\n\n需要消费,建议必填\n未校验长度","example":"1076d5e8a93f4fd383ad8b40498fcf7d","type":"string"},"region_id":{"description":"区域\n未校验:\n长度","example":"cn-north-7","type":"string"},"zone_id":{"description":"可用区","example":"cn-north-7a","type":"string"}},"required":["fixed_ip","host_name","region_id","zone_id"],"type":"object"},"ShowScriptOrdersBatchDetailRes":{"description":"展示批次详情返回体","properties":{"data":{"$ref":"#/definitions/JobScriptBatchDetailModel","description":"展示批次详情返回体"}},"required":["data"],"type":"object"}},"description":null,"group_id":"82af75d8fb894fc2b06ca4175859ba53","host":"coc.myhuaweicloud.com","id":"97f4bcb42f294f97afef4ad53d5b3f0b","info_version":"v1","method":"get","name":"GetScriptJobBatch","parameters":{},"paths":{"/v1/job/script/orders/{execute_uuid}/batches/{batch_index}":{"get":{"description":"查询:批次详情,分页获取批次中的实例列表。\n过滤条件:分页参数","operationId":"GetScriptJobBatch","parameters":[{"description":"批次index","format":"int32","in":"path","maximum":20,"minimum":1,"name":"batch_index","required":true,"type":"integer"},{"description":"脚本工单的执行Id,取自executeJobScript和ListJobScriptOrders返回体中","in":"path","maxLength":26,"minLength":1,"name":"execute_uuid","required":true,"type":"string"},{"description":"实例执行状态\nREADY:待执行\nPROCESSING:执行中\nABNORMAL:异常\nCANCELED:已取消\nFINISHED:成功","enum":["READY","PROCESSING","ABNORMAL","CANCELED","FINISHED"],"in":"query","name":"status","required":false,"type":"string"},{"description":"分页参数:每页返回记录个数限制","format":"int32","in":"query","maximum":50,"minimum":1,"name":"limit","required":true,"type":"integer"},{"description":"分页参数:上一页最后一个记录id","format":"int64","in":"query","maximum":2147483647,"minimum":0,"name":"marker","required":true,"type":"integer"},{"description":"租户token","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"国际化标记,zh-cn表示中文,en-us或不传表示英文","in":"header","name":"X-Language","required":false,"type":"string"},{"description":"项目ID,一个项目对应一个region","in":"header","name":"x-project-id","required":false,"type":"string"},{"description":"IAM5.0用户信息","in":"header","name":"x-user-profile","required":false,"type":"string"}],"responses":{"200":{"description":"返回结果","examples":{"application/json":{"data":{"batch_index":1,"execute_instances":[{"execute_costs":311031,"gmt_created":1697946452436,"gmt_finished":1697946763467,"id":1588,"message":"Script execution result","status":"CANCELED","target_instance":{"agent_sn":"agent_sn","properties":{"fixed_ip":"x.x.x.x","host_name":"host_name","region_id":"cn-north-7","zone_id":"cn-north-7c"},"resource_id":"resource_id"}}],"total_instances":1}}},"schema":{"$ref":"#/definitions/ShowScriptOrdersBatchDetailRes"}}},"summary":"展示批次详情","tags":["ScriptExecutionManagement"],"x-api-type":"open-api","x-apiexplorer-hide":false,"x-is-registered":"Y","x-support-sdk":"Y"}}},"product_short":"COC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"展示批次详情","tags":"ScriptExecutionManagement","uri":null,"version":"2.0"}