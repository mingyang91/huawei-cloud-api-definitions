{"base_path":"/","components":null,"consumes":"","definitions":{"ErrorRsp":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":8,"type":"string"},"error_msg":{"description":"错误描述","maxLength":512,"minLength":2,"type":"string"}},"required":["error_code","error_msg"]},"FaultModeResponse":{"description":"故障模式响应结果","properties":{"appearance":{"description":"预计故障现象","example":"故障现象","maxLength":512,"minLength":1,"type":"string"},"application":{"description":"故障模式归属应用","example":"CDR","maxLength":64,"minLength":1,"type":"string"},"application_code":{"description":"应用code","type":"string"},"application_id":{"description":"应用id","type":"string"},"associate_with_drill":{"description":"是否关联演练任务","example":true,"type":"boolean"},"associate_with_drill_plan":{"description":"是否关联演练规划","example":false,"type":"boolean"},"contingency_plan_id":{"description":"应急预案ID","example":"YJYA202212211546494660211","type":"string"},"contingency_plan_name":{"description":"应急预案名称","example":"测试应急预案","type":"string"},"create_time":{"description":"创建时间","example":1684242778883,"format":"int64","type":"integer"},"creator":{"description":"创建人","example":"a30028201","type":"string"},"creator_name":{"description":"创建人名称","example":"keke","type":"string"},"customer_impact":{"description":"客户影响","example":"客户影响","type":"string"},"domain_id":{"description":"租户domainId","example":"资源租户id","maxLength":64,"minLength":1,"type":"string"},"enterprise_project":{"description":"企业项目","example":"default","type":"string"},"enterprise_project_id":{"description":"企业项目id","example":0,"type":"string"},"has_contingency_plan":{"description":"故障模式是否有预案","example":1,"format":"int32","type":"integer"},"id":{"description":"故障模式id","example":"GZ202305162112255838166","maxLength":64,"minLength":1,"type":"string"},"last_update_time":{"description":"最后修改时间","example":1684242778883,"format":"int64","type":"integer"},"level":{"description":"故障模式的严重程度","example":"P1","maxLength":2,"minLength":1,"type":"string"},"name":{"description":"故障模式名称","example":"故障模式名称","maxLength":64,"minLength":1,"type":"string"},"number_of_drill":{"description":"演练次数","example":1,"format":"int32","type":"integer"},"occur_condition":{"description":"发生条件","example":"发生条件","type":"string"},"scene":{"description":"故障模式的场景分类","example":"redundancy","type":"string"},"source":{"description":"故障模式的来源","example":"sceneAnalysis","type":"string"}},"type":"object"},"QueryDrillTaskDetailResponse":{"description":"演练任务响应","properties":{"fault_mode":{"description":"故障模式","items":{"$ref":"#/definitions/FaultModeResponse"},"type":"array"},"id":{"description":"演练任务id","example":"DT202306031056435202274","type":"string"},"name":{"description":"演练任务名字","example":"测试多故障3","type":"string"},"target_recovery_time":{"description":"恢复时间","format":"int32","type":"integer"},"task_group_list":{"description":"任务组","items":{"properties":{"attack_target_number":{"description":"任务攻击目标数量","format":"int32","type":"integer"},"taskGroupSequence":{"description":"任务组序号","example":1,"format":"int32","type":"integer"},"task_group_id":{"description":"任务组id","example":"TM202306031056435210583","type":"string"},"task_group_name":{"description":"任务组名字","example":"任务组1","type":"string"},"task_list":{"description":"任务","items":{"properties":{"attack_task":{"description":"攻击任务","properties":{"attack_target_type":{"description":"攻击目标类型","type":"string"},"attack_targets":{"description":"攻击目标","items":{"properties":{"agent_id":{"description":"agent id","example":"4afb41c32c3443928c7748ef9441f5b1","type":"string"},"agent_state":{"description":"agent状态","example":"ONLINE","type":"string"},"application":{"description":"应用名","type":"string"},"application_id":{"description":"应用id","example":"64587419576f332fff891d06","type":"string"},"cmdb_resource_id":{"description":"cmdb资源id","example":"6453a04c624eeff15e95bbe4","type":"string"},"domain_id":{"description":"租户id","example":"dc2d76541f754d68a4c8d150262d92c2","type":"string"},"ep_id":{"description":"ep id","example":0,"type":"string"},"fixed_ip":{"description":"固定ip","example":"192.168.0.70,192.168.0.123","type":"string"},"floating_ip":{"description":"浮动ip","example":"","type":"string"},"group_id":{"description":"应用分组id","example":"6470681b31da2a47ed50a91a","type":"string"},"id":{"description":"攻击目标id","example":"9dbd8484-ac4c-40bb-bc0a-aa229dfd124c","type":"string"},"name":{"description":"攻击目标名","example":"coc-patch-script","type":"string"},"project_id":{"description":"project id","example":"10a6c23c2a1044779794798beb067c94","type":"string"},"provider":{"description":"provider","example":"ecs","type":"string"},"region_id":{"description":"reigonId","example":"cn-north-7","type":"string"},"region_name":{"description":"region名","type":"string"},"type":{"description":"类型","example":"cloudservers","type":"string"}}},"type":"array"},"id":{"description":"攻击任务id","example":"AM202305301553597641035","type":"string"},"name":{"description":"攻击任务名字","example":"a","type":"string"},"target_category":{"description":"攻击目标类型","example":"host","type":"string"},"weapon":{"description":"武器","properties":{"duration":{"description":"持续时间","example":60,"format":"int32","type":"integer"},"id":{"description":"武器id","example":"4d878ce7-1018-44a4-99f8-284be1831d27","type":"string"},"param":{"description":"武器参数英文","example":{"duration":"60"},"type":"string"},"param_zh":{"description":"武器参数中文","example":{"故障持续时长(秒)":"60"},"type":"string"},"type":{"description":"武器类型","example":"LITTLE_TRY","type":"string"}}}}},"taskSequence":{"description":"任务序号","example":1,"format":"int32","type":"integer"},"task_id":{"description":"任务id","example":"TA202306031056435210273","type":"string"}}},"type":"array"}}},"type":"array"}},"type":"object"}},"description":null,"group_id":"82af75d8fb894fc2b06ca4175859ba53","host":"coc-open.myhuaweicloud.com","id":"d64ffeeb44d945ff9e2997901a0179dc","info_version":"v1","method":"get","name":"ShowDrillTaskDetail","parameters":{},"paths":{"/v1/drill-tasks/{id}":{"get":{"description":"查询演练任务详情","operationId":"ShowDrillTaskDetail","parameters":[{"description":"演练任务id","in":"path","maxLength":64,"minLength":1,"name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"演练详情响应结果","examples":{"application/json":{"code":"0001","data":{"fault_mode":{"appearance":"qwer","application":null,"application_id":"12341343","associate_with_drill":false,"contingency_plan_id":null,"contingency_plan_name":null,"create_time":1685418323457,"creator":null,"customer_impact":"wer","domain_id":"dc2d76541f754d68a4c8d150262d92c2","has_contingency_plan":0,"id":"11","last_update_time":1685429280227,"level":"P1","name":"test","number_of_drill":null,"occur_condition":"wer","scene":"ewe","source":"23"},"id":"DT202306021913361581754","name":"测试多故障2","task_group_list":[{"taskGroupSequence":1,"task_group_id":"TM202306021913362023366","task_group_name":"任务组1","task_list":[{"attack_task":{"attack_targets":[{"agent_id":"003224661f3a48419183ba8658ce8d4d","agent_state":"ONLINE","application_id":"application_id","cmdb_resource_id":"6453a04c624eeff15e95bbe41","create_time":null,"domain_id":null,"ep_id":"0","fixed_ip":"127.0.0.1","floating_ip":null,"group_id":"6470681b31da2a47ed50a91a","group_name":null,"id":"50d2edb6-0136-11ee-b6af-fa163e41dd03","last_update_time":null,"name":"coc-patch-script","project_id":"a4afcab5ec804a84968b4354eb575086","provider":"ecs","region_id":"cn-north-7","tags":"string","type":"cloudservers"}],"id":"AM202305301417505217811","name":"my_attack_task","target_category":"host","weapon":{"duration":10,"id":"e937a332-916f-440a-a720-41a85cbd8345","param":"{\"duration\":\"10\"}","param_zh":"{\"故障持续时长(秒)\":\"10\"}","type":"LITTLE_TRY"}},"taskSequence":2,"task_id":"TA202306021913362030567"},{"attack_task":{"attack_targets":[{"agent_id":"003224661f3a48419183ba8658ce8d4c","agent_state":"ONLINE","application_id":"application_id","cmdb_resource_id":"6453a04c624eeff15e95bbe41","create_time":null,"domain_id":null,"ep_id":"0","fixed_ip":"192.168.0.82","floating_ip":null,"group_id":"6470681b31da2a47ed50a91a","group_name":null,"id":"f333b9f2-002e-4d1f-b3eb-4565de85b733","last_update_time":null,"name":"coc-patch-script","project_id":"a4afcab5ec804a84968b4354eb575086","provider":"ecs","region_id":"cn-north-7","tags":"string","type":"cloudservers"}],"id":"AM202305301417505217846","name":"rs05291111","target_category":"host","weapon":{"duration":10,"id":"e937a332-916f-440a-a720-41a85cbd8345","param":"{\"duration\":\"10\"}","param_zh":"{\"故障持续时长(秒)\":\"10\"}","type":"LITTLE_TRY"}},"taskSequence":1,"task_id":"TA202306021913362037712"}]},{"taskGroupSequence":2,"task_group_id":"TM202306021913362034058","task_group_name":"任务组2","task_list":[{"attack_task":{"attack_targets":[{"agent_id":"003224661f3a48419183ba8658ce8d4c","agent_state":"ONLINE","application_id":"application_id","cmdb_resource_id":"6453a04c624eeff15e95bbe41","create_time":null,"domain_id":null,"ep_id":"0","fixed_ip":"192.168.0.82","floating_ip":null,"group_id":"6470681b31da2a47ed50a91a","group_name":null,"id":"f333b9f2-002e-4d1f-b3eb-4565de85b733","last_update_time":null,"name":"coc-patch-script","project_id":"a4afcab5ec804a84968b4354eb575086","provider":"ecs","region_id":"cn-north-7","tags":"string","type":"cloudservers"}],"id":"AM202306011702591611045","name":"rs0601","target_category":"host","weapon":{"duration":10,"id":"3e93286a-9642-44e3-ad0e-85ee0c4ff967","param":"{\"duration\":\"10\"}","param_zh":"{\"故障持续时长(秒)\":\"10\"}","type":"LITTLE_TRY"}},"taskSequence":1,"task_id":"TA202306021913362031476"}]}]},"msg":"成功.","provider_code":"047"}},"schema":{"$ref":"#/definitions/QueryDrillTaskDetailResponse"}},"400":{"description":"错误结果","schema":{"$ref":"#/definitions/ErrorRsp"}},"500":{"description":"错误返回结果","schema":{"$ref":"#/definitions/ErrorRsp"}}},"summary":"查询演练任务详情","tags":["DrillTask"],"x-api-type":"open-api","x-is-registered":"Y","x-support-sdk":"N"}}},"product_short":"COC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询演练任务详情","tags":"DrillTask","uri":null,"version":"2.0"}