{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"BaseResponse":{"description":"--","properties":{"data":{"description":"响应数据","type":"object"},"error_code":{"description":"请求响应代码,范围:0000~9999,正常时取值:0","maxLength":20,"minLength":1,"type":"string"},"error_msg":{"description":"请求响应描述","maxLength":10240,"minLength":0,"type":"string"},"provider_code":{"default":4,"description":"服务标识","maxLength":3,"minLength":3,"type":"string"}},"required":["provider_code","error_code","error_msg","data"],"type":"object"},"EnumDataInfo":{"allOf":[{"$ref":"#/definitions/ExtraFieldInfo"},{"properties":{"biz_id":{"description":"唯一id","example":"xx","maxLength":100000000,"minLength":0,"type":"string"},"enum_type_id":{"description":"枚举类型","example":"xx","maxLength":100000000,"minLength":0,"type":"string"},"full_name_en":{"description":"英文名","example":"xx","maxLength":100000000,"minLength":0,"type":"string"},"full_name_zh":{"description":"中文名","example":"xx","maxLength":100000000,"minLength":0,"type":"string"},"is_deleted":{"description":"是否删除","example":"xx","type":"boolean"},"match_type":{"description":"匹配类型","example":"xx","maxLength":100000000,"minLength":0,"type":"string"},"model_id":{"description":"模型id","example":"xx","maxLength":100000000,"minLength":0,"type":"string"},"name_en":{"description":"英文名","example":"xx","maxLength":100000000,"minLength":0,"type":"string"},"name_en_path":{"description":"中文名路径","example":"xx","maxLength":100000000,"minLength":0,"type":"string"},"name_zh":{"description":"中文名","example":"xx","maxLength":100000000,"minLength":0,"type":"string"},"name_zh_path":{"description":"中文名路径","example":"xx","maxLength":100000000,"minLength":0,"type":"string"},"prop_id":{"description":"字段id","example":"xx","maxLength":100000000,"minLength":0,"type":"string"},"status":{"description":"status","example":"finished","maxLength":100000000,"minLength":0,"type":"string"},"ticket_id":{"description":"所属单号","example":"xx","maxLength":100000000,"minLength":0,"type":"string"},"user_name":{"description":"工号","example":"xx","maxLength":100000000,"minLength":0,"type":"string"}},"type":"object"}],"description":"基础数据","x-annotations":["@EnableMetadata(bean = \"ReferenceDataInfo\", appId = \"reference\")","@JsonInclude(JsonInclude.Include.NON_NULL)"],"x-imports":"com.huawei.globaloperationmgmt.common.metadata.EnableMetadata;com.fasterxml.jackson.annotation.JsonInclude"},"ExtraFieldInfo":{"properties":{"current_cloud_service_id":{"description":"扩展字段","example":"xxx","maxLength":10000000000,"minLength":0,"type":"string"},"description":{"description":"扩展字段","example":"xxx","maxLength":10000000000,"minLength":0,"type":"string"},"is_change_event":{"default":false,"description":"是否变更事件","type":"boolean"},"is_service_interrupt":{"default":false,"description":"是否变更事件","type":"boolean"},"level_id":{"description":"扩展字段","example":"xxx","maxLength":10000000000,"minLength":0,"type":"string"},"mtm_region":{"description":"扩展字段","example":"xxx","maxLength":10000000000,"minLength":0,"type":"string"},"mtm_type":{"description":"扩展字段","example":"xxx","maxLength":10000000000,"minLength":0,"type":"string"},"source_id":{"description":"扩展字段","example":"xxx","maxLength":10000000000,"minLength":0,"type":"string"},"title":{"description":"扩展字段","example":"xxx","maxLength":10000000000,"minLength":0,"type":"string"}},"type":"object"},"ListTicketHistoryResponseInfo":{"allOf":[{"$ref":"#/definitions/BaseResponse"},{"properties":{"data":{"description":"数据","properties":{"info":{"description":"搜索结果","items":{"$ref":"#/definitions/TicketHistoryInfo"},"maxItems":1024,"minItems":0,"type":"array","x-maxLength":1024,"x-minLength":0},"total":{"description":"总数","format":"int64","maximum":9999999999999,"minimum":0,"type":"integer"}},"type":"object"}},"type":"object"}],"description":"工单详情"},"ListTicketParams":{"properties":{"sort_filter":{"$ref":"#/definitions/ObjectFilter","description":"查询到的历史记录排序条件,可根据操作记录的创建时间进行排序,详见请求样例。"},"string_filters":{"description":"字符串搜索条件,可根据该条件搜索到具体的工单。","items":{"$ref":"#/definitions/ObjectFilter"},"maxItems":20,"minItems":0,"type":"array","x-maxLength":20,"x-minLength":0}},"required":["string_filters"],"type":"object"},"ObjectFilter":{"properties":{"field":{"description":"字段名称","example":"title","maxLength":255,"minLength":0,"type":"string"},"operator":{"description":"操作符 in/like/startwith/endwith/=/!=/>/<等","example":"in","maxLength":20,"minLength":0,"type":"string"},"values":{"description":"搜索值","items":{"maxLength":255,"minLength":0,"type":"string","x-type":"Object"},"maxItems":1024,"minItems":0,"type":"array","x-maxLength":1024,"x-minLength":0}},"required":["operator","field","values"],"type":"object","x-imports":"java.lang.Object"},"TicketHistoryInfo":{"allOf":[{"$ref":"#/definitions/UpdateTicketHistoryInfo"},{"properties":{"action_name_en":{"description":"action英文名","example":"update level","maxLength":100000000,"minLength":0,"type":"string"},"action_name_zh":{"description":"action中文名","example":"升降级","maxLength":100000000,"minLength":0,"type":"string"},"action_template_en":{"description":"action中文模板","example":"update to P4 from P3","maxLength":100000000,"minLength":0,"type":"string"},"action_template_zh":{"description":"action中文模板","example":"由P4升级为P3","maxLength":100000000,"minLength":0,"type":"string"},"enum_data_list":{"description":"枚举数据","items":{"$ref":"#/definitions/EnumDataInfo"},"maxItems":102400,"minItems":0,"type":"array","x-maxLength":102400,"x-minLength":0},"final_sub_action":{"description":"最终子动作","example":"reject","maxLength":100000000,"minLength":0,"type":"string"},"id":{"description":"主键","example":"111","maxLength":50,"minLength":0,"type":"string"},"is_deteted":{"description":"待修改","type":"boolean"},"start_time":{"description":"起始时间","example":"167000000","format":"int64","maximum":9999999999999,"minimum":0,"type":"integer"},"status":{"description":"工单状态","example":"solving","maxLength":100000000,"minLength":0,"type":"string"},"stop_time":{"description":"结束时间","example":"167000000","format":"int64","maximum":9999999999999,"minimum":0,"type":"integer"},"target_type":{"description":"对象类型","example":"GOMSC000001","maxLength":100000000,"minLength":0,"type":"string"},"target_value":{"description":"对象值","example":"GOMSC000001","maxLength":100000000,"minLength":0,"type":"string"},"ticket_id":{"description":"单号","example":"GOMSC000001","maxLength":100000000,"minLength":0,"type":"string"},"update_time":{"description":"更新时间","example":"167000000","format":"int64","maximum":9999999999999,"minimum":0,"type":"integer"}},"type":"object"}],"x-annotations":["@EnableMetadata(bean = \"TicketHistoryInfo\")","@JsonInclude(JsonInclude.Include.NON_NULL)"],"x-imports":"com.huawei.globaloperationmgmt.common.metadata.EnableMetadata;com.fasterxml.jackson.annotation.JsonInclude"},"UpdateTicketHistoryInfo":{"allOf":[{"$ref":"#/definitions/ExtraFieldInfo"},{"properties":{"action":{"description":"动作","example":"update_level","maxLength":100000000,"minLength":0,"type":"string"},"action_id":{"description":"操作标识","example":"op000001","maxLength":100000000,"minLength":0,"type":"string"},"comment":{"description":"评论","example":"ok","maxLength":100000000,"minLength":0,"type":"string"},"operator":{"description":"操作人","example":"xxxxxx01","maxLength":100000000,"minLength":0,"type":"string"},"sub_action":{"description":"子动作","example":"reject","maxLength":100000000,"minLength":0,"type":"string"}},"type":"object"}],"x-annotations":["@EnableMetadata(bean = \"TicketHistoryInfo\")","@JsonInclude(JsonInclude.Include.NON_NULL)"],"x-imports":"com.huawei.globaloperationmgmt.common.metadata.EnableMetadata;com.fasterxml.jackson.annotation.JsonInclude"}},"description":null,"group_id":"82af75d8fb894fc2b06ca4175859ba53","host":"coc.myhuaweicloud.com","id":"61e5a900729946d9a13508cd23f466c5","info_version":"v1","method":"post","name":"ListTicketOperationHistories","parameters":{},"paths":{"/v1/{ticket_type}/list-histories":{"post":{"description":"List Histories","operationId":"ListTicketOperationHistories","parameters":[{"default":"incident","description":"工单类型","in":"path","maxLength":255,"minLength":1,"name":"ticket_type","required":true,"type":"string"},{"description":"查询参数。","in":"body","name":"ListTicketOperationHistoriesRequestBody","required":true,"schema":{"$ref":"#/definitions/ListTicketParams"},"x-en-description":"Query parameters."}],"produces":["application/json"],"responses":{"200":{"description":"搜索工单历史","schema":{"$ref":"#/definitions/ListTicketHistoryResponseInfo"},"x-en-description":"The list is returned."}},"summary":"搜索工单历史","tags":["ExternalCOCTicket"],"x-access-level":"List","x-is-registered":"N","x-methodAnnotations":["@CoaCustomizeAuthMeta","@CoaAuthExtendMeta(userType=UserTypeEnum.MAN_MACHINE_ACCOUNT)","@CtsMeta(resourceType = \"Ticket\", traceName = \"listTicketOperationHistories\", operationId = \"ListTicketOperationHistories\", isReadOnly = true)","@CtsExtendMeta(resourceId = \"#ticketType\", resourceName = \"#ticketType\")","@IamAuthMeta(authLevel = IamAuthLevel.TOKEN, abacAction = \"coc:ticket:getOperationHistories\", opType = BssOpType.QUERY, needApigwJwtAuthCheck = false, authContextInitializer = IAMCustomAuthContextInitializer.class)","@QuotaCheck(needTicketType = true)"],"x-risk-level":"low","x-sre-api-type":"D","x-support-sdk":"Y"}}},"product_short":"COC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"搜索工单历史","tags":"ExternalCocTicket","uri":null,"version":"2.0"}