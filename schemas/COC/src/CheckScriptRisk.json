{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CheckScriptRiskRes":{"description":"高危命令检测返回体。","properties":{"data":{"description":"返回数据。","properties":{"blacklist_commands":{"description":"黑名单列表。","items":{"properties":{"command_name":{"description":"命令。","example":"rm command","maxLength":1024,"minLength":1,"type":"string"},"command_rule":{"description":"匹配规则。","example":"\\s*rm\\s+.*","maxLength":1024,"minLength":1,"type":"string"},"description_en":{"description":"黑名单命令中文描述。","example":"The rm command is included, special system files may be maliciously deleted or modified.","maxLength":1024,"minLength":1,"type":"string"},"description_zh":{"description":"黑名单命令英文描述。","example":"包含rm命令,可能造成系统特殊文件被恶意删除或修改","maxLength":1024,"minLength":1,"type":"string"},"example":{"description":"实例。","example":"rm test.txt ","maxLength":1024,"minLength":1,"type":"string"}}},"maxItems":256,"minItems":0,"type":"array"},"risk_level":{"description":"风险等级。","example":"HIGH","maxLength":128,"minLength":1,"type":"string"}},"required":["risk_level"]}},"required":["data"],"type":"object"},"JobScriptAnalyzeRequest":{"description":"脚本内容分析请求","properties":{"content":{"description":"脚本内容","example":"echo aaa","maxLength":4096,"minLength":0,"type":"string"}},"required":["content"],"type":"object"}},"description":null,"group_id":"82af75d8fb894fc2b06ca4175859ba53","host":"coc.myhuaweicloud.com","id":"5a1f1b4e3396404ca17c8cff1812bb1e","info_version":"v1","method":"post","name":"CheckScriptRisk","parameters":{"X-Auth-Token":{"description":"租户token。","in":"header","name":"X-Auth-Token","required":true,"type":"string"},"X-Language":{"description":"国际化标记,zh-cn表示中文,en-us或不传表示英文。","in":"header","name":"X-Language","required":false,"type":"string"},"x-project-id":{"description":"项目ID。","in":"header","name":"x-project-id","required":false,"type":"string"},"x-user-profile":{"description":"IAM5.0用户信息。","in":"header","name":"x-user-profile","required":false,"type":"string"}},"paths":{"/v1/job/analyze-job":{"post":{"description":"根据作业内容,对作业评估风险,返回相关分析的结果和信息,结果仅供参考。\n高危命令指影响系统或服务的正常运行,或造成系统特殊文件被恶意删除或修改命令。 高危命令检测通过校验规则正则匹配脚本内容中是否包含高危命令。","operationId":"CheckScriptRisk","parameters":[{"description":"脚本内容。","in":"body","name":"CheckScriptRiskRequestBody","required":true,"schema":{"$ref":"#/definitions/JobScriptAnalyzeRequest"}},{"$ref":"#/parameters/X-Auth-Token"},{"$ref":"#/parameters/X-Language"},{"$ref":"#/parameters/x-project-id"},{"$ref":"#/parameters/x-user-profile"}],"responses":{"200":{"description":"请求成功。\n更多状态码请参考[状态码](coc_api_05_03.xml)。","examples":{"application/json":{"data":{"blacklist_commands":[{"command_name":"rm command","command_rule":"\\s*rm\\s+.*","description_en":"The rm command is included, special system files may be maliciously deleted or modified.","description_zh":"包含rm命令,可能造成系统特殊文件被恶意删除或修改。","example":"rm test.txt "}],"risk_level":"HIGH"}}},"schema":{"$ref":"#/definitions/CheckScriptRiskRes"}}},"summary":"评估脚本风险等级","tags":["ScriptManagement"],"x-api-type":"open-api","x-apiexplorer-hide":false,"x-is-registered":"Y","x-order":7,"x-support-sdk":"Y"}}},"product_short":"COC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"评估脚本风险等级","tags":"ScriptManagement","uri":null,"version":"2.0"}