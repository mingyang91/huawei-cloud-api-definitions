{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"BaseResponse":{"description":"--","properties":{"data":{"description":"响应数据","type":"object"},"error_code":{"description":"请求响应代码,范围:0000~9999,正常时取值:0","maxLength":20,"minLength":1,"type":"string"},"error_msg":{"description":"请求响应描述","maxLength":10240,"minLength":0,"type":"string"},"provider_code":{"default":4,"description":"服务标识","maxLength":3,"minLength":3,"type":"string"}},"required":["provider_code","error_code","error_msg","data"],"type":"object"},"ListBaseRequest":{"description":"limit   最小值0 最大值Integer.MAX\noffset 查询数量  值域 0 到1000","properties":{"limit":{"default":0,"description":"limit","format":"int64","maximum":1000,"minimum":0,"type":"integer"},"offset":{"default":10,"description":"查询数量\n最小值0\n最大值1000","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"}},"type":"object"},"ListBaseResponse":{"description":"列表查询基本响应体\n需要增加data属性","properties":{"error_code":{"description":"请求响应代码,范围:0000~9999,正常时取值:0","maxLength":20,"minLength":1,"type":"string"},"error_msg":{"description":"请求响应描述","maxLength":10240,"minLength":0,"type":"string"},"provider_code":{"default":4,"description":"服务标识","maxLength":3,"minLength":3,"type":"string"}}},"ListTenantWarRoomRequestBody":{"allOf":[{"$ref":"#/definitions/ListBaseRequest"},{"properties":{"admin":{"description":"WarRoom管理员","items":{"maxLength":200,"minLength":0,"type":"string"},"maxItems":1000,"minItems":0,"type":"array","x-maxLength":1000,"x-minLength":0},"current_users":{"description":"用户id","items":{"maxLength":200,"minLength":0,"type":"string"},"maxItems":1000,"minItems":0,"type":"array","x-maxLength":1000,"x-minLength":0},"enterprise_project_ids":{"description":"企业项目id","items":{"maxLength":64,"minLength":0,"type":"string"},"maxItems":500,"minItems":0,"type":"array"},"impacted_application_ids":{"description":"影响应用id","items":{"maxLength":200,"minLength":0,"type":"string"},"maxItems":1000,"minItems":0,"type":"array","x-maxLength":1000,"x-minLength":0},"incident_levels":{"description":"事件级别 多选","items":{"maxLength":32,"minLength":0,"type":"string"},"maxItems":1000,"minItems":0,"type":"array","x-maxLength":1000,"x-minLength":0},"incident_num":{"description":"事件单号 精确查询","maxLength":64,"minLength":0,"type":"string"},"notification_level":{"description":"通报级别","items":{"maxLength":32,"minLength":0,"type":"string"},"maxItems":1000,"minItems":0,"type":"array","x-maxLength":1000,"x-minLength":0},"occur_end_time":{"description":"发生结束时间","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"occur_start_time":{"description":"发生开始时间","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"recover_end_time":{"description":"恢复结束时间","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"recover_start_time":{"description":"恢复开始时间","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"region_code_list":{"description":"区域 多选","items":{"maxLength":200,"minLength":0,"type":"string"},"maxItems":1000,"minItems":0,"type":"array","x-maxLength":1000,"x-minLength":0},"statistic_flag":{"default":false,"description":"是否统计,false 返回基本信息;true接口只返回统计结果:total_num,running_num,closed_num","type":"boolean"},"status":{"description":"WarRoom状态","items":{"maxLength":10,"minLength":0,"type":"string"},"maxItems":100,"minItems":0,"type":"array","x-maxLength":100,"x-minLength":0},"title":{"description":"WarRoom名称 模糊查询","maxLength":1000,"minLength":0,"type":"string"},"triggered_end_time":{"description":"拉起结束时间 默认当前时间","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"triggered_start_time":{"description":"拉起开始时间 默认前30天","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"war_room_num":{"description":"WarRoom 单号 前端使用","maxLength":255,"minLength":0,"type":"string"},"war_room_nums":{"description":"WarRoom单号,当有这个筛选条件时,其他筛选条件忽略","items":{"maxLength":255,"minLength":0,"type":"string"},"maxItems":1000,"minItems":0,"type":"array","x-maxLength":1000,"x-minLength":0}},"type":"object"}],"description":"查询WarRoom信息请求","example":{"admin":[0],"current_user":["用户id"],"enterprise_project_ids":["企业项目id"],"impacted_application_ids":["影响应用id"],"incident_levels":[0],"incident_num":"string","limit":1,"notification_level":["通报级别"],"occur_end_time":0,"occur_start_time":0,"offset":10,"recover_end_time":0,"recover_start_time":0,"region_code_list":["region_code"],"statistic_flag":false,"status":[0],"title":"string","triggered_end_time":0,"triggered_start_time":0,"war_room_num":["WarRoom 单号"]}},"ListWarRoomTenantResponseBody":{"allOf":[{"$ref":"#/definitions/ListBaseResponse"},{"properties":{"data":{"description":"响应数据","properties":{"closed_num":{"description":"已关闭WarRoom总数","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"list":{"description":"WarRoom信息","items":{"$ref":"#/definitions/WarRoomTenantInfo"},"maxItems":1000,"minItems":0,"type":"array","x-maxLength":1000,"x-minLength":0},"running_num":{"description":"进行中WarRoom总数","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"total":{"description":"总数","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"total_num":{"description":"WarRoom总数","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"}},"required":["list","total","running_num","closed_num","total_num"]}},"required":["data"],"type":"object"}],"description":"WarRoom信息"},"WarRoomEnumeration":{"description":"枚举类型信息","example":{"id":"string","name_en":"string","name_zh":"string","type":"string"},"properties":{"id":{"description":"枚举值id","maxLength":255,"minLength":0,"type":"string"},"name_en":{"description":"枚举值英文名","maxLength":255,"minLength":0,"type":"string"},"name_zh":{"description":"枚举值中文名","maxLength":255,"minLength":0,"type":"string"},"type":{"description":"枚举类型","maxLength":255,"minLength":0,"type":"string"}},"type":"object"},"WarRoomIncident":{"description":"WarRoom存储事件有关信息","properties":{"failure_level":{"description":"事件级别","maxLength":32,"minLength":0,"type":"string"},"id":{"description":"主键","maxLength":100,"minLength":0,"type":"string"},"incident_id":{"description":"事件id","maxLength":32,"minLength":0,"type":"string"},"incident_url":{"description":"事件单号链接","example":"https://****/","maxLength":20000,"minLength":0,"type":"string"},"is_change_event":{"description":"是否变更事件","type":"boolean"}},"required":["id"],"type":"object"},"WarRoomTenantInfo":{"description":"WarRoom信息","properties":{"admin":{"description":"WarRoom管理员","example":"姓名 工号","maxLength":255,"minLength":0,"type":"string"},"change_num":{"description":"变更单号","example":"","maxLength":255,"minLength":0,"type":"string"},"circular_level":{"description":"通报级别 租户区同事件级别","maxLength":32,"minLength":0,"type":"string"},"create_time":{"description":"添加时间","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"description":{"description":"WarRoom描述","example":"","maxLength":255,"minLength":0,"type":"string"},"enterprise_project_id":{"description":"企业项目id","maxLength":64,"minLength":0,"type":"string"},"fault_cause":{"description":"故障原因","example":"","maxLength":255,"minLength":0,"type":"string"},"fault_impact":{"description":"故障影响","example":"","maxLength":255,"minLength":0,"type":"string"},"first_report_time":{"description":"首次通报时间","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"id":{"description":"主键","example":36187,"maxLength":100,"minLength":0,"type":"string"},"impacted_application":{"description":"影响应用","items":{"properties":{"id":{"description":"主键","maxLength":100,"minLength":0,"type":"string"},"name":{"description":"名字","example":"CloudMonitorAlarm","maxLength":255,"minLength":0,"type":"string"}}},"maxItems":1000,"minItems":0,"type":"array","x-maxLength":1000,"x-minLength":0},"incident":{"$ref":"#/definitions/WarRoomIncident","description":"事件"},"occur_time":{"description":"开始时间","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"processing_duration":{"description":"处理时长(分钟)","example":null,"format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"recover_leader":{"description":"主恢复责任人","items":{"maxLength":255,"minLength":0,"type":"string"},"maxItems":1000,"minItems":0,"type":"array","x-maxLength":1000,"x-minLength":0},"recover_member":{"description":"恢复成员","items":{"maxLength":255,"minLength":0,"type":"string"},"maxItems":1000,"minItems":0,"type":"array","x-maxLength":1000,"x-minLength":0},"recover_time":{"description":"故障恢复时间","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"recovery_notification_time":{"description":"恢复通报时间","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"regions":{"description":"影响的Region","items":{"properties":{"code":{"description":"主键","maxLength":100,"minLength":0,"type":"string"},"name":{"description":"名称","example":"西安test","maxLength":255,"minLength":0,"type":"string"}}},"maxItems":1000,"minItems":0,"type":"array","x-maxLength":1000,"x-minLength":0},"restoration_duration":{"description":"恢复时长(分钟)","example":null,"format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"source":{"description":"事件来源","example":null,"maxLength":255,"minLength":0,"type":"string"},"title":{"description":"标题","example":"作战会议室-西安test-CMA_OneKeyWar_Room_【西安test】【GOM】【GOCM查询告警出错】","maxLength":255,"minLength":0,"type":"string"},"war_room_num":{"description":"WarRoom单号","maxLength":255,"minLength":0,"type":"string"},"war_room_status":{"$ref":"#/definitions/WarRoomEnumeration","description":"WarRoom状态"}},"type":"object"}},"description":null,"group_id":"82af75d8fb894fc2b06ca4175859ba53","host":"coc.myhuaweicloud.com","id":"a76c2ad873074091860f01c4975f84e2","info_version":"v1","method":"post","name":"ListWarRooms","parameters":{},"paths":{"/v1/external/warrooms/list":{"post":{"description":"查询租户区WarRoom信息列表","operationId":"ListWarRooms","parameters":[{"description":"查询租户区WarRoom列表的请求","in":"body","name":"ListWarRoomRequestBody","required":true,"schema":{"$ref":"#/definitions/ListTenantWarRoomRequestBody"}}],"responses":{"200":{"description":"查询租户区WarRoom列表成功的响应","schema":{"$ref":"#/definitions/ListWarRoomTenantResponseBody"}},"400":{"description":"查询租户区WarRoom列表参数错误的响应","schema":{"$ref":"#/definitions/BaseResponse"}}},"summary":"查询租户区WarRoom信息列表","tags":["WarRoom"],"x-api-mode":"tent-api","x-api-type":"open-api","x-classAnnotation":["@EnableAuth(type = \"${wushan.integration.common.auth.type}\")","@ConditionalOnProperty(name = \"server.deploy.mode\", havingValue = \"tent\")"],"x-imports":["com.huawei.clouds.wushan.integration.common.auth.EnableAuth;","com.huawei.clouds.wushan.cts.meta.CtsMeta;","com.huawei.warroom.common.apos.CtsExtendMeta;","com.huawei.warroom.common.apos.QuotaCheck;","com.huawei.warroom.common.models.BaseResponse","com.huawei.warroom.warroomconfig.controller.model.ListWarRoomTenantResponseBodyData","com.huawei.clouds.wushan.auth.token.IamAuthMeta","com.huawei.clouds.wushan.auth.token.IamAuthLevel","org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;","com.huawei.clouds.wushan.auth.token.meta.BssOpType;","com.huawei.warroom.common.auth.CustomIamAuthContextInitializer;;"],"x-is-registered":"Y","x-methodAnnotations":["@CtsMeta(resourceType = \"WarRoom\", traceName = \"listWarRoom\")","@IamAuthMeta(needApigwJwtAuthCheck = false, authLevel = IamAuthLevel.TOKEN, abacAction = \"coc:warroom:list\", opType = BssOpType.QUERY, authContextInitializer = CustomIamAuthContextInitializer.class)","@QuotaCheck(featureId = \"coc.warroom\")"],"x-request-examples-1":{"admin":[0],"change_num":"string","effectiveness":["string"],"impacted_services_ids":[0],"incident_num":"string","is_verify":true,"level_names":["string"],"marker":10,"occur_end_time":0,"occur_start_time":0,"page_size":1,"pre_warning_briefing_p2":true,"recover_end_time":0,"recover_leader_id":[0],"recover_start_time":0,"region_ids":[0],"root_cause_service_ids":[0],"site_ids":[0],"status":[0],"title":"string","triggered_end_time":0,"triggered_start_time":0},"x-request-examples-text-1":{"admin":[0],"change_num":"string","effectiveness":["string"],"impacted_services_ids":[0],"incident_num":"string","is_verify":true,"level_names":["string"],"marker":10,"occur_end_time":0,"occur_start_time":0,"page_size":1,"pre_warning_briefing_p2":true,"recover_end_time":0,"recover_leader_id":[0],"recover_start_time":0,"region_ids":[0],"root_cause_service_ids":[0],"site_ids":[0],"status":[0],"title":"string","triggered_end_time":0,"triggered_start_time":0},"x-request-examples-url-1":"/v1/warroom/list","x-returnType":"BaseResponse<ListWarRoomTenantResponseBodyData>","x-support-sdk":"Y"}}},"product_short":"COC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询租户区WarRoom信息列表","tags":"WarRoom","uri":null,"version":"2.0"}