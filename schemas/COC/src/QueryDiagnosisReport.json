{"base_path":"/","components":null,"consumes":"","definitions":{"DiagnosisReport":{"description":"诊断结果","properties":{"component_id":{"description":"组件id","type":"string"},"create_time":{"description":"任务开始时间","format":"int64","type":"integer"},"fail_reason":{"description":"任务异常原因","type":"string"},"last_update_time":{"description":"任务更新时间","format":"int64","type":"integer"},"parameters":{"additionalProperties":{"type":"string"},"description":"诊断参数","type":"object"},"provider":{"description":"云服务","type":"string"},"report":{"description":"诊断报告","properties":{"diagnosis_list":{"description":"诊断项列表的结果","items":{"properties":{"abnormal_info":{"description":"异常信息","items":{"type":"object"},"type":"array"},"additional_info":{"description":"其他细节信息","type":"object"},"diagnosis_name":{"description":"诊断名称","type":"string"},"dimension":{"description":"诊断维度","type":"string"},"node_info":{"description":"诊断节点信息","type":"object"},"result":{"description":"诊断结果","type":"string"},"suggestion":{"description":"建议信息","items":{"type":"object"},"type":"array"}},"required":["result","diagnosis_name"]},"type":"array"},"report_supplement":{"description":"诊断报告的补充内容,如一些统计消息","type":"object"}}},"resource_id":{"description":"资源id","type":"string"},"status":{"description":"诊断任务状态","type":"string"},"type":{"description":"类型","type":"string"}},"required":["resource_id","type","status","create_time","last_update_time"],"type":"object"},"ErrorRsp":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":8,"type":"string"},"error_msg":{"description":"错误描述","maxLength":512,"minLength":2,"type":"string"}},"required":["error_code","error_msg"]},"QueryDiagnosisReportResponseBody":{"description":"查询诊断报告的返回体","properties":{"data":{"properties":{"diagnosis_records":{"items":{"$ref":"#/definitions/DiagnosisReport"},"type":"array"},"summary":{"items":{"properties":{"abnormal_sum":{"description":"诊断异常实例个数","format":"int32","type":"integer"},"failed_sum":{"description":"诊断失败实例个数","format":"int32","type":"integer"},"normal_sum":{"description":"诊断正常实例个数","format":"int32","type":"integer"},"provider":{"description":"云服务名称","type":"string"},"running_sum":{"description":"诊断中实例个数","format":"int32","type":"integer"}},"required":["provider","failed_sum","abnormal_sum","normal_sum","running_sum"]},"type":"array"}}}},"required":["data"],"type":"object"}},"description":null,"group_id":"82af75d8fb894fc2b06ca4175859ba53","host":"coc-open.myhuaweicloud.com","id":"01d239bfa1ac4c189d681e2c05249967","info_version":"v1","method":"get","name":"QueryDiagnosisReport","parameters":{},"paths":{"/v1/diagnosis/records":{"get":{"description":"查询诊断任务状态","operationId":"QueryDiagnosisReport","parameters":[{"description":"warRoom或者事件id","in":"query","name":"relation_id","required":true,"type":"string"},{"description":"应用id","in":"query","name":"application_id","required":true,"type":"string"},{"description":"云服务","in":"query","name":"provider","required":false,"type":"string"},{"description":"组件id","in":"query","name":"component_id","required":false,"type":"string"},{"description":"任务状态","in":"query","name":"status","required":false,"type":"string"},{"description":"分组id","in":"query","name":"group_id","required":false,"type":"string"},{"description":"是否返回实例的历史记录","in":"query","name":"is_history","required":false,"type":"boolean"},{"description":"子应用id","in":"query","name":"sub_application_id","required":false,"type":"string"},{"description":"分页大小,默认10","format":"int32","in":"query","name":"limit","required":false,"type":"integer"},{"description":"分页位置,默认0","format":"int32","in":"query","name":"offset","required":false,"type":"integer"}],"responses":{"200":{"description":"诊断报告","schema":{"$ref":"#/definitions/QueryDiagnosisReportResponseBody"}},"400":{"description":"异常描述信息","schema":{"$ref":"#/definitions/ErrorRsp"}},"500":{"description":"异常描述信息","schema":{"$ref":"#/definitions/ErrorRsp"}}},"summary":"查询诊断任务","tags":["Diagnosis"],"x-api-type":"open-api","x-is-registered":"Y","x-order":2,"x-support-sdk":"N"}}},"product_short":"COC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询诊断任务","tags":"Diagnosis","uri":null,"version":"2.0"}