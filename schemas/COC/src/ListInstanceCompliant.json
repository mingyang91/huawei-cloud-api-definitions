{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CompliantSummary":{"properties":{"compliant_count":{"description":"合规补丁数量","format":"int32","readOnly":true,"type":"integer"},"severity_summary":{"$ref":"#/definitions/SeveritySummary","description":"合规总结"}},"type":"object"},"ErrorRspV1":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":0,"type":"string"},"error_msg":{"description":"错误描述","maxLength":512,"minLength":0,"type":"string"}},"required":["error_code","error_msg"],"type":"object"},"ExecutionSummary":{"description":"执行相关信息","properties":{"job_id":{"description":"脚本执行Id","readOnly":true,"type":"string"},"order_id":{"description":"工单Id","readOnly":true,"type":"string"},"report_time":{"description":"报告时间","format":"int64","readOnly":true,"type":"integer"}},"type":"object"},"InstanceCompliant":{"description":"节点合规性报告","properties":{"baseline_id":{"description":"基线id","readOnly":true,"type":"string"},"baseline_name":{"description":"基线名称","readOnly":true,"type":"string"},"cce_info_id":{"description":"cce 集群信息id","readOnly":true,"type":"string"},"compliant_summary":{"$ref":"#/definitions/CompliantSummary","description":"合规补丁信息"},"eip":{"description":"弹性公网ip","readOnly":true,"type":"string"},"enterprise_project_id":{"description":"企业项目id","readOnly":true,"type":"string"},"execution_summary":{"$ref":"#/definitions/ExecutionSummary","description":"执行信息"},"group":{"description":"分组","readOnly":true,"type":"string"},"id":{"description":"id","readOnly":true,"type":"string"},"instance_id":{"description":"节点ID","readOnly":true,"type":"string"},"ip":{"description":"节点IP","readOnly":true,"type":"string"},"name":{"description":"节点名称","readOnly":true,"type":"string"},"node_id":{"description":"cce集群节点ID","readOnly":true,"type":"string"},"non_compliant_summary":{"$ref":"#/definitions/NonCompliantSummary","description":"不合规补丁信息"},"operating_system":{"description":"操作系统","readOnly":true,"type":"string"},"region":{"description":"区域","readOnly":true,"type":"string"},"report_scene":{"description":"报告场景(CCE,ECS)","readOnly":true,"type":"string"},"rule_type":{"description":"基线规则类型","readOnly":true,"type":"string"},"status":{"description":"合规性状态","readOnly":true,"type":"string"}},"type":"object"},"InstanceCompliantList":{"properties":{"count":{"description":"总条数","format":"int64","readOnly":true,"type":"integer"},"instance_compliant":{"description":"节点合规报告","items":{"$ref":"#/definitions/InstanceCompliant"},"maxItems":1000,"minItems":0,"type":"array","x-maxLength":1000,"x-minLength":0}},"type":"object"},"NonCompliantSummary":{"description":"不合规总结","properties":{"non_compliant_count":{"description":"不合规补丁数量","format":"int32","readOnly":true,"type":"integer"},"severity_summary":{"$ref":"#/definitions/SeveritySummary","description":"合规总结"}},"type":"object"},"SeveritySummary":{"properties":{"critical_count":{"description":"重大合规性报告数量","format":"int32","readOnly":true,"type":"integer"},"high_count":{"description":"高合规性报告数量","format":"int32","readOnly":true,"type":"integer"},"informational_count":{"description":"信息性合规性报告数量","format":"int32","readOnly":true,"type":"integer"},"low_count":{"description":"低合规性报告数量","format":"int32","readOnly":true,"type":"integer"},"medium_count":{"description":"中级合规性报告数量","format":"int32","readOnly":true,"type":"integer"},"unspecified_count":{"description":"未指定合规性报告数量","format":"int32","readOnly":true,"type":"integer"}},"type":"object"}},"description":null,"group_id":"82af75d8fb894fc2b06ca4175859ba53","host":"coc.myhuaweicloud.com","id":"de19b23676ec497a9fb458175e82740d","info_version":"v1","method":"get","name":"ListInstanceCompliant","parameters":{},"paths":{"/v1/patch/instance/compliant":{"get":{"description":"分页获取节点合规性报告","operationId":"ListInstanceCompliant","parameters":[{"description":"企业项目id","in":"query","name":"enterprise_project_id","required":false,"type":"string"},{"description":"名称","in":"query","name":"name","required":false,"type":"string"},{"description":"ECS实例id","in":"query","name":"instance_id","required":false,"type":"string"},{"description":"内网ip","in":"query","name":"ip","required":false,"type":"string"},{"description":"弹性公网ip","in":"query","name":"eip","required":false,"type":"string"},{"description":"操作系统\n- HuaweiCloudEulerOS\n- CentOS\n- EulerOS","in":"query","name":"operating_system","required":false,"type":"string"},{"description":"区域","in":"query","name":"region","required":false,"type":"string"},{"description":"分组","in":"query","name":"group","required":false,"type":"string"},{"description":"合规性状态\n- non_compliant:不合规\n- compliant:合规","in":"query","name":"compliant_status","required":false,"type":"string"},{"description":"工单id","in":"query","name":"order_id","required":false,"type":"string"},{"default":1,"description":"偏移量","format":"int32","in":"query","maximum":1000000,"minimum":1,"name":"offset","required":false,"type":"integer"},{"default":10,"description":"每页数量","format":"int32","in":"query","maximum":100,"minimum":1,"name":"limit","required":false,"type":"integer"},{"description":"排序\n- asc:升序\n- desc:降序","in":"query","name":"sort_dir","required":false,"type":"string"},{"description":"排序字段\n- report_time:报告时间","in":"query","name":"sort_key","required":false,"type":"string"},{"description":"报告场景\n- CCE \n- ECS","in":"query","name":"report_scene","required":false,"type":"string"},{"description":"cce 集群信息id","in":"query","name":"cce_info_id","required":false,"type":"string"}],"responses":{"200":{"description":"节点合规性报告信息","examples":{"application/json":{"count":1,"instance_compliant":[{"baseline_id":"JX-f2d85e2554f7385cbbf2c23a01f41","baseline_name":"COC-EulerOSDefaultPatchBaseline","compliant_summary":{"compliant_count":264,"severity_summary":{"critical_count":0,"high_count":0,"informational_count":0,"low_count":0,"medium_count":0,"unspecified_count":264}},"enterprise_project_id":"string","execution_summary":{"job_id":"string","order_id":"string","report_time":1715308575000},"id":"string","instance_id":"string","ip":"string","name":"string","node_id":"","non_compliant_summary":{"non_compliant_count":204,"severity_summary":{"critical_count":0,"high_count":0,"informational_count":0,"low_count":0,"medium_count":0,"unspecified_count":0}},"operating_system":"EulerOS","region":"string","report_scene":"ECS","rule_type":"standard","status":"non_compliant"}]}},"schema":{"$ref":"#/definitions/InstanceCompliantList"}},"500":{"description":"错误信息返回","examples":{"application/json":{"error_code":"string","error_msg":"string"}},"schema":{"$ref":"#/definitions/ErrorRspV1"}}},"summary":"获取节点合规性报告","tags":["compliant"],"x-api-type":"open-api","x-class-annotations":["@EnableAuth"],"x-imports":["com.huawei.clouds.wushan.integration.common.auth.EnableAuth","com.huawei.clouds.wushan.auth.token.IamAuthMeta","com.huawei.clouds.wushan.auth.token.IamAuthLevel","com.huawei.clouds.wushan.cts.meta.CtsMeta","com.huawei.coc.patch.config.CtsExtendMeta","com.huawei.clouds.wushan.auth.token.meta.BssOpType"],"x-is-registered":"Y","x-method-annotations":["@IamAuthMeta(authLevel = IamAuthLevel.TOKEN, abacAction = \"coc:complianceReport:list\", opType = BssOpType.QUERY)"],"x-request-examples-description-1":"查询ECS报告下不合规的报告列表","x-request-examples-url-1":"/v1/patch/instance/compliant?offset=1&limit=10&compliant_status=non_compliant&report_scene=ECS","x-support-sdk":"Y"}}},"product_short":"COC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"获取节点合规性报告","tags":"compliant","uri":null,"version":"2.0"}