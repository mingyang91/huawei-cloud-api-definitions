{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"BasicDTO":{"description":"基础请求对象","properties":{"code":{"description":"code","maxLength":64,"minLength":0,"type":"string"},"id":{"description":"id","maxLength":64,"minLength":0,"type":"string"}},"type":"object"},"BasicResponse":{"description":"基础响应对象","properties":{"error_code":{"description":"error_code","maxLength":1024,"minLength":0,"type":"string"},"error_msg":{"description":"error_msg","maxLength":1024,"minLength":0,"type":"string"}},"type":"object"},"DiagnosisTask":{"allOf":[{"$ref":"#/definitions/BasicDTO"},{"properties":{"domain_id":{"description":"诊断记录所属租户ID","maxLength":64,"minLength":0,"type":"string"},"end_time":{"description":"结束时间,遵循RFC3339规范,精确到秒\n示例:2020-09-01T18:50:20Z","maxLength":32,"minLength":0,"type":"string"},"instance_id":{"description":"被诊断的实例ID","maxLength":128,"minLength":0,"type":"string"},"instance_name":{"description":"被诊断的实例名称","maxLength":128,"minLength":0,"type":"string"},"instance_num":{"description":"被诊断实例的数量","format":"int32","maximum":200,"minimum":1,"type":"integer"},"os_type":{"description":"被诊断实例的操作系统类型","maxLength":16,"minLength":0,"type":"string"},"progress":{"description":"诊断进度","format":"int32","maximum":100,"minimum":0,"type":"integer"},"project_id":{"description":"被诊断实例所属项目ID","maxLength":64,"minLength":0,"type":"string"},"region":{"description":"被诊断实例所在区域","maxLength":128,"minLength":0,"type":"string"},"start_time":{"description":"创建时间,遵循RFC3339规范,精确到秒\n示例:2020-09-01T18:50:20Z","maxLength":32,"minLength":0,"type":"string"},"status":{"description":"诊断任务状态执行状态","maxLength":32,"minLength":0,"type":"string"},"type":{"description":"被诊断实例类别,ECS、RDS等","maxLength":64,"minLength":0,"type":"string"},"user_id":{"description":"诊断记录所属用户ID","maxLength":128,"minLength":0,"type":"string"},"user_name":{"description":"诊断记录所属用户名称","maxLength":2048,"minLength":0,"type":"string"},"work_order_id":{"description":"诊断任务工单ID","maxLength":128,"minLength":0,"type":"string"}},"type":"object"}],"description":"诊断记录对象"},"DiagnosisTaskDetail":{"allOf":[{"$ref":"#/definitions/DiagnosisTask"},{"properties":{"message":{"description":"诊断结果","maxLength":1000000,"minLength":0,"type":"string"},"node_list":{"description":"诊断步骤","items":{"$ref":"#/definitions/DiagnosisTaskNode"},"maxItems":10,"minItems":0,"type":"array"},"region":{"description":"诊断资源所属局点","maxLength":32,"minLength":0,"type":"string"}},"type":"object"}],"description":"诊断记录详情对象"},"DiagnosisTaskDetailResponse":{"allOf":[{"$ref":"#/definitions/BasicResponse"},{"properties":{"data":{"$ref":"#/definitions/DiagnosisTaskDetail","description":"data"}},"type":"object"}],"description":"单个诊断任务响应对象"},"DiagnosisTaskNode":{"allOf":[{"$ref":"#/definitions/BasicDTO"},{"properties":{"diagnosis_task_id":{"description":"诊断任务ID","maxLength":64,"minLength":0,"type":"string"},"name":{"description":"诊断步骤名称","maxLength":64,"minLength":0,"type":"string"},"name_zh":{"description":"诊断步骤名称(中文)","maxLength":64,"minLength":0,"type":"string"},"status":{"description":"任务状态,waiting,executing,failed,finish,cancel","maxLength":32,"minLength":0,"type":"string"}},"type":"object"}],"description":"单诊断步骤结果对象"}},"description":null,"group_id":"82af75d8fb894fc2b06ca4175859ba53","host":"coc.myhuaweicloud.com","id":"3c98ffd6e7174146a8d430315cd53bc1","info_version":"v1","method":"get","name":"ShowDiagnosisTask","parameters":{},"paths":{"/v1/diagnosis/tasks/{task_id}":{"get":{"description":"查询单个诊断任务详情","operationId":"ShowDiagnosisTask","parameters":[{"description":"诊断工单ID","in":"path","maxLength":64,"minLength":0,"name":"task_id","required":true,"type":"string"},{"description":"非必填,被诊断实例的ID,传入后查询该实例诊断报告","in":"query","maxLength":128,"minLength":0,"name":"instance_id","required":true,"type":"string"}],"responses":{"200":{"description":"查询单个诊断任务详情","schema":{"$ref":"#/definitions/DiagnosisTaskDetailResponse"}},"400":{"description":"客户端错误","schema":{"$ref":"#/definitions/BasicResponse"}},"500":{"description":"服务端错误","schema":{"$ref":"#/definitions/BasicResponse"}}},"summary":"查询单个诊断任务详情","tags":["Diagnosis"],"x-api-type":"open-api","x-imports":["com.huawei.clouds.wushan.cts.meta.CtsMeta","com.huawei.clouds.wushan.auth.token.meta.BssOpType","com.huawei.clouds.wushan.auth.token.IamAuthLevel","com.huawei.clouds.wushan.auth.token.IamAuthMeta","com.huawei.coc.instance.mgmt.framework.auth.ResourceDiagnosisAuthInitializer"],"x-is-registered":"Y","x-method-annotations":["@IamAuthMeta(needApigwJwtAuthCheck = false, authLevel = IamAuthLevel.INSTANCE, abacAction = \"coc:job:get\", opType = BssOpType.QUERY, needAbacResourceCheck = true, authContextInitializer = ResourceDiagnosisAuthInitializer.class,needCbcCheck = false)","@CtsExtendMeta(resourceId = \"#taskId\", resourceName = \"diagnosisName\", resourceIdKey = \"task_id\")","@CtsMeta(resourceType = \"diagnosis\", traceName = \"showDiagnosisTask\", operationId = \"ShowDiagnosisTask\")"],"x-requestHandler":true,"x-responseHandler":true,"x-support-sdk":"Y"}}},"product_short":"COC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询单个诊断任务详情","tags":"Diagnosis","uri":null,"version":"2.0"}