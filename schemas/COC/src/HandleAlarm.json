{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"AlarmScheduleInstance":{"description":"保存定时任务关联的实例选择条件或实例信息","properties":{"batch_strategy":{"description":"实例分批策略 AUTO_BATCH 自动分批,MANUAL_BATCH手动分批,NONE不分批","enum":["AUTO_BATCH","MANUAL_BATCH","NONE"],"example":"AUTO_BATCH","maxLength":32,"minLength":0,"type":"string"},"order_no":{"description":"步骤号","format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"sub_target_instances":{"description":"子目标实例","items":{"$ref":"#/definitions/AlarmScheduleInstance"},"maxItems":10000,"minItems":0,"type":"array","x-maxLength":1000,"x-minLength":0},"target_instances":{"description":"实例信息","readOnly":true,"type":"string"},"target_selection":{"description":"目标选择方式,枚举值:ALL 全部实例,MANUAL 手动选择 NONE","enum":["ALL","MANUAL","NONE"],"example":"ALL","maxLength":36,"minLength":1,"type":"string"}},"required":["target_selection","order_no"],"type":"object"},"AutoHandlerAlarmRequestBody":{"description":"创建任务请求体","properties":{"associated_task_enterprise_project_id":{"description":"企业项目ID","example":"Customization","maxLength":1000,"minLength":0,"type":"string"},"associated_task_id":{"description":"关联任务ID(脚本ID/作业ID)","example":"Customization","maxLength":100,"minLength":3,"type":"string"},"associated_task_name":{"description":"关联任务名称(脚本名称/作业名称)","example":"patch","maxLength":255,"minLength":0,"type":"string"},"associated_task_type":{"description":"关联任务的类型","example":"script","type":"string"},"input_param":{"additionalProperties":{"readOnly":true,"type":"string"},"description":"执行参数,值为json串","example":{},"maxProperties":1000,"minProperties":0,"type":"object"},"region_id":{"description":"区域ID","maxLength":64,"minLength":0,"type":"string"},"runbook_instance_mode":{"description":"作业实例模式","example":"mode","type":"string"},"sub_task_info":{"$ref":"#/definitions/SubTaskInfoDTO"},"target_instances":{"description":"目标实例信息","items":{"$ref":"#/definitions/AlarmScheduleInstance"},"maxItems":1000,"minItems":1,"type":"array","x-maxLength":1000,"x-minLength":1},"task_type":{"description":"任务类型","example":"script","type":"string"}},"required":["task_type","associated_task_id","associated_task_type","associated_task_name","input_param"],"type":"object","x-imports":["com.huawei.coc.alarm.mgmt.enums.TaskType","com.huawei.coc.common.utils.enums.TaskSource","com.huawei.coc.common.utils.enums.RunbookInstanceMode"]},"SubTaskInfoDTO":{"description":"应急预案内部包含的作业、脚本信息","properties":{"sub_associated_task_id":{"description":"作业、脚本的id","maxLength":100,"minLength":0,"type":"string"},"sub_associated_task_name":{"description":"作业、脚本的名称","maxLength":255,"minLength":0,"type":"string"},"sub_associated_task_type":{"description":"作业、脚本的分类:自定义、公共","example":"CUSTOMIZATION","type":"string","x-type":"TaskSource"},"sub_task_type":{"description":"子任务类型","example":"script","type":"string","x-type":"TaskType"}},"type":"object","x-imports":["com.huawei.coc.alarm.mgmt.enums.TaskType","com.huawei.coc.common.utils.enums.TaskSource"]}},"description":null,"group_id":"82af75d8fb894fc2b06ca4175859ba53","host":"coc.myhuaweicloud.com","id":"c3706636245c410f9e7e6acfd9d50d45","info_version":"v1","method":"post","name":"HandleAlarm","parameters":{},"paths":{"/v1/alarm-mgmt/alarm/{alarm_id}/auto-process":{"post":{"description":"自动处理告警","operationId":"HandleAlarm","parameters":[{"description":"告警ID","in":"path","maxLength":26,"minLength":1,"name":"alarm_id","required":true,"type":"string"},{"description":"自动处理告警请求体","in":"body","name":"HandlerAlarmRequestBody","required":true,"schema":{"$ref":"#/definitions/AutoHandlerAlarmRequestBody"}}],"responses":{"200":{"description":"","schema":{"type":"object"}}},"summary":"自动处理告警","tags":["Alarm"],"x-api-type":"open-api","x-imports":["com.huawei.clouds.wushan.integration.common.auth.EnableAuth","com.huawei.clouds.wushan.auth.token.IamAuthMeta","com.huawei.clouds.wushan.auth.token.IamAuthLevel","com.huawei.clouds.wushan.cts.meta.CtsMeta","com.huawei.coc.common.utils.annotation.CtsExtendMeta","com.huawei.clouds.wushan.auth.token.meta.BssOpType","com.huawei.coc.common.utils.model.ResponseData","com.huawei.coc.alarm.mgmt.framework.auth.AlarmAuth","com.huawei.coc.alarm.mgmt.framework.auth.AlarmMgmtAuthInitializer"],"x-is-registered":"Y","x-method-annotations":["@IamAuthMeta(needApigwJwtAuthCheck = false, authLevel = IamAuthLevel.INSTANCE_LIST, abacAction = \"coc:instance:executeDocument\",needAbacResourceCheck = true, authContextInitializerName = \"alarmAuth\", needRbacCheck = false, opType = BssOpType.RESOURCE,needCbcCheck = true)","@CtsMeta(resourceType = \"alarm\", traceName = \"handleAlarm\", operationId = \"HandleAlarm\")","@CtsExtendMeta(resourceId = \"#alarmId\", resourceName = \"#handlerAlarmRequestBody.associatedTaskName\", resourceIdKey = \"alarm_id\", resourceNameKey = \"associated_task_name\")"],"x-returnType":"ResponseData<String>","x-support-sdk":"Y"}}},"product_short":"COC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"自动处理告警","tags":"Alarm","uri":null,"version":"2.0"}