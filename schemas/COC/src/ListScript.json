{"base_path":"/","components":null,"consumes":"","definitions":{"ErrorRsp":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":8,"type":"string"},"error_msg":{"description":"错误描述","maxLength":512,"minLength":2,"type":"string"}},"required":["error_code","error_msg"]},"ReviewerInfo":{"description":"审批人信息","properties":{"reviewer_id":{"description":"审批人ID(IAM用户Id)","example":"e99a6f27cfe7497084ac9c07bfa573d7","maxLength":32,"minLength":0,"type":"string"},"reviewer_name":{"description":"审批人名称(IAM用户名)","example":"test","maxLength":64,"minLength":1,"type":"string"}},"required":["reviewer_id","reviewer_name"],"type":"object"},"ScriptListModel":{"description":"**遗留问题**\n1. 脚本入参限制:参数个数、参数长度、参数合法范围\n2. 字段长度和范围待定义","properties":{"creator":{"description":"创建人","example":"testacc","maxLength":64,"minLength":1,"type":"string"},"creator_id":{"description":"创建人Id","example":"9fec03ee5b1040818b91bef6e16213df","maxLength":64,"minLength":1,"type":"string"},"enterprise_project_id":{"description":"企业项目ID,默认为:0","type":"string"},"gmt_created":{"description":"创建时间","example":1691750512367,"format":"int64","maximum":9223372036854775807,"minimum":1,"type":"integer"},"gmt_modified":{"description":"修改时间","example":1691750512367,"format":"int64","maximum":9223372036854775807,"minimum":1,"type":"integer"},"id":{"description":"脚本自增id","example":12,"format":"int64","maximum":9223372036854775807,"minimum":1,"type":"integer"},"name":{"description":"脚本名称","example":"echotest","maxLength":64,"minLength":1,"type":"string"},"operator":{"description":"修改人","example":"operator","maxLength":64,"minLength":1,"type":"string"},"properties":{"$ref":"#/definitions/ScriptPropertiesModel","description":"脚本标签:风险等级risk_level(取值范围:LOW/MEDIUM/HIGH)、审批人reviewer"},"script_uuid":{"description":"脚本uuid","example":"SC2023082920065102fc49ec0","maxLength":25,"minLength":1,"type":"string"},"status":{"description":"脚本状态\nPENDING_APPROVE:待审批\nAPPROVED:正常(审批通过)\nREJECTED:驳回(审批人,驳回该脚本","enum":["PENDING_APPROVE","APPROVED","REJECTED"],"type":"string"},"type":{"description":"脚本类型\nSHELL:shell脚本\nPYTHON:python脚本\nBAT:bat脚本","enum":["SHELL","PYTHON","BAT"],"type":"string"}},"required":["creator","creator_id","enterprise_project_id","gmt_created","id","name","properties","script_uuid","status","type"],"type":"object"},"ScriptListPage":{"description":"脚本列表分页数据","properties":{"data":{"description":"单页数据列表","items":{"$ref":"#/definitions/ScriptListModel"},"maxItems":100,"minItems":1,"type":"array"},"total":{"description":"总条数","example":37,"format":"int64","maximum":9223372036854775807,"minimum":1,"type":"integer"}},"required":["data","total"],"type":"object"},"ScriptListPageResponse":{"description":"脚本列表返回体","properties":{"data":{"$ref":"#/definitions/ScriptListPage","description":"脚本列表返回体"}},"required":["data"],"type":"object"},"ScriptPropertiesModel":{"description":"脚本标签:风险等级risk_level(取值范围:LOW/MEDIUM/HIGH)、审批人reviewer、脚本解释器interpreter等","properties":{"risk_level":{"description":"风险等级\nLOW:低风险\nMEDIUM:中风险\nHIGH:高风险","enum":["LOW","MEDIUM","HIGH"],"example":"LOW","type":"string"},"version":{"description":"脚本版本号","example":"v1.0.0","maxLength":10,"minLength":1,"type":"string"}},"required":["risk_level","version"],"type":"object"}},"description":null,"group_id":"82af75d8fb894fc2b06ca4175859ba53","host":"coc.myhuaweicloud.com","id":"391c9f72754d43f3829fc8b9845e7934","info_version":"v1","method":"get","name":"ListScript","parameters":{},"paths":{"/v1/job/scripts":{"get":{"description":"作业脚本列表:自定义脚本\n\nlimit最大为100","operationId":"ListScript","parameters":[{"description":"分页参数:每页返回记录个数限制","format":"int32","in":"query","maximum":100,"minimum":1,"name":"limit","required":true,"type":"integer"},{"description":"分页参数:上一页最后一个记录id","format":"int64","in":"query","maximum":9223372036854775807,"minimum":0,"name":"marker","required":false,"type":"integer"},{"description":"脚本名(模糊)","in":"query","maxLength":32,"minLength":1,"name":"name_like","required":false,"type":"string"},{"description":"创建人","in":"query","maxLength":64,"minLength":1,"name":"creator","required":false,"type":"string"},{"description":"风险等级\nLOW:低风险\nMEDIUM:中风险\nHIGH:高风险","enum":["LOW","MEDIUM","HIGH"],"in":"query","name":"risk_level","required":false,"type":"string"},{"description":"脚本类型\nSHELL:shell脚本\nPYTHON:python脚本\nBAT:Bat脚本","enum":["SHELL","PYTHON","BAT"],"in":"query","name":"type","required":false,"type":"string"},{"description":"企业项目id","in":"query","name":"enterprise_project_id","required":false,"type":"string"},{"description":"租户token","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"国际化标记,zh-cn表示中文,en-us或不传表示英文","in":"header","name":"X-Language","required":false,"type":"string"},{"description":"项目ID,一个项目对应一个region","in":"header","name":"x-project-id","required":false,"type":"string"},{"description":"IAM5.0用户信息","in":"header","name":"x-user-profile","required":false,"type":"string"}],"responses":{"200":{"description":"脚本分页数据","examples":{"application/json":{"data":{"data":[{"creator":"runbook_notif","creator_id":"e56462d17f334b8789ff0b5b9cca3bb9","enterprise_project_id":0,"gmt_created":1701314214271,"id":6229,"name":"测试111","properties":{"reviewers":[],"risk_level":"HIGH","version":"1.0.0"},"script_uuid":"SC20231130111654023511657","status":"APPROVED","type":"SHELL","usage_count":0},{"creator":"runbook_notif","creator_id":"e56462d17f334b8789ff0b5b9cca3bb9","enterprise_project_id":0,"gmt_created":1701314090063,"id":6228,"name":"测试11","properties":{"reviewers":[],"risk_level":"LOW","version":"1.0.0"},"script_uuid":"SC20231130111450026f7f8b2","status":"APPROVED","type":"SHELL","usage_count":0}],"total":70}}},"schema":{"$ref":"#/definitions/ScriptListPageResponse"}},"400":{"description":"包含错误信息","examples":{"application/json":{"error_code":"COC.00040701","error_msg":"error_msg"}},"schema":{"$ref":"#/definitions/ErrorRsp"}}},"summary":"查询脚本列表","tags":["ScriptManagement"],"x-api-type":"open-api","x-apiexplorer-hide":false,"x-is-registered":"Y","x-order":2,"x-support-sdk":"N"}}},"product_short":"COC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询脚本列表","tags":"ScriptManagement","uri":null,"version":"2.0"}