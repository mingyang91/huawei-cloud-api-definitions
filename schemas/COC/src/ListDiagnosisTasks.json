{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"BasicDTO":{"description":"基础请求对象","properties":{"code":{"description":"code","maxLength":64,"minLength":0,"type":"string"},"id":{"description":"id","maxLength":64,"minLength":0,"type":"string"}},"type":"object"},"BasicResponse":{"description":"基础响应对象","properties":{"error_code":{"description":"error_code","maxLength":1024,"minLength":0,"type":"string"},"error_msg":{"description":"error_msg","maxLength":1024,"minLength":0,"type":"string"}},"type":"object"},"DiagnosisTask":{"allOf":[{"$ref":"#/definitions/BasicDTO"},{"properties":{"domain_id":{"description":"诊断记录所属租户ID","maxLength":64,"minLength":0,"type":"string"},"end_time":{"description":"结束时间,遵循RFC3339规范,精确到秒\n示例:2020-09-01T18:50:20Z","maxLength":32,"minLength":0,"type":"string"},"instance_id":{"description":"被诊断的实例ID","maxLength":128,"minLength":0,"type":"string"},"instance_name":{"description":"被诊断的实例名称","maxLength":128,"minLength":0,"type":"string"},"instance_num":{"description":"被诊断实例的数量","format":"int32","maximum":200,"minimum":1,"type":"integer"},"os_type":{"description":"被诊断实例的操作系统类型","maxLength":16,"minLength":0,"type":"string"},"progress":{"description":"诊断进度","format":"int32","maximum":100,"minimum":0,"type":"integer"},"project_id":{"description":"被诊断实例所属项目ID","maxLength":64,"minLength":0,"type":"string"},"region":{"description":"被诊断实例所在区域","maxLength":128,"minLength":0,"type":"string"},"start_time":{"description":"创建时间,遵循RFC3339规范,精确到秒\n示例:2020-09-01T18:50:20Z","maxLength":32,"minLength":0,"type":"string"},"status":{"description":"诊断任务状态执行状态","maxLength":32,"minLength":0,"type":"string"},"type":{"description":"被诊断实例类别,ECS、RDS等","maxLength":64,"minLength":0,"type":"string"},"user_id":{"description":"诊断记录所属用户ID","maxLength":128,"minLength":0,"type":"string"},"user_name":{"description":"诊断记录所属用户名称","maxLength":2048,"minLength":0,"type":"string"},"work_order_id":{"description":"诊断任务工单ID","maxLength":128,"minLength":0,"type":"string"}},"type":"object"}],"description":"诊断记录对象"},"DiagnosisTaskPage":{"allOf":[{"$ref":"#/definitions/Page"},{"properties":{"data":{"description":"data","items":{"$ref":"#/definitions/DiagnosisTask"},"maxItems":1000,"minItems":0,"type":"array"}},"type":"object"}],"description":"诊断记录分页对象"},"DiagnosisTaskResponse":{"allOf":[{"$ref":"#/definitions/BasicResponse"},{"properties":{"data":{"$ref":"#/definitions/DiagnosisTaskPage","description":"data"}},"type":"object"}],"description":"诊断记录"},"Page":{"description":"诊断记录分页查询对象","properties":{"total":{"description":"一共有多少条数据","format":"int32","maximum":1000000,"minimum":0,"type":"integer"}},"type":"object"}},"description":null,"group_id":"82af75d8fb894fc2b06ca4175859ba53","host":"coc.myhuaweicloud.com","id":"ad323778b9604512825fa0babf0196ce","info_version":"v1","method":"get","name":"ListDiagnosisTasks","parameters":{},"paths":{"/v1/diagnosis/tasks":{"get":{"description":"查询诊断记录","operationId":"ListDiagnosisTasks","parameters":[{"allowEmptyValue":true,"description":"诊断任务工单ID","in":"query","maxLength":128,"minLength":0,"name":"task_id","required":false,"type":"string"},{"allowEmptyValue":true,"description":"诊断任务实例类别","enum":["ECS","RDS","DCS","DMS","ELB"],"in":"query","maxLength":64,"minLength":0,"name":"type","required":false,"type":"string"},{"allowEmptyValue":true,"description":"诊断任务执行状态","enum":["cancel","executing","waiting","failed","finish"],"in":"query","maxLength":64,"minLength":0,"name":"status","required":false,"type":"string"},{"allowEmptyValue":true,"description":"被诊断实例所在区域","in":"query","maxLength":128,"minLength":0,"name":"region","required":false,"type":"string"},{"allowEmptyValue":true,"description":"诊断工单创建者","in":"query","maxLength":2048,"minLength":0,"name":"creator","required":false,"type":"string"},{"description":"诊断工单的开始执行时间","format":"int64","in":"query","maximum":9000000000000000,"minimum":0,"name":"start_time","required":false,"type":"integer"},{"description":"诊断工单的执行结束时间","format":"int64","in":"query","maximum":9000000000000000,"minimum":0,"name":"end_time","required":false,"type":"integer"},{"description":"分页查询页索引","format":"int32","in":"query","maximum":10000,"minimum":1,"name":"page_index","required":true,"type":"integer"},{"description":"分页查询页大小","format":"int32","in":"query","maximum":100,"minimum":1,"name":"page_size","required":true,"type":"integer"}],"produces":["application/json"],"responses":{"200":{"description":"正确响应","schema":{"$ref":"#/definitions/DiagnosisTaskResponse"}},"400":{"description":"客户端请求错误响应","schema":{"$ref":"#/definitions/BasicResponse"}},"500":{"description":"服务端错误","schema":{"$ref":"#/definitions/BasicResponse"}}},"summary":"查询诊断记录","tags":["Diagnosis"],"x-api-type":"open-api","x-class-annotations":["@EnableAuth"],"x-iam-auth-meta-anno":{"abacAction":"","authLevel":"INSTANCE","model":"v5","needAbacCheck":false,"needApigwJwtAuthCheck":true,"needCbcCheck":true,"needRbacCheck":true,"opType":"guessByHttpMethod"},"x-iam-auth-param-anno":{"authContextInitializerName":"diagnosisTaskIamAuthContextInitializer"},"x-imports":["com.huawei.clouds.wushan.integration.common.auth.EnableAuth","com.huawei.clouds.wushan.cts.meta.CtsMeta","com.huawei.clouds.wushan.auth.token.meta.BssOpType","com.huawei.clouds.wushan.auth.token.IamAuthLevel","com.huawei.clouds.wushan.auth.token.IamAuthMeta","com.huawei.coc.instance.mgmt.framework.auth.ResourceDiagnosisAuthInitializer"],"x-is-registered":"Y","x-method-annotations":["@IamAuthMeta(needApigwJwtAuthCheck = false, authLevel = IamAuthLevel.INSTANCE, abacAction = \"coc:job:list\", authContextInitializer = ResourceDiagnosisAuthInitializer.class, opType = BssOpType.QUERY,needCbcCheck = false)","@CtsMeta(resourceType = \"diagnosis\", traceName = \"listDiagnosisTasks\", operationId = \"ListDiagnosisTasks\")"],"x-requestHandler":true,"x-responseHandler":true,"x-support-sdk":"Y"}}},"product_short":"COC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询诊断记录","tags":"Diagnosis","uri":null,"version":"2.0"}