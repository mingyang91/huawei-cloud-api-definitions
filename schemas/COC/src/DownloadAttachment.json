{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"BaseResponse":{"description":"--","properties":{"error_code":{"description":"请求响应代码,范围:0000~9999,正常时取值:0","maxLength":20,"minLength":1,"type":"string"},"error_msg":{"description":"请求响应描述","maxLength":10240,"minLength":0,"type":"string"},"provider_code":{"default":4,"description":"服务标识","maxLength":3,"minLength":3,"type":"string"}},"required":["provider_code","error_code"],"type":"object"}},"description":null,"group_id":"82af75d8fb894fc2b06ca4175859ba53","host":"coc.myhuaweicloud.com","id":"86600e44715a4b4587fab4cefc1d1f2f","info_version":"v1","method":"get","name":"DownloadAttachment","parameters":{},"paths":{"/v1/{ticket_type}/attachments/{doc_id}":{"get":{"consumes":["application/json","application/x-www-form-urlencoded","multipart/form-data"],"description":"附件下载操作需基于已上传的附件资源。上传附件时,需调用/v1/{ticket_type}/attachments接口完成上传;成功上传后,可从接口响应中获取doc_id参数。下载附件时,凭借此doc_id再次调用/v1/{ticket_type}/attachments接口,即可获取已上传的对应附件资源,实现附件全生命周期管理。","operationId":"DownloadAttachment","parameters":[{"default":"incident","description":"**参数解释:**\n工单类型,此处传递固定值incident。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","in":"path","maxLength":255,"minLength":1,"name":"ticket_type","required":true,"type":"string"},{"description":"**参数解释:**\n需要下载的文件唯一ID。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","in":"path","maxLength":100,"minLength":1,"name":"doc_id","required":true,"type":"string"}],"responses":{"200":{"description":"请求成功,响应头中Content-Type值为application/octet-stream,表示该接口返回的为文件流。\n更多状态码请参考[状态码](coc_api_05_03.xml)。","schema":{"$ref":"#/definitions/BaseResponse"}},"400":{"description":"服务器未能处理请求。\n更多状态码请参考[状态码](coc_api_05_03.xml)。","examples":{"application/json":{"data":null,"error_code":"GOM.00007256","error_msg":"参数错误","provider_code":"049"}},"schema":{"$ref":"#/definitions/BaseResponse"}}},"summary":"下载附件","tags":["ExternalCocTicket"],"x-access-level":"ReadOnly","x-imports":"com.huawei.globaloperationmgmt.common.enums.GomResourceTypeEnum;com.huawei.clouds.wushan.integration.common.auth.EnableAuth;com.huawei.clouds.wushan.coa.abac.auth.CoaAuth;com.huawei.clouds.wushan.coa.CoaAuthMeta;com.huawei.globaloperationmgmt.common.enums.UserTypeEnum;com.huawei.globaloperationmgmt.common.apos.CoaAuthExtendMeta;com.huawei.globaloperationmgmt.common.apos.AuditLog;com.huawei.clouds.wushan.auth.token.IamAuthMeta;com.huawei.clouds.wushan.auth.token.IamAuthLevel;com.huawei.clouds.wushan.cts.meta.CtsMeta;com.huawei.globaloperationmgmt.common.apos.CtsExtendMeta;com.huawei.globaloperationmgmt.common.apos.QuotaCheck;","x-is-registered":"Y","x-methodAnnotations":["@CoaAuthMeta(action = \"gocm:DownloadAttachment\")","@CoaAuthExtendMeta(userType=UserTypeEnum.MAN_MACHINE_ACCOUNT)","@IamAuthMeta(authLevel = IamAuthLevel.TOKEN, abacAction = \"coc:ticket:downloadFile\", opType = BssOpType.RESOURCE, needApigwJwtAuthCheck = false, authContextInitializer = IAMCustomAuthContextInitializer.class)","@AuditLog(operation = \"gocm:DownloadAttachment\", risk = \"low\", resourceType = GomResourceTypeEnum.ATTACHMENT, resourceId = \"gocm:AttachmentId=#docId\", resourceName = \"#docId\")","@CtsMeta(resourceType = \"Attachment\", traceName = \"downloadFileTicket\", operationId = \"DownloadAttachment\", isReadOnly = true)","@CtsExtendMeta(resourceId = \"#docId\", resourceName = \"#docId\")","@QuotaCheck(needTicketType = true, operateId = \"operate\")"],"x-request-examples-description-1":"下载附件请求示例。","x-request-examples-url-1":"https://{Endpoint}/v1/incident/attachments/c70d6b38-3783-4d62-9c4a-c6924925e848","x-risk-level":"low","x-support-sdk":"Y"}}},"product_short":"COC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"下载附件","tags":"ExternalCocTicket","uri":null,"version":"2.0"}