{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CreateLaunchTemplateRequestBody":{"properties":{"dry_run":{"default":false,"description":"预检,只校验权限等初级信息。","example":false,"type":"boolean"},"launch_template":{"$ref":"#/definitions/LaunchTemplateOption"}},"required":["launch_template"],"type":"object"},"CreateLaunchTemplateResponseBody":{"properties":{"launch_template_id":{"description":"模板id","example":"e6b99563-xxxx-xxxx-xxxx-1820d4fd2a67","type":"string"}},"type":"object"},"LaunchTemplateOption":{"properties":{"description":{"description":"模板描述","example":"this template is used for ...","type":"string","x-ifnull":"hide"},"name":{"description":"模板名称","example":"new-template","type":"string","x-ifnull":"hide"},"template_data":{"$ref":"#/definitions/TemplateData","x-ifnull":"hide"},"version_description":{"description":"初始第一个版本的版本描述","example":"this template version is used for ...","type":"string","x-ifnull":"hide"}},"required":["name"],"type":"object"},"TemplateBandwidthOption":{"properties":{"charge_mode":{"description":"计费类型","enum":["bandwidth","traffic"],"example":"traffic","type":"string","x-ifnull":"hide"},"id":{"description":"带宽ID,创建WHOLE类型带宽的弹性IP时可以指定之前的共享带宽创建","example":"e6b99563-xxxx-xxxx-xxxx-1820d4fd2a67","type":"string","x-ifnull":"hide"},"share_type":{"description":"带宽类型","enum":["PER","WHOLE"],"example":"PER","type":"string","x-ifnull":"hide"},"size":{"description":"带宽大小","example":2,"type":"integer","x-ifnull":"hide"}},"type":"object"},"TemplateBlockDeviceMappingAttachmentOption":{"properties":{"boot_index":{"description":"盘在虚拟机上的挂载顺序,0表示启动盘","example":0,"type":"integer","x-ifnull":"hide"},"delete_on_termination":{"description":"卷是否随实例一同释放 默认系统盘设置为true随实例释放,数据盘设置为false不随实例释放","example":false,"type":"boolean","x-ifnull":"hide"}},"type":"object"},"TemplateBlockDeviceMappingOption":{"properties":{"attachment":{"$ref":"#/definitions/TemplateBlockDeviceMappingAttachmentOption","x-ifnull":"hide"},"cmk_id":{"description":"秘钥ID","example":"e6b99563-xxxx-xxxx-xxxx-1820d4fd2a67","type":"string","x-ifnull":"hide"},"encrypted":{"description":"是否加密","example":false,"type":"boolean","x-ifnull":"hide"},"source_id":{"description":"虚拟机卷数据源类型:blank, image_id","example":"e6b99563-xxxx-xxxx-xxxx-1820d4fd2a67","type":"string","x-ifnull":"hide"},"source_type":{"description":"卷设备源头类型","enum":["blank","image"],"example":"image","type":"string","x-ifnull":"hide"},"volume_size":{"description":"卷大小","example":40,"type":"integer","x-ifnull":"hide"},"volume_type":{"description":"卷类型","example":"SATA","type":"string","x-ifnull":"hide"}},"type":"object"},"TemplateData":{"properties":{"auto_recovery":{"description":"开启自动恢复","example":false,"type":"boolean","x-ifnull":"hide"},"availability_zone_id":{"description":"AZ","example":"az1.dc1","type":"string","x-ifnull":"hide"},"block_device_mappings":{"description":"BDM挂载信息。按flavor限制为准。\n1. 整机镜像,不修改卷属性,按原镜像配置创建。\n2. 整机镜像,修改卷属性,要用户解开填写BDM。\n3. 提供解镜像为BDM接口。","items":{"$ref":"#/definitions/TemplateBlockDeviceMappingOption","x-ifnull":"hide"},"type":"array","x-ifnull":"hide"},"description":{"description":"描述","example":"test server","type":"string","x-ifnull":"hide"},"enterprise_project_id":{"description":"企业项目ID","example":"e6b99563-xxxx-xxxx-xxxx-1820d4fd2a67","type":"string","x-ifnull":"hide"},"flavor_id":{"description":"规格ID","example":"c1.2xlarge.2","type":"string","x-ifnull":"hide"},"internet_access":{"$ref":"#/definitions/TemplateInternetAccessOption","x-ifnull":"hide"},"market_options":{"$ref":"#/definitions/TemplateMarketOptions","x-ifnull":"hide"},"metadata":{"additionalProperties":{"type":"string"},"type":"object","x-huawei-extraAnnotation":"@com.huawei.hwclouds.quasar.common.annotation.constraints.MapValue(minLength=0,maxLength=255) @com.huawei.hwclouds.quasar.common.annotation.constraints.MapKey(regexp=\"^[a-zA-Z0-9-_:. ]{1,255}$\")","x-ifnull":"hide"},"name":{"description":"名称","example":"new-server","type":"string","x-ifnull":"hide"},"network_interfaces":{"items":{"$ref":"#/definitions/TemplateNetworkInterfaceOption","x-ifnull":"hide"},"type":"array","x-ifnull":"hide"},"os_profile":{"$ref":"#/definitions/TemplateOsProfile","x-ifnull":"hide"},"security_group_ids":{"description":"安全组ID列表。全网卡生效。","example":["e6b99563-xxxx-xxxx-xxxx-1820d4fd2a67"],"items":{"type":"string"},"type":"array","x-ifnull":"hide"},"tag_options":{"description":"创建虚拟机标签,目前仅支持给虚拟机打标签,后续会支持同时给相关资源如卷等打标签","items":{"$ref":"#/definitions/TemplateTagOptions"},"maxItems":20,"minItems":0,"type":"array","x-ifnull":"hide"}},"type":"object"},"TemplateInternetAccessOption":{"description":"公网访问","properties":{"publicip":{"$ref":"#/definitions/TemplatePublicIpOption","x-ifnull":"hide"}},"type":"object"},"TemplateMarketOptions":{"description":"计费条件","properties":{"market_type":{"description":"计费类型","enum":["spot","postpaid"],"example":"postpaid","type":"string","x-ifnull":"hide"},"spot_options":{"$ref":"#/definitions/TemplateSpotOptions","x-ifnull":"hide"}},"type":"object"},"TemplateNetworkInterfaceAttachmentOption":{"description":"网络接口,网卡","properties":{"device_index":{"description":"加载顺序, 0代表主网卡","example":0,"type":"integer","x-ifnull":"hide"}},"type":"object"},"TemplateNetworkInterfaceOption":{"description":"网络接口,网卡","properties":{"attachment":{"$ref":"#/definitions/TemplateNetworkInterfaceAttachmentOption","x-ifnull":"hide"},"virsubnet_id":{"description":"子网ID","example":"e6b99563-xxxx-xxxx-xxxx-1820d4fd2a67","type":"string","x-ifnull":"hide"}},"type":"object"},"TemplateOsProfile":{"description":"OS属性","properties":{"enable_monitoring_service":{"description":"开启主机监控服务","example":false,"type":"boolean","x-ifnull":"hide"},"iam_agency_name":{"description":"委托名称。实际需要多委托。","example":"new-agency","type":"string","x-ifnull":"hide"},"key_name":{"description":"秘钥名称","example":"new-key","type":"string","x-ifnull":"hide","x-sensitive":true},"user_data":{"description":"注入脚本,会导致请求过大,影响虚拟机表。1. 和密码的使用冲突 2. 超大文本问题。","example":"XXXXXXXXXXXXXXXX","type":"string","x-ifnull":"hide","x-sensitive":true}},"type":"object"},"TemplatePublicIpOption":{"properties":{"bandwidth":{"$ref":"#/definitions/TemplateBandwidthOption","x-ifnull":"hide"},"charging_mode":{"description":"弹性公网IP计费类型","example":"postPaid","type":"string","x-ifnull":"hide"},"delete_on_termination":{"description":"EIP是否随实例一同释放","example":false,"type":"boolean","x-ifnull":"hide"},"publicip_type":{"description":"弹性公网IP类型","example":"5_bgp","type":"string","x-ifnull":"hide"}},"type":"object"},"TemplateSpotOptions":{"description":"竞价计费信息","properties":{"block_duration_minutes":{"description":"购买的竞价实例时长","example":60,"type":"integer","x-ifnull":"hide"},"instance_interruption_behavior":{"description":"竞价实例中断策略,当前支持immediate","example":"immediate","type":"string","x-ifnull":"hide"},"spot_price":{"description":"用户愿意为竞价实例每小时支付的最高价格","example":3.5,"format":"float","type":"number","x-ifnull":"hide"}},"type":"object"},"TemplateTag":{"description":"标签列表","properties":{"key":{"description":"标签键","example":"tag-key","maxLength":128,"minLength":1,"pattern":"^[^<>\\=\\,\\/\\|\\*\\\\\\x00-\\x1f]*$","type":"string","x-ifnull":"hide"},"value":{"description":"标签值","example":"tag-value","maxLength":255,"minLength":0,"pattern":"^[^<>\\=\\,\\|\\*\\\\\\x00-\\x1f]*$","type":"string","x-ifnull":"hide"}},"type":"object","x-ifnull":"hide"},"TemplateTagOptions":{"description":"标签","properties":{"tags":{"description":"标签列表","items":{"$ref":"#/definitions/TemplateTag"},"maxItems":20,"minItems":0,"type":"array","x-ifnull":"hide"}},"type":"object"}},"description":null,"group_id":"395cf9dd07ff44ddb50f92797b2a85de","host":"ecs.cn-north-4.myhuaweicloud.com","id":"ecb97990ecf34b06923c210c955f885a","info_version":"v2","method":"post","name":"CreateLaunchTemplate","parameters":{"X-Auth-Token":{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."},"project_id":{"description":"项目ID。","in":"path","name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"}},"paths":{"/v3/{project_id}/launch-templates":{"post":{"description":"创建启动模板。将创建一个全新的模板,并自动生成版本号为1的作为默认版本。","operationId":"CreateLaunchTemplate","parameters":[{"$ref":"#/parameters/X-Auth-Token"},{"$ref":"#/parameters/project_id"},{"in":"body","name":"CreateLaunchTemplateRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateLaunchTemplateRequestBody"}}],"responses":{"200":{"description":"执行成功,dryRun返回空结构。","headers":{"X-Request-Id":{"description":"请求id","type":"string"}},"schema":{"$ref":"#/definitions/CreateLaunchTemplateResponseBody"}}},"summary":"创建模板","tags":["模板"],"x-apiexplorer-hide":"false","x-constraint":"- 创建模板暂不支持创建包周期虚拟机创建参数\n- 暂不支持IPV6和driver_mode类型flavor\n- 暂不支持dec/deh和专属存储\n- 该接口不对创建请求参数做存在性和合理性校验","x-first-open-time":"2025-8-30","x-huawei-security":{"pdpKey":"ecs:launchTemplates:create","policyCheck":{"adminRule":"rule:context_is_admin","authRule":"rule:all_admins_or_owner or rule:normal_admin_user_t"}},"x-hybridcloud":"false","x-is-registered":"Y","x-name":"创建模板","x-open-region-cloud":"hc,hk","x-order":109,"x-publishpath":"","x-request-examples-description-1":"","x-request-examples-url-1":"POST https://{endpoint}/v3/{project_id}/launch-templates","x-scope":"Commercial","x-source":"SelfDeveloped","x-support-sdk":"Y","x-version":"v3"}}},"product_short":"ECS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建模板","tags":"模板","uri":null,"version":"2.0"}