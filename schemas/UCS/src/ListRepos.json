{"base_path":null,"components":null,"consumes":"","definitions":{"Artifact":{"properties":{"digest":{"description":"文件摘要,格式为 <算法>:<校验值>","type":"string"},"lastUpdateTime":{"description":"最后更新时间","type":"string"},"path":{"description":"制品的相对文件路径","type":"string"},"revision":{"description":"版本标识符","type":"string"},"size":{"description":"文件大小(以字节为单位)","format":"int32","type":"integer"},"url":{"description":"HTTP地址,可通过该地址下载或访问制品内容","type":"string"}},"type":"object"},"ClusterInfo":{"properties":{"clusterID":{"description":"集群ID","type":"string"},"clusterName":{"description":"集群名称","type":"string"},"clusterPath":{"description":"集群路径","type":"string"}},"type":"object"},"GitRepository":{"properties":{"metadata":{"$ref":"#/definitions/GitRepositoryMetaData","description":"资源的元数据"},"spec":{"$ref":"#/definitions/GitRepositorySpec","description":"Git仓库的配置信息"},"status":{"$ref":"#/definitions/GitRepositoryStatus","description":"Git仓库的状态"}},"type":"object"},"GitRepositoryMetaData":{"properties":{"creationTimestamp":{"description":"创建时间","type":"string"},"finalizers":{"description":"删除前需要执行的清理操作","items":{"type":"string"},"type":"array"},"generation":{"description":"资源的期望状态的代数,每次修改spec会自增","format":"int32","type":"integer"},"managedFields":{"description":"用于跟踪资源字段管理权,记录每个字段的管理者","items":{"$ref":"#/definitions/ManagedFieldsEntry"},"type":"array"},"name":{"description":"仓库名称","type":"string"},"namespace":{"description":"所属命名空间","type":"string"},"resourceVersion":{"description":"资源的内部版本标识,用于并发控制","type":"string"},"uid":{"description":"唯一标识符","type":"string"}},"type":"object"},"GitRepositoryRef":{"properties":{"branch":{"description":"用于指定要检出的Git分支。如果未定义其他字段,则默认检出'master'分支。","type":"string"}},"type":"object"},"GitRepositorySpec":{"properties":{"interval":{"description":"周期性检查仓库更新的时间间隔,格式如 \"1m\" 表示1分钟","type":"string"},"ref":{"$ref":"#/definitions/GitRepositoryRef","description":"用于指定要解析和检出的Git引用"},"secretRef":{"$ref":"#/definitions/LocalObjectReference","description":"包含认证信息的Secret"},"timeout":{"description":"Git 操作(如克隆)的超时时间,默认60秒","type":"string"},"url":{"description":"Git仓库地址","type":"string"}},"type":"object"},"GitRepositoryStatus":{"properties":{"artifact":{"$ref":"#/definitions/Artifact","description":"最近一次成功协调生成的制品"},"conditions":{"description":"GitRepository当前的条件集合,用于表示对象的不同状态","items":{"properties":{},"type":"object"},"type":"array"},"observedGeneration":{"description":"控制器上次处理的GitRepository版本号","format":"int32","type":"integer"}},"type":"object"},"LocalObjectReference":{"properties":{"name":{"description":"被引用资源的名称","type":"string"}},"type":"object"},"ManagedFieldsEntry":{"description":"由API Server自动维护的字段所有权记录,用于Server-Side Apply的冲突检测与字段级并发管理。","properties":{"apiVersion":{"description":"该管理者定义字段时所依据的资源 API 版本","type":"string"},"fieldsType":{"description":"固定为 \"FieldsV1\",标记字段结构格式","type":"string"},"fieldsV1":{"description":"用于存储实际被管理的字段信息","properties":{},"type":"object"},"manager":{"description":"管理者的名称","type":"string"},"operation":{"description":"记录导致此条目创建的操作类型,只能是 Apply 或 Update 两种操作类型","type":"string"},"time":{"description":"此管理条目被创建或最后一次更新的时间戳","type":"string"}},"type":"object"},"RepoResponse":{"properties":{"clusterInfo":{"$ref":"#/definitions/ClusterInfo","description":"集群基本信息"},"gitRepository":{"$ref":"#/definitions/GitRepository","description":"Git仓库信息"},"name":{"description":"仓库名称","type":"string"},"namespace":{"description":"命名空间","type":"string"},"repoStatus":{"description":"仓库状态,包括Health、Failed、Unknown、Progressing","type":"string"},"repoType":{"description":"仓库类型,包括Bucket、HelmChart、GitRepository、HelmRepository,目前仅支持GitRepository","type":"string"},"secretInfo":{"$ref":"#/definitions/SecretInfo","description":"访问仓库的认证信息"},"uid":{"description":"仓库的唯一标识符","type":"string"}},"type":"object"},"RepoResponseList":{"properties":{"items":{"description":"仓库源信息列表","items":{"$ref":"#/definitions/RepoResponse"},"type":"array"},"total":{"description":"所有页的结果的总数","format":"int32","type":"integer"}},"type":"object"},"SecretInfo":{"properties":{"authMode":{"description":"使用的认证模式","type":"string"},"secret":{"description":"存储了实际认证凭据的Secret","properties":{},"type":"object"}},"type":"object"}},"description":null,"group_id":"51968f2e01f5406291357ae9c8b522a0","host":"ucs.myhuaweicloud.com","id":"901f3793a5914011ae8440d75bfa7b58","info_version":"v1","method":"get","name":"ListRepos","parameters":{},"paths":{"/v1/configsets/repos":{"get":{"description":"获取仓库源列表","operationId":"ListRepos","parameters":[{"description":"身份认证信息,调用接口的认证方式分为Token和AK/SK两种,如果您使用的Token方式,此参数为必填,请填写Token的值","in":"header","name":"X-Auth-Token","required":false,"type":"string"},{"description":"集群id","in":"query","name":"clusterid","required":true,"type":"string"},{"description":"分页获取列表时,页的大小,默认为-1","format":"int32","in":"query","name":"limit","required":false,"type":"integer"},{"description":"分页获取列表时,起始偏移量,默认为0","format":"int32","in":"query","name":"offset","required":false,"type":"integer"},{"description":"分页获取列表时,排序参数,支持create_at和update_at,默认create_at:\n- create_at:按创建时间排序\n- update_at:按更新时间排序","in":"query","name":"order_by","required":false,"type":"string","x-api-type":"open-api"},{"description":"分页获取列表时,排序方向,支持desc和asc,默认desc:\n- desc:降序排序\n- asc:升序排序","in":"query","name":"order","required":false,"type":"string","x-api-type":"open-api"}],"responses":{"200":{"description":"获取到的仓库源列表详细信息","examples":{"application/json":{"items":[{"clusterInfo":{},"gitRepository":{"metadata":{"creationTimestamp":"2023-03-16T07:58:56Z","finalizers":["finalizers.fluxcd.io"],"generation":1,"managedFields":[{"apiVersion":"source.toolkit.fluxcd.io/v1beta2","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{".":{},"f:gitImplementation":{},"f:interval":{},"f:ref":{".":{},"f:branch":{}},"f:secretRef":{".":{},"f:name":{}},"f:timeout":{},"f:url":{}}},"manager":"Go-http-client","operation":"Update","time":"2023-03-16T07:58:56Z"},{"apiVersion":"source.toolkit.fluxcd.io/v1beta2","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:finalizers":{".":{},"v:\"finalizers.fluxcd.io\"":{}}},"f:status":{"f:conditions":{}}},"manager":"source-controller","operation":"Update","time":"2023-03-16T07:59:12Z"}],"name":"official-podinfo-repo-06","namespace":"default","resourceVersion":"726499","uid":"2ee7be10-8a01-4f10-ae85-e84dd46146eb"},"spec":{"interval":"1m0s","ref":{"branch":"master"},"secretRef":{"name":"https-ca-credentials"},"timeout":"1m0s","url":"https://github.com/GitHubxsy/podinfo"},"status":{"conditions":[{"lastTransitionTime":"2023-03-16T07:58:56Z","message":"no artifact for resource in storage","observedGeneration":1,"reason":"NoArtifact","status":"True","type":"Reconciling"},{"lastTransitionTime":"2023-03-16T08:14:23Z","message":"failed to checkout and determine revision: unable to fetch-connect to remote 'https://github.com/GitHubxsy/podinfo': Get \"https://github.com/GitHubxsy/podinfo/info/refs?service=git-upload-pack\": dial tcp: lookup github.com on 10.247.3.10:53: read udp 172.17.0.16:60193->10.247.3.10:53: i/o timeout","observedGeneration":1,"reason":"GitOperationFailed","status":"False","type":"Ready"},{"lastTransitionTime":"2023-03-16T08:14:23Z","message":"failed to checkout and determine revision: unable to fetch-connect to remote 'https://github.com/GitHubxsy/podinfo': Get \"https://github.com/GitHubxsy/podinfo/info/refs?service=git-upload-pack\": dial tcp: lookup github.com on 10.247.3.10:53: read udp 172.17.0.16:60193->10.247.3.10:53: i/o timeout","observedGeneration":1,"reason":"GitOperationFailed","status":"True","type":"FetchFailed"}],"observedGeneration":-1}},"name":"official-podinfo-repo-06","namespace":"default","repoType":"GitRepository","secretInfo":{}}],"total":1}},"schema":{"$ref":"#/definitions/RepoResponseList"}},"400":{"description":"客户端请求错误,服务器无法执行请求","schema":{"type":"string"}},"403":{"description":"服务器拒绝执行请求","schema":{"type":"string"}},"500":{"description":"服务器内部错误","schema":{"type":"string"}}},"summary":"获取仓库源列表","tags":["配置管理"],"x-api-type":"open-api","x-is-registered":"Y","x-order":14,"x-support-sdk":"Y"}}},"product_short":"UCS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"获取仓库源列表","tags":"配置管理","uri":null,"version":"2.0"}