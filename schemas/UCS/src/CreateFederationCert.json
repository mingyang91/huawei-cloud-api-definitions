{"base_path":null,"components":null,"consumes":"","definitions":{"AuthInfo":{"description":"用户认证信息","properties":{"client-certificate-data":{"description":"客户端证书","type":"string"},"client-key-data":{"description":"包含来自TLS客户端密钥文件的PEM编码数据","type":"string"},"token":{"description":"身份验证令牌","type":"string"}},"type":"object"},"ClusterCert":{"properties":{"certificate-authority-data":{"description":"证书授权数据","type":"string"},"insecure-skip-tls-verify":{"description":"不校验服务端证书","type":"string"},"server":{"description":"服务器地址","type":"string"}},"type":"object"},"Context":{"description":"上下文信息","properties":{"cluster":{"description":"上下文cluster信息","type":"string"},"user":{"description":"上下文user信息","type":"string"}},"type":"object"},"CreateFederationCertRequestBody":{"description":"下载联邦kubeconfig请求体","properties":{"duration":{"description":"kubeconfig证书有效期,单位为天","format":"int32","maximum":1825,"minimum":1,"type":"integer"},"projectID":{"description":"项目id","type":"string"},"subnetID":{"description":"子网id,必须属于上述vpc","type":"string"},"vpcID":{"description":"VPC id,必须属于上述项目","type":"string"}},"required":["duration","projectID","subnetID","vpcID"],"type":"object"},"KubeConfig":{"properties":{"apiVersion":{"description":"API版本,固定值“v1”,该值不可修改","type":"string"},"clusters":{"description":"集群列表","items":{"$ref":"#/definitions/NamedCluster"},"type":"array"},"contexts":{"description":"上下文列表","items":{"$ref":"#/definitions/NamedContext"},"type":"array"},"current-context":{"description":"当前上下文","type":"string"},"kind":{"description":"API类型,固定值“Config”,该值不可修改","type":"string"},"users":{"description":"存放了指定用户的一些证书信息和ClientKey信息","items":{"$ref":"#/definitions/NamedAuthInfo"},"type":"array"}},"type":"object"},"NamedAuthInfo":{"properties":{"name":{"description":"用户名","type":"string"},"user":{"$ref":"#/definitions/AuthInfo","description":"存放了指定用户的一些证书信息和ClientKey信息"}},"type":"object"},"NamedCluster":{"description":"集群信息","properties":{"cluster":{"$ref":"#/definitions/ClusterCert","description":"集群信息"},"name":{"description":"集群名称","type":"string"}},"type":"object"},"NamedContext":{"description":"上下文","properties":{"context":{"$ref":"#/definitions/Context","description":"上下文信息"},"name":{"description":"上下文的名称","type":"string"}},"type":"object"}},"description":null,"group_id":"51968f2e01f5406291357ae9c8b522a0","host":"ucs.myhuaweicloud.com","id":"1b4c8f7d2e2843acbbdb79c6228a5ede","info_version":"v1","method":"post","name":"CreateFederationCert","parameters":{},"paths":{"/v1/clustergroups/{clustergroupid}/cert":{"post":{"consumes":["application/json"],"description":"舰队开通联邦后,调用此接口,创建vpcep终端节点,连接到联邦apiserver,并下载联邦apiserver的kubeconfig","operationId":"CreateFederationCert","parameters":[{"description":"舰队ID","in":"path","name":"clustergroupid","required":true,"type":"string"},{"description":"下载kubeconfig请求体","in":"body","name":"CreateFederationCertRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateFederationCertRequestBody"}},{"description":"身份认证信息,调用接口的认证方式分为Token和AK/SK两种,如果您使用的Token方式,此参数为必填,请填写Token的值","in":"header","name":"X-Auth-Token","required":false,"type":"string"}],"produces":["application/json"],"responses":{"201":{"description":"kubeconfig文件","examples":{"application/json":{"apiVersion":"v1","clusters":[{"cluster":{"certificate-authority-data":"","server":"https://ip:port"},"name":"cluster-demo"}],"contexts":[{"context":{"cluster":"cluster-demo","user":"user"},"name":"demo"}],"current-context":"demo","kind":"Config","users":[{"name":"user","user":{"client-certificate-data":"","client-key-data":"","token":""}}]}},"schema":{"$ref":"#/definitions/KubeConfig"}}},"summary":"创建联邦网络连接并下载联邦kubeconfig","tags":["容器舰队"],"x-api-type":"open-api","x-is-registered":"Y","x-is-support-cmc":"Y","x-order":14,"x-request-examples-1":{"duration":30,"projectID":"08d44be1ef00d22e2f6fc0061f54a2f1","subnetID":"0de91d89-1e06-4e24-b371-35d5d3d3779b","vpcID":"11c9fe72-5a90-4295-bcfe-774726fb9066"},"x-request-examples-description-1":"创建联邦网络连接并下载联邦kubeconfig","x-request-examples-text-1":{"duration":30,"projectID":"08d44be1ef00d22e2f6fc0061f54a2f1","subnetID":"0de91d89-1e06-4e24-b371-35d5d3d3779b","vpcID":"11c9fe72-5a90-4295-bcfe-774726fb9066"},"x-request-examples-url-1":"POST https://ucs.myhuaweicloud.com/v1/clustergroups/{clustergroupid}/cert","x-support-sdk":"Y"}}},"product_short":"UCS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建联邦网络连接并下载联邦kubeconfig","tags":"容器舰队","uri":null,"version":"2.0"}