{"base_path":null,"components":null,"consumes":"","definitions":{"NodeUpgradeStrategy":{"description":"节点更新策略","properties":{"rollingUpdate":{"$ref":"#/definitions/RollingUpdateNodeUpgradeStrategy","description":"滚动更新"},"type":{"description":"策略类型","type":"string"}},"type":"object"},"RollingUpdateNodeUpgradeStrategy":{"properties":{"deletePolicy":{"description":"删除策略:Random、Oldest、Newest","type":"string"},"maxSurge":{"description":"允许超出期望的最大个数","properties":{},"type":"object"},"maxUnavailable":{"description":"最大不可用个数","properties":{},"type":"object"}},"type":"object"},"UpdateClusterRequestBody":{"properties":{"apiVersion":{"description":"API版本,固定值“v1”,该值不可修改。","type":"string"},"kind":{"description":"API类型,固定值“Cluster”,该值不可修改。","type":"string"},"metadata":{"$ref":"#/definitions/UpdateObjectMeta","description":"集群的基本信息,为集合类的元素类型,包含一组由不同名称定义的属性。"},"spec":{"$ref":"#/definitions/UpdateClusterSpec","description":"spec是集合类的元素类型,您对需要管理的集群对象进行详细描述的主体部分都在spec中给出。UCS通过spec的描述来创建或更新对象。"}},"required":["apiVersion","kind"],"type":"object"},"UpdateClusterSpec":{"properties":{"city":{"description":"集群所在城市信息","type":"string"},"country":{"description":"集群所在国家信息","type":"string"},"workerConfig":{"$ref":"#/definitions/WorkerConfig","description":"工作节点配置,仅支持多云集群"}},"type":"object"},"UpdateObjectMeta":{"description":"Object Meta Data","properties":{"annotations":{"description":"集群标注","properties":{},"type":"object"}}},"WorkerConfig":{"properties":{"replicas":{"description":"节点个数","format":"int32","type":"integer"},"strategy":{"$ref":"#/definitions/NodeUpgradeStrategy","description":"节点更新策略"}},"type":"object"}},"description":null,"group_id":"51968f2e01f5406291357ae9c8b522a0","host":"ucs.myhuaweicloud.com","id":"87037b23e9e042988e7ab6f4c0ee102e","info_version":"v1","method":"put","name":"UpdateCluster","parameters":{},"paths":{"/v1/clusters/{clusterid}":{"put":{"consumes":["application/json"],"description":"更新集群。当前仅允许更新附着集群和本地集群的国家/城市,允许更新多云集群的工作节点个数。","operationId":"UpdateCluster","parameters":[{"description":"集群ID","in":"path","name":"clusterid","required":true,"type":"string"},{"description":"更新集群的信息","in":"body","name":"UpdateClusterRequestBody","required":true,"schema":{"$ref":"#/definitions/UpdateClusterRequestBody"}},{"description":"身份认证信息","in":"header","maxLength":16384,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"集群信息更新成功","examples":{"application/json":{}},"schema":{"type":"object"}},"400":{"description":"客户端请求错误,服务器无法执行请求","schema":{"type":"string"}},"403":{"description":"服务器拒绝执行请求","schema":{"type":"string"}},"500":{"description":"服务器内部错误","schema":{"type":"string"}}},"summary":"更新集群","tags":["UCS集群"],"x-api-type":"open-api","x-apidesigner":3,"x-is-registered":"Y","x-is-support-cmc":"Y","x-order":3,"x-request-examples-1":{"apiVersion":"v1","kind":"Cluster","metadata":{"annotations":{"kubeconfig":"{\"kind\":\"Config\",\"apiVersion\":\"v1\",\"preferences\":{},\"clusters\":[{\"name\":\"internalCluster\",\"cluster\":{\"server\":\"https://ip:5443\",\"insecure-skip-tls-verify\":true}}],\"users\":[{\"name\":\"user\",\"user\":{\"client-certificate-data\":\"\",\"client-key-data\":\"\"}}],\"contexts\":[{\"name\":\"internal\",\"context\":{\"cluster\":\"internalCluster\",\"user\":\"user\"}}],\"current-context\":\"internal\"}"}},"spec":{"city":"AL","country":"AL"}},"x-request-examples-description-1":"更新集群区域","x-request-examples-text-1":{"apiVersion":"v1","kind":"Cluster","metadata":{"annotations":{"kubeconfig":"{\"kind\":\"Config\",\"apiVersion\":\"v1\",\"preferences\":{},\"clusters\":[{\"name\":\"internalCluster\",\"cluster\":{\"server\":\"https://ip:5443\",\"insecure-skip-tls-verify\":true}}],\"users\":[{\"name\":\"user\",\"user\":{\"client-certificate-data\":\"\",\"client-key-data\":\"\"}}],\"contexts\":[{\"name\":\"internal\",\"context\":{\"cluster\":\"internalCluster\",\"user\":\"user\"}}],\"current-context\":\"internal\"}"}},"spec":{"city":"AL","country":"AL"}},"x-request-examples-url-1":"PUT https://ucs.myhuaweicloud.com/v1/clusters/{clusterid}","x-support-sdk":"Y"}}},"product_short":"UCS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"更新集群","tags":"UCS集群","uri":null,"version":"2.0"}