{"base_path":null,"components":null,"consumes":"","definitions":{"APIEnablement":{"properties":{"groupVersion":{"description":"资源组版本","type":"string"},"resources":{"description":"资源类型、名称","items":{"$ref":"#/definitions/APIResource"},"type":"array"}},"type":"object"},"APIResource":{"properties":{"kind":{"description":"资源类别","type":"string"},"name":{"description":"资源名","type":"string"}},"type":"object"},"Cluster":{"properties":{"apiVersion":{"description":"API版本,固定值“v1”,该值不可修改。","type":"string"},"kind":{"description":"API类型,固定值“Cluster”,该值不可修改。","type":"string"},"metadata":{"$ref":"#/definitions/ObjectMeta","description":"集群的基本信息,为集合类的元素类型,包含一组由不同名称定义的属性。"},"spec":{"$ref":"#/definitions/ClusterSpec","description":"spec是集合类的元素类型,您对需要管理的集群对象进行详细描述的主体部分都在spec中给出。UCS通过spec的描述来创建或更新对象。"},"status":{"$ref":"#/definitions/ClusterStatus","description":"集合类的元素类型,用于记录对象在系统中的当前状态信息。"}},"type":"object"},"ClusterList":{"description":"ClusterList包含了成员集群的列表","properties":{"items":{"description":"集群成员的列表","items":{"$ref":"#/definitions/Cluster"},"type":"array"},"total":{"description":"集群总数","type":"integer"}},"required":["items"],"type":"object"},"ClusterSpec":{"properties":{"IsDownloadedCert":{"description":"是否已经下载过证书","type":"boolean"},"apiEndpoint":{"description":"apiserver地址","type":"string"},"category":{"description":"类别","type":"string"},"city":{"description":"城市","type":"string"},"clusterGroupID":{"description":"容器舰队id","type":"string"},"connectProxyEndpoints":{"description":"连接代理服务器的终端节点服务ID列表,仅非华为云集群返回该字段","items":{"$ref":"#/definitions/ConnectEndpoint"},"type":"array"},"country":{"description":"国家","type":"string"},"enableDistMgt":{"description":"CCE Turbo集群是否支持管理边缘基础设施。","type":"boolean"},"insecureSkipTLSVerification":{"description":"是否跳过https校验","type":"boolean"},"manageType":{"description":"集群类型,取值如下:\n- grouped:在舰队中纳管的集群\n- discrete:未加入舰队的集群","type":"string"},"operatorNamespace":{"description":"集群所属domainID","type":"string"},"policyId":{"description":"策略管理id","type":"string"},"projectID":{"description":"项目id","type":"string"},"projectName":{"description":"项目名","type":"string"},"provider":{"description":"提供商","type":"string"},"proxyURL":{"description":"代理链接","type":"string"},"region":{"description":"区域","type":"string"},"ruleNamespaces":{"description":"集群包含的RuleNamespace列表","items":{"$ref":"#/definitions/RuleNamespace"},"type":"array"},"secretRef":{"$ref":"#/definitions/LocalSecretReference","description":"访问集群的secret信息"},"syncMode":{"description":"集群和karmada控制面之间的同步模式","type":"string"},"taints":{"description":"污点","items":{"$ref":"#/definitions/Taint"},"type":"array"},"type":{"description":"类型","type":"string"},"zone":{"description":"地区","type":"string"}},"type":"object"},"ClusterStatus":{"properties":{"apiEnablements":{"description":"开启的资源列表","items":{"$ref":"#/definitions/APIEnablement"},"type":"array"},"arrearFreeze":{"description":"欠费冻结","type":"string"},"conditions":{"description":"conditions信息","items":{"$ref":"#/definitions/ConditionStatus"},"type":"array"},"endpoints":{"description":"端点","properties":{},"type":"object"},"kubernetesVersion":{"description":"kubernetes版本","type":"string"},"message":{"description":"上次状态转换的详细信息","type":"string"},"nodeSummary":{"$ref":"#/definitions/NodeSummary","description":"节点统计信息"},"phase":{"description":"阶段状态信息","type":"string"},"policeFreeze":{"description":"公安冻结","type":"string"},"reason":{"description":"表述上次状况变化的原因","type":"string"},"resourceSummary":{"$ref":"#/definitions/ResourceSummary","description":"资源统计信息"}},"type":"object"},"ConditionStatus":{"description":"type为Ready,表示集群是否可用;type为Cluster,表示集群的网络连接状态;type为Federation,表示集群的联邦状态。","properties":{"lastTransitionTime":{"description":"上次状态更新的时间","format":"date-time","type":"string"},"message":{"description":"状态信息","type":"string"},"observedgeneration":{"description":"状态对象的版本","format":"int32","type":"integer"},"reason":{"description":"状态原因","type":"string"},"status":{"description":"状态","type":"string"},"type":{"description":"状态类型","type":"string"}},"type":"object"},"ConnectEndpoint":{"description":"连接网关信息","properties":{"id":{"description":"资源id,当type是VPCEP时为VPCEP Service的id","type":"string"},"name":{"description":"资源名称,当type是VPCEP时为VPCEP Service的名称","type":"string"},"region":{"description":"资源所在的region","type":"string"},"type":{"description":"取值:当前仅支持 VPCEP","type":"string"}},"type":"object"},"LocalSecretReference":{"description":"LocalSecretReference里面包含了访问成员集群的必需凭据的secret信息。例如:- secret.data.token; - secret.data.caBundle。","properties":{"name":{"description":"资源名称","type":"string"},"namespace":{"description":"资源的命名空间","type":"string"}},"required":["Name","NameSpace"]},"ManagedFieldsEntry":{"description":"由API Server自动维护的字段所有权记录,用于Server-Side Apply的冲突检测与字段级并发管理。","properties":{"apiVersion":{"description":"该管理者定义字段时所依据的资源 API 版本","type":"string"},"fieldsType":{"description":"固定为 \"FieldsV1\",标记字段结构格式","type":"string"},"fieldsV1":{"description":"用于存储实际被管理的字段信息","properties":{},"type":"object"},"manager":{"description":"管理者的名称","type":"string"},"operation":{"description":"记录导致此条目创建的操作类型,只能是 Apply 或 Update 两种操作类型","type":"string"},"time":{"description":"此管理条目被创建或最后一次更新的时间戳","type":"string"}},"type":"object"},"NodeSummary":{"properties":{"readyNum":{"description":"集群中已就绪节点的数量。","format":"int32","type":"integer"},"totalNum":{"description":"集群中所有节点的个数。","format":"int32","type":"integer"}},"type":"object"},"ObjectMeta":{"description":"ObjectMeta是Kubernetes中所有持久化资源必须包含的元数据结构","properties":{"annotations":{"additionalProperties":{"type":"string"},"description":"注解","type":"object"},"creationTimestamp":{"description":"创建时间","type":"string"},"generateName":{"description":"当未提供name时,服务器使用的前缀来生成唯一名称","type":"string"},"generation":{"description":"资源期望状态的代数","type":"string"},"labels":{"additionalProperties":{"type":"string"},"description":"标签","type":"object"},"managedFields":{"description":"记录哪些字段由哪些工作流管理","items":{"$ref":"#/definitions/ManagedFieldsEntry"},"type":"array"},"name":{"description":"资源名称","type":"string"},"namespace":{"description":"命名空间","type":"string"},"ownerReferences":{"description":"用于定义对象间所有权关系,管理对象的依赖关系和垃圾回收机制,支持控制器对资源的管理","items":{"$ref":"#/definitions/OwnerReference"},"type":"array"},"resourceVersion":{"description":"资源内部版本","type":"string"},"uid":{"description":"资源ID","type":"string"},"updateTimestamp":{"description":"更新时间","type":"string"}},"type":"object"},"OwnerReference":{"description":"用于在Kubernetes中标识一个拥有者对象,它提供了足够的信息来识别和关联资源之间的所有权关系","properties":{"apiVersion":{"description":"标识引用对象的API版本","type":"string"},"blockOwnerDeletion":{"description":"当为true且拥有者有名为\"foregroundDeletion\"的finalizer 时,会阻止拥有者被删除,直到这个引用被移除","type":"boolean"},"controller":{"description":"如果为true,表示该引用指向管理该资源的控制器","type":"boolean"},"kind":{"description":"引用对象的类型","type":"string"},"name":{"description":"引用对象的名称","type":"string"},"uid":{"description":"引用对象的uid","type":"string"}},"type":"object"},"ResourceSummary":{"description":"ResourceSummary 表示成员集群中的资源汇总。","properties":{"allocatable":{"additionalProperties":{"properties":{},"type":"object"},"description":"可分配的资源","type":"object"},"allocated":{"additionalProperties":{"properties":{},"type":"object"},"description":"已分配的资源","type":"object"},"allocating":{"additionalProperties":{"properties":{},"type":"object"},"description":"分配中的资源","type":"object"},"capacity":{"additionalProperties":{"properties":{},"type":"object"},"description":"资源总量","type":"object"}},"type":"object"},"RuleInfo":{"properties":{"ruleID":{"description":"权限策略id","type":"string"},"ruleName":{"description":"权限策略名字","type":"string"}},"type":"object"},"RuleNamespace":{"properties":{"namespaces":{"description":"命名空间列表","items":{"type":"string"},"type":"array"},"rules":{"description":"权限策略列表","items":{"$ref":"#/definitions/RuleInfo"},"type":"array"}},"type":"object"},"Taint":{"properties":{"effect":{"description":"effect信息","type":"string"},"key":{"description":"键","type":"string"},"timeadded":{"description":"时间戳信息","format":"date-time","type":"string"},"value":{"description":"值","type":"string"}},"required":["Key"]}},"description":null,"group_id":"51968f2e01f5406291357ae9c8b522a0","host":"ucs.myhuaweicloud.com","id":"ef1beac5c63d4648a5b3c04e93ad9dfb","info_version":"v1","method":"get","name":"ShowClusterList","parameters":{},"paths":{"/v1/clusters":{"get":{"consumes":["application/json"],"description":"获取集群信息列表","operationId":"ShowClusterList","parameters":[{"description":"获取特定category的集群。","in":"query","name":"category","required":false,"type":"string"},{"description":"是否获取集群的资源信息。不填或者填写为true为获取集群资源汇总信息,置为false为不获取集群状态信息;缺省值为true","in":"query","name":"enablestatus","required":false,"type":"boolean"},{"description":"身份认证信息,调用接口的认证方式分为Token和AK/SK两种,如果您使用的Token方式,此参数为必填,请填写Token的值","in":"header","maxLength":16384,"minLength":1,"name":"X-Auth-Token","required":false,"type":"string"},{"description":"容器舰队ID。不填会返回用户所有集群,填了之后会返回属于该容器舰队的集群。","in":"query","name":"clustergroupid","required":false,"type":"string"},{"description":"分页获取列表时,页的大小,默认为-1","format":"int32","in":"query","name":"limit","required":false,"type":"integer"},{"description":"分页获取列表时,起始偏移量,默认为0","format":"int32","in":"query","name":"offset","required":false,"type":"integer"},{"description":"分页获取列表时,排序参数,支持 create_at 和 update_at","in":"query","name":"order_by","required":false,"type":"string"},{"description":"分页获取列表时,排序方向,支持 desc 和 asc","in":"query","name":"order","required":false,"type":"string"},{"description":"获取集群列表时,根据集群类型筛选,不传参时默认为 all ,支持 all ,grouped,discrete 三种类型。\n- grouped:在舰队中纳管的集群\n- discrete:未加入舰队的集群\n- all:所有集群","in":"query","name":"managetype","required":false,"type":"string"},{"description":"集群ID。多个ID以英文逗号分隔。","in":"query","name":"clusterids","required":false,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"获取所有集群信息","examples":{"application/json":{"items":[{"apiVersion":"v1","kind":"Cluster","metadata":{"creationTimestamp":"2023-11-02T06:36:14Z","labels":{"FeatureGates":"elbv3,SupportClientCertificateRevocation,xGPU"},"name":"test-cluster","uid":"b0d1ecb5-7947-11ee-9467-0255ac1001bf"},"spec":{"IsDownloadedCert":false,"category":"self","city":"150900","clusterGroupID":"bffbb35b-7949-11ee-886c-0255ac100037","connectProxyEndpoints":[{"id":"5fc05258-f125-48f5-8a0a-a724a37f5ff1","name":"cn-north-4.5fc05258-f125-48f5-8a0a-a724a37f5ff1","region":"cn-north-4","type":"VPCEP"}],"country":"CN","manageType":"grouped","operatorNamespace":"2cd7ebd02e4743eba4e6342c09e49344","projectID":"b6315dd3d0ff4be5b31a963256794989","projectName":"cn-north-4","provider":"huaweicloud","region":"cn-north-4","syncMode":"","type":"cce"},"status":{"arrearFreeze":"false","conditions":[{"lastTransitionTime":"2023-11-27T11:05:09+08:00","reason":"ClusterAvailable","status":"True","type":"Ready"},{"lastTransitionTime":"2023-11-27T11:05:09+08:00","reason":"ClusterAvailable","status":"Available","type":"Cluster"},{"lastTransitionTime":"2023-11-14T14:31:58.744215+08:00","status":"Federalized","type":"Federation"}],"endpoints":[{"type":"Internal","url":"https://192.168.1.251:5443"}],"kubernetesVersion":"v1.25","phase":"Available","policeFreeze":"false"}}],"total":1}},"schema":{"$ref":"#/definitions/ClusterList"}},"400":{"description":"客户端请求错误,服务器无法执行请求","schema":{"type":"string"}},"403":{"description":"服务器拒绝执行请求","schema":{"type":"string"}},"500":{"description":"服务器内部错误","schema":{"type":"string"}}},"summary":"获取集群列表","tags":["UCS集群"],"x-api-type":"open-api","x-apidesigner":1,"x-is-registered":"Y","x-is-support-cmc":"Y","x-order":0,"x-support-sdk":"Y"}}},"product_short":"UCS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"获取集群列表","tags":"UCS集群","uri":null,"version":"2.0"}