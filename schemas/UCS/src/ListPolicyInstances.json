{"base_path":null,"components":null,"consumes":"","definitions":{"Constraint":{"properties":{"apiVersion":{"description":"API版本","type":"string"},"kind":{"description":"API类型","type":"string"},"metadata":{"$ref":"#/definitions/ObjectMeta","description":"资源元数据"},"spec":{"$ref":"#/definitions/ConstraintSpec","description":"约束的详细信息"}},"type":"object"},"ConstraintSpec":{"properties":{"enforcementAction":{"description":"策略执行行为,当前支持warn和deny","type":"string"},"match":{"$ref":"#/definitions/Match","description":"匹配列表"},"parameters":{"description":"可变参数","properties":{},"type":"object"}},"type":"object"},"ManagedFieldsEntry":{"description":"由API Server自动维护的字段所有权记录,用于Server-Side Apply的冲突检测与字段级并发管理。","properties":{"apiVersion":{"description":"该管理者定义字段时所依据的资源 API 版本","type":"string"},"fieldsType":{"description":"固定为 \"FieldsV1\",标记字段结构格式","type":"string"},"fieldsV1":{"description":"用于存储实际被管理的字段信息","properties":{},"type":"object"},"manager":{"description":"管理者的名称","type":"string"},"operation":{"description":"记录导致此条目创建的操作类型,只能是 Apply 或 Update 两种操作类型","type":"string"},"time":{"description":"此管理条目被创建或最后一次更新的时间戳","type":"string"}},"type":"object"},"Match":{"properties":{"kinds":{"description":"生效类型,当前预置,填写不会生效","items":{"$ref":"#/definitions/ResourceKinds"},"type":"array"},"namespaces":{"description":"生效的命名空间","items":{"type":"string"},"type":"array"}},"type":"object"},"ObjectMeta":{"description":"ObjectMeta是Kubernetes中所有持久化资源必须包含的元数据结构","properties":{"annotations":{"additionalProperties":{"type":"string"},"description":"注解","type":"object"},"creationTimestamp":{"description":"创建时间","type":"string"},"generateName":{"description":"当未提供name时,服务器使用的前缀来生成唯一名称","type":"string"},"generation":{"description":"资源期望状态的代数","type":"string"},"labels":{"additionalProperties":{"type":"string"},"description":"标签","type":"object"},"managedFields":{"description":"记录哪些字段由哪些工作流管理","items":{"$ref":"#/definitions/ManagedFieldsEntry"},"type":"array"},"name":{"description":"资源名称","type":"string"},"namespace":{"description":"命名空间","type":"string"},"ownerReferences":{"description":"用于定义对象间所有权关系,管理对象的依赖关系和垃圾回收机制,支持控制器对资源的管理","items":{"$ref":"#/definitions/OwnerReference"},"type":"array"},"resourceVersion":{"description":"资源内部版本","type":"string"},"uid":{"description":"资源ID","type":"string"},"updateTimestamp":{"description":"更新时间","type":"string"}},"type":"object"},"OwnerReference":{"description":"用于在Kubernetes中标识一个拥有者对象,它提供了足够的信息来识别和关联资源之间的所有权关系","properties":{"apiVersion":{"description":"标识引用对象的API版本","type":"string"},"blockOwnerDeletion":{"description":"当为true且拥有者有名为\"foregroundDeletion\"的finalizer 时,会阻止拥有者被删除,直到这个引用被移除","type":"boolean"},"controller":{"description":"如果为true,表示该引用指向管理该资源的控制器","type":"boolean"},"kind":{"description":"引用对象的类型","type":"string"},"name":{"description":"引用对象的名称","type":"string"},"uid":{"description":"引用对象的uid","type":"string"}},"type":"object"},"ResourceKinds":{"properties":{"apiGroups":{"description":"资源所属的API组","items":{"type":"string"},"type":"array"},"kinds":{"description":"资源类型","items":{"type":"string"},"type":"array"}},"type":"object"},"StatusEvent":{"properties":{"firstTimestamp":{"description":"拦截事件首次发生时间","type":"string"},"message":{"description":"拦截事件详细信息","type":"string"},"resourceKind":{"description":"拦截事件资源类型","type":"string"},"resourceName":{"description":"拦截事件资源名称","type":"string"},"resourceNamespace":{"description":"拦截事件资源命名空间,如果没有则为空","type":"string"}},"type":"object"},"StatusViolation":{"properties":{"enforcementAction":{"description":"审计行为","type":"string"},"kind":{"description":"违规资源类型","type":"string"},"message":{"description":"详细违规信息","type":"string"},"name":{"description":"违规资源名称","type":"string"},"namespace":{"description":"违规资源所在命名空间","type":"string"}},"type":"object"},"UCSConstraint":{"properties":{"apiVersion":{"description":"API版本","type":"string"},"kind":{"description":"API类型","type":"string"},"metadata":{"$ref":"#/definitions/ObjectMeta","description":"资源元数据"},"spec":{"$ref":"#/definitions/UCSConstraintSpec","description":"约束的具体规范"},"status":{"$ref":"#/definitions/UCSConstraintStatus","description":"约束的当前状态"}},"type":"object"},"UCSConstraintList":{"properties":{"apiVersion":{"description":"API版本","type":"string"},"items":{"description":"策略实例列表","items":{"$ref":"#/definitions/UCSConstraint"},"type":"array"},"kind":{"description":"API类型","type":"string"}},"type":"object"},"UCSConstraintSpec":{"properties":{"constraint":{"$ref":"#/definitions/Constraint","description":"Constraint对象"},"constraintTemplateID":{"description":"约束模板ID","type":"string"},"domainID":{"description":"用户的domainID","type":"string"},"targetID":{"description":"策略实例下发对象,当前为clusterID或clustergroupID","type":"string"},"targetScope":{"description":"策略实例下发范围,当前cluster和fleet二选一","type":"string"}},"type":"object"},"UCSConstraintStatus":{"properties":{"violations":{"items":{"$ref":"#/definitions/UCSStatusViolation"},"type":"array"}},"type":"object"},"UCSStatusViolation":{"properties":{"auditTimestamp":{"description":"审计时间","type":"string"},"clusterEvents":{"description":"拦截事件列表","items":{"$ref":"#/definitions/StatusEvent"},"type":"array"},"clusterID":{"description":"进行审计的集群ID","type":"string"},"clusterViolations":{"description":"违规状态列表","items":{"$ref":"#/definitions/StatusViolation"},"type":"array"},"warnEvents":{"description":"告警事件列表","items":{"$ref":"#/definitions/StatusEvent"},"type":"array"}},"type":"object"}},"description":null,"group_id":"51968f2e01f5406291357ae9c8b522a0","host":"ucs.myhuaweicloud.com","id":"f9108e798844453cbd2b9524b892c50a","info_version":"v1","method":"get","name":"ListPolicyInstances","parameters":{},"paths":{"/v1/policyinstances":{"get":{"description":"获取策略实例列表","operationId":"ListPolicyInstances","parameters":[{"description":"身份认证信息,调用接口的认证方式分为Token和AK/SK两种,如果您使用的Token方式,此参数为必填,请填写Token的值","in":"header","name":"X-Auth-Token","required":false,"type":"string"}],"responses":{"200":{"description":"策略实例列表","examples":{"application/json":{"items":[{"apiVersion":"constraints.gatekeeper.sh/v1beta1","kind":"K8sPSPVolumeTypes","metadata":{"creationTimestamp":"2024-01-15 02:28:26.986054 +0000 UTC","name":"k8spspvolumetypes-lmjw9v","uid":"c38ecd83-b34d-11ee-a9a6-0255ac10004d","updateTimestamp":"2024-01-15 02:28:26.986054 +0000 UTC"},"spec":{"constraint":{"apiVersion":"constraints.gatekeeper.sh/v1beta1","kind":"K8sPSPVolumeTypes","metadata":{"name":"k8spspvolumetypes-lmjw9v"},"spec":{"enforcementAction":"deny","match":{"kinds":[{"kinds":["Pod"]}],"namespaces":["default"]},"parameters":{"volumes":["22"]}}},"constraintTemplateID":"26b13a89-cefa-11ed-9f2c-0255ac10003c","domainID":"05495693d180d3c90f9ec0171879f760","targetID":"9c819dca-9a81-11ee-b1ab-0255ac100040","targetScope":"fleet"},"status":{}}]}},"schema":{"$ref":"#/definitions/UCSConstraintList"}},"400":{"description":"客户端请求错误,服务器无法执行请求","schema":{"type":"string"}},"500":{"description":"服务器内部错误","schema":{"type":"string"}}},"summary":"获取策略实例列表","tags":["策略管理"],"x-api-type":"open-api","x-is-registered":"Y","x-order":3,"x-support-sdk":"Y"}}},"product_short":"UCS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"获取策略实例列表","tags":"策略管理","uri":null,"version":"2.0"}