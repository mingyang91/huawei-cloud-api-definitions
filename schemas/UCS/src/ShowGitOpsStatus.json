{"base_path":null,"components":null,"consumes":"","definitions":{"ContainerStatus":{"description":"描述容器当前状态","properties":{"image":{"description":"容器运行的镜像名称","type":"string"},"imageID":{"description":"容器运行的镜像ID","type":"string"},"lastState":{"description":"上次终止时的状态","type":"string"},"name":{"description":"容器的唯一名称","type":"string"},"ready":{"description":"容器是否通过就绪检查","type":"boolean"},"restartCount":{"description":"容器重启次数","format":"int32","type":"integer"},"started":{"description":"容器是否已经成功启动并进入稳定运行阶段","type":"string"},"state":{"description":"当前容器状态","properties":{},"type":"object"}},"type":"object"},"ListMeta":{"properties":{"continue":{"description":"表示当前请求返回的结果是否还有下一页数据","type":"string"},"remainingItemCount":{"description":"表示在当前响应之后,列表中还有多少项未被包含进来","type":"string"},"resourceVersion":{"description":"服务器内部版本标识符","type":"string"}},"type":"object"},"ManagedFieldsEntry":{"description":"由API Server自动维护的字段所有权记录,用于Server-Side Apply的冲突检测与字段级并发管理。","properties":{"apiVersion":{"description":"该管理者定义字段时所依据的资源 API 版本","type":"string"},"fieldsType":{"description":"固定为 \"FieldsV1\",标记字段结构格式","type":"string"},"fieldsV1":{"description":"用于存储实际被管理的字段信息","properties":{},"type":"object"},"manager":{"description":"管理者的名称","type":"string"},"operation":{"description":"记录导致此条目创建的操作类型,只能是 Apply 或 Update 两种操作类型","type":"string"},"time":{"description":"此管理条目被创建或最后一次更新的时间戳","type":"string"}},"type":"object"},"ObjectMeta":{"description":"ObjectMeta是Kubernetes中所有持久化资源必须包含的元数据结构","properties":{"annotations":{"additionalProperties":{"type":"string"},"description":"注解","type":"object"},"creationTimestamp":{"description":"创建时间","type":"string"},"generateName":{"description":"当未提供name时,服务器使用的前缀来生成唯一名称","type":"string"},"generation":{"description":"资源期望状态的代数","type":"string"},"labels":{"additionalProperties":{"type":"string"},"description":"标签","type":"object"},"managedFields":{"description":"记录哪些字段由哪些工作流管理","items":{"$ref":"#/definitions/ManagedFieldsEntry"},"type":"array"},"name":{"description":"资源名称","type":"string"},"namespace":{"description":"命名空间","type":"string"},"ownerReferences":{"description":"用于定义对象间所有权关系,管理对象的依赖关系和垃圾回收机制,支持控制器对资源的管理","items":{"$ref":"#/definitions/OwnerReference"},"type":"array"},"resourceVersion":{"description":"资源内部版本","type":"string"},"uid":{"description":"资源ID","type":"string"},"updateTimestamp":{"description":"更新时间","type":"string"}},"type":"object"},"OwnerReference":{"description":"用于在Kubernetes中标识一个拥有者对象,它提供了足够的信息来识别和关联资源之间的所有权关系","properties":{"apiVersion":{"description":"标识引用对象的API版本","type":"string"},"blockOwnerDeletion":{"description":"当为true且拥有者有名为\"foregroundDeletion\"的finalizer 时,会阻止拥有者被删除,直到这个引用被移除","type":"boolean"},"controller":{"description":"如果为true,表示该引用指向管理该资源的控制器","type":"boolean"},"kind":{"description":"引用对象的类型","type":"string"},"name":{"description":"引用对象的名称","type":"string"},"uid":{"description":"引用对象的uid","type":"string"}},"type":"object"},"Pod":{"properties":{"metadata":{"$ref":"#/definitions/ObjectMeta","description":"Pod对象元数据"},"spec":{"$ref":"#/definitions/PodSpec","description":"Pod的期望状态"},"status":{"$ref":"#/definitions/PodStatus","description":"Pod的实际状态"}},"type":"object"},"PodList":{"properties":{"items":{"description":"Pod列表","items":{"$ref":"#/definitions/Pod"},"type":"array"},"metadata":{"$ref":"#/definitions/ListMeta","description":"列表元数据"}},"type":"object"},"PodSpec":{"description":"PodSpec 是 Kubernetes 中描述 Pod 的核心数据结构","properties":{"activeDeadlineSeconds":{"description":"Pod在节点上的最大存活时间","format":"int32","type":"integer"},"automountServiceAccountToken":{"description":"是否自动挂载ServiceAccount的令牌","type":"boolean"},"containers":{"description":"Pod中的主要容器列表","items":{"properties":{},"type":"object"},"type":"array"},"dnsPolicy":{"description":"DNS策略","type":"string"},"enableServiceLinks":{"description":"服务信息是否注入到Pod的环境变量中","type":"boolean"},"nodeName":{"description":"指定Pod应该调度到的节点","type":"string"},"nodeSelector":{"additionalProperties":{"type":"string"},"description":"节点选择器,用于指定Pod可以调度到哪些节点","type":"object"},"preemptionPolicy":{"description":"抢占优先级策略","type":"string"},"priority":{"description":"Pod 的优先级","format":"int32","type":"integer"},"restartPolicy":{"description":"容器失败后的重启策略","type":"string"},"schedulerName":{"description":"指定使用的调度器","type":"string"},"securityContext":{"description":"Pod级别的安全上下文","properties":{},"type":"object"},"serviceAccount":{"description":"提供向后兼容的旧版ServiceAccount字段","type":"string"},"serviceAccountName":{"description":"运行此Pod所使用的ServiceAccount名称","type":"string"},"terminationGracePeriodSeconds":{"description":"容器终止前的优雅退出时间","format":"int32","type":"integer"},"tolerations":{"description":"容器容忍的污点列表","items":{"$ref":"#/definitions/Toleration"},"type":"array"},"volumes":{"description":"定义 Pod 可以挂载的存储卷列表","items":{"properties":{},"type":"object"},"type":"array"}},"type":"object"},"PodStatus":{"description":"用于表示 Pod 状态信息","properties":{"containerStatuses":{"description":"容器的状态列表","items":{"$ref":"#/definitions/ContainerStatus"},"type":"array"},"hostIP":{"description":"Pod所在主机的IP地址","type":"string"},"phase":{"description":"表示Pod的生命周期状态,有 5 种取值:\n- Pending:Pod 已被接受但尚未完全就绪\n- Running:Pod 已绑定到节点且至少有一个容器在运行\n- Succeeded:Pod 中所有容器都已成功终止,且不会被重启\n- Failed:Pod 中至少一个容器失败终止\n- Unknown:无法获取 Pod 状态","type":"string","x-api-type":"open-api"},"startTime":{"description":"记录Pod被Kubelet认可的时间","type":"string"}},"type":"object"},"Toleration":{"description":"用于定义 Kubernetes Pod对Taint(污点)的容忍规则","properties":{"effect":{"description":"指定要匹配的污点效果,可选值为 NoSchedule、PreferNoSchedule或NoExecute,如果为空,表示匹配所有效果","type":"string"},"key":{"description":"表示要容忍的污点键名","type":"string"},"operator":{"description":"定义Key与Value之间的关系,可选值为Exists或Equal,默认为Equal","type":"string"},"tolerationSeconds":{"description":"仅对NoExecute效果有效,表示Pod能容忍污点的时间","format":"int32","type":"integer"},"value":{"description":"表示要匹配的污点值,当Operator为Exists时,Value应为空","type":"string"}},"type":"object"}},"description":null,"group_id":"51968f2e01f5406291357ae9c8b522a0","host":"ucs.myhuaweicloud.com","id":"cebcc35b6d5c4986961ab12890efb9cc","info_version":"v1","method":"get","name":"ShowGitOpsStatus","parameters":{},"paths":{"/v1/clusters/{clusterid}/gitops":{"get":{"description":"获取gitops启用进展","operationId":"ShowGitOpsStatus","parameters":[{"description":"集群id","in":"path","name":"clusterid","required":true,"type":"string"},{"description":"身份认证信息,调用接口的认证方式分为Token和AK/SK两种,如果您使用的Token方式,此参数为必填,请填写Token的值","in":"header","name":"X-Auth-Token","required":false,"type":"string"}],"responses":{"200":{"description":"获取到GitOps组件Pod信息","examples":{"application/json":{"items":[{"metadata":{"annotations":{"prometheus.io/port":"8080","prometheus.io/scrape":"true"},"creationTimestamp":"2025-11-05T03:48:06Z","generateName":"source-controller-97bdcd8cf-","labels":{"app":"source-controller","pod-template-hash":"97bdcd8cf","release":"cceaddon-flux"},"managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","manager":"kube-controller-manager","operation":"Update","time":"2025-11-05T03:48:06Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","manager":"kubelet","operation":"Update","time":"2025-11-05T03:48:06Z"}],"name":"source-controller-97bdcd8cf-5fs52","namespace":"flux-system","ownerReferences":[{"apiVersion":"apps/v1","blockOwnerDeletion":true,"controller":true,"kind":"ReplicaSet","name":"source-controller-97bdcd8cf","uid":"4093b4f6-97db-41a7-9bc9-2855f12418a9"}],"resourceVersion":"5273585","uid":"590c9359-5812-49f2-9dd2-779ba0737f4b"},"spec":{"automountServiceAccountToken":true,"containers":[],"dnsPolicy":"ClusterFirst","enableServiceLinks":true,"nodeName":"192.168.0.138","preemptionPolicy":"PreemptLowerPriority","priority":0,"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{"fsGroup":10000,"runAsUser":10000,"seccompProfile":{"type":"Unconfined"}},"serviceAccount":"source-controller","serviceAccountName":"source-controller","terminationGracePeriodSeconds":10,"tolerations":[{"effect":"NoExecute","key":"node.kubernetes.io/not-ready","operator":"Exists","tolerationSeconds":300},{"effect":"NoExecute","key":"node.kubernetes.io/unreachable","operator":"Exists","tolerationSeconds":300}],"volumes":[]},"status":{"containerStatuses":[{"image":"xxxxxx","imageID":"","lastState":{},"name":"manager","ready":false,"started":false,"state":{"waiting":{"reason":"ContainerCreating"}}}],"hostIP":"192.168.0.138","phase":"Pending","startTime":"2025-11-05T03:48:06Z"}}],"metadata":{}}},"schema":{"$ref":"#/definitions/PodList"}},"400":{"description":"客户端请求错误,服务器无法执行请求","schema":{"type":"string"}},"404":{"description":"资源不存在","schema":{"type":"string"}},"500":{"description":"服务器内部错误","schema":{"type":"string"}}},"summary":"获取gitops启用进展","tags":["UCS集群"],"x-api-type":"open-api","x-is-registered":"Y","x-order":19,"x-support-sdk":"Y"}}},"product_short":"UCS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"获取gitops启用进展","tags":"UCS集群","uri":null,"version":"2.0"}