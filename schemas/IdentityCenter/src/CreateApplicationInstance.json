{"base_path":null,"components":{"parameters":{"InstanceId":{"allowEmptyValue":false,"description":"IAM Identity Center实例的全局唯一标识符(ID)","in":"path","name":"instance_id","required":true,"schema":{"pattern":"^[a-zA-Z0-9-]{1,64}$","type":"string"}},"SecurityTokenHeader":{"description":"如果正在使用临时安全凭据,则此header是必需的,该值是临时安全凭据的安全令牌(会话令牌)。","in":"header","name":"X-Security-Token","required":false,"schema":{"readOnly":true,"type":"string"}}},"schemas":{"ApplicationInstanceDto":{"description":"应用程序实例","properties":{"active_certificate":{"$ref":"#/components/schemas/CertificateDto","description":"已激活的证书"},"application_instance_id":{"description":"应用程序实例唯一标识ID","type":"string"},"client_id":{"description":"OIDC Client ID","type":"string"},"display":{"$ref":"#/components/schemas/DisplayDto","description":"应用程序显示信息"},"end_user_visible":{"description":"用户是否可见","type":"boolean"},"identity_provider_config":{"$ref":"#/components/schemas/IdentityProviderConfigDto","description":"身份提供商配置信息"},"managed_account":{"description":"组员所属账号ID","type":"string"},"name":{"description":"应用程序UUID","type":"string"},"response_config":{"$ref":"#/components/schemas/ResponseConfigDto","description":"应用程序属性配置信息"},"response_schema_config":{"$ref":"#/components/schemas/ResponseSchemaConfigDto","description":"应用程序Schema属性映射配置信息"},"security_config":{"$ref":"#/components/schemas/SecurityConfigDto","description":"证书配置信息"},"service_provider_config":{"$ref":"#/components/schemas/ServiceProviderConfigDto","description":"服务提供商配置信息"},"status":{"description":"应用程序实例状态","enum":["CREATED","ENABLED"],"type":"string"},"template":{"$ref":"#/components/schemas/ApplicationTemplateDto","description":"应用程序所依赖模板信息"},"visible":{"description":"应用程序在门户是否可见","type":"boolean"}},"required":["active_certificate","display","identity_provider_config","application_instance_id","name","visible","response_config","response_schema_config","security_config","status","template","service_provider_config"],"type":"object"},"ApplicationTemplateDisplayDto":{"description":"应用程序模板显示信息","properties":{"application_id":{"description":"应用程序Id,以app-为前缀","type":"string"},"application_type":{"description":"应用程序类型","type":"string"},"display":{"$ref":"#/components/schemas/DisplayDto","description":"应用程序显示信息"}},"required":["application_id","display"],"type":"object"},"ApplicationTemplateDto":{"description":"应用程序模板","properties":{"application":{"$ref":"#/components/schemas/ApplicationTemplateDisplayDto","description":"应用程序模板显示信息"},"response_config":{"$ref":"#/components/schemas/ResponseConfigDto","description":"应用程序属性配置信息"},"response_schema_config":{"$ref":"#/components/schemas/ResponseSchemaConfigDto","description":"应用程序属性映射配置信息"},"security_config":{"$ref":"#/components/schemas/SecurityConfigDto","description":"证书配置信息"},"service_provider_config":{"$ref":"#/components/schemas/ServiceProviderConfigDto","description":"服务提供商配置信息"},"sso_protocol":{"description":"支持的协议","type":"string"},"template_id":{"description":"应用程序模板唯一标识ID","type":"string"},"template_version":{"description":"应用程序模板版本","type":"string"}},"required":["application","response_config","response_schema_config","sso_protocol","security_config","service_provider_config","template_id","template_version"],"type":"object"},"CertificateDto":{"description":"应用程序证书","properties":{"algorithm":{"description":"证书生成算法","type":"string"},"certificate":{"description":"应用程序证书","type":"string"},"certificate_id":{"description":"应用程序证书Id","type":"string"},"expiry_date":{"description":"证书过期时间","format":"int64","type":"integer"},"issue_date":{"description":"证书生成时间","format":"int64","type":"integer"},"key_size":{"description":"密钥大小","type":"string"},"status":{"description":"证书状态","enum":["ACTIVE","INACTIVE"],"type":"string"}},"required":["algorithm","certificate","certificate_id","expiry_date","status","key_size","issue_date"],"type":"object"},"ConsumersDto":{"description":"SAML响应接收方","properties":{"binding":{"description":"SAML传输协议","pattern":"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST","type":"string","x-api-type":"open-api"},"default_value":{"description":"是否是默认接收方","type":"boolean"},"location":{"description":"SAML ACS Url","maxLength":512,"minLength":1,"pattern":"^http(s)?:\\\\/\\\\/[-a-zA-Z0-9+&@#\\\\/%?=~_|!:,.;]*[-a-zA-Z0-9+&bb@#\\\\/%?=~_|]","type":"string"}},"required":["binding","default_value","location"],"type":"object"},"CreateApplicationInstanceReqBody":{"description":"CreateApplicationInstance的请求体","properties":{"name":{"description":"应用程序实例UUID","pattern":"^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$","type":"string"},"template_id":{"description":"应用程序模板Id","pattern":"^tpl-[a-zA-Z0-9]{16}$","type":"string"}},"required":["name","template_id"],"type":"object"},"CreateApplicationInstanceResp":{"description":"CreateApplicationInstance的响应体","properties":{"application_instance":{"$ref":"#/components/schemas/ApplicationInstanceDto","description":"应用程序实例"}},"required":["application_instance"],"type":"object"},"DisplayDto":{"description":"应用程序显示信息","properties":{"description":{"description":"应用程序描述","type":"string"},"display_name":{"description":"应用程序显示名称","type":"string"},"icon":{"description":"应用程序图标","type":"string"}},"required":["description","display_name"],"type":"object"},"ErrorResp":{"properties":{"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误信息","type":"string"},"request_id":{"description":"请求唯一标识","type":"string"}},"required":["error_code","error_msg","request_id"],"type":"object"},"ForbiddenErrorResp":{"properties":{"encoded_authorization_message":{"description":"加密的错误信息","type":"string"},"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误信息","type":"string"},"request_id":{"description":"请求唯一标识","type":"string"}},"required":["error_code","error_msg","request_id"],"type":"object"},"IdentityProviderConfigDto":{"description":"身份提供商","properties":{"issuer_url":{"description":"身份提供商issuer","type":"string"},"metadata_url":{"description":"身份提供商元数据","type":"string"},"remote_login_url":{"description":"身份提供商远程登录链接","type":"string"},"remote_logout_url":{"description":"身份提供商远程登出链接","type":"string"}},"required":["issuer_url","metadata_url","remote_login_url","remote_logout_url"],"type":"object"},"ResponseConfigDto":{"description":"联邦配置","properties":{"properties":{"additionalProperties":{"$ref":"#/components/schemas/ResponseSourceDetailsDto"},"description":"额外添加的属性映射配置","example":"","type":"object"},"relay_state":{"description":"中继状态","maxLength":320,"minLength":1,"pattern":"[a-zA-Z0-9&$@#\\\\\\/%?=~\\-_'\"|!:,.;*+\\[\\]\\ \\(\\)\\{\\}]+","type":"string"},"subject":{"$ref":"#/components/schemas/ResponseSourceDetailsDto","description":"Subject属性映射配置"},"ttl":{"description":"会话过期时间","pattern":"^PT(1|2|4|8|12)H$","type":"string"}},"required":["ttl"],"type":"object"},"ResponseSchemaConfigDto":{"description":"应用程序Schema属性映射配置","properties":{"properties":{"additionalProperties":{"$ref":"#/components/schemas/ResponseSchemaPropertiesDetailsDto"},"description":"额外添加的属性映射Schema配置","example":"","type":"object"},"subject":{"$ref":"#/components/schemas/ResponseSchemaSubjectDetailsDto","description":"Subject属性映射Schema配置"},"supported_name_id_formats":{"description":"应用程序支持的Subject NameID格式","items":{"type":"string"},"type":"array"}},"required":["subject"],"type":"object"},"ResponseSchemaPropertiesDetailsDto":{"description":"联邦Schema配置额外属性详细信息","properties":{"attr_name_format":{"description":"额外添加的属性的格式","pattern":"urn:oasis:names:tc:SAML:2\\.0:attrname-format:(unspecified|uri|basic)","type":"string","x-api-type":"open-api"},"include":{"description":"是否包含额外属性","enum":["YES"],"type":"string","x-api-type":"open-api"}},"required":["attr_name_format","include"],"type":"object"},"ResponseSchemaSubjectDetailsDto":{"description":"联邦Schema配置Subject属性详细信息","properties":{"include":{"description":"是否包含NameID","enum":["REQUIRED"],"type":"string","x-api-type":"open-api"},"name_id_format":{"description":"NameID的格式","pattern":"urn:oasis:names:tc:SAML:(1\\.1:nameid-format:emailAddress|1\\.1:nameid-format:unspecified|2\\.0:nameid-format:persistent|2\\.0:nameid-format:transient)","type":"string","x-api-type":"open-api"}},"required":["name_id_format","include"],"type":"object"},"ResponseSourceDetailsDto":{"description":"联邦配置属性映射详细信息","properties":{"source":{"description":"属性映射值","items":{"maxLength":320,"minLength":1,"pattern":"^[\\S\\s]*$","type":"string"},"type":"array"}},"required":["source"],"type":"object"},"SecurityConfigDto":{"description":"证书安全配置","properties":{"ttl":{"description":"证书过期时间","pattern":"^P(6|9|12|24|36|48|60)M$|^P(1|2|3|4|5)Y$","type":"string"}},"required":["ttl"],"type":"object"},"ServiceProviderConfigDto":{"description":"服务提供商","properties":{"audience":{"description":"SAML受众","maxLength":512,"minLength":1,"pattern":"[-a-zA-Z0-9&$@#\\/%?=~_'|!:,.;*+\\[\\]]+","type":"string"},"consumers":{"description":"SAML响应接收方","items":{"$ref":"#/components/schemas/ConsumersDto"},"type":"array"},"require_request_signature":{"description":"是否需要签名","type":"boolean"},"start_url":{"description":"应用程序启动Url","maxLength":512,"minLength":1,"pattern":"^http(s)?:\\/\\/[-a-zA-Z0-9+&@#\\/%?=~_|!:,.;]*[-a-zA-Z0-9+&bb@#\\/%?=~_|]","type":"string"}},"required":["audience","consumers"],"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"6bf6e83e0b6f4ca3b3b3b36f4e761067","host":"identitycenter.myhuaweicloud.com","id":"080ffdde48604a7e997dcc188a6c1f47","info_version":"v1","method":"post","name":"CreateApplicationInstance","parameters":null,"paths":{"/v1/instances/{instance_id}/application-instances":{"post":{"description":"创建应用程序实例。此操作只能由组织的管理账号或作为服务委托管理员的成员账号调用。","operationId":"CreateApplicationInstance","parameters":[{"$ref":"#/components/parameters/SecurityTokenHeader"},{"$ref":"#/components/parameters/InstanceId"}],"requestBody":{"content":{"application/json":{"example":{"name":"a689ebed-1b68-44b0-af97-xxxxx","template_id":"tpl-88f215b39bfcxxxx"},"schema":{"$ref":"#/components/schemas/CreateApplicationInstanceReqBody"}}},"required":true},"responses":{"201":{"content":{"application/json":{"example":{"application_instance":{"active_certificate":{"algorithm":"SHA256withRSA","certificate":"certificate","certificate_id":"cer-ea56cf20-4ec3-445a-883f-eb70f35fe7d1","expiry_date":1911427200000,"issue_date":1753695145064,"key_size":"3072","status":"ACTIVE"},"application_instance_id":"app-ins-a033c907016a59ae","client_id":null,"display":{"description":"Custom SAML 2.0 application","display_name":"Custom SAML 2.0 application","icon":""},"end_user_visible":null,"identity_provider_config":{"issuer_url":"https://idcenter.ulanqab.huawei.com/v1/saml/assertion/OGMxZWVmM2EyNDE5NDVmNjljM2QzYTZiMDI1MmU3ODNfZC05NDE0MDdiNGIzX2FwcC1pbnMtYTAzM2M5MDcwMTZhNTlhZQ==","metadata_url":"https://idcenter.ulanqab.huawei.com/v1/saml/metadata/OGMxZWVmM2EyNDE5NDVmNjljM2QzYTZiMDI1MmU3ODNfZC05NDE0MDdiNGIzX2FwcC1pbnMtYTAzM2M5MDcwMTZhNTlhZQ==","remote_login_url":"https://idcenter.ulanqab.huawei.com/v1/saml/assertion/OGMxZWVmM2EyNDE5NDVmNjljM2QzYTZiMDI1MmU3ODNfZC05NDE0MDdiNGIzX2FwcC1pbnMtYTAzM2M5MDcwMTZhNTlhZQ==","remote_logout_url":"https://idcenter.ulanqab.huawei.com/v1/saml/logout/OGMxZWVmM2EyNDE5NDVmNjljM2QzYTZiMDI1MmU3ODNfZC05NDE0MDdiNGIzX2FwcC1pbnMtYTAzM2M5MDcwMTZhNTlhZQ=="},"managed_account":"8c1eef3a241945f69c3d3a6b0252e783","name":"a689ebed-1b68-44b0-af97-0be880c30127","response_config":{"properties":{},"relay_state":null,"subject":null,"ttl":"PT1H"},"response_schema_config":{"properties":{},"subject":null,"supported_name_id_formats":null},"security_config":{"ttl":"P5Y"},"service_provider_config":{"audience":null,"consumers":null,"require_request_signature":false,"start_url":null},"status":"CREATED","template":{"application":{"application_id":"app-ff1258a63a4axxxx","application_type":"","display":{"description":"Custom SAML 2.0 application","display_name":"Custom SAML 2.0 application","icon":""}},"response_config":{"properties":{},"relay_state":null,"subject":null,"ttl":"PT1H"},"response_schema_config":{"properties":{},"subject":null,"supported_name_id_formats":null},"security_config":{"ttl":null},"service_provider_config":{"audience":null,"consumers":null,"require_request_signature":false,"start_url":null},"sso_protocol":"SAML","template_id":"tpl-88f215b39bfc7575","template_version":"1"},"visible":true}},"schema":{"$ref":"#/components/schemas/CreateApplicationInstanceResp"}}},"description":"Successful"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResp"}}},"description":"Bad request"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorResp"}}},"description":"Forbidden"},"409":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResp"}}},"description":"Conflict"}},"security":[{"AccessKeyAuth":[]}],"summary":"创建应用程序实例","tags":["Application"],"x-api-service-plane":"Control-plane","x-api-type":"open-api","x-is-registered":"Y","x-request-examples-1":{"name":"a689ebed-1b68-44b0-af97-xxxxx","template_id":"tpl-88f215b39bfcxxxx"},"x-request-examples-description-1":"创建应用程序实例","x-request-examples-text-1":{"name":"a689ebed-1b68-44b0-af97-xxxxx","template_id":"tpl-88f215b39bfcxxxx"},"x-request-examples-url-1":"POST https://{hostname}/v1/instances/{instance_id}/application-instances","x-support-sdk":"Y"}}},"product_short":"IdentityCenter","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建应用程序实例","tags":"应用程序管理","uri":null,"version":"3.0.3"}