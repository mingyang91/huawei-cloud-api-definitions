{"base_path":"/","components":null,"consumes":"","definitions":{"BuildStageRecord":{"description":"构建步骤","properties":{"build_duration":{"description":"子任务构建耗时","example":381,"type":"integer"},"build_record_id":{"description":"构建记录ID","example":"cb73dd66-c44a-4b41-aaf3-11d8076dd39d","type":"string"},"create_time":{"description":"创建时间","example":"2024-08-12T02:31:01+0800","type":"string"},"display_name":{"description":"步骤名称","example":"执行shell命令","type":"string"},"duration":{"description":"构建时长","example":44381,"type":"integer"},"execution_id":{"description":"八爪鱼任务ID","example":"j_z0R4wuT4","type":"string"},"execution_stage_name":{"description":"步骤名称","example":"stage3","type":"string"},"finish_time":{"description":"结束时间","example":"2024-08-12T02:31:01+0800","type":"string"},"id":{"description":"步骤编号","example":"62f6fe70-0da2-47e2-ada9-1a4b6b7b1f97","type":"string"},"log_status":{"description":"日志状态","example":null,"type":"string"},"node_id":{"description":"节点ID","example":81,"type":"integer"},"pending_duration":{"description":"等待时间","example":44000,"type":"integer"},"queued_time":{"description":"构建排队耗时","example":"2024-08-12T02:31:01+0800","type":"string"},"schedule_time":{"description":"构建下发时间","example":"2024-08-12T02:31:01+0800","type":"string"},"sequence":{"description":"序号","example":null,"type":"integer"},"start_time":{"description":"开始时间","example":"2024-08-12T02:31:01+0800","type":"string"},"status":{"description":"步骤状态","example":"SUCCESS","type":"string"},"status_code":{"description":"状态码","example":5,"type":"integer"}},"type":"object"},"ErrorResponseBody":{"properties":{"error_code":{"description":"错误码","example":"CB.00060200","type":"string"},"error_msg":{"description":"错误描述","example":"Invalid param","type":"string"}},"type":"object"},"FullStages":{"properties":{"error":{"description":"错误","type":"object"},"result":{"description":"结果","properties":{"build_stages":{"additionalProperties":{"$ref":"#/definitions/BuildStageRecord"},"description":"构建步骤","type":"object"}},"type":"object"},"status":{"description":"状态","example":"success","type":"string"}},"title":"full-stages","type":"object"}},"description":null,"group_id":"50626d0f704e4af3adfd875e2acffcb6","host":"cloudbuild-ext.cn-north-4.myhuaweicloud.com","id":"d11e98b2b44e4e38ab36ff323fb79df6","info_version":"v3","method":"get","name":"ShowBuildRecordFullStages","parameters":{"Record_Id":{"description":"记录ID,36位数字、小写字母、'-'组组合。","in":"path","name":"record_id","pattern":"^[0-9a-z-]{36}$","required":true,"type":"string","x-example":"2cc26382-b2cb-4234-8eb0-b37d362f4d4c"}},"paths":{"/v1/record/{record_id}/full-stages":{"get":{"deprecated":false,"description":"获取任务各阶段信息","operationId":"ShowBuildRecordFullStages","parameters":[{"$ref":"#/parameters/Record_Id"},{"description":"是否联级获取steps","in":"query","name":"cascade","required":false,"type":"boolean"}],"produces":["application/json;charset=UTF-8"],"responses":{"200":{"description":"OK","examples":{"application/json":null,"error":null,"result":{"build_stages":{"final":{"build_duration":0,"build_record_id":"94baa8ec-fd3f-4cae-81af-b24385a7220f","create_time":"2024-09-24T03:18:49.000+00:00","display_name":"final","duration":0,"execution_id":"j_fDyt05ip","execution_stage_name":"final","finish_time":"2024-09-24T03:18:59.000+00:00","id":"ad40acdf-4ec9-4998-a425-5b32778d6e06","log_status":null,"node_id":null,"pending_duration":0,"queued_time":"2024-09-24T03:18:49.000+00:00","schedule_time":"2024-09-24T03:18:49.000+00:00","sequence":4,"start_time":"2024-09-24T03:18:49.000+00:00","status":"ABORTED","status_code":8},"initial":{"build_duration":9000,"build_record_id":"94baa8ec-fd3f-4cae-81af-b24385a7220f","create_time":"2024-09-24T03:18:49.000+00:00","display_name":"initial","duration":10000,"execution_id":"j_fDyt05ip","execution_stage_name":"initial","finish_time":"2024-09-24T03:18:59.000+00:00","id":"a2866f49-76f6-4aa1-b26b-f91b2f95e2e7","log_status":null,"node_id":9,"pending_duration":1000,"queued_time":"2024-09-24T03:18:50.000+00:00","schedule_time":"2024-09-24T03:18:49.000+00:00","sequence":0,"start_time":"2024-09-24T03:18:51.000+00:00","status":"ABORTED","status_code":8},"stage1":{"build_duration":0,"build_record_id":"94baa8ec-fd3f-4cae-81af-b24385a7220f","create_time":"2024-09-24T03:18:49.000+00:00","display_name":"Cache Check","duration":0,"execution_id":"j_fDyt05ip","execution_stage_name":"stage1","finish_time":"2024-09-24T03:18:59.000+00:00","id":"c42a2957-df7e-4304-a759-3e4d02c456ed","log_status":null,"node_id":null,"pending_duration":0,"queued_time":"2024-09-24T03:18:49.000+00:00","schedule_time":"2024-09-24T03:18:49.000+00:00","sequence":1,"start_time":"2024-09-24T03:18:49.000+00:00","status":"ABORTED","status_code":8},"stage2":{"build_duration":0,"build_record_id":"94baa8ec-fd3f-4cae-81af-b24385a7220f","create_time":"2024-09-24T03:18:49.000+00:00","display_name":"Code CheckOut","duration":0,"execution_id":"j_fDyt05ip","execution_stage_name":"stage2","finish_time":"2024-09-24T03:18:59.000+00:00","id":"03cb8420-29c0-42d5-91bf-ff65e101f165","log_status":null,"node_id":null,"pending_duration":0,"queued_time":"2024-09-24T03:18:49.000+00:00","schedule_time":"2024-09-24T03:18:49.000+00:00","sequence":2,"start_time":"2024-09-24T03:18:49.000+00:00","status":"ABORTED","status_code":8},"stage3":{"build_duration":0,"build_record_id":"94baa8ec-fd3f-4cae-81af-b24385a7220f","create_time":"2024-09-24T03:18:49.000+00:00","display_name":"Maven","duration":0,"execution_id":"j_fDyt05ip","execution_stage_name":"stage3","finish_time":"2024-09-24T03:18:59.000+00:00","id":"d8e3269e-ba5b-46eb-bd57-32e99dcacdf2","log_status":null,"node_id":null,"pending_duration":0,"queued_time":"2024-09-24T03:18:49.000+00:00","schedule_time":"2024-09-24T03:18:49.000+00:00","sequence":3,"start_time":"2024-09-24T03:18:49.000+00:00","status":"ABORTED","status_code":8}},"check_stages":null},"status":"success"},"schema":{"$ref":"#/definitions/FullStages"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/ErrorResponseBody"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/ErrorResponseBody"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponseBody"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/ErrorResponseBody"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/ErrorResponseBody"}}},"security":[{"apig-auth-iam":[]}],"summary":"获取任务各阶段信息","tags":["RecordManager"],"x-api-type":"open-api","x-apigateway-ratelimit":"ten_120_min","x-internel":"false","x-is-registered":"Y","x-request-examples-url-1":"GET https://{endpoint}/v1/record/901878212b1a49be9c1a1054c272762a/full-stages","x-support-sdk":"Y"}}},"product_short":"CodeArtsBuild","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"APP":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-app-optional":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-opt":{"access-auth-type":"optional"},"x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-iam-none":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM_NONE"}},"summary":"获取任务各阶段信息","tags":"构建记录","uri":null,"version":"2.0"}