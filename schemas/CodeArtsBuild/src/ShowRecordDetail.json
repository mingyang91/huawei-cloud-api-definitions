{"base_path":"/","components":null,"consumes":"","definitions":{"ErrorResponseBody":{"properties":{"error_code":{"description":"错误码","example":"CB.00060200","type":"string"},"error_msg":{"description":"错误描述","example":"Invalid param","type":"string"}},"type":"object"},"RecordInfo2":{"properties":{"error":{"description":"错误","type":"object"},"result":{"description":"结果","properties":{"branch":{"description":"仓库分支","type":"string"},"build_config_type":{"description":"构建配置类型,YAML或ACTION","type":"string"},"build_no":{"description":"构建编号","type":"integer"},"build_project_id":{"description":"构建工程ID,唯一对应codeci_job_id","type":"string"},"build_record_id":{"description":"构建记录ID","type":"string"},"build_type":{"description":"构建类型","type":"string"},"codeci_job_id":{"description":"codeci任务ID,唯一对应build_project_id","type":"string"},"commit":{"description":"仓库commit ID","type":"string"},"commit_create_time":{"description":"commit创建时间","type":"string"},"commit_message":{"description":"仓库commit提交信息","type":"string"},"create_time":{"description":"任务创建时间","type":"string"},"daily_build_num":{"description":"每日构建编号,每日从1开始","type":"string"},"devcloud_project_id":{"description":"项目ID","type":"string"},"domain_id":{"description":"租户ID","type":"string"},"duration":{"description":"构建时长","type":"integer"},"err_msg":{"description":"错误信息","type":"string"},"execution_id":{"description":"八爪鱼任务ID","type":"string"},"finish_time":{"description":"构建结束时间","type":"string"},"id":{"description":"id","type":"string"},"parent_record_id":{"description":"父构建记录ID","type":"string"},"queued_time":{"description":"构建排队耗时","type":"string"},"record_status":{"description":"record状态","type":"string"},"region":{"description":"租户所在region","type":"string"},"repo_id":{"description":"仓库id","type":"string"},"repo_name":{"description":"仓库名称","type":"string"},"runnable_time":{"description":"八爪鱼真正开始构建时间","type":"string"},"schedule_time":{"description":"构建下发耗时","type":"string"},"start_time":{"description":"开始构建时间","type":"string"},"status":{"description":"构建状态","type":"string"},"tag":{"description":"仓库tag","type":"string"},"trigger_type":{"description":"触发类型","type":"string"},"use_private_slave":{"description":"是否使用自定义执行机","type":"integer"},"user_id":{"description":"用户ID","type":"string"}},"type":"object"},"status":{"description":"状态","type":"string"}},"title":"RecordInfo","type":"object"}},"description":null,"group_id":"50626d0f704e4af3adfd875e2acffcb6","host":"cloudbuild-ext.cn-north-4.myhuaweicloud.com","id":"561c91c8b87a4353948da03ee5bc3e00","info_version":"v3","method":"get","name":"ShowRecordDetail","parameters":{"Build_No":{"default":1,"description":"构建任务的构建编号,从1开始,每次构建递增1","format":"int32","in":"path","maximum":2147483647,"minimum":1,"name":"build_no","required":true,"type":"integer","x-example":1},"Job_Id":{"description":"构建的任务ID;\n编辑构建任务时,浏览器URL末尾的32位数字、字母组合的字符串。","in":"path","name":"job_id","pattern":"^[0-9a-z]{32}$","required":true,"type":"string","x-example":"901878212b1a49be9c1a1054c272762a"},"X-Auth-Token":{"description":"用户Token。\n通过调用IAM服务接口获取\n(响应消息头中X-Subject-Token的值)。\n不支持租户全局token,请使用scope为project的region级token。","in":"header","maxLength":100000,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."}},"paths":{"/v4/jobs/{job_id}/{build_no}/record-info":{"get":{"deprecated":false,"description":"获取构建记录信息","operationId":"ShowRecordDetail","parameters":[{"$ref":"#/parameters/X-Auth-Token"},{"$ref":"#/parameters/Job_Id"},{"$ref":"#/parameters/Build_No"}],"produces":["application/json;charset=UTF-8"],"responses":{"200":{"description":"OK","examples":{"application/json":{"result":{"branch":"buildflow_env","build_config_type":"YAML","build_no":532,"build_project_id":"31581e9f-5772-4053-a50c-d5690578c8fd","build_record_id":"9d6169b9-022d-458c-9dc8-48cc94cc4083","build_type":"branch","codeci_job_id":"68491d9bc97b4774adb93e29b46d2dc6","commit":null,"commit_create_time":"2022-10-11T08:28:42.000+00:00","commit_message":null,"create_time":"2022-10-11T08:28:42.000+00:00","daily_build_num":"20221011.29","devcloud_project_id":"b4d3971c3988463b865f6f920846149e","domain_id":"60021bab32fd450aa2cb89226f425e06","duration":100068,"err_msg":null,"execution_id":"j_YE1bu9Z7","finish_time":"2022-10-11T08:30:27.000+00:00","id":"eb9d73c7-61b3-4823-b476-a7c00c493b8a","parent_record_id":null,"queued_time":"2022-10-11T08:28:45.000+00:00","record_status":null,"region":"cn-north-7","repo_id":"2111616838","repo_name":"maven","runnable_time":"2022-10-11T08:16:04.000+00:00","schedule_time":"2022-10-11T08:28:45.000+00:00","start_time":"2022-10-11T08:28:47.000+00:00","status":"SUCCESS","tag":null,"trigger_type":"MANUAL","use_private_slave":0,"user_id":"ae22fd035f354cfa8d82a3f1c8940446"},"status":"success"}},"schema":{"$ref":"#/definitions/RecordInfo2"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/ErrorResponseBody"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/ErrorResponseBody"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponseBody"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/ErrorResponseBody"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/ErrorResponseBody"}}},"security":[{"apig-auth-iam":[]}],"summary":"获取构建记录信息","tags":["CodeArtsBuild"],"x-api-type":"open-api","x-apigateway-ratelimit":"cloudbuild_ext","x-internel":"false","x-is-registered":"Y","x-request-examples-url-1":"GET https://{endpoint}/v4/jobs/cb5fa20de5fd4cf8be681d4bd6fdd2f6/61/record-info","x-support-sdk":"Y"}}},"product_short":"CodeArtsBuild","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"APP":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-app-optional":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-opt":{"access-auth-type":"optional"},"x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-iam-none":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM_NONE"}},"summary":"获取构建记录信息","tags":"编译构建","uri":null,"version":"2.0"}