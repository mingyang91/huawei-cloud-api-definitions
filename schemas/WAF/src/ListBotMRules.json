{"base_path":"/","components":null,"consumes":"","definitions":{"BotMBehaviorDetectionRule":{"description":"**参数解释:**\nBotM行为检测规则包含的信息,关联行为检测的基础规则与防护策略。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","properties":{"defense_strategy":{"$ref":"#/definitions/BotMDefenseStrategy","description":"**参数解释:**\n行为检测规则对应的防护策略,定义不同风险等级的防护动作。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及"},"rule":{"$ref":"#/definitions/BotMRule","description":"**参数解释:**\n行为检测规则对应的规则信息,定义行为检测的基础配置(如规则名称、状态等)。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及"}},"type":"object"},"BotMDefenseLevel":{"description":"**参数解释:**\nBotM防护策略中的某一个防护等级,包含分数门限和对应防护动作\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","properties":{"defense_action":{"description":"**参数解释:**\n该防护等级对应的防护动作ID,如101表示拦截、102表示放行等\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","format":"int32","type":"integer"},"threshold":{"description":"**参数解释:**\n该防护等级对应的分数门限,触发当前防护等级的风险分数阈值\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","format":"int32","type":"integer"}},"type":"object"},"BotMDefenseStrategy":{"properties":{"high":{"$ref":"#/definitions/BotMDefenseLevel","description":"**参数解释:**\n防护等级high,高风险等级对应的防护配置。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及"},"low":{"$ref":"#/definitions/BotMDefenseLevel","description":"**参数解释:**\n防护等级low,低风险等级对应的防护配置。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及"},"medium":{"$ref":"#/definitions/BotMDefenseLevel","description":"**参数解释:**\n防护等级medium,中风险等级对应的防护配置。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及"}},"type":"object"},"BotMRule":{"description":"**参数解释:**\nBotM规则包含的信息,定义单条BotM规则的配置与状态。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","properties":{"category":{"description":"**参数解释:**\n规则所属类别,标识规则的一级分类(如0表示基础检测类)。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","example":0,"format":"int32","type":"integer"},"created_time":{"description":"**参数解释:**\n规则创建的时间,时间戳(毫秒级)。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","example":0,"format":"int64","type":"integer"},"defense_action":{"description":"**参数解释:**\n规则对应的防护动作,标识触发规则后执行的动作(如0表示放行)。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","example":0,"format":"int32","type":"integer"},"description":{"description":"**参数解释:**\n规则描述,对当前BotM规则的功能说明。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","example":"string","type":"string"},"features":{"description":"**参数解释:**\n规则列表,当前BotM规则包含的具体检测特征。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","items":{"type":"string"},"type":"array"},"id":{"description":"**参数解释:**\n规则ID,唯一标识当前BotM规则。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","example":0,"format":"int32","type":"integer"},"interaction_confidence":{"description":"**参数解释:**\n交互置信度,标识主动交互检测的置信度阈值。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","type":"integer"},"modified_time":{"description":"**参数解释:**\n规则更新的时间,时间戳(毫秒级)。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","example":0,"format":"int64","type":"integer"},"name":{"description":"**参数解释:**\n规则名称,用于标识当前BotM规则的名称。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","example":"string","type":"string"},"status":{"description":"**参数解释:**\n规则目前是否被启用(true表示启用,false表示禁用)。\n**约束限制:**\n不涉及\n**取值范围:**\n仅支持true、false两个布尔值\n**默认取值:**\ntrue","example":true,"type":"boolean"},"sub_category":{"description":"**参数解释:**\n规则所属子类别,标识规则的二级分类(如0表示已知Bot子类)。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","example":0,"format":"int32","type":"integer"}},"type":"object"},"BotMRuleSet":{"description":"**参数解释:**\nGetBotMRules接口获取到的BotM全部规则的信息,包含策略关联的各类BotM规则详情。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","properties":{"behavior_detection":{"$ref":"#/definitions/BotMBehaviorDetectionRule","description":"**参数解释:**\n行为检测的规则,包含基于行为分析的Bot检测规则及防护策略。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及"},"interactive_detection":{"description":"**参数解释:**\n主动特征检测规则列表,包含需要主动交互验证的Bot检测规则。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","items":{"$ref":"#/definitions/BotMRule"},"type":"array"},"known_bot_detection":{"description":"**参数解释:**\n已知Bot相关的所有规则,包含针对已知Bot的检测与防护规则。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","items":{"$ref":"#/definitions/BotMRule"},"type":"array"},"policy_id":{"description":"**参数解释:**\n策略Id,关联BotM规则的防护策略唯一标识。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","type":"string"},"tenant_id":{"description":"**参数解释:**\n租户Id,当前BotM规则所属的租户唯一标识。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","type":"string"},"traffic_detection_conditions":{"description":"**参数解释:**\n需要BOT检测的流量检测条件,定义触发Bot检测的流量筛选规则。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","items":{"$ref":"#/definitions/TrafficDetectionConditionDTO"},"type":"array"},"transparent_detection":{"description":"**参数解释:**\n透明检测相关的所有规则,包含无感知的Bot透明检测规则。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","items":{"$ref":"#/definitions/BotMRule"},"type":"array"}},"type":"object"},"IAM5ErrorDetails":{"description":"调用下游服务的报错信息集合,IAM5鉴权错误时才会返回此信息0。","properties":{"error_code":{"description":"下游服务错误码","type":"string"},"error_msg":{"description":"下游服务报错信息","type":"string"}}},"RestErrorResponse":{"properties":{"details":{"description":"调用下游服务的报错信息集合,IAM5鉴权错误时才会返回此字段。","items":{"$ref":"#/definitions/IAM5ErrorDetails"},"type":"array"},"encoded_authorization_message":{"description":"编码 (加密) 后的详细拒绝原因,用户可以自行调用 STS 服务的decode-authorization-message接口进行解码,可参考STS5联调自验证。IAM5鉴权错误时才会返回此字段。","type":"string"},"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误信息","type":"string"}},"title":"RestErrorResponse","type":"object"},"TrafficDetectionConditionDTO":{"properties":{"id":{"description":"**参数解释:**\nId,唯一标识当前流量检测条件。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","example":"","type":"string"},"logical_operator":{"description":"**参数解释:**\n逻辑运算符,标识匹配条件的逻辑关系(如contain表示包含)。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","example":"contain","type":"string"},"match_contents":{"description":"**参数解释:**\n匹配内容,符合筛选条件的具体值列表(如特定URL路径)。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","example":["aa"],"items":{"type":"string"},"type":"array"},"match_field":{"description":"**参数解释:**\n匹配字段(类别),标识流量筛选的字段类型(如url表示URL路径)。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","example":"url","type":"string"},"match_field_index":{"description":"**参数解释:**\n子字段,匹配字段的细分维度(如无则不填)。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","type":"string"},"value_list_res":{"description":"**参数解释:**\n引用表Id,关联预设的匹配内容列表ID(如无则不填)。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","example":"55454","type":"string"}},"type":"object"}},"description":null,"group_id":"29975c0bd7ce463ca70ad5c074e3974b","host":"waf.cn-north-4.myhuaweicloud.com","id":"b775fccb2c84468e90c2e71487054411","info_version":"v1","method":"get","name":"ListBotMRules","parameters":{},"paths":{"/v1/{project_id}/waf/policy/{policy_id}/bot-manager":{"get":{"description":"查询BotM所有规则","operationId":"ListBotMRules","parameters":[{"description":"租户项目id","in":"path","name":"project_id","required":true,"type":"string"},{"description":"policyid","in":"path","name":"policy_id","required":true,"type":"string"},{"description":"auth token","in":"header","name":"X-Auth-Token","required":true,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"OK","examples":{"application/json":{"behavior_detection":{"defense_strategy":{"high":{"defense_action":101,"threshold":100},"low":{"defense_action":101,"threshold":60},"medium":{"defense_action":101,"threshold":90}},"rule":{"category":0,"created_time":0,"defense_action":0,"description":"string","id":0,"modified_time":0,"name":"string","status":true,"sub_category":0}},"interactive_detection":[{"category":0,"created_time":0,"defense_action":0,"description":"string","id":0,"interaction_confidence":0,"modified_time":0,"name":"string","status":true,"sub_category":0}],"known_bot_detection":[{"category":0,"created_time":0,"defense_action":0,"description":"string","id":0,"modified_time":0,"name":"string","status":true,"sub_category":0}],"policy_id":"string","tenant_id":"string","traffic_detection_conditions":[{"id":0,"logical_operator":"contain","match_contents":["das"],"match_field":"user-agent","match_field_index":"aaa","value_list_res":"aaaa"}],"transparent_detection":[{"category":0,"created_time":0,"defense_action":0,"description":"string","id":0,"modified_time":0,"name":"string","status":true,"sub_category":0}]}},"schema":{"$ref":"#/definitions/BotMRuleSet"}},"400":{"description":"请求失败","schema":{"$ref":"#/definitions/RestErrorResponse"}},"401":{"description":"token权限不足","schema":{"$ref":"#/definitions/RestErrorResponse"}},"500":{"description":"服务器内部错误","schema":{"$ref":"#/definitions/RestErrorResponse"}}},"summary":"查询BotM所有规则","tags":["策略规则管理"],"x-api-type":"open-api","x-apidesigner":79,"x-is-registered":"Y","x-order":65,"x-support-international":true,"x-support-sdk":"Y"}}},"product_short":"WAF","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询BotM所有规则","tags":"策略规则管理","uri":null,"version":"2.0"}