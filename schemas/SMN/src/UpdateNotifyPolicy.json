{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"FailedResponse":{"properties":{"error_code":{"description":"返回信息对应的代码。","example":"SMN.0156","type":"string"},"error_msg":{"description":"服务异常错误信息描述。","example":"Parameter: SmsTemplateName is invalid.","type":"string"},"request_id":{"description":"请求的唯一标识ID。","example":"03b945d8b8cd46918ac5b7d4ec205be6","type":"string"}},"required":["request_id","error_code","error_msg"]},"NotifyPolicyRequestBody":{"description":"通知策略请求体","properties":{"polling":{"description":"轮询策略订阅终端。","items":{"$ref":"#/definitions/PollingPolicyRequest"},"maxItems":3,"minItems":1,"type":"array"},"protocol":{"default":"callnotify","description":"通知策略类型,当前仅支持语音。","enum":["callnotify"],"type":"string"}},"required":["protocol","polling"],"type":"object"},"PollingPolicyRequest":{"properties":{"order":{"description":"当前轮询的序号。","format":"int32","maximum":3,"minimum":1,"type":"integer"},"subscription_urns":{"description":"订阅终端urn列表。","items":{"type":"string"},"maxItems":10000,"minItems":1,"type":"array"}},"required":["order","subscription_urns"],"type":"object"}},"description":null,"group_id":"28d7e20abf9b4048b20fdaf3ce746d32","host":"smn.cn-north-4.myhuaweicloud.com","id":"4820d33ae9144ce6b292f777d7d2a93a","info_version":"v2","method":"put","name":"UpdateNotifyPolicy","parameters":{"X-Auth-Token":{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."}},"paths":{"/v2/{project_id}/notifications/topics/{topic_urn}/notify-policy/{notify_policy_id}":{"put":{"description":"修改通知策略,该接口仅支持全量修改,不支持部分修改。","operationId":"UpdateNotifyPolicy","parameters":[{"description":"项目ID。 获取项目ID请参考 [获取项目ID](smn_api_66000.xml)。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"Topic的唯一的资源标识,可通过[查询主题列表](smn_api_51004.xml)获取该标识。","in":"path","name":"topic_urn","required":true,"type":"string"},{"description":"通知策略ID。","in":"path","name":"notify_policy_id","required":true,"type":"string"},{"description":"通知策略","in":"body","name":"CreateNotifyPolicyRequestBody","required":true,"schema":{"$ref":"#/definitions/NotifyPolicyRequestBody"}},{"$ref":"#/parameters/X-Auth-Token"}],"responses":{"200":{"description":"修改成功","examples":{"application/json":{"request_id":"f6832d5dd17f4090b0e29c6f9a026b17"}},"schema":{"type":"string"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/FailedResponse"}},"403":{"description":"Unauthorized","schema":{"$ref":"#/definitions/FailedResponse"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/FailedResponse"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/FailedResponse"}}},"summary":"修改通知策略","tags":["通知策略"],"x-apiexplorer-hide":"N","x-iftype":"externalAPI","x-is-registered":"Y","x-name":"修改通知策略","x-open-region-cloud":"hk,hc","x-request-examples-1":{"polling":[{"order":"1","subscription_urns":["urn:smn:cn-north-4:240489644ad14ace8e022869d34411a4:eee:45c05e14762c478aa2ef6b16153b521f","urn:smn:cn-north-4:240489644ad14ace8e022869d34411a4:eee:45c05e14762c478aa2ef6b16153b5222"]},{"order":"2","subscription_urns":["urn:smn:cn-north-4:240489644ad14ace8e022869d34411a4:eee:45c05e14762c478aa2ef6b16153b521f","urn:smn:cn-north-4:240489644ad14ace8e022869d34411a4:eee:45c05e14762c478aa2ef6b16153b5222"]}],"protocol":"callnotify"},"x-request-examples-description-1":"修改通知策略。","x-request-examples-text-1":{"polling":[{"order":"1","subscription_urns":["urn:smn:cn-north-4:240489644ad14ace8e022869d34411a4:eee:45c05e14762c478aa2ef6b16153b521f","urn:smn:cn-north-4:240489644ad14ace8e022869d34411a4:eee:45c05e14762c478aa2ef6b16153b5222"]},{"order":"2","subscription_urns":["urn:smn:cn-north-4:240489644ad14ace8e022869d34411a4:eee:45c05e14762c478aa2ef6b16153b521f","urn:smn:cn-north-4:240489644ad14ace8e022869d34411a4:eee:45c05e14762c478aa2ef6b16153b5222"]}],"protocol":"callnotify"},"x-request-examples-url-1":"PUT https://{SMN_Endpoint}/v2/{project_id}/notifications/topics/urn:smn:regionId:f96188c7ccaf4ffba0c9aa149ab2bd57:test_topic_v2/notify-policy/7824d9c2f4e94fdfabd9fcdd4da0d564","x-support-sdk":"Y"}}},"product_short":"SMN","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"修改通知策略","tags":"通知策略","uri":null,"version":"2.0"}