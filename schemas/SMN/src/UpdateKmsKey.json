{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"FailedResp":{"properties":{"code":{"description":"服务异常错误信息编码。","example":"SMN.0167","type":"string"},"message":{"description":"服务异常错误信息描述。","example":"xxxxxxxx","type":"string"},"request_id":{"description":"请求的唯一标识ID。","example":"6a63a18b8bab40ffb71ebd9cb80d0085","type":"string"}},"required":["request_id","code","message"]},"UpdateKmsKeyRequestBody":{"properties":{"key_id":{"description":"在DEW服务上创建的用户主密钥对应的密钥ID,具体参考在DEW服务上创建密钥章节。","maxLength":36,"pattern":"^[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}$","type":"string"}},"required":["key_id"],"type":"object"},"UpdateKmsKeyResponseBody":{"properties":{"id":{"description":"主题下密钥的唯一标识ID。该ID由SMN自动生成。","type":"string"},"request_id":{"description":"请求的唯一标识ID。","example":"6a63a18b8bab40ffb71ebd9cb80d0085","maxLength":36,"minLength":0,"type":"string"}},"required":["request_id","id"],"type":"object"}},"description":null,"group_id":"28d7e20abf9b4048b20fdaf3ce746d32","host":"smn.cn-north-4.myhuaweicloud.com","id":"6d971fb6af574deab8bf4f7217443caf","info_version":"v2","method":"put","name":"UpdateKmsKey","parameters":{},"paths":{"/v2/{project_id}/notifications/topics/{topic_urn}/kms/{id}":{"put":{"description":"更新密钥ID。执行更新KMS密钥时,用户需要先在IAM处创建名为smn_kms_agency的委托,并将对应的资源操作权限授权给SMN服务。SMN会使用该委托进行查询密钥状态和创建数据密钥操作。","operationId":"UpdateKmsKey","parameters":[{"description":"项目ID。 获取项目ID请参考 [获取项目ID](smn_api_66000.xml)。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"Topic的唯一的资源标识,可通过[查询主题列表](smn_api_51004.xml)获取该标识。","in":"path","name":"topic_urn","required":true,"type":"string"},{"description":"当前已绑定密钥的资源ID。","in":"path","name":"id","required":true,"type":"string"},{"in":"body","name":"UpdateKmsKeyRequestBody","required":true,"schema":{"$ref":"#/definitions/UpdateKmsKeyRequestBody"}}],"responses":{"200":{"description":"请求成功的返回体。","examples":{"application/json":{"id":"9a719209230d4ce19058c1ef10011d7b","request_id":"169f9f6efc6d4da09dd106da6038d954"}},"schema":{"$ref":"#/definitions/UpdateKmsKeyResponseBody"}},"400":{"description":"Bad Request","examples":{"application/json":{"error_code":"SMN.00013064","error_msg":"The kms key resource id is not available.","request_id":"cfe44dcb8ebc4cf48fe704be08375bcc"}},"schema":{"$ref":"#/definitions/FailedResp"}},"401":{"description":"Unauthorized","examples":{"application/json":{"error_code":"SMN.00000005","error_msg":"Invalid token.","request_id":"c8b2f5d6891d44dca2e42c2295a9d1f9"}},"schema":{"$ref":"#/definitions/FailedResp"}}},"summary":"更新主题下KMS密钥","tags":["密钥操作"],"x-apiexplorer-hide":"N","x-iftype":"externalAPI","x-is-registered":"Y","x-name":"更新主题下KMS密钥","x-open-region-cloud":"hk,hc","x-request-examples-1":{"key_id":"99a5ca7c-56f4-48c3-a92e-e9a517d3d7de"},"x-request-examples-description-1":"请求成功的示例。","x-request-examples-text-1":{"key_id":"99a5ca7c-56f4-48c3-a92e-e9a517d3d7de"},"x-request-examples-url-1":"https://{SMN_Endpoint}/v2/{project_id}/notifications/topics/urn:smn:regionId:44ef0bd78eb24f02b40614fe85a7d234:topic_34176907904211f0bfc684a93e8ae4b6/kms/108484454fd34af5b10bd3ef7ee35e0f","x-support-sdk":"Y"}}},"product_short":"SMN","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"更新主题下KMS密钥","tags":"密钥操作","uri":null,"version":"2.0"}