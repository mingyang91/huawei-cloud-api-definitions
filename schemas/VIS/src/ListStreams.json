{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"StreamResponseList":{"properties":{"access_key":{"description":"RTMP视频流的密钥。接入类型(access_type)为RTMP时,才有该参数。","example":"ALKJOWLKJSDNFGO******KSJDF","type":"string"},"access_type":{"description":"视频接入类型。","example":"RTMP","type":"string"},"created_at":{"description":"视频流创建时间。","example":"2018-12-25T12:59:37Z","type":"string"},"encode_type":{"description":"视频流编码格式。","example":"H264","type":"string"},"name":{"description":"视频流名称。","example":"stream_test1","type":"string"},"retention":{"$ref":"#/definitions/retention","description":"视频流转储信息。"},"retention_state":{"description":"按视频流转储状态过滤,可选值如下。\n- ACTIVE:表示已启用转储。\n- STOPPED:表示未启用转储。\n\n不区分大小写。","example":"ACTIVE","type":"string"},"share_type":{"description":"视频流共享类型。\n- PRIVATE:非共享。\n- PUBLIC:共享。","example":"PUBLIC","type":"string"},"state":{"description":"视频流状态。\n- ACTIVE:表示已激活。\n- STOPPED:表示已停用。","example":"ACTIVE","type":"string"},"stream_id":{"description":"视频流ID。","example":"stream-0P5g9fQ2","type":"string"},"transfer_protocol":{"description":"GB视频传输协议(TCP|UDP)。只有当视频介入类型为GB/T28181时,才有该参数。","example":"streamtngw6xsj","type":"string"},"updated_at":{"description":"视频流更新时间。","example":"2018-12-25T12:59:37Z","type":"string"},"url":{"description":"HTTP-FLV视频流的地址。接入类型(access_type)为HTTP-FLV时,才有该参数。","example":" https://xxxxxxxx.com/live","type":"string"}}},"retention":{"properties":{"Retention_forever":{"description":"是否永久保存。","example":"false","type":"boolean"},"bucket":{"description":"OBS桶名。","example":"iva-ly-test","type":"string"},"path":{"description":"OBS目录。","example":"testRetention/***","type":"string"},"retention_in_hour":{"description":"保存时长,以小时为单位。","example":1,"type":"integer"},"slice_in_minute":{"description":"分片长度,以分钟为单位。取值范围为1~60,默认为5。","example":5,"type":"integer"},"store_type":{"description":"转储位置,可为“obs”,即存储到华为云对象存储OBS上。","example":"obs","type":"string"},"timezone":{"description":"时区信息。","example":"GMT+08:00","type":"string"}}}},"description":null,"group_id":"5346b7c1dc284228a28795d5bcbd550d","host":"vis.cn-north-4.myhuaweicloud.com","id":"53f61c3f319248e2910f22328a8ffd20","info_version":"v1","method":"get","name":"ListStreams","parameters":{"Authorization":{"description":"使用AK/SK方式认证时必选,携带的鉴权信息。","in":"header","maxLength":256,"minLength":1,"name":"Authorization","required":false,"type":"string","x-example":"SDK-HMAC-SHA256 Access=xxx, SignedHeaders=content-type;host;x-sdk-date, Signature=xxx"},"X-Auth-Token":{"description":"普通租户的token。","in":"header","maxLength":10240,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string"},"X-Project-Id":{"description":"使用AK/SK方式认证时必选,携带项目ID信息。","in":"header","maxLength":64,"minLength":1,"name":"X-Project-Id","required":false,"type":"string","x-example":"70b76xxxxxx34253880af501cdxxxxxx"},"X-Sdk-Date":{"description":"使用AK/SK方式认证时必选,请求的发生时间。","in":"header","maxLength":256,"minLength":1,"name":"X-Sdk-Date","required":false,"type":"string","x-example":"20191115T033655Z"},"project_id":{"description":"项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)","in":"path","maxLength":32,"minLength":32,"name":"project_id","required":true,"type":"string"}},"paths":{"/v1/{project_id}/streams":{"get":{"consumes":[],"deprecated":false,"description":"此接口用于获取所有视频流的详细信息。","operationId":"ListStreams","parameters":[{"$ref":"#/parameters/project_id"},{"$ref":"#/parameters/X-Auth-Token"},{"$ref":"#/parameters/Authorization"},{"$ref":"#/parameters/X-Sdk-Date"},{"$ref":"#/parameters/X-Project-Id"},{"description":"查询的开始位置,取值范围为0~100000,必须与limit一起使用。与limit同时缺省时,返回所有结果。该参数适用于所有查询列表的接口。如果offset超过数据总条数,则结果返回空列表。","in":"query","name":"offset","required":false,"type":"integer","x-example":"1"},{"description":"返回结果的最大条目数,取值范围为1~1000,必须与offset一起使用。与offset同时缺省时,返回所有结果。该参数适用于所有查询列表的接口。","in":"query","name":"limit","required":false,"type":"integer","x-example":"23"},{"description":"返回结果的排序规则。\n- ASC:表示升序。\n- DESC:表示降序。\n\n默认为ASC,需要有offset和limit参数,sort参数才会生效。","in":"query","name":"sort","required":false,"type":"string","x-example":"ASC"},{"description":"选择按一个字段排序,可选值如下。\n- encode_type:视频流编码格式。\n- access_type:视频接入类型。\n- share_type:视频流共享类型。\n- created_at:视频流创建时间。\n- name:视频流名字。\n- state:视频流状态。\n- retention_state:视频流转储状态。\n\n默认为created_at,按照创建时间排序。需要有offset和limit参数,order_by参数才会生效。","in":"query","name":"order_by","required":false,"type":"string","x-example":"encode_type"},{"description":"按照视频流名称过滤,支持模糊查询。","in":"query","name":"name","required":false,"type":"string","x-example":"String**"},{"description":"按视频流状态过滤,可选值如下。\n- ACTIVE:表示已激活。\n- STOPPED:表示未激活。\n\n不区分大小写。","in":"query","name":"stream_state","required":false,"type":"string","x-example":"ACTIVE"},{"description":"按视频流转储状态过滤,可选值如下。\n- ACTIVE:表示已启用转储。\n- STOPPED:表示未启用转储。\n\n不区分大小写。","in":"query","name":"retention_state","required":false,"type":"string","x-example":"STOPPED"}],"produces":[],"responses":{"200":{"description":"正常","examples":{"application/json":[{"access_key":"ALKJOWLKJSDNFGO******KSJDF","access_type":"RTMP","created_at":"2018-12-25T12:59:37Z","description":"","encode_type":"H264","name":"stream_test1","retention":{"bucket":"iva-ly-test","path":"testRetention","retention_forever":false,"retention_in_hour":1,"slice_in_minute":5,"store_type":"OBS","timezone":"GMT+08:00"},"retention_state":"ACTIVE","share_type":"PUBLIC","state":"ACTIVE","stream_id":"stream-0BOPSRsT","tag":[{"key":"group"},{"value":"number1"}],"updated_at":"2018-12-25T12:59:37Z"},{"access_type":"HTTP-FLV","created_at":"2018-12-25T12:59:37Z","description":"","encode_type":"H264","name":"RTMP******","retention":{"bucket":"iva-ly-test","path":"testRetention/","retention_forever":false,"retention_in_hour":1,"slice_in_minute":5,"store_type":"OBS","timezone":"GMT+08:00"},"retention_state":"ACTIVE","share_type":"PUBLIC","state":"ACTIVE","stream_id":"stream-9IzU3TdL","tag":[{"key":"group","value":"number1"}],"updated_at":"2018-12-25T12:59:37Z","url":"https://xxxxxxxx.com/live"},{"access_key":"0000","access_type":"GB/T28181","created_at":"2018-12-25T10:52:00Z","description":"","encode_type":"H265","name":"channel_9339084235132000****","retention_state":"STOPPED","share_type":"PUBLIC","state":"STOPPED","stream_id":"stream-0P5g9fQ2","tag":[],"updated_at":"2018-12-25T10:52:00Z"}]},"schema":{"$ref":"#/definitions/StreamResponseList"}},"400":{"description":"请求错误","examples":{"application/json":{"error_code":"VIS.0005","error_msg":"Invalid request parameter, url can not be null or empty when access type is HTTP-FLV."}}}},"summary":"获取视频流列表","tags":["视频流管理"],"x-apiexplorer-hide":"N","x-is-registered":"Y","x-name":"获取视频流列表","x-request-examples-url-1":"GET /v1/3266392d188c47d09948b1**********/streams","x-support-sdk":"Y"}}},"product_short":"VIS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"获取视频流列表","tags":"视频流管理","uri":null,"version":"2.0"}