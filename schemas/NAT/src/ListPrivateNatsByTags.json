{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"ListTagResourceInstancesRequestBody":{"description":"查询资源实例的请求体。","properties":{"action":{"description":"操作标识(仅限于filter,count):filter(过滤),count(查询总条数)\n如果是filter就是分页查询,如果是count只需按照条件将总条数返回即可。","enum":["filter","count"],"type":"string","x-huawei-extraAnnotation":""},"limit":{"description":"查询记录数(action为count时无此参数)如果action为filter默认为1000,limit最多为1000,不能为负数,最小值为1。","maxLength":1000,"minLength":1,"type":"string","x-huawei-extraAnnotation":""},"matches":{"description":"搜索字段,key为要匹配的字段,如resource_name等。value为匹配的值。此字段为固定字典值。 根据不同的字段确认是否需要模糊匹配,如resource_name默认为模糊搜索(不区分大小写),如果value为空字符串精确匹配。resource_id为精确匹配。第一期只做resource_name,后续再扩展。","items":{"$ref":"#/definitions/Match","description":""},"maxItems":10,"minItems":1,"type":"array","x-huawei-extraAnnotation":""},"not_tags":{"description":"不包含标签,最多包含20个key,每个key下面的value最多20个, 结构体不能缺失,key不能为空或者空字符串。Key不能重复,同一个key中values不能重复。返回不包含标签的资源列表,key之间是与的关系,key-value结构中value是或的关系。无过滤条件时返回全量数据。","items":{"$ref":"#/definitions/Tags","description":""},"maxItems":20,"minItems":1,"type":"array","x-huawei-extraAnnotation":""},"not_tags_any":{"description":"不包含任意标签,最多包含20个key,每个key下面的value最多20个,结构体不能缺失,key不能为空或者空字符串。Key不能重复,同一个key中values不能重复。返回不包含任意标签的资源列表,key之间是或的关系,key-value结构中value是或的关系。无过滤条件时返回全量数据。","items":{"$ref":"#/definitions/Tags","description":""},"maxItems":20,"minItems":1,"type":"array","x-huawei-extraAnnotation":""},"offset":{"description":"索引位置, 从offset指定的下一条数据开始查询。 查询第一页数据时,不需要传入此参数,查询后续页码数据时,将查询前一页数据时响应体中的值带入此参数(action为count时无此参数)如果action为filter默认为0,必须为数字,不能为负数。","maxLength":65535,"minLength":0,"type":"string","x-huawei-extraAnnotation":""},"tags":{"description":"包含标签,最多包含20个key,每个key下面的value最多20个,结构体不能缺失,key不能为空或者空字符串。Key不能重复,同一个key中values不能重复。返回包含所有标签的资源列表,key之间是与的关系,key-value结构中value是或的关系。无tag过滤条件时返回全量数据。","items":{"$ref":"#/definitions/Tags","description":""},"maxItems":20,"minItems":1,"type":"array","x-huawei-extraAnnotation":""},"tags_any":{"description":"包含任意标签,最多包含20个key,每个key下面的value最多20个,结构体不能缺失,key不能为空或者空字符串。Key不能重复,同一个key中values不能重复。返回包含任意标签的资源列表,key之间是或的关系,key-value结构中value是或的关系。无过滤条件时返回全量数据。","items":{"$ref":"#/definitions/Tags","description":""},"maxItems":20,"minItems":1,"type":"array","x-huawei-extraAnnotation":""}},"required":["action"]},"ListTagResourceInstancesResponseBody":{"description":"查询资源实例的响应体。","properties":{"request_id":{"description":"请求id。","maxLength":36,"minLength":1,"type":"string"},"resources":{"description":"资源列表。","items":{"$ref":"#/definitions/Resource","description":""},"maxItems":2000,"minItems":1,"type":"array","x-huawei-extraAnnotation":""},"total_count":{"description":"总记录数。","format":"int32","maximum":1000000,"minimum":0,"type":"integer","x-huawei-extraAnnotation":""}},"required":["resources","request_id","total_count"]},"Match":{"properties":{"key":{"description":"搜索条件key值。","maxLength":128,"minLength":1,"type":"string"},"value":{"description":"搜索条件value。","maxLength":255,"minLength":0,"type":"string"}},"required":["key","value"]},"Resource":{"description":"资源信息。","properties":{"resource_detail":{"description":"资源详情。用于扩展。默认为空。","type":"object","x-huawei-extraAnnotation":""},"resource_id":{"description":"资源的ID。","example":"e5ad289f-9c56-4daf-b08b-2e53a983473a","maxLength":36,"minLength":36,"type":"string","x-huawei-extraAnnotation":""},"resource_name":{"description":"资源名称,资源没有名称时默认为空字符串。","example":"nat_gateways","maxLength":36,"minLength":0,"type":"string","x-huawei-extraAnnotation":""},"tags":{"description":"标签列表,没有标签默认为空数组。","items":{"$ref":"#/definitions/ResourceTag","description":""},"maxItems":20,"minItems":1,"type":"array","x-huawei-extraAnnotation":""}},"required":["resource_detail","resource_id","resource_name","tags"]},"ResourceTag":{"properties":{"key":{"description":"标签key值。","maxLength":128,"minLength":1,"type":"string"},"value":{"description":"标签value。","maxLength":255,"minLength":0,"type":"string"}},"required":["key","value"]},"Tags":{"description":"","properties":{"key":{"description":"键。最大长度128个unicode字符。搜索时不对此参数做校验,key不能为空或者空字符串,不能为空格,校验和使用之前先trim 前后空格。","example":"key1","maxLength":128,"minLength":1,"type":"string"},"values":{"description":"值列表。每个值最大长度255个unicode字符。","example":"value1","items":{"maxLength":255,"minLength":0,"type":"string"},"type":"array"}},"required":["key","values"]}},"description":null,"group_id":"69ed306c85e24c1eb4496ff482cbca90","host":"nat.cn-north-4.myhuaweicloud.com","id":"70d0916c154f49eb9148ef50748771ae","info_version":"v2","method":"post","name":"ListPrivateNatsByTags","parameters":{},"paths":{"/v3/{project_id}/private-nat-gateways/resource_instances/action":{"post":{"consumes":[],"deprecated":false,"description":"- 使用标签过滤私网NAT网关实例。\n- 标签管理服务需要提供按标签过滤私网NAT网关服务实例并汇总显示在列表中,需要私网NAT网关服务提供查询能力。","operationId":"ListPrivateNatsByTags","parameters":[{"description":"项目的ID。","in":"path","maxLength":32,"minLength":1,"name":"project_id","required":true,"type":"string","x-order":1},{"description":"用户Token。\n用户Token也就是调用获取用户Token获取请求认证接口的响应值,该接口是唯一不需要认证的接口。\n请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。","in":"header","maxLength":10240,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-order":3},{"description":"查询资源实例的请求体。","in":"body","name":"ListPrivateNatsByTagsRequestBody","required":true,"schema":{"$ref":"#/definitions/ListTagResourceInstancesRequestBody"}}],"produces":["application/json"],"responses":{"200":{"description":"- 查询操作成功。\n- 示例1:action为filter时的响应体\n- 示例2:action为count时的响应体","examples":{"application/json":{"request_id":"a67262f6b7242d63d4ae95e41abf2790","resources":[{"resource_detail":null,"resource_id":"e5ad289f-9c56-4daf-b08b-2e53a983473a","resource_name":"nat_gateways","tags":[{"key":"key1","value":"value1"},{"key":"key2","value":"value1"}]}],"total_count":1},"application/json-1":{"request_id":"a67262f6b7242d63d4ae95e41abf2790","total_count":100}},"schema":{"$ref":"#/definitions/ListTagResourceInstancesResponseBody"}}},"summary":"查询私网NAT网关实例","tags":["私网NAT网关标签管理"],"x-apiErrorCodes":[{"errorCode":"400","errorDescription":"Bad Request","errorDescriptionEn":"Bad Request","errorMessage":"","httpStatus":"400","solution":"","solutionEn":""},{"errorCode":"401","errorDescription":"Unauthorized","errorDescriptionEn":"Unauthorized","errorMessage":"","httpStatus":"401","solution":"","solutionEn":""},{"errorCode":"403","errorDescription":"Forbidden","errorDescriptionEn":"Forbidden","errorMessage":"","httpStatus":"403","solution":"","solutionEn":""},{"errorCode":"404","errorDescription":"Not Found","errorDescriptionEn":"Not Found","errorMessage":"","httpStatus":"404","solution":"","solutionEn":""},{"errorCode":"500","errorDescription":"Internal Server Error","errorDescriptionEn":"Internal Server Error","errorMessage":"","httpStatus":"500","solution":"","solutionEn":""}],"x-apiexplorer-hide":"","x-constraint":"","x-first-open-time":"","x-hybridcloud":"","x-is-registered":"Y","x-name":"查询私网NAT网关实例","x-obc":"Y","x-open-region-cloud":"hc,hk","x-order":1,"x-publishpath":"","x-request-examples-1":{"action":"filter","limit":"10","matches":[{"key":"resource_name","value":"resource1"}],"not_tags":[{"key":"key1","values":["*value1","value2"]}],"not_tags_any":[{"key":"key1","values":["value1","value2"]}],"offset":"10","tags":[{"key":"key1","values":["*value1","value2"]}],"tags_any":[{"key":"key1","values":["value1","value2"]}]},"x-request-examples-2":{"action":"count","matches":[{"key":"resource_name","value":"resource1"}],"not_tags":[{"key":"key1","values":["value1","*value2"]}],"not_tags_any":[{"key":"key1","values":["value1","value2"]}],"tags":[{"key":"key1","values":["value1","value2"]},{"key":"key2","values":["value1","value2"]}],"tags_any":[{"key":"key1","values":["value1","value2"]}]},"x-request-examples-description-1":"action为filter的请求体。","x-request-examples-description-2":"action为count的请求体。","x-request-examples-text-1":"{\n\t\"offset\": \"10\",\n\t\"limit\": \"10\",\n\t\"action\": \"filter\",\n\t\"matches\": [{\n\t\t\"key\": \"resource_name\",\n\t\t\"value\": \"resource1\"\n\t}],\n\t\"not_tags\": [{\n\t\t\"key\": \"key1\",\n\t\t\"values\": [\n\t\t\t\"*value1\",\n\t\t\t\"value2\"\n\t\t]\n\t}],\n\t\"tags\": [{\n\t\t\"key\": \"key1\",\n\t\t\"values\": [\n\t\t\t\"*value1\",\n\t\t\t\"value2\"\n\t\t]\n\t}],\n\t\"tags_any\": [{\n\t\t\"key\": \"key1\",\n\t\t\"values\": [\n\t\t\t\"value1\",\n\t\t\t\"value2\"\n\t\t]\n\t}],\n\t\"not_tags_any\": [{\n\t\t\"key\": \"key1\",\n\t\t\"values\": [\n\t\t\t\"value1\",\n\t\t\t\"value2\"\n\t\t]\n\t}]\n}","x-request-examples-text-2":"{\n\t\"action\": \"count\",\n\t\"not_tags\": [{\n\t\t\"key\": \"key1\",\n\t\t\"values\": [\n\t\t\t\"value1\",\n\t\t\t\"*value2\"\n\t\t]\n\t}],\n\t\"tags\": [{\n\t\t\t\"key\": \"key1\",\n\t\t\t\"values\": [\n\t\t\t\t\"value1\",\n\t\t\t\t\"value2\"\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"key\": \"key2\",\n\t\t\t\"values\": [\n\t\t\t\t\"value1\",\n\t\t\t\t\"value2\"\n\t\t\t]\n\t\t}\n\t],\n\t\"tags_any\": [{\n\t\t\"key\": \"key1\",\n\t\t\"values\": [\n\t\t\t\"value1\",\n\t\t\t\"value2\"\n\t\t]\n\t}],\n\t\"not_tags_any\": [{\n\t\t\"key\": \"key1\",\n\t\t\"values\": [\n\t\t\t\"value1\",\n\t\t\t\"value2\"\n\t\t]\n\t}],\n\t\"matches\": [{\n\t\t\"key\": \"resource_name\",\n\t\t\"value\": \"resource1\"\n\t}]\n}","x-request-examples-url-1":"POST  https://{Endpoint}/v3/cfa563efb77d4b6d9960781d82530fd8/private-nat-gateways/resource_instances/action","x-request-examples-url-2":"POST  https://{Endpoint}/v3/cfa563efb77d4b6d9960781d82530fd8/private-nat-gateways/resource_instances/action","x-scope":"Commercial","x-source":"","x-support-sdk":"Y","x-version":"v3"}}},"product_short":"NAT","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询私网NAT网关实例","tags":"私网NAT网关标签管理","uri":null,"version":"2.0"}