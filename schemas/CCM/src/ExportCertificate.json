{"base_path":"/","components":null,"consumes":"","definitions":{"Error":{"properties":{"error_code":{"description":"错误请求返回的错误码。","maxLength":36,"minLength":3,"type":"string"},"error_msg":{"description":"错误请求返回的错误信息。","maxLength":1024,"minLength":0,"type":"string"}},"required":["error_code","error_msg"],"title":"Error","type":"object"},"ExportCertificateRequestBody":{"properties":{"is_compressed":{"description":"是否压缩。\n  - **true**\n  - **false**","type":"string"},"is_sm_standard":{"description":"是否国密GMT0009标准规范和国密GMT0010标准规范。当证书算法为SM2时传入才有效,若不传入,则默认为false。\n  - **true**\n  - **false**","type":"string","x-open-region-cloud":"hc"},"password":{"description":"设置用于加密私钥的密码。支持使用英文大小写字母、数字、特殊字符(例如,.+-_#)等。最大长度为32字节,若不传入,则默认不使用加密导出。","type":"string"},"type":{"description":"根据服务器类型选择下载证书的形式,支持以下五种类型:\n  - **APACHE** : apache服务器推荐使用此参数;\n  - **NGINX** : nginx服务器推荐使用此参数;\n  - **IIS** : windows服务器推荐使用此参数;\n  - **TOMCAT** : tomcat服务器推荐使用此参数;\n  - **OTHER** : 下载PEM格式证书,推荐使用此参数。","type":"string"}},"required":["type","is_compressed"],"title":"ExportCertificateRequestBody","type":"object"},"ExportCertificateResponseBody":{"properties":{"certificate":{"description":"证书内容。","type":"string"},"certificate_chain":{"description":"证书链内容。","type":"string"},"enc_certificate":{"description":"加密证书内容。","type":"string","x-open-region-cloud":"hc"},"enc_private_key":{"description":"加密私钥内容。","type":"string","x-open-region-cloud":"hc"},"enc_sm2_enveloped_key":{"description":"加密私钥的国密GMT0009标准规范SM2数字信封。","type":"string","x-open-region-cloud":"hc"},"private_key":{"description":"私钥内容。","type":"string"},"signed_and_enveloped_data":{"description":"加密私钥的国密GMT0010标准规范签名数字信封。","type":"string","x-open-region-cloud":"hc"}},"title":"ExportCertificateResponseBody"}},"description":null,"group_id":"eeb1572024bc43b3a048b9c50f8e189d","host":"ccm.cn-north-4.myhuaweicloud.com","id":"f0d903f37248418784731c9c44f22e60","info_version":"v1","method":"post","name":"ExportCertificate","parameters":{},"paths":{"/v1/private-certificates/{certificate_id}/export":{"post":{"consumes":["application/json"],"deprecated":false,"description":"导出证书。\n  - 国际算法\n    - 选择是否压缩时,分以下两种情况:\n      - is_compressed为true时,返回文件压缩包,命名为:证书名称_type字段小写字母.zip,如”test_apache.zip“。\n        - 系统生成密钥签发证书\n          - type = \"**APACHE**\"时,压缩包中包含三个文件:**server.key**(密钥文件,内容为PEM格式,若导出证书时设置密码,则为加密后的私钥)、**chain.crt**(证书链,内容为PEM格式)、**server.crt**(证书,内容为PEM格式);\n          - type = \"**IIS**\"时,压缩包中包含两个文件:**keystorePass.txt**(keystore口令,若导出证书时设置密码,则无此密码文件)、**server.pfx**(PFX证书,证书与证书链包含在同一个文件);\n          - type = \"**NGINX**\"时,压缩包中包含两个文件:**server.key**(密钥文件,内容为PEM格式,若导出证书时设置密码,则为加密后的私钥)、**server.crt**(内容为PEM格式,证书与证书链包含在同一个文件);\n          - type = \"**TOMCAT**\"时,压缩包中包含两个文件:**keystorePass.txt**(keystore口令,若导出证书时设置密码,则无此密码文件)、**server.jks**(JKX证书,证书与证书链包含在同一个文件);\n          - type = \"**OTHER**\"时,压缩包中包含三个文件:**server.key**(密钥文件,内容为PEM格式,若导出证书时设置密码,则为加密后的私钥)、**chain.pem**(证书链)、**server.pem**(证书)。\n        - 导入CSR签发证书\n          - type = \"**APACHE**\"或\"**IIS**\"或\"**TOMCAT**\"时,压缩包中包含两个文件:**chain.crt**(证书链,内容为PEM格式)、**server.crt**(证书,内容为PEM格式);\n          - type = \"**NGINX**\"时,压缩包中包含一个文件:**server.crt**(证书,内容为PEM格式);\n          - type = \"**OTHER**\"时,压缩包中包含两个文件:**chain.pem**(证书链,内容为PEM格式)、**cert.pem**(证书,内容为PEM格式)。\n      - is_compressed为false时,返回json格式,返回的具体参数如下:\n        - 系统生成密钥签发证书\n          - type = \"**APACHE**\"或\"**NGINX**\"或\"**OTHER**\"时,返回参数如下:\n            - **certificate**(证书内容,PEM格式);\n            - **certificate_chain**(证书链,PEM格式);\n            - **private_key**(证书私钥,PEM格式,若导出证书时设置密码,则为加密后的私钥);\n          - type = \"**IIS**\"或\"**TOMCAT**\"时,暂时未定义。\n        - 导入CSR签发证书\n          - type = \"**APACHE**\"或\"**NGINX**\"或\"**IIS**\"或\"**TOMCAT**\"或\"**OTHER**\"时,返回参数如下:\n            - **certificate**(证书内容,PEM格式);\n            - **certificate_chain**(证书链,PEM格式);\n  - 国密算法(中国站)\n    - 选择是否压缩和是否国密标准时,分以下四种情况:\n      - is_compressed为true、is_sm_standard为true时,返回文件压缩包,命名为:证书名称_type字段小写字母.zip,如”test_apache.zip“。\n        - 系统生成密钥签发证书\n          - type = \"**APACHE**\"或\"**IIS**\"或\"**NGINX**\"或\"**TOMCAT**\"时,暂时未定义;\n          - type = \"**OTHER**\"时,压缩包中包含六个文件:**chain.pem**(证书链,内容为PEM格式)、**signCert.key**(签名证书密钥文件,内容为PEM格式,若导出证书时设置密码,则为加密后的私钥)、**signCert.pem**(签名证书,内容为PEM格式)、**encSm2EnvelopedKey.key**(加密证书的国密GMT0009标准规范数字信封文件,内容为BASE64编码)、**signedAndEnvelopedData.key**(加密证书的国密GMT0010标准规范数字信封文件,内容为BASE64编码)、**encCert.pem**(加密证书,内容为PEM格式)。\n        - 导入CSR签发证书\n          - type = \"**APACHE**\"或\"**IIS**\"或\"**NGINX**\"或\"**TOMCAT**\"时,暂时未定义;\n          - type = \"**OTHER**\"时,压缩包中包含五个文件:**chain.pem**(证书链,内容为PEM格式)、**signCert.pem**(签名证书,内容为PEM格式)、**encSm2EnvelopedKey.key**(加密证书的国密GMT0009标准规范数字信封文件,内容为BASE64编码)、**signedAndEnvelopedData.key**(加密证书的国密GMT0010标准规范数字信封文件,内容为BASE64编码)、**encCert.pem**(加密证书,内容为PEM格式)。\n      - is_compressed为true、is_sm_standard为false时,返回文件压缩包,命名为:证书名称_type字段小写字母.zip,如”test_apache.zip“。\n        - 系统生成密钥签发证书\n          - type = \"**APACHE**\"或\"**IIS**\"或\"**NGINX**\"或\"**TOMCAT**\"时,暂时未定义;\n          - type = \"**OTHER**\"时,压缩包中包含五个文件:**chain.pem**(证书链,内容为PEM格式)、**signCert.key**(签名证书密钥文件,内容为PEM格式,若导出证书时设置密码,则为加密后的私钥)、**signCert.pem**(签名证书,内容为PEM格式)、**encCert.key**(加密证书密钥文件,内容为PEM格式,若导出证书时设置密码,则为加密后的私钥)、**encCert.pem**(加密证书,内容为PEM格式)。\n        - 导入CSR签发证书\n          - type = \"**APACHE**\"或\"**IIS**\"或\"**NGINX**\"或\"**TOMCAT**\"时,暂时未定义;\n          - type = \"**OTHER**\"时,压缩包中包含四个文件:**chain.pem**(证书链,内容为PEM格式)、**signCert.pem**(签名证书,内容为PEM格式)、**encCert.key**(加密证书密钥文件,内容为PEM格式)、**encCert.pem**(加密证书,内容为PEM格式)。\n      - is_compressed为false、is_sm_standard为true时,返回json格式,返回的具体参数如下:\n        - 系统生成密钥签发证书\n          - type = \"**APACHE**\"或\"**IIS**\"或\"**NGINX**\"或\"**TOMCAT**\"时,暂时未定义;\n          - type = \"**OTHER**\"时,返回参数如下:\n            - **certificate_chain**(证书链,PEM格式);\n            - **certificate**(签名证书内容,PEM格式);\n            - **private_key**(签名证书私钥,PEM格式,若导出证书时设置密码,则为加密后的私钥);\n            - **enc_certificate**(加密证书内容,PEM格式);\n            - **enc_sm2_enveloped_key**(加密证书的国密GMT0009标准规范数字信封文件,BASE64编码);\n            - **signed_and_enveloped_data**(加密证书的国密GMT0010标准规范数字信封文件,BASE64编码)。\n        - 导入CSR签发证书\n          - type = \"**APACHE**\"或\"**IIS**\"或\"**NGINX**\"或\"**TOMCAT**\"时,暂时未定义;\n          - type = \"**OTHER**\"时,返回参数如下:\n            - **certificate_chain**(证书链,PEM格式);\n            - **certificate**(签名证书内容,PEM格式);\n            - **enc_certificate**(加密证书内容,PEM格式);\n            - **enc_sm2_enveloped_key**(加密证书的国密GMT0009标准规范数字信封文件,BASE64编码);\n            - **signed_and_enveloped_data**(加密证书的国密GMT0010标准规范数字信封文件,BASE64编码)。\n      - is_compressed为false、is_sm_standard为false时,返回json格式,返回的具体参数如下:\n        - 系统生成密钥签发证书\n          - type = \"**APACHE**\"或\"**IIS**\"或\"**NGINX**\"或\"**TOMCAT**\"时,暂时未定义;\n          - type = \"**OTHER**\"时,返回参数如下:\n            - **certificate_chain**(证书链,PEM格式);\n            - **certificate**(签名证书内容,PEM格式);\n            - **private_key**(签名证书私钥,PEM格式,若导出证书时设置密码,则为加密后的私钥);\n            - **enc_certificate**(加密证书内容,PEM格式);\n            - **enc_private_key**(加密证书私钥,PEM格式,若导出证书时设置密码,则为加密后的私钥)。\n        - 导入CSR签发证书\n          - type = \"**APACHE**\"或\"**IIS**\"或\"**NGINX**\"或\"**TOMCAT**\"时,暂时未定义;\n          - type = \"**OTHER**\"时,返回参数如下:\n            - **certificate_chain**(证书链,PEM格式);\n            - **certificate**(签名证书内容,PEM格式);\n            - **enc_certificate**(加密证书内容,PEM格式);\n            - **enc_private_key**(加密证书私钥,PEM格式)。\n> 只有当证书状态为“已签发”时,可进行导出操作。","operationId":"ExportCertificate","parameters":[{"description":"所要导出的私有证书ID。","in":"path","maxLength":36,"minLength":36,"name":"certificate_id","required":true,"type":"string","x-example":"50608bba-87c2-45f8-9fc7-5723766ced75"},{"description":"用户token,参见:[IAM token获取方法](https://support.huaweicloud.com/api-iam/iam_30_0001.html)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIePgYJKoZIhvcNAQcCoIIeLzCCHisCAQExDTALBglghkgBZQMEAgEwghxOBgkqhkiG9w0BBwGgghw..."},{"description":"ExportCertificateRequestBody","in":"body","name":"ExportCertificateRequestBody","required":true,"schema":{"$ref":"#/definitions/ExportCertificateRequestBody"}}],"produces":["application/json"],"responses":{"200":{"description":"请求已成功","examples":{"application/json":{"certificate":"-----BEGIN CERTIFICATE-----\r\n******\r\n-----END CERTIFICATE-----","certificate_chain":"-----BEGIN CERTIFICATE-----\r\n******\r\n-----END CERTIFICATE-----\r\n-----BEGIN CERTIFICATE-----\r\n******\r\n-----END CERTIFICATE-----","private_key":"-----BEGIN RSA PRIVATE KEY-----\r\n******\r\n-----END RSA PRIVATE KEY-----\r\n"}},"schema":{"$ref":"#/definitions/ExportCertificateResponseBody"}},"400":{"description":"请求参数有误。","examples":{"application/json":{"error_code":"PCA.XXX","error_msg":"XXX"}},"schema":{"$ref":"#/definitions/Error"}},"401":{"description":"被请求的页面需要鉴权。","examples":{"application/json":{"error_code":"PCA.XXX","error_msg":"XXX"}},"schema":{"$ref":"#/definitions/Error"}},"403":{"description":"认证失败。","examples":{"application/json":{"error_code":"PCA.XXX","error_msg":"XXX"}},"schema":{"$ref":"#/definitions/Error"}},"404":{"description":"资源不存在或资源未找到。","examples":{"application/json":{"error_code":"PCA.XXX","error_msg":"XXX"}},"schema":{"$ref":"#/definitions/Error"}},"500":{"description":"服务内部错误。","examples":{"application/json":{"error_code":"PCA.XXX","error_msg":"XXX"}},"schema":{"$ref":"#/definitions/Error"}}},"summary":"导出证书","tags":["私有证书管理"],"x-is-registered":"Y","x-request-examples-1":{"is_compressed":false,"password":"test","type":"other"},"x-request-examples-description-1":"导出证书,请求头中的**X-Auth-Token**字段需要填写token,且该token需要具有本API的访问权限。","x-request-examples-url-1":"POST https://ccm.cn-north-4.myhuaweicloud.com/v1/private-certificates/6434f74f-2d13-4e6a-89eb-93ee313f1a43/export","x-support-sdk":"Y"}}},"product_short":"CCM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"导出证书","tags":"私有证书管理","uri":null,"version":"2.0"}