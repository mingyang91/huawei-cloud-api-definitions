{"base_path":"/","components":null,"consumes":"","definitions":{"CrlConfiguration":{"properties":{"crl_name":{"description":"吊销列表文件名称。\n> 若用户不指定,系统将默认采用当前证书的父CA ID。","type":"string"},"enabled":{"description":"是否启用CRL发布功能。\n- **true**\n- **false**","type":"boolean"},"obs_bucket_name":{"description":"OBS桶名称。\n> 当需要启用CRL发布功能:\n> - 此参数为必填项,且用户必须已创建委托授权,授予PCA服务对OBS的相关权限,具体参见本文档:**证书吊销处理>查看是否具有委托权限**、**证书吊销处理>创建委托**;\n> - 指定的OBS桶必须存在,否则将报错。","type":"string"},"valid_days":{"description":"CRL更新周期,单位为\"天\"。当启用CRL发布功能,为必填项。","format":"int32","maximum":30,"minimum":7,"type":"integer"}},"required":["enabled"],"title":"CrlConfiguration","type":"object"},"DistinguishedName":{"properties":{"common_name":{"description":"证书通用名称(CN),名称只能由\"-\"、\"_\"、\" \"、\".\"、\",\"、\"*\"、字母、数字、汉字组成,长度不能超过64位字符。","maxLength":64,"minLength":1,"type":"string"},"country":{"description":"国家编码,只能由英文组成,长度为2位字符。","maxLength":2,"minLength":2,"type":"string"},"locality":{"description":"地区名称,名称只能由\"-\"、\"_\"、\" \"、\".\"、\",\"、字母、数字、汉字组成,长度不能超过128位字符。","maxLength":128,"minLength":1,"type":"string"},"organization":{"description":"组织名称,名称只能由\"-\"、\"_\"、\" \"、\".\"、\",\"、字母、数字、汉字组成,长度不能超过64位字符。","maxLength":64,"minLength":1,"type":"string"},"organizational_unit":{"description":"组织单元名称,名称只能由\"-\"、\"_\"、\" \"、\".\"、\",\"、字母、数字、汉字组成,长度不能超过64位字符。","maxLength":64,"minLength":1,"type":"string"},"state":{"description":"省市名称,名称只能由\"-\"、\"_\"、\" \"、\".\"、\",\"、字母、数字、汉字组成,长度不能超过128位字符。","maxLength":128,"minLength":1,"type":"string"}},"required":["common_name","country","state","locality","organization","organizational_unit"],"title":"DistinguishedName","type":"object"},"Error":{"properties":{"error_code":{"description":"错误请求返回的错误码。","maxLength":36,"minLength":3,"type":"string"},"error_msg":{"description":"错误请求返回的错误信息。","maxLength":1024,"minLength":0,"type":"string"}},"required":["error_code","error_msg"],"title":"Error","type":"object"},"IssueCertificateAuthorityCertificateRequestBody":{"properties":{"crl_configuration":{"$ref":"#/definitions/CrlConfiguration","description":"证书CRL配置,详情请参见**CrlConfiguration**字段数据结构说明。"},"distinguished_name":{"$ref":"#/definitions/DistinguishedName","description":"证书名称配置,详情请参见**DistinguishedName**字段数据结构说明。(如果激活包周期CA,为必填值)"},"enterprise_project_id":{"description":"企业多项目ID。用户未开通企业多项目时,不需要输入该字段。 用户开通企业多项目时,查询资源可以输入该字段。 若用户不输入该字段,默认查询租户所有有权限的企业多项目下的资源。 此时“enterprise_project_id”取值为“all”。 若用户输入该字段,取值满足以下任一条件.\n  取值为“all”\n  取值为“0”\n  满足正则匹配:“^[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}$”","type":"string"},"issuer_id":{"description":"父CA证书ID。","maxLength":64,"minLength":1,"type":"string"},"key_algorithm":{"description":"密钥算法(如果激活包周期CA,为必填值),可选值如下:\n  - **RSA2048** : RSA算法,密钥长度2048位;\n  - **RSA4096** : RSA算法,密钥长度4096位;\n  - **EC256** : 椭圆曲线算法(Elliptic Curve Digital Signature Algorithm (ECDSA)),密钥长度256位;\n  - **EC384** : 椭圆曲线算法(Elliptic Curve Digital Signature Algorithm (ECDSA)),密钥长度384位;\n  - **SM2** : 国家密码管理局颁发的椭圆曲线算法(签名哈希算法SM3),密钥长度256位。(中国站)","type":"string"},"key_usages":{"description":"密钥用法,具体标准参见RFC 5280中:[4.2.1.3节](https://datatracker.ietf.org/doc/html/rfc5280#section-4.2.1.3)。\n  - **digitalSignature** : 数字签名;\n  - **nonRepudiation** : 不可抵赖;\n  - **keyEncipherment** : 密钥用于加密密钥数据;\n  - **dataEncipherment** : 用于加密数据;\n  - **keyAgreement** : 密钥协商;\n  - **keyCertSign** : 签发证书;\n  - **cRLSign** : 签发吊销列表;\n  - **encipherOnly** : 仅用于加密;\n  - **decipherOnly** : 仅用于解密。\n> 缺省值如下:\n> - 根CA证书:默认为**[digitalSignature,keyCertSign,cRLSign]**,忽略用户传入值;\n> - 从属CA证书:默认为**[digitalSignature,keyCertSign,cRLSign]**,支持用户自定义。","items":{"type":"string"},"type":"array"},"path_length":{"description":"路径长度。","format":"int32","maximum":6,"minimum":0,"type":"integer"},"signature_algorithm":{"description":"签名哈希算法,可选值如下:\n  - **SHA256**\n  - **SHA384**\n  - **SHA512**\n  - **SM3**(中国站)","type":"string"},"type":{"description":"创建的CA类型。(如果激活包周期CA,为必填值)\n- **ROOT** : 根CA\n- **SUBORDINATE** : 从属CA","type":"string"},"validity":{"$ref":"#/definitions/Validity","description":"证书有效期,详情请参见**Validity**字段数据结构说明。"}},"required":["issuer_id","validity","signature_algorithm"],"title":"IssueCertificateAuthorityCertificateRequestBody","type":"object"},"Validity":{"properties":{"start_from":{"description":"起始时间,为可选值:\n  - 格式为时间戳(毫秒级),如1645146939688代表2022-02-18 09:15:39;\n  - 不早于当前时间5分钟,即start_from > (current_time - 5min)。","format":"int32","type":"integer"},"type":{"description":"有效期类型,为必填值:\n  - **YEAR** : 年(12个月)\n  - **MONTH** : 月(统一按31天)\n  - **DAY** : 日\n  - **HOUR** : 小时","type":"string"},"value":{"description":"证书有效期值,与type对应的类型值,换算成年需满足以下规则:\n  - 根CA,有效期小于等于30年;\n  - 从属CA与私有证书,有效期小于等于20年。","format":"int32","type":"integer"}},"required":["type","value"],"title":"Validity","type":"object"}},"description":null,"group_id":"eeb1572024bc43b3a048b9c50f8e189d","host":"ccm.cn-north-4.myhuaweicloud.com","id":"6c559c08f5d94ec297012eb53b77d078","info_version":"v1","method":"post","name":"IssueCertificateAuthorityCertificate","parameters":{},"paths":{"/v1/private-certificate-authorities/{ca_id}/activate":{"post":{"consumes":["application/json"],"deprecated":false,"description":"激活CA。\n> 只有当证书处于\"待激活\"状态时,可进行激活操作。","operationId":"IssueCertificateAuthorityCertificate","parameters":[{"description":"所要激活的从属CA证书ID。","in":"path","maxLength":36,"minLength":36,"name":"ca_id","required":true,"type":"string","x-example":"50608bba-87c2-45f8-9fc7-5723766ced75"},{"description":"用户token,参见:[IAM token获取方法](https://support.huaweicloud.com/api-iam/iam_30_0001.html)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIePgYJKoZIhvcNAQcCoIIeLzCCHisCAQExDTALBglghkgBZQMEAgEwghxOBgkqhkiG9w0BBwGgghw..."},{"description":"IssueCertificateAuthorityCertificateRequestBody","in":"body","name":"IssueCertificateAuthorityCertificateRequestBody","required":true,"schema":{"$ref":"#/definitions/IssueCertificateAuthorityCertificateRequestBody"},"x-request-examples-1":{"issuer_id":"0562d9ae-8104-451d-b3d3-13f4f3bd936e","path_length":2,"signature_algorithm":"SHA384","validity":{"type":"MONTH","value":11}}}],"produces":["*/*"],"responses":{"204":{"description":"请求已成功,无响应body"},"400":{"description":"请求参数有误。","examples":{"application/json":{"error_code":"PCA.XXX","error_msg":"XXX"}},"schema":{"$ref":"#/definitions/Error"}},"401":{"description":"被请求的页面需要鉴权。","examples":{"application/json":{"error_code":"PCA.XXX","error_msg":"XXX"}},"schema":{"$ref":"#/definitions/Error"}},"403":{"description":"认证失败。","examples":{"application/json":{"error_code":"PCA.XXX","error_msg":"XXX"}},"schema":{"$ref":"#/definitions/Error"}},"404":{"description":"资源不存在或资源未找到。","examples":{"application/json":{"error_code":"PCA.XXX","error_msg":"XXX"}},"schema":{"$ref":"#/definitions/Error"}},"500":{"description":"服务内部错误。","examples":{"application/json":{"error_code":"PCA.XXX","error_msg":"XXX"}},"schema":{"$ref":"#/definitions/Error"}}},"summary":"激活CA","tags":["私有CA管理"],"x-is-registered":"Y","x-request-examples-1":{"issuer_id":"c718fe5f-d44a-467f-80f1-948348ff4132","path_length":3,"signature_algorithm":"SHA256","validity":{"type":"YEAR","value":1}},"x-request-examples-description-1":"激活CA,请求头中的**X-Auth-Token**字段需要填写token,且该token需要具有本API的访问权限。","x-request-examples-url-1":"POST https://ccm.cn-north-4.myhuaweicloud.com/v1/private-certificate-authorities/4c0e772e-a30c-4029-b929-b7acb04143f7/activate","x-support-sdk":"Y"}}},"product_short":"CCM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"激活CA","tags":"私有CA管理","uri":null,"version":"2.0"}