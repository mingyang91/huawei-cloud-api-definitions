{"base_path":null,"components":null,"consumes":"","definitions":{"ListResourceInstancesRequestBody":{"description":"查询资源实例请求体。","properties":{"action":{"description":"操作标识(仅限于filter,count):filter(过滤),count(查询总条数)。 为filter时表示分页查询,为count只需按照条件将总条数返回即可。","enum":["filter","count"],"type":"string"},"limit":{"description":"查询记录数。\n\naction为count时无此参数。\n\naction为filter时,默认为1000。limit最多为1000,不能为负数,最小值为1。","maxLength":32,"minLength":0,"type":"string"},"matches":{"description":"搜索字段。\n\nkey为要匹配的字段,当前只支持resource_name。\n\nvalue为匹配的值,当前为精确匹配。","items":{"$ref":"#/definitions/Match"},"maxItems":2,"minItems":0,"type":"array"},"offset":{"description":"索引位置, 从offset指定的下一条数据开始查询。 查询第一页数据时,不需要传入此参数,查询后续页码数据时,将查询前一页数据时响应体中的值带入此参数。\n\naction为count时无此参数。\n\naction为filter时,默认为0,必须为数字,且不能为负数。","maxLength":32,"minLength":0,"type":"string"},"tags":{"description":"最多包含10个key,每个key最多包含10个value,结构体不能缺失。key不能为空或者空字符串。key不能重复,同一个key中value不能重复,不同key对应的资源之间为与的关系。","items":{"$ref":"#/definitions/Tags"},"maxItems":10,"minItems":0,"type":"array"},"without_any_tag":{"description":"不包含任意一个标签,该字段为true时查询所有不带标签的资源。","type":"boolean"}},"required":["action"],"type":"object"},"ListResourceInstancesResponseBody":{"description":"查询资源实例响应体。","properties":{"resources":{"description":"资源列表。","items":{"$ref":"#/definitions/Resource"},"maxItems":1000,"minItems":0,"type":"array"},"total_count":{"description":"资源总数。","format":"int32","maximum":8096,"minimum":0,"type":"integer"}},"type":"object"},"Match":{"description":"搜索字段。","properties":{"key":{"description":"键。\n\n当前key的参数值只能取“resource_name”,此时value的参数值为资源名称。","enum":["resource_name"],"type":"string"},"value":{"description":"值。\n\n当前key的参数值只能取“resource_name”,此时value的参数值为资源名称。","maxLength":128,"minLength":0,"type":"string"}},"required":["key","value"],"type":"object"},"Resource":{"description":"资源详情。","properties":{"resource_detail":{"description":"资源详情。","maxLength":8096,"minLength":0,"type":"string"},"resource_id":{"description":"资源ID。","maxLength":32,"minLength":32,"type":"string"},"resource_name":{"description":"资源名称。","maxLength":1024,"minLength":0,"type":"string"},"tags":{"description":"标签列表。","items":{"$ref":"#/definitions/Tag"},"maxItems":9086,"minItems":0,"type":"array"}},"type":"object"},"Tag":{"description":"资源标签。","properties":{"key":{"description":"键。\n\n- 最大长度127个unicode字符。         \n- 不能为空,可以包含任意语种字母、数字、空格和_.:=+-@,不能以_sys_开头。","maxLength":127,"minLength":0,"type":"string"},"value":{"description":"值列表。\n\n- 每个值最大长度255个unicode字符。\n- 不能为空,可以包含任意语种字母、数字、空格和_.:=+-@,但首尾不能含有空格。","maxLength":255,"minLength":0,"type":"string"}},"required":["key","value"],"type":"object"},"Tags":{"description":"资源标签列表。","properties":{"key":{"description":"键。\n\n- 最大长度127个unicode字符。\n\n- key不能为空。","maxLength":128,"minLength":0,"type":"string"},"values":{"description":"值列表。\n\n- 最多10个value。\n\n- value不允许重复。\n\n- 每个值最大长度255个unicode字符。\n\n- 如果values为空则表示any_value。\n\n- value之间为或的关系。","items":{"maxLength":255,"minLength":0,"type":"string"},"maxItems":10,"minItems":0,"type":"array"}},"required":["key","values"],"type":"object"}},"description":null,"group_id":"309fd78cfbaf4fc7b0138ba244051bf6","host":"cph.cn-north-4.myhuaweicloud.com","id":"da13d7ed00424c7da33eeb31dd535e1c","info_version":"v1","method":"post","name":"ListResourceInstances","parameters":{"X-Auth-Token":{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":8096,"minLength":0,"name":"X-Auth-Token","required":true,"type":"string"},"project_id":{"description":"项目id。","in":"path","maxLength":32,"minLength":32,"name":"project_id","required":true,"type":"string"},"resource_type":{"description":"资源类型。\n\n- cph-server,云手机服务器","enum":["cph-server"],"in":"path","name":"resource_type","required":true,"type":"string"}},"paths":{"/v1/{project_id}/{resource_type}/resource_instances/action":{"post":{"description":"查询资源实例。","operationId":"ListResourceInstances","parameters":[{"$ref":"#/parameters/project_id"},{"$ref":"#/parameters/resource_type"},{"$ref":"#/parameters/X-Auth-Token"},{"description":"批量创建删除标签请求体","in":"body","name":"ListResourceInstancesRequestBody","required":true,"schema":{"$ref":"#/definitions/ListResourceInstancesRequestBody"}}],"responses":{"200":{"description":"ok","examples":{"application/json":{"resources":[{"resource_detail":null,"resource_id":"cdfs_cefs_wesas_12_dsad","resource_name":"resouece1","tags":[{"key":"key1","value":"value1"},{"key":"key2","value":"value1"}]}],"total_count":1000}},"schema":{"$ref":"#/definitions/ListResourceInstancesResponseBody"}}},"schemes":["https"],"summary":"查询资源实例","tags":["标签管理"],"x-apiexplorer-hide":false,"x-first-open-time":"2019-3-30","x-hybridcloud":false,"x-is-registered":"Y","x-open-region-cloud":"hc,hk,cmcc,fcs,ctc","x-order":3,"x-publishpath":"cph_api_0555","x-request-examples-1":{"action":"count","matches":[{"key":"resource_name","value":"resource1"}],"tags":[{"key":"key1","values":["value1","value2"]},{"key":"key2","values":["value1","value2"]}]},"x-request-examples-2":{"action":"filter","limit":"100","matches":[{"key":"resource_name","value":"resource1"}],"offset":"100","tags":[{"key":"key1","values":["value1","value2"]},{"key":"key2","values":["value1","value2"]}]},"x-request-examples-description-1":"查询资源实例数量","x-request-examples-description-2":"查询资源实例列表","x-request-examples-text-1":{"action":"count","matches":[{"key":"resource_name","value":"resource1"}],"tags":[{"key":"key1","values":["value1","value2"]},{"key":"key2","values":["value1","value2"]}]},"x-request-examples-text-2":{"action":"filter","limit":"100","matches":[{"key":"resource_name","value":"resource1"}],"offset":"100","tags":[{"key":"key1","values":["value1","value2"]},{"key":"key2","values":["value1","value2"]}]},"x-request-examples-url-1":"Post https://{CPH Endpoint}/v1/{project_id}/{resource_type}/resource_instances/action","x-request-examples-url-2":"Post https://{CPH Endpoint}/v1/{project_id}/{resource_type}/resource_instances/action","x-source":"SelfDeveloped","x-support-sdk":"Y"}}},"product_short":"CPH","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询资源实例","tags":"标签管理","uri":null,"version":"2.0"}