{"base_path":null,"components":null,"consumes":"","definitions":{"InstallApkRequestBody":{"description":"安装应用请求体。","properties":{"command":{"default":"install","description":"安装单apk场景填写install,多apk场景填写install-multiple。","maxLength":7,"minLength":7,"type":"string"},"content":{"description":"指定OBS桶中的apk文件(需要提前上传到指定桶中)。\n只支持大小写字母、数字、下划线(_)、点(.)、斜线(/)、冒号(:)、中划线(-)。推送的文件只支持apk文件类型。\n\n单apk场景,只能传一个apk,最大长度为1024字节;多apk场景,最多传50个apk,中间用空格分开,最大长度8100字节。","example":"obs://obs-bucket-name/obs-file-path/file.apk","maxLength":8096,"minLength":0,"type":"string"},"phone_ids":{"description":"云手机ID列表。\nserver_ids参数不存在时必选,同时存在只处理phone_ids。","items":{"maxLength":32,"minLength":32,"type":"string"},"maxItems":8096,"minItems":0,"type":"array"},"server_ids":{"description":"云手机服务器ID列表。\nphone_ids参数不存在时必选,同时存在只处理phone_ids。","items":{"maxLength":32,"minLength":32,"type":"string"},"maxItems":8096,"minItems":0,"type":"array"}},"required":["command","content"],"type":"object"},"InstallApkResponseBody":{"description":"安装应用响应体。","properties":{"jobs":{"description":"任务列表。","items":{"$ref":"#/definitions/PhoneJob"},"maxItems":8096,"minItems":0,"type":"array"},"request_id":{"description":"请求的唯一标识ID。","maxLength":32,"minLength":32,"type":"string"}},"type":"object"},"PhoneJob":{"description":"云手机任务。","properties":{"error_code":{"description":"错误码。","maxLength":1024,"minLength":0,"type":"string"},"error_msg":{"description":"错误说明。","maxLength":1024,"minLength":0,"type":"string"},"job_id":{"description":"任务的唯一标识。","maxLength":32,"minLength":32,"type":"string"},"phone_id":{"description":"云手机的唯一标识ID,云手机相关任务包含此字段。","maxLength":32,"minLength":32,"type":"string"}},"type":"object"}},"description":null,"group_id":"309fd78cfbaf4fc7b0138ba244051bf6","host":"cph.cn-north-4.myhuaweicloud.com","id":"543ebbe524de4873a4bbc989b28bdaaa","info_version":"v1","method":"post","name":"InstallApk","parameters":{"X-Auth-Token":{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":8096,"minLength":0,"name":"X-Auth-Token","required":true,"type":"string"},"project_id":{"description":"项目id。","in":"path","maxLength":32,"minLength":32,"name":"project_id","required":true,"type":"string"}},"paths":{"/v1/{project_id}/cloud-phone/phones/commands":{"post":{"description":"在云手机中安装apk。系统会将指定的apk文件下载后直接安装到云手机中。\n支持安装单apk应用和多apk应用。可使用install命令安装单apk应用,一次只支持安装一个apk,如果一次传多个apk只有第一个安装成功;可使用install-multiple命令安装多apk应用(多apk应用为单个应用拆分成多个apk),一次只支持同一个应用的多个apk。该接口为异步接口。接口调用前请先确保已完成CPH服务操作OBS桶的委托授权。委托CPH操作OBS桶请参见[委托CPH操作OBS桶](https://support.huaweicloud.com/bestpractice-cph/cph_bp_0050.html)。\n- 管理面性能有限,对相同服务器批量执行的ADB命令,将会阻塞云手机其他任务执行。\n- 允许安装的apk大小限制为2G(即不可将obs桶内大于2G的apk安装到手机中),超过限制将返回错误。","operationId":"InstallApk","parameters":[{"$ref":"#/parameters/project_id"},{"$ref":"#/parameters/X-Auth-Token"},{"description":"安装应用请求体。","in":"body","name":"InstallApkRequestBody","required":true,"schema":{"$ref":"#/definitions/InstallApkRequestBody"}}],"responses":{"200":{"description":"OK","examples":{"application/json":{"jobs":[{"job_id":"1564567b8bab40f34711234cb80d0123","phone_id":"1234567b8bab40ffb711234cb80d0234"},{"job_id":"1564567b8bab40f34711234cb80d5678","phone_id":"1678567b8bab40f93711234cb80d0764"}],"request_id":"6837531fd3f54550927b930180a706bf"}},"schema":{"$ref":"#/definitions/InstallApkResponseBody"}}},"schemes":["https"],"summary":"安装apk","tags":["ADB命令"],"x-apiexplorer-hide":false,"x-first-open-time":"2019-3-30","x-hybridcloud":false,"x-is-registered":"Y","x-open-region-cloud":"hc,hk,cmcc,fcs,ctc","x-order":2,"x-publishpath":"cph_api_0530","x-request-examples-1":{"command":"install","content":"-t -r obs://push-bucket/my_apps/test.apk","phone_ids":["1234567b8bab40ffb711234cb80d0234","1678567b8bab40f93711234cb80d0764"]},"x-request-examples-2":{"command":"install-multiple","content":"-t -r obs://push-bucket/my_apps/test_part1.apk obs://push-bucket/my_apps/test_part_2.apk obs://push-bucket/my_apps/test_part3.apk","phone_ids":["1234567b8bab40ffb711234cb80d0234","1678567b8bab40f93711234cb80d0764"]},"x-request-examples-description-1":"在云手机中安装apk","x-request-examples-description-2":"在云手机中安装多apk","x-request-examples-text-1":{"command":"install","content":"-t -r obs://push-bucket/my_apps/test.apk","phone_ids":["1234567b8bab40ffb711234cb80d0234","1678567b8bab40f93711234cb80d0764"]},"x-request-examples-text-2":{"command":"install-multiple","content":"-t -r obs://push-bucket/my_apps/test_part1.apk obs://push-bucket/my_apps/test_part_2.apk obs://push-bucket/my_apps/test_part3.apk","phone_ids":["1234567b8bab40ffb711234cb80d0234","1678567b8bab40f93711234cb80d0764"]},"x-request-examples-url-1":"POST https://{CPH Endpoint}/v1/{project_id}/cloud-phone/phones/commands","x-request-examples-url-2":"POST https://{CPH Endpoint}/v1/{project_id}/cloud-phone/phones/commands","x-source":"SelfDeveloped","x-support-sdk":"Y"}}},"product_short":"CPH","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"安装apk","tags":"ADB命令","uri":null,"version":"2.0"}