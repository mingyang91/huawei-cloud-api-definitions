{"base_path":null,"components":null,"consumes":"","definitions":{"RunSyncCommandJob":{"description":"执行异步shell命令任务。","properties":{"error_code":{"description":"任务错误码。","maxLength":1024,"minLength":0,"type":"string"},"error_msg":{"description":"任务错误码说明。","maxLength":1024,"minLength":0,"type":"string"},"execute_msg":{"description":"任务执行返回内容,最长1024字节。","maxLength":1024,"minLength":0,"type":"string"},"job_id":{"description":"任务的唯一标识。","maxLength":32,"minLength":32,"type":"string"},"phone_id":{"description":"云手机的唯一标识,云手机相关任务包含此字段。","maxLength":32,"minLength":32,"type":"string"},"status":{"description":"任务状态\n- 2:成功\n- 1:运行中\n- -1:失败","format":"int32","maximum":128,"minimum":-128,"type":"integer"}},"type":"object"},"RunSyncCommandRequestBody":{"description":"执行shell命令请求体。","properties":{"command":{"default":"shell","description":"ADB命令,固定填写shell。","maxLength":5,"minLength":5,"type":"string"},"content":{"description":"待执行的命令。\n\n最大长度为1024字节,只支持大小写字母、数字、下划线(_)、点(.)、斜线(/)、冒号(:)、中划线(-)。","example":"ls -l /system","maxLength":1024,"minLength":0,"type":"string"},"phone_ids":{"description":"云手机ID列表。\nserver_ids参数不存在时必选,同时存在只处理phone_ids。","items":{"maxLength":32,"minLength":32,"type":"string"},"maxItems":8096,"minItems":0,"type":"array"},"server_ids":{"description":"云手机服务器ID列表。\nphone_ids参数不存在时必选,同时存在只处理phone_ids。","items":{"maxLength":32,"minLength":32,"type":"string"},"maxItems":8096,"minItems":0,"type":"array"}},"required":["command","content"],"type":"object"},"RunSyncCommandResponseBody":{"description":"执行shell命令响应体。","properties":{"jobs":{"description":"任务列表。","items":{"$ref":"#/definitions/RunSyncCommandJob"},"maxItems":8096,"minItems":0,"type":"array"},"request_id":{"description":"请求的唯一标识ID。","maxLength":32,"minLength":32,"type":"string"}},"type":"object"}},"description":null,"group_id":"309fd78cfbaf4fc7b0138ba244051bf6","host":"cph.cn-north-4.myhuaweicloud.com","id":"a66b8132c7614b76a0c5a137a8fe3558","info_version":"v1","method":"post","name":"RunSyncCommand","parameters":{"X-Auth-Token":{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":8096,"minLength":0,"name":"X-Auth-Token","required":true,"type":"string"},"project_id":{"description":"项目id。","in":"path","maxLength":32,"minLength":32,"name":"project_id","required":true,"type":"string"}},"paths":{"/v1/{project_id}/cloud-phone/phones/sync-commands":{"post":{"description":"在云手机中同步执行命令并返回命令执行的输出信息,该接口仅支持adb shell命令的执行。1分钟内每个用户调用接口次数上限为6次,每个云手机允许执行命令超时时间为2秒,接口时间不超过30秒,执行云手机数越多,接口耗时相应越长。","operationId":"RunSyncCommand","parameters":[{"$ref":"#/parameters/project_id"},{"$ref":"#/parameters/X-Auth-Token"},{"description":"同步命令请求体","in":"body","name":"RunSyncCommandRequestBody","required":true,"schema":{"$ref":"#/definitions/RunSyncCommandRequestBody"}}],"responses":{"200":{"description":"OK","examples":{"application/json":{"jobs":[{"error_code":"CPS.0191","error_msg":"Run command failed.","execute_msg":"ls: cannot access '/system': No such file or directory","job_id":"3fc17538866a4ff3a014d8bc6aaa4b69","phone_id":"1234567b8bab40ffb711234cb80d0234","status":-1},{"error_code":"","error_msg":"","execute_msg":"xxxxx","job_id":"1564567b8bab40f34711234cb80d5678","phone_id":"1678567b8bab40f93711234cb80d0764","status":2}],"request_id":"6837531fd3f54550927b930180a706bf"}},"schema":{"$ref":"#/definitions/RunSyncCommandResponseBody"}}},"schemes":["https"],"summary":"执行同步adb命令","tags":["ADB命令"],"x-apiexplorer-hide":false,"x-first-open-time":"2019-3-30","x-hybridcloud":false,"x-is-registered":"Y","x-open-region-cloud":"hc,hk,cmcc,fcs","x-order":5,"x-publishpath":"cph_api_0537","x-request-examples-1":{"command":"shell","content":"ls -l /system","phone_ids":["1234567b8bab40ffb711234cb80d0234","1678567b8bab40f93711234cb80d0764"]},"x-request-examples-description-1":"向手机列表中的手机同步执行shell命令,命令为ls -l /system","x-request-examples-text-1":{"command":"shell","content":"ls -l /system","phone_ids":["1234567b8bab40ffb711234cb80d0234","1678567b8bab40f93711234cb80d0764"]},"x-request-examples-url-1":"POST https://{CPH Endpoint}/v1/{project_id}/cloud-phone/phones/sync-commands","x-source":"SelfDeveloped","x-support-sdk":"Y"}}},"product_short":"CPH","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"执行同步adb命令","tags":"ADB命令","uri":null,"version":"2.0"}