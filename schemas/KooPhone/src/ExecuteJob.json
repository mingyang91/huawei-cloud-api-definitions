{"base_path":"/v1","components":null,"consumes":"","definitions":{"ErrorInfo":{"description":"响应结果","properties":{"error_code":{"description":"响应码,KOOPHONE.API.0001,数字递增","type":"string"},"error_msg":{"description":"响应描述","type":"string"}},"required":["error_code"],"type":"object"},"InstanceJobsRsp":{"description":"任务查询响应","properties":{"data":{"$ref":"#/definitions/JobDetailWrapper","description":"根据task_id查询出的任务列表","type":"object"},"error_code":{"description":"响应码,错误码规范KooPhone.API.1001,数字递增","type":"string"},"error_msg":{"description":"响应描述","type":"string"}},"type":"object"},"JobDetail":{"description":"任务查询响应","properties":{"error_code":{"description":"任务错误码","type":"string"},"error_msg":{"description":"任务错误码说明","type":"string"},"execute_msg":{"description":"任务执行返回内容,最长1024字节。命令执行成功和失败均将命令的输出返回","maxLength":1024,"type":"string"},"job_id":{"description":"任务唯一标识","type":"string"},"status":{"description":"任务状态。1 表示运行中,2表示成功,-1表示失败","enum":[1,2,-1],"format":"int32","type":"integer"}},"type":"object"},"JobDetailWrapper":{"description":"任务查询响应包装","properties":{"jobs":{"description":"根据task_id查询出的任务列表","items":{"$ref":"#/definitions/JobDetail"},"maxItems":100,"type":"array"}}}},"description":null,"group_id":"b920e5b33acf4bffbda9e4ceb1a26a46","host":"koophone.myhuaweicloud.com","id":"eba6a67af40c48fe84608671a165811c","info_version":"v1","method":"get","name":"ExecuteJob","parameters":{},"paths":{"/instances/tasks/{task_id}":{"get":{"description":"实例执行任务批量查询。\n调用此api的前提条件是租户需要先购买koophone云手机实例。\n该接口需要和实例执行异步命令接口一起使用,使用实例执行异步命令接口返回的task_id作为路径上的参数以此获取异步命令执行的结果。","operationId":"ExecuteJob","parameters":[{"description":"租户级Token","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"异步请求返回的任务id","in":"path","name":"task_id","required":true,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"正常响应","examples":{"application/json":{"data":{"jobs":[{"error_code":"CPS0005","error_msg":"Phone not found.","execute_msg":null,"job_id":"1564567b8bab40f34711234cb80d0123","status":-1},{"error_code":"","error_msg":"","execute_msg":"xxxxxx","job_id":"1564567b8bab40f34711234cb80d0456","status":2}]},"error_code":"0","error_msg":"ok"}},"schema":{"$ref":"#/definitions/InstanceJobsRsp"}},"400":{"description":"请求错误","schema":{"$ref":"#/definitions/ErrorInfo"}},"500":{"description":"内部错误","schema":{"$ref":"#/definitions/ErrorInfo"}}},"summary":"实例执行任务查询","tags":["实例管理"],"x-is-registered":"Y","x-request-examples-url-1":"/v1/instances/tasks/6837531fd3f54550927b930180a706bf","x-support-sdk":"Y"}}},"product_short":"KooPhone","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"实例执行任务查询","tags":"实例管理","uri":null,"version":"2.0"}