{"base_path":"/v1","components":null,"consumes":"","definitions":{"CmdJob":{"description":"命令任务","properties":{"instance_id":{"description":"实例列表","maxLength":32,"type":"string"},"job_id":{"description":"异步命令任务id","type":"string"}},"type":"object"},"ErrorInfo":{"description":"响应结果","properties":{"error_code":{"description":"响应码,KOOPHONE.API.0001,数字递增","type":"string"},"error_msg":{"description":"响应描述","type":"string"}},"required":["error_code"],"type":"object"},"InstanceAsyncCommandsInfo":{"description":"执行异步命令响应","properties":{"cmd_jobs":{"description":"响应任务列表","items":{"$ref":"#/definitions/CmdJob"},"maxItems":100,"type":"array"},"task_id":{"description":"任务id","maxLength":32,"type":"string"}},"type":"object"},"InstanceAsyncCommandsReq":{"description":"执行异步命令请求","properties":{"command":{"description":"命令,最大长度为1024字节,只支持大小写字母、数字、下划线(_)、点(.)、斜线(/)、冒号(:)、中划线(-)。","maxLength":1024,"type":"string"},"instance_ids":{"description":"实例列表","items":{"maxLength":32,"type":"string"},"maxItems":100,"type":"array"}},"required":["command","instance_ids"],"type":"object"},"InstanceAsyncCommandsRsp":{"description":"执行异步命令响应","properties":{"data":{"$ref":"#/definitions/InstanceAsyncCommandsInfo","description":"响应内容"},"error_code":{"description":"响应码,错误码规范KooPhone.API.1001,数字递增","type":"string"},"error_msg":{"description":"响应描述","type":"string"}},"type":"object"}},"description":null,"group_id":"b920e5b33acf4bffbda9e4ceb1a26a46","host":"koophone.myhuaweicloud.com","id":"e1abeecf8a934a42b968fec7964df837","info_version":"v1","method":"post","name":"AsyncInvokeInstance","parameters":{},"paths":{"/instances/async-command":{"post":{"consumes":["application/json"],"description":"实例执行异步命令接口。\n调用此api的前提条件是租户需要先购买koophone云手机实例。\n可以通过调用该接口实现对自己的koophone云手机实例进行异步adb指令操作。\n调用完该接口后携带该接口返回的task_id去调用实例执行任务查询接口。","operationId":"AsyncInvokeInstance","parameters":[{"description":"执行异步命令请求","in":"body","name":"InstanceAsyncCommandsReq","required":true,"schema":{"$ref":"#/definitions/InstanceAsyncCommandsReq"}},{"description":"租户级Token","in":"header","name":"X-Auth-Token","required":true,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"正常响应","examples":{"application/json":{"data":{"cmd_jobs":[{"instance_id":"a44uhlf7","job_id":"1564567b8bab40f34711234cb80d0123"},{"instance_id":"efjy72gs","job_id":"1564567b8bab40f34711234cb80d0456"}],"task_id":"6837531fd3f54550927b930180a706bf"},"error_code":"0","error_msg":"ok"}},"schema":{"$ref":"#/definitions/InstanceAsyncCommandsRsp"}},"400":{"description":"请求错误","schema":{"$ref":"#/definitions/ErrorInfo"}},"500":{"description":"内部错误","schema":{"$ref":"#/definitions/ErrorInfo"}}},"summary":"实例执行异步命令","tags":["实例管理"],"x-is-registered":"Y","x-request-examples-1":{"command":"ls -l /system","instance_ids":["a44uhlf7","efjy72gs"]},"x-request-examples-text-1":{"command":"ls -l /system","instance_ids":["a44uhlf7","efjy72gs"]},"x-request-examples-url-1":"/v1/instances/async-command","x-support-sdk":"Y"}}},"product_short":"KooPhone","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"实例执行异步命令","tags":"实例管理","uri":null,"version":"2.0"}