{"base_path":"/","components":null,"consumes":"","definitions":{"ErrorRsp400":{"description":"请求参数错误。","example":{"description":"请求参数错误。","error_code":400},"properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":0,"type":"string"},"error_description":{"description":"请求参数错误。","maxLength":512,"minLength":0,"type":"string"}},"required":["error_code","error_description"]},"ErrorRsp401":{"description":"校验TOKEN失败。","example":{"description":"校验TOKEN失败","error_code":401},"properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":0,"type":"string"},"error_description":{"description":"校验TOKEN失败。","maxLength":512,"minLength":0,"type":"string"}},"required":["error_code","error_description"]},"ErrorRsp404":{"description":"没有找到CBH资源。","example":{"description":"没有找到CBH资源","error_code":404},"properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":0,"type":"string"},"error_description":{"description":"没有找到CBH资源。","maxLength":512,"minLength":0,"type":"string"}},"required":["error_code","error_description"]},"ErrorUpgrade403":{"description":"租户无权限操作。","example":{"description":"已是最新版本不需要升级/agent未启动","error_code":403},"properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":0,"type":"string"},"error_description":{"description":"已是最新版本不需要升级/agent未启动。","maxLength":512,"minLength":0,"type":"string"}},"required":["error_code","error_description"]},"UpgradeCbhRequestBody":{"description":"云堡垒机实例请求对象。","example":{"server_id":"c7277d87-5a0d-4cfc-a418-97acb567cf29","upgrade_time":1702974655000},"properties":{"cancel":{"description":"是否取消升级定时任务,已开始任务不可取消。\n- true:取消\n- false:无影响","type":"boolean"},"server_id":{"description":"实例id","maxLength":36,"minLength":0,"type":"string"},"upgrade_time":{"description":"定时升级的时间,需要比当前时间大24小时","example":1700118620000,"format":"int64","maximum":99999999999999,"minimum":0,"type":"integer"}},"required":["server_id","upgrade_time"],"type":"object"}},"description":null,"group_id":"7ca682347ead4c1fb438ad170990cc74","host":"cbh.cn-north-4.myhuaweicloud.com","id":"b3a59ab8f50a4261bbd0ffc1f27eb676","info_version":"v2","method":"post","name":"UpgradeInstance","parameters":{"X-Auth-Token":{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。\n\n可参考\"IAM获取IAM用户Token\"获取","in":"header","maxLength":28000,"minLength":0,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIE5gYJKoZIhvcNAQcCoIIE1zCCXXXXXX..."},"project_id":{"description":"项目ID。\n\n获取方法详见API参考,附录\"获取项目ID\"","in":"path","maxLength":64,"minLength":0,"name":"project_id","required":true,"type":"string","x-example":"80baxxxxxxxxf9ad43xxxxxxxxx"}},"paths":{"/v2/{project_id}/cbs/instance/upgrade":{"post":{"description":"升级云堡垒机实例。","operationId":"UpgradeInstance","parameters":[{"$ref":"#/parameters/project_id"},{"$ref":"#/parameters/X-Auth-Token"},{"description":"UpgradeInstanceRequestBody","in":"body","name":"UpgradeInstanceRequestBody","required":true,"schema":{"$ref":"#/definitions/UpgradeCbhRequestBody"}}],"produces":["application/json"],"responses":{"200":{"description":"Upgrade Cbh Instance Success"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/ErrorRsp400"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/ErrorRsp401"}},"403":{"description":"已是最新版本不需要升级/agent未启动","schema":{"$ref":"#/definitions/ErrorUpgrade403"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/ErrorRsp404"}}},"summary":"升级堡垒机实例","tags":["操作管理"],"x-apigateway-ratelimit":"CBH_Server","x-is-registered":"Y","x-open-region-cloud":"hws,hws_hk,ctc,cmcc","x-support-sdk":"Y"}}},"product_short":"CBH","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"升级堡垒机实例","tags":"操作管理","uri":null,"version":"2.0"}