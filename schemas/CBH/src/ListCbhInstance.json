{"base_path":"/","components":null,"consumes":"","definitions":{"CbhListInfo":{"description":"CBH实例列表信息","example":{"instance":{"alterPermit":"1","availability_zone_display":"可用区3","bastionVersion":null,"bastion_type":"OEM","created":"2022-10-29 00:08:33.0","createinstanceStatus":"starting-cbs-service","endTime":"1669737599000","enterpriseProjectId":"0","expTime":"12","failReason":"No FailReason Now","instanceDescription":"Agent not exist or agent miss","instanceId":"de8a7d05-0455-4a9f-b83a-09af1ae5d166","instanceKey":"3559","instanceStatus":"error","name":"CBH-2804","newBastionVersion":null,"orderId":"CS2210290007GIOPA","periodNum":"1,2","privateIp":"192.168.1.47","publicId":"ae265511-fcb6-4388-b81e-9c7beb72d495","publicIp":null,"region":"cn-north-7","releaseTime":"1671638399000","resourceId":"d70549ea-c71e-49ed-8649-fa9c4a39a7ad","securityGroupId":"02dcf62d-b84d-4a14-aad3-c310f2ceea55","specification":"cbh.basic.50","startTime":"1666973907000","status":"ACTIVE","subnetId":"be5feb75-9d25-461a-8526-81680ee9248f","taskStatus":"NO_TASK","update":"OLD","vpcId":"cd70c1cd-b180-41a0-ba62-bf0e360ead0b","webPort":null,"zone":"cn-north-7c"},"quota_detail":null,"total":2},"properties":{"instance":{"$ref":"#/definitions/Instances"},"quotaDetail":{"$ref":"#/definitions/QuotaDetail"},"total":{"description":"云堡垒机实例总数。","format":"int32","maximum":100,"minimum":0,"type":"integer"}},"required":["total","quotaDetail","instance"]},"ErrorRsp400":{"description":"请求参数错误。","example":{"description":"请求参数错误。","error_code":400},"properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":0,"type":"string"},"error_description":{"description":"请求参数错误。","maxLength":512,"minLength":0,"type":"string"}},"required":["error_code","error_description"]},"ErrorRsp401":{"description":"校验TOKEN失败。","example":{"description":"校验TOKEN失败","error_code":401},"properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":0,"type":"string"},"error_description":{"description":"校验TOKEN失败。","maxLength":512,"minLength":0,"type":"string"}},"required":["error_code","error_description"]},"ErrorRsp403":{"description":"租户无权限操作。","example":{"description":"租户无权限操作","error_code":403},"properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":0,"type":"string"},"error_description":{"description":"租户无权限操作。","maxLength":512,"minLength":0,"type":"string"}},"required":["error_code","error_description"]},"ErrorRsp404":{"description":"没有找到CBH资源。","example":{"description":"没有找到CBH资源","error_code":404},"properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":0,"type":"string"},"error_description":{"description":"没有找到CBH资源。","maxLength":512,"minLength":0,"type":"string"}},"required":["error_code","error_description"]},"InstanceDetail":{"description":"CBH实例详情","example":{},"properties":{"alterPermit":{"description":"云堡垒机实例是否可以扩容。\n- 1 开启扩容\n- 0 关闭扩容","maxLength":36,"minLength":0,"type":"string"},"availability_zone_display":{"description":"云堡垒机实例所在可用区中文名称。","maxLength":36,"minLength":0,"type":"string"},"bastionVersion":{"description":"云堡垒机实例当前版本。","maxLength":36,"minLength":0,"type":"string"},"bastion_type":{"description":"云堡垒机实例堡垒机类型。\n- OEM","maxLength":36,"minLength":0,"type":"string"},"created":{"description":"云堡垒机实例创建时间,使用UTC时间表示。","maxLength":12,"minLength":0,"type":"string"},"createinstanceStatus":{"description":"云堡垒机实例在创建实例过程中的过程状态信息。\n- Waiting for payment,等待支付\n- creating-network,创建网络\n- creating-server,创建服务\n- tranfering-horizontal-network,网络打通\n- adding-policy-route,添加路由策略\n- configing-dns,配置DNS\n- starting-cbs-service,服务运行中\n- setting-init-conf,初始化\n- buying-EIP,购买弹性公网IP","maxLength":36,"minLength":0,"type":"string"},"endTime":{"description":"云堡垒机实例结束时间,使用时间戳格式表示。","maxLength":12,"minLength":0,"type":"string"},"enterpriseProjectId":{"description":"云堡垒机实例所属企业项目ID。","maxLength":36,"minLength":0,"type":"string"},"expTime":{"description":"云堡垒机实例过期时间。","maxLength":4,"minLength":0,"type":"string"},"failReason":{"description":"云堡垒机实例创建实例失败原因。","maxLength":36,"minLength":0,"type":"string"},"haId":{"description":"云堡垒机实例主备ID。\n- 单机堡垒机实例默认返回null\n- HA堡垒机实例返回主机HAID","maxLength":36,"minLength":0,"type":"string"},"instanceDescription":{"description":"云堡垒机实例状态描述。","maxLength":36,"minLength":0,"type":"string"},"instanceId":{"description":"云堡垒机实例ID,UUID格式。","maxLength":36,"minLength":0,"type":"string"},"instanceKey":{"description":"云堡垒机实例key。","maxLength":36,"minLength":0,"type":"string"},"instanceStatus":{"description":"云堡垒机实例状态。\n- building  创建中\n- deleting  删除中\n- deleted 删除了\n- unpaid  未支付\n- upgrading 升级中\n- resizing  扩容中\n- abnormal  异常\n- error 故障\n- ok  正常","maxLength":36,"minLength":0,"type":"string"},"instanceType":{"description":"云堡垒机实例类型。\n- null  单机默认返回null\n- master  HA时返回主机\n- slave HA时返回备机","maxLength":36,"minLength":0,"type":"string"},"name":{"description":"云堡垒机实例名称。","maxLength":32,"minLength":1,"type":"string"},"newBastionVersion":{"description":"云堡垒机实例可以升级的版本。","maxLength":36,"minLength":0,"type":"string"},"orderId":{"description":"订单ID。","maxLength":36,"minLength":0,"type":"string"},"periodNum":{"description":"云堡垒机实例订购周期数。","maxLength":36,"minLength":0,"type":"string"},"privateIp":{"description":"云堡垒机实例私有ip。","maxLength":15,"minLength":0,"type":"string"},"publicId":{"description":"云堡垒机实例绑定公网的弹性IP的ID,UUID格式表示。","maxLength":36,"minLength":0,"type":"string"},"publicip":{"description":"云堡垒机实例弹性公网IP,返回默认值null","maxLength":15,"minLength":0,"type":"string"},"region":{"description":"云堡垒机实例所在局点。","maxLength":36,"minLength":0,"type":"string"},"releaseTime":{"description":"云堡垒机释放时间,使用时间戳格式表示。","maxLength":12,"minLength":0,"type":"string"},"resourceId":{"description":"云堡垒机实例的资源id,UUID格式显示。","maxLength":36,"minLength":0,"type":"string"},"securityGroupId":{"description":"云堡垒机实例所属的安全组的ID。","maxLength":36,"minLength":0,"type":"string"},"slaveZone":{"description":"备可用分区,默认返回null。","maxLength":36,"minLength":0,"type":"string"},"slaveZoneDisplay":{"description":"云堡垒机实例备机可用分区名称。\n单机堡垒机实例和备机堡垒机实例返回null,HA堡垒机实例主机返回备机所在可用区名称。","maxLength":36,"minLength":0,"type":"string"},"specification":{"description":"云堡垒机实例规格。","maxLength":36,"minLength":0,"type":"string"},"startTime":{"description":"云堡垒机实例开始时间,使用时间戳格式表示。","maxLength":12,"minLength":0,"type":"string"},"status":{"description":"云堡垒机实例状态。\n- SHUTOFF 已关闭\n- ACTIVE 运行中\n- DELETING 删除中\n- BUILD 创建中\n- DELETED 已删除\n- ERROR 故障\n- HAWAIT 等待备机创建成功\n- FROZEN 已冻结\n- UPGRADING 升级中\n- UNPAID 待支付\n- RESIZE 规格变更中\n- DILATATION 扩容中\n- HA 配置HA中","maxLength":36,"minLength":0,"type":"string"},"subnetId":{"description":"云堡垒机实例所在子网的ID。","maxLength":36,"minLength":0,"type":"string"},"taskStatus":{"description":"云堡垒机实例当前的任务状态。\n- powering-on 开启\n- powering-off 关闭\n- rebooting 重启\n- delete_wait 删除\n- frozen 冻结\n- NO_TASK 运行\n- unfrozen 解冻\n- alter 变更\n- updating 升级中\n- configuring-ha 配置HA","maxLength":36,"minLength":1,"type":"string"},"update":{"description":"云堡垒机实例是否可以升级。\n- NEW,可以升级\n- OLD,不能升级","maxLength":36,"minLength":0,"type":"string"},"vip":{"description":"云堡垒机实例浮动ip。返回默认值null","maxLength":36,"minLength":0,"type":"string"},"vpcId":{"description":"云堡垒机实例所在虚拟私有云的VPC ID。","maxLength":36,"minLength":0,"type":"string"},"webPort":{"description":"云堡垒机实例WEB界面访问的端口号。","maxLength":36,"minLength":0,"type":"string"},"zone":{"description":"云堡垒机实例所在可用区。","maxLength":36,"minLength":0,"type":"string"}},"required":["publicip","expTime","startTime","endTime","releaseTime","name","instanceId","privateIp","status","taskStatus","created","region","zone","availability_zone_display","vpcId","subnetId","securityGroupId","specification","update","createinstanceStatus","failReason","instanceKey","orderId","periodNum","resourceId","bastion_type","publicId","alterPermit","bastionVersion","newBastionVersion","instanceStatus","instanceDescription"]},"Instances":{"description":"云堡垒机实例列表信息。","items":{"$ref":"#/definitions/InstanceDetail"},"maxItems":512,"minItems":0,"type":"array"},"QuotaDetail":{"description":"当前用户云堡垒机的配额信息。返回默认值null。","properties":{"en_us":{"description":"英文配额描述。","maxLength":512,"minLength":0,"type":"string"},"remaining":{"description":"租户剩余配额数量。","format":"int32","maximum":100,"minimum":0,"type":"integer"},"zh_cn":{"description":"中文配额描述。","maxLength":512,"minLength":0,"type":"string"}},"required":["zh_cn","en_us","remaining"]}},"description":null,"group_id":"7ca682347ead4c1fb438ad170990cc74","host":"cbh.cn-north-4.myhuaweicloud.com","id":"81f23de3c0d14b37956c4d31f1a06644","info_version":"v1","method":"get","name":"ListCbhInstance","parameters":{},"paths":{"/v1/{project_id}/cbs/instance/list":{"get":{"description":"获取当前租户下的云堡垒机实例列表。","operationId":"ListCbhInstance","parameters":[{"description":"项目ID。获取方法详见API参考,附录[获取项目ID](https://support.huaweicloud.com/api-cbh/cbh_02_0020.html)。","in":"path","maxLength":36,"minLength":1,"name":"project_id","required":true,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"查询云堡垒机实例列表信息成功。","examples":{"application/json":{"instance":[{"alterPermit":"1","availability_zone_display":"可用区3","bastionVersion":"3.3.41.0","bastion_type":"OEM","created":"2022-12-02 00:04:42.0","createinstanceStatus":"starting-cbs-service","endTime":"1672675199000","enterpriseProjectId":"0","expTime":"14","failReason":"No FailReason Now","haId":null,"instanceDescription":"LoadBalance service error!,2022-12-19 17:14:30,{\"d_usage\":\"0.80\",\"m_usage\":\"30.04\",\"c_usage\":\"0.62\",\"session_count\":\"0\"","instanceId":"f7854c8d-9bbc-4970-8b7d-6ed8280f6bfe","instanceKey":"6771","instanceStatus":"error","instanceType":null,"name":"CBH-8a80","newBastionVersion":"3.3.40.1","orderId":"CS22120200031TOLA","periodNum":"1,2","privateIp":"192.168.0.67","publicId":"","publicip":"null","region":"cn-north-4","releaseTime":"1675267199000","resourceId":"01903dfb-11fc-4ae4-8bff-bca51d11ad92","securityGroupId":"c5564ac2-bdcf-4e45-b892-92c2ae79ecd9","slaveZone":null,"slaveZoneDisplay":null,"specification":"cbh.basic.50","startTime":"1669911490000","status":"SHUTOFF","subnetId":"a86217e6-a96d-4803-ae5c-b57da6811249","taskStatus":"NO_TASK","update":"OLD","vip":null,"vpcId":"279e8217-4a8a-4d83-8fd9-b8f14d47170b","webPort":"443","zone":"cn-north-4c"}],"quotaDetail":"null","total":1}},"schema":{"$ref":"#/definitions/CbhListInfo"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/ErrorRsp400"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/ErrorRsp401"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorRsp403"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/ErrorRsp404"}}},"summary":"获取CBH实例列表","tags":["云堡垒机信息查询"],"x-is-registered":"Y","x-support-sdk":"Y"}}},"product_short":"CBH","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"获取CBH实例列表","tags":"云堡垒机信息查询","uri":null,"version":"2.0"}