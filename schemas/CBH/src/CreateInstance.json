{"base_path":"/","components":null,"consumes":"","definitions":{"CreateInstanceBody":{"description":"创建堡垒机实例请求参数。","example":{"attach_disk_size":"附加磁盘大小","availability_zone":"cn-north-4a","charging_mode":0,"enterprise_project_id":"0","instance_name":"CBH-155f","ipv6_enable":false,"is_auto_pay":0,"is_auto_renew":0,"network":{"private_ip":{"floating_ip":"123.xxx.41.xx","ip":"123.xxx.41.xx","slave_ip":"123.xxx.41.xx"},"public_ip":{"id":"cfcab481-xxxx-4e23-xxxx-d6cdd0efxxxx","public_eip":"123.xxx.41.xx"},"security_groups":[{"id":"1e10bc4f-xxxx-4452-xxxx-8ddb4348xxx"}],"subnet_id":"a86217e6-xxxx-4803-xxxx-b57da681xxxx","vpc_id":"279e8217-xxxx-4d83-xxxx-b8f14d47170b"},"password":"1xxx6xxxx","period_num":1,"period_type":2,"region":"cn-north-4","slave_availability_zone":"cn-north-4a","specification":"cbh.basic.50","tags":[{"key":"key","value":"value"}]},"properties":{"attach_disk_size":{"description":"附加磁盘大小。单位TB\n\n> 说明:\n附加磁盘和规格自带磁盘大小合起来不能超过300TB。","maximum":300,"minimum":0,"type":"integer"},"availability_zone":{"description":"创建云堡垒机所在的可用分区,需要指定可用分区名称。(主备模式是作为主机可用区)\n\n可参考[地区和终端节点](https://developer.huaweicloud.com/endpoint)获取。","maxLength":64,"minLength":0,"type":"string"},"charging_mode":{"description":"计费模式。\n- 0 包周期计费。","maximum":9223372036854775807,"minimum":0,"type":"integer"},"enterprise_project_id":{"description":"企业项目ID。\n\n默认值为“0”。","maxLength":64,"minLength":0,"type":"string"},"instance_name":{"description":"云堡垒机实例名称,取值范围:\n\n只能由中文字符、英文字母、数字及“_”、“-”组成,且长度为[1-64]个字符。\n\n例如:CBH-6b8e","maxLength":64,"minLength":0,"type":"string"},"ipv6_enable":{"description":"云堡垒机实例是否支持IPV6。\n\n默认值为“false”。","maxLength":64,"minLength":0,"type":"boolean"},"is_auto_pay":{"$ref":"#/definitions/IsAutoPay"},"is_auto_renew":{"description":"是否自动续订。\n- 1,自动续订\n- 0,不自动续订\n\n默认值为“0”","maximum":64,"minimum":0,"type":"integer"},"network":{"$ref":"#/definitions/NetworkInfoCreate"},"password":{"description":"堡垒机实例前端登录密码。\n\n密码规则:8-32位,不能包含amdin或nidma及其大写形式,必须包含大小写数字特殊字符四种类型中的三种。","maxLength":64,"minLength":0,"type":"string"},"period_num":{"description":"订购周期数。(包周期模式必传)\n- period_type=2(周期类型为月),取值范围[1,9]\n- periodType=3(周期类型为年),取值范围[1,10]","maximum":9223372036854775807,"minimum":0,"type":"integer"},"period_type":{"description":"订购周期类型。(包周期模式必传)\n- 2:月\n- 3:年","maximum":9223372036854775807,"minimum":0,"type":"integer"},"region":{"description":"创建云堡垒机实例所在局点ID。\n\n\n可参考[地区和终端节点](https://developer.huaweicloud.com/endpoint)获取。","maxLength":64,"minLength":0,"type":"string"},"slave_availability_zone":{"description":"创建云堡垒机备机所在的可用分区,需要指定可用分区名称。(只创建单机时不传此字段)。\n\n可参考[地区和终端节点](https://developer.huaweicloud.com/endpoint)获取。","maxLength":64,"minLength":0,"type":"string"},"specification":{"description":"待创建云堡垒机规格ID,例如:\n- cbh.basic.50\n- cbh.enhance.50\n\n已上线的规格请参见《云堡垒机产品介绍》的[服务版本差异](https://support.huaweicloud.com/productdesc-cbh/cbh_01_0010.html)章节。","maxLength":64,"minLength":0,"type":"string"},"tags":{"description":"标签信息。","items":{"$ref":"#/definitions/ResourceTag"},"maxItems":36,"minItems":0,"type":"array"}},"required":["specification","instance_name","password","region","availability_zone","charging_mode","network"]},"CreateInstanceOrderRespon":{"description":"订单返回对象","example":{"order_id":"CS22xxx82xx5AGxxx"},"properties":{"order_id":{"description":"订单ID。","maxLength":36,"minLength":0,"type":"string"}},"required":["order_id"]},"ErrorRsp400":{"description":"请求参数错误。","example":{"description":"请求参数错误。","error_code":400},"properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":0,"type":"string"},"error_description":{"description":"请求参数错误。","maxLength":512,"minLength":0,"type":"string"}},"required":["error_code","error_description"]},"ErrorRsp401":{"description":"校验TOKEN失败。","example":{"description":"校验TOKEN失败","error_code":401},"properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":0,"type":"string"},"error_description":{"description":"校验TOKEN失败。","maxLength":512,"minLength":0,"type":"string"}},"required":["error_code","error_description"]},"ErrorRsp403":{"description":"租户无权限操作。","example":{"description":"租户无权限操作","error_code":403},"properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":0,"type":"string"},"error_description":{"description":"租户无权限操作。","maxLength":512,"minLength":0,"type":"string"}},"required":["error_code","error_description"]},"ErrorRsp404":{"description":"没有找到CBH资源。","example":{"description":"没有找到CBH资源","error_code":404},"properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":0,"type":"string"},"error_description":{"description":"没有找到CBH资源。","maxLength":512,"minLength":0,"type":"string"}},"required":["error_code","error_description"]},"IsAutoPay":{"description":"是否自动支付,下单订购后,是否自动从客户的华为云账户中支付,而不需要客户手动去进行支付。\n- 1:是(会自动选择折扣和优惠券进行优惠,然后自动从客户华为云账户中支付),自动支付失败后会生成订单成功(该订单应付金额是优惠后金额)、但订单状态为“待支付”,等待客户手动支付(手动支付时,客户还可以修改系统自动选择的折扣和优惠券)\n- 0:否(需要客户手动去支付,客户可以选择折扣和优惠券。)\n\n默认值为“0”","maximum":2,"minimum":0,"type":"integer"},"NetworkInfoCreate":{"description":"切换云堡垒机实例vpc所需网络信息。","example":{"privateIp":{"ip":"192.168.0.3"},"subnetId":"90b6be71-e72a-4d5a-8838-5924bce3c583","vpcId":"760071b3-34a3-4359-bf18-3af24e77c1cf"},"properties":{"private_ip":{"$ref":"#/definitions/PrivateIp"},"public_ip":{"$ref":"#/definitions/PublicIp"},"security_groups":{"description":"安全组信息。","items":{"$ref":"#/definitions/SecurityGroup"},"maxItems":512,"minItems":0,"type":"array","uniqueItems":true},"subnet_id":{"description":"子网ID,字母数字下划线连接符组成。","maxLength":36,"minLength":0,"type":"string"},"vpc_id":{"description":"待创建云服务器所属虚拟私有云(简称VPC),需要指定已创建VPC的ID,UUID格式。\n\nVPC的ID可以从控制台或者参考《虚拟私有云接口参考》的“查询VPC”章节获取。\n\n例如:03211ecf-xxxx-4306-xxxx-6e939bfxxxxx","maxLength":64,"minLength":0,"type":"string"}},"required":["vpc_id","subnet_id","public_ip","security_groups"]},"PrivateIp":{"description":"云堡垒机实例指定公网IP信息。","properties":{"floating_ip":{"description":"浮动IP地址。","maxLength":512,"minLength":0,"type":"string"},"ip":{"description":"私网IP地址。","maxLength":512,"minLength":0,"type":"string"},"slave_ip":{"description":"备机私网IP地址。","maxLength":512,"minLength":0,"type":"string"}},"required":["ip"]},"PublicIp":{"description":"云堡垒机实例弹性公网IP信息。可填写null值","properties":{"id":{"description":"弹性IP和EIP只能有一个,弹性IP或EIP的ID。","maxLength":36,"minLength":0,"type":"string"},"public_eip":{"description":"弹性IP地址。","maxLength":512,"minLength":0,"type":"string"}}},"ResourceTag":{"description":"标签列表的结构体。","properties":{"key":{"description":"键。最大长度128个字符。\n\nkey需要满足3.1 KEY字符集规范。","maxLength":128,"minLength":0,"pattern":"^((?!_sys_)[\\p{L}\\p{Z}\\p{N}_.:=+\\-@]*)$","type":"string"},"value":{"description":"值。每个值最大长度255个字符, value需要满足3.2 VALUE字符集规范。","maxLength":255,"minLength":0,"pattern":"^([\\p{L}\\p{Z}\\p{N}_.:\\/=+\\-@]*)$","type":"string"}},"required":["key","value"]},"SecurityGroup":{"description":"安全组信息。","properties":{"id":{"description":"云堡垒机实例安全组ID,字母数字下划线连接符组成。","maxLength":36,"minLength":0,"type":"string"}},"required":["id"]}},"description":null,"group_id":"7ca682347ead4c1fb438ad170990cc74","host":"cbh.cn-north-4.myhuaweicloud.com","id":"305b8750337d43eeba703e71c90b25be","info_version":"v2","method":"post","name":"CreateInstance","parameters":{"X-Auth-Token":{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。\n\nToken获取方法详见[获取用户Token](https://support.huaweicloud.com/api-iam/iam_30_0001.html)。","in":"header","maxLength":28000,"minLength":0,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIE5gYJKoZIhvcNAQcCoIIE1zCCXXXXXX..."},"project_id":{"description":"项目ID。\n\n获取方法详见API参考,附录[获取项目ID](https://support.huaweicloud.com/api-cbh/cbh_02_0020.html)。","in":"path","maxLength":64,"minLength":0,"name":"project_id","required":true,"type":"string","x-example":"80baxxxxxxxxf9ad43xxxxxxxxx"}},"paths":{"/v2/{project_id}/cbs/instance":{"post":{"description":"创建云堡垒机实例。","operationId":"CreateInstance","parameters":[{"$ref":"#/parameters/project_id"},{"$ref":"#/parameters/X-Auth-Token"},{"description":"CreateInstanceBody","in":"body","name":"CreateInstanceRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateInstanceBody"}}],"produces":["application/json"],"responses":{"200":{"description":"Cbh Create Instance Success","examples":{"application/json":{"order_id":"CS22xxx82xx5AssGxxx"}},"schema":{"$ref":"#/definitions/CreateInstanceOrderRespon"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/ErrorRsp400"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/ErrorRsp401"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorRsp403"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/ErrorRsp404"}}},"summary":"创建堡垒机实例","tags":["生命周期管理"],"x-apigateway-ratelimit":"CBH_Server","x-is-registered":"Y","x-support-sdk":"Y"}}},"product_short":"CBH","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建堡垒机实例","tags":"生命周期管理","uri":null,"version":"2.0"}