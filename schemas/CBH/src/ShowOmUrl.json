{"base_path":"/","components":null,"consumes":"","definitions":{"EcsLoginResponse":{"properties":{"description":{"description":"链接获取异常时说明提示","maxLength":255,"minLength":0,"type":"string"},"login_url":{"description":"ECS运维登录地址","maxLength":255,"minLength":0,"type":"string"},"state":{"description":"链接获取状态\n    # SUCCESS(0): 成功;非SUCCESS状态都认为获取失败,需要展示错误代码及description\n    # IAM_USER_CONFLICT(1016): IAM用户冲突;\n    # HOST_NOT_MANAGE(1): 查询主机未被纳管;\n    # HOST_ACCOUNT_NOT_EXIST(553): 主机账户不可用;\n    # IAM_USER_NO_PERMISSION(901): IAM用户无运维该主机权限;\n    # CUR_VERSION_NOT_SUPPORT_OPERATION(9001):当前服务版本不支持;\n    # INS_WHITE_LIST_INITIALIZING(9002):实例白名单正在初始化,请稍后重试;\n    # UNKNOWN_ERROR(9003):未知错误;","enum":["SUCCESS","IAM_USER_CONFLICT","HOST_NOT_MANAGE","HOST_ACCOUNT_NOT_EXIST","IAM_USER_NO_PERMISSION","CUR_VERSION_NOT_SUPPORT_OPERATION","INS_WHITE_LIST_INITIALIZING","UNKNOWN_ERROR"],"maxLength":64,"minLength":0,"type":"string"}},"required":["state","login_url"],"type":"object"},"ErrorRsp400":{"description":"请求参数错误。","example":{"description":"请求参数错误。","error_code":400},"properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":0,"type":"string"},"error_description":{"description":"请求参数错误。","maxLength":512,"minLength":0,"type":"string"}},"required":["error_code","error_description"]},"ErrorRsp401":{"description":"校验TOKEN失败。","example":{"description":"校验TOKEN失败","error_code":401},"properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":0,"type":"string"},"error_description":{"description":"校验TOKEN失败。","maxLength":512,"minLength":0,"type":"string"}},"required":["error_code","error_description"]},"ErrorRsp403":{"description":"租户无权限操作。","example":{"description":"租户无权限操作","error_code":403},"properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":0,"type":"string"},"error_description":{"description":"租户无权限操作。","maxLength":512,"minLength":0,"type":"string"}},"required":["error_code","error_description"]},"ErrorRsp404":{"description":"没有找到CBH资源。","example":{"description":"没有找到CBH资源","error_code":404},"properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":0,"type":"string"},"error_description":{"description":"没有找到CBH资源。","maxLength":512,"minLength":0,"type":"string"}},"required":["error_code","error_description"]}},"description":null,"group_id":"7ca682347ead4c1fb438ad170990cc74","host":"cbh.cn-north-4.myhuaweicloud.com","id":"c0dd3b0877f040779545e52bf92bd5ca","info_version":"v2","method":"get","name":"ShowOmUrl","parameters":{"X-Auth-Token":{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。\n\n可参考\"IAM获取IAM用户Token\"获取","in":"header","maxLength":28000,"minLength":0,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIE5gYJKoZIhvcNAQcCoIIE1zCCXXXXXX..."},"project_id":{"description":"项目ID。\n\n获取方法详见API参考,附录\"获取项目ID\"","in":"path","maxLength":64,"minLength":0,"name":"project_id","required":true,"type":"string","x-example":"80baxxxxxxxxf9ad43xxxxxxxxx"}},"paths":{"/v2/{project_id}/cbs/instance/get-om-url":{"get":{"description":"获取运维链接","operationId":"ShowOmUrl","parameters":[{"$ref":"#/parameters/project_id"},{"$ref":"#/parameters/X-Auth-Token"},{"description":"云堡垒机服务器ID","in":"query","maxLength":64,"minLength":0,"name":"server_id","required":true,"type":"string"},{"description":"被纳管主机IP","in":"query","maxLength":64,"minLength":0,"name":"ip_address","required":true,"type":"string"},{"description":"被纳管主机的账户","in":"query","maxLength":64,"minLength":0,"name":"host_account_name","required":true,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"Get HOST O&M URL Success","examples":{"application/json":{"login_url":"xxxxxx","state":"SUCCESS"}},"schema":{"$ref":"#/definitions/EcsLoginResponse"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/ErrorRsp400"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/ErrorRsp401"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorRsp403"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/ErrorRsp404"}}},"summary":"获取运维链接","tags":["操作管理"],"x-apigateway-ratelimit":"CBH_Server","x-is-registered":"Y","x-open-region-cloud":"hws,hws_hk,hcso","x-support-sdk":"Y"}}},"product_short":"CBH","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"获取运维链接","tags":"操作管理","uri":null,"version":"2.0"}