{"base_path":null,"components":{"parameters":{"AuthToken":{"description":"用户Token。","in":"header","name":"X-Auth-Token","required":false,"schema":{"maxLength":2000000,"minLength":0,"type":"string","x-sensitive":true}},"CentralNetworkId":{"description":"中心网络的ID。","example":"b3983675-4c10-46b0-b451-ab2280b025d5","in":"path","name":"central_network_id","required":true,"schema":{"maxLength":36,"minLength":36,"pattern":"[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}","type":"string"}},"DomainId":{"description":"账号ID。","example":"f87a4b574ba18fbc43fcbdccdcdf48944caa","in":"path","name":"domain_id","required":true,"schema":{"maxLength":32,"minLength":10,"pattern":"[a-zA-Z0-9]{10,32}","type":"string"}}},"schemas":{"AssociateErInstanceDocument":{"allOf":[{"$ref":"#/components/schemas/EnterpriseRouterId"},{"$ref":"#/components/schemas/ProjectId"},{"$ref":"#/components/schemas/RegionId"}],"description":"中心网络实例详情。"},"AssociateErTableDocument":{"allOf":[{"$ref":"#/components/schemas/ProjectId"},{"$ref":"#/components/schemas/RegionId"},{"$ref":"#/components/schemas/EnterpriseRouterId"},{"$ref":"#/components/schemas/EnterpriseRouterTableId"}],"description":"中心网络平面关联的ER路由表。"},"CentralNetworkId":{"description":"中心网络ID。","properties":{"central_network_id":{"description":"中心网络ID。","example":"a3bad420-33b8-4e26-9e9b-bdf67aa8e72b","maxLength":36,"minLength":36,"pattern":"[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}","type":"string","x-ifnull":"hide"}},"required":["central_network_id"]},"CentralNetworkPlaneDocument":{"allOf":[{"$ref":"#/components/schemas/Name"},{"properties":{"associate_er_tables":{"description":"关联的中心网络ER实例列表。","items":{"$ref":"#/components/schemas/AssociateErTableDocument"},"maxItems":100,"minItems":0,"type":"array","x-ifnull":"hide"},"exclude_er_connections":{"description":"当自动连接所有ER实例时,排除中心网络的ER实例的连接。","items":{"$ref":"#/components/schemas/ExcludeErConnectionDocument"},"maxItems":100,"minItems":0,"type":"array","x-ifnull":"hide"}},"type":"object"}],"description":"中心网络平面文档。"},"CentralNetworkPolicy":{"allOf":[{"$ref":"#/components/schemas/UUID64Identifier"},{"$ref":"#/components/schemas/CreatedAt"},{"$ref":"#/components/schemas/DomainId"},{"$ref":"#/components/schemas/CentralNetworkPolicyState"},{"$ref":"#/components/schemas/CentralNetworkId"},{"$ref":"#/components/schemas/DocumentTemplateVersion"},{"properties":{"document":{"$ref":"#/components/schemas/CentralNetworkPolicyDocument"},"is_applied":{"description":"是否被应用。","example":true,"readOnly":true,"type":"boolean","x-ifnull":"hide"},"version":{"description":"中心网络策略的版本。","example":1,"format":"int32","maximum":4096,"minimum":1,"readOnly":true,"type":"integer","x-ifnull":"hide"}},"required":["is_applied","version","document"],"type":"object"}],"description":"中心网络策略详情。"},"CentralNetworkPolicyDocument":{"description":"中心网络策略文档。","properties":{"default_plane":{"default":"default-plane","description":"中心网络默认平面的名字。","example":"default-plane","maxLength":64,"minLength":1,"pattern":"^[\\u4e00-\\u9fa50-9a-zA-Z_.\\-]+$","type":"string","x-ifnull":"hide"},"er_instances":{"description":"中心网络ER实例列表。","items":{"$ref":"#/components/schemas/AssociateErInstanceDocument"},"maxItems":200,"minItems":1,"type":"array","x-ifnull":"hide"},"planes":{"default":[{"name":"default-plane"}],"description":"中心网络平面列表。","items":{"$ref":"#/components/schemas/CentralNetworkPlaneDocument"},"maxItems":100,"minItems":1,"type":"array","x-ifnull":"hide"}},"required":["planes","default_plane"]},"CentralNetworkPolicyResponseBody":{"allOf":[{"$ref":"#/components/schemas/RequestId"},{"properties":{"central_network_policy":{"$ref":"#/components/schemas/CentralNetworkPolicy"}},"required":["central_network_policy"],"type":"object"}],"description":"中心网络策略的返回体。"},"CentralNetworkPolicyState":{"description":"实例状态。","properties":{"state":{"$ref":"#/components/schemas/CentralNetworkPolicyStateEnum"}},"required":["state"]},"CentralNetworkPolicyStateEnum":{"description":"中心网络策略状态。\n- AVAILABLE (可用)\n- CANCELING (取消中)\n- APPLYING (应用中)\n- FAILED (失败)\n- DELETED (已刪除)","enum":["AVAILABLE","CANCELING","APPLYING","FAILED","DELETED"],"example":"AVAILABLE","readOnly":true,"type":"string","x-ifnull":"hide"},"CreateCentralNetworkPolicyRequestBody":{"description":"创建中心网络策略的请求体。","properties":{"central_network_policy_document":{"$ref":"#/components/schemas/CentralNetworkPolicyDocument"}},"required":["central_network_policy_document"]},"CreatedAt":{"description":"实例创建时间。","properties":{"created_at":{"description":"实例创建时间。UTC时间格式,yyyy-MM-ddTHH:mm:ss。","format":"date-time","readOnly":true,"type":"string","x-ifnull":"hide"}},"required":["created_at"]},"CustomErConnectionDocument":{"allOf":[{"$ref":"#/components/schemas/PolicyIndex"},{"properties":{"connection":{"$ref":"#/components/schemas/CustomErConnectionEdgeDocument"}},"type":"object"}],"description":"中心网络平面管理的自定义ER连接"},"CustomErConnectionEdgeDocument":{"description":"中心网络平面管理的自定义ER连接","items":{"$ref":"#/components/schemas/AssociateErTableDocument"},"maxItems":2,"minItems":2,"type":"array"},"DocumentTemplateVersion":{"description":"文档模板版本。","properties":{"document_template_version":{"$ref":"#/components/schemas/DocumentTemplateVersionEnum"}},"required":["document_template_version"]},"DocumentTemplateVersionEnum":{"default":"2022.08.30","description":"文档模板版本。\n- 2022.08.30 (2022.08.30)","enum":["2022.08.30"],"example":"2022.08.30","readOnly":true,"type":"string","x-ifnull":"hide"},"DomainId":{"description":"实例所属账号ID。","properties":{"domain_id":{"$ref":"#/components/schemas/DomainIdDef"}},"required":["domain_id"]},"DomainIdDef":{"description":"实例所属账号ID。","example":"521bb3d98bed4c6c9ee8669bd0620f76","maxLength":32,"minLength":10,"pattern":"[a-fA-F0-9]{10,32}","readOnly":true,"type":"string","x-ifnull":"hide"},"EnterpriseRouterId":{"description":"企业路由器的ID。","properties":{"enterprise_router_id":{"description":"企业路由器的ID。","example":"a3bad420-33b8-4e26-9e9b-bdf67aa8e72b","maxLength":36,"minLength":36,"pattern":"[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}","type":"string","x-ifnull":"hide"}},"required":["enterprise_router_id"]},"EnterpriseRouterTableId":{"description":"企业路由器的路由表ID。","properties":{"enterprise_router_table_id":{"description":"企业路由器的路由表ID。","example":"a3bad420-33b8-4e26-9e9b-bdf67aa8e72b","maxLength":36,"minLength":36,"pattern":"[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}","type":"string","x-ifnull":"hide"}},"required":["enterprise_router_table_id"]},"ExcludeErConnectionDocument":{"description":"中心网络平面管理的ER连接","items":{"$ref":"#/components/schemas/AssociateErInstanceDocument"},"maxItems":2,"minItems":2,"type":"array"},"Name":{"description":"实例名称。只能由中文、英文字母、数字、下划线、中划线、点组成。","properties":{"name":{"$ref":"#/components/schemas/NameDef"}},"required":["name"]},"NameDef":{"description":"实例名称。","example":"name","maxLength":64,"minLength":1,"pattern":"^[\\u4e00-\\u9fa50-9a-zA-Z_.\\-]+$","type":"string","x-ifnull":"hide"},"PolicyIndex":{"description":"连接编号。","properties":{"index":{"description":"多连接index编码。","example":1,"format":"int32","maximum":99,"minimum":1,"type":"integer","x-ifnull":"hide"}},"required":["index"]},"ProjectId":{"description":"实例所属项目ID。","properties":{"project_id":{"$ref":"#/components/schemas/ProjectIdDef"}},"required":["project_id"]},"ProjectIdDef":{"description":"实例所属项目ID。","example":"32f7402e18154ce5861c9989df956394","maxLength":32,"minLength":32,"pattern":"[a-fA-F0-9]{32}","type":"string","x-ifnull":"hide"},"RegionId":{"description":"Region ID。","properties":{"region_id":{"$ref":"#/components/schemas/RegionIdDef"}},"required":["region_id"]},"RegionIdDef":{"description":"RegionID。","example":"region-abc","maxLength":32,"minLength":1,"type":"string","x-ifnull":"hide"},"RequestId":{"description":"请求ID。","properties":{"request_id":{"description":"请求ID。","example":"a3bad420-33b8-4e26-9e9b-bdf67aa8e72b","maxLength":36,"minLength":32,"type":"string","x-ifnull":"hide"}},"required":["request_id"]},"UUID64Def":{"description":"实例ID。","example":"a3bad420-33b8-4e26-9e9b-bdf67aa8e72b","maxLength":36,"minLength":36,"pattern":"[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}","type":"string","x-ifnull":"hide"},"UUID64Identifier":{"properties":{"id":{"$ref":"#/components/schemas/UUID64Def"}},"required":["id"]}}},"consumes":"","definitions":null,"description":null,"group_id":"b2c5d98a6d6c474fb059cf0053e70cb1","host":"cc.myhuaweicloud.com","id":"be93ed7d3dc748f7b4c42015a6cc316d","info_version":"v3","method":"post","name":"CreateCentralNetworkPolicy","parameters":null,"paths":{"/v3/{domain_id}/gcn/central-network/{central_network_id}/policies":{"post":{"description":"创建一份只读的中心网络的策略。如果您有策略文档内容改动,需要基于此版本重新创建一个新版本的策略。","operationId":"CreateCentralNetworkPolicy","parameters":[{"$ref":"#/components/parameters/AuthToken"},{"$ref":"#/components/parameters/DomainId"},{"$ref":"#/components/parameters/CentralNetworkId"}],"requestBody":{"content":{"application/json":{"example":{"central_network_policy_document":{"default_plane":"default-plane","er_instances":[{"enterprise_router_id":"395b0884-aab4-4bf0-8cb8-7f2da26708dd","project_id":"XXX","region_id":"region-abc"}],"planes":[{"name":"default-plane"}]}},"schema":{"$ref":"#/components/schemas/CreateCentralNetworkPolicyRequestBody"}}},"description":"创建中心网络策略的请求参数。","required":true},"responses":{"201":{"content":{"application/json":{"example":{"central_network_policy":{"central_network_id":"e096c86f-817c-418c-945c-6b1d8860a15d","created_at":"2023-10-09T06:22:40.857Z","document":{"default_plane":"default-plane","er_instances":[{"enterprise_router_id":"395b0884-aab4-4bf0-8cb8-7f2da26708dd","project_id":"XXX","region_id":"region-abc"}],"planes":[{"associate_er_tables":[{"enterprise_router_id":"395b0884-aab4-4bf0-8cb8-7f2da26708dd","enterprise_router_table_id":"cc542128-5c2d-402a-8960-53bb2ed9484e","project_id":"XXX","region_id":"region-abc"}],"name":"default-plane"}]},"document_template_version":"2022.08.30","domain_id":"XXX","id":"f03478aa-3975-4ca7-9fb2-b49428a01636","is_applied":true,"state":"AVAILABLE","version":1},"request_id":"76bfd2b0d492d0e479fbbd3981869c12"},"schema":{"$ref":"#/components/schemas/CentralNetworkPolicyResponseBody"}}},"description":"创建中心网络策略成功。"}},"summary":"创建一个新版本的中心网络策略","tags":["CentralNetwork"],"x-api-type":"open-api","x-apiexplorer-hide":false,"x-cc-microservice":"central-network","x-env-backend-address":"{{cn_backend_address}}","x-huawei-security":{"enableEProject":true,"epsAction":"create","pdpKey":"cc:centralNetwork:createPolicy"},"x-iam-auth-meta-anno":{"abacAction":"cc:centralNetwork:createPolicy","authLevel":"INSTANCE","model":"v5-pkitoken","needAbacCheck":true,"needAbacResourceCheck":true,"needApigwJwtAuthCheck":true,"needCbcCheck":true,"needRbacCheck":false,"needResourceTagCheck":false,"opType":"rename","supportAllGrantedEps":false},"x-is-registered":"Y","x-open-region-cloud":"hws,hws_hk,hws_eu,dt,dt_test","x-request-examples-1":{"central_network_policy_document":{"default_plane":"default-plane","er_instances":[{"enterprise_router_id":"395b0884-aab4-4bf0-8cb8-7f2da26708dd","project_id":"XXX","region_id":"region-abc"}],"planes":[{"name":"default-plane"}]}},"x-request-examples-description-1":"创建中心网络策略","x-request-examples-text-1":{"central_network_policy_document":{"default_plane":"default-plane","er_instances":[{"enterprise_router_id":"395b0884-aab4-4bf0-8cb8-7f2da26708dd","project_id":"XXX","region_id":"region-abc"}],"planes":[{"name":"default-plane"}]}},"x-request-examples-url-1":"POST /v3/{domain_id}/gcn/central-network/{central_network_id}/policies","x-support-sdk":"Y"}}},"product_short":"CC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建一个新版本的中心网络策略","tags":"中心网络管理","uri":null,"version":"3.0.3"}