{"base_path":"/","components":null,"consumes":"","definitions":{"ClusterLabelInfo":{"description":"**参数解释**:\n集群资源标签\n**约束限制**:\n不涉及\n**取值范围**:\n不涉及\n**默认取值**:\n不涉及","properties":{"key":{"description":"**参数解释**:\n集群资源标签的键名\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度1-64位\n**默认取值**:\n不涉及","example":"app_name","maxLength":64,"minLength":1,"type":"string"},"value":{"description":"**参数解释**:\n集群资源标签的值\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度0-128位\n**默认取值**:\n不涉及","example":"test_app","maxLength":128,"minLength":0,"type":"string"}},"type":"object"},"CreateWebTamperProtectionConfigRequestBody":{"properties":{"container_wtp_info":{"description":"**参数解释**:\n容器网页防篡改相关配置信息\n**约束限制**:\ntype值为“container_wtp”容器网页防篡改时有效\n**取值范围**:\n不涉及\n**默认取值**:\n不涉及","properties":{"cluster_id":{"description":"**参数解释**:\n集群id\n**约束限制**:\nprotect_type值为“cluster”时有效\n**取值范围**:\n字符长度1-64位\n**默认取值**:\n不涉及","example":"71axxxxx-0xxf-4xxa-bd28-5exxxxx1817f","maxLength":64,"minLength":1,"type":"string"},"cluster_label_list":{"description":"**参数解释**:\n集群标签列表\n**约束限制**:\nprotect_type值为“cluster”时生效\n**取值范围**:\n最少0条,最多10条\n**默认取值**:\n不涉及","items":{"$ref":"#/definitions/ClusterLabelInfo"},"maxItems":10,"minItems":0,"type":"array"},"host_id":{"description":"**参数解释**:\n主机id\n**约束限制**:\nprotect_type值为“host”时有效\n**取值范围**:\n字符长度1-64位\n**默认取值**:\n不涉及","example":"92axxxxx-1xx0-5xxb-3d27-5exxxxx12290","maxLength":64,"minLength":1,"type":"string"},"protect_image_list":{"description":"**参数解释**:\n防护的镜像列表\n**约束限制**:\n不涉及\n**取值范围**:\n最少1条,最多10条\n**默认取值**:\n不涉及","items":{"$ref":"#/definitions/ProtectImageInfo"},"maxItems":10,"minItems":1,"type":"array"},"protect_type":{"description":"**参数解释**:\n防护类型\n**约束限制**:\n不涉及\n**取值范围**:\n- cluster:对集群下的容器进行网页防篡改防护\n- host:对主机下的容器进行网页防篡改防护\n\n**默认取值**:\n不涉及","example":"cluster","pattern":"^cluster|host$","type":"string"},"web_app_name":{"description":"**参数解释**:\n网站应用的名称\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度1-128位\n**默认取值**:\n不涉及","example":"my_web_app","maxLength":128,"minLength":1,"type":"string"}},"required":["protect_type","web_app_name","protect_image_list"],"type":"object"},"monitor_process":{"default":true,"description":"**参数解释**:\n是否对篡改行为进行进程监控\n**约束限制**:\n不涉及\n**取值范围**:\n- true:监控篡改进程\n- false:不监控篡改进程\n\n**默认取值**:\ntrue","type":"boolean"},"open_protection_immediately":{"default":false,"description":"**参数解释**:\n是否立即开启防护\n**约束限制**:\n不涉及\n**取值范围**:\n- true:立即开启防护\n- false:只保存配置内容,暂不开启防护\n\n**默认取值**:\nfalse","type":"boolean"},"privileged_child":{"default":false,"description":"**参数解释**:\n特权进程的子进程是否仍享有特权\n**约束限制**:\nmonitor_process值为true时生效(不进行进程监控无法判断特权进程)\n**取值范围**:\n- true:特权进程的子进程依然是特权进程\n- false:特权进程的子进程不再是特权进程\n\n**默认取值**:\nfalse","type":"boolean"},"privileged_process_list":{"description":"**参数解释**:\n特权进程路径列表\n**约束限制**:\nmonitor_process值为true时生效(不进行进程监控无法判断特权进程)\n**取值范围**:\n最少0条,最多10条\n**默认取值**:\n不涉及","items":{"description":"**参数解释**:\n特权进程路径\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度1-256位\n**默认取值**:\n不涉及","example":"/usr/local/opa","maxLength":256,"minLength":1,"type":"string"},"maxItems":10,"minItems":0,"type":"array"},"protect_mode":{"$ref":"#/definitions/WtpProtectMode"},"quota_info":{"description":"**参数解释**:\n开启防护时绑定的配额信息\n**约束限制**:\nopen_protection_immediately值为true时有效\n**取值范围**:\n不涉及\n**默认取值**:\n不涉及","properties":{"charging_mode":{"description":"**参数解释**:\n计费模式\n**约束限制**:\n不涉及\n**取值范围**:\n- packet_cycle:包年包月\n\n**默认取值**:\n不涉及","example":"packet_cycle","pattern":"^packet_cycle$","type":"string"},"resource_id_list":{"description":"**参数解释**:\n配额id列表\n**约束限制**:\n若该字段值为空,则随机选取配额\n**取值范围**:\n最少0条,最多10条\n**默认取值**:\n不涉及","items":{"description":"**参数解释**:\n配额id\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度1-64位\n**默认取值**:\n不涉及","example":"60axxxxx-0xxf-4xx1-be38-5exxxxx1362f","maxLength":64,"minLength":1,"type":"string"},"maxItems":10,"minItems":1,"type":"array"}},"required":["charging_mode"],"type":"object"},"type":{"$ref":"#/definitions/WtpType"}},"required":["type"],"type":"object"},"ProtectDirectoryInfo":{"description":"**参数解释**:\n防护目录信息\n**约束限制**:\n不涉及\n**取值范围**:\n不涉及\n**默认取值**:\n不涉及","properties":{"backup_directory":{"description":"**参数解释**:\n备份目录\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度1-256位\n**默认取值**:\n不涉及","example":"/var/temp/wtp_backup","maxLength":256,"minLength":1,"type":"string"},"exclude_child_directory_list":{"description":"**参数解释**:\n需要排除的子目录列表\n**约束限制**:\n不涉及\n**取值范围**:\n最少0条,最多10条\n**默认取值**:\n不涉及","items":{"description":"**参数解释**:\n需要排除的子目录\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度1-256位\n**默认取值**:\n不涉及","example":"/root/www/log","maxLength":256,"minLength":1,"type":"string"},"maxItems":10,"minItems":0,"type":"array"},"exclude_file_list":{"description":"**参数解释**:\n需要排除的子文件列表\n**约束限制**:\n不涉及\n**取值范围**:\n最少0条,最多10条\n**默认取值**:\n不涉及","items":{"description":"**参数解释**:\n需要排除的子文件\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度1-256位\n**默认取值**:\n不涉及","example":"/root/www/image/logo.png","maxLength":256,"minLength":1,"type":"string"},"maxItems":10,"minItems":0,"type":"array"},"protect_directory":{"description":"**参数解释**:\n防护目录\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度1-256位\n**默认取值**:\n不涉及","example":"/root/www","maxLength":256,"minLength":1,"type":"string"}},"required":["protect_directory"],"type":"object"},"ProtectImageInfo":{"description":"**参数解释**:\n防护的容器镜像信息\n**约束限制**:\n不涉及\n**取值范围**:\n不涉及\n**默认取值**:\n不涉及","properties":{"exclude_file_types":{"description":"**参数解释**:\n防护排除的文件类型列表\n**约束限制**:\n不涉及\n**取值范围**:\n最少0条,最多10条\n**默认取值**:\n不涉及","items":{"description":"**参数解释**:\n防护排除的文件类型\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度1-32位\n**默认取值**:\n不涉及","example":"log","maxLength":32,"minLength":1,"type":"string"},"maxItems":10,"minItems":1,"type":"array"},"image_name":{"description":"**参数解释**:\n镜像名称\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度1-256位\n**默认取值**:\n不涉及","example":"registry-cbu.huawei.com/scc_hss_container/hostguard","maxLength":256,"minLength":1,"type":"string"},"image_type":{"default":"custom","description":"**参数解释**:\n镜像类型\n**约束限制**:\n不涉及\n**取值范围**:\n- registry 仓库镜像\n- local 本地镜像\n- custom 自定义镜像\n\n**默认取值**:\ncustom","example":"custom","pattern":"^registry|local|custom$","type":"string"},"image_version":{"default":"","description":"**参数解释**:\n镜像版本\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度0-64位\n**默认取值**:\n不涉及","example":"3.2.22.x86_64","maxLength":64,"minLength":0,"type":"string"},"protect_directory_info_list":{"description":"**参数解释**:\n防护目录信息\n**约束限制**:\n不涉及\n**取值范围**:\n最少1条,最多50条\n**默认取值**:\n不涉及","items":{"$ref":"#/definitions/ProtectDirectoryInfo"},"maxItems":50,"minItems":1,"type":"array"}},"required":["image_name","protect_directory_info_list"],"type":"object"},"WtpProtectMode":{"default":"alarm","description":"**参数解释**:\n防护模式\n**约束限制**:\n不涉及\n**取值范围**:\n- alarm:告警模式\n- block:拦截模式\n\n**默认取值**:\nalarm","example":"alarm","pattern":"^alarm|block$","type":"string"},"WtpType":{"description":"**参数解释**:\n网页防篡改的类型\n**约束限制**:\n不涉及\n**取值范围**:\n- container_wtp:容器网页防篡改\n\n**默认取值**:\n不涉及","example":"container_wtp","pattern":"^container_wtp$","type":"string"}},"description":null,"group_id":"3f29a7c68cc24a39a794ff9ddec0ba77","host":"hss.cn-north-4.myhuaweicloud.com","id":"8d1412d82d70437496ca9efedb5f7ec8","info_version":"v5","method":"post","name":"CreateWebTamperProtectionConfig","parameters":{"EnterpriseProjectId":{"default":"0","description":"**参数解释**:\n企业项目ID,用于过滤不同企业项目下的资产。获取方式请参见[获取企业项目ID](hss_02_0027.xml)。\n如需查询所有企业项目下的资产请传参“all_granted_eps”。\n**约束限制**:\n开通企业项目功能后才需要配置企业项目ID参数。\n**取值范围**:\n字符长度1-256位\n**默认取值**:\n0,表示默认企业项目(default)。","in":"query","maxLength":256,"minLength":1,"name":"enterprise_project_id","pattern":"^.*$","required":false,"type":"string"},"ProjectId":{"description":"**参数解释**:\n项目ID,用于明确项目归属,配置后可通过该ID查询项目下资产。获取方式请参见[获取项目ID](hss_02_0024.xml)。\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度1-256位\n**默认取值**:\n不涉及","in":"path","maxLength":256,"minLength":1,"name":"project_id","pattern":"^.*$","required":true,"type":"string","x-example":"9d4f774865034d119917acc61b1b806e"},"XAuthToken":{"description":"**参数解释**:\n用户Token,包含了用户的身份、权限等信息,在调用API接口时,可通过Token进行身份认证。获取方式请参见[获取用户Token](hss_02_0009.xml)。\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度1-32768位\n**默认取值**:\n不涉及","in":"header","maxLength":32768,"minLength":1,"name":"X-Auth-Token","pattern":"^.*$","required":true,"type":"string","x-example":"$${X-Auth-Token}"}},"paths":{"/v5/{project_id}/webtamper/protection-configs":{"post":{"description":"创建网页防篡改防护配置","operationId":"CreateWebTamperProtectionConfig","parameters":[{"$ref":"#/parameters/XAuthToken"},{"$ref":"#/parameters/ProjectId"},{"$ref":"#/parameters/EnterpriseProjectId"},{"description":"创建网页防篡改防护配置的请求体","in":"body","name":"CreateWebTamperProtectionConfigRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateWebTamperProtectionConfigRequestBody"}}],"produces":["application/json"],"responses":{"200":{"description":"请求已成功"}},"summary":"创建网页防篡改防护配置","tags":["webtamper"],"x-api-type":"open-api","x-apigateway-request-type":"public","x-iam-auth-meta-anno":{"abacAction":"hss:wtp:createWebTamperProtectionConfig","abacActionAlias":"hss:wtpDirectorys:set","authLevel":"PROJECT","rbac":["op_service","te_admin","hss_adm","te_admin+op_restricted","hss_adm+op_restricted"]},"x-is-registered":"Y","x-method-annotations":["@CtsInfo(userOperationType = \"createWebTamperProtectionConfig\", operationId = \"CreateWebTamperProtectionConfig\", readOnly = false)"],"x-support-international":true,"x-support-sdk":"Y","x-surpport-apiexplorer":false}}},"product_short":"HSS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建网页防篡改防护配置","tags":"网页防篡改","uri":null,"version":"2.0"}