{"base_path":"/","components":null,"consumes":"","definitions":{"ListClusterRisksResponseInfo":{"description":"查询集群风险列表的响应数据","properties":{"data_list":{"description":"集群风险列表","items":{"description":"集群风险信息","properties":{"cluster_id":{"description":"集群id","example":"4axxxxf3-6xxc-4xxc-9xx3-099xxxxxx4c2","maxLength":64,"minLength":1,"type":"string"},"cluster_name":{"description":"集群名称","example":"my-cluster","maxLength":64,"minLength":1,"type":"string"},"description":{"description":"风险描述","example":"some risk description.","maxLength":65534,"minLength":0,"type":"string"},"last_scan_time":{"description":"最近一次扫描时间","example":1745311451000,"format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"remediation":{"description":"风险的处置建议","example":"some risk remediation.","maxLength":65534,"minLength":0,"type":"string"},"risk_category":{"description":"风险分类,包含如下:\n  - control_plane:控制平面\n  - access_control:访问控制\n  - network:网络\n  - workload:工作负载\n  - secrets:密钥管理\n  - node_escape:节点逃逸","example":"control_plane","maxLength":64,"minLength":1,"type":"string"},"risk_id":{"description":"风险id","example":"C-0035","maxLength":64,"minLength":1,"type":"string"},"risk_level":{"description":"风险程度,包含如下\n  - high :高危\n  - medium :中危\n  - low :低危\n  - tips :提示","example":"high","maxLength":64,"minLength":1,"type":"string"},"risk_name":{"description":"风险名称","example":"RBAC enabled","maxLength":512,"minLength":1,"type":"string"},"risk_num":{"description":"风险数量","example":17,"format":"int32","maximum":2000000,"minimum":0,"type":"integer"}},"type":"object"},"maxItems":200,"minItems":0,"type":"array"},"total_num":{"description":"集群风险列表数量","format":"int32","maximum":2000000,"minimum":0,"type":"integer"}},"type":"object"}},"description":null,"group_id":"3f29a7c68cc24a39a794ff9ddec0ba77","host":"hss.cn-north-4.myhuaweicloud.com","id":"f214ea5de9214826aa4214068d702519","info_version":"v5","method":"get","name":"ListClusterRisks","parameters":{"EnterpriseProjectId":{"default":"0","description":"**参数解释**:\n主机所属的企业项目ID。\n企业项目ID默认取值为“0”,表示默认企业项目。如果需要查询所有企业项目下的主机,请传参“all_granted_eps”。如果您只有某个企业项目的权限,则需要传递该企业项目ID,查询该企业项目下的主机,否则会因权限不足而报错。\n**约束限制**:\n开通企业项目功能后才需要配置企业项目。\n**取值范围**:\n字符长度1-256位\n**默认取值**:\n0","in":"query","maxLength":256,"minLength":1,"name":"enterprise_project_id","pattern":"^.*$","required":false,"type":"string"},"Limit":{"default":10,"description":"**参数解释**:\n每页显示个数\n**约束限制**:\n不涉及\n**取值范围**:\n取值10-200\n**默认取值**:\n10","format":"int32","in":"query","maximum":200,"minimum":10,"name":"limit","required":false,"type":"integer"},"Offset":{"default":0,"description":"偏移量:指定返回记录的开始位置,必须为数字,取值范围为大于或等于0,默认0","format":"int32","in":"query","maximum":2000000,"minimum":0,"name":"offset","required":false,"type":"integer"},"ProjectId":{"description":"**参数解释**:\n项目ID,可通过我的凭证,项目id获取\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度1-256位\n**默认取值**:\n不涉及","in":"path","maxLength":256,"minLength":1,"name":"project_id","pattern":"^.*$","required":true,"type":"string","x-example":"9d4f774865034d119917acc61b1b806e"},"XAuthToken":{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","maxLength":32768,"minLength":1,"name":"X-Auth-Token","pattern":"^.*$","required":true,"type":"string","x-example":"$${X-Auth-Token}"}},"paths":{"/v5/{project_id}/container/cluster/risks":{"get":{"description":"查询集群风险列表","operationId":"ListClusterRisks","parameters":[{"$ref":"#/parameters/XAuthToken"},{"$ref":"#/parameters/ProjectId"},{"$ref":"#/parameters/EnterpriseProjectId"},{"$ref":"#/parameters/Offset"},{"$ref":"#/parameters/Limit"},{"description":"风险类型,包含如下\n  - risk_assessment : 风险评估\n  - benchmark :安全合规","in":"query","maxLength":64,"minLength":1,"name":"risk_type","pattern":"^risk_assessment|benchmark$","required":false,"type":"string","x-example":"risk_assessment"},{"description":"风险状态,包含如下,该字段不传值则查询全部数据:\n  - risky:有风险","in":"query","maxLength":64,"minLength":1,"name":"risk_status","pattern":"^risky$","required":false,"type":"string","x-example":"risky"},{"description":"集群id","in":"query","maxLength":64,"minLength":1,"name":"cluster_id","required":false,"type":"string","x-example":"4axxxxf3-6xxc-4xxc-9xx3-099xxxxxx4c2"},{"description":"集群名称","in":"query","maxLength":128,"minLength":1,"name":"cluster_name","required":false,"type":"string","x-example":"my-cluster"},{"description":"风险名称","in":"query","maxLength":128,"minLength":1,"name":"risk_name","required":false,"type":"string","x-example":"RBAC enabled"},{"description":"风险程度,包含如下\n  - high :高危\n  - medium :中危\n  - low :低危\n  - tips :提示","in":"query","maxLength":64,"minLength":1,"name":"risk_level","pattern":"^high|medium|low|tips$","required":false,"type":"string","x-example":"high"},{"description":"风险分类,包含如下:\n  - control_plane:控制平面\n  - access_control:访问控制\n  - network:网络\n  - workload:工作负载\n  - secrets:密钥管理\n  - node_escape:节点逃逸","in":"query","maxLength":64,"minLength":1,"name":"risk_category","pattern":"^control_plane|access_control|network|workload|secrets|node_escape$","required":false,"type":"string","x-example":"control_plane"}],"produces":["application/json"],"responses":{"200":{"description":"请求已成功","examples":{"application/json":{"data_list":[{"cluster_id":"4axxxxf3-6xxc-4xxc-9xx3-099xxxxxx4c2","cluster_name":"my-cluster","description":"some risk description.","last_scan_time":1745311451000,"remediation":"some risk remediation.","risk_category":"access_control","risk_id":"C-0035","risk_level":"high","risk_name":"RBAC enabled","risk_num":7}],"total_num":1}},"schema":{"$ref":"#/definitions/ListClusterRisksResponseInfo"}}},"summary":"查询集群风险列表","tags":["clusterRisk"],"x-api-type":"open-api","x-apigateway-request-type":"public","x-iam-auth-meta-anno":{"abacAction":"hss:clusterProtect:listClusterRisks","abacActionAlias":"hss:clusterProtect:list","authLevel":"project","rbac":["op_service","te_admin","hss_adm","te_admin+op_restricted","te_admin+op_suspended","hss_adm+op_restricted","hss_adm+op_suspended","readonly"]},"x-is-registered":"Y","x-method-annotations":["@CtsInfo(userOperationType = \"listClusterRisks\", operationId = \"ListClusterRisks\", readOnly = true)"],"x-support-sdk":"N","x-surpport-apiexplorer":true,"x-surpport-open-apie":true}}},"product_short":"HSS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询集群风险列表","tags":"集群风险","uri":null,"version":"2.0"}