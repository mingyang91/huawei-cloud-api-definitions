{"base_path":"/","components":null,"consumes":"","definitions":{"RuntimeRequestBody":{"properties":{"runtime_name":{"description":"运行时名称:\n  - crio_endpoint:CRIO\n  - containerd_endpoint:Containerd\n  - docker_endpoint:Docker\n  - isulad_endpoint:Isulad\n  - podman_endpoint:Podman","enum":["crio_endpoint","containerd_endpoint","docker_endpoint","isulad_endpoint","podman_endpoint"],"example":"podman_endpoint","pattern":"^.*$","type":"string"},"runtime_path":{"description":"运行时路径","example":"unix:///var/run/isulad.sock","pattern":"^.*$","type":"string"}},"type":"object"},"UpdateDaemonsetRequestBody":{"properties":{"agent_version":{"description":"agent版本","example":"3.2.10","maxLength":32,"minLength":0,"pattern":"^.*$","type":"string"},"auto_upgrade":{"description":"开启agent自动升级","example":true,"pattern":"^.*$","type":"boolean"},"cce_protection_type":{"description":"cce防护类型:\n  - cluster_level:集群级别防护 \n  - node_level:节点级别防护","enum":["cluster_level","node_level"],"example":"default","pattern":"^.*$","type":"string"},"charging_mode":{"description":"付费模式:\n  - on_demand:按需 \n  - free_security_check:免费安全体检","enum":["on_demand","free_security_check"],"example":"default","pattern":"^.*$","type":"string"},"cluster_name":{"description":"集群名称","example":"my_cluster_name","maxLength":256,"minLength":0,"pattern":"^.*$","type":"string"},"invoked_service":{"description":"调用服务,标识cce免费体检报告,cce调用传参为cce:\n  - hss:hss服务 \n  - cce:cce服务","example":"hss","pattern":"^.*$","type":"string"},"prefer_packet_cycle":{"default":false,"description":"优先使用包周期配额;默认false","example":false,"pattern":"^.*$","type":"boolean"},"runtime_info":{"description":"容器运行时配置","items":{"$ref":"#/definitions/RuntimeRequestBody"},"maxItems":10000,"minItems":0,"type":"array"},"schedule_info":{"description":"节点调度信息","properties":{"node_selector":{"description":"节点选择器","items":{"example":"a=b","maxLength":64,"minLength":0,"type":"string"},"maxItems":64,"minItems":0,"type":"array"},"pod_tolerances":{"description":"pod容忍度","items":{"example":"a=b:c","maxLength":64,"minLength":0,"type":"string"},"maxItems":64,"minItems":0,"type":"array"}},"type":"object"}},"type":"object"}},"description":null,"group_id":"3f29a7c68cc24a39a794ff9ddec0ba77","host":"hss.cn-north-4.myhuaweicloud.com","id":"dff715aa22d646f2bf742b159ea213e1","info_version":"v5","method":"put","name":"UpdateAgentDaemonset","parameters":{"EnterpriseProjectId":{"default":"0","description":"企业项目ID,查询所有企业项目时填写:all_granted_eps","in":"query","maxLength":256,"minLength":1,"name":"enterprise_project_id","pattern":"^.*$","required":false,"type":"string"},"ProjectId":{"description":"项目ID","in":"path","maxLength":256,"minLength":1,"name":"project_id","pattern":"^.*$","required":true,"type":"string","x-example":"9d4f774865034d119917acc61b1b806e"},"Region":{"description":"Region ID","in":"header","maxLength":128,"minLength":0,"name":"region","pattern":"^.*$","required":true,"type":"string","x-example":"cn-north-5"},"XAuthToken":{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","maxLength":32768,"minLength":1,"name":"X-Auth-Token","pattern":"^.*$","required":true,"type":"string","x-example":"$${X-Auth-Token}"}},"paths":{"/v5/{project_id}/container/kubernetes/clusters/{cluster_id}/daemonsets":{"put":{"description":"更新集群daemonset","operationId":"UpdateAgentDaemonset","parameters":[{"$ref":"#/parameters/XAuthToken"},{"$ref":"#/parameters/Region"},{"$ref":"#/parameters/ProjectId"},{"$ref":"#/parameters/EnterpriseProjectId"},{"description":"集群id","in":"path","maxLength":256,"minLength":1,"name":"cluster_id","pattern":"^.*$","required":true,"type":"string"},{"description":"服务器列表","in":"body","name":"UpdateAgentDaemonsetRequestBody","required":false,"schema":{"$ref":"#/definitions/UpdateDaemonsetRequestBody"}}],"responses":{"200":{"description":"success response"}},"summary":"更新集群daemonset","tags":["集群管理"],"x-iam-auth-meta-anno":{"abacAction":"hss:container:updateAgentDaemonset","abacActionAlias":"hss:containers:set","authLevel":"PROJECT","rbac":["op_service","te_admin","hss_adm","te_admin+op_restricted","te_admin+op_suspended","hss_adm+op_restricted","hss_adm+op_suspended","readonly"]},"x-is-registered":"N","x-method-annotations":["@CtsInfo(userOperationType = \"updateAgentDaemonset\", operationId = \"UpdateAgentDaemonset\")"],"x-request-examples-1":{"cluster_id":"441e4d05-7f90-11ee-b311-0255ac1001b2"},"x-request-examples-description-1":"更新集群daemonset","x-request-examples-text-1":{"cluster_id":"441e4d05-7f90-11ee-b311-0255ac1001b2"},"x-request-examples-url-1":"PUT https://{endpoint}/v5/{project_id}/container/kubernetes/clusters/{cluster_id}/daemonsets","x-support-sdk":"Y","x-surpport-apiexplorer":true}}},"product_short":"HSS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"更新集群daemonset","tags":"集群管理","uri":null,"version":"2.0"}