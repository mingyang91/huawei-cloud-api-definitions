{"base_path":"/","components":null,"consumes":"","definitions":{"BackupVaultInfo":{"properties":{"backup_policy_enabled":{"description":"备份策略是否启用","type":"boolean"},"backup_policy_id":{"description":"备份策略ID,若为空,则为未绑定状态,若不为空,通过backup_policy_enabled字段判断策略是否启用","maxLength":128,"minLength":1,"type":"string"},"backup_policy_name":{"description":"备份策略名称","maxLength":128,"minLength":1,"type":"string"},"resources_num":{"description":"已绑定服务器(个)","maximum":256,"minimum":0,"type":"integer"},"vault_allocated":{"description":"已分配容量,单位GB,指绑定的服务器大小,例如绑定了1台主机,主机大小40G,则已分配容量为40G。","maximum":2097152,"minimum":0,"type":"integer"},"vault_charging_mode":{"description":"存储库创建模式:\n  - 按需:post_paid\n  - 包周期:pre_paid","maxLength":128,"minLength":0,"type":"string"},"vault_id":{"description":"存储库ID","maxLength":128,"minLength":0,"type":"string"},"vault_name":{"description":"存储库名称","maxLength":128,"minLength":0,"type":"string"},"vault_size":{"description":"存储库总容量,单位GB","maximum":2097152,"minimum":0,"type":"integer"},"vault_status":{"description":"存储库状态。\n  - available:可用。\n  - lock:被锁定。\n  - frozen:冻结。\n  - deleting:删除中。\n  - error:错误。","maxLength":128,"minLength":0,"type":"string"},"vault_used":{"description":"已使用容量,单位MB,指的是已有备份占用的容量,例如绑定了1台主机,已经有两个备份数,两个备份60G,则已使用容量为60G。","maximum":2097152,"minimum":0,"type":"integer"}},"type":"object"},"BackupVaultListResponseInfo":{"properties":{"data_list":{"description":"查询备份存储库列表","items":{"$ref":"#/definitions/BackupVaultInfo"},"maxItems":10241,"minItems":0,"type":"array"},"total_num":{"description":"查询备份存储库总数","format":"int32","maximum":2097152,"minimum":0,"type":"integer"}},"type":"object"}},"description":null,"group_id":"3f29a7c68cc24a39a794ff9ddec0ba77","host":"hss.cn-north-4.myhuaweicloud.com","id":"0c6723c555fd41d1ab7c51e021830e28","info_version":"v5","method":"get","name":"ListBackupVaults","parameters":{"Limit":{"default":10,"description":"**参数解释**:\n每页显示个数\n**约束限制**:\n不涉及\n**取值范围**:\n取值10-200\n**默认取值**:\n10","format":"int32","in":"query","maximum":200,"minimum":10,"name":"limit","required":false,"type":"integer"},"Offset":{"default":0,"description":"**参数解释**:\n偏移量:指定返回记录的开始位置\n**约束限制**:\n不涉及\n**取值范围**:\n最小值0,最大值2000000\n**默认取值**:\n默认为0","format":"int32","in":"query","maximum":2000000,"minimum":0,"name":"offset","required":false,"type":"integer"},"ProjectId":{"description":"**参数解释**:\n项目ID,用于明确项目归属,配置后可通过该ID查询项目下资产。获取方式请参见[获取项目ID](hss_02_0024.xml)。\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度1-256位\n**默认取值**:\n不涉及","in":"path","maxLength":256,"minLength":1,"name":"project_id","pattern":"^.*$","required":true,"type":"string","x-example":"9d4f774865034d119917acc61b1b806e"},"XAuthToken":{"description":"**参数解释**:\n用户Token,包含了用户的身份、权限等信息,在调用API接口时,可通过Token进行身份认证。获取方式请参见[获取用户Token](hss_02_0009.xml)。\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度1-32768位\n**默认取值**:\n不涉及","in":"header","maxLength":32768,"minLength":1,"name":"X-Auth-Token","pattern":"^.*$","required":true,"type":"string","x-example":"$${X-Auth-Token}"}},"paths":{"/v5/{project_id}/ransomware/optional/vaults":{"get":{"description":"查询备份存储库列表,若进行绑定主机,则需要额外判断,同时满足以下条件:1.存储库状态为“可用”状态;2.备份策略状态为“已启用”;3.存储库有剩余可用备份容量;4.存储库绑定的服务器数量少于256。","operationId":"ListBackupVaults","parameters":[{"$ref":"#/parameters/XAuthToken"},{"$ref":"#/parameters/ProjectId"},{"$ref":"#/parameters/Offset"},{"$ref":"#/parameters/Limit"},{"description":"备份存储库名称","in":"query","maxLength":512,"minLength":1,"name":"vault_name","pattern":"^.*$","required":false,"type":"string"},{"description":"备份存储库id","in":"query","maxLength":64,"minLength":0,"name":"vault_id","pattern":"^[a-zA-Z0-9_-]+$","required":false,"type":"string","x-example":"vault_id"}],"produces":["application/json"],"responses":{"200":{"description":"请求已成功","examples":{"application/json":{"data_list":[{"backup_policy_enabled":true,"backup_policy_id":"77d-6963-4ea3XXX","backup_policy_name":"policy_XXX","resources_num":1,"vault_allocated":2097152,"vault_charging_mode":"pre_paid","vault_id":"48a-5f59-4541XXX","vault_name":"vault-XXX","vault_size":2097152,"vault_status":"available","vault_used":2097152}],"total_num":2097152}},"schema":{"$ref":"#/definitions/BackupVaultListResponseInfo"}}},"summary":"查询备份存储库列表","tags":["勒索防护"],"x-api-type":"open-api","x-apigateway-request-type":"public","x-iam-auth-meta-anno":{"abacAction":"hss:antiransomware:listBackupVaults","abacActionAlias":"hss:antiransomware:list","authLevel":"PROJECT","rbac":["te_admin","hss_adm","te_admin+op_restricted","te_admin+op_suspended","hss_adm+op_restricted","hss_adm+op_suspended","readonly","op_service"]},"x-is-registered":"Y","x-method-annotations":["@CtsInfo(userOperationType = \"listBackupVaults\", operationId = \"ListBackupVaults\", readOnly = true)"],"x-order":1,"x-support-sdk":"Y","x-surpport-apiexplorer":true}}},"product_short":"HSS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询备份存储库列表","tags":"勒索防护","uri":null,"version":"2.0"}