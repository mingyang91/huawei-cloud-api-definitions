{"base_path":"/","components":null,"consumes":"","definitions":{"BatchExportLocalVulInfoRequestInfo":{"description":"操作的事件","example":{"operate_all":true},"properties":{"end_latest_scan_time":{"default":0,"description":"最近一次扫描完成时间结束日期,时间单位 毫秒(ms)","format":"int64","maximum":2147483547,"minimum":0,"type":"integer"},"end_latest_update_time":{"default":0,"description":"创建时间结束日期,时间单位 毫秒(ms)","format":"int64","maximum":2147483547,"minimum":0,"type":"integer"},"handle_status":{"description":"漏洞处置状态,包含如下:\n  - unhandled :未处理\n  - handled : 已处理","example":"unhandled","maxLength":128,"minLength":0,"pattern":"^unhandled|handled$","type":"string"},"has_container":{"description":"**参数解释**:\n是否存在容器\n**约束限制**:\n不涉及\n**取值范围**:\n- true:是。\n- false:否。\n\n**默认取值**:\n不涉及","maxLength":6,"minLength":1,"type":"boolean"},"image_id_list":{"description":"要导出的镜像信息列表,operate_all参数为false时需要填写批量查询条件,image_id 镜像id,唯一镜像标识(注:对私有镜像和共享镜像来说是镜像列表返回的id)","items":{"maxLength":256,"minLength":0,"type":"string"},"type":"array"},"image_name":{"description":"镜像名称","maxLength":65535,"minLength":0,"pattern":"^.*$","type":"string"},"image_size":{"default":0,"description":"镜像大小","format":"int64","maximum":2147483547,"minimum":0,"type":"integer"},"image_version":{"description":"镜像版本","maxLength":65535,"minLength":0,"pattern":"^.*$","type":"string"},"operate_all":{"description":"若为true全量查询,可筛选条件全部查询","type":"boolean","x-example":"true"},"scan_status":{"description":"**参数解释**:\n扫描状态\n**约束限制**:\n不涉及\n**取值范围**:\n  - unscan : 未扫描。\n  - success : 扫描完成。\n  - scanning : 扫描中。\n  - failed : 扫描失败。\n  - download_failed : 下载失败。\n  - image_oversized : 镜像超大。\n  - waiting_for_scan : 等待扫描。\n  - image_scan_stop : 扫描终止。\n**默认取值**:\n不涉及","example":"success","maxLength":32,"minLength":1,"pattern":"^(unscan|success|scanning|failed|download_failed|image_oversized|waiting_for_scan|image_scan_stop)$","type":"string"},"start_latest_scan_time":{"default":0,"description":"最近一次扫描完成时间开始日期,时间单位 毫秒(ms)","format":"int64","maximum":2147483547,"minimum":0,"type":"integer"},"start_latest_update_time":{"default":0,"description":"创建时间开始日期,时间单位 毫秒(ms)","format":"int64","maximum":2147483547,"minimum":0,"type":"integer"},"vul_id_list":{"description":"导出镜像漏洞时的漏洞id列表","items":{"maxLength":256,"minLength":0,"type":"string"},"maxItems":2048,"minItems":0,"type":"array"},"vul_type":{"description":"漏洞类型,包含如下:\n  -linux_vul : linux漏洞\n  -app_vul : 应用漏洞","maxLength":32,"minLength":0,"pattern":"^linux_vul|app_vul$","type":"string"}},"type":"object"},"ExportVulnerabilityTaskResponseInfo":{"properties":{"record_total_num":{"description":"**参数解释**:\n导出记录总数\n**取值范围**:\n最小值0,最大值2147483647","format":"int64","maximum":2147483647,"minimum":0,"type":"integer"},"task_id":{"description":"**参数解释**:\n导出任务ID\n**取值范围**:\n字符长度1-256位","maxLength":256,"minLength":1,"type":"string"}},"required":["record_total_num","task_id"],"type":"object"}},"description":null,"group_id":"3f29a7c68cc24a39a794ff9ddec0ba77","host":"hss.cn-north-4.myhuaweicloud.com","id":"a507f55c21534a07959631dd3c118bd8","info_version":"v5","method":"post","name":"BatchExportLocalVulTask","parameters":{},"paths":{"/v5/{project_id}/image/local-vulnerability/export":{"post":{"description":"本地镜像漏洞批量导出(支持全量导出)","operationId":"BatchExportLocalVulTask","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","maxLength":32768,"minLength":1,"name":"X-Auth-Token","pattern":"^.*$","required":true,"type":"string","x-example":"$${X-Auth-Token}"},{"description":"Region ID","in":"header","maxLength":128,"minLength":0,"name":"region","pattern":"^.*$","required":true,"type":"string","x-example":"cn-north-5"},{"description":"项目ID","in":"path","maxLength":256,"minLength":1,"name":"project_id","pattern":"^.*$","required":true,"type":"string","x-example":"9d4f774865034d119917acc61b1b806e"},{"default":"0","description":"主机所属的企业项目ID。\n开通企业项目功能后才需要配置企业项目。\n企业项目ID默认取值为“0”,表示默认企业项目。如果需要查询所有企业项目下的主机,请传参“all_granted_eps”。如果您只有某个企业项目的权限,则需要传递该企业项目ID,查询该企业项目下的主机,否则会因权限不足而报错。","in":"query","maxLength":256,"minLength":1,"name":"enterprise_project_id","pattern":"^.*$","required":false,"type":"string"},{"description":"导出数据条数","format":"int32","in":"query","name":"export_size","required":true,"type":"integer"},{"description":"导出本地镜像请求","in":"body","name":"BatchExportLocalVulTaskRequestBody","required":true,"schema":{"$ref":"#/definitions/BatchExportLocalVulInfoRequestInfo"}}],"responses":{"200":{"description":"请求已成功","examples":{"application/json":{"record_total_num":1,"task_id":"asdwwqdtut01"}},"schema":{"$ref":"#/definitions/ExportVulnerabilityTaskResponseInfo"}}},"summary":"本地镜像漏洞批量导出(支持全量导出)","tags":["image"],"x-api-type":"open-api","x-iam-auth-meta-anno":{"abacAction":"hss:image:batchExportLocalVulTask","abacActionAlias":"hss:images:list","authLevel":"project","rbac":["te_admin","hss_adm","te_admin+op_restricted","hss_adm+op_restricted","op_service"]},"x-is-registered":"Y","x-method-annotations":"@CtsInfo(userOperationType = \"batchExportLocalVulTask\", operationId = \"BatchExportLocalVulTask\",readOnly = false)","x-support-sdk":"Y","x-surpport-apiexplorer":true}}},"product_short":"HSS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"本地镜像漏洞批量导出(支持全量导出)","tags":"容器镜像","uri":null,"version":"2.0"}