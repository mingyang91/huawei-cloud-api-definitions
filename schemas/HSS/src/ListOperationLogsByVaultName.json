{"base_path":"/","components":null,"consumes":"","definitions":{"ErrorInfo":{"properties":{"code":{"description":"错误码","maxLength":128,"minLength":1,"type":"string"},"message":{"description":"错误信息","maxLength":128,"minLength":1,"type":"string"}},"type":"object"},"OperationLogInfo":{"properties":{"backup_name":{"description":"备份名称","maxLength":256,"minLength":1,"type":"string"},"ended_at":{"description":"任务结束时间","maxLength":64,"minLength":1,"type":"string"},"error_info":{"$ref":"#/definitions/ErrorInfo","description":"失败信息","type":"object"},"host_id":{"description":"主机ID","maxLength":256,"minLength":1,"type":"string"},"host_name":{"description":"主机名称","maxLength":256,"minLength":1,"type":"string"},"process":{"description":"恢复进度(百分比)","format":"int32","maximum":100,"minimum":0,"type":"integer"},"started_at":{"description":"任务开始时间","maxLength":64,"minLength":1,"type":"string"},"status":{"description":"恢复状态,包含如下:\n  - success : 成功\n  - skipped : 跳过\n  - failed : 失败\n  - running : 正在运行\n  - timeout : 超时\n  - waiting : 等待","maxLength":64,"minLength":1,"type":"string"}},"type":"object"},"OperationLogListResponseInfo":{"properties":{"data_list":{"description":"list","items":{"$ref":"#/definitions/OperationLogInfo","type":"object"},"maxItems":10000,"minItems":0,"type":"array"},"total_num":{"description":"总数","format":"int32","maximum":10000,"minimum":0,"type":"integer"}},"type":"object"}},"description":null,"group_id":"3f29a7c68cc24a39a794ff9ddec0ba77","host":"hss.cn-north-4.myhuaweicloud.com","id":"96e336bafe504dada9c141773b65ba19","info_version":"v5","method":"get","name":"ListOperationLogsByVaultName","parameters":{"EnterpriseProjectId":{"default":"0","description":"主机所属的企业项目ID。\n开通企业项目功能后才需要配置企业项目。\n企业项目ID默认取值为“0”,表示默认企业项目。如果需要查询所有企业项目下的主机,请传参“all_granted_eps”。如果您只有某个企业项目的权限,则需要传递该企业项目ID,查询该企业项目下的主机,否则会因权限不足而报错。","in":"query","maxLength":256,"minLength":1,"name":"enterprise_project_id","pattern":"^.*$","required":false,"type":"string"},"ProjectId":{"description":"项目ID","in":"path","maxLength":256,"minLength":1,"name":"project_id","pattern":"^.*$","required":true,"type":"string","x-example":"9d4f774865034d119917acc61b1b806e"},"XAuthToken":{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","maxLength":32768,"minLength":1,"name":"X-Auth-Token","pattern":"^.*$","required":true,"type":"string","x-example":"$${X-Auth-Token}"}},"paths":{"/v5/{project_id}/ransomware/backup/operation-logs":{"get":{"description":"查询备份恢复任务列表","operationId":"ListOperationLogsByVaultName","parameters":[{"$ref":"#/parameters/XAuthToken"},{"$ref":"#/parameters/ProjectId"},{"$ref":"#/parameters/EnterpriseProjectId"},{"description":"恢复状态,包含如下:\n  - success : 成功\n  - skipped : 跳过\n  - failed : 失败\n  - running : 正在运行\n  - timeout : 超时\n  - waiting : 等待","in":"query","maxLength":64,"minLength":1,"name":"status","pattern":"^success|skipped|failed|running|timeout|waiting$","required":false,"type":"string","x-example":"skipped"},{"description":"服务器名称","in":"query","maxLength":512,"minLength":1,"name":"resource_name","pattern":"^[A-Za-z0-9\\u4E00-\\u9FA5,\\.\\u3002\\uff0c_-]+$","required":false,"type":"string","x-example":"WINDOWS-COMPILE"},{"default":0,"description":"查询起始点","format":"int32","in":"query","maximum":2147483547,"minimum":0,"name":"offset","required":true,"type":"integer"},{"default":10,"description":"每页显示个数","format":"int32","in":"query","maximum":200,"minimum":10,"name":"limit","required":true,"type":"integer"},{"description":"查询时间范围","format":"int32","in":"query","maximum":30,"minimum":1,"name":"last_days","required":false,"type":"integer"}],"produces":["application/json"],"responses":{"200":{"description":"请求已成功","examples":{"application/json":{"data_list":[{"backup_name":"autobk_9","error_info":{"code":"","message":""},"host_id":"c882e0-c4c1-4e89-b99a-f632","host_name":"ecs-test","process":100,"started_at":"2025-03-06T05:26:18Z","status":"success","updated_at":"2025-03-06T05:27:02Z"}],"total_num":1}},"schema":{"$ref":"#/definitions/OperationLogListResponseInfo"}}},"summary":"查询备份恢复任务列表","tags":["勒索防护"],"x-iam-auth-meta-anno":{"abacAction":"hss:antiransomware:listRansomwareOperationLogsByVaultName","abacActionAlias":"hss:antiransomware:list","authLevel":"PROJECT","rbac":["te_admin","hss_adm","te_admin+op_restricted","te_admin+op_suspended","hss_adm+op_restricted","hss_adm+op_suspended","readonly","op_service"]},"x-is-registered":"Y","x-method-annotations":["@CtsInfo(userOperationType = \"listOperationLogsByVaultName\", operationId = \"ListOperationLogsByVaultName\", readOnly = true)"],"x-order":10,"x-support-sdk":"Y","x-surpport-apiexplorer":true}}},"product_short":"HSS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询备份恢复任务列表","tags":"勒索防护","uri":null,"version":"2.0"}