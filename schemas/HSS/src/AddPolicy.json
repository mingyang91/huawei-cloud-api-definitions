{"base_path":"/","components":null,"consumes":"","definitions":{"AddPolicyRequestInfo":{"properties":{"feature_list":{"description":"检测特性规则列表","items":{"$ref":"#/definitions/ChkFeatureInfo"},"maxItems":10241,"minItems":0,"type":"array"}},"type":"object"},"ChkFeatureInfo":{"description":"检测特性规则","properties":{"chk_feature_id":{"description":"检测特性规则ID","example":1,"maximum":2097152,"minimum":0,"type":"integer"},"enabled":{"description":"开启状态 0 关闭 1 开启","example":1,"maximum":2097152,"minimum":0,"type":"integer"},"feature_configure":{"description":"检测特性规则配置信息","example":"/guiserver/rule/create;/guiserver/rule/update","maxLength":128,"minLength":0,"type":"string"},"protective_action":{"description":"防护动作 1 检测  2 检测并阻断/拦截","example":1,"maximum":2097152,"minimum":0,"type":"integer"}},"required":["chk_feature_id","protective_action","enabled","feature_configure"],"type":"object"}},"description":null,"group_id":"3f29a7c68cc24a39a794ff9ddec0ba77","host":"hss.cn-north-4.myhuaweicloud.com","id":"bc2ffb089d3f4043aeaeaf6b4f70318a","info_version":"v5","method":"post","name":"AddPolicy","parameters":{},"paths":{"/v5/{project_id}/rasp/policy":{"post":{"description":"添加防护策略:创建防护策略,包含策略名称、相关规则开启状态、防护动作以及检测规则配置","operationId":"AddPolicy","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","maxLength":32768,"minLength":1,"name":"x-auth-token","pattern":"^.*$","required":true,"type":"string"},{"description":"项目ID","in":"path","maxLength":128,"minLength":1,"name":"project_id","pattern":"^.*$","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"default":"0","description":"企业项目ID,查询所有企业项目时填写:all_granted_eps","in":"query","maxLength":256,"minLength":1,"name":"enterprise_project_id","pattern":"^.*$","required":false,"type":"string"},{"description":"操作系统类型,包含如下2种。\n- Linux\n- Windows","in":"query","name":"os_type","pattern":"^(Linux|Windows)$","required":false,"type":"string"},{"description":"策略名称","in":"query","maxLength":128,"minLength":0,"name":"policy_name","pattern":"^.*$","required":true,"type":"string"},{"description":"添加防护策略Body体","in":"body","name":"AddPolicyRequestBody","required":true,"schema":{"$ref":"#/definitions/AddPolicyRequestInfo"}}],"produces":["application/json"],"responses":{"200":{"description":"请求已成功"}},"summary":"添加防护策略","tags":["应用防护"],"x-api-type":"open-api","x-apigateway-request-type":"public","x-iam-auth-meta-anno":{"abacAction":"hss:rasp:addRaspPolicy","abacActionAlias":"hss:rasp:set","authLevel":"project","rbac":["te_admin","hss_adm","te_admin+op_restricted","hss_adm+op_restricted","op_service"]},"x-is-registered":"Y","x-method-annotations":"@CtsInfo(userOperationType = \"addPolicy\", operationId = \"AddPolicy\",readOnly = false)","x-support-sdk":"N"}}},"product_short":"HSS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"添加防护策略","tags":"应用防护","uri":null,"version":"2.0"}