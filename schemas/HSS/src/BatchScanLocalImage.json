{"base_path":"/","components":null,"consumes":"","definitions":{"LocalImageBatchScanRequestBody":{"properties":{"end_latest_scan_time":{"default":0,"description":"最近一次扫描完成时间结束日期,时间单位:毫秒(ms)","format":"int64","maximum":2147483547,"minimum":0,"type":"integer"},"end_latest_update_time":{"default":0,"description":"创建时间结束日期,时间单位:毫秒(ms)","format":"int64","maximum":2147483547,"minimum":0,"type":"integer"},"image_info_list":{"description":"需要扫描的本地镜像列表","items":{"$ref":"#/definitions/LocalImageInfo"},"maxItems":500,"minItems":1,"type":"array"},"image_name":{"description":"镜像名称","maxLength":256,"minLength":1,"pattern":"^.*$","type":"string","x-example":"test123"},"image_size":{"default":0,"description":"镜像大小","format":"int64","maximum":2147483547,"minimum":0,"type":"integer"},"image_version":{"description":"镜像版本","maxLength":256,"minLength":1,"pattern":"^.*$","type":"string","x-example":"test123"},"local_image_type":{"description":"镜像类型,包含如下:\n  - other_image : 其他镜像\n  - swr_image : swr镜像仓","maxLength":32,"minLength":1,"type":"string"},"operate_all":{"description":"是否扫描全部本地镜像,true扫描所有,非true则不是","example":true,"type":"boolean"},"scan_status":{"description":"扫描状态,包含如下:\n  - unscan : 未扫描\n  - success : 扫描完成\n  - scanning : 扫描中\n  - failed : 扫描失败\n  - download_failed : 下载失败\n  - image_oversized : 镜像超大","maxLength":32,"minLength":1,"type":"string"},"start_latest_scan_time":{"default":0,"description":"最近一次扫描完成时间开始日期,时间单位:毫秒(ms)","format":"int64","maximum":2147483547,"minimum":0,"type":"integer"},"start_latest_update_time":{"default":0,"description":"创建时间开始日期,时间单位:毫秒(ms)","format":"int64","maximum":2147483547,"minimum":0,"type":"integer"}},"type":"object"},"LocalImageInfo":{"properties":{"image_digest":{"description":"镜像摘要","example":"","maxLength":128,"minLength":0,"type":"string"},"image_id":{"description":"镜像id","example":"","maxLength":128,"minLength":0,"type":"string"},"image_name":{"description":"镜像名称","example":"","maxLength":128,"minLength":0,"type":"string"},"image_version":{"description":"镜像版本","example":"","maxLength":128,"minLength":0,"type":"string"}},"type":"object"}},"description":null,"group_id":"3f29a7c68cc24a39a794ff9ddec0ba77","host":"hss.cn-north-4.myhuaweicloud.com","id":"1ea4293b29ff43a185722c83b628717a","info_version":"v5","method":"post","name":"BatchScanLocalImage","parameters":{},"paths":{"/v5/{project_id}/image/local/batch-scan":{"post":{"description":"本地镜像扫描","operationId":"BatchScanLocalImage","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","maxLength":32768,"minLength":1,"name":"X-Auth-Token","pattern":"^.*$","required":true,"type":"string","x-example":"$${X-Auth-Token}"},{"description":"Region ID","in":"header","maxLength":128,"minLength":0,"name":"region","pattern":"^.*$","required":true,"type":"string","x-example":"cn-north-5"},{"description":"项目ID","in":"path","maxLength":256,"minLength":1,"name":"project_id","pattern":"^.*$","required":true,"type":"string","x-example":"9d4f774865034d119917acc61b1b806e"},{"default":"0","description":"主机所属的企业项目ID。\n开通企业项目功能后才需要配置企业项目。\n企业项目ID默认取值为“0”,表示默认企业项目。如果需要查询所有企业项目下的主机,请传参“all_granted_eps”。如果您只有某个企业项目的权限,则需要传递该企业项目ID,查询该企业项目下的主机,否则会因权限不足而报错。","in":"query","maxLength":256,"minLength":1,"name":"enterprise_project_id","pattern":"^.*$","required":false,"type":"string"},{"description":"request","in":"body","name":"BatchScanLocalImageRequestBody","required":true,"schema":{"$ref":"#/definitions/LocalImageBatchScanRequestBody"}}],"responses":{"200":{"description":"请求已成功"}},"summary":"本地镜像扫描","tags":["image"],"x-api-type":"open-api","x-apigateway-request-type":"public","x-iam-auth-meta-anno":{"abacAction":"hss:image:batchScanLocalImage","abacActionAlias":"hss:images:set","authLevel":"project","rbac":["te_admin","hss_adm","te_admin+op_restricted","hss_adm+op_restricted","op_service"]},"x-is-registered":"Y","x-method-annotations":"@CtsInfo(userOperationType = \"batchScanLocalImage\", operationId = \"BatchScanLocalImage\",readOnly = false)","x-request-examples-1":{"image_info_list":[{"image_digest":"sha256:05b5081012e562d14c374de2a4c74511f9e8e0adc572d3b35fb3df06de0da63b","image_id":"c499ab72-7ee9-4ee6-b6b7-5973230e7a7b","image_name":"swr.cn-north-7.myhuaweicloud.com/scc_hss_container/install-hss-agent","image_version":"1.0.10.x86_64"},{"image_digest":"sha256:ce0b5d91b072730d0bc9518f11efd07eb7fdb9f43251e11a96cab5b1918b7044","image_id":"b8722a02-162f-4e4e-8100-127605e3a07b","image_name":"swr.cn-north-7.myhuaweicloud.com/glz/webshell-ljx","image_version":"v1"}],"operate_all":false},"x-request-examples-description-1":"本地镜像扫描","x-request-examples-text-1":{"image_info_list":[{"image_digest":"sha256:05b5081012e562d14c374de2a4c74511f9e8e0adc572d3b35fb3df06de0da63b","image_id":"c499ab72-7ee9-4ee6-b6b7-5973230e7a7b","image_name":"swr.cn-north-7.myhuaweicloud.com/scc_hss_container/install-hss-agent","image_version":"1.0.10.x86_64"},{"image_digest":"sha256:ce0b5d91b072730d0bc9518f11efd07eb7fdb9f43251e11a96cab5b1918b7044","image_id":"b8722a02-162f-4e4e-8100-127605e3a07b","image_name":"swr.cn-north-7.myhuaweicloud.com/glz/webshell-ljx","image_version":"v1"}],"operate_all":false},"x-request-examples-url-1":"POST https://{endpoint}/v5/{project_id}/image/local/batch-scan?enterprise_project_id=all_granted_eps","x-support-sdk":"Y","x-surpport-apiexplorer":true}}},"product_short":"HSS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"本地镜像扫描","tags":"容器镜像","uri":null,"version":"2.0"}