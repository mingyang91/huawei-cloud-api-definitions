{"base_path":"/","components":null,"consumes":"","definitions":{"CreateMultiCloudClustersResponseInfo":{"description":"多云集群的集群id","properties":{"cluster_id":{"description":"集群id","example":12345678,"maxLength":64,"minLength":1,"type":"string"}},"type":"object"},"KubeConfigInfo":{"description":"kubeconfig文件","example":"apiVersion: v1\n clusters:\n - cluster:\n certificate-authority-data:\n server: https://0.0.0.0:6443\n name: kubernetes\n contexts:\n - context:\n cluster: kubernetes\n user: kubernetes-admin\n name: kubernetes-admin@kubernetes\n current-context: kubernetes-admin@kubernetes\n kind: Config\n","maxLength":20480,"minLength":1,"pattern":"^.*$","type":"string"},"MultiCloudClusterCreateRequestBody":{"description":"多云集群的创建","properties":{"anp_proxy":{"description":"Anp代理地址","example":"10.10.10.10","maxLength":256,"minLength":0,"pattern":"^.*$","type":"string"},"certificate_expiration_date":{"description":"证书有效期结束时间","example":1715356800000,"format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"container_name":{"description":"容器名称","example":"pod","maxLength":128,"minLength":0,"pattern":"^.*$","type":"string"},"current_expiration_date":{"description":"当前有效期结束时间","example":1715356800000,"format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"dns_config":{"description":"自定义DNS配置,一个或多个IP地址,以分号分隔","example":"10.10.10.10;20.20.20.20","maxLength":512,"minLength":0,"pattern":"^.*$","type":"string"},"dns_policy":{"description":"DNS策略:\n- default:继承集群节点的域名解析配置\n- clusterfirst:查询集群内部的CoreDNS服务\n- clusterfirstwithhostnet:强制在hostNetwork网络模式下使用ClusterFirst策略\n- none:忽略集群的DNS策略,使用自定义DNS配置","example":"default","pattern":"^default|clusterfirst|clusterfirstwithhostnet|none$","type":"string"},"hostguard_proxy":{"description":"Hostguard代理地址","example":"10.10.10.10","maxLength":256,"minLength":0,"pattern":"^.*$","type":"string"},"image_arch":{"description":"镜像架构类型:\n- x86\n- arm","example":"x86","pattern":"^x86|arm$","type":"string"},"image_repo":{"description":"镜像仓地址","example":"harbor.com","maxLength":128,"minLength":0,"pattern":"^.*$","type":"string"},"image_repo_password":{"description":"镜像仓密码","example":123456,"maxLength":128,"minLength":0,"pattern":"^.*$","type":"string"},"image_repo_type":{"description":"**参数解释**\n镜像仓类型\n**约束限制**\n- harbor:Harbor镜像仓。\n- quay:Quay镜像仓。\n- jfrog:Jfrog镜像仓。\n- other:其他镜像仓。\n\n**取值范围**\n字符长度范围0-64\n**默认取值**\n不涉及","example":"Other","maxLength":64,"minLength":0,"pattern":"^harbor|quay|jfrog|other$","type":"string"},"image_repo_username":{"description":"镜像仓用户名","example":"me","maxLength":128,"minLength":0,"pattern":"^.*$","type":"string"},"kube_config":{"$ref":"#/definitions/KubeConfigInfo"},"name":{"description":"集群名称","example":"cluster1","maxLength":256,"minLength":0,"pattern":"^[a-z][a-z0-9-]*[a-z0-9]$","type":"string"},"organization":{"description":"组织","example":"user","maxLength":64,"minLength":0,"pattern":"^.*$","type":"string"},"provider":{"description":"**参数解释**\n集群服务商\n**约束限制**\n  - ali:阿里。\n  - tencent:腾讯。\n  - azure:微软。\n  - aws:亚马逊。\n  - self_built_hw:华为自建。\n  - self_built_idc:IDC自建。\n\n**取值范围**\n字符长度范围0-64\n**默认取值**\n不涉及","example":"tencent","maxLength":256,"minLength":0,"pattern":"^ali|tencent|azure|aws|self_built_hw|self_built_idc$","type":"string"},"server":{"description":"集群apiserver地址","example":"https://0.0.0.0","maxLength":128,"minLength":0,"pattern":"^https://.*$","type":"string"}},"required":["kube_config"],"type":"object"}},"description":null,"group_id":"3f29a7c68cc24a39a794ff9ddec0ba77","host":"hss.cn-north-4.myhuaweicloud.com","id":"4789e4c518f342c6ab38ae2488c70365","info_version":"v5","method":"post","name":"CreateMultiCloudClusters","parameters":{"EnterpriseProjectId":{"default":"0","description":"**参数解释**:\n企业项目ID,用于过滤不同企业项目下的资产。获取方式请参见[获取企业项目ID](hss_02_0027.xml)。\n如需查询所有企业项目下的资产请传参“all_granted_eps”。\n**约束限制**:\n开通企业项目功能后才需要配置企业项目ID参数。\n**取值范围**:\n字符长度1-256位\n**默认取值**:\n0,表示默认企业项目(default)。","in":"query","maxLength":256,"minLength":1,"name":"enterprise_project_id","pattern":"^.*$","required":false,"type":"string"},"ProjectId":{"description":"**参数解释**:\n项目ID,用于明确项目归属,配置后可通过该ID查询项目下资产。获取方式请参见[获取项目ID](hss_02_0024.xml)。\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度1-256位\n**默认取值**:\n不涉及","in":"path","maxLength":256,"minLength":1,"name":"project_id","pattern":"^.*$","required":true,"type":"string","x-example":"9d4f774865034d119917acc61b1b806e"},"XAuthToken":{"description":"**参数解释**:\n用户Token,包含了用户的身份、权限等信息,在调用API接口时,可通过Token进行身份认证。获取方式请参见[获取用户Token](hss_02_0009.xml)。\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度1-32768位\n**默认取值**:\n不涉及","in":"header","maxLength":32768,"minLength":1,"name":"X-Auth-Token","pattern":"^.*$","required":true,"type":"string","x-example":"$${X-Auth-Token}"}},"paths":{"/v5/{project_id}/container/kubernetes/multi-cloud/clusters":{"post":{"description":"创建多云集群","operationId":"CreateMultiCloudClusters","parameters":[{"$ref":"#/parameters/XAuthToken"},{"$ref":"#/parameters/ProjectId"},{"$ref":"#/parameters/EnterpriseProjectId"},{"description":"多云集群的创建请求","in":"body","name":"CreateMultiCloudClustersRequestBody","required":true,"schema":{"$ref":"#/definitions/MultiCloudClusterCreateRequestBody"}}],"responses":{"200":{"description":"请求已成功","examples":{"application/json":{"cluster_id":"6f2b5593-7855-4dbd-aebe-4f736708b8db"}},"schema":{"$ref":"#/definitions/CreateMultiCloudClustersResponseInfo"}}},"summary":"创建多云集群","tags":["container"],"x-api-type":"open-api","x-apigateway-request-type":"public","x-iam-auth-meta-anno":{"abacAction":"hss:container:createMultiCloudClusters","abacActionAlias":"hss:containers:set","authLevel":"PROJECT","rbac":["op_service","te_admin","hss_adm","te_admin+op_restricted","te_admin+op_suspended","hss_adm+op_restricted","hss_adm+op_suspended","readonly"]},"x-is-registered":"Y","x-method-annotations":["@CtsInfo(userOperationType = \"createMultiCloudClusters\", operationId = \"CreateMultiCloudClusters\")"],"x-request-examples-1":{"certificate_expiration_date":1814079596667,"current_expiration_date":1814079596667,"kube_config":"apiVersion: v1\r\n\r\nclusters:\r\n\r\n- cluster:\r\n\r\n    certificate-authority-data: xxx=\r\n\r\n    server: https://lb.kubesphere.local:6443\r\n\r\n  name: cluster.local\r\n\r\ncontexts:\r\n\r\n- context:\r\n\r\n    cluster: cluster.local\r\n\r\n    user: kubernetes-admin\r\n\r\n  name: kubernetes-admin@cluster.local\r\n\r\ncurrent-context: kubernetes-admin@cluster.local\r\n\r\nkind: Config\r\n\r\npreferences: {}\r\n\r\nusers:\r\n\r\n- name: kubernetes-admin\r\n\r\n  user:\r\n\r\n    client-certificate-data: xxx=\r\n\r\n    client-key-data: xxx=\r\n","name":"ywk-test","provider":"tencent","server":"https://lb.kubesphere.local:6443"},"x-request-examples-description-1":"创建多云集群","x-request-examples-text-1":{"certificate_expiration_date":1814079596667,"current_expiration_date":1814079596667,"kube_config":"apiVersion: v1\r\n\r\nclusters:\r\n\r\n- cluster:\r\n\r\n    certificate-authority-data: xxx=\r\n\r\n    server: https://lb.kubesphere.local:6443\r\n\r\n  name: cluster.local\r\n\r\ncontexts:\r\n\r\n- context:\r\n\r\n    cluster: cluster.local\r\n\r\n    user: kubernetes-admin\r\n\r\n  name: kubernetes-admin@cluster.local\r\n\r\ncurrent-context: kubernetes-admin@cluster.local\r\n\r\nkind: Config\r\n\r\npreferences: {}\r\n\r\nusers:\r\n\r\n- name: kubernetes-admin\r\n\r\n  user:\r\n\r\n    client-certificate-data: xxx=\r\n\r\n    client-key-data: xxx=\r\n","name":"ywk-test","provider":"tencent","server":"https://lb.kubesphere.local:6443"},"x-request-examples-url-1":"POST  https://{endpoint}/v5/{project_id}/container/kubernetes/multi-cloud/clusters&?enterprise_project_id=all_granted_eps","x-support-sdk":"Y","x-surpport-apiexplorer":true}}},"product_short":"HSS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建多云集群","tags":"容器安装与配置","uri":null,"version":"2.0"}