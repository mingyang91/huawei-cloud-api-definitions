{"base_path":"/","components":null,"consumes":"","definitions":{"CreateManualImageScanTaskReqInfo":{"description":"创建手动扫描任务请求体","properties":{"image_info":{"description":"待扫描镜像","items":{"properties":{"id":{"description":"id","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"image_digest":{"description":"镜像digest","maxLength":128,"minLength":0,"pattern":"^.*$","type":"string"},"image_id":{"description":"image id","maxLength":128,"minLength":0,"pattern":"^.*$","type":"string"},"image_name":{"description":"镜像名称","example":"image_name","maxLength":256,"minLength":1,"pattern":"^.*$","type":"string"},"image_version":{"description":"镜像版本","example":"image_version","maxLength":256,"minLength":1,"pattern":"^.*$","type":"string"},"instance_id":{"description":"企业实例ID","maxLength":128,"minLength":0,"pattern":"^.*$","type":"string"},"instance_url":{"description":"下载企业镜像URL","maxLength":256,"minLength":0,"pattern":"^.*$","type":"string"},"namespace":{"description":"命名空间","example":"namespace","maxLength":256,"minLength":1,"pattern":"^.*$","type":"string"},"registry_id":{"description":"镜像仓库ID","example":"registry_id","maxLength":256,"minLength":1,"pattern":"^.*$","type":"string"},"registry_name":{"description":"镜像仓库名称","example":"registry_name","maxLength":128,"minLength":1,"pattern":"^.*$","type":"string"},"registry_type":{"description":"**参数解释**:\n镜像仓库类型\n**约束限制**:\n不涉及\n**取值范围**:\n- SwrPrivate:swr私有。\n- SwrShared:swr共享。\n- SwrEnterprise:swr企业。\n- Harbor:harbor仓库。\n- Jfrog:jfrog仓库。\n- Other:其他仓库。\n\n**默认取值**:\n不涉及","example":"Harbor","maxLength":256,"minLength":1,"pattern":"^.*$","type":"string"}},"type":"object"},"type":"array"},"is_all":{"description":"**参数解释**:\n扫描全部镜像\n**约束限制**:\n不涉及\n**取值范围**:\n- true:扫描全部镜像。\n- false:指定镜像扫描,见image_info字段。\n\n**默认取值**:\n不涉及","pattern":"^true|false$","type":"boolean"},"query_info":{"description":"按照查询结果扫描","properties":{"app_name":{"description":"**参数解释**:\n软件名称\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度0-256位。\n\n**默认取值**:\n不涉及","maxLength":256,"minLength":0,"type":"string","x-example":"test123"},"cluster_id":{"description":"**参数解释**:\n集群id\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度0-128位。\n\n**默认取值**:\n不涉及","maxLength":128,"minLength":0,"type":"string","x-example":"test123"},"container_id":{"description":"**参数解释**:\n容器id\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度0-128位。\n\n**默认取值**:\n不涉及","maxLength":128,"minLength":0,"type":"string","x-example":"test123"},"container_name":{"description":"**参数解释**:\n容器名称\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度0-128位。\n\n**默认取值**:\n不涉及","maxLength":128,"minLength":0,"type":"string","x-example":"test123"},"end_latest_scan_time":{"description":"**参数解释**:\n最近一次扫描完成时间结束日期,时间单位 毫秒(ms)\n**约束限制**:\n不涉及\n**取值范围**:\n0-9223372036854775807。\n\n**默认取值**:\n不涉及","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"end_latest_update_time":{"description":"**参数解释**:\n创建时间结束日期,时间单位 毫秒(ms)\n**约束限制**:\n不涉及\n**取值范围**:\n0-9223372036854775807。\n\n**默认取值**:\n不涉及","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"has_vul":{"description":"**参数解释**:\n是否存在软件漏洞\n**约束限制**:\n不涉及\n**取值范围**:\n- true:存在软件漏洞。\n- false:不存在软件漏洞。\n\n**默认取值**:\n不涉及","type":"boolean","x-example":true},"host_id":{"description":"**参数解释**:\n服务器ID\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度0-128位。\n\n**默认取值**:\n不涉及","maxLength":128,"minLength":0,"pattern":"^.*$","type":"string","x-example":"71a15ecc-049f-4cca-bd28-5e90aca1817f"},"host_name":{"description":"**参数解释**:\n服务器名称\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度0-128位。\n\n**默认取值**:\n不涉及","maxLength":128,"minLength":0,"pattern":"^.*$","type":"string","x-example":"HostName"},"image_name":{"description":"**参数解释**:\n镜像名称\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度0-256位。\n\n**默认取值**:\n不涉及","maxLength":256,"minLength":0,"pattern":"^.*$","type":"string","x-example":"test123"},"image_size":{"description":"**参数解释**:\n镜像大小\n**约束限制**:\n不涉及\n**取值范围**:\n0-9223372036854775807。\n\n**默认取值**:\n不涉及","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"image_type":{"description":"**参数解释**:\n镜像类型\n**约束限制**:\n不涉及\n**取值范围**:\n- private_image:SWR私有镜像仓库。\n- shared_image:SWR共享镜像仓库。\n- instance_image:SWR企业仓库。\n- harbor:harbor仓库。\n- jfrog:jfrog仓库。\n\n**默认取值**:\n不涉及","maxLength":128,"minLength":0,"type":"string"},"image_version":{"description":"**参数解释**:\n镜像版本\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度0-256位。\n\n**默认取值**:\n不涉及","maxLength":256,"minLength":0,"pattern":"^.*$","type":"string","x-example":"test123"},"local_image_type":{"description":"**参数解释**:\n本地镜像类型\n**约束限制**:\n不涉及\n**取值范围**:\n- swr_image:swr镜像。\n- other_image:其他镜像。\n\n**默认取值**:\n不涉及","maxLength":128,"minLength":0,"pattern":"^.*$","type":"string"},"namespace":{"description":"**参数解释**:\n组织名称\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度0-256位。\n\n**默认取值**:\n不涉及","maxLength":256,"minLength":0,"pattern":"^.*$","type":"string","x-example":"test123"},"pod_id":{"description":"**参数解释**:\npod id\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度0-64位。\n\n**默认取值**:\n不涉及","maxLength":64,"minLength":0,"type":"string","x-example":"test123"},"pod_name":{"description":"**参数解释**:\npod 名称\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度0-512位。\n\n**默认取值**:\n不涉及","maxLength":512,"minLength":0,"type":"string","x-example":"test123"},"private_ip":{"description":"**参数解释**:\n私有IP地址\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度0-128位。\n\n**默认取值**:\n不涉及","maxLength":128,"minLength":0,"type":"string","x-example":"11.11.11.11"},"public_ip":{"description":"**参数解释**:\n服务器公网IP\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度0-128位。\n\n**默认取值**:\n不涉及","maxLength":128,"minLength":0,"pattern":"^.*$","type":"string","x-example":"11.11.11.11"},"scan_status":{"description":"**参数解释**:\n扫描状态\n**约束限制**:\n不涉及\n**取值范围**:\n- unscan:未扫描\n- success:扫描完成\n- scanning:扫描中\n- failed:扫描失败\n- download_failed:下载失败\n- image_oversized:镜像超大\n\n**默认取值**:\n不涉及","maxLength":32,"minLength":0,"type":"string"},"start_latest_scan_time":{"description":"**参数解释**:\n最近一次扫描完成时间开始日期,时间单位 毫秒(ms)\n**约束限制**:\n不涉及\n**取值范围**:\n0-9223372036854775807。\n\n**默认取值**:\n不涉及","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"start_latest_update_time":{"description":"**参数解释**:\n创建时间开始日期,时间单位 毫秒(ms)\n**约束限制**:\n不涉及\n**取值范围**:\n0-9223372036854775807。\n\n**默认取值**:\n不涉及","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"}},"type":"object"},"rate_limit":{"description":"**参数解释**:\n扫描限速 单位:个/h\n**约束限制**:\n不涉及\n**取值范围**:\n0-1000,0表示不限制。\n\n**默认取值**:\n不涉及","example":0,"format":"int32","maximum":1000,"minimum":0,"type":"integer"},"scan_scope":{"description":"**参数解释**:\n扫描风险类型\n**约束限制**:\n不涉及\n**取值范围**:\n- 0:none。\n- 0x7fffffff:全部。\n- 0x000f0000:漏洞。\n- 0x0000f000:基线检查。\n- 0x00000f00:恶意文件。\n- 0x000000f0:敏感信息。\n- 0x0000000f:软件合规。\n\n**默认取值**:\n不涉及","example":16777215,"format":"int32","maximum":2147483547,"minimum":0,"type":"integer"}}}},"description":null,"group_id":"3f29a7c68cc24a39a794ff9ddec0ba77","host":"hss.cn-north-4.myhuaweicloud.com","id":"115ea55787ee4d51828c8b3557b936f6","info_version":"v5","method":"post","name":"CreateManualImageScanTask","parameters":{"EnterpriseProjectId":{"default":"0","description":"**参数解释**:\n企业项目ID,用于过滤不同企业项目下的资产。获取方式请参见[获取企业项目ID](hss_02_0027.xml)。\n如需查询所有企业项目下的资产请传参“all_granted_eps”。\n**约束限制**:\n开通企业项目功能后才需要配置企业项目ID参数。\n**取值范围**:\n字符长度1-256位\n**默认取值**:\n0,表示默认企业项目(default)。","in":"query","maxLength":256,"minLength":1,"name":"enterprise_project_id","pattern":"^.*$","required":false,"type":"string"},"ProjectId":{"description":"**参数解释**:\n项目ID,用于明确项目归属,配置后可通过该ID查询项目下资产。获取方式请参见[获取项目ID](hss_02_0024.xml)。\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度1-256位\n**默认取值**:\n不涉及","in":"path","maxLength":256,"minLength":1,"name":"project_id","pattern":"^.*$","required":true,"type":"string","x-example":"9d4f774865034d119917acc61b1b806e"},"Region":{"description":"**参数解释**:\n区域ID,用于查询目的区域内的资产。获取方式请参见[获取区域ID](hss_02_0026.xml)。\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度1-128位\n**默认取值**:\n不涉及","in":"header","maxLength":128,"minLength":0,"name":"region","pattern":"^.*$","required":false,"type":"string","x-example":"cn-north-5"},"XAuthToken":{"description":"**参数解释**:\n用户Token,包含了用户的身份、权限等信息,在调用API接口时,可通过Token进行身份认证。获取方式请参见[获取用户Token](hss_02_0009.xml)。\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度1-32768位\n**默认取值**:\n不涉及","in":"header","maxLength":32768,"minLength":1,"name":"X-Auth-Token","pattern":"^.*$","required":true,"type":"string","x-example":"$${X-Auth-Token}"}},"paths":{"/v5/{project_id}/image/image-scan/tasks":{"post":{"description":"创建扫描任务","operationId":"CreateManualImageScanTask","parameters":[{"$ref":"#/parameters/XAuthToken"},{"$ref":"#/parameters/Region"},{"$ref":"#/parameters/ProjectId"},{"$ref":"#/parameters/EnterpriseProjectId"},{"default":"registry","description":"**参数解释**:\n镜像类型\n**约束限制**:\n不涉及\n**取值范围**:\n- local:本地镜像。\n- registry:仓库镜像。\n\n**默认取值**:\nregistry","in":"query","maxLength":64,"minLength":1,"name":"global_image_type","pattern":"^local|registry$","required":false,"type":"string"},{"description":"服务器列表","in":"body","name":"CreateManualImageScanTaskRequestBody","required":false,"schema":{"$ref":"#/definitions/CreateManualImageScanTaskReqInfo"}}],"responses":{"200":{"description":"请求已成功"}},"summary":"创建扫描任务","tags":["imageScanTask"],"x-api-type":"open-api","x-apigateway-request-type":"public","x-iam-auth-meta-anno":{"abacAction":"hss:container:createManualImageScanTask","abacActionAlias":"hss:containers:set","authLevel":"PROJECT","rbac":["op_service","te_admin","hss_adm","te_admin+op_restricted","te_admin+op_suspended","hss_adm+op_restricted","hss_adm+op_suspended","readonly"]},"x-is-registered":"Y","x-method-annotations":["@CtsInfo(userOperationType = \"createManualImageScanTask\", operationId = \"CreateManualImageScanTask\", readOnly = false)"],"x-order":3,"x-support-sdk":"Y","x-surpport-apiexplorer":true}}},"product_short":"HSS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建扫描任务","tags":"镜像扫描任务","uri":null,"version":"2.0"}