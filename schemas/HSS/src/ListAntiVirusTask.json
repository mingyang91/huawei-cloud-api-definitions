{"base_path":"/","components":null,"consumes":"","definitions":{"Action":{"description":"处置动作,包含如下:\n  - auto :自动处置\n  - manual : 人工处置","example":"auto","maxLength":10,"minLength":1,"type":"string"},"AgentId":{"description":"Agent ID","example":"bdcb6303b37c61342792f186e38d580b4b073e0024864019eaf982f30c9384db","pattern":"^.*$","type":"string"},"AgentStatus":{"description":"Agent状态,包含如下6种。\n  - installed :已安装。\n  - not_installed :未安装。\n  - online :在线。\n  - offline :离线。\n  - install_failed :安装失败。\n  - installing :安装中。\n  - not_online :不在线的(除了在线以外的所有状态,仅作为查询条件)。","maxLength":64,"minLength":1,"type":"string"},"AntiVirusTaskHostResponseInfo":{"description":"扫描任务关联主机信息","properties":{"agent_id":{"$ref":"#/definitions/AgentId"},"agent_status":{"$ref":"#/definitions/AgentStatus"},"asset_value":{"$ref":"#/definitions/AssetValue"},"deleted":{"$ref":"#/definitions/Deleted"},"fail_reason":{"$ref":"#/definitions/FailReason"},"host_id":{"$ref":"#/definitions/HostId"},"host_name":{"$ref":"#/definitions/HostName"},"host_status":{"$ref":"#/definitions/HostStatus"},"host_task_status":{"$ref":"#/definitions/HostTaskStatus"},"os_name":{"$ref":"#/definitions/OsName"},"os_type":{"$ref":"#/definitions/OsType"},"os_version":{"$ref":"#/definitions/OSVersion"},"private_ip":{"$ref":"#/definitions/PrivateIp"},"protect_status":{"$ref":"#/definitions/ProtectStatus"},"public_ip":{"$ref":"#/definitions/PublicIp"},"run_duration":{"$ref":"#/definitions/RunDuration"},"scan_file_num":{"$ref":"#/definitions/ScanFileNum"},"scan_progress":{"$ref":"#/definitions/ScanProgress"},"start_time":{"$ref":"#/definitions/StartTime"},"virus_num":{"$ref":"#/definitions/VirusNum"},"whether_using_quota":{"$ref":"#/definitions/WhetherUsingQuota"}},"type":"object"},"AntiVirusTaskResponseInfo":{"description":"扫描任务信息","properties":{"action":{"$ref":"#/definitions/Action"},"cancel_host_num":{"description":"已取消服务器数","example":1,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"fail_host_num":{"description":"扫描失败服务器数","example":1,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"host_info_list":{"description":"主机信息","items":{"$ref":"#/definitions/AntiVirusTaskHostResponseInfo"},"maxItems":10000,"minItems":1,"type":"array"},"host_num":{"description":"关联服务器数","example":1,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"rescan":{"description":"是否需要重新扫描","type":"boolean"},"scan_type":{"$ref":"#/definitions/ScanType"},"start_time":{"$ref":"#/definitions/StartTime"},"start_type":{"$ref":"#/definitions/StartType"},"success_host_num":{"description":"扫描成功服务器数","example":1,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"task_id":{"$ref":"#/definitions/TaskId"},"task_name":{"$ref":"#/definitions/TaskName"},"task_status":{"$ref":"#/definitions/TaskStatus"},"whether_paid_task":{"description":"此次扫描任务是否付费","type":"boolean"}},"type":"object"},"AssetValue":{"description":"资产重要性,包含如下3种\n  - important :重要资产\n  - common :一般资产\n  - test :测试资产","example":"common","maxLength":128,"minLength":0,"pattern":"^important|common|test$","type":"string"},"Deleted":{"description":"是否删除,包含如下:\n  - true :已删除\n  - false : 未删除","example":true,"type":"boolean"},"FailReason":{"description":"失败原因","example":"启动扫描进程失败","pattern":"^.*$","type":"string"},"HostId":{"description":"主机ID","example":"71a15ecc-049f-4cca-bd28-5e90aca1817f","maxLength":64,"minLength":0,"pattern":"^.*$","type":"string"},"HostName":{"description":"服务器名称","example":"HostName","maxLength":64,"minLength":1,"pattern":"^.*$","type":"string"},"HostStatus":{"description":"服务器状态","maxLength":64,"minLength":1,"type":"string"},"HostTaskStatus":{"description":"服务器扫描状态,包含如下4种\n  - scanning :扫描中\n  - success :扫描成功\n  - fail :扫描失败\n  - cancel :取消扫描","example":"success","type":"string"},"ListAntiVirusTaskResponseInfo":{"description":"扫描任务列表","properties":{"data_list":{"description":"data list","items":{"$ref":"#/definitions/AntiVirusTaskResponseInfo"},"maxItems":100,"minItems":0,"type":"array"},"total_num":{"$ref":"#/definitions/TotalNum"}},"type":"object"},"OSVersion":{"description":"操作系统版本","maxLength":64,"minLength":1,"type":"string"},"OsName":{"description":"操作系统名称","maxLength":64,"minLength":0,"type":"string","x-example":"Linux"},"OsType":{"description":"操作系统类型,包含如下2种。\n  - Linux :Linux。\n  - Windows :Windows。","example":"Linux","maxLength":64,"minLength":0,"type":"string"},"PrivateIp":{"description":"服务器私有IP","example":"192.168.1.1","maxLength":256,"minLength":1,"pattern":"^.*$","type":"string"},"ProtectStatus":{"description":"防护状态,包含如下2种。\n  - closed :关闭。\n  - opened :开启。","maxLength":64,"minLength":1,"type":"string"},"PublicIp":{"description":"弹性公网IP地址","example":"127.0.0.1","pattern":"^.*$","type":"string"},"RunDuration":{"description":"运行时长,秒","example":123456,"format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"ScanFileNum":{"description":"已扫描的文件数量","example":123456,"format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"ScanProgress":{"description":"扫描进度","example":1,"maxLength":128,"minLength":1,"type":"string"},"ScanType":{"description":"任务类型,包含如下:\n  - quick :快速扫描\n  - full : 全盘扫描\n  - custom : 自定义扫描","example":"quick","maxLength":10,"minLength":1,"type":"string"},"StartTime":{"description":"启动时间,毫秒","example":1615564800000,"format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"StartType":{"description":"启动类型,包含如下:\n  - now : 立即启动\n  - later : 稍后启动\n  - period : 周期启动","example":"now","pattern":"^now|later|period$","type":"string"},"TaskId":{"description":"任务ID","example":"bdcb6303b37c61342792f186e38d580b4b073e0024864019eaf982f30c9384db","pattern":"^.*$","type":"string"},"TaskName":{"description":"任务名称","example":"task name","maximum":255,"minLength":1,"pattern":"^.*$","type":"string"},"TaskStatus":{"description":"任务状态,包含如下2种\n  - scanning :扫描中\n  - finish :扫描完成","example":"scanning","type":"string"},"TotalNum":{"description":"总数","example":10,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"VirusNum":{"description":"新发现病毒数量","example":1,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"WhetherUsingQuota":{"description":"是否使用病毒查杀按次计费配额","maxLength":8,"minLength":1,"type":"integer"}},"description":null,"group_id":"3f29a7c68cc24a39a794ff9ddec0ba77","host":"hss.cn-north-4.myhuaweicloud.com","id":"aeab0b7cb1e94dea9919b631ccb3cfd8","info_version":"v5","method":"get","name":"ListAntiVirusTask","parameters":{"BeginTime":{"description":"自定义查询时间,与查询时间范围天数互斥,查询时间段的起始时间,毫秒级时间戳,end_time减去begin_time小于等于2天,与查询时间范围天数互斥","in":"query","maxLength":13,"minLength":13,"name":"begin_time","required":false,"type":"string"},"EndTime":{"description":"自定义时间,查询时间段的终止时间,毫秒级时间戳,end_time减去begin_time小于等于2天,与查询时间范围天数互斥","in":"query","maxLength":13,"minLength":13,"name":"end_time","required":false,"type":"string"},"EnterpriseProjectId":{"default":"0","description":"主机所属的企业项目ID。\n开通企业项目功能后才需要配置企业项目。\n企业项目ID默认取值为“0”,表示默认企业项目。如果需要查询所有企业项目下的主机,请传参“all_granted_eps”。如果您只有某个企业项目的权限,则需要传递该企业项目ID,查询该企业项目下的主机,否则会因权限不足而报错。","in":"query","maxLength":256,"minLength":1,"name":"enterprise_project_id","pattern":"^.*$","required":false,"type":"string"},"HostName":{"description":"服务器名称","in":"query","maximum":64,"minLength":1,"name":"host_name","pattern":"^.*$","required":false,"type":"string","x-example":"HostName"},"HostTaskStatus":{"description":"服务器扫描状态,包含如下4种\n  - scanning :扫描中\n  - success :扫描成功\n  - fail :扫描失败\n  - cancel :取消扫描","in":"query","items":{"maxLength":32,"minLength":0,"type":"string"},"maxItems":5,"minItems":0,"name":"host_task_status","required":false,"type":"array"},"LastDays":{"description":"查询时间范围天数,与自定义查询时间begin_time,end_time互斥","format":"int32","in":"query","maximum":30,"minimum":1,"name":"last_days","required":false,"type":"integer"},"Limit_m":{"default":10,"description":"每页显示个数","format":"int32","in":"query","maximum":200,"minimum":10,"name":"limit","required":true,"type":"integer"},"Offset_m":{"default":0,"description":"偏移量:指定返回记录的开始位置","format":"int32","in":"query","maximum":100000,"minimum":0,"name":"offset","required":true,"type":"integer"},"PrivateIp":{"description":"服务器私有IP","in":"query","maxLength":128,"minLength":1,"name":"private_ip","pattern":"^.*$","required":false,"type":"string","x-example":"192.168.1.1"},"ProjectId":{"description":"项目ID","in":"path","maxLength":256,"minLength":1,"name":"project_id","pattern":"^.*$","required":true,"type":"string","x-example":"9d4f774865034d119917acc61b1b806e"},"PublicIp":{"description":"服务器公网IP","in":"query","maxLength":128,"minLength":1,"name":"public_ip","pattern":"^.*$","required":false,"type":"string","x-example":"114.114.114.114"},"TaskName":{"description":"任务名称","in":"query","maximum":255,"minLength":1,"name":"task_name","pattern":"^.*$","required":false,"type":"string"},"TaskStatus":{"description":"任务状态,包含如下4种\n  - scanning :扫描中\n  - cancel :已取消\n  - fail :扫描失败\n  - finish :已完成","in":"query","maxLength":128,"minLength":0,"name":"task_status","required":false,"type":"string"},"WhetherPaidTask_m":{"description":"此次扫描任务是否付费","in":"query","name":"whether_paid_task","required":true,"type":"boolean"},"XAuthToken":{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","maxLength":32768,"minLength":1,"name":"X-Auth-Token","pattern":"^.*$","required":true,"type":"string","x-example":"$${X-Auth-Token}"}},"paths":{"/v5/{project_id}/antivirus/task":{"get":{"description":"查看病毒扫描任务列表","operationId":"ListAntiVirusTask","parameters":[{"$ref":"#/parameters/XAuthToken"},{"$ref":"#/parameters/ProjectId"},{"$ref":"#/parameters/EnterpriseProjectId"},{"$ref":"#/parameters/TaskName"},{"$ref":"#/parameters/Offset_m"},{"$ref":"#/parameters/Limit_m"},{"$ref":"#/parameters/LastDays"},{"$ref":"#/parameters/BeginTime"},{"$ref":"#/parameters/EndTime"},{"$ref":"#/parameters/TaskStatus"},{"$ref":"#/parameters/HostName"},{"$ref":"#/parameters/PrivateIp"},{"$ref":"#/parameters/PublicIp"},{"$ref":"#/parameters/WhetherPaidTask_m"},{"$ref":"#/parameters/HostTaskStatus"}],"produces":["application/json"],"responses":{"200":{"description":"请求已成功","examples":{"application/json":{"data_list":[{"action":"manual","cancel_host_num":0,"fail_host_num":0,"host_info_list":[{"agent_id":"5dd59023ad***02f9f43743dff3b8172**271ad36e5aedecf327119","agent_status":"online","asset_value":"common","deleted":false,"host_id":"eedf8817-f486-4c4f-a395-b8373ecc7ef4","host_name":"agentcompile-2","host_status":"ACTIVE","host_task_status":"scanning","os_name":"EulerOS","os_type":"Linux","os_version":"2.5","private_ip":"172.16.0.**","protect_status":"opened","public_ip":"100.85.219.**","run_duration":0,"scan_file_num":0,"scan_progress":"0%","start_time":1737532317458,"virus_num":4,"whether_using_quota":0}],"host_num":1,"rescan":false,"scan_type":"quick","start_time":1737532317458,"start_type":"now","success_host_num":0,"task_id":"291***af8-7ba2-4a39-9522-d1***2033db","task_name":"快速查杀-20250122155127","task_status":"scanning","whether_paid_task":false}],"total_num":126}},"schema":{"$ref":"#/definitions/ListAntiVirusTaskResponseInfo"}}},"summary":"查看病毒扫描任务列表","tags":["病毒查杀"],"x-iam-auth-meta-anno":{"abacAction":"hss:antivirus:listAntivirusTask","abacActionAlias":"hss:ars:list","authLevel":"PROJECT","rbac":["op_service","te_admin","hss_adm","te_admin+op_restricted","te_admin+op_suspended","hss_adm+op_restricted","hss_adm+op_suspended","readonly"]},"x-is-registered":"Y","x-method-annotations":["@CtsInfo(userOperationType = \"listAntiVirusTask\", operationId = \"ListAntiVirusTask\")"],"x-support-international":true,"x-support-sdk":"Y","x-surpport-apiexplorer":true}}},"product_short":"HSS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查看病毒扫描任务列表","tags":"病毒查杀","uri":null,"version":"2.0"}