{"base_path":"/","components":null,"consumes":"","definitions":{"BackupTriggerInfo":{"description":"备份:策略时间调度规则","properties":{"id":{"description":"调度器id","maxLength":256,"minLength":0,"type":"string"},"name":{"description":"调度器名称","maxLength":256,"minLength":0,"type":"string"},"properties":{"$ref":"#/definitions/BackupTriggerPropertiesInfo"},"type":{"description":"调度器类型,目前只支持 time,定时调度。","maxLength":256,"minLength":0,"type":"string"}},"type":"object"},"BackupTriggerPropertiesInfo":{"description":"调度器属性","properties":{"pattern":{"description":"调度器的调度策略,长度限制为10240个字符,参照iCalendar RFC 2445规范,但仅支持FREQ、BYDAY、BYHOUR、BYMINUTE四个参数,其中FREQ仅支持WEEKLY和DAILY,BYDAY支持一周七天(MO、TU、WE、TH、FR、SA、SU),BYHOUR支持0-23小时,BYMINUTE支持0-59分钟,并且时间点间隔不能小于一小时,一个备份策略可以同时设置多个备份时间点,一天最多可以设置24个时间点。","items":{"maxLength":256,"minLength":0,"type":"string"},"maxItems":24,"minItems":0,"type":"array"},"start_time":{"description":"调度器开始时间,例如:2020-01-08 09:59:49","maxLength":256,"minLength":0,"type":"string"}},"type":"object"},"GetBackupPolicyResponseInfo":{"properties":{"enabled":{"description":"策略是否启用","type":"boolean"},"id":{"description":"策略ID","maxLength":128,"minLength":1,"type":"string"},"name":{"description":"策略名称","maxLength":128,"minLength":1,"type":"string"},"operation_definition":{"$ref":"#/definitions/OperationDefinitionInfo"},"operation_type":{"description":"备份类型。备份(backup)、复制(replication),包含如下2种。\n  - backup :备份。\n  - replication :复制。","maxLength":128,"minLength":1,"type":"string"},"trigger":{"$ref":"#/definitions/BackupTriggerInfo"}},"type":"object"},"OperationDefinitionInfo":{"description":"策略属性 保留规则","properties":{"day_backups":{"description":"保留日备个数,该备份不受保留最大备份数限制。取值为0到100。若选择该参数,则timezone 也必选。最小值:0,最大值:100","format":"int32","maximum":100,"minimum":0,"type":"integer"},"max_backups":{"description":"单个备份对象自动备份的最大备份数。取值为-1或0-99999。-1代表不按备份数清理。若该字段和retention_duration_days字段同时为空,备份会永久保留。最小值:1,最大值:99999,缺省值:-1","format":"int32","maximum":99999,"minimum":-1,"type":"integer"},"month_backups":{"description":"保留月备个数,该备份不受保留最大备份数限制。取值为0到100。若选择该参数,则timezone 也必选。最小值:0, 最大值:100","format":"int32","maximum":100,"minimum":0,"type":"integer"},"retention_duration_days":{"description":"备份保留时长,单位天。最长支持99999天。-1代表不按时间清理。若该字段和max_backups 参数同时为空,备份会永久保留。最小值:1, 最大值:99999, 缺省值:-1","format":"int32","maximum":99999,"minimum":-1,"type":"integer"},"timezone":{"description":"用户所在时区,格式形如UTC+08:00,若没有选择年备,月备,周备,日备中任一参数,则不能选择该参数。","maxLength":256,"minLength":0,"type":"string"},"week_backups":{"description":"保留周备个数,该备份不受保留最大备份数限制。取值为0到100。若选择该参数,则timezone 也必选。","format":"int32","maximum":100,"minimum":0,"type":"integer"},"year_backups":{"description":"保留年备个数,该备份不受保留最大备份数限制。取值为0到100。若选择该参数,则timezone 也必选。最小值:0,最大值:100","format":"int32","maximum":100,"minimum":0,"type":"integer"}},"type":"object"}},"description":null,"group_id":"3f29a7c68cc24a39a794ff9ddec0ba77","host":"hss.cn-north-4.myhuaweicloud.com","id":"e2ed80bee23c44668f785439ea0236ec","info_version":"v5","method":"get","name":"ShowBackupPolicyInfo","parameters":{},"paths":{"/v5/{project_id}/backup/policy":{"get":{"description":"查询HSS存储库绑定的备份策略信息,确保已经购买了勒索防护存储库,可以从cbr云备份服务进行验证,确保已经存在HSS_projectid命名的存储库已经购买","operationId":"ShowBackupPolicyInfo","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","maxLength":32768,"minLength":1,"name":"x-auth-token","pattern":"^.*$","required":true,"type":"string","x-example":"$${x-auth-token}"},{"description":"region id","in":"header","maxLength":128,"minLength":0,"name":"region","pattern":"^.*$","required":true,"type":"string","x-example":"cn-north-5"},{"description":"租户项目ID","in":"path","maxLength":256,"minLength":1,"name":"project_id","pattern":"^.*$","required":true,"type":"string","x-example":"9d4f774865034d119917acc61b1b806e"},{"default":"0","description":"企业项目ID,查询所有企业项目时填写:all_granted_eps","in":"query","maxLength":256,"minLength":1,"name":"enterprise_project_id","pattern":"^.*$","required":false,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"备份策略信息","examples":{"application/json":{"enabled":true,"id":"af4d08ad-2b60-4916-a5cf-8d6a23956dda","name":"HSS_84b5266c14ae489fa6549827f032dc62","operation_definition":{"day_backups":0,"max_backups":"-1","month_backups":0,"retention_duration_days":5,"timezone":"UTC+08:00","week_backups":0,"year_backups":0},"operation_type":"backup","trigger":{"properties":{"pattern":["FREQ=DAILY;INTERVAL=2;BYHOUR=14;BYMINUTE=00\n"]}}}},"schema":{"$ref":"#/definitions/GetBackupPolicyResponseInfo"}}},"summary":"查询HSS存储库绑定的备份策略信息","tags":["勒索防护"],"x-is-registered":"Y","x-request-examples-description-1":"查询HSS存储库绑定的备份策略信息。","x-request-examples-url-1":"GET https://{endpoint}/v5/{project_id}/backup/policy","x-support-sdk":"Y","x-surpport-apiexplorer":true}}},"product_short":"HSS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询HSS存储库绑定的备份策略信息","tags":"勒索防护","uri":null,"version":"2.0"}