{"base_path":"/","components":null,"consumes":"","definitions":{"BatchScanPrivateImageRequestInfo":{"properties":{"end_latest_scan_time":{"default":0,"description":"最近一次扫描完成时间结束日期,时间单位 毫秒(ms)","format":"int64","maximum":2147483547,"minimum":0,"type":"integer"},"end_latest_update_time":{"default":0,"description":"创建时间结束日期,时间单位 毫秒(ms)","format":"int64","maximum":2147483547,"minimum":0,"type":"integer"},"image_info_list":{"description":"要扫描的镜像信息列表,operate_all参数为false时为必填","items":{"$ref":"#/definitions/BatchScanSwrImageInfo"},"maxItems":10241,"minItems":0,"type":"array"},"image_name":{"description":"镜像名称","maxLength":256,"minLength":1,"pattern":"^.*$","type":"string","x-example":"test123"},"image_size":{"default":0,"description":"镜像大小","format":"int64","maximum":2147483547,"minimum":0,"type":"integer"},"image_type":{"description":"镜像类型,包含如下:\n  - private_image : 私有镜像仓库\n  - shared_image : 共享镜像仓库","maxLength":32,"minLength":1,"type":"string"},"image_version":{"description":"镜像版本","maxLength":256,"minLength":1,"pattern":"^.*$","type":"string","x-example":"test123"},"latest_version":{"description":"仅关注最新版本镜像","type":"boolean"},"namespace":{"description":"组织名称","maxLength":256,"minLength":1,"pattern":"^.*$","type":"string","x-example":"test123"},"operate_all":{"description":"若为true全量查询,可筛选条件全部查询,若image_info_list为空,则必填","type":"boolean"},"repo_type":{"description":"仓库类型,现阶段接入了swr镜像仓库,包含如下:\n  - SWR : SWR镜像仓库","maxLength":32,"minLength":1,"type":"string"},"scan_status":{"description":"扫描状态,包含如下:\n  - unscan : 未扫描\n  - success : 扫描完成\n  - scanning : 扫描中\n  - failed : 扫描失败\n  - download_failed : 下载失败\n  - image_oversized : 镜像超大","maxLength":32,"minLength":1,"type":"string"},"start_latest_scan_time":{"default":0,"description":"最近一次扫描完成时间开始日期,时间单位 毫秒(ms)","format":"int64","maximum":2147483547,"minimum":0,"type":"integer"},"start_latest_update_time":{"default":0,"description":"创建时间开始日期,时间单位 毫秒(ms)","format":"int64","maximum":2147483547,"minimum":0,"type":"integer"}},"required":["image_type"],"type":"object"},"BatchScanSwrImageInfo":{"description":"swr私有镜像信息,批量查询需要的参数","properties":{"image_name":{"description":"镜像名称","maxLength":128,"minLength":1,"type":"string"},"image_version":{"description":"镜像版本","maxLength":128,"minLength":1,"type":"string"},"instance_id":{"description":"企业实例ID","maxLength":128,"minLength":1,"type":"string"},"instance_url":{"description":"下载企业镜像URL","maxLength":256,"minLength":0,"type":"string"},"namespace":{"description":"命名空间","maxLength":64,"minLength":1,"type":"string"}},"type":"object"}},"description":null,"group_id":"3f29a7c68cc24a39a794ff9ddec0ba77","host":"hss.cn-north-4.myhuaweicloud.com","id":"0f5d600052104cd98a8543ccd0425bff","info_version":"v5","method":"post","name":"BatchScanSwrImage","parameters":{},"paths":{"/v5/{project_id}/image/batch-scan":{"post":{"description":"镜像仓库镜像批量扫描","operationId":"BatchScanSwrImage","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","maxLength":32768,"minLength":1,"name":"X-Auth-Token","pattern":"^.*$","required":true,"type":"string","x-example":"$${X-Auth-Token}"},{"description":"Region ID","in":"header","maxLength":128,"minLength":0,"name":"region","pattern":"^.*$","required":false,"type":"string","x-example":"cn-north-5"},{"description":"项目ID","in":"path","maxLength":256,"minLength":1,"name":"project_id","pattern":"^.*$","required":true,"type":"string","x-example":"9d4f774865034d119917acc61b1b806e"},{"default":"0","description":"主机所属的企业项目ID。\n开通企业项目功能后才需要配置企业项目。\n企业项目ID默认取值为“0”,表示默认企业项目。如果需要查询所有企业项目下的主机,请传参“all_granted_eps”。如果您只有某个企业项目的权限,则需要传递该企业项目ID,查询该企业项目下的主机,否则会因权限不足而报错。","in":"query","maxLength":256,"minLength":1,"name":"enterprise_project_id","pattern":"^.*$","required":false,"type":"string"},{"description":"request","in":"body","name":"BatchScanSwrImageRequestBody","required":true,"schema":{"$ref":"#/definitions/BatchScanPrivateImageRequestInfo"}}],"responses":{"200":{"description":"请求已成功"}},"summary":"镜像仓库镜像批量扫描","tags":["容器镜像"],"x-is-registered":"Y","x-request-examples-1":{"image_info_list":[{"image_name":"openjdk","image_version":"v8.8","namespace":"test"},{"image_name":"openjdk1","image_version":"v1.0","namespace":"test1"}],"image_type":"private_image"},"x-request-examples-2":{"image_type":"private_image","operate_all":true},"x-request-examples-description-1":"类型为私有镜像的镜像进行批量扫描,body体传参镜像列表,operate_all没有传参,说明需要镜像列表批量扫描。","x-request-examples-description-2":"类型为私有镜像的镜像进行全量扫描,body体没有传参镜像列表,operate_all=true,说明需要镜像列表全量扫描。","x-request-examples-url-1":"POST https://{endpoint}/v5/{project_id}/image/batch-scan","x-request-examples-url-2":"POST https://{endpoint}/v5/{project_id}/image/batch-scan","x-support-sdk":"Y","x-surpport-apiexplorer":true}}},"product_short":"HSS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"镜像仓库镜像批量扫描","tags":"容器镜像","uri":null,"version":"2.0"}