{"base_path":"/","components":null,"consumes":"","definitions":{"ClusterEventLogListResponseInfo":{"description":"k8s集群事件日志列表","properties":{"data_list":{"description":"k8s集群事件日志列表","items":{"$ref":"#/definitions/ClusterEventLogResponseInfo"},"maxItems":65535,"minItems":0,"type":"array"},"total_num":{"description":"日志总条数","format":"int32","maximum":2147483647,"minimum":0,"type":"integer"}},"type":"object"},"ClusterEventLogResponseInfo":{"description":"k8s集群事件日志信息","properties":{"cluster_id":{"description":"集群id","maxLength":256,"minLength":1,"type":"string"},"cluster_name":{"description":"集群名称","maxLength":256,"minLength":1,"type":"string"},"cluster_type":{"description":"集群类型,包含以下几种:\n- cce: cce集群\n- ali: 阿里云集群\n- tencent: 腾讯云集群\n- azure: 微软云集群\n- aws: 亚马逊集群\n- self_built_hw: 华为云自建集群\n- self_built_idc: IDC自建集群","maxLength":32,"minLength":1,"type":"string"},"event_name":{"description":"事件名称","maxLength":256,"minLength":1,"type":"string"},"event_type":{"description":"事件类型","maxLength":32,"minLength":1,"type":"string"},"line_num":{"description":"cce集群事件的行号","example":123123,"maxLength":128,"minLength":0,"type":"string"},"namespace":{"description":"触发事件的命名空间","maxLength":64,"minLength":1,"type":"string"},"reason":{"description":"事件触发的原因","maxLength":65535,"minLength":1,"type":"string"},"resource_name":{"description":"资源名称","maxLength":256,"minLength":1,"type":"string"},"resource_type":{"description":"资源类型","maxLength":64,"minLength":1,"type":"string"},"time":{"description":"日志产生的时间","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"}},"type":"object"}},"description":null,"group_id":"3f29a7c68cc24a39a794ff9ddec0ba77","host":"hss.cn-north-4.myhuaweicloud.com","id":"c37d0368157644cba006df9305db9e1d","info_version":"v5","method":"get","name":"ListClusterEventLogs","parameters":{},"paths":{"/v5/{project_id}/container/kubernetes/cluster/events":{"get":{"description":"查询k8s集群事件列表","operationId":"ListClusterEventLogs","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","maxLength":32768,"minLength":1,"name":"X-Auth-Token","pattern":"^.*$","required":true,"type":"string","x-example":"$${X-Auth-Token}"},{"description":"租户项目ID","in":"path","maxLength":128,"minLength":1,"name":"project_id","pattern":"^.*$","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"default":"0","description":"主机所属的企业项目ID。\n开通企业项目功能后才需要配置企业项目。\n企业项目ID默认取值为“0”,表示默认企业项目。如果需要查询所有企业项目下的主机,请传参“all_granted_eps”。如果您只有某个企业项目的权限,则需要传递该企业项目ID,查询该企业项目下的主机,否则会因权限不足而报错。","in":"query","maxLength":256,"minLength":1,"name":"enterprise_project_id","pattern":"^.*$","required":false,"type":"string"},{"description":"集群id","in":"query","maxLength":256,"minLength":1,"name":"cluster_id","pattern":"^.*$","required":true,"type":"string"},{"description":"集群名称","in":"query","maxLength":256,"minLength":0,"name":"cluster_name","pattern":"^.*$","required":false,"type":"string"},{"description":"产生事件的命名空间","in":"query","maxLength":64,"minLength":0,"name":"namespace","pattern":"^.*$","required":false,"type":"string"},{"description":"事件名称","in":"query","maxLength":64,"minLength":0,"name":"event_name","pattern":"^.*$","required":false,"type":"string"},{"description":"事件类型,包含以下几种:\n- Warning 警告事件\n- Normal 普通事件","in":"query","maxLength":32,"minLength":0,"name":"event_type","pattern":"^.*$","required":false,"type":"string"},{"description":"产生事件的资源类型","in":"query","maxLength":64,"minLength":0,"name":"resource_type","pattern":"^.*$","required":false,"type":"string"},{"description":"产生事件的资源名称","in":"query","maxLength":256,"minLength":0,"name":"resource_name","pattern":"^.*$","required":false,"type":"string"},{"description":"事件的触发原因","in":"query","maxLength":256,"minLength":0,"name":"reason","pattern":"^.*$","required":false,"type":"string"},{"description":"查询日志范围的最小时间","format":"int64","in":"query","maximum":9223372036854775807,"minimum":0,"name":"start_time","required":true,"type":"integer"},{"description":"查询日志范围的最大时间","format":"int64","in":"query","maximum":9223372036854775807,"minimum":0,"name":"end_time","required":true,"type":"integer"},{"default":10,"description":"每页显示个数,默认为10","format":"int32","in":"query","maximum":200,"minimum":0,"name":"limit","required":true,"type":"integer"},{"default":0,"description":"偏移量:指定返回记录的开始位置,必须为数字,取值范围为大于或等于0,默认0","format":"int32","in":"query","maximum":2000000,"minimum":0,"name":"offset","required":true,"type":"integer"},{"description":"查询cce集群事件时需要传的分页行号","in":"query","maxLength":128,"minLength":0,"name":"line_num","pattern":"^.*$","required":false,"type":"string"}],"responses":{"200":{"description":"请求已成功","examples":{"application/json":{"data_list":[{"cluster_id":"b075094b-d21a-499a-9006-624089c94402","cluster_name":"ywk-55555","cluster_type":"cce","event_name":"kube-flannel-ds-5qrl6.182493b545b889d7","event_type":"Normal","line_num":12345,"namespace":"kube-flannel","reason":"Pulling image \"ghcr.io/flannel-io/flannel-cni-plugin:v1.6.2-flannel1\"","resource_name":"kube-flannel-ds-5qrl6","resource_type":"imagetag","time":1814080859608}],"total_num":1}},"schema":{"$ref":"#/definitions/ClusterEventLogListResponseInfo"}}},"summary":"查询k8s集群事件列表","tags":["集群管理"],"x-api-type":"open-api","x-apigateway-request-type":"public","x-iam-auth-meta-anno":{"abacAction":"hss:container:listClusterEventLogs","abacActionAlias":"hss:containers:list","authLevel":"PROJECT","rbac":["te_admin","hss_adm","te_admin+op_restricted","te_admin+op_suspended","hss_adm+op_restricted","hss_adm+op_suspended","readonly","op_service"]},"x-is-registered":"Y","x-method-annotations":["@CtsInfo(userOperationType = \"listClusterEventLogs\", operationId = \"ListClusterEventLogs\")"],"x-support-sdk":"N","x-surpport-apiexplorer":true}}},"product_short":"HSS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询k8s集群事件列表","tags":"集群管理","uri":null,"version":"2.0"}