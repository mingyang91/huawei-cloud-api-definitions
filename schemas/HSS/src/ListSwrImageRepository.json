{"base_path":"/","components":null,"consumes":"","definitions":{"AssociateImages":{"description":"查询swr镜像仓库镜像列表","properties":{"image_digest":{"description":"镜像digest","maxLength":128,"minLength":0,"type":"string"},"image_name":{"description":"镜像名称","maxLength":128,"minLength":0,"type":"string"},"image_type":{"description":"镜像类型","maxLength":64,"minLength":0,"type":"string"},"image_version":{"description":"镜像版本","maxLength":64,"minLength":0,"type":"string"},"namespace":{"description":"命名空间","maxLength":64,"minLength":0,"type":"string"},"scan_status":{"description":"扫描状态,包含如下2种。\n  - unscan :未扫描。\n  - success :扫描完成。\n  - scanning :正在扫描。\n  - failed :扫描失败。\n  - download_failed :下载失败。\n  - image_oversized :镜像超大。\n  - waiting_for_scan :等待扫描。","maxLength":32,"minLength":0,"type":"string"}},"type":"object"},"PrivateImageRepositoryInfo":{"description":"repository info","properties":{"association_images":{"description":"多架构关联镜像信息","items":{"$ref":"#/definitions/AssociateImages"},"maxItems":200,"minItems":0,"type":"array"},"domain_name":{"description":"拥有者(共享镜像参数)","maxLength":128,"minLength":0,"type":"string"},"id":{"description":"id","format":"int64","maximum":2147483547,"minimum":0,"type":"integer"},"image_digest":{"description":"镜像digest","maxLength":128,"minLength":0,"type":"string"},"image_id":{"description":"镜像id","maxLength":64,"minLength":0,"type":"string"},"image_name":{"description":"镜像名称","maxLength":128,"minLength":0,"type":"string"},"image_size":{"description":"镜像大小","format":"int64","maximum":2147483547,"minimum":0,"type":"integer"},"image_type":{"description":"镜像类型,包含如下2种。\n  - private_image :私有镜像。\n  - shared_image :共享镜像。","maxLength":64,"minLength":0,"type":"string"},"image_version":{"description":"镜像版本","maxLength":64,"minLength":0,"type":"string"},"instance_id":{"description":"企业版镜像实例ID","maxLength":64,"minLength":0,"type":"string"},"instance_name":{"description":"企业版镜像实例名称","maxLength":128,"minLength":0,"type":"string"},"instance_url":{"description":"企业版镜像实例URL","maxLength":256,"minLength":0,"type":"string"},"latest_scan_time":{"description":"最近扫描时间,时间单位 毫秒(ms)","format":"int64","maximum":4070880000000,"minimum":0,"type":"integer"},"latest_update_time":{"description":"镜像版本最后更新时间,时间单位 毫秒(ms)","format":"int64","maximum":4070880000000,"minimum":0,"type":"integer"},"latest_version":{"description":"是否是最新版本","type":"boolean"},"malicious_file_num":{"description":"恶意文件数","format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"namespace":{"description":"命名空间","maxLength":64,"minLength":0,"type":"string"},"scan_failed_desc":{"description":"扫描失败原因,包含如下14种。\n  - \"unknown_error\" :未知错误\n  - \"authentication_failed\":认证失败\n  - \"download_failed\":镜像下载失败\n  - \"image_over_sized\":镜像大小超限\n  - \"image_oversized\":镜像超大\n  - \"failed_to_scan_vulnerability\":漏洞扫描失败   \n  - \"failed_to_scan_file\":文件扫描失败\n  - \"failed_to_scan_software\":软件扫描失败\n  - \"failed_to_check_sensitive_information\":敏感信息核查失败\n  - \"failed_to_check_baseline\":基线检查失败\n  - \"failed_to_check_software_compliance\":软件合规检查失败\n  - \"failed_to_query_basic_image_information\":基础镜像信息查询失败\n  - \"response_timed_out\":响应超时\n  - \"database_error\" : 数据库错误\n  - \"failed_to_send_the_scan_request\" : 发送扫描请求失败","maxLength":64,"minLength":0,"type":"string"},"scan_status":{"description":"扫描状态,包含如下2种。\n  - unscan :未扫描。\n  - success :扫描完成。\n  - scanning :正在扫描。\n  - failed :扫描失败。\n  - download_failed :下载失败。\n  - image_oversized :镜像超大。\n  - waiting_for_scan :等待扫描。","maxLength":64,"minLength":0,"type":"string"},"scannable":{"description":"是否可扫描","format":"int64","type":"boolean"},"shared_status":{"description":"共享镜像状态,包含如下2种。\n  - expired :已过期。\n  - effective :有效。","maxLength":32,"minLength":1,"type":"string"},"unsafe_setting_num":{"description":"基线扫描未通过数","format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"vul_num":{"description":"漏洞个数","format":"int32","maximum":2147483647,"minimum":0,"type":"integer"}},"type":"object"},"PrivateRepositoryImageListResponseInfo":{"description":"查询swr镜像仓库镜像列表(包含共享镜像和私有镜像列表,通过传参image_type控制)","properties":{"data_list":{"description":"查询swr镜像仓库镜像列表","items":{"$ref":"#/definitions/PrivateImageRepositoryInfo"},"maxItems":200,"minItems":0,"type":"array"},"total_num":{"description":"总数","format":"int32","maximum":2147483547,"minimum":0,"type":"integer"}},"type":"object"}},"description":null,"group_id":"3f29a7c68cc24a39a794ff9ddec0ba77","host":"hss.cn-north-4.myhuaweicloud.com","id":"5bf4d05d6c22429fb0157c97d562ae69","info_version":"v5","method":"get","name":"ListSwrImageRepository","parameters":{},"paths":{"/v5/{project_id}/image/swr-repository":{"get":{"description":"查询swr镜像仓库镜像列表,如果需要从swr同步最新镜像,需要先调用“从swr同步镜像”接口","operationId":"ListSwrImageRepository","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","maxLength":32768,"minLength":1,"name":"X-Auth-Token","pattern":"^.*$","required":true,"type":"string","x-example":"$${X-Auth-Token}"},{"description":"Region ID","in":"header","maxLength":128,"minLength":0,"name":"region","pattern":"^.*$","required":true,"type":"string","x-example":"cn-north-5"},{"description":"租户项目ID","in":"path","maxLength":256,"minLength":1,"name":"project_id","pattern":"^.*$","required":true,"type":"string","x-example":"9d4f774865034d119917acc61b1b806e"},{"default":"0","description":"租户企业项目ID,查询所有企业项目时填写:all_granted_eps","in":"query","maxLength":256,"minLength":1,"name":"enterprise_project_id","pattern":"^.*$","required":false,"type":"string"},{"description":"组织名称","in":"query","maxLength":256,"minLength":1,"name":"namespace","pattern":"^.*$","required":false,"type":"string","x-example":"test123"},{"description":"镜像名称 id","in":"query","maxLength":128,"minLength":1,"name":"image_name","pattern":"^.*$","required":false,"type":"string","x-example":"test123"},{"description":"镜像版本","in":"query","maxLength":64,"minLength":1,"name":"image_version","pattern":"^.*$","required":false,"type":"string","x-example":"test123"},{"default":false,"description":"仅关注最新版本镜像","in":"query","name":"latest_version","required":false,"type":"boolean"},{"default":0,"description":"偏移量:指定返回记录的开始位置,必须为数字,取值范围为大于或等于0,默认0","format":"int32","in":"query","maximum":2000000,"minimum":0,"name":"offset","required":false,"type":"integer"},{"default":10,"description":"每页显示个数","format":"int32","in":"query","maximum":200,"minimum":10,"name":"limit","required":false,"type":"integer"},{"description":"镜像类型,包含如下:\n  - private_image : 私有镜像仓库\n  - shared_image : 共享镜像仓库\n  - local_image : 本地镜像\n  - instance_image : 企业镜像","in":"query","maxLength":32,"minLength":1,"name":"image_type","required":true,"type":"string"},{"description":"扫描状态,包含如下:\n  - unscan : 未扫描\n  - success : 扫描完成\n  - scanning : 扫描中\n  - failed : 扫描失败\n  - download_failed : 下载失败\n  - image_oversized : 镜像超大","in":"query","maxLength":32,"minLength":0,"name":"scan_status","required":false,"type":"string"},{"description":"企业镜像实例名称","in":"query","maxLength":128,"minLength":0,"name":"instance_name","required":false,"type":"string"},{"default":0,"description":"镜像大小","format":"int64","in":"query","maximum":2147483547,"minimum":0,"name":"image_size","required":false,"type":"integer"},{"default":0,"description":"创建时间开始日期,时间单位 毫秒(ms)","format":"int64","in":"query","maximum":4070880000000,"minimum":0,"name":"start_latest_update_time","required":false,"type":"integer"},{"default":0,"description":"创建时间结束日期,时间单位 毫秒(ms)","format":"int64","in":"query","maximum":4070880000000,"minimum":0,"name":"end_latest_update_time","required":false,"type":"integer"},{"default":0,"description":"最近一次扫描完成时间开始日期,时间单位 毫秒(ms)","format":"int64","in":"query","maximum":4070880000000,"minimum":0,"name":"start_latest_scan_time","required":false,"type":"integer"},{"default":0,"description":"最近一次扫描完成时间结束日期,时间单位 毫秒(ms)","format":"int64","in":"query","maximum":4070880000000,"minimum":0,"name":"end_latest_scan_time","required":false,"type":"integer"},{"description":"是否存在恶意文件","in":"query","name":"has_malicious_file","required":false,"type":"boolean"},{"description":"是否存在基线检查","in":"query","name":"has_unsafe_setting","required":false,"type":"boolean"},{"description":"是否存在软件漏洞","in":"query","name":"has_vul","required":false,"type":"boolean"},{"description":"企业仓库实例ID,swr共享版无需使用该参数","in":"query","maxLength":128,"minLength":0,"name":"instance_id","required":false,"type":"string"}],"responses":{"200":{"description":"查询swr镜像仓库镜像列表,包括私有镜像列表和共享镜像列表(通过传参image_type控制)","examples":{"application/json":{"data_list":[{"id":"111(私有镜像举例)","image_digest":"sha256:cebcdacde18091448a5040dc55bb1a9f6540b093db8XXXXXX","image_id":"cebcdacde18091448a5040dc55bb1a9f6540b093db8XXXXXX","image_name":"centos7","image_size":"1000 单位(Bytes)","image_type":"private_image","image_version":"common","instance_id":"","instance_name":"","instance_url":"","latest_scan_time":1691748641788,"latest_update_time":1687664346000,"latest_version":false,"malicious_file_num":0,"namespace":"aaa","scan_status":"success","scannable":true,"unsafe_setting_num":1,"vul_num":111},{"domain_name":"scc_cgs_XXX","id":"222(共享镜像举例)","image_digest":"sha256:cebcdacde18091448a5040dc55bb1a9f6540b093db8XXXXXX","image_id":"cebcdacde18091448a5040dc55bb1a9f6540b093db8XXXXXX","image_name":"mysql","image_size":"1000 单位(Bytes)","image_type":"shared_image","image_version":"5.5","instance_id":"","instance_name":"","instance_url":"","latest_scan_time":1691748641788,"latest_update_time":1687664346000,"latest_version":false,"malicious_file_num":0,"namespace":"aaa","scan_status":"success","scannable":true,"shared_status":"effective","unsafe_setting_num":1,"vul_num":111},{"domain_name":"scc_cgs_XXX","id":"333(企业镜像举例)","image_digest":"sha256:cebcdacde18091448a5040dc55bb1a9f6540b093db8XXXXXX","image_id":"cebcdacde18091448a5040dc55bb1a9f6540b093db8XXXXXX","image_name":"mysql","image_size":"1000 单位(Bytes)","image_type":"shared_image","image_version":"5.5","instance_id":"","instance_name":"企业实例名称","instance_url":"","latest_scan_time":1691748641788,"latest_update_time":1687664346000,"latest_version":false,"malicious_file_num":0,"namespace":"aaa","scan_status":"success","scannable":true,"shared_status":"effective","unsafe_setting_num":1,"vul_num":111}],"total_num":3}},"schema":{"$ref":"#/definitions/PrivateRepositoryImageListResponseInfo"}}},"summary":"查询swr镜像仓库镜像列表","tags":["容器镜像"],"x-is-registered":"Y","x-request-examples-description-1":"查询镜像类型为私有镜像的swr镜像仓库镜像列表。","x-request-examples-url-1":"GET https://{endpoint}/v5/{project_id}/image/swr-repository?offset=0&limit=50&image_type=private_image&latest_version=false&enterprise_project_id=all_granted_eps","x-support-sdk":"Y","x-surpport-apiexplorer":true}}},"product_short":"HSS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询swr镜像仓库镜像列表","tags":"容器镜像","uri":null,"version":"2.0"}