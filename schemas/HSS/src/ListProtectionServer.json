{"base_path":"/","components":null,"consumes":"","definitions":{"ProtectionServerInfo":{"properties":{"agent_id":{"description":"Agent ID","maxLength":128,"minLength":0,"type":"string"},"agent_status":{"description":"Agent状态","maxLength":128,"minLength":1,"type":"string"},"agent_version":{"description":"agent版本","maxLength":128,"minLength":1,"type":"string"},"backup_error":{"description":"备份错误信息","properties":{"error_code":{"description":"错误编码,包含如下2种。\n  - 0 :无错误信息。\n  - 1 :已綁定至其它存储库,无法开启备份。\n  - 2 :备份库已超过最大限额。\n  - 3 :CBR接口调用异常。","format":"int32","maximum":128,"minimum":0,"type":"integer"},"error_description":{"description":"错误描述","maxLength":128,"minLength":1,"type":"string"}},"type":"object"},"backup_policy_enabled":{"description":"策略是否启用","example":true,"type":"boolean"},"backup_policy_id":{"description":"备份策略ID,若为空,则为未绑定状态,若不为空,通过backup_policy_enabled字段判断策略是否启用","maxLength":128,"minLength":1,"type":"string"},"backup_policy_name":{"description":"备份策略名称","maxLength":128,"minLength":1,"type":"string"},"backup_protection_status":{"description":"是否开启备份,包含如下3种。\n  - failed_to_turn_on_backup: 无法开启备份\n  - closed :关闭。\n  - opened :开启。","maxLength":128,"minLength":0,"type":"string"},"count_backuped":{"description":"已有备份数","maximum":2097152,"minimum":0,"type":"integer"},"count_protect_event":{"description":"防护事件数","maximum":2097152,"minimum":0,"type":"integer"},"enterprise_project_id":{"description":"企业项目ID","maxLength":128,"minLength":0,"type":"string"},"group_id":{"description":"服务器组ID","maxLength":128,"minLength":1,"type":"string"},"group_name":{"description":"服务器组名称","maxLength":128,"minLength":1,"type":"string"},"host_id":{"description":"服务器ID","maxLength":128,"minLength":0,"type":"string"},"host_ip":{"description":"弹性公网IP地址","maxLength":128,"minLength":0,"type":"string"},"host_name":{"description":"服务器名称","maxLength":128,"minLength":0,"type":"string"},"host_source":{"description":"服务器类型,包含如下3种输入。\n  - ecs :ecs。\n  - outside :线下主机。\n  - workspace :云桌面。","maxLength":32,"minLength":1,"type":"string"},"host_status":{"description":"服务器状态,包含如下2种。\n  - ACTIVE :运行中。\n  - SHUTOFF :关机。","maxLength":32,"minLength":1,"type":"string"},"os_name":{"description":"系统名称","maxLength":128,"minLength":0,"type":"string"},"os_type":{"description":"操作系统类型,包含如下2种。\n  - Linux :Linux。\n  - Windows :Windows。","maxLength":128,"minLength":0,"type":"string"},"private_ip":{"description":"私有IP地址","maxLength":128,"minLength":0,"type":"string"},"project_id":{"description":"项目ID","maxLength":128,"minLength":0,"type":"string"},"protect_policy_id":{"description":"防护策略ID","maxLength":128,"minLength":1,"type":"string"},"protect_policy_name":{"description":"防护策略名称","maxLength":128,"minLength":1,"type":"string"},"protect_status":{"description":"防护状态,包含如下2种。\n- closed :未防护。\n- opened :防护中。","maxLength":32,"minLength":1,"type":"string"},"ransom_protection_status":{"description":"勒索防护状态,包含如下4种。\n  - closed :关闭。\n  - opened :开启。\n  - opening :开启中。\n  - closing :关闭中。","maxLength":128,"minLength":0,"type":"string"},"resources_num":{"description":"已绑定服务器(个)","maximum":2097152,"minimum":0,"type":"integer"},"vault_allocated":{"description":"已分配容量,单位GB,指绑定的服务器大小","maximum":2097152,"minimum":0,"type":"integer"},"vault_charging_mode":{"description":"存储库创建模式,按需:post_paid,包周期:pre_paid","maxLength":128,"minLength":0,"type":"string"},"vault_id":{"description":"存储库ID","maxLength":128,"minLength":0,"type":"string"},"vault_name":{"description":"存储库名称","maxLength":128,"minLength":0,"type":"string"},"vault_size":{"description":"总容量,单位GB","maximum":2097152,"minimum":0,"type":"integer"},"vault_status":{"description":"存储库状态。\n  - available :可用。\n  - lock :被锁定。\n  - frozen:冻结。\n  - deleting:删除中。\n  - error:错误。","maxLength":128,"minLength":0,"type":"string"},"vault_used":{"description":"已使用容量,单位MB","maximum":2097152,"minimum":0,"type":"integer"},"version":{"description":"主机开通的版本,包含如下7种输入。\n  - hss.version.null :无。\n  - hss.version.basic :基础版。\n  - hss.version.advanced :专业版。\n  - hss.version.enterprise :企业版。\n  - hss.version.premium :旗舰版。\n  - hss.version.wtp :网页防篡改版。\n  - hss.version.container.enterprise :容器版。","maxLength":32,"minLength":1,"type":"string"}},"type":"object"},"ProtectionServerListResponseInfo":{"properties":{"data_list":{"description":"查询勒索防护服务器列表","items":{"$ref":"#/definitions/ProtectionServerInfo"},"maxItems":10241,"minItems":0,"type":"array"},"total_num":{"description":"总数","format":"int32","maximum":2097152,"minimum":0,"type":"integer"}},"type":"object"}},"description":null,"group_id":"3f29a7c68cc24a39a794ff9ddec0ba77","host":"hss.cn-north-4.myhuaweicloud.com","id":"e6befc215cab477f8f2f46d16ab72c0e","info_version":"v5","method":"get","name":"ListProtectionServer","parameters":{},"paths":{"/v5/{project_id}/ransomware/server":{"get":{"description":"查询勒索防护服务器列表,与云备份服务配合使用。因此使用勒索相关接口之前确保该局点有云备份服务","operationId":"ListProtectionServer","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","maxLength":32768,"minLength":1,"name":"X-Auth-Token","pattern":"^.*$","required":true,"type":"string","x-example":"$${X-Auth-Token}"},{"description":"Region ID","in":"header","maxLength":128,"minLength":0,"name":"region","pattern":"^.*$","required":true,"type":"string","x-example":"cn-north-5"},{"description":"项目ID","in":"path","maxLength":256,"minLength":1,"name":"project_id","pattern":"^.*$","required":true,"type":"string","x-example":"9d4f774865034d119917acc61b1b806e"},{"default":"0","description":"主机所属的企业项目ID。\n开通企业项目功能后才需要配置企业项目。\n企业项目ID默认取值为“0”,表示默认企业项目。如果需要查询所有企业项目下的主机,请传参“all_granted_eps”。如果您只有某个企业项目的权限,则需要传递该企业项目ID,查询该企业项目下的主机,否则会因权限不足而报错。","in":"query","maxLength":256,"minLength":1,"name":"enterprise_project_id","pattern":"^.*$","required":false,"type":"string"},{"default":0,"description":"偏移量:指定返回记录的开始位置","format":"int32","in":"query","maximum":2000000,"minimum":0,"name":"offset","required":false,"type":"integer"},{"default":10,"description":"每页显示个数","format":"int32","in":"query","maximum":200,"minimum":10,"name":"limit","required":false,"type":"integer"},{"description":"服务器名称","in":"query","name":"host_name","pattern":"^.*$","required":false,"type":"string"},{"description":"操作系统类型,包含如下2种。\n  - Linux :Linux。\n  - Windows :Windows。","in":"query","maxLength":64,"minLength":0,"name":"os_type","required":false,"type":"string","x-example":"Linux"},{"description":"服务器IP地址","in":"query","maxLength":256,"minLength":0,"name":"host_ip","required":false,"type":"string"},{"description":"主机状态,包含如下3种。\n  - 不传参默认为全部。\n  - ACTIVE :正在运行。\n  - SHUTOFF :关机。","in":"query","maxLength":32,"minLength":1,"name":"host_status","required":false,"type":"string","x-example":"ACTIVE"},{"description":"查询时间范围天数,最近7天为last_days=7,若不填,则默认查询一天内的防护事件和已有备份数","format":"int32","in":"query","maximum":30,"minimum":1,"name":"last_days","required":false,"type":"integer"}],"produces":["application/json"],"responses":{"200":{"description":"请求已成功","examples":{"application/json":{"data_list":[{"agent_id":"2758d2a61598fd9144cfa6b201049e7c0af8c3f1280cd24e3ec95a2f0811a2a2","agent_status":"online","backup_error":{"error_code":1,"error_description":"已綁定至其它存储库,无法开启备份"},"backup_protection_status":"failed_to_turn_on_backup","count_backuped":0,"count_protect_event":0,"group_id":"7c659ea3-006f-4687-9f1c-6d975d955f37","group_name":"333","host_id":"caa958ad-a481-4d46-b51e-6861b8864515","host_ip":"100.85.119.68","host_name":"Euler","host_status":"ACTIVE","os_name":"EulerOS","os_type":"Linux","private_ip":"100.85.123.9","protect_policy_id":"0253edfd-30e7-439d-8f3f-17c54c99706","protect_policy_name":"tst","protect_status":"opened","ransom_protection_status":"opened"}],"total_num":1}},"schema":{"$ref":"#/definitions/ProtectionServerListResponseInfo"}}},"summary":"查询勒索防护服务器列表","tags":["勒索防护"],"x-is-registered":"Y","x-request-examples-description-1":"查询勒索防护服务器列表,不传limit默认返回10条。","x-request-examples-url-1":"GET https://{endpoint}/v5/{project_id}/ransomware/server","x-support-sdk":"Y","x-surpport-apiexplorer":true}}},"product_short":"HSS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询勒索防护服务器列表","tags":"勒索防护","uri":null,"version":"2.0"}