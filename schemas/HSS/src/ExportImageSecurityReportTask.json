{"base_path":"/","components":null,"consumes":"","definitions":{"ExportImageSecurityReportTaskRequestInfo":{"description":"镜像安全报告导出任务请求信息。","example":{"export_size":100,"operate_all":true,"security_report_type":"malwares"},"properties":{"build_command_risk_level":{"description":"**参数解释**:\n构建指令风险程度\n**约束限制**:\n不涉及\n**取值范围**:\n- critical :严重\n- high :高危\n- medium :中危\n- low :低危\n\n**默认取值**:\n不涉及","maxLength":64,"minLength":1,"pattern":"^critical|high|medium|low$","type":"string"},"build_command_risk_name":{"description":"构建指令风险名称","maxLength":128,"minLength":1,"pattern":"^.*$","type":"string"},"build_command_rule_id_list":{"description":"要导出的构建指令风险检测规则id列表。rule_id的值可以从接口/v5/{project_id}/image/build-command-risks的返回参数获取","items":{"description":"风险检测规则id","maxLength":64,"minLength":1,"type":"string"},"maxItems":200,"minItems":1,"type":"array"},"cicd_name":{"description":"cicd名称","maxLength":128,"minLength":0,"type":"string"},"end_latest_scan_time":{"description":"最近一次扫描完成时间结束日期,时间单位:毫秒(ms)","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"end_latest_update_time":{"description":"创建时间结束日期,时间单位:毫秒(ms)","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"export_size":{"default":10000,"description":"导出数据条数","format":"int32","maximum":200000,"minimum":1,"type":"integer"},"has_malicious_file":{"description":"是否存在恶意文件","type":"boolean"},"has_unsafe_setting":{"description":"是否存在基线检查","type":"boolean"},"has_vul":{"description":"是否存在软件漏洞","type":"boolean"},"image_id":{"description":"镜像id","maxLength":128,"minLength":0,"pattern":"^.*$","type":"string"},"image_id_list":{"description":"要导出的镜像id列表。operate_all参数为false时,需要填写此批量查询条件。本地/CICD镜像填写image_id,仓库镜像填写镜像列表返回的id","items":{"maxLength":256,"minLength":1,"type":"string"},"maxItems":200,"minItems":1,"type":"array"},"image_name":{"description":"镜像名称","maxLength":65535,"minLength":0,"pattern":"^.*$","type":"string"},"image_size":{"description":"镜像大小","format":"int64","maximum":2147483547,"minimum":0,"type":"integer"},"image_type":{"description":"**参数解释**:\n镜像类型。导出本地镜像和cicd镜像报告时,需要传参image_type。不传此参数时,默认导出其他仓库镜像数据。\n**约束限制**:\n不涉及\n**取值范围**:\n- private_image : 私有镜像\n- shared_image : 共享镜像\n- local_image : 本地镜像\n- instance_image : 企业镜像\n- harbor : Harbor镜像\n- jfrog : Jfrog镜像\n- cicd : cicd镜像","type":"string"},"image_version":{"description":"镜像版本","maxLength":65535,"minLength":0,"pattern":"^.*$","type":"string"},"instance_name":{"description":"企业镜像实例名称","maxLength":128,"minLength":0,"pattern":"^.*$","type":"string"},"latest_version":{"description":"仅关注最新版本镜像","type":"boolean"},"namespace":{"description":"组织名称","maxLength":65535,"minLength":0,"pattern":"^.*$","type":"string"},"operate_all":{"description":"若为true表示查询全量镜像,可传其他参数对全量镜像数据进行筛选","type":"boolean"},"risky":{"description":"是否有安全风险,包含如下:\n  - true : 有风险\n  - false : 无风险","type":"boolean"},"scan_status":{"description":"扫描状态,包含如下:\n  - unscan : 未扫描\n  - success : 扫描完成\n  - scanning : 扫描中\n  - failed : 扫描失败\n  - download_failed : 下载失败\n  - image_oversized : 镜像超大","type":"string"},"security_report_type":{"description":"**参数解释**:\n安全报告类型\n**约束限制**:\n不涉及\n**取值范围**:\n- malwares : 恶意文件信息\n- apps : 软件信息\n- files : 文件信息\n- sensitive-info : 敏感信息\n- non-compliant-app : 软件合规信息\n- build-command-risks : 镜像构建指令风险","maxLength":64,"minLength":0,"type":"string"},"severity_level":{"description":"镜像风险程度,在镜像扫描完成后展示,包含如下:\n  - Security:安全\n  - Low:低危\n  - Medium:中危\n  - High:高危","maxLength":256,"minLength":0,"type":"string"},"start_latest_scan_time":{"description":"最近一次扫描完成时间开始日期,时间单位:毫秒(ms)","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"start_latest_update_time":{"description":"创建时间开始日期,时间单位:毫秒(ms)","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"}},"required":["export_size","security_report_type","operate_all"],"type":"object"},"ExportImageSecurityReportTaskResponseInfo":{"properties":{"task_id":{"description":"导出任务ID","type":"string"}},"required":["task_id"],"type":"object"}},"description":null,"group_id":"3f29a7c68cc24a39a794ff9ddec0ba77","host":"hss.cn-north-4.myhuaweicloud.com","id":"790cb12a61bf424f90a04a7a6f861a9a","info_version":"v5","method":"post","name":"ExportImageSecurityReportTask","parameters":{"EnterpriseProjectId":{"default":"0","description":"**参数解释**:\n企业项目ID,用于过滤不同企业项目下的资产。获取方式请参见[获取企业项目ID](hss_02_0027.xml)。\n如需查询所有企业项目下的资产请传参“all_granted_eps”。\n**约束限制**:\n开通企业项目功能后才需要配置企业项目ID参数。\n**取值范围**:\n字符长度1-256位\n**默认取值**:\n0,表示默认企业项目(default)。","in":"query","maxLength":256,"minLength":1,"name":"enterprise_project_id","pattern":"^.*$","required":false,"type":"string"},"ProjectId":{"description":"**参数解释**:\n项目ID,用于明确项目归属,配置后可通过该ID查询项目下资产。获取方式请参见[获取项目ID](hss_02_0024.xml)。\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度1-256位\n**默认取值**:\n不涉及","in":"path","maxLength":256,"minLength":1,"name":"project_id","pattern":"^.*$","required":true,"type":"string","x-example":"9d4f774865034d119917acc61b1b806e"},"XAuthToken":{"description":"**参数解释**:\n用户Token,包含了用户的身份、权限等信息,在调用API接口时,可通过Token进行身份认证。获取方式请参见[获取用户Token](hss_02_0009.xml)。\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度1-32768位\n**默认取值**:\n不涉及","in":"header","maxLength":32768,"minLength":1,"name":"X-Auth-Token","pattern":"^.*$","required":true,"type":"string","x-example":"$${X-Auth-Token}"}},"paths":{"/v5/{project_id}/image/security-report/export-tasks":{"post":{"description":"创建镜像安全报告信息导出任务(支持全量/批量导出),支持导出恶意文件、软件信息、文件信息、敏感信息、软件合规、镜像构建指令风险。","operationId":"ExportImageSecurityReportTask","parameters":[{"$ref":"#/parameters/XAuthToken"},{"$ref":"#/parameters/ProjectId"},{"$ref":"#/parameters/EnterpriseProjectId"},{"description":"导出镜像安全报告请求信息","in":"body","name":"ExportImageSecurityReportTaskRequestBody","required":true,"schema":{"$ref":"#/definitions/ExportImageSecurityReportTaskRequestInfo"}}],"responses":{"200":{"description":"请求已成功","examples":{"application/json":{"task_id":"asdwwqdtut01"}},"schema":{"$ref":"#/definitions/ExportImageSecurityReportTaskResponseInfo"}}},"summary":"创建镜像安全报告信息导出任务(支持全量/批量导出)","tags":["container"],"x-api-type":"open-api","x-apigateway-request-type":"public","x-iam-auth-meta-anno":{"abacAction":"hss:image:exportImageSecurityReportTask","abacActionAlias":"hss:images:set","authLevel":"PROJECT","rbac":["op_service","te_admin","hss_adm","te_admin+op_restricted","te_admin+op_suspended","hss_adm+op_restricted","hss_adm+op_suspended","readonly"]},"x-is-registered":"Y","x-method-annotations":["@CtsInfo(userOperationType = \"exportImageSecurityReportTask\", operationId = \"ExportImageSecurityReportTask\", readOnly = false)"],"x-support-sdk":"Y","x-surpport-apiexplorer":true}}},"product_short":"HSS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建镜像安全报告信息导出任务(支持全量/批量导出)","tags":"容器安装与配置","uri":null,"version":"2.0"}