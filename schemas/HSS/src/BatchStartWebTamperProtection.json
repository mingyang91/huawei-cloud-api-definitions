{"base_path":"/","components":null,"consumes":"","definitions":{"BatchStartWebTamperProtectionRequestInfo":{"description":"开启网页防篡改防护信息","properties":{"charging_mode":{"description":"**参数解释**:\n计费模式\n**约束限制**:\n不涉及\n**取值范围**:\n- packet_cycle: 包年/包月,可填写resource_id。\n- on_demand: 按需计费,无需填写resource_id。\n\n**默认取值**:\non_demand","example":"packet_cycle","maxLength":32,"minLength":0,"type":"string"},"enable_privileged_process":{"description":"**参数解释**:\n特权进程开启状态\n**约束限制**:\n不涉及\n**取值范围**:\n- True :开启特权进程,必须填写privileged_process_info。\n- False :关闭特权进程,无需填写privileged_process_info。\n\n**默认取值**:\nFalse","example":false,"type":"boolean"},"enable_rasp_protect":{"description":"**参数解释**:\n动态网页防篡改开启状态,仅Linux服务器支持。\n**约束限制**:\n仅Linux服务器支持开启动态网页防篡改,Windows服务器不可填写该字段。\n**取值范围**:\n- True :开启动态网页防篡改,必须填写rasp_path。\n- False :关闭动态网页防篡改,无需填写rasp_path。\n\n**默认取值**:\nFalse","example":false,"type":"boolean"},"enable_timing_off":{"description":"**参数解释**:\n定时开关设置状态\n**约束限制**:\n不涉及\n**取值范围**:\n- True :开启定时关闭防护功能,必须填写timing_off_config_info。\n- False :关闭定时关闭防护功能,无需填写timing_off_config_info。\n\n**默认取值**:\nFalse","example":false,"type":"boolean"},"host_id_list":{"description":"**参数解释**:\n需要开启防护的服务器ID列表,仅支持填写未开启网页防篡改防护的服务器ID,已开启网页防篡改防护的服务器可使用UpdateWebTamperHostPolicy接口进行修改策略。\n**约束限制** :\n仅支持填写未开启网页防篡改防护的服务器ID,且Linux服务器和Windows服务器不可同时填写,需分批开启。\n**取值范围**:\n最少1条,最多20000条\n**默认取值** :\n不涉及","example":["f8b8c960-0057-4c32-9ece-567a3641ff25"],"items":{"description":"**参数解释**:\n需要开启防护的服务器ID,仅支持填写未开启网页防篡改防护的服务器ID。\n**约束限制** :\n仅支持填写未开启网页防篡改防护的服务器ID。\n**取值范围**:\n字符长度0-128位。\n**默认取值** :\n不涉及","example":"f8b8c960-0057-4c32-9ece-567a3641ff25","maxLength":128,"minLength":0,"type":"string"},"maxItems":20000,"minItems":1,"type":"array"},"privileged_process_info":{"$ref":"#/definitions/WebTamperPrivilegedProcessRequestInfo","description":"特权进程配置详情"},"protect_dir_info":{"$ref":"#/definitions/WebTamperProtectDirRequestInfo","description":"防护目录信息"},"rasp_path":{"description":"**参数解释**:\n动态网页防篡改的Tomcat bin目录,仅Linux服务器支持。\n**约束限制**:\n仅Linux服务器支持配置动态网页防篡改的Tomcat bin目录,Windows服务器不可填写该字段。\n**取值范围**:\n字符长度1-256位,必须以/开头,不能以/结尾,只能包含英文大小写字母,数字,下划线,中划线和点。\n**默认取值**:\n不涉及","example":"/usr/local/tomcat/bin","maxLength":256,"minLength":1,"type":"string"},"resource_id":{"description":"**参数解释**:\n资源ID,即网页防篡改配额的配额ID,当charging_mode选择packet_cycle时可填写该字段,表示使用一个指定配额,也可不填写该字段,表示随机选择符合的配额。\n**约束限制** :\n不涉及\n**取值范围**:\n字符长度0-64位\n**默认取值** :\n不涉及","example":"a8b8c960-0057-4c32-9ece-567a3641ff25","maxLength":64,"minLength":0,"type":"string"},"tags":{"description":"**参数解释**:\n资源标签列表,仅计费模式选择按需计费时支持填写。\n**约束限制**:\n仅计费模式选择按需计费时支持填写。\n**取值范围**:\n最少0条,最多2097152条\n**默认取值**:\n不涉及","example":[{"key":"service","value":"hss"}],"items":{"$ref":"#/definitions/TagInfo"},"maxItems":2097152,"minItems":0,"type":"array"},"timing_off_config_info":{"$ref":"#/definitions/WebTamperTimingOffConfigInfoRequestInfo","description":"定时开关配置详情"}},"required":["host_id_list","protect_dir_info"],"type":"object"},"TagInfo":{"properties":{"key":{"description":"**参数解释**:\n键\n**取值范围**:\n最大长度128个unicode字符。 key不能为空","maxLength":128,"minLength":1,"type":"string"},"value":{"description":"**参数解释**:\n值\n**取值范围**:\n最大长度255个unicode字符。","maxLength":255,"minLength":1,"type":"string"}},"type":"object"},"TimingRangeConfigRequestInfo":{"description":"自动关闭防护时间段","properties":{"description":{"description":"**参数解释**:\n自动关闭防护的时间段描述\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度0-20位\n**默认取值**:\n不涉及","example":"close","maxLength":20,"minLength":0,"type":"string"},"time_range":{"description":"**参数解释**:\n自动关闭防护的时间段范围,开始时间与结束之间用中划线相连,如15:00-15:30。\n**约束限制**:\n每个时间段最短不能少于5分钟。多个时间段之间不允许重叠,且两段时间间隔必须大于5分钟(时间00:00和23:59特例除外)。\n**取值范围**:\n字符长度0-20位\n**默认取值**:\n不涉及","example":"15:00-15:30","maxLength":20,"minLength":0,"type":"string"}},"type":"object"},"WebTamperPrivilegedProcessRequestInfo":{"description":"特权进程配置详情","properties":{"privileged_child_status":{"description":"**参数解释**:\n特权进程子进程可信状态\n**约束限制** :\n不涉及\n**取值范围**:\n- True :开启特权进程子进程可信。\n- False :关闭特权进程子进程可信。\n\n**默认取值** :\nFalse","example":false,"type":"boolean"},"privileged_process_path_list":{"description":"**参数解释**:\n特权进程文件路径列表\n**约束限制** :\n不涉及\n**取值范围**:\n最少0条,最多10条\n**默认取值** :\n不涉及","example":["/usr/bin/echo","/usr/bin/touch"],"items":{"description":"**参数解释**:\n特权进程文件路径\n**约束限制** :\n不涉及\n**取值范围**:\n字符长度0-512位\n**默认取值** :\n不涉及","example":"/usr/bin/echo","maxLength":512,"minLength":0,"type":"string"},"maxItems":10,"minItems":1,"type":"array"}},"type":"object"},"WebTamperProtectDirRequestInfo":{"description":"防护目录信息","properties":{"exclude_file_type":{"description":"**参数解释**:\n排除文件类型\n**约束限制**:\n不涉及\n**取值范围**:\n文件类型只能输入字母、数字,最多支持10个文件类型,每个文件类型长度不超过10个字符,多个文件类型以分号隔开。\n**默认取值**:\n不涉及","example":"log;pid;text","maxLength":512,"minLength":0,"type":"string"},"protect_dir_list":{"description":"**参数解释**:\n防护目录列表\n**约束限制**:\n不涉及\n**取值范围**:\n最少1条,最多50条\n**默认取值**:\n不涉及","items":{"$ref":"#/definitions/WebTamperProtectHostDirRequestInfo"},"maxItems":50,"minItems":1,"type":"array"},"protect_mode":{"description":"**参数解释**:\n防护模式,仅Linux服务器支持设置防护模式为告警模式,Windows服务器仅支持拦截模式。\n**约束限制**:\n不涉及\n**取值范围**:\n- recovery :拦截模式。\n- alarm :告警模式,仅Linux服务器支持。\n\n**默认取值**:\nrecovery","example":"recovery","maxLength":128,"minLength":0,"pattern":"^recovery|alarm$","type":"string"}},"required":["protect_dir_list"],"type":"object"},"WebTamperProtectHostDirRequestInfo":{"description":"防护目录信息","properties":{"exclude_child_dir":{"description":"**参数解释**:\n排除子目录\n**约束限制**:\n不涉及\n**取值范围**:\n子目录名必须是防护目录的有效相对路径,目录名最大长度不能超过256个字符,最多可添加10个子目录,多个子目录用;隔开。Linux服务器的子目录名不能以/开头或结尾,Windows服务器的子目录名不能以\\开头或结尾。\n**默认取值**:\n不涉及","example":"test","maxLength":2600,"minLength":0,"pattern":"^.*$","type":"string"},"exclude_file_path":{"description":"**参数解释**:\n排除文件路径\n**约束限制**:\n仅Linux服务器支持填写排除文件路径,Windows服务器不可填写该字段。\n**取值范围**:\n排除文件路径必须是防护目录的有效相对路径,不能以/开头或结尾,文件路径最大长度不能超过256个字符;最多可添加50个文件路径,多个文件路径用;隔开。\n**默认取值**:\n不涉及","example":"test.log","maxLength":3289600,"minLength":0,"pattern":"^.*$","type":"string"},"local_backup_dir":{"description":"**参数解释**:\n本地备份路径,Linux服务器必须填写该字段。\n**约束限制**:\n仅Linux服务器需要填写本地备份路径,Windows服务器不可填写该字段。\n**取值范围**:\n本地备份路径不能包含;字符,不能以空格开头,不能以/结尾,本地备份路径长度不得超过256个字符。\n**默认取值**:\n不涉及","example":"/root/test2","maxLength":256,"minLength":0,"pattern":"^.*$","type":"string"},"protect_dir":{"description":"**参数解释**:\n防护目录\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度1-256位。Linux服务器,必须以/开头,不能以/结尾,只能包含英文大小写字母,数字,下划线,中划线和点。Windows服务器,目录名不能包含;/*?\"<>|,不能以空格开头,不能以\\结尾。\n**默认取值**:\n不涉及","example":"/root/test","maxLength":256,"minLength":0,"pattern":"^.*$","type":"string"}},"required":["protect_dir"],"type":"object"},"WebTamperTimingOffConfigInfoRequestInfo":{"description":"定时关闭防护功能配置详情","properties":{"timing_range_list":{"description":"**参数解释**:\n自动关闭防护时间段\n**约束限制**:\n不涉及\n**取值范围**:\n最少1条,最多5条\n**默认取值**:\n不涉及","items":{"$ref":"#/definitions/TimingRangeConfigRequestInfo"},"maxItems":5,"minItems":1,"type":"array"},"week_off_list":{"description":"**参数解释**:\n自动关闭防护周期列表\n**约束限制**:\n不涉及\n**取值范围**:\n最少1条,最多7条\n**默认取值**:\n不涉及","example":[2,3],"items":{"description":"**参数解释**:\n自动关闭防护周期\n**约束限制**:\n不涉及\n**取值范围**:\n- 1 :周一。\n- 2 :周二。\n- 3 :周三。\n- 4 :周四。\n- 5 :周五。\n- 6 :周六。\n- 7 :周日。\n\n**默认取值**:\n不涉及","example":2,"format":"int32","maximum":7,"minimum":1,"type":"integer"},"maxItems":7,"minItems":1,"type":"array"}},"type":"object"}},"description":null,"group_id":"3f29a7c68cc24a39a794ff9ddec0ba77","host":"hss.cn-north-4.myhuaweicloud.com","id":"f4d07a57ba6746aa81daf977760ed1a4","info_version":"v5","method":"post","name":"BatchStartWebTamperProtection","parameters":{"EnterpriseProjectId":{"default":"0","description":"**参数解释**:\n企业项目ID,用于过滤不同企业项目下的资产。获取方式请参见[获取企业项目ID](hss_02_0027.xml)。\n如需查询所有企业项目下的资产请传参“all_granted_eps”。\n**约束限制**:\n开通企业项目功能后才需要配置企业项目ID参数。\n**取值范围**:\n字符长度1-256位\n**默认取值**:\n0,表示默认企业项目(default)。","in":"query","maxLength":256,"minLength":1,"name":"enterprise_project_id","pattern":"^.*$","required":false,"type":"string"},"ProjectId":{"description":"**参数解释**:\n项目ID,用于明确项目归属,配置后可通过该ID查询项目下资产。获取方式请参见[获取项目ID](hss_02_0024.xml)。\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度1-256位\n**默认取值**:\n不涉及","in":"path","maxLength":256,"minLength":1,"name":"project_id","pattern":"^.*$","required":true,"type":"string","x-example":"9d4f774865034d119917acc61b1b806e"},"XAuthToken":{"description":"**参数解释**:\n用户Token,包含了用户的身份、权限等信息,在调用API接口时,可通过Token进行身份认证。获取方式请参见[获取用户Token](hss_02_0009.xml)。\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度1-32768位\n**默认取值**:\n不涉及","in":"header","maxLength":32768,"minLength":1,"name":"X-Auth-Token","pattern":"^.*$","required":true,"type":"string","x-example":"$${X-Auth-Token}"}},"paths":{"/v5/{project_id}/webtamper/protection/batch-open":{"post":{"description":"批量开启网页防篡改防护","operationId":"BatchStartWebTamperProtection","parameters":[{"$ref":"#/parameters/XAuthToken"},{"$ref":"#/parameters/ProjectId"},{"$ref":"#/parameters/EnterpriseProjectId"},{"description":"请求参数","in":"body","name":"BatchStartWebTamperProtectionRequestBody","required":true,"schema":{"$ref":"#/definitions/BatchStartWebTamperProtectionRequestInfo"}}],"produces":["application/json"],"responses":{"200":{"description":"请求已成功"}},"summary":"批量开启网页防篡改防护","tags":["webtamper"],"x-api-type":"open-api","x-apigateway-request-type":"public","x-is-registered":"Y","x-method-annotations":["@CtsInfo(userOperationType = \"batchStartWebTamperProtection\", operationId = \"BatchStartWebTamperProtection\", readOnly = false)"],"x-request-examples-1":{"charging_mode":"packet_cycle","enable_privileged_process":true,"enable_rasp_protect":true,"enable_timing_off":true,"host_id_list":["f8b8c960-0057-4c32-9ece-567a3641ff25"],"privileged_process_info":{"privileged_child_status":true,"privileged_process_path_list":["/usr/bin/echo"]},"protect_dir_info":{"exclude_file_type":"log;pid;text","protect_dir_list":[{"local_backup_dir":"/root/test2","protect_dir":"/root/test1"},{"exclude_child_dir":"pro","exclude_file_path":"path","local_backup_dir":"/root/test4","protect_dir":"/root/test3"}],"protect_mode":"recovery"},"rasp_path":"/usr/bin/tomcat/bin","resource_id":"","timing_off_config_info":{"timing_range_list":[{"description":"close","time_range":"02:00-04:00"},{"time_range":"12:05-14:00"}],"week_off_list":[5,7]}},"x-request-examples-description-1":"批量开启网页防篡改防护。","x-request-examples-url-1":"PUT https://{endpoint}/v5/{project_id}/webtamper/protection/batch-open","x-support-international":true,"x-support-sdk":"Y","x-surpport-apiexplorer":true}}},"product_short":"HSS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"批量开启网页防篡改防护","tags":"网页防篡改","uri":null,"version":"2.0"}