{"base_path":"/","components":null,"consumes":"","definitions":{"ImageLocalInfo":{"properties":{"agent_id":{"description":"Agent ID","maxLength":128,"minLength":1,"type":"string"},"component_num":{"description":"关联组件数","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"container_num":{"description":"关联容器数","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"host_id":{"description":"主机ID","example":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx","maxLength":128,"minLength":1,"type":"string"},"host_name":{"description":"服务器名称","maxLength":128,"minLength":0,"type":"string"},"host_num":{"description":"关联主机数","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"image_digest":{"description":"镜像digest","maxLength":128,"minLength":0,"type":"string"},"image_id":{"description":"镜像ID","maxLength":64,"minLength":0,"type":"string"},"image_name":{"description":"镜像名称","maxLength":256,"minLength":0,"type":"string"},"image_size":{"description":"镜像大小,单位字节","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"image_version":{"description":"镜像版本","maxLength":256,"minLength":0,"type":"string"},"latest_scan_time":{"description":"最近扫描时间,时间单位毫秒(ms)","format":"int64","maximum":4070880000000,"minimum":0,"type":"integer"},"latest_update_time":{"description":"镜像版本最后更新时间,时间单位毫秒(ms)","format":"int64","maximum":4070880000000,"minimum":0,"type":"integer"},"local_image_type":{"description":"本地镜像类型","maxLength":256,"minLength":0,"type":"string"},"malicious_file_num":{"description":"恶意文件数","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"scan_failed_desc":{"description":"扫描失败原因,包含如下10种。\n  - \"unknown_error\":未知错误\n  - \"failed_to_match_agent\":对应主机未开启容器版防护或agent离线\n  - \"create_container_failed\":创建容器失败     \n  - \"get_container_info_failed\":获取容器信息失败\n  - \"docker_offline\":docker引擎不在线\n  - \"get_docker_root_failed\":获取容器根文件系统失败\n  - \"image_not_exist_or_docker_api_fault\":镜像不存在或docker接口错误\n  - \"huge_image\":超大镜像\n  - \"docker_root_in_nfs\":容器根目录位于网络挂载\n  - \"response_timed_out\":响应超时","maxLength":64,"minLength":0,"type":"string"},"scan_status":{"description":"扫描状态,包含如下:\n  - unscan:未扫描\n  - success:扫描完成\n  - scanning:正在扫描\n  - failed:扫描失败\n  - waiting:等待扫描","maxLength":256,"minLength":0,"type":"string"},"severity_level":{"description":"镜像风险程度,在镜像扫描完成后展示,包含如下:\n  - Security:安全\n  - Low:低危\n  - Medium:中危\n  - High:高危","maxLength":256,"minLength":0,"type":"string"},"unsafe_setting_num":{"description":"基线扫描未通过数","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"vul_num":{"description":"漏洞个数","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"}},"type":"object"},"ImageLocalListResponseInfo":{"description":"本地镜像列表信息","properties":{"data_list":{"description":"本地镜像数据列表","items":{"$ref":"#/definitions/ImageLocalInfo"},"maxItems":100000,"minItems":1,"type":"array"},"total_num":{"description":"本地镜像总数","format":"int32","maximum":2147483547,"minimum":0,"type":"integer"}},"type":"object"}},"description":null,"group_id":"3f29a7c68cc24a39a794ff9ddec0ba77","host":"hss.cn-north-4.myhuaweicloud.com","id":"6e6adb4f844a4b6e856059300e374224","info_version":"v5","method":"get","name":"ListImageLocal","parameters":{},"paths":{"/v5/{project_id}/image/local-repositories":{"get":{"description":"本地镜像列表查询","operationId":"ListImageLocal","parameters":[{"description":"用户Token。","in":"header","maxLength":32768,"minLength":1,"name":"x-auth-token","pattern":"^.*$","required":true,"type":"string","x-example":"$${x-auth-token}"},{"description":"项目ID","in":"path","maxLength":256,"minLength":1,"name":"project_id","pattern":"^.*$","required":true,"type":"string","x-example":"9d4f774865034d119917acc61b1b806e"},{"default":"0","description":"企业项目ID,查询所有企业项目时填写:all_granted_eps","in":"query","maxLength":256,"minLength":1,"name":"enterprise_project_id","pattern":"^.*$","required":false,"type":"string"},{"description":"镜像名称","in":"query","maxLength":128,"minLength":1,"name":"image_name","pattern":"^.*$","required":false,"type":"string","x-example":"test123"},{"description":"镜像版本","in":"query","maxLength":64,"minLength":1,"name":"image_version","pattern":"^.*$","required":false,"type":"string","x-example":"test123"},{"default":0,"description":"偏移量:指定返回记录的开始位置","format":"int32","in":"query","maximum":2000000,"minimum":0,"name":"offset","required":false,"type":"integer"},{"default":10,"description":"每页显示数量","format":"int32","in":"query","maximum":200,"minimum":10,"name":"limit","required":false,"type":"integer"},{"description":"扫描状态,包含如下:\n  - unscan : 未扫描\n  - success : 扫描完成\n  - scanning : 扫描中\n  - failed : 扫描失败\n  - waiting_for_scan : 等待扫描","in":"query","maxLength":32,"minLength":0,"name":"scan_status","required":false,"type":"string"},{"description":"镜像类型,包含如下:\n - other_image : 非SWR镜像\n - swr_image : SWR镜像","in":"query","maxLength":64,"minLength":0,"name":"local_image_type","required":false,"type":"string"},{"default":0,"description":"镜像大小,单位字节","format":"int64","in":"query","maximum":2147483547,"minimum":0,"name":"image_size","required":false,"type":"integer"},{"default":0,"description":"最近更新时间搜索开始日期,时间单位 毫秒(ms)","format":"int64","in":"query","maximum":2147483547,"minimum":0,"name":"start_latest_update_time","required":false,"type":"integer"},{"default":0,"description":"最近更新时间搜索结束日期,时间单位 毫秒(ms)","format":"int64","in":"query","maximum":2147483547,"minimum":0,"name":"end_latest_update_time","required":false,"type":"integer"},{"default":0,"description":"最近一次扫描完成时间搜索开始日期,时间单位 毫秒(ms)","format":"int64","in":"query","maximum":2147483547,"minimum":0,"name":"start_latest_scan_time","required":false,"type":"integer"},{"default":0,"description":"最近一次扫描完成时间搜索结束日期,时间单位 毫秒(ms)","format":"int64","in":"query","maximum":2147483547,"minimum":0,"name":"end_latest_scan_time","required":false,"type":"integer"},{"description":"是否存在软件漏洞","in":"query","name":"has_vul","required":false,"type":"boolean"},{"description":"本地镜像所关联服务器的名称","in":"query","maxLength":128,"minLength":0,"name":"host_name","required":false,"type":"string"},{"description":"本地镜像所关联服务器的ID","in":"query","maxLength":128,"minLength":0,"name":"host_id","required":false,"type":"string"},{"description":"本地镜像所关联服务器的IP(公网或私网)","in":"query","maxLength":128,"minLength":0,"name":"host_ip","required":false,"type":"string"},{"description":"本地镜像所关联容器的ID","in":"query","maxLength":128,"minLength":0,"name":"container_id","required":false,"type":"string"},{"description":"本地镜像所关联容器的名称","in":"query","maxLength":128,"minLength":0,"name":"container_name","required":false,"type":"string"},{"description":"本地镜像所关联Pod的ID","in":"query","maxLength":128,"minLength":0,"name":"pod_id","required":false,"type":"string"},{"description":"本地镜像所关联Pod的名称","in":"query","maxLength":128,"minLength":0,"name":"pod_name","required":false,"type":"string"},{"description":"本地镜像所关联软件的名称","in":"query","maxLength":128,"minLength":0,"name":"app_name","required":false,"type":"string"}],"responses":{"200":{"description":"请求已成功","examples":{"application/json":{"data_list":[{"agent_id":"1c1d073c5fc403eb0d9c3088bc49da4e015586fd4864513a2fd81afedce282d4","component_num":146,"container_num":5,"host_id":"9ad79426-992c-4be4-a2d1-dfd3a75b7c14","host_name":"myhost","host_num":0,"image_digest":"sha256:ce0b5d91b072730d0bc9518f11efd07eb7fdb9f43251e11a96cab5b1918b7044","image_id":"f757deea-781e-45ec-90ec-f199249890df","image_name":"webshell-ljx","image_size":215304488,"image_version":"v1","latest_scan_time":1709973506292,"latest_update_time":1697509433000,"local_image_type":"swr_image","scan_status":"success","severity_level":"High","vul_num":77}],"total_num":1}},"schema":{"$ref":"#/definitions/ImageLocalListResponseInfo"}}},"summary":"本地镜像列表查询","tags":["容器镜像"],"x-is-registered":"N","x-request-examples-description-1":"查询前10条本地镜像信息列表","x-request-examples-url-1":"GET https://{endpoint}/v5/{project_id}/image/local-repositories?offset=0&limit=10","x-support-sdk":"Y","x-surpport-apiexplorer":true}}},"product_short":"HSS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"本地镜像列表查询","tags":"容器镜像","uri":null,"version":"2.0"}