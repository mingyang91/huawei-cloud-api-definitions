{"base_path":"/","components":null,"consumes":"","definitions":{"BackupTriggerPropertiesRequestInfo":{"description":"策略执行时间规则","properties":{"pattern":{"description":"调度规则。限制24条规则。调度器的调度规则,可参照iCalendar RFC 2445规范中的事件规则,但仅支持FREQ、BYDAY、BYHOUR、BYMINUTE、INTERVAL等参数,其中FREQ仅支持WEEKLY和DAILY,BYDAY支持一周七天(MO、TU、WE、TH、FR、SA、SU),BYHOUR支持0-23小时,BYMINUTE支持0-59分钟,并且间隔不能小于一小时,一天最大24个时间点。例如,周一到周天,每天14:00调度,其规则为:'FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR,SA,SU;BYHOUR=14;BYMINUTE=00'。每天14:00调度,其规则为'FREQ=DAILY;INTERVAL=1;BYHOUR=14;BYMINUTE=00'。","items":{"maxLength":256,"minLength":1,"type":"string"},"maxItems":24,"minItems":0,"type":"array"}},"required":["pattern"],"type":"object"},"BackupTriggerRequestInfo":{"description":"策略时间调度规则","properties":{"properties":{"$ref":"#/definitions/BackupTriggerPropertiesRequestInfo"}},"required":["properties"],"type":"object"},"OperationDefinitionRequestInfo":{"description":"调度参数","properties":{"day_backups":{"description":"保留日备个数,该备份不受保留最大备份数限制。取值为0到100。若选择该参数,则timezone 也必选。最小值:0,最大值:100","format":"int32","maximum":100,"minimum":0,"type":"integer"},"max_backups":{"description":"单个备份对象自动备份的最大备份数。取值为-1或0-99999。-1代表不按备份数清理。若该字段和retention_duration_days字段同时为空,备份会永久保留。最小值:1,最大值:99999,缺省值:-1","example":1,"format":"int32","maximum":99999,"minimum":-1,"type":"integer"},"month_backups":{"description":"保留月备个数,该备份不受保留最大备份数限制。取值为0到100。若选择该参数,则timezone 也必选。最小值:0, 最大值:100","example":1,"format":"int32","maximum":100,"minimum":0,"type":"integer"},"retention_duration_days":{"description":"备份保留时长,单位天。最长支持99999天。-1代表不按时间清理。若该字段和max_backups 参数同时为空,备份会永久保留。最小值:1, 最大值:99999, 缺省值:-1","format":"int32","maximum":99999,"minimum":-1,"type":"integer"},"timezone":{"description":"用户所在时区,格式形如UTC+08:00,若没有选择年备,月备,周备,日备中任一参数,则不能选择该参数。","maxLength":256,"minLength":0,"type":"string"},"week_backups":{"description":"保留周备个数,该备份不受保留最大备份数限制。取值为0到100。若选择该参数,则timezone 也必选。","format":"int32","maximum":100,"minimum":0,"type":"integer"},"year_backups":{"description":"保留年备个数,该备份不受保留最大备份数限制。取值为0到100。若选择该参数,则timezone 也必选。最小值:0,最大值:100","format":"int32","maximum":100,"minimum":0,"type":"integer"}},"type":"object"},"UpdateBackupPolicyRequestInfo":{"description":"备份策略","properties":{"enabled":{"description":"策略是否启用,缺省值:true","example":true,"type":"boolean"},"operation_definition":{"$ref":"#/definitions/OperationDefinitionRequestInfo"},"policy_id":{"description":"备份策略ID","example":"f75b333f-f42c-4ea4-b990-5e9be129797f","maxLength":256,"minLength":1,"type":"string"},"trigger":{"$ref":"#/definitions/BackupTriggerRequestInfo"}},"required":["policy_id"],"type":"object"}},"description":null,"group_id":"3f29a7c68cc24a39a794ff9ddec0ba77","host":"hss.cn-north-4.myhuaweicloud.com","id":"947183cb8f4e4ae9930b58661511d30d","info_version":"v5","method":"put","name":"UpdateBackupPolicyInfo","parameters":{},"paths":{"/v5/{project_id}/backup/policy":{"put":{"description":"修改存储库绑定的备份策略","operationId":"UpdateBackupPolicyInfo","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","maxLength":32768,"minLength":1,"name":"X-Auth-Token","pattern":"^.*$","required":true,"type":"string","x-example":"$${X-Auth-Token}"},{"description":"Region ID","in":"header","maxLength":128,"minLength":0,"name":"region","pattern":"^.*$","required":true,"type":"string","x-example":"cn-north-5"},{"description":"项目ID","in":"path","maxLength":256,"minLength":1,"name":"project_id","pattern":"^.*$","required":true,"type":"string","x-example":"9d4f774865034d119917acc61b1b806e"},{"default":"0","description":"企业项目ID,查询所有企业项目时填写:all_granted_eps","in":"query","maxLength":256,"minLength":1,"name":"enterprise_project_id","pattern":"^.*$","required":false,"type":"string"},{"description":"修改备份策略请求体","in":"body","name":"UpdateBackupPolicyInfoRequestBody","required":true,"schema":{"$ref":"#/definitions/UpdateBackupPolicyRequestInfo"}}],"produces":["application/json"],"responses":{"200":{"description":"请求已成功"}},"summary":"修改存储库绑定的备份策略","tags":["勒索防护"],"x-is-registered":"Y","x-request-examples-1":{"enabled":true,"operation_definition":{"day_backups":0,"max_backups":-1,"month_backups":0,"retention_duration_days":5,"timezone":"UTC+08:00","week_backups":0,"year_backups":0},"policy_id":"af4d08ad-2b60-4916-a5cf-8d6a23956dda","trigger":{"properties":{"pattern":["FREQ=DAILY;INTERVAL=2;BYHOUR=14;BYMINUTE=00"]}}},"x-request-examples-description-1":"修改备份策略,目标备份策略ID为af4d08ad-2b60-4916-a5cf-8d6a23956dda。","x-request-examples-url-1":"PUT https://{endpoint}/v5/{project_id}/backup/policy","x-support-sdk":"Y","x-surpport-apiexplorer":true}}},"product_short":"HSS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"修改存储库绑定的备份策略","tags":"勒索防护","uri":null,"version":"2.0"}