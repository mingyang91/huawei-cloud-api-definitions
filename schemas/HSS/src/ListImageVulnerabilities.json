{"base_path":"/","components":null,"consumes":"","definitions":{"ImageVulInfo":{"properties":{"app_name":{"description":"漏洞的软件名称","maxLength":128,"minLength":0,"type":"string"},"app_path":{"description":"应用软件的路径(只有应用漏洞有该字段)","example":"/usr/sbin/agetty","maxLength":512,"minLength":1,"type":"string"},"description":{"description":"漏洞描述","maxLength":128,"minLength":0,"type":"string"},"position":{"description":"漏洞所在镜像层","maxLength":128,"minLength":0,"type":"string"},"repair_necessity":{"description":"修复紧急度,包含如下3种。\n  - immediate_repair :高危。\n  - delay_repair :中危。\n  - not_needed_repair :低危。","maxLength":128,"minLength":0,"type":"string"},"solution":{"description":"解决方案","maxLength":256,"minLength":0,"type":"string"},"url":{"description":"补丁地址","maxLength":128,"minLength":0,"type":"string"},"version":{"description":"软件版本","maxLength":128,"minLength":0,"type":"string"},"vul_id":{"description":"漏洞id","maxLength":128,"minLength":0,"type":"string"}},"type":"object"},"RepoImageVulListResponseInfo":{"description":"查询镜像仓库镜像的漏洞信息","properties":{"data_list":{"description":"镜像的漏洞列表","items":{"$ref":"#/definitions/ImageVulInfo"},"maxItems":10241,"minItems":0,"type":"array"},"total_num":{"description":"总数","format":"int32","maximum":2147483547,"minimum":0,"type":"integer"}},"type":"object"}},"description":null,"group_id":"3f29a7c68cc24a39a794ff9ddec0ba77","host":"hss.cn-north-4.myhuaweicloud.com","id":"b13203019e724d0c82e192d892139efa","info_version":"v5","method":"get","name":"ListImageVulnerabilities","parameters":{},"paths":{"/v5/{project_id}/image/{image_id}/vulnerabilities":{"get":{"description":"查询镜像的漏洞信息","operationId":"ListImageVulnerabilities","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","maxLength":32768,"minLength":1,"name":"X-Auth-Token","pattern":"^.*$","required":true,"type":"string","x-example":"$${X-Auth-Token}"},{"description":"Region ID","in":"header","maxLength":128,"minLength":0,"name":"region","pattern":"^.*$","required":false,"type":"string","x-example":"cn-north-5"},{"description":"项目ID","in":"path","maxLength":256,"minLength":1,"name":"project_id","pattern":"^.*$","required":true,"type":"string","x-example":"9d4f774865034d119917acc61b1b806e"},{"default":"0","description":"主机所属的企业项目ID。\n开通企业项目功能后才需要配置企业项目。\n企业项目ID默认取值为“0”,表示默认企业项目。如果需要查询所有企业项目下的主机,请传参“all_granted_eps”。如果您只有某个企业项目的权限,则需要传递该企业项目ID,查询该企业项目下的主机,否则会因权限不足而报错。","in":"query","maxLength":256,"minLength":1,"name":"enterprise_project_id","pattern":"^.*$","required":false,"type":"string"},{"description":"镜像类型,包含如下:\n  - private_image : 私有镜像仓库\n  - shared_image : 共享镜像仓库\n  - local_image : 本地镜像\n  - instance_image : 企业镜像","in":"query","maxLength":32,"minLength":1,"name":"image_type","required":true,"type":"string"},{"default":0,"description":"偏移量:指定返回记录的开始位置","format":"int32","in":"query","maximum":2000000,"minimum":0,"name":"offset","required":false,"type":"integer"},{"default":10,"description":"每页显示数量","format":"int32","in":"query","maximum":200,"minimum":10,"name":"limit","required":false,"type":"integer"},{"description":"镜像id","in":"path","maxLength":128,"minLength":0,"name":"image_id","required":true,"type":"string"},{"description":"企业仓库实例ID,swr共享版无需使用该参数","in":"query","maxLength":128,"minLength":0,"name":"instance_id","required":false,"type":"string"},{"description":"组织名称","in":"query","maxLength":64,"minLength":0,"name":"namespace","required":true,"type":"string"},{"description":"镜像名称","in":"query","maxLength":128,"minLength":0,"name":"image_name","required":true,"type":"string"},{"description":"镜像版本","in":"query","maxLength":64,"minLength":0,"name":"tag_name","required":true,"type":"string"},{"description":"危险程度,包含如下3种。\n  - immediate_repair :高危。\n  - delay_repair :中危。\n  - not_needed_repair :低危。","in":"query","maxLength":32,"minLength":0,"name":"repair_necessity","required":false,"type":"string"},{"description":"漏洞ID(支持模糊查询)","in":"query","maxLength":64,"minLength":0,"name":"vul_id","required":false,"type":"string"},{"description":"软件名","in":"query","maxLength":64,"minLength":0,"name":"app_name","required":false,"type":"string"},{"description":"漏洞类型,包含如下:\n  -linux_vul : linux漏洞\n  -app_vul : 应用漏洞","in":"query","maxLength":32,"minLength":0,"name":"type","required":false,"type":"string"}],"responses":{"200":{"description":"请求已成功","examples":{"application/json":{"data_list":[{"app_name":"xz-lib","description":"online","position":"sha256:74ddd0ec08fa43dXXXX","repair_necessity":"delay_repair","solution":"To upgrade the affected software","url":"https://access.redhat.com/errata/RHSAXXX","version":"5.2.4-3.el8","vul_id":"RHSA-2022:49XX"}],"total_num":1}},"schema":{"$ref":"#/definitions/RepoImageVulListResponseInfo"}}},"summary":"查询镜像的漏洞信息","tags":["容器镜像"],"x-is-registered":"Y","x-request-examples-description-1":"查询私有镜像中命名空间为scc_hss_container,镜像名称为apptest,镜像版本为V1的漏洞信息。","x-request-examples-url-1":"GET https://{endpoint}/v5/{project_id}/image/{image_id}/vulnerabilities?limit=10&offset=0&namespace=scc_hss_container&tag_name=v1&image_name=apptest&image_type=private_image&type=linux_vul&enterprise_project_id=all_granted_eps","x-support-sdk":"Y","x-surpport-apiexplorer":true}}},"product_short":"HSS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询镜像的漏洞信息","tags":"容器镜像","uri":null,"version":"2.0"}