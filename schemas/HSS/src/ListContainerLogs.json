{"base_path":"/","components":null,"consumes":"","definitions":{"ClusterContainerLogListResponseInfo":{"description":"k8s集群容器日志列表","properties":{"data_list":{"description":"k8s集群容器日志列表","items":{"$ref":"#/definitions/ClusterContainerLogResponseInfo"},"maxItems":65535,"minItems":0,"type":"array"},"total_num":{"description":"日志总条数","format":"int32","maximum":2147483647,"minimum":0,"type":"integer"}},"type":"object"},"ClusterContainerLogResponseInfo":{"description":"k8s集群容器日志信息","properties":{"cluster_id":{"description":"集群id","maxLength":256,"minLength":1,"type":"string"},"cluster_name":{"description":"集群名称","maxLength":256,"minLength":1,"type":"string"},"cluster_type":{"description":"集群类型,包含以下几种:\n- cce: cce集群\n- ali: 阿里云集群\n- tencent: 腾讯云集群\n- azure: 微软云集群\n- aws: 亚马逊集群\n- self_built_hw: 华为云自建集群\n- self_built_idc: IDC自建集群","maxLength":32,"minLength":1,"type":"string"},"container_id":{"description":"产生日志的容器id","maxLength":128,"minLength":1,"type":"string"},"container_name":{"description":"产生日志的容器名称","maxLength":128,"minLength":1,"type":"string"},"content":{"description":"日志的内容","maxLength":65535,"minLength":1,"type":"string"},"host_ip":{"description":"产生日志的容器所在的主机ip","maxLength":64,"minLength":1,"type":"string"},"line_num":{"description":"cce集群容器日志的行号","example":123123,"maxLength":128,"minLength":0,"type":"string"},"namespace":{"description":"容器日志所属的命名空间","maxLength":64,"minLength":1,"type":"string"},"pod_id":{"description":"产生日志的容器所属pod的id","maxLength":64,"minLength":1,"type":"string"},"pod_ip":{"description":"产生日志的容器所属pod的ip","maxLength":64,"minLength":1,"type":"string"},"pod_name":{"description":"产生日志的容器所属pod的名称","maxLength":256,"minLength":1,"type":"string"},"time":{"description":"日志产生的时间","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"}},"type":"object"}},"description":null,"group_id":"3f29a7c68cc24a39a794ff9ddec0ba77","host":"hss.cn-north-4.myhuaweicloud.com","id":"1eeacd94e8eb4e97827bc03111947b67","info_version":"v5","method":"get","name":"ListContainerLogs","parameters":{},"paths":{"/v5/{project_id}/container/logs":{"get":{"description":"查询容器日志列表","operationId":"ListContainerLogs","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","maxLength":32768,"minLength":1,"name":"X-Auth-Token","pattern":"^.*$","required":true,"type":"string","x-example":"$${X-Auth-Token}"},{"description":"租户项目ID","in":"path","maxLength":128,"minLength":1,"name":"project_id","pattern":"^.*$","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"default":"0","description":"主机所属的企业项目ID。\n开通企业项目功能后才需要配置企业项目。\n企业项目ID默认取值为“0”,表示默认企业项目。如果需要查询所有企业项目下的主机,请传参“all_granted_eps”。如果您只有某个企业项目的权限,则需要传递该企业项目ID,查询该企业项目下的主机,否则会因权限不足而报错。","in":"query","maxLength":256,"minLength":1,"name":"enterprise_project_id","pattern":"^.*$","required":false,"type":"string"},{"description":"集群id","in":"query","maxLength":256,"minLength":1,"name":"cluster_id","pattern":"^.*$","required":false,"type":"string"},{"description":"集群名称","in":"query","maxLength":256,"minLength":0,"name":"cluster_name","pattern":"^.*$","required":false,"type":"string"},{"description":"产生日志的容器所属的命名空间","in":"query","maxLength":64,"minLength":0,"name":"namespace","pattern":"^.*$","required":false,"type":"string"},{"description":"产生日志的容器所属pod的名称","in":"query","maxLength":256,"minLength":0,"name":"pod_name","pattern":"^.*$","required":false,"type":"string"},{"description":"产生日志的容器所属pod的id","in":"query","maxLength":64,"minLength":0,"name":"pod_id","pattern":"^.*$","required":false,"type":"string"},{"description":"产生日志的容器所属pod的ip","in":"query","maxLength":64,"minLength":0,"name":"pod_ip","pattern":"^.*$","required":false,"type":"string"},{"description":"产生日志的容器所在主机的ip","in":"query","maxLength":64,"minLength":0,"name":"host_ip","pattern":"^.*$","required":false,"type":"string"},{"description":"容器id","in":"query","maxLength":256,"minLength":1,"name":"container_id","pattern":"^.*$","required":false,"type":"string"},{"description":"产生日志的容器名称","in":"query","maxLength":128,"minLength":0,"name":"container_name","pattern":"^.*$","required":false,"type":"string"},{"description":"日志内容","in":"query","maxLength":128,"minLength":0,"name":"content","pattern":"^.*$","required":false,"type":"string"},{"description":"查询日志范围的最小时间","format":"int64","in":"query","maximum":9223372036854775807,"minimum":0,"name":"start_time","required":false,"type":"integer"},{"description":"查询日志范围的最大时间","format":"int64","in":"query","maximum":9223372036854775807,"minimum":0,"name":"end_time","required":false,"type":"integer"},{"default":10,"description":"每页显示个数,默认为10","format":"int32","in":"query","maximum":200,"minimum":0,"name":"limit","required":true,"type":"integer"},{"default":0,"description":"偏移量:指定返回记录的开始位置,必须为数字,取值范围为大于或等于0,默认0","format":"int32","in":"query","maximum":2000000,"minimum":0,"name":"offset","required":true,"type":"integer"},{"description":"查询cce集群容器日志时需要传的分页行号","in":"query","maxLength":128,"minLength":0,"name":"line_num","pattern":"^.*$","required":false,"type":"string"}],"responses":{"200":{"description":"请求已成功","examples":{"application/json":{"data_list":[{"cluster_id":"b075094b-d21a-499a-9006-624089c94402","cluster_name":"ywk-55555","cluster_type":"cce","container_id":"16***0dc-94cb-4ca3-9087-06***cd168c1","container_name":"k8s_infer-3bb780ef-01b2-45b3-bf0c-fc758d507ce1_infer-39cce5d3-07b2-4794-a69d-fc758d507ce1-gruhs-role-0-5d5hzbq_pool-x-infer-test-04f258c84780d5a52f3bc00dc15aa5e7_1dbafeed-e3bb-4bc6-9eaa-1f9bdb50df26_1","content":"successfully started container k8s_infer-3bb780ef-01b2-45b3-bf0c-fc758d507ce1_infer-39cce5d3-07b2-4794-a69d-fc758d507ce1-gruhs-role-0-5d5hzbq_pool-x-infer-test-04f258c84780d5a52f3bc00dc15aa5e7_1dbafeed-e3bb-4bc6-9eaa-1f9bdb50df26_1","host_ip":"192.168.0.9","line_num":123123,"namespace":"hss","pod_id":"b075094b-d21a-499a-9006-624089c94402","pod_ip":"192.168.0.93","pod_name":"infer-39cce5d3-07b2-4794-a69d-fc758d507ce1-gruhs-role-0-5d5hzbq","time":1814080859608}],"total_num":1}},"schema":{"$ref":"#/definitions/ClusterContainerLogListResponseInfo"}}},"summary":"查询容器日志列表","tags":["容器管理"],"x-api-type":"open-api","x-apigateway-request-type":"public","x-iam-auth-meta-anno":{"abacAction":"hss:container:listContainerLogs","abacActionAlias":"hss:containers:list","authLevel":"PROJECT","rbac":["te_admin","hss_adm","te_admin+op_restricted","te_admin+op_suspended","hss_adm+op_restricted","hss_adm+op_suspended","readonly","op_service"]},"x-is-registered":"Y","x-method-annotations":["@CtsInfo(userOperationType = \"listContainerLogs\", operationId = \"ListContainerLogs\")"],"x-support-sdk":"N","x-surpport-apiexplorer":true}}},"product_short":"HSS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询容器日志列表","tags":"容器管理","uri":null,"version":"2.0"}