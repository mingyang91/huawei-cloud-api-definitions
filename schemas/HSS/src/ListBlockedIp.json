{"base_path":"/","components":null,"consumes":"","definitions":{"BlockedIpResponseInfo":{"description":"已拦截IP详情","properties":{"block_time":{"description":"开始拦截时间,毫秒","example":1615564800000,"format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"host_id":{"$ref":"#/definitions/HostId"},"host_name":{"$ref":"#/definitions/HostName"},"intercept_num":{"description":"拦截次数","example":10,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"intercept_status":{"description":"拦截状态,包含如下:\n  - \"intercepted\" # 已拦截\n  - \"canceled\" # 已解除拦截\n  - \"cancelling\" # 待解除拦截","enum":["intercepted","canceled","cancelling"],"example":"intercepted","type":"string"},"latest_time":{"description":"最近拦截时间,毫秒","example":1615564800000,"format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"login_type":{"$ref":"#/definitions/LoginType"},"src_ip":{"$ref":"#/definitions/SrcIp"}},"required":["block_time","host_id","host_name","intercept_num","intercept_status","latest_time","login_type","src_ip"],"type":"object"},"BlockedIpsResponseInfo":{"description":"已拦截IP列表","properties":{"data_list":{"description":"已拦截IP详情","items":{"$ref":"#/definitions/BlockedIpResponseInfo"},"maxItems":100,"minItems":0,"type":"array"},"total_num":{"$ref":"#/definitions/TotalNum"}},"required":["data_list","total_num"],"type":"object"},"HostId":{"description":"**参数解释**:\n主机ID\n**取值范围**:\n字符长度1-64位","maxLength":64,"minLength":1,"pattern":"^.*$","type":"string","x-example":"71a15ecc-049f-4cca-bd28-5e90aca1817f"},"HostName":{"description":"**参数解释**:\n服务器名称\n**取值范围**:\n字符长度1-256位","maxLength":256,"minLength":1,"pattern":"^.*$","type":"string","x-example":"HostName"},"LoginType":{"description":"登录类型,包含如下:\n- \"mysql\" # mysql服务\n- \"rdp\" # rdp服务\n- \"ssh\" # ssh服务\n- \"vsftp\" # vsftp服务","example":"ssh","type":"string"},"SrcIp":{"description":"攻击源IP","example":"127.0.0.1","pattern":"^.*$","type":"string"},"TotalNum":{"description":"**参数解释**:\n总数\n**取值范围**:\n最小值0,最大值2147483647","format":"int32","maximum":2147483647,"minimum":0,"type":"integer"}},"description":null,"group_id":"3f29a7c68cc24a39a794ff9ddec0ba77","host":"hss.cn-north-4.myhuaweicloud.com","id":"91dd62b683234296b4bc8a40f59a0252","info_version":"v5","method":"get","name":"ListBlockedIp","parameters":{},"paths":{"/v5/{project_id}/event/blocked-ip":{"get":{"description":"查询已拦截IP列表","operationId":"ListBlockedIp","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","maxLength":32768,"minLength":1,"name":"X-Auth-Token","pattern":"^.*$","required":true,"type":"string","x-example":"$${X-Auth-Token}"},{"description":"Region ID","in":"header","maxLength":128,"minLength":0,"name":"region","pattern":"^.*$","required":false,"type":"string","x-example":"cn-north-5"},{"description":"项目ID","in":"path","maxLength":64,"minLength":20,"name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"主机所属的企业项目ID。\n开通企业项目功能后才需要配置企业项目。\n企业项目ID默认取值为“0”,表示默认企业项目。如果需要查询所有企业项目下的主机,请传参“all_granted_eps”。如果您只有某个企业项目的权限,则需要传递该企业项目ID,查询该企业项目下的主机,否则会因权限不足而报错。","in":"query","maxLength":64,"minLength":0,"name":"enterprise_project_id","pattern":"^.*$","required":false,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"查询时间范围天数,与自定义查询时间begin_time,end_time互斥","format":"int32","in":"query","maximum":30,"minimum":1,"name":"last_days","required":false,"type":"integer"},{"description":"服务器名称","in":"query","maxLength":64,"minLength":1,"name":"host_name","pattern":"^.*$","required":false,"type":"string","x-example":"HostName"},{"description":"攻击源IP","in":"query","maxLength":256,"minLength":1,"name":"src_ip","pattern":"^.*$","required":false,"type":"string"},{"description":"拦截状态,包含如下:\n  - intercepted : 已拦截\n  - canceled : 已解除拦截\n  - cancelling : 待解除拦截","in":"query","maxLength":32,"minLength":0,"name":"intercept_status","required":false,"type":"string"},{"default":0,"description":"偏移量:指定返回记录的开始位置","format":"int32","in":"query","maximum":2000000,"minimum":0,"name":"offset","required":false,"type":"integer"},{"default":10,"description":"每页显示个数","format":"int32","in":"query","maximum":1000,"minimum":10,"name":"limit","required":false,"type":"integer"}],"produces":["application/json"],"responses":{"200":{"description":"请求已成功","examples":{"application/json":{"data_list":[{"block_time":1698715135407,"host_id":"1c62fe52-0c84-4ee4-8dba-d892c5ad0ab0","host_name":"dfx-a00607964-0011","intercept_num":230,"intercept_status":"canceled","latest_time":1698715296786,"login_type":"ssh","src_ip":"100.85.239.180"}],"total_num":1}},"schema":{"$ref":"#/definitions/BlockedIpsResponseInfo"}}},"summary":"查询已拦截IP列表","tags":["事件管理"],"x-is-registered":"Y","x-request-examples-description-1":"查询前10条已拦截的IP列表","x-request-examples-url-1":"GET https://{endpoint}/v5/{project_id}/event/blocked-ip?limit=10&offset=0&enterprise_project_id=xxx","x-support-sdk":"Y","x-surpport-apiexplorer":true}}},"product_short":"HSS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询已拦截IP列表","tags":"事件管理","uri":null,"version":"2.0"}