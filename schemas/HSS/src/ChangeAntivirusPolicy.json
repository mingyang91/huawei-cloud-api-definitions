{"base_path":"/","components":null,"consumes":"","definitions":{"Action":{"description":"处置动作,包含如下:\n  - auto :自动处置\n  - manual : 人工处置","example":"auto","maxLength":10,"minLength":1,"type":"string"},"ChangeAntivirusPolicyRequestInfo":{"description":"修改自定义扫描策略","properties":{"action":{"$ref":"#/definitions/Action"},"file_types":{"$ref":"#/definitions/FileTypeList"},"host_ids":{"description":"策略管理主机列表","items":{"maxLength":64,"minLength":0,"type":"string"},"maxItems":2147483647,"minItems":1,"type":"array"},"ignore_dir":{"$ref":"#/definitions/IgnoreDir"},"policy_id":{"$ref":"#/definitions/PolicyId"},"policy_name":{"$ref":"#/definitions/PolicyName"},"scan_dir":{"$ref":"#/definitions/ScanDir"},"scan_hour":{"$ref":"#/definitions/ScanHour"},"scan_minute":{"$ref":"#/definitions/ScanMinute"},"scan_period":{"$ref":"#/definitions/ScanPeriod"},"scan_period_date":{"$ref":"#/definitions/ScanPeriodDate"},"scan_time":{"$ref":"#/definitions/ScanTime"},"start_type":{"$ref":"#/definitions/StartType"},"timezone_offset":{"$ref":"#/definitions/TimezoneOffset"},"whether_paid_task":{"description":"此次扫描任务是否消耗按次计费配额","example":false,"type":"boolean"}},"required":["policy_id","policy_name","action","file_types","start_type","host_ids","whether_paid_task"],"type":"object"},"FileTypeList":{"description":"文件类型集合型,包含如下:\n  - 0 :全部\n  - 1 : 可执行\n  - 2 : 压缩\n  - 3 : 脚本\n  - 4 : 文档\n  - 5 : 图片\n  - 6 : 音视频","items":{"example":0,"format":"int32","maximum":6,"minimum":0,"type":"integer"},"maxItems":6,"minItems":1,"type":"array"},"IgnoreDir":{"description":"排除目录,多个用;分隔","example":"/root","pattern":"^.*$","type":"string"},"PolicyId":{"description":"策略ID","example":"bdcb6303b37c61342792f186e38d580b4b073e0024864019eaf982f30c9384db","pattern":"^.*$","type":"string"},"PolicyName":{"description":"策略名称","example":"policy name","maxLength":50,"minLength":0,"pattern":"^.*$","type":"string"},"ScanDir":{"description":"扫描目录,多个用;分隔","example":"/root","pattern":"^.*$","type":"string"},"ScanHour":{"description":"扫描小时数(仅启动类型为period时有值)","example":16,"format":"int32","maximum":24,"minimum":1,"type":"integer"},"ScanMinute":{"description":"扫描分钟数(仅启动类型为period时有值)","example":56,"format":"int32","maximum":31,"minimum":1,"type":"integer"},"ScanPeriod":{"description":"启动类型,包含如下:\n  - day :每天\n  - week : 每周\n  - month : 每月","example":"day","type":"string"},"ScanPeriodDate":{"description":"扫描周期日期(1-28;扫描周期为week时,1-7代表周日至周六;扫描周期为month时,1-28代表每月1日到28日)","example":1,"format":"int32","maximum":31,"minimum":1,"type":"integer"},"ScanTime":{"description":"扫描时间戳,毫秒(仅启动类型为later时有值)","example":1615564800000,"format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"StartType":{"description":"启动类型,包含如下:\n  - now : 立即启动\n  - later : 稍后启动\n  - period : 周期启动","example":"now","pattern":"^now|later|period$","type":"string"},"TimezoneOffset":{"description":"时区偏移量(仅启动类型为period时有值,单位:分钟)","example":-480,"format":"int32","maximum":720,"minimum":-720,"type":"integer"}},"description":null,"group_id":"3f29a7c68cc24a39a794ff9ddec0ba77","host":"hss.cn-north-4.myhuaweicloud.com","id":"29306736295f4762bef523889ecd76eb","info_version":"v5","method":"put","name":"ChangeAntivirusPolicy","parameters":{"EnterpriseProjectId":{"default":"0","description":"主机所属的企业项目ID。\n开通企业项目功能后才需要配置企业项目。\n企业项目ID默认取值为“0”,表示默认企业项目。如果需要查询所有企业项目下的主机,请传参“all_granted_eps”。如果您只有某个企业项目的权限,则需要传递该企业项目ID,查询该企业项目下的主机,否则会因权限不足而报错。","in":"query","maxLength":256,"minLength":1,"name":"enterprise_project_id","pattern":"^.*$","required":false,"type":"string"},"ProjectId":{"description":"项目ID","in":"path","maxLength":256,"minLength":1,"name":"project_id","pattern":"^.*$","required":true,"type":"string","x-example":"9d4f774865034d119917acc61b1b806e"},"XAuthToken":{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)","in":"header","maxLength":32768,"minLength":1,"name":"X-Auth-Token","pattern":"^.*$","required":true,"type":"string","x-example":"$${X-Auth-Token}"}},"paths":{"/v5/{project_id}/antivirus/policy":{"put":{"description":"编辑自定义查杀策略","operationId":"ChangeAntivirusPolicy","parameters":[{"$ref":"#/parameters/XAuthToken"},{"$ref":"#/parameters/ProjectId"},{"$ref":"#/parameters/EnterpriseProjectId"},{"description":"任务详情","in":"body","name":"ChangeAntivirusPolicyRequestBody","required":true,"schema":{"$ref":"#/definitions/ChangeAntivirusPolicyRequestInfo"}}],"produces":["application/json"],"responses":{"200":{"description":"请求已成功"}},"summary":"编辑自定义查杀策略","tags":["病毒查杀"],"x-iam-auth-meta-anno":{"abacAction":"hss:antivirus:changeAntivirusPolicy","abacActionAlias":"hss:ars:set","authContextInitializerName":"HostIdsAuthContextInitializer","authLevel":"INSTANCE_LIST","needAbacResourceCheck":"true","needRbacCheck":"false","rbac":["op_service","te_admin","hss_adm","te_admin+op_restricted","hss_adm+op_restricted"]},"x-is-registered":"Y","x-method-annotations":["@CtsInfo(userOperationType = \"changeAntivirusPolicy\", operationId = \"ChangeAntivirusPolicy\", readOnly = false)"],"x-request-examples-1":{"action":"manual","file_types":[1,2,3,4],"host_ids":["0407b315-4a32-4dca-962e-abfead700ff6"],"ignore_dir":"","policy_id":"eb6cdfe6-daf6-4fef-8b63-9332b47e2885","policy_name":"自定义查杀-20250416174856","scan_dir":"/root","scan_hour":0,"scan_minute":0,"scan_period":"day","start_type":"period","timezone_offset":-480,"whether_paid_task":false},"x-request-examples-description-1":"编辑自定义查杀策略,策略名称为eb6cdfe6-daf6-4fef-8b63-9332b47e2885,文件类型为1234,扫描目录为/root,排除目录为空,处置动作为自动处置,主机列表为0407b315-4a32-4dca-962e-abfead700ff6,启动类型为周期启动按天,启动类型为xx,扫描任务不消耗按次计费配额。","x-support-international":true,"x-support-sdk":"Y","x-surpport-apiexplorer":true}}},"product_short":"HSS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"编辑自定义查杀策略","tags":"病毒查杀","uri":null,"version":"2.0"}