{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CreatePolicyRuleRequest":{"properties":{"action_type":{"description":"授权操作类型。\n\n- putRecords:上传数据。\n- getRecords:下载数据。","enum":["putRecords","getRecords"],"example":"putRecords","type":"string"},"effect":{"description":"授权影响类型。\n\n- accept:允许该授权操作。","enum":["accept"],"example":"accept","type":"string"},"principal_name":{"description":"授权用户。\n\n如果授权给指定租户,格式为:domainName.*;如果授权给租户下的指定子用户,则格式为:domainName.userName;\n\n支持多账号添加,用\",\"隔开,比如:domainName1.userName1,domainName2.userName2;","example":"principalName","type":"string","x-example":"domainName1.userName1"},"stream_id":{"description":"通道唯一标识符。","type":"string"}},"required":["stream_id","principal_name","action_type","effect"],"xml":{"name":"PrincipalRule"}}},"description":null,"group_id":"367dcf62e4d848d7920b0d0fb440978c","host":"dis.cn-north-4.myhuaweicloud.com","id":"d5e9b4f430a04a28a725fbbdb59cb9ca","info_version":"v2","method":"post","name":"CreatePolicies","parameters":{},"paths":{"/v2/{project_id}/streams/{stream_name}/policies":{"post":{"consumes":["application/json"],"description":"本接口用于给指定通道添加权限策略。","operationId":"CreatePolicies","parameters":[{"description":"项目ID。","in":"path","name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"需要添加授权策略的通道名称。","in":"path","maxLength":64,"name":"stream_name","required":true,"type":"string","x-example":"new-stream"},{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"添加权限策略请求体","in":"body","name":"CreatePoliciesRequestBody","required":true,"schema":{"$ref":"#/definitions/CreatePolicyRuleRequest"}}],"produces":["application/json"],"responses":{"200":{"description":"正常返回"}},"summary":"添加权限策略","tags":["通道管理"],"x-request-examples-1":{"action_type":"putRecords","effect":"accept","principal_name":"domainname1","stream_id":"CiFdELMr0401K9GGZlp"},"x-request-examples-2":{"action_type":"putRecords","effect":"accept","principal_name":"domainname1.username1","stream_id":"CiFdELMr0401K9GGZlp"},"x-request-examples-description-1":"给租户添加权限策略","x-request-examples-description-2":"给子用户添加权限策略","x-request-examples-url-1":"POST https://{Endpoint}/v2/{project_id}/streams/{stream_name}/policies","x-request-examples-url-2":"POST https://{Endpoint}/v2/{project_id}/streams/{stream_name}/policies","x-scope":"Commercial","x-source":"SelfDeveloped","x-support-sdk":"N","x-timeout":"60s","x-version":"v2"}}},"product_short":"DIS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"aksk":{"type":"basic"},"petstore_auth":{"authorizationUrl":"http://petstore.swagger.io/oauth/dialog","flow":"implicit","scopes":{"read:pets":"read your pets","write:pets":"modify pets in your account"},"type":"oauth2"},"token":{"in":"header","name":"X-Auth-Token","type":"apiKey"}},"summary":"添加权限策略","tags":"通道管理","uri":null,"version":"2.0"}