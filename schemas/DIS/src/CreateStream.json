{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CSVProperties":{"description":"CSV 格式数据的相关属性,比如分隔符 delimiter","properties":{"delimiter":{"description":"数据分隔符。","example":",","type":"string"}}},"CreateStreamReq":{"properties":{"auto_scale_enabled":{"default":false,"description":"是否开启自动扩缩容。\n\n- true:开启自动扩缩容。\n- false:关闭自动扩缩容。\n\n默认不开启。","type":"boolean"},"auto_scale_max_partition_count":{"description":"当自动扩缩容启用时,自动扩容的最大分片数。","type":"integer"},"auto_scale_min_partition_count":{"description":"当自动扩缩容启用时,自动缩容的最小分片数。","format":"int64","minimum":1,"type":"integer"},"compression_format":{"description":"数据的压缩类型,目前支持:\n\n- snappy\n\n- gzip\n\n- zip\n\n默认不压缩。","enum":["snappy","gzip","zip"],"format":"int32","type":"string"},"csv_properties":{"$ref":"#/definitions/CSVProperties"},"data_duration":{"default":24,"description":"数据保留时长。\n\n取值范围:24~72。\n\n单位:小时。\n\n空表示使用缺省值。","example":24,"format":"int32","type":"integer"},"data_schema":{"description":"用于描述用户JSON、CSV格式的源数据结构,采用Avro Schema的语法描述。","format":"int32","type":"string"},"data_type":{"description":"源数据类型。\n\n- BLOB:存储在数据库管理系统中的一组二进制数据。\n- JSON:一种开放的文件格式,以易读的文字为基础,用来传输由属性值或者序列性的值组成的数据对象。\n- CSV:纯文本形式存储的表格数据,分隔符默认采用逗号。\n\n缺省值:BLOB。","enum":["BLOB","JSON","CSV"],"example":"JSON","type":"string"},"partition_count":{"description":"分区数量。\n\n分区是DIS数据通道的基本吞吐量单位。","example":1,"format":"int32","type":"integer"},"stream_name":{"description":"通道名称。\n\n通道名称由字母、数字、下划线和中划线组成,长度为1~64字符。","example":"new-stream","maxLength":64,"type":"string"},"stream_type":{"description":"通道类型。\n\n- COMMON:普通通道,表示1MB带宽。\n- ADVANCED:高级通道,表示5MB带宽。","enum":["COMMON","ADVANCED"],"example":"COMMON","type":"string"},"sys_tags":{"description":"通道企业项目列表。","items":{"$ref":"#/definitions/SysTag"},"type":"array"},"tags":{"description":"通道标签列表。","items":{"$ref":"#/definitions/Tag"},"type":"array"}},"required":["stream_name","partition_count"],"xml":{"name":"CreateStreamReq"}},"SysTag":{"properties":{"key":{"description":"键。\n\n- 不能为空。\n\n- 值必须为_sys_enterprise_project_id。","enum":["_sys_enterprise_project_id"],"example":"_sys_enterprise_project_id","type":"string"},"value":{"description":"值。\n\n- 对应的是企业项目ID,需要在企业管理页面获取。\n\n- 36位UUID。","example":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx","type":"string"}}},"Tag":{"description":"标签对象。","properties":{"key":{"description":"键。\n\n- 不能为空。\n\n- 对于同一资源键值唯一。\n\n- 字符集:A-Z,a-z , 0-9,‘-’,‘_’,UNICODE字符(\\u4E00-\\u9FFF)。","example":"key1","maxLength":36,"minLength":1,"type":"string"},"value":{"description":"值。\n\n- 长度不超过43个字符。\n\n- 字符集:A-Z,a-z , 0-9,‘.’,‘-’,‘_’,UNICODE字符(\\u4E00-\\u9FFF)。\n\n- 只能包含数字、字母、中划线“-”、下划线“_”。","example":"value1","maxLength":43,"minLength":0,"type":"string"}}}},"description":null,"group_id":"367dcf62e4d848d7920b0d0fb440978c","host":"dis.cn-north-4.myhuaweicloud.com","id":"38feedf54e1040b3891616936e16e514","info_version":"v2","method":"post","name":"CreateStream","parameters":{},"paths":{"/v2/{project_id}/streams":{"post":{"consumes":["application/json"],"description":"本接口用于创建通道。\n\n- 创建通道时,需指定通道类型(普通、高级)、分区数量。\n- 一个账号默认最多可以创建10个高级通道分区和50个普通通道分区,可提交工单增加配额。","operationId":"CreateStream","parameters":[{"description":"项目ID。","in":"path","name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx","x-order":2},{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX...","x-order":1},{"description":"创建通道请求体。","in":"body","name":"CreateStreamRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateStreamReq"},"x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX...","x-order":1}],"produces":["application/json;charset=UTF-8"],"responses":{"201":{"description":"Created"}},"security":[{"aksk":[]}],"summary":"创建通道","tags":["通道管理"],"x-apiexplorer-hide":"false","x-ctc":"N","x-is_calling":"Y","x-order":1,"x-publishpath":"dis_02_0016_01","x-request-examples-1":{"data_duration":24,"partition_count":3,"stream_name":"newstream"},"x-request-examples-description-1":"创建通道","x-request-examples-url-1":"POST https://{Endpoint}/v2/{project_id}/streams","x-scope":"Commercial","x-source":"SelfDeveloped","x-source_url":"{}","x-support-sdk":"Y","x-tenant_flow_time":"5","x-timeout":"60s","x-version":"v2"}}},"product_short":"DIS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"aksk":{"type":"basic"},"petstore_auth":{"authorizationUrl":"http://petstore.swagger.io/oauth/dialog","flow":"implicit","scopes":{"read:pets":"read your pets","write:pets":"modify pets in your account"},"type":"oauth2"},"token":{"in":"header","name":"X-Auth-Token","type":"apiKey"}},"summary":"创建通道","tags":"通道管理","uri":null,"version":"2.0"}