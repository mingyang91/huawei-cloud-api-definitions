{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ListResourceInstancesReq":{"properties":{"action":{"description":"操作标识(仅限于filter,count)\n\n- filter:分页查询\n- count:查询总条数,只需按照条件将总条数返回即可","enum":["filter","count"],"type":"string"},"limit":{"default":1000,"description":"查询记录数(action为count时无此参数)如果action为filter默认为1000,limit最多为1000,不能为负数,最小值为1","type":"string"},"matches":{"description":"搜索字段,key为要匹配的字段,当前仅支持resource_name。value为匹配的值。此字段为固定字典值","type":"string"},"not_tags":{"description":"返回结果不包含该参数中所有标签对应的资源,该参数最多包含10个key,每个key下面的value最多10个, 结构体不能缺失,key不能为空或者空字符串。Key不能重复,同一个key中values不能重复。","items":{"$ref":"#/definitions/Tags"},"type":"array"},"not_tags_any":{"description":"返回结果不包含该参数中任意一个标签对应的资源,该参数最多包含10个key,每个key下面的value最多10个,结构体不能缺失,key不能为空或者空字符串。Key不能重复,同一个key中values不能重复。","items":{"$ref":"#/definitions/Tags"},"type":"array"},"offset":{"description":"索引位置, 从offset指定的下一条数据开始查询。 查询第一页数据时,不需要传入此参数,查询后续页码数据时,将查询前一页数据时响应体中的值带入此参数(action为count时无此参数)如果action为filter默认为0,必须为数字,不能为负数","type":"string"},"tags":{"description":"返回结果包含该参数中所有标签对应的资源,该参数最多包含10个key,每个key下面的value最多10个,结构体不能缺失,key不能为空或者空字符串。","items":{"$ref":"#/definitions/Tags"},"type":"array"},"tags_any":{"description":"返回结果包含该参数中任意一个标签对应的资源,该参数最多包含10个key,每个key下面的value最多10个,结构体不能缺失,key不能为空或者空字符串。Key不能重复,同一个key中values不能重复。","items":{"$ref":"#/definitions/Tags"},"type":"array"}},"required":["action"]},"Tags":{"properties":{"key":{"description":"键。\n\n- 不能为空。\n\n- 对于同一资源键值唯一。\n\n- 字符集:A-Z,a-z , 0-9,‘-’,‘_’,UNICODE字符(\\u4E00-\\u9FFF)。","maxLength":36,"type":"string"},"values":{"description":"标签值列表。\n\n如果values为空列表,则表示any_value。value之间为或的关系。","items":{"type":"string"},"type":"array"}}}},"description":null,"group_id":"367dcf62e4d848d7920b0d0fb440978c","host":"dis.cn-north-4.myhuaweicloud.com","id":"f6ccbf78b2d54f7b826e659e26d915e6","info_version":"v2","method":"post","name":"ListResourcesByTags","parameters":{},"paths":{"/v2/{project_id}/stream/resource_instances/action":{"post":{"consumes":["application/json"],"description":"该接口用于使用标签过滤资源(通道等)。","operationId":"ListResourcesByTags","parameters":[{"description":"项目ID。","in":"path","name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"使用标签过滤资源(通道等)请求体。","in":"body","name":"ListResourcesByTagsRequestBody","required":true,"schema":{"$ref":"#/definitions/ListResourceInstancesReq"}}],"produces":["application/json"],"responses":{"200":{"description":"使用标签过滤资源(通道等)请求体。","examples":{"application/json":{"resources":[{"resource_detail":null,"resource_id":"cdfs_cefs_wesas_12_dsad","resource_name":"resouece1","tags":[{"key":"key1","value":"value1"},{"key":"key2","value":"value1"}]}],"total_count":1000}},"schema":{"$ref":"#/definitions/ListResourceInstancesReq"}}},"summary":"使用标签过滤资源(通道等)","tags":["标签管理"],"x-request-examples-1":{"action":"count","matches":[{"key":"resource_name","value":"resource1"}],"tags":[{"key":"key1","values":["value1","value2"]},{"key":"key2","values":["value1","value2"]}]},"x-request-examples-2":{"action":"filter","limit":"100","matches":[{"key":"resource_name","value":"resource1"}],"offset":"0","tags":[{"key":"key1","values":["*value1","value2"]}]},"x-request-examples-description-1":"使用标签过滤资源(通道等),查询记录总数。","x-request-examples-description-2":"使用标签过滤资源(通道等),分页查询。","x-request-examples-url-1":"POST https://{Endpoint}/v2/{project_id}/stream/resource_instances/action","x-request-examples-url-2":"POST https://{Endpoint}/v2/{project_id}/stream/resource_instances/action","x-scope":"Commercial","x-source":"SelfDeveloped","x-support-sdk":"Y","x-timeout":"60s","x-version":"v2"}}},"product_short":"DIS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"aksk":{"type":"basic"},"petstore_auth":{"authorizationUrl":"http://petstore.swagger.io/oauth/dialog","flow":"implicit","scopes":{"read:pets":"read your pets","write:pets":"modify pets in your account"},"type":"oauth2"},"token":{"in":"header","name":"X-Auth-Token","type":"apiKey"}},"summary":"使用标签过滤资源(通道等)","tags":"标签管理","uri":null,"version":"2.0"}