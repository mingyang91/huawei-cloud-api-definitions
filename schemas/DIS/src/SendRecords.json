{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"PutRecordsRequest":{"properties":{"records":{"description":"待上传的记录列表。","items":{"$ref":"#/definitions/PutRecordsRequestEntry","type":"object"},"type":"array"},"stream_id":{"description":"通道唯一标识符。\n\n当使用stream_name没有找到对应通道且stream_id不为空时,会使用stream_id去查找通道。\n\n说明:\n\n上传数据到被授权的通道时,必须配置此参数。","type":"string"},"stream_name":{"description":"已创建的通道名称。","maxLength":60,"type":"string"}},"required":["stream_name","records"],"type":"object","xml":{"name":"PutRecordsRequest"}},"PutRecordsRequestEntry":{"properties":{"data":{"description":"需要上传的数据。\n\n上传的数据为序列化之后的二进制数据(Base64编码后的字符串)。\n\n比如需要上传字符串“data”,“data”经过Base64编码之后是“ZGF0YQ==”。","example":"ZGF0YQ==","type":"string"},"explicit_hash_key":{"description":"用于明确数据需要写入分区的哈希值,此哈希值将覆盖“partition_key”的哈希值。\n\n取值范围:0~long.max","type":"string"},"partition_id":{"description":"通道的分区标识符。\n可定义为如下两种样式:\n- shardId-0000000000\n- 0\n\n比如一个通道有三个分区,那么分区标识符分别为0, 1, 2,或者shardId-0000000000, shardId-0000000001, shardId-0000000002","example":"shardId-0000000000","type":"string"},"partition_key":{"description":"数据将写入的分区。\n\n说明:\n\n如果传了partition_id参数,则优先使用partition_id参数。如果partition_id没有传,则使用partition_key。","type":"string"}},"required":["data"],"xml":{"name":"PutRecordsRequestEntry"}},"PutRecordsResult":{"properties":{"failed_record_count":{"description":"上传失败的数据数量。","type":"integer"},"records":{"description":"上传结果列表。","items":{"$ref":"#/definitions/PutRecordsResultEntry","type":"object"},"type":"array"}},"type":"object","xml":{"name":"PutRecordsResult"}},"PutRecordsResultEntry":{"properties":{"error_code":{"description":"错误码。","type":"string"},"error_message":{"description":"错误消息。","type":"string"},"partition_id":{"description":"数据上传到的分区ID。","type":"string"},"sequence_number":{"description":"数据上传到的序列号。序列号是每个记录的唯一标识符。序列号由DIS在数据生产者调用PutRecords操作以添加数据到DIS数据通道时DIS服务自动分配的。同一分区键的序列号通常会随时间变化增加。PutRecords请求之间的时间段越长,序列号越大。","type":"string"}},"type":"object","xml":{"name":"PutRecordsResultEntry"}}},"description":null,"group_id":"367dcf62e4d848d7920b0d0fb440978c","host":"dis.cn-north-4.myhuaweicloud.com","id":"ab063035cc894e7fa4972c960491dff4","info_version":"v2","method":"post","name":"SendRecords","parameters":{},"paths":{"/v2/{project_id}/records":{"post":{"consumes":["application/json"],"description":"本接口用于上传数据到DIS通道中。","operationId":"SendRecords","parameters":[{"description":"项目ID。","in":"path","name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx","x-order":2},{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX...","x-order":1},{"description":"SendRecordsRequestBody","in":"body","name":"SendRecordsRequestBody","required":true,"schema":{"$ref":"#/definitions/PutRecordsRequest"}}],"produces":["application/json;charset=UTF-8"],"responses":{"200":{"description":"正常返回","schema":{"$ref":"#/definitions/PutRecordsResult"}}},"security":[{"aksk":[]}],"summary":"上传数据","tags":["数据管理"],"x-publishpath":"dis_02_0018","x-request-examples-1":{"records":[{"data":"MTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTE="}],"stream_name":"newstream"},"x-request-examples-description-1":"上传数据","x-request-examples-url-1":"POST https://{Endpoint}/v2/{project_id}/records","x-scope":"Commercial","x-source":"SelfDeveloped","x-support-sdk":"Y","x-timeout":"60s","x-version":"v2"}}},"product_short":"DIS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"aksk":{"type":"basic"},"petstore_auth":{"authorizationUrl":"http://petstore.swagger.io/oauth/dialog","flow":"implicit","scopes":{"read:pets":"read your pets","write:pets":"modify pets in your account"},"type":"oauth2"},"token":{"in":"header","name":"X-Auth-Token","type":"apiKey"}},"summary":"上传数据","tags":"数据管理","uri":null,"version":"2.0"}