{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"Error":{"description":"提交任务异常时返回的异常信息","properties":{"code":{"description":"任务异常错误信息编码","maxLength":10,"minLength":0,"type":"string"},"message":{"description":"任务异常错误信息描述","maxLength":1024,"minLength":0,"type":"string"}}},"PortList":{"description":"服务开放的端口映射列表","properties":{"client_port":{"description":"终端节点访问的端口。\n终端节点提供给用户,作为访问终端节点服务的端口,范围1-65535。","maximum":65535,"minimum":1,"type":"integer","x-maxLength":65535,"x-minLength":1},"protocol":{"default":"TCP","description":"端口映射协议,支持TCP。","enum":["TCP"],"type":"string"},"server_port":{"description":"终端节点服务的端口。\n终端节点服务绑定了后端资源,作为提供服务的端口,范围1-65535。","maximum":65535,"minimum":1,"type":"integer","x-maxLength":65535,"x-minLength":1}}},"ServiceList":{"properties":{"approval_enabled":{"description":"是否需要审批。\n - false:不需要审批,创建的终端节点连接直接为accepted状态。\n - true:需要审批,创建的终端节点连接为pendingAcceptance状态,\n需要终端节点服务所属用户审核后方可使用。","type":"boolean"},"connection_count":{"description":"终端节点服务下连接的状态为“创建中”或“已接受”的终端节点的个数。","format":"int32","minimum":0,"type":"integer"},"created_at":{"description":"终端节点服务的创建时间。\n采用UTC时间格式,格式为:YYYY-MM-DDTHH:MM:SSZ","format":"date-time","type":"string"},"description":{"description":"描述字段,支持中英文字母、数字等字符,不支持“<”或“>”字符。","maxLength":512,"minLength":0,"type":"string"},"domain_id":{"description":"Domain ID","maxLength":64,"minLength":1,"type":"string"},"enable_policy":{"description":"是否允许自定义终端节点策略。\n - false:不支持设置终端节点策略\n - true:支持设置终端节点策略\n默认为false","type":"boolean"},"error":{"description":"提交任务异常时返回的异常信息","items":{"$ref":"#/definitions/Error"},"type":"array"},"id":{"description":"终端节点服务的ID,唯一标识。","maxLength":64,"minLength":1,"type":"string"},"ip":{"description":"接口型VLAN场景服务端IPv4地址或域名","type":"string"},"port_id":{"description":"标识终端节点服务后端资源的ID,\n格式为通用唯一识别码(Universally Unique Identifier,下文简称UUID)。取值为:\n - LB类型:负载均衡器内网IP对应的端口ID。\n - VM类型:弹性云服务器IP地址对应的网卡ID。\n - VIP类型:虚拟资源所在物理服务器对应的网卡ID。(该字段已废弃,请优先使用LB类型)","type":"string"},"ports":{"description":"服务开放的端口映射列表\n同一个终端节点服务下,不允许重复的端口映射。\n若多个终端节点服务共用一个port_id,\n则终端节点服务之间的所有端口映射的server_port和protocol的组合不能重复。","items":{"$ref":"#/definitions/PortList"},"type":"array"},"project_id":{"description":"项目ID,获取方法请参见获取项目ID。","maxLength":64,"minLength":1,"type":"string"},"public_border_group":{"description":"终端节点服务对应Pool的Public Border Group信息","type":"string"},"server_type":{"description":"资源类型。\n - VM:云服务器。\n - VIP:虚拟IP。\n - LB:增强负载均衡型。","type":"string"},"service_name":{"description":"终端节点服务的名称。","pattern":"^[a-zA-Z0-9_-]{1,16}$","type":"string","x-maxLength":16,"x-minLength":0},"service_type":{"description":"终端节点服务类型。\n终端节点服务类型包括“网关(gateway)型”和“接口(interface)型”:\n - gateway:由运维人员配置。用户无需创建,可直接使用。\n - interface:包括运维人员配置的云服务和用户自己创建的私有服务。\n其中,运维人员配置的云服务无需创建,用户可直接使用。\n您可以通过创建终端节点创建访问Gateway和Interface类型终端节点服务的终端节点。","type":"string"},"status":{"description":"终端节点服务的状态。\n - creating:创建中\n - available:可连接\n - failed:失败\n - deleting:删除中","type":"string"},"tags":{"description":"资源标签列表","items":{"$ref":"#/definitions/TagList"},"type":"array"},"tcp_proxy":{"description":"用于控制将哪些信息(如客户端的源IP、源端口、marker_id等)携带到服务端。\n支持携带的客户端信息包括如下两种类型:\n - TCP TOA:表示将客户端信息插入到tcp option字段中携带至服务端。\n说明:仅当后端资源为OBS时,支持TCP TOA类型信息携带方式。\n - Proxy Protocol:表示将客户端信息插入到tcp payload字段中携带至服务端。\n仅当服务端支持解析上述字段时,该参数设置才有效。\n该参数的取值包括:\n - close:表示关闭代理协议。\n - toa_open:表示开启代理协议“tcp_toa”。\n - proxy_open:表示开启代理协议“proxy_protocol”。\n - open:表示同时开启代理协议“tcp_toa”和“proxy_protocol”。\n默认值为“close”。","type":"string"},"updated_at":{"description":"终端节点服务的更新时间。\n采用UTC时间格式,格式为:YYYY-MM-DDTHH:MM:SSZ","format":"date-time","type":"string"},"vpc_id":{"description":"终端节点服务对应后端资源所在的VPC的ID。","maxLength":64,"minLength":1,"type":"string"}},"type":"object"},"ServiceListResponseBody":{"description":"查询终端节点服务列表接口响应结构体","properties":{"endpoint_services":{"description":"终端节点服务列表","items":{"$ref":"#/definitions/ServiceList"},"type":"array"},"total_count":{"description":"满足查询条件的终端节点服务总条数,不受分页(即limit、offset参数)影响。","type":"integer"}}},"TagList":{"description":"标签列表,没有标签默认为空数组。","properties":{"key":{"description":"键。\nkey不能为空,长度1~128个字符(中文也可以输入128个字符)。 \n可用 UTF-8 格式表示的字母(包含中文、西班牙语、葡语等)、数字和空格,以及以下字符: _ . : = + - @。\n_sys_开头属于系统标签,租户不能输入。\nkey两头不能有空格字符。","maxLength":128,"minLength":1,"type":"string"},"value":{"description":"值。\n长度0~255个字符(中文也可以输入255个字符)。 \n可用 UTF-8 格式表示的字母(包含中文、西班牙语、葡语等)、数字和空格,以及以下字符: _ . : / = + - @。\n资源标签值可以为空字符串。","maxLength":255,"type":"string"}}}},"description":null,"group_id":"2e385073206049fd822df2ef2e7c7ce9","host":"vpcep.cn-north-4.myhuaweicloud.com","id":"293a9e2e092b4d8e8af62b87d1819763","info_version":"v1","method":"get","name":"ListEndpointService","parameters":{},"paths":{"/v1/{project_id}/vpc-endpoint-services":{"get":{"description":"查询当前用户下的终端节点服务的列表。","operationId":"ListEndpointService","parameters":[{"description":"用户Token。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":1},{"default":"application/json","description":"发送的实体的MIME类型。推荐用户默认使用application/json, 如果API是对象、镜像上传等接口,媒体类型可按照流类型的不同进行确定。","in":"header","name":"Content-Type","required":false,"type":"string","x-order":2},{"description":"项目ID","in":"path","maxLength":64,"minLength":1,"name":"project_id","required":true,"type":"string","x-order":3},{"description":"终端节点服务的名称,支持大小写,前后模糊匹配。","in":"query","maxLength":128,"minLength":1,"name":"endpoint_service_name","required":false,"type":"string","x-order":4},{"description":"终端节点服务的ID,唯一标识。","in":"query","name":"id","required":false,"type":"string","x-order":5},{"description":"终端节点服务的状态。\n - creating:创建中\n - available:可连接\n - failed:失败\n - deleting:删除中","enum":["creating","available","failed","deleting"],"in":"query","name":"status","required":false,"type":"string","x-order":6},{"default":"create_at","description":"查询结果中终端节点服务列表的排序字段,取值为:\n - create_at:终端节点服务的创建时间\n - update_at:终端节点服务的更新时间\n默认值为create_at。","enum":["create_at","update_at"],"in":"query","name":"sort_key","required":false,"type":"string","x-order":7},{"default":"desc","description":"查询结果中终端节点服务列表的排序方式,取值为:\n - desc:降序排序\n - asc:升序排序\n默认值为desc。","enum":["asc","desc"],"in":"query","name":"sort_dir","required":false,"type":"string","x-order":8},{"default":10,"description":"查询返回的终端节点服务数量限制,即每页返回的终端节点服务的个数。\n取值范围:0~1000,取值一般为10,20或者50,默认为10。","in":"query","maximum":1000,"minimum":1,"name":"limit","required":false,"type":"integer","x-order":9},{"description":"偏移量。\n偏移量为一个大于0小于终端节点服务总个数的整数,\n表示从偏移量后面的终端节点服务开始查询。","exclusiveMaximum":true,"in":"query","minimum":0,"name":"offset","required":false,"type":"integer","x-order":10},{"description":"筛选结果中匹配边缘属性的EPS","in":"query","name":"public_border_group","required":false,"type":"string"},{"description":"后端类型","enum":["vlan","vxlan","all"],"in":"query","maxLength":5,"minLength":1,"name":"net_type","required":false,"type":"string"}],"responses":{"200":{"description":"服务器已成功处理了请求","examples":{"application/json":{"endpoint_services":[{"approval_enabled":false,"created_at":"2022-04-14T09:35:47Z","id":"4189d3c2-8882-4871-a3c2-d380272eed83","port_id":"4189d3c2-8882-4871-a3c2-d380272eed88","ports":[{"client_port":"8080","protocol":"TCP","server_port":"80"},{"client_port":"8081","protocol":"TCP","server_port":"80"}],"project_id":"6e9dfd51d1124e8d8498dce894923a0d","public_border_group":"br-abc-aaa1","server_type":"VM","service_name":"test123","service_type":"interface","status":"available","updated_at":"2022-04-14T09:36:47Z","vpc_id":"4189d3c2-8882-4871-a3c2-d380272eed80"}],"total_count":1}},"schema":{"$ref":"#/definitions/ServiceListResponseBody"}}},"summary":"查询终端节点服务列表","tags":["终端节点服务功能"],"x-first-open-time":"2018-06-01","x-flow-control-group":"vpcep","x-hybridcloud":"false","x-in-cli":"","x-is-calling":"Y","x-is-registered":"Y","x-multi-tenant-flow-time":"1","x-multi-tenant-flow-value":"200","x-name":"查询终端节点服务列表","x-order":1,"x-request-examples-description-1":"查询终端节点服务列表","x-request-examples-url-1":"GET https://{endpoint}/v1/{project_id}/vpc-endpoint-services?endpoint_service_name={endpoint_service_name}&id={id}&sort_key={sort_key}&sort_dir={sort_dir}&limit={limit}&offset={offset}&status={status}","x-scope":"Commercial","x-source":"SelfDeveloped","x-support-sdk":"Y","x-tenant-flow-time":"1","x-tenant-flow-value":"50","x-timeout":"30s","x-un-cli":"","x-version":""}}},"product_short":"VPCEP","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"JWTAuthorization":{"description":"APIG网关的JWT鉴权参数","in":"header","name":"Authorization","type":"apiKey"}},"summary":"查询终端节点服务列表","tags":"终端节点服务功能","uri":null,"version":"2.0"}