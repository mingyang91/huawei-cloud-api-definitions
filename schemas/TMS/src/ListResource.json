{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CreateTagRequest":{"description":"标签详情。","properties":{"key":{"description":"键。\n最大长度36个字符。 字符集:A-Z,a-z , 0-9,‘-’,‘_’,UNICODE字符(\\u4E00-\\u9FFF)。","type":"string"},"value":{"description":"值。\n每个值最大长度43个字符,可以为空字符串。 字符集:A-Z,a-z , 0-9,‘.’,‘-’,‘_’,UNICODE字符(\\u4E00-\\u9FFF)。","type":"string"}},"required":["key","value"]},"Errors":{"description":"错误列表","properties":{"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误描述","type":"string"},"project_id":{"description":"ProjectID","type":"string"},"resource_type":{"description":"资源类型","type":"string"}}},"Resources":{"description":"资源列表","properties":{"project_id":{"description":"ProjectID","type":"string"},"project_name":{"description":"Project名称","type":"string"},"resource_detail":{"description":"资源详情","type":"object"},"resource_id":{"description":"资源ID","type":"string"},"resource_name":{"description":"资源名称","type":"string"},"resource_type":{"description":"资源类型","type":"string"},"tags":{"description":"标签列表","items":{"$ref":"#/definitions/CreateTagRequest"},"type":"array"}},"required":["project_id","project_name","resource_id","resource_name","resource_type"]},"RespError":{"description":"错误码信息","properties":{"error":{"$ref":"#/definitions/RespErrorMessage","description":"响应错误信息"}},"required":["error"]},"RespErrorMessage":{"description":"响应错误信息","properties":{"error_code":{"description":"请求错误码","type":"string"},"error_msg":{"description":"错误信息","type":"string"}},"required":["error_code","error_msg"]},"RespTagResourceList":{"description":"标签下的资源","properties":{"errors":{"description":"查询标签下的资源","items":{"$ref":"#/definitions/Errors"},"type":"array"},"resources":{"description":"资源列表","items":{"$ref":"#/definitions/Resources"},"type":"array"},"total_count":{"description":"标签下的资源总数","format":"int32","type":"integer"}},"required":["errors","resources","total_count"]},"ResqTagResource":{"description":"获取标签下资源请求","properties":{"limit":{"description":"查询记录数,不传默认为200,limit最多为200, 最小值为1。","format":"int32","type":"integer","x-huawei-extraAnnotation":""},"offset":{"description":"索引位置, 从offset指定的下一条数据开始查询,必须为数字,不能为负数,默认为0。","format":"int32","type":"integer","x-huawei-extraAnnotation":""},"project_id":{"description":"项目ID,resource_type为region级别服务时为必选项。","type":"string"},"resource_types":{"description":"资源类型, 此参数为可输入的值(区分大小写)。例如:ecs,scaling_group, images, disk,vpcs,security-groups, shared_bandwidth,eip, cdn等,具体请参见“附录-标签支持的资源类型”章节。","items":{"type":"string"},"maxLength":10,"minLength":1,"type":"array"},"tags":{"description":"标签列表","items":{"$ref":"#/definitions/Tag"},"maxLength":10,"minLength":0,"type":"array"},"without_any_tag":{"description":"是否仅查询未带标签的资源。该字段为true时查询不带标签的资源。","type":"boolean"}},"required":["resource_types","tags"]},"Tag":{"description":"标签列表。","properties":{"key":{"description":"键。\n最大长度36个字符。 字符集:A-Z,a-z , 0-9,‘-’,‘_’,UNICODE字符(\\u4E00-\\u9FFF)。","type":"string"},"values":{"description":"值列表。\n每个值最大长度43个字符,可以为空字符串。 字符集:A-Z,a-z , 0-9,‘.’,‘-’,‘_’,UNICODE字符(\\u4E00-\\u9FFF)。","items":{"type":"string"},"type":"array"}},"required":["key","values"]}},"description":null,"group_id":"afde92006259424da85b8c20e02b2f85","host":"tms.myhuaweicloud.com","id":"e6801e8c18a84e06bcecd267e8d8cd6f","info_version":"v1","method":"post","name":"ListResource","parameters":{},"paths":{"/v1.0/resource-instances/filter":{"post":{"description":"根据标签过滤资源。","operationId":"ListResource","parameters":[{"description":"用户Token。说明:由于TMS是全局服务,因此调用IAM服务获取用户Token接口时需要注意作用域即scope字段应该设置为domain。响应消息头中X-Subject-Token的值即为用户Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-admin":"","x-internal":"","x-order":1},{"description":"获取标签下的资源","in":"body","name":"ListResourceRequestBody","required":true,"schema":{"$ref":"#/definitions/ResqTagResource"},"x-order":3}],"responses":{"200":{"description":"OK","examples":{"application/json":{"errors":[{"error_code":"TMS.0002","error_msg":"Bad request","project_id":"e1eb7c40cbea4c8389cde527594a306d","resource_type":"disk"}],"resources":[{"project_id":"e1eb7c40cbea4c8389cde527594a306d","project_name":"XXXX","resource_id":"b621f5ae-b5c1-49d7-a660-752c445434b4","resource_name":"lhj1-volume-0001","resource_type":"disk","tags":[{"key":"ENV","value":"dev"}]},{"project_id":"e1eb7c40cbea4c8389cde527594a306d","project_name":"XXXX","resource_id":"87c9edc9-f66c-48b8-a22f-372b2e22d579","resource_name":"lhj2-volume-0002","resource_type":"disk","tags":[{"key":"prod","value":"disk"}]}],"total_count":2}},"schema":{"$ref":"#/definitions/RespTagResourceList"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/RespError"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/RespError"}},"402":{"description":"Payment Required","schema":{"$ref":"#/definitions/RespError"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/RespError"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/RespError"}},"405":{"description":"Method Not Allowed","schema":{"$ref":"#/definitions/RespError"}},"406":{"description":"Not Acceptable","schema":{"$ref":"#/definitions/RespError"}},"407":{"description":"Proxy Authentication Required","schema":{"$ref":"#/definitions/RespError"}},"408":{"description":"Request Timeout","schema":{"$ref":"#/definitions/RespError"}},"409":{"description":"Conflict","schema":{"$ref":"#/definitions/RespError"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/RespError"}},"501":{"description":"Not Implemented","schema":{"$ref":"#/definitions/RespError"}},"502":{"description":"Bad Gateway","schema":{"$ref":"#/definitions/RespError"}},"503":{"description":"Service Unavailable","schema":{"$ref":"#/definitions/RespError"}},"504":{"description":"Gateway Timeout","schema":{"$ref":"#/definitions/RespError"}}},"schemes":["https"],"summary":"根据标签过滤资源","tags":["资源标签"],"x-apiexplorer-hide":"","x-constraint":"","x-first-open-time":"2018-06-30","x-hybridcloud":"false","x-is-registered":"Y","x-name":"根据标签过滤资源","x-order":9,"x-publishpath":"","x-request-examples-1":{"limit":10,"offset":0,"project_id":"2345d321da864d6faf2e762647e19f96","resource_types":["disk","ecs"],"tags":[{"key":"env","values":["dev","prod"]},{"key":"test","values":["test"]}]},"x-request-examples-description-1":"根据标签过滤资源。","x-request-examples-text-1":{"limit":10,"offset":0,"project_id":"e1eb7c40cbea4c8389cde527594a306d","resource_types":["disk","ecs"],"tags":[{"key":"env","values":["dev","prod"]},{"key":"test","values":["test"]}]},"x-request-examples-url-1":"POST https://v1.0/resource-instances/filter","x-scope":"Commercial","x-source":"SelfDeveloped","x-support-sdk":"Y"}}},"product_short":"TMS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"根据标签过滤资源","tags":"资源标签","uri":null,"version":"2.0"}