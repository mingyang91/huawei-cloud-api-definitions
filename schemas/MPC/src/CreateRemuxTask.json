{"base_path":"/","components":null,"consumes":"[\"application/json\",\"application/json; charset=UTF-8\"]","definitions":{"CommonCreateTaskReq":{"properties":{"input":{"$ref":"#/definitions/ObsObjInfo","description":"源文件信息。"},"output":{"$ref":"#/definitions/ObsObjInfo","description":"输出文件信息。"},"user_data":{"description":"用户自定义数据。","maxLength":65535,"minLength":0,"type":"string"}},"type":"object","x-modifier-memo":"add","x-since":"1.0.0"},"CommonCreateTaskRsp":{"properties":{"task_id":{"description":"任务ID","maxLength":16,"minLength":0,"type":"string"}},"type":"object"},"CreateRemuxTaskReq":{"allOf":[{"$ref":"#/definitions/CommonCreateTaskReq"},{"properties":{"output_param":{"$ref":"#/definitions/RemuxOutputParam","description":"输出参数。"}},"type":"object"}],"x-modifier-memo":"add","x-since":"1.0.0"},"ErrorResponse":{"properties":{"error_code":{"description":"错误码。","maxLength":16,"minLength":0,"type":"string"},"error_msg":{"description":"错误描述。","maxLength":256,"minLength":0,"type":"string"}},"type":"object"},"ObsObjInfo":{"properties":{"bucket":{"description":"OBS的bucket名称。","maxLength":64,"minLength":0,"type":"string"},"file_name":{"description":"文件名,仅用于转封装指定输出名称。\n\n- 当指定了此参数时,输出的对象名为object/file_name 。\n- 当不指定此参数时,输出的对象名为object/xxx,其中xxx由MPC指定。","maxLength":2147483647,"minLength":0,"type":"string"},"location":{"description":"OBS桶所在的区域,且必须与使用的MPC区域保持一致。","maxLength":64,"minLength":0,"type":"string"},"object":{"description":"OBS对象路径,遵守OSS Object定义。\n\n- 当用于指示input时,需要指定到具体对象。\n- 当用于指示output时, 只需指定到转码结果期望存放的路径。","maxLength":2147483647,"minLength":0,"type":"string"}},"required":["bucket","location","object"],"type":"object","x-modifier-memo":"add","x-since":"1.0.0"},"RemuxOutputParam":{"properties":{"format":{"default":"MP4","description":"输出格式。取值范围:\n- HLS\n- MP4","maxLength":16,"minLength":0,"type":"string"},"remove_meta":{"default":false,"description":"输出媒体是否去除片源的中metadata自定义信息。默认值:false","type":"boolean"},"segment_duration":{"default":5,"description":"分片时长,仅当“format”为“HLS”时有效。\n\n取值范围:[2,10]。\n\n默认值: 5。\n\n单位:秒。","format":"int32","maximum":20,"minimum":0,"type":"integer"}},"type":"object","x-modifier-memo":"add","x-since":"1.0.0"}},"description":null,"group_id":"d6d1df67040449a19b5f12e3ad9ad999","host":"mpc.cn-north-4.myhuaweicloud.com","id":"58615c1d793c423da1c2eb365071dd83","info_version":"v1","method":"post","name":"CreateRemuxTask","parameters":{"authorization":{"description":"使用AK/SK方式认证时必选,携带的鉴权信息。","in":"header","maxLength":256,"minLength":1,"name":"Authorization","required":false,"type":"string","x-example":"SDK-HMAC-SHA256 Access=xxx, SignedHeaders=content-type;host;x-sdk-date, Signature=xxx"},"xAuthToken":{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":16384,"minLength":0,"name":"X-Auth-Token","required":false,"type":"string"},"xProjectId":{"description":"使用AK/SK方式认证时必选,携带项目ID信息, 与路径参数中的项目ID相同。","in":"header","maxLength":64,"minLength":1,"name":"X-Project_Id","required":false,"type":"string"},"xSdkDate":{"description":"使用AK/SK方式认证时必选,请求的发生时间。","in":"header","maxLength":256,"minLength":1,"name":"X-Sdk-Date","required":false,"type":"string","x-example":"20191115T033655Z"}},"paths":{"/v1/{project_id}/remux":{"post":{"description":"创建转封装任务,转换音视频文件的格式,但不改变其分辨率和码率。\n待转封装的媒资文件需要存储在与媒体处理服务同区域的OBS桶中,且该OBS桶已授权。","operationId":"CreateRemuxTask","parameters":[{"$ref":"#/parameters/xAuthToken"},{"$ref":"#/parameters/authorization"},{"$ref":"#/parameters/xProjectId"},{"$ref":"#/parameters/xSdkDate"},{"description":"项目ID,获取方法请参考[获取项目ID](mpc_04_0064.xml)","in":"path","maxLength":64,"minLength":0,"name":"project_id","required":true,"type":"string"},{"description":"创建转封装请求体","in":"body","name":"CreateRemuxTaskRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateRemuxTaskReq"}}],"responses":{"200":{"description":"新建转封装任务成功。","examples":{"application/json":{"task_id":100211}},"schema":{"$ref":"#/definitions/CommonCreateTaskRsp"}},"400":{"description":"新建转封装任务失败。","examples":{"application/json":{"error_code":"MPC.10202","error_msg":"Invalid request parameter."}},"schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"新建转封装任务","tags":["RemuxTaskManager"],"x-apiexplorer-hide":"N","x-external-api":true,"x-is-registered":"Y","x-navigation-title":"转封装接口","x-open-region-cloud":"hc,hk,g42","x-publishpath":"mpc_04_0053","x-request-examples-1":"POST https://{endpoint}/v1/{project_id}/remux\n{\n    \"input\": {\n               \"bucket\": \"zitest\",\n               \"location\": \"region1\",\n               \"object\": \"input/flv_1.flv\"\n    },\n    \"output\": {\n               \"bucket\": \"zitest\",\n               \"location\": \"region1\",\n               \"object\": \"output/\",\n               \"file_name\" : \"test.m3u8\"\n    },\n    \"output_param\": {\n        \"format\":\"HLS\",\n        \"segment_duration\": 7\n    }\n}\n","x-response-example":"{\n  \"task_id\": 100211\n}\n","x-support-sdk":"Y"}}},"product_short":"MPC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"新建转封装任务","tags":"转封装接口","uri":null,"version":"2.0"}