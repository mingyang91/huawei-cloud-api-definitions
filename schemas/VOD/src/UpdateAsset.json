{"base_path":"/","components":null,"consumes":"[\"application/json\",\"application/json; charset=UTF-8\"]","definitions":{"ErrorResponse":{"properties":{"error_code":{"description":"错误码。\n","type":"string"},"error_msg":{"description":"错误描述。\n","type":"string"}},"type":"object"},"Subtitle":{"properties":{"description":{"description":"字幕描述。","type":"string"},"id":{"description":"字幕id。\n\n取值范围:[1,8]。","type":"integer"},"language":{"description":"字幕语言类型。\n\n取值如下:\n- CN:表示中文字幕。\n- EN:表示英文字幕。","enum":["CN","EN"],"type":"string"},"md5":{"description":"字幕文件的MD5值。","type":"string"},"name":{"description":"subtitle name","type":"string"},"type":{"description":"字幕文件类型,目前暂只支持“SRT”。","enum":["SRT"],"type":"string"}},"required":["id","type","language"]},"UploadAssetReq":{"properties":{"asset_id":{"description":"媒资ID。","type":"string"},"cover_id":{"description":"封面ID。\n\n取值范围:[0,7]。\n\n当前只支持一张封面,只能设置为0。","type":"integer"},"cover_md5":{"description":"封面文件的MD5值。","type":"string"},"cover_type":{"description":"封面图片格式类型。\n\n取值如下:\n- JPG\n- PNG","enum":["JPG","PNG"],"type":"string"},"subtitles":{"description":"字幕文件信息","items":{"$ref":"#/definitions/Subtitle"},"type":"array"},"video_md5":{"description":"视频文件MD5值。\n\n建议参考[媒资上传和更新](https://support.huaweicloud.com/api-vod/vod_04_0212.html)生成对应的MD5值。","type":"string"},"video_name":{"description":"视频文件名。\n\n文件名后缀为可选。","type":"string"},"video_type":{"description":"视频文件类型。\n取值为MP4、TS、MOV、MXF、MPG、FLV、WMV、AVI、M4V、F4V、MPEG、3GP、ASF、MKV","enum":["MP4","TS","MOV","MXF","MPG","FLV","WMV","HLS","MP3","WMA","APE","FLAC","AAC","AC3","MMF","AMR","M4A","M4R","OGG","WAV","WV","MP2","AVI","F4V","M4V","MPEG","UNKNOW"],"type":"string"}},"required":["asset_id"]},"UploadAssetRsp":{"properties":{"asset_id":{"description":"媒资ID。","type":"string"},"cover_upload_url":{"description":"封面上传地址,用于上传封面文件。\n\n>\n您可以使用PUT请求向“**cover_upload_url**”中上传封面图片。其中,“**Content-Type**”需要根据上传的封面文件类型进行设置,如下所示:图片文件:image/图片格式,如:“image/png”。","type":"string"},"subtitle_upload_urls":{"description":"字幕上传地址,用于上传字幕。\n\n>\n您可以使用PUT请求向“**subtitle_upload_urls**”中上传字幕文件。其中,“**Content-Type**”需要根据上传的字幕文件类型进行设置,如下所示:字幕文件:application/octet-stream。","items":{"type":"string"},"type":"array"},"video_upload_url":{"description":"视频上传地址。\n\n用于客户端上传不超过20MB的小视频文件(<=20MB)。该URL中携带了临时授权信息,当文件大于20MB时,需要采用分段方式上传。\n\n>\n您可以使用PUT请求向“**video_upload_url**”中上传视频文件。其中,“**Content-Type**”需要根据上传的视频文件类型进行设置,如下所示:视频文件:video/视频格式,如:“video/mp4”。","type":"string"}}}},"description":null,"group_id":"910d42c390184883b1dac70100139fe5","host":"vod.cn-north-4.myhuaweicloud.com","id":"9245f8f1311e46f3ab12c9c6818980de","info_version":"v1","method":"put","name":"UpdateAsset","parameters":{"xAuthToken":{"description":"用户Token,使用Token鉴权方式时必选。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。\n","in":"header","maxLength":16384,"minLength":0,"name":"X-Auth-Token","required":false,"type":"string"},"xSdkDate":{"description":"使用AK/SK方式认证时必选,请求的发生时间。\n","in":"header","maxLength":256,"minLength":1,"name":"X-Sdk-Date","required":false,"type":"string","x-example":"20191115T033655Z"}},"paths":{"/v1.0/{project_id}/asset":{"put":{"description":"媒资创建后,单独上传封面、更新视频文件或更新已有封面。\n\n如果是更新视频文件,更新完后要通过[确认媒资上传](https://support.huaweicloud.com/api-vod/vod_04_0198.html)接口通知点播服务。\n\n如果是更新封面或单独上传封面,则不需通知。\n\n更新视频可以使用分段上传,具体方式可以参考[示例2:媒资分段上传(20M以上)](https://support.huaweicloud.com/api-vod/vod_04_0216.html)。","operationId":"UpdateAsset","parameters":[{"$ref":"#/parameters/xAuthToken"},{"$ref":"#/parameters/xSdkDate"},{"description":"项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/usermanual-vod/vod_01_0058.html)","in":"path","maxLength":64,"minLength":1,"name":"project_id","required":true,"type":"string","x-example":"70b76xxxxxx34253880af501cdxxxxxx"},{"description":"更新媒资文件或封面","in":"body","name":"UploadAssetReq","required":true,"schema":{"$ref":"#/definitions/UploadAssetReq"}}],"responses":{"200":{"description":"处理成功返回。","examples":{"application/json":{"asset_id":"f488337c31c8e4622f1590735b134c65","cover_upload_url":"https://obs.cn-north-4.myhuaweicloud.com:443/obs-vod-1/%7Bproject_id%7D/f488337c31c8e4622f1590735b134c65/cover/Cover0.jpg?AWSAccessKeyId=CBN2JOVSQVVUREU0RCSN&Expires=1518148410&Signature=DVwzU6ejlKlSdAbwFXaSy67JpuA%3D","subtitle_upload_urls":["https://obs-vod-1.obs.cn-north-4.myhuaweicloud.com:443/14ce1d4437164aba8b364ce15866154e/53a018d2dc53ca07eb5a07a839205c9d/subtitle/1.srt?AWSAccessKeyId=CBN2JOVSQVVUREU0RCSN&amp;Expires=1534760131&amp;Signature=twZPabMSf%2FO%2B2H3mpo3Gsqk1uIo%3D"]}},"schema":{"$ref":"#/definitions/UploadAssetRsp"}},"403":{"description":"处理失败返回。","examples":{"application/json":{"error_code":"VOD.10062","error_msg":"Media asset or resource does not exist, please check."}},"schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"视频更新","tags":["媒资处理"],"x-apiexplorer-hide":"N","x-external-api":true,"x-is-registered":"Y","x-publishpath":"vod_04_0207","x-request-examples-1":{"asset_id":"f488337c31c8e4622f1590735b134c65","cover_id":"0","cover_type":"JPG","subtitles":[{"description":"AAAAA","id":1,"language":"CN","md5":"SqcyFjJZoDZaP8oKIY6rgQ==","type":"SRT"}]},"x-request-examples-text-1":{"asset_id":"f488337c31c8e4622f1590735b134c65","cover_id":"0","cover_type":"JPG","subtitles":[{"description":"AAAAA","id":1,"language":"CN","md5":"SqcyFjJZoDZaP8oKIY6rgQ==","type":"SRT"}]},"x-request-examples-url-1":"PUT https://{endpoint}/v1.0/{project_id}/asset","x-support-sdk":"Y"}}},"product_short":"VOD","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"视频更新","tags":"媒资处理","uri":null,"version":"2.0"}