{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ExceptionResponses":{"description":"异常对象","properties":{"errCode":{"description":"业务错误码","example":"DBS.280001","type":"string"},"externalMessage":{"description":"错误信息","example":"Parameter error.","type":"string"}},"required":["errCode","externalMessage"],"type":"object"},"UpdateInstanceParametersResponse":{"properties":{"configId":{"description":"参数组id。","example":"47b059b2-df84-48b8-a281-ce7bf766a1eb","type":"string"},"configName":{"description":"参数组名称。","example":"Default","type":"string"},"jobId":{"description":"任务id。","example":"47b059b2-df84-48b8-a281-ce7bf766a1eb","type":"string"},"needRestart":{"description":"是否需要重启实例。","example":"false","type":"boolean"},"nodeList":{"description":"节点列表。","example":"xxxxx","type":"string"}}},"UpdateParametersReq":{"properties":{"values":{"description":"需要修改的DDM实例参数的集合。","properties":{"bind_table":{"description":"用于描述多个拆分表的内在数据关联性,用于告知优化器在处理join时,把join下推到MySQL层执行。格式为:[{tb.col1,tb2.col2},{tb.col2,tb3.col1},...]。","example":"[{tb.col1,tb2.col2},{tb.col2,tb3.col1}]","type":"string"},"character_set_server":{"description":"DDM服务端字符集,如果需要存储emoji表情符号,请选择utf8mb4,并设置RDS字符集也为utf8mb4。修改DDM服务端字符集时,DDM服务端字符序必须同步修改为对应类型的值。","enum":["gbk","utf8","utf8mb4"],"type":"string"},"collation_server":{"description":"DDM服务端字符序。修改DDM服务端字符序时,DDM服务端字符集必须同步修改为对应类型的值。","enum":["utf8_unicode_ci","utf8_bin","gbk_chinese_ci","gbk_bin","utf8mb4_unicode_ci","utf8mb4_bin"],"type":"string"},"concurrent_execution_level":{"description":"逻辑表扫描时的分片并发执行级别: DATA_NODE: 分库间并行扫描,同一分库内各分片串行扫描;RDS_INSTANCE: RDS实例间并行扫描,同一RDS实例内各分片串行扫描;PHY_TABLE: 各物理分片全部并行扫描。","enum":["RDS_INSTANCE","DATA_NODE","PHY_TABLE"],"type":"string"},"connection_idle_timeout":{"description":"服务器关闭连接之前等待连接活动的秒数,以秒为单位,取值范围为60-28800,默认值28800,表示服务器关闭连接之前等待28800秒后,关闭连接。","example":"28800","type":"string"},"enable_table_recycle":{"description":"是否开启表回收站。","enum":["OFF","ON"],"type":"string"},"insert_to_load_data":{"description":"insert 常量值使用load data执行。","enum":["OFF","ON"],"type":"string"},"live_transaction_timeout_on_shutdown":{"description":"在途事务等待时间窗口,以秒为单位,取值范围为0-100,默认值为1,表示服务器关闭前端连接之前等待1秒后关闭连接。","example":"1","type":"string"},"long_query_time":{"description":"记录慢查询的最小秒数,以秒为单位,取值范围为0.01-10,默认值为1,表示如果sql执行大于等于1秒就定义为慢sql。","example":"1","type":"string"},"max_allowed_packet":{"description":"包或任何生成的中间字符串的最大值。包缓冲区初始化为net_buffer_length字节,但需要时可以增长到max_allowed_packet字节。该值默认很小,以捕获大的(可能是错误的)数据包。该值必须设置为1024的倍数。取值范围为1024~1073741824,默认值为16777216。","example":"16777216","type":"string"},"max_backend_connections":{"description":"允许每个DDM节点同时连接RDS的最大客户端总数。0为默认值标识符,实际值等于(RDS的最大连接数-20)/DDM节点数。取值范围为0-10000000。","example":"1000","type":"string"},"max_connections":{"description":"允许同时连接的客户端总数。与后端RDS规格及数量有关。以个数为单位,取值范围为10-40000,默认值为20000,表示允许同时连接的客户端总数不能超过40000。","example":"20000","type":"string"},"min_backend_connections":{"description":"允许每个DDM节点同时连接RDS的最小客户端总数。默认值为10。取值范围为0-10000000。","example":"10","type":"string"},"not_from_pushdown":{"description":"是否强制下推查询语句中不含from的语句。","enum":["OFF","ON"],"type":"string"},"seconds_behind_master":{"description":"主从rds节点延迟时间阈值,以秒为单位,取值范围为0-7200,默认值为30,表示主rds与从rds之间的数据同步时间值不能超过30秒,如果超过30s,读数据指令就不走当前读节点。","example":"30","type":"string"},"sql_audit":{"description":"开启或关闭SQL审计。","enum":["OFF","ON"],"type":"string"},"sql_execute_timeout":{"description":"SQL执行超时秒数,以秒为单位,取值范围为100-28800,默认值28800,表示sql执行大于等于28800秒超时。","example":"28800","type":"string"},"support_ddl_binlog_hint":{"description":"DDL语句添加binlog hint。","enum":["OFF","ON"],"type":"string"},"transaction_policy":{"description":"XA:XA 事务,保证原子性,保证可见性;FREE:允许多写,不保证原子性,无性能损耗;NO_DTX:单分片事务。","enum":["XA","FREE","NO_DTX"],"type":"string"},"ultimate_optimize":{"description":"开启或关闭优化器中的极致下推优化功能。","enum":["OFF","ON"],"type":"string"}}}},"required":["values"]}},"description":null,"group_id":"284d208eec4f4c37806d199f52a9958b","host":"ddm.cn-north-4.myhuaweicloud.com","id":"687272215fd84bed9340f39455176b5b","info_version":"v1","method":"put","name":"UpdateInstanceParam","parameters":{},"paths":{"/v3/{project_id}/instances/{instance_id}/configurations":{"put":{"consumes":[],"deprecated":false,"description":"修改DDM实例参数。","operationId":"UpdateInstanceParam","parameters":[{"description":"租户在某一region下的project ID。","in":"path","name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx","x-order":2},{"description":"DDM实例ID","in":"path","name":"instance_id","required":true,"type":"string","x-example":"441d5677-b76a-4dd4-a97a-ef7fd633in09","x-order":3},{"description":"语种,默认中文。中文:zh-cn;英文:en-us","in":"header","name":"X-Language","required":false,"type":"string","x-example":"zh-cn","x-order":4},{"description":"This is a auto create Body Object","in":"body","name":"UpdateParametersReq","required":true,"schema":{"$ref":"#/definitions/UpdateParametersReq"}},{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX...","x-order":1}],"produces":[],"responses":{"200":{"description":"OK","examples":{"application/json":{"configId":null,"configName":null,"jobId":"9fe84a77-6a6b-4b03-9a3e-db910a548657","needRestart":"false","nodeList":null}},"schema":{"$ref":"#/definitions/UpdateInstanceParametersResponse"}},"400":{"description":"bad request","examples":{"application/json":{"errCode":"DBS.280001","externalMessage":"Parameter error."}},"schema":{"$ref":"#/definitions/ExceptionResponses"}},"500":{"description":"server error","examples":{"application/json":{"errCode":"DBS.200412","externalMessage":"Server failure."}},"schema":{"$ref":"#/definitions/ExceptionResponses"}}},"summary":"修改DDM实例参数","tags":["DDM实例管理"],"x-constraint":"无","x-name":"修改DDM实例参数","x-order":12,"x-request-examples-1":{"values":{"long_query_time":2}},"x-request-examples-description-1":"","x-request-examples-text-1":"{\n\"values\": {\n\"long_query_time\": 2\n}\n}","x-request-examples-url-1":"PUT https://{endpoint}/v3/{project_id}/instances/{instance_id}/configurations","x-scope":"Commercial","x-support-sdk":"Y","x-version":"v3"}}},"product_short":"DDM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"修改DDM实例参数","tags":"DDM实例管理","uri":null,"version":"2.0"}