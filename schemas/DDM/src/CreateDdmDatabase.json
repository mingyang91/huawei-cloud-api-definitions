{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CreateDdmDatabaseRequestBody":{"description":"databases参数说明","properties":{"dn_instances":{"description":"逻辑库关联的DN信息,最大个数为256。","items":{"$ref":"#/definitions/DatabaseDnInstances"},"type":"array"},"name":{"description":"逻辑库名称,需要满足以下条件:\n\n- 长度为2-48个字符。\n- 必须以小写字母开头。\n- 可以包含小写字母、数字、下划线,不能包含大写字母和其它特殊字符。\n- 禁用关键字:\n \"information_schema\"、\"mysql\"、\"performance_schema\"、\"sys\"。","type":"string"},"shard_mode":{"description":"逻辑库的拆分模式。\n- cluster表示逻辑库是拆分模式。\n- single表示逻辑库是非拆分模式。","type":"string"},"shard_number":{"description":"同一种工作模式下逻辑库分片的数量。\n- shard_unit不为空, shard_unit与关联DN数量的乘积\n- shard_unit为空,大于关联的DN数量,小于等于关联DN数量*64。","format":"int32","type":"integer"}},"required":["name","shard_mode","shard_number","dn_instances"],"type":"object"},"CreateDdmDatabasesResponseBody":{"properties":{"job_id":{"description":"工作流id。","type":"string"},"name":{"description":"逻辑库名","type":"string"}},"required":["name","job_id"],"type":"object"},"DatabaseDnInstances":{"properties":{"id":{"description":"逻辑库关联的DN实例的id","type":"string"},"user_name":{"description":"关联DN实例的用户名。","type":"string"},"user_password":{"description":"关联DN实例的用户密码。","type":"string"}},"required":["id","user_name","user_password"],"type":"object"},"ErrorResponse":{"properties":{"error_code":{"description":"错误码。","example":"DBS.200001","type":"string"},"error_msg":{"description":"错误消息。","example":"参数错误。","type":"string"}},"required":["error_code","error_msg"]}},"description":null,"group_id":"284d208eec4f4c37806d199f52a9958b","host":"ddm.cn-north-4.myhuaweicloud.com","id":"217e74fc0778446cb6a36d72496c432b","info_version":"v1","method":"post","name":"CreateDdmDatabase","parameters":{},"paths":{"/v3/{project_id}/instances/{instance_id}/databases":{"post":{"description":"创建DDM逻辑库。","operationId":"CreateDdmDatabase","parameters":[{"description":"项目ID。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"用户Token。 通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"DDM实例ID","in":"path","name":"instance_id","required":true,"type":"string"},{"description":"创建逻辑库请求体","in":"body","name":"CreateDdmDatabaseRequestBody","required":false,"schema":{"$ref":"#/definitions/CreateDdmDatabaseRequestBody"}}],"produces":["application/json"],"responses":{"202":{"description":"Success.","examples":{"application/json":{"job_id":"0e20f87b-cb3a-4612-a2ae-16e3f04e1f4c","name":"mytestdb"}},"schema":{"$ref":"#/definitions/CreateDdmDatabasesResponseBody"}},"400":{"description":"bad request","examples":{"application/json":{"error_code":"DBS.280001","error_msg":"Parameter error."}},"schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"server error","examples":{"application/json":{"error_code":"DBS.280001","error_msg":"Parameter error."}},"schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"创建DDM逻辑库","tags":["DDM逻辑库管理"],"x-api-type":"open-api","x-is-registered":"Y","x-request-examples-1":{"dn_instances":[{"id":"f296c394f13f48449d715bf99af07e59in01","user_name":"root","user_password":"PassWord_234"}],"name":"mytestdb","shard_mode":"cluster","shard_number":8},"x-request-examples-text-1":{"dn_instances":[{"id":"f296c394f13f48449d715bf99af07e59in01","user_name":"root","user_password":"PassWord_234"}],"name":"mytestdb","shard_mode":"cluster","shard_number":8},"x-request-examples-url-1":"POST https://cn-north-1/v3/{project_id}/instances/{instance_id}/databases","x-support-sdk":"Y"}}},"product_short":"DDM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建DDM逻辑库","tags":"DDM逻辑库管理","uri":null,"version":"2.0"}