{"base_path":"/","components":null,"consumes":"","definitions":{"NameAndId":{"description":"对象编号与名称","properties":{"id":{"description":"对象编号","type":"string"},"name":{"description":"对象名称","type":"string"}}},"OperationResponseBody":{"properties":{"error_code":{"description":"接口调用失败错误码","example":"CLOUDTEST.000XXXXX","type":"string"},"error_msg":{"description":"接口调用失败错误信息","example":"返回的错误信息","type":"string"}}},"QueryPlanResponseBody":{"description":"项目下查询测试计划列表返回结构","example":[{"current_stage":"design","design_stage":{"case_count":2,"issue_count":0,"issue_covered_count":0},"end_date":"2021-07-10","execute_stage":{"case_pass_rate":"0.00%","completed_defect_count":0,"defect_count":0,"executed_case_count":0},"expire_day":-4,"finish_date":"2021-07-10","iteration":{"id":"24980197","name":"迭代1"},"name":"测试","owner":{"id":"efdb403066474ab08836b9eeaaa23bca","name":"测试Tester"},"plan_id":"c7c2ddf2ea914164ac6ee76bf11a30ea","project_uuid":"9b26f58ec29943f681804a6628779a23","report_stage":{"case_complete_rate":"100.00%"},"start_date":"2021-07-10"}],"items":{"$ref":"#/definitions/TestPlanDetail"},"type":"array"},"TestPlanDetail":{"description":"测试计划详情","properties":{"creator":{"description":"测试计划创建者信息","properties":{"id":{"description":"测试计划创建者id","type":"string"},"nick_name":{"description":"测试计划创建者的昵称,当用户未设置昵称时不返回该字段","type":"string"},"user_name":{"description":"测试计划创建者的用户名称","type":"string"}}},"current_stage":{"description":"当前测试计划所处的阶段","type":"string"},"design_stage":{"description":"测试计划设计阶段信息","properties":{"case_count":{"description":"用例个数","format":"int32","type":"integer"},"issue_count":{"description":"需求个数","format":"int32","type":"integer"},"issue_covered_count":{"description":"已被用例关联的需求个数","type":"string"}}},"end_date":{"description":"测试计划截止时间","format":"date","type":"string"},"execute_stage":{"description":"测试计划执行阶段信息","properties":{"case_pass_rate":{"description":"用例通过率,按用例结果计算","type":"string"},"completed_defect_count":{"description":"已完成缺陷个数","format":"int32","type":"integer"},"defect_count":{"description":"缺陷个数","format":"int32","type":"integer"},"executed_case_count":{"description":"已执行用例数, 按用例状态统计","format":"int32","type":"integer"}}},"expire_day":{"description":"获取超期时间,正值表示已超期","type":"integer"},"finish_date":{"description":"测试计划实际完成时间(测试计划实际完成指测试计划下所有测试用例处于完成状态)","format":"date","type":"string"},"iteration":{"$ref":"#/definitions/NameAndId"},"name":{"description":"测试计划名称","type":"string"},"owner":{"description":"测试计划处理者信息","properties":{"id":{"description":"测试计划处理者id","type":"string"},"name":{"description":"测试计划处理者名称,优先返回nickName,不存在则返回userName","type":"string"},"nick_name":{"description":"测试计划处理者的昵称,当用户未设置昵称时不返回该字段","type":"string"},"user_name":{"description":"测试计划处理者的用户名称","type":"string"}}},"plan_id":{"description":"测试计划id","type":"string"},"project_id":{"description":"项目id","type":"string"},"report_stage":{"description":"测试计划完成阶段信息","properties":{"case_complete_rate":{"description":"用例完成率,按状态统计","type":"string"}}},"start_date":{"description":"测试计划开始时间","format":"date","type":"string"}}}},"description":null,"group_id":"c493303151774dd5942c7d01147ea2ee","host":"cloudtest-ext.cn-north-4.myhuaweicloud.com","id":"5c89c0fb84d84ad19985ed36eee22fa4","info_version":"v1","method":"get","name":"ShowPlanList","parameters":{"limit":{"default":10,"description":"每页显示的条目数量,最大支持200条","format":"int64","in":"query","maximum":200,"minimum":1,"name":"limit","required":true,"type":"integer","x-example":50},"offset":{"default":0,"description":"起始偏移量,表示从此偏移量开始查询, offset大于等于0","format":"int64","in":"query","maximum":999,"minimum":0,"name":"offset","required":true,"type":"integer","x-example":0}},"paths":{"/v2/projects/{project_id}/plans":{"get":{"consumes":["application/json"],"description":"项目下查询测试计划列表v2","operationId":"ShowPlanList","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"项目id,项目唯一标识,固定长度32位字符","in":"path","name":"project_id","pattern":"[A-Za-z0-9]{32}$","required":true,"type":"string"},{"$ref":"#/parameters/offset"},{"$ref":"#/parameters/limit"},{"description":"模糊查询使用(针对测试计划名称)","in":"query","name":"name","required":false,"type":"string"},{"description":"测试计划所处阶段(create,design,execute,report)","in":"query","name":"current_stage","required":false,"type":"string"},{"description":"分支Uri,默认master","in":"query","name":"branch_uri","required":false,"type":"string"},{"description":"是否查询所有版本下测试计划,默认为false。若值为true, 查询所有版本下测试计划; 若为false, 查询branch_uri指定分支下的测试计划, branch_uri为空时默认为master","in":"query","name":"query_all_version","required":false,"type":"boolean"}],"produces":["application/json;charset=UTF-8"],"responses":{"201":{"description":"OK","schema":{"$ref":"#/definitions/QueryPlanResponseBody"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/OperationResponseBody"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/OperationResponseBody"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/OperationResponseBody"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/OperationResponseBody"}}},"schemes":["https"],"security":[{"apig-auth-iam":[]}],"summary":"项目下查询测试计划列表v2","tags":["测试计划管理"],"x-apigateway-backend":{"httpEndpoints":{"address":"10.63.38.190:40115","description":"","method":"GET","path":"/testplan/v2/testhub/projects/{project_id}/plans","scheme":"https","timeout":20000},"parameters":[{"description":"逻辑region","in":"HEADER","name":"X-AUTH-REGION","origin":"CONSTANT","value":"cn-north-7"},{"description":"项目唯一标识,固定长度32位字符","in":"PATH","name":"project_id","origin":"REQUEST","value":"9b26f58ec29943f681804a6628779a23"},{"description":"起始偏移量,表示从此偏移量开始查询, offset大于等于0","in":"QUERY","name":"offset","origin":"REQUEST","value":1},{"description":"每页显示的条目数量,最大支持200条","in":"QUERY","name":"limit","origin":"REQUEST","value":5},{"description":"模糊查询使用(针对测试计划名称)","in":"QUERY","name":"name","origin":"REQUEST","value":"测试"},{"description":"计划所处阶段(create,design,execute,report)","in":"QUERY","name":"current_stage","origin":"REQUEST","value":"create"}],"type":"HTTP"},"x-apigateway-cors":false,"x-apigateway-match-mode":"NORMAL","x-apigateway-request-type":"public","x-constraint":"","x-is-registered":"Y","x-name":"项目下查询测试计划列表v2","x-open-region-cloud":"hws,hws_hk","x-scope":"","x-support-sdk":"Y"}}},"product_short":"CloudTest","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"}},"summary":"项目下查询测试计划列表v2","tags":"测试计划管理","uri":null,"version":"2.0"}