{"base_path":"/","components":null,"consumes":"","definitions":{"ClusterInfoDTO":{"properties":{"id":{"description":"关联云实例ID","example":"e559efe1-9756-483c-a06d-e2d8bf65c54d","maxLength":100,"minLength":0,"type":"string"}},"type":"object"},"DcConfigDTO":{"properties":{"auth_type":{"description":"验证方式;AKSK、TOKEN","enum":["AKSK","TOKEN"],"example":"NO_AUTH","type":"string"},"connect_type":{"description":"资源类型(连接方式)default、other","example":"default/other","maxLength":64,"minLength":0,"type":"string"},"ds_ak":{"description":"用户ak(验证方式为AKSK时必填)","example":"****","maxLength":500,"minLength":0,"type":"string"},"ds_project_id":{"description":"DLI队列归属rpojectId","example":"","maxLength":100,"minLength":0,"type":"string"},"ds_sk":{"description":"用户sk(验证方式为AKSK时必填)","example":"string","maxLength":500,"minLength":0,"type":"string"},"protocol":{"description":"协议:REST","example":"REST","maxLength":50,"minLength":0,"type":"string"},"queue_name":{"description":"SQL队列","example":"default","maxLength":200,"minLength":1,"type":"string"},"region_id":{"description":"DLI归属regionId;当前不支持跨region,值只能是当前regionId","example":"cn-north-7","maxLength":20,"minLength":1,"type":"string"},"request_method":{"description":"请求方式:GET、POST","enum":["GET","POST"],"example":"GET","maxLength":100,"minLength":0,"type":"string"},"request_params":{"description":"请求参数列表","items":{"$ref":"#/definitions/RequestParamDto"},"maxItems":1000,"minItems":0,"type":"array"},"request_url":{"description":"API数据源时,请求url","example":"https://100.85.218.159:20168/v1/170a235024c54f8fa45e81c18d5822df/datasets","maxLength":1000,"minLength":0,"type":"string"},"resp_param":{"description":"返回参数","items":{"$ref":"#/definitions/ResponseParamDto"},"maxItems":1000,"minItems":0,"type":"array"},"ssl":{"description":"ssl参数配置","example":true,"type":"boolean"},"time_out":{"description":"API数据源时,请求超时时间","example":10000,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"token_key":{"description":"token key","example":"","maxLength":10000,"minLength":0,"type":"string"},"token_value":{"description":"token value","example":"","maxLength":2000,"minLength":0,"type":"string"}},"type":"object"},"MessageVo":{"properties":{"message":{"description":"描述","example":"success","maxLength":128,"minLength":0,"type":"string"}},"type":"object"},"RequestParamDto":{"properties":{"alias_name":{"description":"参数别名","example":"resourceCode","maxLength":128,"minLength":0,"type":"string"},"field_type":{"description":"参数类型 String、Long、Decimal、List<String>、List<Long>、List<Decimal>、DateTime、Bool、PageIndex、PageNum","example":"String","maxLength":50,"minLength":0,"type":"string"},"location":{"description":"位置","example":"Parameter","maxLength":100,"minLength":0,"type":"string"},"param_name":{"description":"参数名称","example":"resourceCode","maxLength":500,"minLength":0,"type":"string"},"param_source":{"description":"参数来源 custom、user、userGroup","example":"custom","maxLength":50,"minLength":0,"type":"string"},"tag_id":{"description":"标签ID,当param_source为user时必填","example":null,"maxLength":128,"minLength":0,"type":"string"},"type":{"description":"是否加密","example":null,"type":"boolean"},"value":{"description":"参数值","example":["RE1082"],"items":{"maxLength":1000,"minLength":0,"type":"string"},"maxItems":100,"minItems":0,"type":"array"}},"required":["location","value","param_name","field_type","param_source","type"],"type":"object"},"ResponseParamDto":{"properties":{"alias_name":{"description":"参数别名","example":"pid","maxLength":512,"minLength":0,"type":"string"},"field_type":{"description":"参数类型;String、Long、Decimal、DateTime、Bool","example":"Long","maxLength":100,"minLength":0,"type":"string"},"param_name":{"description":"参数名称","example":"pid","maxLength":32,"minLength":0,"type":"string"}},"required":["alias_name","field_type","param_name"],"type":"object"},"UpdateConnectionDTO":{"properties":{"cluster":{"$ref":"#/definitions/ClusterInfoDTO","description":"云实例接入方式时必填"},"config":{"$ref":"#/definitions/DcConfigDTO","description":"配置参数"},"database_name":{"description":"数据库名","example":"gaussdb","maxLength":512,"minLength":1,"type":"string"},"description":{"description":"数据源描述信息","example":"","maxLength":128,"minLength":0,"type":"string"},"host":{"description":"域名,非集群数据源必填,如mysql","example":"10.63.0.167","maxLength":512,"minLength":0,"type":"string"},"name":{"description":"数据源名称","example":"dws04","maxLength":255,"minLength":1,"type":"string"},"password":{"description":"密码","example":"ModernBI@123","maxLength":500,"minLength":0,"type":"string"},"port":{"description":"端口","example":8000,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"region_id":{"description":"当前region的ID","example":"cn-north-7","maxLength":36,"minLength":0,"type":"string"},"server_list":{"description":"集群模式(多实例)必填,如DWS,ClickHouse","example":"x.x.x.x:xxxx","maxLength":512,"minLength":0,"type":"string"},"source":{"description":"数据源来源:rds,dws,mrs,gaussdb,public,restapi,dli","example":"dli","maxLength":64,"minLength":0,"type":"string"},"type":{"description":"数据源类型;MYSQL,POSTGRESQL,DWS,OPENGAUSS,DLI,CLICKHOUSE,API,DORIS","enum":["MYSQL","POSTGRESQL","DWS","OPENGAUSS","DLI","CLICKHOUSE","API","DORIS"],"example":"DLI","type":"string"},"user_name":{"description":"用户名","example":"modernbi","maxLength":64,"minLength":0,"type":"string"}},"required":["name","type","source","database_name","config"],"type":"object"}},"description":null,"group_id":"5627c46eae194ce98be7980e997bd424","host":"dataartsinsight.cn-north-4.myhuaweicloud.com","id":"62c7dcaeedd74a95b157e745a0712ab1","info_version":"v1","method":"put","name":"UpdateDataConnection","parameters":{},"paths":{"/v1/{project_id}/connections/{connection_id}":{"put":{"description":"数据源更新","operationId":"UpdateDataConnection","parameters":[{"description":"工作空间ID,即控制台的项目ID。","in":"header","maxLength":128,"minLength":0,"name":"X-Workspace-Id","required":true,"type":"string"},{"description":"用户Token。 通过调用IAM服务 获取IAM用户Token接口获取,接口返回的响应消息头中“X-Subject-Token”就是需要获取的用户Token。","in":"header","maxLength":8192,"minLength":0,"name":"X-Auth-Token","required":true,"type":"string"},{"description":"项目ID","in":"path","maxLength":128,"minLength":0,"name":"project_id","required":true,"type":"string"},{"description":"数据源参数","in":"body","name":"UpdateDataConnectionRequestBody","required":false,"schema":{"$ref":"#/definitions/UpdateConnectionDTO"}},{"description":"数据源ID","in":"path","maxLength":100,"minLength":0,"name":"connection_id","required":true,"type":"string"}],"responses":{"200":{"description":"更新成功","examples":{"application/json":{"message":"Update Data Connection Success!"}},"schema":{"$ref":"#/definitions/MessageVo"}}},"security":[{"apig-auth-iam":[]}],"summary":"数据源更新","tags":["数据源"],"x-apigateway-backend":{"httpEndpoints":{"description":"","method":"PUT","path":"/v1/{project_id}/connections/{connection_id}","schemas":"https","timeout":30000},"parameters":[{"description":"","in":"PATH","name":"project_id","origin":"REQUEST","value":"project_id"},{"description":"","in":"PATH","name":"connection_id","origin":"REQUEST","value":"connection_id"}],"type":"HTTP"},"x-apigateway-cors":false,"x-apigateway-match-mode":"NORMAL","x-apigateway-query-string-encode":"ENABLE","x-apigateway-request-type":"public","x-is-registered":"Y","x-request-examples-1":{"config":{"auth_type":"TOKEN","connect_type":"default","ds_ak":"","ds_project_id":"9c3043ab4dac4055888643b331a0b227","ds_sk":"","jdbc_properties":{},"queue_name":"dii_daas_engine","region_id":"cn-north-7"},"database_name":"dii","id":"005234b67b254f38b71ae17a5a713a8c","name":"dii023","region_id":"cn-north-7","source":"dli","type":"DLI"},"x-request-examples-text-1":{"config":{"auth_type":"TOKEN","connect_type":"default","ds_ak":"","ds_project_id":"9c3043ab4dac4055888643b331a0b227","ds_sk":"","jdbc_properties":{},"queue_name":"dii_daas_engine","region_id":"cn-north-7"},"database_name":"dii","id":"005234b67b254f38b71ae17a5a713a8c","name":"dii023","region_id":"cn-north-7","source":"dli","type":"DLI"},"x-request-examples-url-1":"PUT /v1/{project_id}/connections/{connection_id}","x-support-sdk":"N"}}},"product_short":"DataArtsInsight","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-app":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-app-optional":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-opt":{"access-auth-type":"optional"},"x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-iam-new":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"IAM_NEW"},"apig-auth-iam-none":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM_NONE"},"apig-auth-iam-none-used-authn5":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-opt":{"inner-auth-type":"iam_auth_n5"},"x-apigateway-auth-type":"IAM_NONE"},"apig-auth-iam-used-authn5":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-opt":{"inner-auth-type":"iam_auth_n5"},"x-apigateway-auth-type":"IAM"}},"summary":"数据源更新","tags":"数据源","uri":null,"version":"2.0"}