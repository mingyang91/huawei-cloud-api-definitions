{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ErrorResponse":{"description":"失败时返回的错误","properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":8,"type":"string"},"error_msg":{"description":"错误描述","maxLength":512,"minLength":2,"type":"string"}},"required":["error_code","error_msg"]},"NodeInfo":{"description":"节点信息","properties":{"id":{"description":"节点ID","type":"string"},"name":{"description":"节点名","type":"string"}},"type":"object"},"OprecordCluster":{"description":"集群信息","properties":{"cluster_id":{"description":"集群ID","type":"string"},"cluster_type":{"description":"集群类型","type":"string"},"name":{"description":"集群名称","type":"string"},"node_infos":{"description":"节点信息","items":{"$ref":"#/definitions/NodeInfo"},"type":"array"}},"type":"object"},"ProcessInfo":{"description":"操作进度信息","properties":{"detail":{"description":"操作详情","type":"string"},"serial_num":{"description":"序列号","format":"int64","type":"integer"},"status":{"description":"操作状态","type":"string"},"step_name":{"description":"操作名","type":"string"},"sub_steps":{"additionalProperties":{"$ref":"#/definitions/SubDetail","description":"子操作详情","type":"object"},"description":"子操作, \"map[string][SubDetail] key:子操作名 value:子操作结果\"","type":"object"}},"type":"object"},"RecordDetailInfo":{"description":"操作记录详细信息","properties":{"blockchain_id":{"description":"区块链ID","type":"string"},"blockchain_name":{"description":"区块链名称","type":"string"},"cluster_info":{"$ref":"#/definitions/OprecordCluster","description":"集群信息","type":"object"},"desc":{"description":"操作描述","type":"string"},"domain_id":{"description":"租户ID","type":"string"},"message":{"description":"操作过程信息记录","items":{"type":"string"},"type":"array"},"operation_id":{"description":"操作记录ID","type":"string"},"operation_process":{"additionalProperties":{"$ref":"#/definitions/ProcessInfo","description":"操作记录总数","type":"object"},"description":"操作流程,key为流程名,value为流程信息","type":"object"},"operation_status":{"description":"操作状态","type":"string"},"operation_type":{"description":"操作类型","type":"string"},"project_id":{"description":"项目ID","type":"string"},"record_time":{"description":"记录更新时间","format":"int64","type":"integer"},"resource_type":{"description":"资源类型","type":"string"}},"type":"object"},"RecordsInfo":{"description":"操作记录信息","properties":{"count":{"description":"操作记录总数","format":"int64","type":"integer"},"operation_records":{"description":"操作记录列表","items":{"$ref":"#/definitions/RecordDetailInfo"},"type":"array"}},"type":"object"},"SubDetail":{"description":"子操作详情","properties":{"detail":{"description":"子操作详情","type":"string"},"end_time":{"description":"结束时间","format":"int64","type":"integer"},"message":{"description":"子操作过程信息记录","items":{"type":"string"},"type":"array"},"serial_num":{"description":"序列号","format":"int64","type":"integer"},"start_time":{"description":"开始时间","format":"int64","type":"integer"},"status":{"description":"子操作状态","type":"string"},"substep_name":{"description":"子操作名","type":"string"}},"type":"object"}},"description":null,"group_id":"a055e8fbc967498fb365ceacf02e656e","host":"bcs.cn-north-4.myhuaweicloud.com","id":"e26b3553da2b40b0829cab522f68b2e8","info_version":"v2","method":"get","name":"ListOpRecord","parameters":{},"paths":{"/v2/{project_id}/operation/record":{"get":{"description":"查询异步操作结果","operationId":"ListOpRecord","parameters":[{"description":"从IAM服务获取的用户Token","in":"header","maxLength":32768,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string"},{"description":"租户从IAM申请到的项目ID,一般为32位字符串","in":"path","name":"project_id","required":true,"type":"string"},{"description":"区块链ID","in":"query","name":"blockchain_id","required":false,"type":"string"},{"description":"操作状态, 可选数值如下(括号中为该数值对应的操作状态含义):waiting(等待执行),processing(处理中),finished(操作完成,成功),failed(操作失败),stop(操作中断)","enum":["waiting","processing","finished","failed","stop"],"in":"query","name":"operation_status","required":false,"type":"string"},{"description":"资源类型, 可选数值如下(括号中为该数值对应的资源类型含义):BCSSVC01(BCS变更操作),BCSSVC02(UGBaaS变更操作),PLUGIN01(RestAPI插件变更操作),PLUGIN02(TC3插件变更操作),PLUGIN03(轻节点插件变更操作)","enum":["BCSSVC01","BCSSVC02","PLUGIN01","PLUGIN02","PLUGIN03"],"in":"query","name":"resource_type","required":false,"type":"string"},{"description":"操作类型, 可选数值如下(括号中为该数值对应的操作类型含义):99(OpCreate),00(OpDelete),01(OpUpgrade),91(OpUpgradeRb),02(OpAddOrg),03(OpScaleOrg),04(OpJoinChannel),05(OpJoinUnion)","enum":["99","00","01","91","02","03","04","05"],"in":"query","name":"operation_type","required":false,"type":"string"},{"description":"操作记录ID","in":"query","name":"operation_id","required":false,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"Ok","examples":{"application/json":{"count":1,"operation_records":[{"blockchain_id":"23604f57-eac9-3777-e9f5-ae87457f2338","blockchain_name":"bcs-i3b0ms","cluster_info":{"cluster_id":"4df5652f-96dc-11eb-b49c-0255ac100b08","cluster_type":"cce","name":"asdfasf","node_infos":null},"desc":null,"domain_id":"051ddda36880d3420f9bc01403fd8da0","message":null,"operation_id":"BCSSVC01-99-1618218591906093855","operation_process":{"Create Other Dependent Resource":{"detail":"","serial_num":2,"status":"processing","step_name":"Create Other Dependent Resource","sub_steps":{"Create EIP":{"detail":null,"end_time":1618219038464462600,"message":null,"serial_num":1,"start_time":1618219038464462600,"status":"finished","substep_name":"Create EIP"},"Create network storage":{"detail":"waiting","end_time":0,"message":null,"serial_num":2,"start_time":0,"status":"","substep_name":"Create network storage"}}},"Preparation":{"detail":"","serial_num":1,"status":"finished","step_name":"Preparation","sub_steps":{"Generate basic configurations":{"detail":null,"end_time":1618218591951266000,"message":null,"serial_num":3,"start_time":1618218591951266000,"status":"finished","substep_name":"Generate basic configurations"}}}},"operation_status":"processing","operation_type":"99","project_id":"051ddda57400d2982fccc014fab5749d","record_time":1618218591906100000,"resource_type":"BCSSVC01"}]}},"schema":{"$ref":"#/definitions/RecordsInfo"}},"400":{"description":"Bad Request","examples":{"application/json":{"error_code":"BCS.4006005","error_msg":"keyType error, keyType: blok not supported"}},"schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorized","examples":{"application/json":{"error_code":"BCS.4010401","error_msg":"Incorrect token or token resolution failed"}},"schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","examples":{"application/json":{"error_code":"BCS.4030403","error_msg":"No permissions to request this method"}},"schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"Not Found","examples":{"application/json":{"error_code":"BCS.4040404","error_msg":"Not Found:the url is not found"}},"schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"InternalServerError","examples":{"application/json":{"error_code":"BCS.5000500","error_msg":"Internal Server Error"}},"schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"查询异步操作结果","tags":["BCS管理"],"x-api-type":"open","x-is-registered":"Y","x-order":17,"x-secnario":"hws","x-support-sdk":"Y"}}},"product_short":"BCS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询异步操作结果","tags":"BCS管理","uri":null,"version":"2.0"}