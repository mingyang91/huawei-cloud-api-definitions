{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"Dimension":{"description":"指标维度。","properties":{"name":{"description":"维度名称。","type":"string"},"value":{"description":"维度取值。","type":"string"}},"type":"object"},"ErrorResponse":{"description":"失败时返回的错误","properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":8,"type":"string"},"error_msg":{"description":"错误描述","maxLength":512,"minLength":2,"type":"string"}},"required":["error_code","error_msg"]},"EventMetadataRelation":{"description":"事件告警查询条件组合","properties":{"key":{"description":"指定查询字段的key,对应metadata里面的key","type":"string"},"relation":{"description":"该条件与其他条件的组合方式","enum":["AND","OR","NOT"],"type":"string"},"value":{"description":"查询条件中指定key的值","items":{"type":"string"},"type":"array"}},"type":"object"},"EventResultSort":{"description":"返回列表的排序方式,可以为空","properties":{"order":{"description":"排序方式枚举值。asc代表正序,desc代表倒序","enum":["asc","desc"],"type":"string"},"order_by":{"description":"排序字段列表。会根据列表中定义顺序对返回列表最排序","items":{"type":"string"},"type":"array"}},"type":"object"},"ListBcsEventRequestBody":{"description":"查询和统计事件告警请求体","properties":{"metadata_relation":{"description":"查询条件组合,可以为空","items":{"$ref":"#/definitions/EventMetadataRelation"},"type":"array"},"search":{"description":"模糊查询匹配字段,可以为空","type":"string"},"sort":{"$ref":"#/definitions/EventResultSort"},"step":{"description":"统计步长。毫秒数","format":"int64","type":"integer"},"time_range":{"description":"timeRange用于指标查询时间范围,主要用于解决客户端时间和服务端时间不一致情况下,查询最近N分钟的数据。另可用于精确查询某一段时间的数据。","type":"string"}},"required":["time_range","step"],"type":"object"},"MetricDataPoints":{"description":"查询结果要点","properties":{"statistics":{"description":"统计方式。","items":{"$ref":"#/definitions/StatisticValue"},"type":"array"},"timestamp":{"description":"时间戳。","format":"int64","type":"integer"},"unit":{"description":"指标单位。","type":"string"}},"type":"object"},"MetricDemision":{"description":"指标描述信息","properties":{"dimensions":{"description":"维度列表","items":{"$ref":"#/definitions/Dimension"},"type":"array"},"metricName":{"description":"指标名称","type":"string"},"namespace":{"description":"命名空间","type":"string"}},"type":"object"},"MetricItemResultAPI":{"description":"监控数据信息","properties":{"dataPoints":{"description":"监控数据信息","items":{"$ref":"#/definitions/MetricDataPoints"},"type":"array"},"metric":{"$ref":"#/definitions/MetricDemision","description":"指标描述信息"}}},"MetricQueryItemResult":{"properties":{"metrics":{"description":"指标对象列表。","items":{"$ref":"#/definitions/MetricItemResultAPI"},"type":"array"}}},"StatisticValue":{"description":"统计结果","properties":{"statistic":{"description":"统计方式。","type":"string"},"value":{"description":"统计结果。","format":"double","type":"number"}},"type":"object"}},"description":null,"group_id":"a055e8fbc967498fb365ceacf02e656e","host":"bcs.cn-north-4.myhuaweicloud.com","id":"3cc7e6307ba34fd9b527ec653be33c0a","info_version":"v2","method":"post","name":"ListBcsEvents","parameters":{},"paths":{"/v2/{project_id}/blockchains/{blockchain_id}/events":{"post":{"description":"该接口用于查询BCS服务的事件、告警数据,可以指定查询时的过滤条件。","operationId":"ListBcsEvents","parameters":[{"description":"用户Token。通过调用IAM服务获取用户Token接口获取。","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"租户从IAM申请到的projectid,一般为32位字符串。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"区块链服务id","in":"path","name":"blockchain_id","required":true,"type":"string"},{"description":"BCS服务监控数据查询请求结构。","in":"body","name":"ListBcsEventsRequestBody","required":true,"schema":{"$ref":"#/definitions/ListBcsEventRequestBody"}},{"description":"查询类型。type=active_alert代表查询活动告警,type=history_alert代表查询历史告警。不传或者传其他值则返回指定查询条件的所有信息。","enum":["history_alert","active_alert"],"in":"query","name":"type","required":false,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"Ok","examples":{"application/json":{"events":[{"annotations":{"alarm_fix_suggestion_zh_cn":"修复建议","alarm_probableCause_zh_cn":"可能原因","message":"告警详情"},"attach_rule":{},"ends_at":0,"id":"6775161208461480000","metadata":{"event_name":"test","event_severity":"Major","event_type":"alarm","resource_id":"d2e2deba-797d-872f-516c-9f96870be67e","resource_provider":"BCS","resource_type":"blockchain"},"starts_at":16377362908000,"timeout":60000}]}},"schema":{"$ref":"#/definitions/MetricQueryItemResult"}},"400":{"description":"Bad Request","examples":{"application/json":{"error_code":"BCS.4001108","error_msg":"metric names is wrong"}},"schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorized","examples":{"application/json":{"error_code":"BCS.4010401","error_msg":"Incorrect token or token resolution failed"}},"schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","examples":{"application/json":{"error_code":"BCS.4030403","error_msg":"No permissions to request this method"}},"schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"Not Found","examples":{"application/json":{"error_code":"BCS.4040404","error_msg":"Not Found:the url is not found"}},"schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"InternalServerError","examples":{"application/json":{"error_code":"BCS.5000500","error_msg":"Internal Server Error"}},"schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"查询服务实例告警信息","tags":["BCS监控"],"x-api-type":"open","x-is-registered":"Y","x-secnario":"hws","x-support-sdk":"Y"}}},"product_short":"BCS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询服务实例告警信息","tags":"BCS监控","uri":null,"version":"2.0"}