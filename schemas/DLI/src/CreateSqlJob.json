{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"CreateSqlJobRequestBody":{"description":"提交SQL作业","properties":{"conf":{"default":"dli.sql.sqlasync.enabled = true","description":"用户以“key/value”的形式设置用于此作业的配置参数。目前支持的配置项请参考表3。","items":{"type":"string"},"type":"array"},"currentdb":{"description":"SQL语句执行所在的数据库。当创建新数据库时,不需要提供此参数。","example":"db1","type":"string","x-vision":""},"queue_name":{"description":"待提交作业的队列名称,名称只能包含数字、英文字母和下划线,但不能是纯数字,且不能以下划线开头。","example":"q1","type":"string","x-vision":""},"sql":{"description":"待执行的SQL语句。","example":"desc table1","type":"string","x-vision":""},"tags":{"description":"作业标签","items":{"$ref":"#/definitions/TmsTagEntity","description":""},"type":"array"}},"required":["sql"]},"CreateSqlJobResponseBody":{"description":"提交SQL作业","properties":{"is_success":{"description":"当“job_type”为“DCL”时,为请求执行是否成功。“true”表示请求执行成功。","example":true,"type":"boolean","x-vision":""},"job_id":{"description":"此SQL语句将生成并提交一个新作业,返回此作业的ID,可用于获取作业状态和作业结果。","example":"8ecb0777-9c70-4529-9935-29ea0946039c","type":"string","x-vision":""},"job_mode":{"description":"表示作业执行方式,是同步还是异步的","type":"string"},"job_type":{"description":"作业类型。\n\nDDL\nDCL\nIMPORT\nEXPORT\nQUERY\nINSERT","enum":["DDL","DCL","IMPORT","EXPORT","QUERY","INSERT"],"example":"DCL","type":"string","x-vision":""},"message":{"description":"系统提示信息,执行成功时,信息可能为空。","example":"成功","type":"string","x-vision":""},"rows":{"description":"当语句类型为DDL时,直接返回其执行结果。","items":{"items":{"type":"object"},"type":"array"},"type":"array","x-vision":""},"schema":{"description":"当语句类型为DDL时,返回其结果的列名称及类型。","items":{"type":"object"},"type":"array","x-vision":""}},"required":["is_success","job_id","job_type","message"]},"FailResponse":{"description":"","properties":{"error_code":{"description":"错误码。","type":"string"},"error_msg":{"description":"错误描述信息。","type":"string"}},"required":["error_code","error_msg"]},"TmsTagEntity":{"description":"","properties":{"key":{"description":"标签的键","type":"string"},"value":{"description":"标签的值","type":"string"}},"required":["key","value"]}},"description":null,"group_id":"065e44b2fe564922aa79230ec761dca6","host":"dli.cn-north-4.myhuaweicloud.com","id":"b2f75dda00da4ccd99086b5d065fcfee","info_version":"v1","method":"post","name":"CreateSqlJob","parameters":{},"paths":{"/v1.0/{project_id}/jobs/submit-job":{"post":{"consumes":[],"deprecated":false,"description":"该API用于通过执行SQL语句的方式向队列提交作业。\n\n作业包含以下类型:DDL、DCL、IMPORT、QUERY和INSERT。其中,IMPORT与导入数据的功能一致,区别仅在于实现方式不同。","operationId":"CreateSqlJob","parameters":[{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string","x-example":"48cc2c48765f481480c7db940d6409d1","x-order":1},{"description":"租户Token","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"xxx","x-order":2,"x-vision":""},{"description":"","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/CreateSqlJobRequestBody"},"x-order":3,"x-vision":""}],"produces":[],"responses":{"200":{"description":"提交SQL作业成功","schema":{"$ref":"#/definitions/CreateSqlJobResponseBody"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/FailResponse"}},"500":{"description":"Internal Server Error"}},"summary":"提交SQL作业","tags":["SQL作业-作业相关API"],"x-apiErrorCodes":[],"x-is-registered":"Y","x-open-region-cloud":"hc,hws_hk","x-support-sdk":"Y"}}},"product_short":"DLI","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"提交SQL作业","tags":"SQL作业-作业相关API","uri":null,"version":"2.0"}