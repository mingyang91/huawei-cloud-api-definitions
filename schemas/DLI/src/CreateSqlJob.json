{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"CreateSqlJobRequestBody":{"description":"提交SQL作业","properties":{"conf":{"default":"dli.sql.sqlasync.enabled = true","description":"参数解释: 用户以“key/value”的形式设置用于此作业的配置参数 示例: spark.sql.files.maxRecordsPerFile = 0, spark.sql.shuffle.partitions = 200\n约束限制:  元素满足key=value格式的字符串数组\n取值范围: 无\n默认取值: dli.sql.sqlasync.enabled = true","example":"spark.sql.files.maxRecordsPerFile = 0, spark.sql.shuffle.partitions = 200","items":{"type":"string"},"type":"array"},"current_catalog":{"description":"参数解释: 待提交作业的表默认catalog 示例: dli\n约束限制:  匹配正则表达式'^(?!_)(?![0-9]+$)[A-Za-z0-9_]*$'且长度在[0,128]范围内的字符串\n取值范围: 无\n默认取值: 无","example":"dli","maxLength":128,"minLength":0,"pattern":"^(?!_)(?![0-9]+$)[A-Za-z0-9_]*$","type":"string","x-vision":""},"currentdb":{"description":"参数解释: SQL语句执行所在的数据库。当创建新数据库时,不需要提供此参数 示例: db1\n约束限制:  匹配正则表达式'^(?!_)(?![0-9]+$)[A-Za-z0-9_]*$'且长度在[0,128]范围内的字符串\n取值范围: 无\n默认取值: 无","example":"db1","maxLength":128,"minLength":0,"pattern":"^(?!_)(?![0-9]+$)[A-Za-z0-9_]*$","type":"string","x-vision":""},"engine_type":{"description":"参数解释: 待提交作业的队列引擎名称,名称只能包含英文字母 示例: hetuEngine\n约束限制:  无\n取值范围: hetuEngine,spark\n默认取值: 无","enum":["hetuEngine","spark"],"example":"hetuEngine","type":"string","x-vision":""},"queue_name":{"description":"参数解释: 待提交作业的队列名称,名称只能包含数字、英文字母和下划线,但不能是纯数字,且不能以下划线开头 示例: q1\n约束限制:  匹配正则表达式'^(?!_)(?![0-9]+$)[A-Za-z0-9_]*$'且长度在[1,128]范围内的字符串\n取值范围: 无\n默认取值: 无","example":"q1","maxLength":128,"minLength":1,"pattern":"^(?!_)(?![0-9]+$)[A-Za-z0-9_]*$","type":"string","x-vision":""},"sql":{"description":"参数解释: 待执行的SQL语句 示例: desc table1\n约束限制:  无\n取值范围: 无\n默认取值: 无","example":"desc table1","maxLength":500000,"type":"string"},"tags":{"description":"作业标签","items":{"$ref":"#/definitions/Tag","description":""},"type":"array"}},"required":["sql"]},"CreateSqlJobResponseBody":{"description":"提交SQL作业","properties":{"is_success":{"description":"参数解释: 当“job_type”为“DCL”时,为请求执行是否成功。“true”表示请求执行成功 示例: true\n约束限制:  无\n取值范围: true,false\n默认取值: 无","example":true,"type":"boolean","x-vision":""},"job_id":{"description":"参数解释: 此SQL语句将生成并提交一个新作业,返回此作业的ID,可用于获取作业状态和作业结果 示例: 8ecb0777-9c70-4529-9935-29ea0946039c\n约束限制:  无\n取值范围: 无\n默认取值: 无","example":"8ecb0777-9c70-4529-9935-29ea0946039c","type":"string","x-vision":""},"job_mode":{"description":"参数解释:  表示作业执行方式,是同步还是异步的 示例: async\n约束限制:  无\n取值范围: async(异步) sync(同步)\n默认取值: 无","enum":["async","sync"],"example":"async","type":"string"},"job_type":{"description":"参数解释:  指定查询的作业类型,包含DDL、DCL、IMPORT、EXPORT、QUERY、INSERT、DATA_MIGRATION、UPDATE、DELETE、RESTART_QUEUE、SCALE_QUEUE,若要查询所有类型的作业,则传入ALL。 示例: QUERY\n约束限制:  无\n取值范围: DDL、DCL、IMPORT、EXPORT、QUERY、INSERT、DATA_MIGRATION、UPDATE、DELETE、RESTART_QUEUE、SCALE_QUEUE、ALL\n默认取值: 无","enum":["DDL","DCL","IMPORT","EXPORT","QUERY","INSERT","DATA_MIGRATION","UPDATE","DELETE","RESTART_QUEUE","SCALE_QUEUE","ALL"],"example":"DCL","type":"string","x-vision":""},"message":{"description":"参数解释: 系统提示信息,执行成功时,信息可能为空 示例: success\n约束限制:  无\n取值范围: 无\n默认取值: 无","example":"success","type":"string","x-vision":""},"rows":{"description":"参数解释:  当语句类型为DDL时,直接返回其执行结果 示例: [[\"c1\",\"int\",null],[\"c2\",\"string\",null]]\n约束限制:  无\n取值范围: 无\n默认取值: 无","items":{"items":{"type":"object"},"type":"array"},"type":"array","x-vision":""},"schema":{"description":"参数解释:  当语句类型为DDL时,返回其结果的列名称及类型 示例: [{\"col_name\": \"string\"},{\"data_type\": \"string\"},{\"comment\": \"string\"}]\n约束限制:  无\n取值范围: 无\n默认取值: 无","example":"[{\"col_name\": \"string\"},{\"data_type\": \"string\"},{\"comment\": \"string\"}]","items":{"type":"object"},"type":"array","x-vision":""}},"required":["is_success","job_id","job_type","message"]},"FailResponse":{"properties":{"error_code":{"description":"错误码。","type":"string"},"error_msg":{"description":"错误描述信息。","type":"string"}},"required":["error_code","error_msg"],"type":"object"},"Tag":{"description":"资源标签","properties":{"key":{"description":"参数解释:  键 示例: key\n约束限制:  长度大于等于1且小于等于128\n取值范围: 无\n默认取值: 无","example":"key","maxLength":128,"minLength":1,"type":"string"},"value":{"description":"参数解释:  值 示例: value\n约束限制:  长度大于等于1且小于等于255\n取值范围: 无\n默认取值: 无","example":"value","maxLength":255,"minLength":1,"type":"string"}},"required":["key","value"],"type":"object"}},"description":null,"group_id":"065e44b2fe564922aa79230ec761dca6","host":"dli.cn-north-4.myhuaweicloud.com","id":"b2f75dda00da4ccd99086b5d065fcfee","info_version":"v1","method":"post","name":"CreateSqlJob","parameters":{},"paths":{"/v1.0/{project_id}/jobs/submit-job":{"post":{"deprecated":false,"description":"该API用于通过执行SQL语句的方式向队列提交作业。\n\n作业包含以下类型:DDL、DCL、IMPORT、QUERY和INSERT。其中,IMPORT与导入数据的功能一致,区别仅在于实现方式不同。","operationId":"CreateSqlJob","parameters":[{"description":"参数解释: 项目ID 示例: 48cc2c48765f481480c7db940d6409d1\n约束限制:  无\n取值范围: 无\n默认取值: 无","in":"path","name":"project_id","required":true,"type":"string","x-example":"48cc2c48765f481480c7db940d6409d1","x-order":1},{"description":"参数解释: 租户Token 示例: 48cc2c48765f481480c7db940d6409d1\n约束限制:  无\n取值范围: 无\n默认取值: 无","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"xxx","x-order":2,"x-vision":""},{"in":"body","name":"CreateSqlJobRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateSqlJobRequestBody"},"x-order":3,"x-vision":""}],"responses":{"200":{"description":"提交SQL作业成功","schema":{"$ref":"#/definitions/CreateSqlJobResponseBody"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/FailResponse"}},"500":{"description":"Internal Server Error"}},"summary":"提交SQL作业","tags":["SQL作业-作业相关API"],"x-apiErrorCodes":"[]","x-is-registered":"Y","x-open-region-cloud":"hc,hws_hk","x-order":1,"x-support-sdk":"Y"}}},"product_short":"DLI","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"提交SQL作业","tags":"SQL作业-作业相关API","uri":null,"version":"2.0"}