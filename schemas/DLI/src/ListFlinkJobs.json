{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"FailResponse":{"properties":{"error_code":{"description":"错误码。","type":"string"},"error_msg":{"description":"错误描述信息。","type":"string"}},"required":["error_code","error_msg"],"type":"object"},"FlinkJobConfig":{"description":"作业配置,当“show_detail”为“true”时才有该参数配置。","properties":{"checkpoint_enabled":{"default":false,"description":"是否开启作业自动快照功能。\n开启:true;\n关闭:false;\n默认:false。","example":false,"type":"boolean","x-vision":""},"checkpoint_interval":{"default":10,"description":"快照时间间隔, 单位为秒,默认值为10。","example":10,"format":"int32","type":"integer","x-vision":""},"checkpoint_mode":{"description":"快照模式:\nexactly_once:数据只被消费一次。\nat_least_once:数据至少被消费一次。\n默认值为exactly_once。","type":"string","x-vision":""},"cu_number":{"default":2,"description":"用户为作业选择的CU数量, “show_detail”。默认为2。","example":2,"format":"int32","maximum":400,"minimum":2,"type":"integer","x-vision":""},"dependency_files":{"description":"用户已上传到DLI资源管理系统的资源包名,用户自定义作业的依赖文件.","items":{"type":"string"},"type":"array","x-vision":""},"dependency_jars":{"description":"用户已上传到DLI资源管理系统的资源包名,用户自定义作业的其他依赖包","items":{"type":"string"},"type":"array","x-vision":""},"dirty_data_strategy":{"description":"作业脏数据策略。\n“2:obs-wan-wulan3/jobs”:保存\n“1”:抛出异常\n“0”:忽略","type":"string","x-vision":""},"edge_group_ids":{"description":"边缘计算组ID列表。","example":"62de1e1c-066e-48a8-a79d-f461a31b2ee1,2eb00f85-99f2-4144-bcb7-d39ff47f9002","items":{"type":"string"},"type":"array","x-vision":""},"entrypoint":{"description":"用户已上传到DLI资源管理系统的资源包名,用户自定义作业主类所在的jar包.","type":"string","x-vision":""},"executor_cu_number":{"description":"计算节点cu数","format":"int32","type":"integer","x-vision":""},"executor_number":{"description":"作业使用计算节点个数","format":"int32","type":"integer","x-vision":""},"idle_state_retention":{"description":"空闲状态过期周期。","format":"int32","type":"integer","x-vision":""},"log_enabled":{"default":false,"description":"是否启用日志存储。默认为false。","example":false,"type":"boolean","x-vision":""},"manager_cu_number":{"description":"管理单元CU数。默认为1。","example":1,"format":"int32","type":"integer","x-vision":""},"obs_bucket":{"description":"OBS桶名。","example":"obs-demo","type":"string","x-vision":""},"parallel_number":{"default":1,"description":"用户设置的作业并行数, “show_detail”为“true”时独有。默认值为1。\n最小值:1,最大值:2000。","example":1,"format":"int32","maximum":2000,"minimum":1,"type":"integer","x-vision":""},"restart_when_exception":{"description":"是否开启异常重启功能。","type":"boolean","x-vision":""},"resume_checkpoint":{"default":false,"description":"异常自动重启时,是否从最新checkpoint恢复,默认false","example":false,"type":"boolean"},"root_id":{"description":"父作业ID。","example":"11","format":"int32","type":"integer","x-vision":""},"smn_topic":{"description":"当作业异常时,向该SMN主题推送告警信息。","example":"cs_job_exception","type":"string","x-vision":""},"udf_jar_url":{"description":"用户已上传到DLI资源管理系统的资源包名,用户sql作业的udf jar通过该参数传入。","type":"string","x-vision":""}},"type":"object"},"FlinkJobInfo":{"description":"作业列表信息。","properties":{"create_time":{"description":"作业创建时间。","example":1516952770835,"format":"int64","type":"integer","x-vision":""},"desc":{"description":"作业描述。长度限制:0-2048个字符。","example":"作业描述。","maxLength":2048,"minLength":0,"type":"string","x-vision":""},"duration":{"description":"作业运行时长, 单位ms,当“show_detail”为“false”时独有。","format":"int64","type":"integer","x-vision":""},"entrypoint_args":{"description":"jar包作业运行参数,多个参数之间用空格分隔。show_detail为true时独有的。","example":"1","type":"string","x-vision":""},"execution_graph":{"description":"作业执行计划,“show_detail”为“false”时独有。","type":"string","x-vision":""},"graph_editor_enabled":{"description":"作业的流图是否可编辑。“true”表示作业的流图可以编辑,“false”表示作业的流图不可以编辑。","example":false,"type":"boolean"},"has_savepoint":{"description":"作业是否有保存点。“true”表示作业有保存点,“false”表示作业没有保存点。","example":false,"type":"boolean"},"job_config":{"$ref":"#/definitions/FlinkJobConfig","description":"作业配置,“show_detail”为“false”时独有。","x-vision":""},"job_id":{"description":"作业ID。","example":50320,"format":"int64","type":"integer","x-vision":""},"job_type":{"description":"作业类型。","example":"flink_jar_job","type":"string","x-vision":""},"main_class":{"description":"jar包主类,“show_detail”为“false”时独有。","example":"org.apache.spark.examples.streaming.JavaQueueStream","type":"string","x-vision":""},"name":{"description":"作业名称。长度限制:0-57个字符。","example":"作业名","maxLength":57,"minLength":0,"type":"string","x-vision":""},"project_id":{"description":"作业所属项目标识,“show_detail”为“true”时独有。","example":"48cc2c48765f481480c7db940d6409d1","type":"string","x-vision":""},"root_id":{"description":"父作业ID,“show_detail”为“false”时独有。","format":"int64","type":"integer","x-vision":""},"run_mode":{"description":"作业运行模式:\nshared_cluster:共享。\nexclusive_cluster:独享。\nedge_node:边缘节点。\nshow_detail为true时独有.","example":"shared_cluster","type":"string","x-vision":""},"sql_body":{"description":"Stream SQL语句,“show_detail”为“false”时独有。","example":"select * from source_table","type":"string","x-vision":""},"start_time":{"description":"作业开始时间。","example":1516952710740,"format":"int64","type":"integer","x-vision":""},"status":{"description":"作业状态。","example":"job_running","type":"string","x-vision":""},"status_desc":{"description":"作业状态描述。","example":"作业状态描述。","type":"string","x-vision":""},"update_time":{"description":"作业更新时间,“show_detail”为“false”时独有。","example":1516952770835,"format":"int64","type":"integer","x-vision":""},"user_id":{"description":"作业所属用户标识,“show_detail”为“true”时独有。","example":"ac4eaa303639409c8ab099d55eb1538e","type":"string","x-vision":""},"user_name":{"description":"用户名,当“show_detail”为“false”时独有。","example":"testuser","maxLength":128,"minLength":1,"type":"string","x-vision":""}},"required":["create_time","job_id"]},"FlinkJobList":{"description":"作业列表详情。","properties":{"jobs":{"description":"作业信息","items":{"$ref":"#/definitions/FlinkJobInfo"},"type":"array","x-vision":""},"total_count":{"description":"作业查询结果条数。","example":1,"format":"int32","type":"integer","x-vision":""}}},"ListFlinkJobsResponseBody":{"description":"查询作业列表的响应参数。","properties":{"is_success":{"description":"执行请求是否成功。“true”表示请求执行成功。","example":true,"type":"boolean","x-vision":""},"job_list":{"$ref":"#/definitions/FlinkJobList","description":"作业列表信息。","x-vision":""},"message":{"description":"系统提示信息,执行成功时,信息可能为空。","example":"查询成功。","type":"string","x-vision":""}},"type":"object"}},"description":null,"group_id":"065e44b2fe564922aa79230ec761dca6","host":"dli.cn-north-4.myhuaweicloud.com","id":"8ebcfad24db24a12892dd176081f872a","info_version":"v1","method":"get","name":"ListFlinkJobs","parameters":{},"paths":{"/v1.0/{project_id}/streaming/jobs":{"get":{"deprecated":false,"description":"查询当前用户的作业列表,可以根据作业ID作为ID,查询大于ID或小于ID的限定条数的作业,默认查询全部状态的作业,也可以设定运行中或其他状态条件。","operationId":"ListFlinkJobs","parameters":[{"description":"项目ID。","in":"path","name":"project_id","required":true,"type":"string","x-example":"48cc2c48765f481480c7db940d6409d1","x-order":1},{"description":"作业类型","in":"query","name":"job_type","required":false,"type":"string","x-example":"flink_jar_job","x-order":7,"x-vision":""},{"default":10,"description":"返回的数据条数。默认为10。","format":"int32","in":"query","name":"limit","required":false,"type":"integer","x-example":100,"x-order":13,"x-vision":""},{"description":"作业名称。长度限制:0-57个字符。","in":"query","maxLength":57,"minLength":0,"name":"name","required":false,"type":"string","x-example":"myjob","x-order":3,"x-vision":""},{"description":"作业偏移量。","format":"int64","in":"query","name":"offset","required":false,"type":"integer","x-example":10000,"x-order":12,"x-vision":""},{"default":"desc","description":"查询结果排序,升序asc和降序desc两种可选,默认降序。","in":"query","name":"order","required":false,"type":"string","x-example":"asc","x-order":11,"x-vision":""},{"description":"队列名称。","in":"query","name":"queue_name","required":false,"type":"string","x-example":"queue1","x-order":5,"x-vision":""},{"description":"边缘父作业ID, 用于查询指定边缘作业的子作业。不带该参数时, 查询所有非边缘作业和边缘父作业, 不包括边缘子作业。","format":"int64","in":"query","name":"root_job_id","required":false,"type":"integer","x-example":548483,"x-order":14,"x-vision":""},{"default":false,"description":"是否返回作业详情信息。默认为false。","in":"query","name":"show_detail","required":false,"type":"boolean","x-example":false,"x-order":10,"x-vision":""},{"description":"作业状态码。","in":"query","name":"status","required":false,"type":"string","x-example":"200","x-order":6,"x-vision":""},{"in":"query","name":"sys_enterprise_project_name","required":false,"type":"string","x-order":9},{"in":"query","name":"tags","required":false,"type":"string","x-order":8},{"description":"用户名,可作为筛选条件","in":"query","name":"user_name","required":false,"type":"string","x-order":4,"x-vision":""},{"description":"租户Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"xxx","x-order":2,"x-vision":""}],"responses":{"200":{"description":"查询作业列表成功。","examples":{"application/json":{"is_success":"true","job_list":{"jobs":[{"create_time":1578892414688,"desc":"","duration":0,"graph_editor_enabled":false,"has_savepoint":false,"job_id":146,"job_type":"flink_sql_job","name":"aaaaa","root_id":-1,"status":"job_init","status_desc":"","user_name":""}],"total_count":26},"message":"作业列表查询成功"}},"schema":{"$ref":"#/definitions/ListFlinkJobsResponseBody"}},"400":{"description":"Bad Request","examples":{"application/json":{"error_code":"DLI.23001","error_msg":"查询作业列表失败,使用了错误的offset参数请设置不小于0的offset参数获取作业列表"}},"schema":{"$ref":"#/definitions/FailResponse"}}},"summary":"查询Flink作业列表","tags":["Flink作业-作业相关API"],"x-apiErrorCodes":"[]","x-is-registered":"Y","x-open-region-cloud":"hc,hws_hk","x-order":5,"x-support-sdk":"Y"}}},"product_short":"DLI","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询Flink作业列表","tags":"Flink作业-作业相关API","uri":null,"version":"2.0"}