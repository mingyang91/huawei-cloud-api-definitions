{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"FailResponse":{"properties":{"error_code":{"description":"错误码。","type":"string"},"error_msg":{"description":"错误描述信息。","type":"string"}},"required":["error_code","error_msg"],"type":"object"},"ListSqlJobsResponseBody":{"description":"查询所有作业","properties":{"is_success":{"description":"参数解释:  请求发送是否成功。“true”表示请求发送成功 示例: true\n约束限制:  无\n取值范围: true, false\n默认取值: 无","example":true,"type":"boolean","x-vision":""},"job_count":{"description":"参数解释:  作业总个数 示例: 7\n约束限制:  无\n取值范围: 大于等于0的整数\n默认取值: 无","example":7,"format":"int32","type":"integer","x-vision":""},"jobs":{"description":"作业信息。","items":{"$ref":"#/definitions/SqlJob"},"type":"array","x-vision":""},"message":{"description":"参数解释:  系统提示信息,执行成功时,信息可能为空 示例: import data to table t2 started\n约束限制:  无\n取值范围: 无\n默认取值: 无","example":"import data to table t2 started","type":"string","x-vision":""}},"required":["is_success","message","job_count","jobs"],"type":"object"},"SqlJob":{"description":"作业信息。","properties":{"bad_row_count":{"description":"Insert作业执行过程中扫描到的错误记录数 示例: 666\n约束限制:  无\n取值范围: 大于等于0的整数\n默认取值: 无","example":666,"format":"int64","type":"integer","x-vision":""},"cpu_cost":{"description":"作业的CPU累计使用量 示例: 15376\n约束限制:  无\n取值范围: 无\n默认取值: 无","example":"15376","type":"string"},"database_name":{"description":"记录其操作的表所在的数据库名称。类型为Import和Export作业才有“database_name”属性 示例: db2\n约束限制:  无\n取值范围: 无\n默认取值: 无","example":"db2","type":"string","x-vision":""},"detail":{"description":"SQL查询的相关列信息的Json字符串 示例: {\\\"type\\\":\\\"struct\\\",\\\"fields\\\":[{\\\"name\\\":\\\"name\\\",\\\"type\\\":\\\"string\\\",\\\"nullable\\\":true,\\\"metadata\\\":{}},{\\\"name\\\":\\\"age\\\",\\\"type\\\":\\\"integer\\\",\\\"nullable\\\":true,\\\"metadata\\\":{}}]}\n约束限制:  符合Json格式的字符串\n取值范围: 无\n默认取值: 无","example":"{\\\"type\\\":\\\"struct\\\",\\\"fields\\\":[{\\\"name\\\":\\\"name\\\",\\\"type\\\":\\\"string\\\",\\\"nullable\\\":true,\\\"metadata\\\":{}},{\\\"name\\\":\\\"age\\\",\\\"type\\\":\\\"integer\\\",\\\"nullable\\\":true,\\\"metadata\\\":{}}]}","type":"string","x-vision":""},"duration":{"description":"作业运行时长,单位毫秒 示例: 30000\n约束限制:  无\n取值范围: 大于等于0的整数\n默认取值: 无","example":30000,"format":"int64","type":"integer","x-vision":""},"end_time":{"description":"作业结束的时间。是单位为“毫秒”的时间戳 示例: 1502349803729\n约束限制:  无\n取值范围: 大于等于0的整数\n默认取值: 无","example":1502349803729,"format":"int64","type":"integer"},"engine_type":{"description":"引擎类型 示例: spark\n约束限制:  无\n取值范围: spark, hetuEngine\n默认取值: 无","enum":["spark","hetuEngine"],"example":"spark","type":"string","x-vision":""},"execution_details_path":{"description":"作业执行计划的存储路径。","example":"obs://bucketName/jobs/execution_details/xxx/2023/11/10/xxx","type":"string"},"input_row_count":{"description":"Insert作业执行过程中扫描的记录条数 示例: 66\n约束限制:  无\n取值范围: 大于等于0的整数\n默认取值: 无","example":66,"format":"int64","type":"integer","x-vision":""},"input_size":{"description":"作业执行过程中扫描文件的大小 示例: 5\n约束限制:  无\n取值范围: 大于等于0的整数\n默认取值: 无","example":5,"format":"int64","type":"integer","x-vision":""},"job_id":{"description":"参数解释:  作业ID 示例: 6d2146a0-c2d5-41bd-8ca0-ca9694ada992\n约束限制:  无\n取值范围: 无\n默认取值: 无","example":"6d2146a0-c2d5-41bd-8ca0-ca9694ada992","type":"string","x-vision":""},"job_type":{"description":"参数解释:  指定查询的作业类型,包含DDL、DCL、IMPORT、EXPORT、QUERY、INSERT、DATA_MIGRATION、UPDATE、DELETE、RESTART_QUEUE、SCALE_QUEUE,若要查询所有类型的作业,则传入ALL。 示例: QUERY\n约束限制:  无\n取值范围: DDL、DCL、IMPORT、EXPORT、QUERY、INSERT、DATA_MIGRATION、UPDATE、DELETE、RESTART_QUEUE、SCALE_QUEUE、ALL\n默认取值: 无","example":"QUERY","type":"string","x-vision":""},"message":{"description":"系统提示信息 示例: Navicat Data Modeler enables you to build high-quality conceptual, logical and physical data models for a wide variety of audiences. Navicat 15 has added support for the system-wide dark mode. Creativity is intelligence having fun. The On Startup feature allows you to control what tabs appear when you launch Navicat. In the Objects tab, you can use the List List, Detail Detail and ER Diagram ER Diagram buttons to change the object view. If your Internet Service Provider (ISP) does not provide direct access to its server, Secure Tunneling Protocol (SSH) / HTTP is another solution. A man’s best friends are his ten fingers. Export Wizard allows you to export data from tables, collections, views, or query results to any available formats. Navicat 15 has added support for the system-wide dark mode. Secure Sockets Layer(SSL) is a protocol for transmitting private documents via the Internet. A man’s best friends are his ten fingers. Navicat Monitor is a safe, simple and agentless remote server monitoring tool that is packed with powerful features to make your monitoring effective as possible. The past has no power over the present moment. Such sessions are also susceptible to session hijacking, where a malicious user takes over your session once you have authenticated. A man is not old until regrets take the place of dreams. Secure SHell (SSH) is a program to log in into another computer over a network, execute commands on a remote server, and move files from one machine to another. Secure SHell (SSH) is a program to log in into another computer over a network, execute commands on a remote server, and move files from one machine to another. Champions keep playing until they get it right. All journeys have secret destinations of which the traveler is unaware. Flexible settings enable you to set up a custom key for comparison and synchronization. Navicat authorizes you to make connection to remote servers running on different platforms (i.e. Windows, macOS, Linux and UNIX), and supports PAM and GSSAPI authentication. To successfully establish a new connection to local/remote server - no matter via SSL, SSH or HTTP, set the database login information in the General tab. It can also manage cloud databases such as Amazon Redshift, Amazon RDS, Alibaba Cloud. Features in Navicat are sophisticated enough to provide professional developers for all their specific needs, yet easy to learn for users who are new to database server. After logged in the Navicat Cloud feature, the Navigation pane will be divided into Navicat Cloud and My Connections sections.\n约束限制:  无\n取值范围: 无\n默认取值: 无","example":"Navicat Data Modeler enables you to build high-quality conceptual, logical and physical data models for a wide variety of audiences. Navicat 15 has added support for the system-wide dark mode. Creativity is intelligence having fun. The On Startup feature allows you to control what tabs appear when you launch Navicat. In the Objects tab, you can use the List List, Detail Detail and ER Diagram ER Diagram buttons to change the object view. If your Internet Service Provider (ISP) does not provide direct access to its server, Secure Tunneling Protocol (SSH) / HTTP is another solution. A man’s best friends are his ten fingers. Export Wizard allows you to export data from tables, collections, views, or query results to any available formats. Navicat 15 has added support for the system-wide dark mode. Secure Sockets Layer(SSL) is a protocol for transmitting private documents via the Internet. A man’s best friends are his ten fingers. Navicat Monitor is a safe, simple and agentless remote server monitoring tool that is packed with powerful features to make your monitoring effective as possible. The past has no power over the present moment. Such sessions are also susceptible to session hijacking, where a malicious user takes over your session once you have authenticated. A man is not old until regrets take the place of dreams. Secure SHell (SSH) is a program to log in into another computer over a network, execute commands on a remote server, and move files from one machine to another. Secure SHell (SSH) is a program to log in into another computer over a network, execute commands on a remote server, and move files from one machine to another. Champions keep playing until they get it right. All journeys have secret destinations of which the traveler is unaware. Flexible settings enable you to set up a custom key for comparison and synchronization. Navicat authorizes you to make connection to remote servers running on different platforms (i.e. Windows, macOS, Linux and UNIX), and supports PAM and GSSAPI authentication. To successfully establish a new connection to local/remote server - no matter via SSL, SSH or HTTP, set the database login information in the General tab. It can also manage cloud databases such as Amazon Redshift, Amazon RDS, Alibaba Cloud. Features in Navicat are sophisticated enough to provide professional developers for all their specific needs, yet easy to learn for users who are new to database server. After logged in the Navicat Cloud feature, the Navigation pane will be divided into Navicat Cloud and My Connections sections.","type":"string"},"output_byte":{"description":"作业的输出字节数 示例: 35\n约束限制:  无\n取值范围: 无\n默认取值: 无","example":"35","type":"string"},"owner":{"description":"提交作业的用户 示例: tenant1\n约束限制:  无\n取值范围: 无\n默认取值: 无","example":"tenant1","type":"string","x-vision":""},"queue_name":{"description":"作业提交的对列 示例: ci_sql\n约束限制:  无\n取值范围: 无\n默认取值: 无","example":"ci_sql","type":"string","x-vision":""},"result_count":{"description":"当前作业返回的结果总条数或insert作业插入的总条数 示例: 55\n约束限制:  无\n取值范围: 大于等于0的整数\n默认取值: 无","example":55,"format":"int64","type":"integer","x-vision":""},"result_format":{"description":"作业结果的存储格式,当前只支持csv","example":"csv","type":"string"},"result_path":{"description":"作业结果的存储路径。","example":"obs://bucketName/jobs/result/xxx/2023/11/10/xxx","type":"string"},"start_time":{"description":"作业开始的时间。是单位为“毫秒”的时间戳 示例: 1502349803729\n约束限制:  无\n取值范围: 大于等于0的整数\n默认取值: 无","example":1502349803729,"format":"int64","type":"integer","x-vision":""},"statement":{"description":"作业执行的SQL语句 示例: select * from t_json_002\n约束限制:  无\n取值范围: 无\n默认取值: 无","example":"select * from t_json_002","type":"string","x-vision":""},"status":{"description":"此作业的当前状态 示例: CANCELLED\n约束限制:  无\n取值范围: LAUNCHING(提交中) RUNNING(运行中) FINISHED(完成) FAILED(失败) CANCELLED(取消)\n默认取值: 无","enum":["LAUNCHING","RUNNING","FINISHED","FAILED","CANCELLED"],"example":"CANCELLED","type":"string","x-vision":""},"table_name":{"description":"记录其操作的表名称。类型为Import和Export作业才有“table_name”属性 示例: t2\n约束限制:  无\n取值范围: 无\n默认取值: 无","example":"t2","type":"string","x-vision":""},"tags":{"description":"作业标签","items":{"$ref":"#/definitions/Tag"},"type":"array"},"with_column_header":{"description":"Import类型的作业,记录其导入的数据是否包括列名 示例: true\n约束限制:  无\n取值范围: true, false\n默认取值: 无","example":true,"type":"boolean","x-vision":""}},"required":["job_id","job_type","queue_name","owner","start_time","status","input_size","result_count","detail","statement"],"type":"object"},"Tag":{"description":"资源标签","properties":{"key":{"description":"参数解释:  键 示例: key\n约束限制:  长度大于等于1且小于等于128\n取值范围: 无\n默认取值: 无","example":"key","maxLength":128,"minLength":1,"type":"string"},"value":{"description":"参数解释:  值 示例: value\n约束限制:  长度大于等于1且小于等于255\n取值范围: 无\n默认取值: 无","example":"value","maxLength":255,"minLength":1,"type":"string"}},"required":["key","value"],"type":"object"}},"description":null,"group_id":"065e44b2fe564922aa79230ec761dca6","host":"dli.cn-north-4.myhuaweicloud.com","id":"e5418d9f75ed4a42ad5228f770729a41","info_version":"v1","method":"get","name":"ListSqlJobs","parameters":{},"paths":{"/v1.0/{project_id}/jobs":{"get":{"deprecated":false,"description":"该API用于查询当前工程下面的所有作业的信息。","operationId":"ListSqlJobs","parameters":[{"description":"参数解释:  项目ID 示例: 48cc2c48765f481480c7db940d6409d1\n约束限制:  无\n取值范围: 无\n默认取值: 无","in":"path","name":"project_id","required":true,"type":"string","x-example":"48cc2c48765f481480c7db940d6409d1","x-order":1},{"default":1,"description":"参数解释:  当前页码,默认为第一页 示例: 55\n约束限制:  无\n取值范围: 大于1的整数\n默认取值: 1","format":"int32","in":"query","minimum":1,"name":"current-page","required":false,"type":"integer","x-example":55,"x-order":4,"x-vision":""},{"description":"参数解释:  数据库名称 示例: UQuery\n约束限制:  长度小于等于16\n取值范围: 无\n默认取值: 无","in":"query","maxLength":16,"name":"db_name","required":false,"type":"string","x-example":"UQuery","x-order":9},{"description":"参数解释:  用于查询开始时间在该时间点之前的作业。时间格式为unix时间戳,单位:毫秒 示例: 156789546456\n约束限制:  无\n取值范围: 大于等于0的整数\n默认取值: 无","format":"int64","in":"query","name":"end","required":false,"type":"integer","x-example":156789546456,"x-order":6,"x-vision":""},{"description":"参数解释:  引擎类型。支持配置spark引擎或hetuEngine引擎 示例: spark\n约束限制:  无\n取值范围: spark、hetuEngine\n默认取值: 无","enum":["spark","hetuEngine"],"in":"query","name":"engine-type","required":false,"type":"string","x-example":"spark","x-order":14},{"description":"参数解释:  指定查询的作业状态 示例: FINISHED\n约束限制:  长度小于等于16\n取值范围: LAUNCHING RUNNING FAILED CANCELLED COMPUTED SUSPENDED ACTIVE DELETED CREATING FINISHED SCALING\n默认取值: 无","enum":["LAUNCHING","RUNNING","FAILED","CANCELLED","COMPUTED","SUSPENDED","ACTIVE","DELETED","CREATING","FINISHED","SCALING"],"in":"query","maxLength":16,"name":"job-status","required":false,"type":"string","x-example":"FINISHED","x-order":8},{"description":"参数解释:  作业id 示例: bac76d9b-2891-4c50-a920-b98d8634fd0f\n约束限制:  无\n取值范围: 无\n默认取值: 无","in":"query","name":"job-id","required":false,"type":"string","x-example":"bac76d9b-2891-4c50-a920-b98d8634fd0f","x-order":4},{"description":"参数解释:  指定查询的作业类型,包含DDL、DCL、IMPORT、EXPORT、QUERY、INSERT、DATA_MIGRATION、UPDATE、DELETE、RESTART_QUEUE、SCALE_QUEUE,若要查询所有类型的作业,则传入ALL。 示例: QUERY\n约束限制:  无\n取值范围: DDL、DCL、IMPORT、EXPORT、QUERY、INSERT、DATA_MIGRATION、UPDATE、DELETE、RESTART_QUEUE、SCALE_QUEUE、ALL\n默认取值: 无","enum":["DDL","DCL","IMPORT","EXPORT","QUERY","INSERT","DATA_MIGRATION","UPDATE","DELETE","RESTART_QUEUE","SCALE_QUEUE","ALL"],"in":"query","maxLength":16,"name":"job-type","required":false,"type":"string","x-example":"INSERT","x-order":7,"x-vision":""},{"default":"start_time_desc","description":"参数解释:  指定作业排序方式 示例: duration_desc\n约束限制:  无\n取值范围: start_time_desc(作业提交时间降序) start_time_asc(作业提交时间升序) duration_desc(作业运行时长降序) duration_asc(作业运行时长升序)\n默认取值: start_time_desc","enum":["duration_desc","duration_asc","start_time_desc","start_time_asc"],"in":"query","name":"order","required":false,"type":"string","x-example":"duration_desc","x-order":13,"x-vision":""},{"description":"参数解释:  提交作业的用户名称 示例: ei_dlics_d00352431\n约束限制:  无\n取值范围: 无\n默认取值: 无","in":"query","name":"owner","required":false,"type":"string","x-example":"ei_dlics_d00352431","x-order":15},{"default":50,"description":"参数解释:  每页显示的最大作业个数 示例: 5\n约束限制:  无\n取值范围: [1, 100]\n默认取值: 50","format":"int32","in":"query","maximum":100,"minimum":1,"name":"page-size","required":false,"type":"integer","x-example":5,"x-order":3,"x-vision":""},{"description":"参数解释:  指定queue_name作为作业过滤条件,查询在指定queue上运行的作业 示例: q1\n约束限制:  匹配正则表达式^(?!_)(?![0-9]+$)[A-Za-z0-9_]*$且长度在[1, 128]范围内的字符串\n取值范围: 无\n默认取值: 无","in":"query","maxLength":128,"minLength":1,"name":"queue_name","pattern":"^(?!_)(?![0-9]+$)[A-Za-z0-9_]*$","required":false,"type":"string","x-example":"q1","x-order":11,"x-vision":""},{"description":"参数解释:  指定sql片段作为作业过滤条件,不区分大小写 示例: .*?\n约束限制:  长度在[0, 1024]范围内的字符串\n取值范围: 无\n默认取值: 无","in":"query","maxLength":1024,"name":"sql_pattern","required":false,"type":"string","x-example":".*?","x-order":12,"x-vision":""},{"description":"参数解释:  用于查询开始时间在该时间点之后的作业。时间格式为unix时间戳,单位:毫秒 示例: 156456784655\n约束限制:  无\n取值范围: 大于等于1的整数\n默认取值: 无","format":"int64","in":"query","minimum":1,"name":"start","required":false,"type":"integer","x-example":156456784655,"x-order":5,"x-vision":""},{"description":"参数解释:  记录其操作的表名称。类型为Import和Export作业才有“table_name”属性 示例: CS_JOB\n约束限制:  无\n取值范围: 无\n默认取值: 无","in":"query","name":"table_name","required":false,"type":"string","x-example":"CS_JOB","x-order":10},{"description":"参数解释:  指定作业标签作为过滤条件,支持多标签过滤。格式为“key=value”,如:GET /v1.0/{project_id}/jobs?tags=k1%3Dv1,“=”需要转义为“%3D”,“k1”为标签键,“v1”为标签值 示例: key=value\n约束限制:  格式为“key=value”的字符串\n取值范围: 无\n默认取值: 无","in":"query","name":"tags","required":false,"type":"string","x-example":"key=value","x-order":16},{"description":"参数解释:  租户ID\n约束限制:  无\n取值范围: 无\n默认取值: 无","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"xxx","x-order":2,"x-vision":""},{"description":"参数解释:  指定查询的作业类型列表,包含DDL、DCL、IMPORT、EXPORT、QUERY、INSERT、DATA_MIGRATION、UPDATE、DELETE、RESTART_QUEUE、SCALE_QUEUE,若要查询所有类型的作业,则传入ALL。 示例: QUERY\n约束限制:  无\n取值范围: DDL、DCL、IMPORT、EXPORT、QUERY、INSERT、DATA_MIGRATION、UPDATE、DELETE、RESTART_QUEUE、SCALE_QUEUE、ALL\n默认取值: 无","in":"query","items":{"enum":["DDL","DCL","IMPORT","EXPORT","QUERY","INSERT","UPDATE","DELETE"],"maxLength":16,"type":"string"},"name":"job_types","required":false,"type":"array"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ListSqlJobsResponseBody"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/FailResponse"}},"500":{"description":"Internal Server Error"}},"summary":"查询所有作业","tags":["SQL作业-作业相关API"],"x-apiErrorCodes":"[]","x-is-registered":"Y","x-open-region-cloud":"hc,hws_hk","x-order":7,"x-support-sdk":"Y"}}},"product_short":"DLI","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询所有作业","tags":"SQL作业-作业相关API","uri":null,"version":"2.0"}