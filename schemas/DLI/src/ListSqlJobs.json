{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"FailResponse":{"description":"","properties":{"error_code":{"description":"错误码。","type":"string"},"error_msg":{"description":"错误描述信息。","type":"string"}},"required":["error_code","error_msg"]},"ListJobs_jobs":{"description":"作业信息。","properties":{"bad_row_count":{"description":"Insert作业执行过程中扫描到的错误记录数。","example":666,"format":"int64","type":"integer","x-vision":""},"cpu_cost":{"description":"作业的CPU累计使用量","example":"15376","type":"string"},"database_name":{"description":"记录其操作的表所在的数据库名称。类型为Import和Export作业才有“database_name”属性。","example":"db2","type":"string","x-vision":""},"detail":{"description":"SQL查询的相关列信息的Json字符串。","example":"{\\\"type\\\":\\\"struct\\\",\\\"fields\\\":[{\\\"name\\\":\\\"name\\\",\\\"type\\\":\\\"string\\\",\\\"nullable\\\":true,\\\"metadata\\\":{}},{\\\"name\\\":\\\"age\\\",\\\"type\\\":\\\"integer\\\",\\\"nullable\\\":true,\\\"metadata\\\":{}}]}","type":"string","x-vision":""},"duration":{"description":"作业运行时长,单位毫秒。","format":"int64","type":"integer","x-vision":""},"end_time":{"description":"作业结束的时间。是单位为“毫秒”的时间戳。","example":1502349803729,"format":"int64","type":"integer"},"input_row_count":{"description":"Insert作业执行过程中扫描的记录条数。","example":66,"format":"int64","type":"integer","x-vision":""},"input_size":{"description":"作业执行过程中扫描文件的大小。","example":5,"format":"int64","type":"integer","x-vision":""},"job_id":{"description":"作业ID。","type":"string","x-vision":""},"job_type":{"description":"作业类型。","type":"string","x-vision":""},"message":{"description":"系统提示信息。","type":"string"},"output_byte":{"description":"作业的输出字节数","example":"35","type":"string"},"owner":{"description":"提交作业的用户。","type":"string","x-vision":""},"queue_name":{"description":"作业提交的队列。","type":"string","x-vision":""},"result_count":{"description":"当前作业返回的结果总条数或insert作业插入的总条数。","example":55,"format":"int64","type":"integer","x-vision":""},"start_time":{"description":"作业开始的时间。是单位为“毫秒”的时间戳。","example":1502349803729,"format":"int64","type":"integer","x-vision":""},"statement":{"description":"作业执行的SQL语句。","example":"select * from t_json_002","type":"string","x-vision":""},"status":{"description":"此作业的当前状态,包含提交(LAUNCHING)、运行中(RUNNING)、完成(FINISHED)、失败(FAILED)、取消(CANCELLED)。","enum":["LAUNCHING","RUNNING","FINISHED","FAILED","CANCELLED"],"example":"CANCELLED","type":"string","x-vision":""},"table_name":{"description":"记录其操作的表名称。类型为Import和Export作业才有“table_name”属性。","example":"t2","type":"string","x-vision":""},"tags":{"description":"作业标签","items":{"$ref":"#/definitions/TmsTagEntity","description":""},"type":"array"},"with_column_header":{"description":"Import类型的作业,记录其导入的数据是否包括列名。","example":true,"type":"boolean","x-vision":""}},"required":["detail","input_size","job_id","job_type","owner","queue_name","result_count","start_time","statement","status"]},"ListSqlJobsResponseBody":{"description":"查询所有作业","properties":{"is_success":{"description":"请求发送是否成功。“true”表示请求发送成功。","example":true,"type":"boolean","x-vision":""},"job_count":{"description":"作业总个数。","example":7,"format":"int32","type":"integer","x-vision":""},"jobs":{"description":"作业信息。","items":{"$ref":"#/definitions/ListJobs_jobs"},"type":"array","x-vision":""},"message":{"description":"系统提示信息,执行成功时,信息可能为空。","example":"import data to table t2 started","type":"string","x-vision":""}},"required":["is_success","job_count","jobs","message"]},"TmsTagEntity":{"description":"","properties":{"key":{"description":"标签的键","type":"string"},"value":{"description":"标签的值","type":"string"}},"required":["key","value"]}},"description":null,"group_id":"065e44b2fe564922aa79230ec761dca6","host":"dli.cn-north-4.myhuaweicloud.com","id":"e5418d9f75ed4a42ad5228f770729a41","info_version":"v1","method":"get","name":"ListSqlJobs","parameters":{},"paths":{"/v1.0/{project_id}/jobs":{"get":{"consumes":[],"deprecated":false,"description":"该API用于查询当前工程下面的所有作业的信息。","operationId":"ListSqlJobs","parameters":[{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string","x-example":"48cc2c48765f481480c7db940d6409d1","x-order":1},{"default":1,"description":"当前页码,默认为第一页。","format":"int32","in":"query","name":"current-page","required":false,"type":"integer","x-example":55,"x-order":4,"x-vision":""},{"description":"","in":"query","name":"db_name","required":false,"type":"string","x-order":9},{"description":"用于查询开始时间在该时间点之前的作业。时间格式为unix时间戳,单位:毫秒。","format":"int64","in":"query","name":"end","required":false,"type":"integer","x-example":156789546456,"x-order":6,"x-vision":""},{"description":"","in":"query","name":"engine-type","required":false,"type":"string","x-order":14},{"description":"","in":"query","name":"job-status","required":false,"type":"string","x-order":8},{"description":"指定查询的作业类型,包含DDL、DCL、IMPORT、EXPORT、QUERY、INSERT,若要查询所有类型的作业,则传入ALL。","enum":["DDL","DCL","IMPORT","EXPORT","QUERY","INSERT"],"in":"query","name":"job-type","required":false,"type":"string","x-example":"INSERT","x-order":7,"x-vision":""},{"default":"start_time_desc","description":"指定作业排序方式,默认为start_time_desc(作业提交时间降序),支持duration_desc(作业运行时长降序)、duration_asc(作业运行时长升序)、start_time_desc(作业提交时间降序)、start_time_asc(作业提交时间升序)四种排序方式。","enum":["duration_desc","duration_asc","start_time_desc","start_time_asc"],"in":"query","name":"order","required":false,"type":"string","x-example":"duration_desc","x-order":13,"x-vision":""},{"description":"提交作业的用户名称","in":"query","name":"owner","required":false,"type":"string","x-order":15},{"default":50,"description":"每页显示的最大作业个数,范围: [1, 100]。默认值:50。","format":"int32","in":"query","maximum":100,"minimum":1,"name":"page-size","required":false,"type":"integer","x-example":5,"x-order":3,"x-vision":""},{"description":"指定queue_name作为作业过滤条件,查询在指定queue上运行的作业。","in":"query","name":"queue_name","required":false,"type":"string","x-example":"q1","x-order":11,"x-vision":""},{"description":"指定sql片段作为作业过滤条件,不区分大小写。","in":"query","name":"sql_pattern","required":false,"type":"string","x-example":".*?","x-order":12,"x-vision":""},{"description":"用于查询开始时间在该时间点之后的作业。时间格式为unix时间戳,单位:毫秒。","format":"int64","in":"query","name":"start","required":false,"type":"integer","x-example":156456784655,"x-order":5,"x-vision":""},{"description":"","in":"query","name":"table_name","required":false,"type":"string","x-order":10},{"description":"指定作业标签作为过滤条件,支持多标签过滤。格式为“key=value”,如:GET /v1.0/{project_id}/jobs?tags=k1%3Dv1,“=”需要转义为“%3D”,“k1”为标签键,“v1”为标签值。","in":"query","name":"tags","required":false,"type":"string","x-order":16},{"description":"租户ID","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"xxx","x-order":2,"x-vision":""}],"produces":[],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ListSqlJobsResponseBody"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/FailResponse"}},"500":{"description":"Internal Server Error"}},"summary":"查询所有作业","tags":["SQL作业-作业相关API"],"x-apiErrorCodes":[],"x-is-registered":"Y","x-open-region-cloud":"hc,hws_hk","x-support-sdk":"Y"}}},"product_short":"DLI","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询所有作业","tags":"SQL作业-作业相关API","uri":null,"version":"2.0"}