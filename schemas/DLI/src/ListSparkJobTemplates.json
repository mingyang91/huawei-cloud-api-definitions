{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"FailResponse":{"properties":{"error_code":{"description":"错误码。","type":"string"},"error_msg":{"description":"错误描述信息。","type":"string"}},"required":["error_code","error_msg"],"type":"object"},"JobResource":{"description":"创建会话请求参数resources的元素。","properties":{"name":{"description":"参数解释:   资源名称 示例: group.tesddws/gsjdbc3.jar\n约束限制:  无\n取值范围: 无\n默认取值: 无","example":"group.tesddws/gsjdbc3.jar","type":"string","x-vision":""},"type":{"description":"参数解释:   资源类型 示例: jar\n约束限制:  无\n取值范围: 无\n默认取值: 无","example":"jar","type":"string","x-vision":""}},"type":"object"},"JobResourcesGroup":{"description":"创建会话请求参数groups的元素。","properties":{"name":{"description":"参数解释:   用户组名称 示例: group.tesddws\n约束限制:  无\n取值范围: 无\n默认取值: 无","example":"group.tesddws","type":"string","x-vision":""},"resources":{"description":"用户组资源。","items":{"$ref":"#/definitions/JobResource"},"type":"array","x-vision":""}},"type":"object"},"ListSparkJobTemplatesResponseBody":{"properties":{"count":{"description":"返回的模板个数","format":"int32","type":"integer"},"is_success":{"description":"执行请求是否成功。“true”表示请求执行成功。","type":"boolean"},"message":{"description":"系统提示信息,执行成功时,信息可能为空。","type":"string"},"templates":{"description":"模板信息列表。","items":{"$ref":"#/definitions/SparkJobTemplate"},"type":"array"}},"type":"object"},"SparkJobTemplate":{"properties":{"body":{"$ref":"#/definitions/SparkJobTemplateDetail","description":"模板内容"},"description":{"description":"模板描述","type":"string"},"group":{"description":"组名","type":"string"},"id":{"description":"模板id","type":"string"},"language":{"description":"语言","type":"string"},"name":{"description":"模板名字","type":"string"},"owner":{"description":"模板拥有者","type":"string"},"type":{"description":"模板类型","type":"string"}},"type":"object"},"SparkJobTemplateDetail":{"description":"创建批处理作业请求body体。","properties":{"args":{"description":"传入主类的参数。","items":{"type":"string"},"type":"array","x-vision":""},"auto_recovery":{"description":"是否开启重试功能,如果开启,可在Spark作业异常失败后自动重试。默认值为“false”。","type":"boolean"},"catalog_name":{"description":"访问元数据时,需要将该参数配置为dli。","type":"string"},"className":{"description":"批处理作业的Java/Spark主类。","example":"org.apache.spark.examples.SparkPi","type":"string","x-vision":""},"cluster_name":{"description":"用于指定队列,填写已创建DLI的队列名。","example":"test","type":"string","x-vision":""},"conf":{"additionalProperties":{"type":"object"},"description":"batch配置项。","type":"object","x-vision":""},"driverCores":{"description":"Spark应用Driver的CPU核数。该配置项会替换sc_type中对应的默认参数。","example":8,"format":"int32","type":"integer","x-vision":""},"driverMemory":{"description":"Spark应用的Driver内存, 参数配置例如2G, 2048M。该配置项会替换“sc_type”中对应的默认参数,使用时必需带单位,否则会启动失败。","example":"2G","type":"string","x-vision":""},"executorCores":{"description":"Spark应用每个Executor的CPU核数。该配置项会替换sc_type中对应的默认参数。","example":8,"format":"int32","type":"integer","x-vision":""},"executorMemory":{"description":"Spark应用的Executor内存, 参数配置例如2G, 2048M。该配置项会替换“sc_type”中对应的默认参数,使用时必需带单位,否则会启动失败。","example":"2G","type":"string","x-vision":""},"feature":{"description":"作业特性,作业运行在vm队列上支持basic,在container队列上支持basic、ai、custom,其中填写custom时需要同时填写image参数。","enum":["basic","ai","custom"],"type":"string"},"file":{"description":"用户已上传到DLI资源管理系统的类型为jar的资源包名。","example":"batchTest/spark-examples_2.11-2.1.0.luxor.jar","type":"string","x-vision":""},"files":{"description":"用户已上传到DLI资源管理系统的类型为file的资源包名。","example":"[\"count.txt\"]","items":{"type":"string"},"type":"array","x-vision":""},"groups":{"description":"JSON对象列表,填写用户组类型资源,格式详见请求示例。resources中的name未进行type校验,只要此分组中存在这个名字的包即可。","items":{"$ref":"#/definitions/JobResourcesGroup"},"type":"array","x-vision":""},"image":{"description":"自定义镜像。格式为:组织名/镜像名:镜像版本。当用户设置“feature”为“custom”时,该参数生效。用户可通过与“feature”参数配合使用,指定作业运行使用自定义的Spark镜像。关于如何使用自定义镜像,请参考《数据湖探索用户指南》。","type":"string"},"jars":{"description":"用户已上传到DLI资源管理系统的类型为jar的资源包名。","items":{"type":"string"},"type":"array","x-vision":""},"max_retry_times":{"description":"最大重试次数。最大值为“100”,默认值为“20”。","format":"int32","type":"integer"},"modules":{"description":"依赖的系统资源模块名,具体模块名可通过查询所有资源包接口查看。\nDLI系统提供了用于执行跨源作业的依赖模块,各个不同的服务对应的模块列表如下:\nCloudTable/MRS HBase: sys.datasource.hbase\nCloudTable/MRS OpenTSDB: sys.datasource.opentsdb\nRDS MySQL: sys.datasource.rds\nRDS PostGre: 不需要选\nDWS: 不需要选\nCSS: sys.datasource.css","items":{"type":"string"},"type":"array","x-vision":""},"name":{"description":"创建时用户指定的批处理名称,不能超过128个字符。","example":"TestDemo4","type":"string","x-vision":""},"numExecutors":{"description":"Spark应用Executor的个数。该配置项会替换sc_type中对应的默认参数。","example":6,"format":"int32","type":"integer","x-vision":""},"obs_bucket":{"description":"保存Spark作业的obs桶,需要保存作业时配置该参数","type":"string"},"pyFiles":{"description":"用户已上传到DLI资源管理系统的类型为pyFile的资源包名。","items":{"type":"string"},"type":"array","x-vision":""},"queue":{"description":"用于指定队列,填写已创建DLI的队列名","type":"string"},"resources":{"description":"JSON对象列表,填写用户已上传到队列的类型为JSON的资源包名和类型。","items":{"$ref":"#/definitions/JobResource"},"type":"array","x-vision":""},"sc_type":{"description":"计算资源类型,目前可接受参数A, B, C。如果不指定,则按最小类型创建。\n资源类型:\nA:物理资源:8核32G内存,driverCores:2;executorCores:1;driverMemory:7G;executorMemory:4G;numExecutor:6。\nB:16核64G内存,2,2,7G,8G,7。\nC:32核128G内存,4,2,15G,8G,14。","example":"A","type":"string","x-vision":""},"spark_version":{"description":"作业使用spark组件的版本号,在feature为“basic”或“ai”时填写,若不填写,则使用默认的spark组件版本号2.3.2。","type":"string"}},"required":["file","className"],"type":"object"}},"description":null,"group_id":"065e44b2fe564922aa79230ec761dca6","host":"dli.cn-north-4.myhuaweicloud.com","id":"2174bc20a3394ba48f9112b5faf96e7a","info_version":"v1","method":"get","name":"ListSparkJobTemplates","parameters":{},"paths":{"/v3/{project_id}/templates":{"get":{"description":"该API用于查询作业模板列表。","operationId":"ListSparkJobTemplates","parameters":[{"in":"path","name":"project_id","required":true,"type":"string"},{"description":"类型,需要且必须传入spark作为值。","in":"query","name":"type","required":false,"type":"string"},{"description":"模板名过滤关键字,模糊匹配,获取模板名含有该关键字的所有模板。","in":"query","name":"keyword","required":false,"type":"string"},{"description":"每页显示的最大结果行数,范围: [1, 1000]。默认值为:50。","format":"int32","in":"query","name":"page-size","required":false,"type":"integer"},{"description":"当前页码,默认为第一页。","format":"int32","in":"query","name":"current-page","required":false,"type":"integer"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ListSparkJobTemplatesResponseBody"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/FailResponse"}},"500":{"description":"Internal Server Error","schema":{"type":"string"}}},"summary":"查询作业模板列表","tags":["Spark作业-模板相关API"],"x-is-registered":"Y","x-open-region-cloud":"hc,hws_hk","x-order":3,"x-support-sdk":"Y"}}},"product_short":"DLI","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询作业模板列表","tags":"Spark作业-模板相关API","uri":null,"version":"2.0"}