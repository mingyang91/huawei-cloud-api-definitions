{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"ErrorResp":{"description":"请求失败时返回的错误对象响应体。","properties":{"error_code":{"description":"错误码。","example":"DRS.00000000","maxLength":12,"minLength":12,"type":"string"},"error_msg":{"description":"错误描述。","example":"Success","maxLength":512,"minLength":1,"type":"string"}},"required":["error_code","error_msg"],"type":"object"},"OfflineTaskInfo":{"description":"备份迁移任务列表信息体。","properties":{"create_time":{"description":"任务创建时间。","maxLength":128,"minLength":0,"type":"string"},"description":{"description":"描述。","maxLength":512,"minLength":0,"type":"string"},"engine_type":{"description":"数据库引擎。\n- sqlserver:RDS for SQL Server引擎","enum":["sqlserver"],"maxLength":128,"minLength":0,"type":"string"},"enterprise_project_id":{"description":"企业项目。","maxLength":128,"minLength":0,"type":"string"},"error_log":{"description":"错误日志。","maxLength":512,"minLength":0,"type":"string"},"finish_time":{"description":"任务完成时间。","maxLength":128,"minLength":0,"type":"string"},"id":{"description":"任务ID。","maxLength":128,"minLength":0,"type":"string"},"name":{"description":"任务名称。","maxLength":128,"minLength":0,"type":"string"},"status":{"description":"任务状态。\n- TRANSFERRING:恢复中\n- SUCCESS:成功\n- FAILED:失败\n- PRECHECK FAILED:预检查失败","enum":["TRANSFERRING","SUCCESS","FAILED","PRECHECK FAILED"],"maxLength":128,"minLength":0,"type":"string"}},"required":["id","name","status","engine_type","create_time"],"type":"object"},"QueryOfflineJobsResp":{"description":"获取迁移任务列表返回。","properties":{"count":{"description":"备份迁移任务总数。","exclusiveMaximum":true,"format":"int32","maximum":9999,"minimum":0,"type":"integer"},"jobs":{"description":"备份迁移任务列表。","items":{"$ref":"#/definitions/OfflineTaskInfo"},"maxItems":512,"minItems":0,"type":"array"}},"required":["count","jobs"],"type":"object"}},"description":null,"group_id":"506538835790436b8e209e5a6684d485","host":"drs.cn-north-4.myhuaweicloud.com","id":"ed1fbe20c9b5432fb78662c74c27045a","info_version":"v5","method":"get","name":"ListReplicationJobs","parameters":{},"paths":{"/v5/{project_id}/backup-migration-jobs":{"get":{"description":"获取当前备份迁移任务列表,不包含已删除的任务。","operationId":"ListReplicationJobs","parameters":[{"description":"租户在某一Region下的Project ID。 获取方法请参见[获取项目ID。](https://support.huaweicloud.com/api-drs/drs_api_0106.html)","in":"path","maxLength":128,"minLength":0,"name":"project_id","required":true,"type":"string"},{"default":"application/json","description":"发送的实体的MIME类型。推荐用户默认使用application/json,如果API是对象、镜像上传等接口,媒体类型可按照流类型的不同进行确定。","in":"header","maxLength":128,"minLength":0,"name":"Content-Type","required":true,"type":"string"},{"description":"从IAM服务获取的用户Token。 用户Token也就是调用获取用户Token接口的响应值,该接口是唯一不需要认证的接口。 请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。","in":"header","maxLength":50000,"minLength":0,"name":"X-Auth-Token","required":true,"type":"string"},{"description":"请求语言类型。\nen-us:英文\nzh-cn:中文","enum":["en-us","zh-cn"],"in":"header","maxLength":128,"minLength":0,"name":"X-Language","required":false,"type":"string"},{"description":"任务名称,支持模糊搜索。","in":"query","maxLength":128,"minLength":0,"name":"name","required":false,"type":"string"},{"description":"备份迁移任务状态。\nTRANSFERRING:恢复中\nSUCCESS:成功\nFAILED:失败\nPRECHECK FAILED:预检查失败","enum":["TRANSFERRING","SUCCESS","FAILED","PRECHECK FAILED"],"in":"query","maxLength":128,"minLength":0,"name":"status","required":false,"type":"string"},{"description":"数据库实例ID,最大数量为10。","in":"query","items":{"maxLength":128,"minLength":0,"type":"string"},"maxItems":10,"minItems":0,"name":"dbs_instance_ids","required":false,"type":"array"},{"description":"描述。","in":"query","maxLength":512,"minLength":0,"name":"description","required":false,"type":"string"},{"description":"创建时间。","in":"query","maxLength":128,"minLength":0,"name":"create_at","required":false,"type":"string"},{"description":"完成时间。","in":"query","maxLength":128,"minLength":0,"name":"completed_at","required":false,"type":"string"},{"description":"企业项目ID。","in":"query","maxLength":128,"minLength":0,"name":"enterprise_project_id","required":false,"type":"string"},{"description":"标签。","in":"query","maxLength":512,"minLength":0,"name":"tags","required":false,"type":"string"},{"description":"查询返回记录的数量限制,默认值为10。","exclusiveMaximum":true,"format":"int32","in":"query","maximum":65535,"minimum":0,"name":"limit","required":false,"type":"integer"},{"description":"偏移量,默认值为0,表示查询该偏移量后面的记录。","exclusiveMaximum":true,"format":"int32","in":"query","maximum":65535,"minimum":0,"name":"offset","required":false,"type":"integer"},{"description":"排序字段。","in":"query","maxLength":128,"minLength":0,"name":"sort_key","required":false,"type":"string"},{"description":"排序方法。","in":"query","maxLength":128,"minLength":0,"name":"sort_dir","required":false,"type":"string"}],"responses":{"200":{"description":"OK","examples":{"application/json":{"count":35,"jobs":[{"create_time":"2024-08-19T02:27:15Z","description":"目标RDS实例名称:rds-sqlserver2022-stand","engine_type":"sqlserver","enterprise_project_id":"0","finish_time":"2024-08-19T02:29:03Z","id":"0667845a-6291-4e2a-95b0-190c0abjb703","name":"DRS-6813","status":"SUCCESS"}]}},"schema":{"$ref":"#/definitions/QueryOfflineJobsResp"}},"400":{"description":"Bad Request","examples":{"application/json":{"error_code":"DRS.10000001","error_msg":"Failed."}},"schema":{"$ref":"#/definitions/ErrorResp"}}},"summary":"查询备份迁移任务列表","tags":["备份迁移"],"x-is-registered":"Y","x-order":1,"x-request-examples-description-1":"查询备份迁移迁移任务列表。","x-request-examples-url-1":"https://{endpoint}/v5/054ba152d480d55b2f5dc0069e7ddef0/backup-migration-jobs?limit=1","x-support-sdk":"Y"}}},"product_short":"DRS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询备份迁移任务列表","tags":"备份迁移","uri":null,"version":"2.0"}