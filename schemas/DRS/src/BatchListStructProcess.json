{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"BatchQueryJobReq":{"description":"查询任务请求体","properties":{"jobs":{"description":"查询任务请求体","items":{"description":"","type":"string"},"type":"array"}},"required":["jobs"]},"BatchQueryStructProcessResp":{"description":"批量查询灾备初始化进度返回体","properties":{"count":{"description":"总数","format":"int32","type":"integer"},"results":{"description":"批量查询灾备初始化进度返回列表","items":{"$ref":"#/definitions/QueryStructProcessResp","description":"查询灾备初始化进度信息体V3"},"type":"array"}},"required":["count","results"]},"QueryStructProcessResp":{"description":"查询灾备初始化进度","properties":{"error_code":{"description":"错误码","type":"string"},"error_message":{"description":"错误信息","type":"string"},"job_id":{"description":"任务ID","type":"string"},"struct_process":{"$ref":"#/definitions/StructProcessResp","description":"灾备初始化进度信息"}},"required":["job_id"]},"StructProcessResp":{"description":"灾备初始化进度","properties":{"create_time":{"description":"数据生成时间","type":"string"},"result":{"description":"对比结果","items":{"$ref":"#/definitions/StructProcessVO","description":"灾备初始化进度信息体"},"type":"array"}}},"StructProcessVO":{"description":"灾备初始化进度信息体","properties":{"dst_count":{"description":"目标对象数量","format":"int32","type":"integer"},"end_time":{"description":"结束时间","format":"int64","type":"integer"},"src_count":{"description":"源对象数量","format":"int32","type":"integer"},"start_time":{"description":"开始时间","format":"int64","type":"integer"},"status":{"description":"状态\n1:正在对比中,2:对比完成","format":"int32","type":"integer"},"type":{"description":"对象类型\nDATABASE:数据库\nSCHEMA:SCHEMA\nPACKAGE:package\nTABLE:数据表\nCOLUMN:列\nVIEW:视图\nFUNCTION:函数\nPROCEDURE:存储过程\nROUTINE:routine\nTRIGGER:触发器\nINDEX:索引\nTABLE_INDEX:普通索引,根据表汇聚\nTABLE_RENAME_OR_COPY:表重命名或复制\nTABLE_STRUCTURE:表结构\nEVENT:事件\nSYNONYM:同义词,sqlserver特有\nTYPE:自定义类型,sqlserver特有\nRULE:规则,sqlserver特有\nDEFAULT:缺省值,sqlserver特有\nPLAN_GUIDE:执行计划,sqlserver特有\nFILE_GROUP:文件组,sqlserver特有\nPARTITION_FUNCTION:分区函数,sqlserver特有\nSHARD_KEY:mongo特有\nVALIDATOR:mongo特有\nSEQUENCE:序列\nMATVIEW:物化视图\nPARTITION_SCHEME:分区方案,sqlserver特有\nACCOUNT:账户\nEXTENSION:PG 特有的一些对象:插件\nAGGREGATE:PG 特有的一些对象:聚合函数\nMATERIALIZED_VIEW:PG 特有的一些对象:物化视图\nTEXT_SEARCH_DICTIONARY:PG 特有的一些对象:文本搜索字典\nCONVERSION:PG 特有的一些对象:类型转换\nDATA_TYPE:PG 特有的一些对象:数据类型\nTEXT_SEARCH_CONFIGURATION:PG 特有的一些对象:文本搜索配置\nSTATISTICS_EXTENSION:PG 特有的一些对象:插件统计\nMEMBERSHIP:PG 特有的一些对象:用户成员关系\nEVENT_TRIGGER:PG 特有的一些对象:事件触发器\nCOLLATION:PG 特有的一些对象:排序规则\nTEXT_SEARCH_PARSER:PG 特有的一些对象:文本搜索解析器\nPRIVILEGES:PG 特有的一些对象:权限\nFOREIGN_KEY:PG 特有的一些对象:外键\nROLE:权限","type":"string"}},"required":["type","status","src_count","dst_count","start_time"],"type":"object"}},"description":null,"group_id":"506538835790436b8e209e5a6684d485","host":"drs.cn-north-4.myhuaweicloud.com","id":"178794d439e04b49b3ecc4c72bd6effa","info_version":"v3","method":"post","name":"BatchListStructProcess","parameters":{},"paths":{"/v3/{project_id}/jobs/batch-struct-process":{"post":{"description":"根据任务ID批量查询灾备初始化进度,虚拟id不支持查询。","operationId":"BatchListStructProcess","parameters":[{"description":"租户在某一region下的project ID。","in":"path","name":"project_id","required":true,"type":"string","x-order":1},{"description":"从IAM服务获取的用户Token","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":2},{"default":"en-us","description":"请求语言类型","enum":["en-us","zh-cn"],"in":"header","name":"X-Language","required":false,"type":"string","x-example":"en-us","x-order":3},{"default":"application/json","description":"指定类型为application/json","in":"header","name":"Content-Type","required":true,"type":"string","x-example":"application/json","x-order":4},{"description":"批量查询灾备初始化对象详情请求体","in":"body","name":"BatchQueryStructProcess","required":true,"schema":{"$ref":"#/definitions/BatchQueryJobReq"},"x-example":{"jobs":["9a470239-2308-4bb5-a6bc-1040402fjb21","dc67695a-ee3e-49b8-a022-a099bd81jb21"]},"x-order":5}],"responses":{"200":{"description":"OK","examples":{"application/json":{"count":1,"results":[{"struct_process":{"create_time":"1608429670521","result":[{"dst_count":0,"end_time":1608097600000,"src_count":0,"start_time":1608097599000,"status":2,"type":"table"},{"dst_count":0,"end_time":1608097600000,"src_count":0,"start_time":1608097599000,"status":2,"type":"view"},{"dst_count":0,"end_time":1608097600000,"src_count":0,"start_time":1608097599000,"status":2,"type":"table_structure"},{"dst_count":1,"end_time":1608097600000,"src_count":1,"start_time":1608097599000,"status":2,"type":"database"},{"dst_count":0,"end_time":1608097600000,"src_count":0,"start_time":1608097599000,"status":2,"type":"function"},{"dst_count":0,"end_time":1608097600000,"src_count":0,"start_time":1608097599000,"status":2,"type":"procedure"},{"dst_count":0,"end_time":1608097600000,"src_count":0,"start_time":1608097599000,"status":2,"type":"table_indexs"}]}}]}},"schema":{"$ref":"#/definitions/BatchQueryStructProcessResp"}}},"summary":"批量查询灾备初始化进度","tags":["实时灾备管理"],"x-constraint":"","x-is-registered":"Y","x-name":"批量查询灾备初始化进度","x-order":28,"x-publishpath":"BatchListStructProcess","x-request-examples-1":{"jobs":["0ea5c5a0-e1b5-4421-80a9-7c9ff27jb502"]},"x-request-examples-description-1":"批量查询灾备初始化对象详情示例\n","x-request-examples-text-1":{"jobs":["0ea5c5a0-e1b5-4421-80a9-7c9ff27jb502"]},"x-request-examples-url-1":"https://{endpoint}/v3/054ba152d480d55b2f5dc0069e7ddef0/jobs/batch-struct-detail","x-scope":"Commercial","x-support-sdk":"Y","x-version":"v3"}}},"product_short":"DRS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"批量查询灾备初始化进度","tags":"实时灾备管理","uri":null,"version":"2.0"}