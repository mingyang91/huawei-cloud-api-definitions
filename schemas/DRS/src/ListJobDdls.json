{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"DdlAlarmResp":{"description":"DDL告警信息响应体。","properties":{"checkpoint":{"description":"数据源库位点。","maxLength":128,"minLength":1,"type":"string"},"clean_time":{"description":"DDL告警清理时间。","format":"int64","type":"integer"},"ddl_text":{"description":"DDL内容。","type":"string"},"ddl_timestamp":{"description":"DDL在源库执行时间。","format":"int64","type":"integer"},"exe_result":{"description":"DDL执行结果。false执行失败,true执行成功。","type":"boolean"},"record_time":{"description":"数据记录时间。","format":"int64","type":"integer"},"seqno":{"description":"记录唯一序号。","format":"int64","type":"integer"},"status":{"description":"DDL告警状态。0无告警,1告警中。","exclusiveMaximum":true,"exclusiveMinimum":true,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"}},"required":["seqno","checkpoint","status","ddl_timestamp","ddl_text","exe_result","record_time"],"type":"object"},"ErrorResp":{"description":"请求失败时返回的错误对象响应体。","properties":{"error_code":{"description":"错误码。","example":"DRS.00000000","maxLength":12,"minLength":12,"type":"string"},"error_msg":{"description":"错误描述。","example":"Success","maxLength":512,"minLength":1,"type":"string"}},"required":["error_code","error_msg"],"type":"object"},"QueryDdlAlarmResp":{"description":"DDL告警列表响应体。","properties":{"count":{"description":"列表中的项目总数,与分页无关。","format":"int32","maximum":65535,"minimum":0,"type":"integer"},"ddl_list":{"description":"DDL告警信息列表。","items":{"$ref":"#/definitions/DdlAlarmResp"},"maxItems":65535,"minItems":0,"type":"array"}},"required":["ddl_list","count"],"type":"object"}},"description":null,"group_id":"506538835790436b8e209e5a6684d485","host":"drs.cn-north-4.myhuaweicloud.com","id":"cb1605575ad64f968fd9a8dc195ce8ff","info_version":"v5","method":"get","name":"ListJobDdls","parameters":{},"paths":{"/v5/{project_id}/jobs/{job_id}/ddl":{"get":{"description":"查询增量DDL列表,可根据status查询","operationId":"ListJobDdls","parameters":[{"description":"租户在某一Region下的Project ID。 获取方法请参见[获取项目ID。](https://support.huaweicloud.com/api-drs/drs_api_0106.html)","in":"path","maxLength":128,"minLength":1,"name":"project_id","required":true,"type":"string"},{"description":"发送的实体的MIME类型。推荐用户默认使用application/json,如果API是对象、镜像上传等接口,媒体类型可按照流类型的不同进行确定。","in":"header","maxLength":128,"minLength":1,"name":"Content-Type","required":true,"type":"string"},{"description":"从IAM服务获取的用户Token。 用户Token也就是调用获取用户Token接口的响应值,该接口是唯一不需要认证的接口。 请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。","in":"header","maxLength":30000,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string"},{"description":"请求语言类型。","in":"header","maxLength":64,"minLength":1,"name":"X-Language","required":false,"type":"string"},{"description":"偏移量,默认值为0,表示查询该偏移量后面的记录。","exclusiveMaximum":true,"exclusiveMinimum":true,"format":"int32","in":"query","maximum":65535,"minimum":0,"name":"offset","required":false,"type":"integer"},{"description":"查询返回记录的数量限制.默认值为10。","exclusiveMaximum":true,"exclusiveMinimum":true,"format":"int32","in":"query","maximum":65535,"minimum":1,"name":"limit","required":false,"type":"integer"},{"description":"DDL序列起始值。","format":"int64","in":"query","name":"start_seq_no","required":false,"type":"integer"},{"description":"DDL序列结束值。","format":"int64","in":"query","name":"end_seq_no","required":false,"type":"integer"},{"description":"DDL状态,0为无告警,1为告警中。","enum":[0,1],"format":"int32","in":"query","name":"status","required":false,"type":"integer"},{"description":"任务ID。","in":"path","name":"job_id","required":true,"type":"string"}],"responses":{"200":{"description":"OK","examples":{"application/json":{"count":1,"ddl_list":[{"checkpoint":"mysql-bin.000006:431;200e3d00-4a57-11ef-8a76-fa163ef2208a:7;200e3d00-4a57-11ef-8a76-fa163ef2208a:1-7","clean_time":1721897321317,"ddl_text":"/* sql from das */ALTER TABLE `test1`.`test1`\n\tADD COLUMN `sex` VARCHAR(32) NULL AFTER `name`","ddl_timestamp":1721894317000,"exe_result":true,"record_time":1721894318544,"seqno":30,"status":1}]}},"schema":{"$ref":"#/definitions/QueryDdlAlarmResp"}},"400":{"description":"Bad Request","examples":{"application/json":{"error_code":"DRS.10000001","error_msg":"Failed."}},"schema":{"$ref":"#/definitions/ErrorResp"}}},"summary":"查询增量DDL列表","tags":["配置管理"],"x-is-registered":"Y","x-order":1,"x-request-examples-description-1":"查询增量DDL历史列表。","x-request-examples-url-1":"https://{endpoint}/v5/5237e10fe9aa4ad5b16b6a5245248314/jobs/7f486edc-6abb-4621-892b-4805221jb2h4/ddl","x-support-sdk":"N"}}},"product_short":"DRS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询增量DDL列表","tags":"配置管理","uri":null,"version":"2.0"}