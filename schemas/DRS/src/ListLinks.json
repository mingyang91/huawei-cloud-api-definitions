{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"ErrorResp":{"description":"请求失败时返回的错误对象响应体。","properties":{"error_code":{"description":"错误码。","example":"DRS.00000000","maxLength":12,"minLength":12,"type":"string"},"error_msg":{"description":"错误描述。","example":"Success","maxLength":512,"minLength":1,"type":"string"}},"required":["error_code","error_msg"],"type":"object"},"JobLinkResp":{"description":"可用链路返回体。","properties":{"cluster_modes":{"description":"引擎实例模式。取值:\n- Single:单机模式。\n- Ha:主备模式。\n- Cluster:集群模式。\n- Sharding:分片模式。\n- Independent:GaussDB独立部署模式。","items":{"enum":["Single","Ha","Cluster","Sharding","Independent"],"type":"string"},"type":"array"},"description":{"description":"链路描述。","type":"string"},"engine_type":{"description":"引擎类型。取值:\n- oracle-to-gaussdbv5:Oracle同步到GaussDB分布式版,实时同步场景使用。\n- redis-to-gaussredis:Redis同步到GeminiDB Redis,实时迁移场景使用。\n- rediscluster-to-gaussredis:Redis集群同步到GeminiDB Redis,实时迁移场景使用。","enum":["oracle-to-gaussdbv5","redis-to-gaussredis","rediscluster-to-gaussredis"],"type":"string"},"job_direction":{"description":"迁移方向。取值:\n- up:入云 ,灾备场景时对应本云为备。\n- down:出云,灾备场景时对应本云为主。\n- non-dbs:自建。","enum":["up","down","non-dbs"],"type":"string"},"job_type":{"description":"任务场景。取值:\n- migration:实时迁移。\n- sync:实时同步。\n- cloudDataGuard:实时灾备。","enum":["migration","sync","cloudDataGuard"],"type":"string"},"net_type":{"description":"网络类型。取值:\n- eip:公网网络。\n- vpc:VPC网络,灾备场景不支持选择VPC网络。\n- vpn:VPN、专线网络。","enum":["eip","vpc","vpn"],"type":"string"},"source_endpoint_type":{"description":"源数据库实例类型。取值:\n- offline:自建数据库。\n- ecs:华为云ECS自建数据库。\n- cloud:华为云数据库。","enum":["offline","ecs","cloud"],"type":"string"},"target_endpoint_type":{"description":"目标数据库实例类型。取值:\n- offline:自建数据库。\n- ecs:华为云ECS自建数据库。\n- cloud:华为云数据库。","enum":["offline","ecs","cloud"],"type":"string"},"task_types":{"description":"迁移模式。取值:\n- FULL_TRANS :全量。\n- FULL_INCR_TRANS:全量+增量。\n- INCR_TRANS:增量。","items":{"enum":["FULL_TRANS","FULL_INCR_TRANS","INCR_TRANS"],"type":"string"},"type":"array"}},"required":["job_type","engine_type","source_endpoint_type","target_endpoint_type","job_direction","net_type","task_types","cluster_modes","description"],"type":"object"},"QueryJobLinkResp":{"description":"查询可用链路返回体。","properties":{"job_links":{"description":"可用链路信息。","items":{"$ref":"#/definitions/JobLinkResp"},"type":"array"},"total_count":{"description":"可用链路总条数。","format":"int32","type":"integer"}},"required":["job_links","total_count"],"type":"object"}},"description":null,"group_id":"506538835790436b8e209e5a6684d485","host":"drs.cn-north-4.myhuaweicloud.com","id":"c6fa451b3bf049c0aa649bbaf125b31f","info_version":"v5","method":"get","name":"ListLinks","parameters":{},"paths":{"/v5/{project_id}/links":{"get":{"consumes":["application/json"],"description":"根据参数不同,可查询实时迁移、实时同步、实时灾备等可用链路信息。","operationId":"ListLinks","parameters":[{"description":"租户在某一Region下的Project ID。\n\n获取方法请参见[获取项目ID。](https://support.huaweicloud.com/api-drs/drs_api_0106.html)","in":"path","name":"project_id","required":true,"type":"string"},{"default":"application/json","description":"发送的实体的MIME类型。推荐用户默认使用application/json,如果API是对象、镜像上传等接口,媒体类型可按照流类型的不同进行确定。","in":"header","name":"Content-Type","required":true,"type":"string"},{"description":"从IAM服务获取的用户Token。\n\n用户Token也就是调用获取用户Token接口的响应值,该接口是唯一不需要认证的接口。\n\n请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"default":"en-us","description":"请求语言类型。","enum":["en-us","zh-cn"],"in":"header","name":"X-Language","required":false,"type":"string"},{"description":"任务场景。取值:\n- migration:实时迁移。\n- sync:实时同步。\n- cloudDataGuard:实时灾备。","enum":["migration","sync","cloudDataGuard"],"in":"query","name":"job_type","required":true,"type":"string"},{"description":"偏移量,表示查询该偏移量后面的记录。","format":"int32","in":"query","name":"offset","required":false,"type":"integer"},{"description":"查询返回记录的数量限制。","format":"int32","in":"query","name":"limit","required":false,"type":"integer"}],"produces":["application/json"],"responses":{"200":{"description":"OK","examples":{"application/json":{"job_links":[{"cluster_modes":["Independent","Combined"],"engine_type":"oracle-to-gaussdbv5","job_direction":"up","job_type":"sync","net_type":"eip","source_endpoint_type":"offline","target_endpoint_type":"cloud","task_types":["FULL_INCR_TRANS","FULL_TRANS","INCR_TRANS"]},{"cluster_modes":["Independent","Combined"],"engine_type":"oracle-to-gaussdbv5","job_direction":"up","job_type":"sync","net_type":"vpn","source_endpoint_type":"offline","target_endpoint_type":"cloud","task_types":["FULL_INCR_TRANS","FULL_TRANS","INCR_TRANS"]}],"total_count":2}},"schema":{"$ref":"#/definitions/QueryJobLinkResp"}},"400":{"description":"Bad Request","examples":{"application/json":{"error_code":"DRS.10000009","error_msg":"Parameter error."}},"schema":{"$ref":"#/definitions/ErrorResp"}}},"summary":"查询可用链路信息","tags":["资源管理"],"x-is-registered":"Y","x-order":1,"x-request-examples-description-1":"查询实时迁移可用链路信息。","x-request-examples-description-2":"查询实时同步可用链路信息。","x-request-examples-description-3":"查询实时灾备可用链路信息。","x-request-examples-url-1":"https://{endpoint}/v5/054ba152d480d55b2f5dc0069e7ddef0/links?job_type=migration","x-request-examples-url-2":"https://{endpoint}/v5/054ba152d480d55b2f5dc0069e7ddef0/links?job_type=sync","x-request-examples-url-3":"https://{endpoint}/v5/054ba152d480d55b2f5dc0069e7ddef0/links?job_type=cloudDataGuard","x-support-sdk":"Y"}}},"product_short":"DRS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询可用链路信息","tags":"资源管理","uri":null,"version":"2.0"}