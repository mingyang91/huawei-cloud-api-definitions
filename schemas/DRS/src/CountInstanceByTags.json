{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"CountInstanceByTagResponse":{"description":"查询资源实例","properties":{"total_count":{"description":"总数。","format":"int32","type":"integer"}},"type":"object"},"QueryInstanceByTagReq":{"description":"查询资源实例请求","properties":{"matches":{"description":"搜索字段,key为要匹配的字段,如resource_name等。value为匹配的值。","items":{"$ref":"#/definitions/TagMatch"},"type":"array"},"tags":{"description":"包含标签,最多包含20个key,每个key下面的value最多20个。","items":{"$ref":"#/definitions/Tag"},"type":"array"},"without_any_tag":{"description":"不包含任意一个标签,该字段为true时查询所有不带标签的资源,此时忽略 “tags”字段。该字段为false或者未提供该参数时,该条件不生效,即返回所有资源或按\"tags\",\"matches\"等条件过滤。","type":"boolean"}},"type":"object"},"Tag":{"description":"标签信息体","properties":{"key":{"description":"标签键。","type":"string"},"values":{"description":"标签值。","items":{"type":"string"},"type":"array"}},"required":["key","values"],"type":"object"},"TagMatch":{"description":"标签匹配信息体.","properties":{"key":{"description":"键。","type":"string"},"value":{"description":"值。","type":"string"}},"required":["key","value"],"type":"object"}},"description":null,"group_id":"506538835790436b8e209e5a6684d485","host":"drs.cn-north-4.myhuaweicloud.com","id":"bd04fcb2925f42ae9152196daca13159","info_version":"v5","method":"post","name":"CountInstanceByTags","parameters":{},"paths":{"/v5/{project_id}/{resource_type}/resource-instances/count":{"post":{"description":"查询资源实例数量。","operationId":"CountInstanceByTags","parameters":[{"description":"租户在某一Region下的Project ID。\n获取方法请参见[获取项目ID。](https://support.huaweicloud.com/api-drs/drs_api_0106.html)","in":"path","name":"project_id","required":true,"type":"string"},{"description":"资源类型。\n- migration:实时迁移\n- sync:实时同步\n- cloudDataGuard:实时灾备\n- subscription:数据订阅\n- backupMigration:备份迁移\n- replay:录制回放","enum":["migration","sync","cloudDataGuard","subscription","backupMigration","replay"],"in":"path","name":"resource_type","required":true,"type":"string"},{"default":"application/json","description":"发送的实体的MIME类型。推荐用户默认使用application/json,如果API是对象、镜像上传等接口,媒体类型可按照流类型的不同进行确定。","in":"header","name":"Content-Type","required":true,"type":"string"},{"description":"从IAM服务获取的用户Token。用户Token也就是调用IAM获取用户Token接口的响应值,请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"default":"en-us","description":"请求语言类型。","enum":["en-us","zh-cn"],"in":"header","name":"X-Language","required":false,"type":"string"},{"description":"查询资源实例数量请求体。","in":"body","name":"CountInstanceByTagsRequestBody","required":true,"schema":{"$ref":"#/definitions/QueryInstanceByTagReq"}}],"responses":{"200":{"description":"OK","examples":{"application/json":{"total_count":1}},"schema":{"$ref":"#/definitions/CountInstanceByTagResponse"}}},"summary":"查询资源实例数量","tags":["标签管理"],"x-is-registered":"Y","x-request-examples-1":{"matches":[{"key":"resource_name","value":"resource1"}],"tags":[{"key":"key1","values":["value1","value2"]},{"key":"key2","values":["value1","value2"]}],"without_any_tag":false},"x-request-examples-description-1":"查询同步任务资源实例数量。","x-request-examples-text-1":{"matches":[{"key":"resource_name","value":"resource1"}],"tags":[{"key":"key1","values":["value1","value2"]},{"key":"key2","values":["value1","value2"]}],"without_any_tag":false},"x-request-examples-url-1":" https://{endpoint}/v5/5237e10fe9aa4ad5b16b6a5245248314/sync/resource-instances/count","x-support-sdk":"Y"}}},"product_short":"DRS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询资源实例数量","tags":"标签管理","uri":null,"version":"2.0"}