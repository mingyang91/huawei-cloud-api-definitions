{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"QueryInstanceByTagReq":{"description":"查询资源实例请求","properties":{"matches":{"description":"搜索字段,key为要匹配的字段,如resource_name等。value为匹配的值。","items":{"$ref":"#/definitions/TagMatch"},"type":"array"},"tags":{"description":"包含标签,最多包含20个key,每个key下面的value最多20个。","items":{"$ref":"#/definitions/Tag"},"type":"array"},"without_any_tag":{"description":"不包含任意一个标签,该字段为true时查询所有不带标签的资源,此时忽略 “tags”字段。该字段为false或者未提供该参数时,该条件不生效,即返回所有资源或按\"tags\",\"matches\"等条件过滤。","type":"boolean"}},"type":"object"},"QueryInstanceByTagResponse":{"description":"查询资源实例","properties":{"resources":{"description":"资源列表。","items":{"$ref":"#/definitions/ResourceInstance"},"type":"array"},"total_count":{"description":"总数。","format":"int32","type":"integer"}},"type":"object"},"ResourceInstance":{"description":"查询标签返回资源信息体","properties":{"resource_detail":{"description":"资源详情。 资源对象,用于扩展。默认为空。","type":"string"},"resource_id":{"description":"资源ID。","type":"string"},"resource_name":{"description":"资源名称。","type":"string"},"tags":{"description":"标签列表。","items":{"$ref":"#/definitions/ResourceTagInfo"},"type":"array"}},"type":"object"},"ResourceTagInfo":{"description":"标签信息体","properties":{"key":{"description":"标签键。例如键值对{“aaa”:\"bbb\"}的key为\"aaa\"","type":"string"},"value":{"description":"标签值。例如键值对{“aaa”:\"bbb\"}的value为\"bbb\"","type":"string"}},"type":"object"},"Tag":{"description":"标签信息体","properties":{"key":{"description":"标签键。例如键值对{“aaa”:\"bbb\"}的key为\"aaa\"","type":"string"},"values":{"description":"标签值。例如键值对{“aaa”:[\"bbb\"]}的values为[\"bbb\"]","items":{"type":"string"},"type":"array"}},"required":["key","values"],"type":"object"},"TagMatch":{"description":"标签匹配信息体.","properties":{"key":{"description":"键,例如键值对{“aaa”:\"bbb\"}的key为\"aaa\"","type":"string"},"value":{"description":"值,例如键值对{“aaa”:\"bbb\"}的value为\"bbb\"","type":"string"}},"required":["key","value"],"type":"object"}},"description":null,"group_id":"506538835790436b8e209e5a6684d485","host":"drs.cn-north-4.myhuaweicloud.com","id":"94943457fb6a4d34af51580bc556ac76","info_version":"v5","method":"post","name":"ListInstanceByTags","parameters":{},"paths":{"/v5/{project_id}/{resource_type}/resource-instances/filter":{"post":{"description":"查询资源实例列表。","operationId":"ListInstanceByTags","parameters":[{"description":"租户在某一Region下的Project ID。\n获取方法请参见[获取项目ID。](https://support.huaweicloud.com/api-drs/drs_api_0106.html)","in":"path","name":"project_id","required":true,"type":"string"},{"description":"资源类型。\n- migration:实时迁移\n- sync:实时同步\n- cloudDataGuard:实时灾备\n- subscription:数据订阅\n- backupMigration:备份迁移\n- replay:录制回放","enum":["migration","sync","cloudDataGuard","subscription","backupMigration","replay"],"in":"path","name":"resource_type","required":true,"type":"string"},{"default":"application/json","description":"发送的实体的MIME类型。推荐用户默认使用application/json,如果API是对象、镜像上传等接口,媒体类型可按照流类型的不同进行确定。","in":"header","name":"Content-Type","required":true,"type":"string"},{"description":"从IAM服务获取的用户Token。用户Token也就是调用IAM获取用户Token接口的响应值,请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"default":"en-us","description":"请求语言类型。","enum":["en-us","zh-cn"],"in":"header","name":"X-Language","required":false,"type":"string"},{"description":"查询记录数,默认为1000,limit最多为1000,不能为负数,最小值为1。","format":"int32","in":"query","name":"limit","required":false,"type":"integer"},{"description":"索引位置,偏移量从第一条数据偏移offset条数据后开始查询,默认为0(偏移0条数据,表示从第一条数据开始查询),必须为数字,不能为负数。","format":"int32","in":"query","name":"offset","required":false,"type":"integer"},{"description":"查询资源实例请求体。","in":"body","name":"ListInstanceByTagsRequestBody","required":true,"schema":{"$ref":"#/definitions/QueryInstanceByTagReq"}}],"responses":{"200":{"description":"OK","examples":{"application/json":{"resources":[{"resource_detail":"","resource_id":"2f4af282-d13e-4b10-a1eb-609b47fjb201","resource_name":"DRS-5634","tags":[{"key":"aaaaa","value":"bbbbb"},{"key":"zzzz","value":""}]}],"total_count":1}},"schema":{"$ref":"#/definitions/QueryInstanceByTagResponse"}}},"summary":"查询资源实例列表","tags":["标签管理"],"x-is-registered":"Y","x-request-examples-1":{"matches":[{"key":"resource_name","value":"resource1"}],"tags":[{"key":"key1","values":["value1","value2"]},{"key":"key2","values":["value1","value2"]}],"without_any_tag":false},"x-request-examples-description-1":"查询同步任务实例列表。","x-request-examples-text-1":{"matches":[{"key":"resource_name","value":"resource1"}],"tags":[{"key":"key1","values":["value1","value2"]},{"key":"key2","values":["value1","value2"]}],"without_any_tag":false},"x-request-examples-url-1":" https://{endpoint}/v5/5237e10fe9aa4ad5b16b6a5245248314/sync/resource-instances/filter?limit=1000&offset=0","x-support-sdk":"Y"}}},"product_short":"DRS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询资源实例列表","tags":"标签管理","uri":null,"version":"2.0"}