{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"BatchUpdateDatabaseObjectReq":{"description":"批量更新数据库对象选择消息体","properties":{"jobs":{"description":"批量更新数据库对象请求任务ID列表","items":{"$ref":"#/definitions/UpdateDatabaseObjectReq","description":""},"type":"array"}},"required":["jobs"]},"BatchUpdateDatabaseObjectsResp":{"description":"批量对象选择任务任务返回体","properties":{"all_counts":{"description":"总数","format":"int64","type":"integer"},"results":{"description":"批量对象选择响应列表","items":{"$ref":"#/definitions/DatabaseObjectResp","description":""},"type":"array"}}},"DatabaseInfo":{"description":"数据库对象选择信息","properties":{"id":{"description":"object_type为database时,为库名;object_type为table或者view时,字段值参考示例。","type":"string"},"object_alias_name":{"description":"别名,映射的新名称。","type":"string"},"object_name":{"description":"数据库对象名称,库名、表名、视图名","type":"string"},"object_type":{"description":"类型","enum":["database","table","schema","view"],"type":"string"},"parent_id":{"description":"object_type为table或view时需要填写,为库名","type":"string"},"select":{"description":"是否选中,值为true会进行迁移,false该数据库对象不会迁移,partial为迁移库下面的部分表,不填默认为false","type":"string"}}},"DatabaseObjectResp":{"description":"对象选择返回体","properties":{"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误信息","type":"string"},"job_id":{"description":"任务ID","type":"string"},"status":{"description":"选择对象任务成功标志","type":"boolean"}}},"UpdateDatabaseObjectReq":{"description":"更新对象选择信息体","properties":{"job":{"description":"数据对象选择信息,selected为true时必填。","items":{"$ref":"#/definitions/DatabaseInfo","description":""},"type":"array"},"job_id":{"description":"任务ID","type":"string"},"selected":{"description":"是否进行对象选择,是:自定义迁移对象,否:全部迁移,不填默认为否。","type":"boolean"},"sync_database":{"description":"是否库级同步","type":"boolean"}},"required":["job_id"]}},"description":null,"group_id":"506538835790436b8e209e5a6684d485","host":"drs.cn-north-4.myhuaweicloud.com","id":"29adfccf62fe4d47a18837efcdbc055a","info_version":"v3","method":"put","name":"BatchSetObjects","parameters":{},"paths":{"/v3/{project_id}/jobs/batch-select-objects":{"put":{"description":"迁移之前,选择需要迁移的数据库或者表。","operationId":"BatchSetObjects","parameters":[{"description":"租户在某一region下的project ID。","in":"path","name":"project_id","required":true,"type":"string","x-order":1},{"description":"从IAM服务获取的用户Token","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":2},{"default":"en-us","description":"请求语言类型","enum":["en-us","zh-cn"],"in":"header","name":"X-Language","required":false,"type":"string","x-example":"en-us","x-order":3},{"default":"application/json","description":"指定类型为application/json。","in":"header","name":"Content-Type","required":true,"type":"string","x-example":"application/json","x-order":4},{"description":"批量更新数据库对象选择消息体","in":"body","name":"requestBody","required":true,"schema":{"$ref":"#/definitions/BatchUpdateDatabaseObjectReq"},"x-order":5}],"responses":{"202":{"description":"Accepted","examples":{"application/json":{"all_counts":1,"results":[{"job_id":"4d700f6f-9a17-47e0-a7d6-1bc2155jb101","status":true}]}},"schema":{"$ref":"#/definitions/BatchUpdateDatabaseObjectsResp"}},"400":{"description":"Bad Request"}},"summary":"批量数据库对象选择","tags":["公共接口管理"],"x-constraint":"仅实时迁移、实时同步支持对象选择。","x-is-registered":"Y","x-name":"批量数据库对象选择","x-order":5,"x-publishpath":"BatchSetObjects","x-request-examples-1":{"jobs":[{"job":[{"id":"fastunit","object_alias_name":null,"object_name":"fastunit","object_type":"database","parent_id":null,"select":"partial"},{"id":"fastunit-*-*-coll","object_alias_name":null,"object_name":"coll","object_type":"table","parent_id":"fastunit","select":"true"},{"id":"ycy1","object_alias_name":null,"object_name":"ycy1","object_type":"database","parent_id":null,"select":"partial"},{"id":"ycy1-*-*-coll","object_alias_name":null,"object_name":"coll","object_type":"table","parent_id":"ycy1","select":"true"},{"id":"ycy1-*-*-collcount","object_alias_name":null,"object_name":"collcount","object_type":"table","parent_id":"ycy1","select":"true"}],"job_id":"57fd2692-0ebe-4714-9b59-fe7aa65djb15","selected":true}]},"x-request-examples-2":{"jobs":[{"job":[],"job_id":"e59f5eef-2bcc-4461-b9ac-10aded44jb15","selected":false}]},"x-request-examples-description-1":"对象选择示例","x-request-examples-description-2":"全部迁移示例","x-request-examples-text-1":{"jobs":[{"job":[{"id":"fastunit","object_alias_name":null,"object_name":"fastunit","object_type":"database","parent_id":null,"select":"partial"},{"id":"fastunit-*-*-coll","object_alias_name":null,"object_name":"coll","object_type":"table","parent_id":"fastunit","select":"true"},{"id":"ycy1","object_alias_name":null,"object_name":"ycy1","object_type":"database","parent_id":null,"select":"partial"},{"id":"ycy1-*-*-coll","object_alias_name":null,"object_name":"coll","object_type":"table","parent_id":"ycy1","select":"true"},{"id":"ycy1-*-*-collcount","object_alias_name":null,"object_name":"collcount","object_type":"table","parent_id":"ycy1","select":"true"}],"job_id":"57fd2692-0ebe-4714-9b59-fe7aa65djb15","selected":true}]},"x-request-examples-text-2":{"jobs":[{"job":[],"job_id":"e59f5eef-2bcc-4461-b9ac-10aded44jb15","selected":false}]},"x-request-examples-url-1":"https://{endpoint}/v3/054ba152d480d55b2f5dc0069e7ddef0/jobs/batch-select-objects","x-request-examples-url-2":"https://{endpoint}/v3/054ba152d480d55b2f5dc0069e7ddef0/jobs/batch-select-objects","x-scope":"Commercial","x-support-sdk":"Y","x-version":"v3"}}},"product_short":"DRS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"批量数据库对象选择","tags":"公共接口管理","uri":null,"version":"2.0"}