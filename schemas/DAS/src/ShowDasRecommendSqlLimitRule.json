{"base_path":"/","components":null,"consumes":"","definitions":{"RecommendSqlLimitRuleResp":{"properties":{"instance_id":{"description":"实例id","type":"string"},"sql_limit_infos":{"description":"sql的限流信息","items":{"properties":{"average_time":{"description":"平均时间","format":"double","type":"number"},"count":{"description":"数量","format":"double","type":"number"},"exe_time":{"description":"执行时间","format":"int64","type":"integer"},"maxTime":{"description":"mysql 提供, taurus不提供","format":"int64","type":"integer"},"raw_sql":{"description":"mysql 提供原始sql的信息, taurus 只提供一条sql信息","properties":{"db":{"description":"数据库名称","type":"string"},"host":{"description":"主机ip","type":"string"},"session_id":{"description":"会话id","type":"string"},"sql":{"description":"sql","type":"string"},"time":{"description":"时间","format":"int64","type":"integer"}}}}},"type":"array"}},"required":["instance_id","sql_limit_infos"],"type":"object"},"ShowRecommendSqlLimitRuleRequestBody":{"properties":{"engine_type":{"description":"引擎类型,目前只支持mysql或者taurus","type":"string"},"node_id":{"description":"如果选择了taurus, 那么需要制定node id","type":"string"},"rds_recommendation_type":{"description":"如果是rds类型, 那么可以选择'count', 'average_time', 'max_time', 'all'这几种类型","type":"string"},"recommend_count":{"description":"推荐数量","format":"int64","type":"integer"},"taurus_recommendation_type":{"description":"如果选择了taurus类型,那么可以选择'count', 'avg_time'","type":"string"}},"type":"object"}},"description":null,"group_id":"7f831fc0dd494cfe86eff0b79e4f207d","host":"das.cn-north-4.myhuaweicloud.com","id":"8f62385e4b54426b94ecaa32d05d087e","info_version":"v3","method":"post","name":"ShowDasRecommendSqlLimitRule","parameters":{},"paths":{"/v3/{project_id}/instances/{instance_id}/das-recommend-sql-limit-rule":{"post":{"description":"根据条件(包括模板所代表的sql平均时长,条数,最大执行时长,前三者混合)自动推荐SQL限流规则","operationId":"ShowDasRecommendSqlLimitRule","parameters":[{"description":"项目id","in":"path","name":"project_id","required":true,"type":"string"},{"description":"实例id","in":"path","name":"instance_id","required":true,"type":"string"},{"default":"en-us","description":"请求语言类型。en-us:英文。 zh-cn:中文。","enum":["zh-cn","en-us"],"in":"header","name":"X-Language","required":false,"type":"string"},{"description":"token","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"请求参数","in":"body","name":"ShowDasRecommendSqlLimitRuleRequestBody","required":true,"schema":{"$ref":"#/definitions/ShowRecommendSqlLimitRuleRequestBody"}}],"responses":{"200":{"description":"","schema":{"$ref":"#/definitions/RecommendSqlLimitRuleResp"}}},"summary":"自动推荐SQL限流规则","tags":["云DBA"],"x-api-type":"open-api","x-is-registered":"Y","x-support-sdk":"Y"}}},"product_short":"DAS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"自动推荐SQL限流规则","tags":"云DBA","uri":null,"version":"2.0"}