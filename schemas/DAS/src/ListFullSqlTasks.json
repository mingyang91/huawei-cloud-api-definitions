{"base_path":"/","components":null,"consumes":"","definitions":{"ErrorResp":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":8,"type":"string"},"error_msg":{"description":"错误描述","maxLength":512,"minLength":2,"type":"string"}},"required":["error_code","error_msg"]},"FullSqlTask":{"properties":{"batch_id":{"description":"批次ID。","type":"string"},"create_at":{"description":"创建时间(Unix timestamp),单位:毫秒。","format":"int64","type":"integer"},"db_list":{"description":"数据库。","items":{"type":"string"},"type":"array"},"end_at":{"description":"结束时间(Unix timestamp),单位:毫秒。","format":"int64","type":"integer"},"id":{"description":"任务ID。","format":"int64","type":"integer"},"instance_id":{"description":"实例ID。","type":"string"},"instance_name":{"description":"实例名称。","type":"string"},"keyword":{"description":"关键字。","items":{"type":"string"},"type":"array"},"node_id":{"description":"节点ID。","type":"string"},"operation_list":{"description":"操作类型。","items":{"type":"string"},"type":"array"},"progress":{"description":"任务进度,取值为0-100。","format":"double","type":"number"},"reason":{"description":"失败原因。","type":"string"},"sql_template_ids":{"description":"SQL模板ID。","items":{"type":"string"},"type":"array"},"start_at":{"description":"开始时间(Unix timestamp),单位:毫秒。","format":"int64","type":"integer"},"status":{"description":"任务状态(0:等待解析,1:解析中,2:解析完成,-1:失败)。","format":"int32","type":"integer"},"status_list":{"description":"执行状态(0:成功,1:失败)。","items":{"type":"string"},"type":"array"},"thread_id_list":{"description":"线程ID。","items":{"type":"string"},"type":"array"},"trx_id_list":{"description":"事务ID。","items":{"type":"string"},"type":"array"},"update_at":{"description":"更新时间(Unix timestamp),单位:毫秒。","format":"int64","type":"integer"},"user_list":{"description":"用户名。","items":{"type":"string"},"type":"array"}},"required":["id","instance_id","instance_name","node_id","start_at","end_at","batch_id","user_list","keyword","operation_list","thread_id_list","trx_id_list","status_list","sql_template_ids","status","progress","reason","create_at","update_at"]},"ListFullSqlTasksResp":{"properties":{"tasks":{"description":"SQL洞察任务列表。","items":{"$ref":"#/definitions/FullSqlTask"},"type":"array"},"total":{"description":"总数。","format":"int32","type":"integer"}},"required":["tasks","total"]}},"description":null,"group_id":"7f831fc0dd494cfe86eff0b79e4f207d","host":"das.cn-north-4.myhuaweicloud.com","id":"b298a334518b4c74a568a89c19440bdd","info_version":"v3","method":"get","name":"ListFullSqlTasks","parameters":{},"paths":{"/v3/{project_id}/instances/{instance_id}/full-sql-tasks":{"get":{"description":"全量SQL开关打开后,查询SQL洞察任务列表。该功能仅支持付费实例。","operationId":"ListFullSqlTasks","parameters":[{"description":"项目ID。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"实例ID。","in":"path","name":"instance_id","required":true,"type":"string"},{"description":"最小任务起止时间(Unix timestamp),单位:毫秒。","format":"int64","in":"query","name":"range_left","required":false,"type":"integer"},{"description":"最大任务起止时间(Unix timestamp),单位:毫秒。","format":"int64","in":"query","name":"range_right","required":false,"type":"integer"},{"description":"最小任务创建时间(Unix timestamp),单位:毫秒。","format":"int64","in":"query","name":"create_at_left","required":false,"type":"integer"},{"description":"最大任务创建时间(Unix timestamp),单位:毫秒。","format":"int64","in":"query","name":"create_at_right","required":false,"type":"integer"},{"description":"用户名。","in":"query","name":"user","required":false,"type":"string"},{"description":"关键字。","in":"query","name":"keyword","required":false,"type":"string"},{"description":"数据库名。","in":"query","name":"db_name","required":false,"type":"string"},{"description":"操作类型。","in":"query","name":"operation","required":false,"type":"string"},{"description":"线程ID。","in":"query","name":"thread_id","required":false,"type":"string"},{"description":"事务ID。","in":"query","name":"trx_id","required":false,"type":"string"},{"description":"执行状态(0:成功,1:失败)。","in":"query","name":"status","required":false,"type":"string"},{"description":"SQL模板ID。","in":"query","name":"sql_template_id","required":false,"type":"string"},{"default":"create_at","description":"排序字段(create_at:任务创建时间, range_start_at,range_end_at:任务起止时间)。","in":"query","name":"sort_field","required":false,"type":"string"},{"default":false,"description":"排序顺序(true:正序, false:逆序)。","in":"query","name":"asc","required":false,"type":"boolean"},{"default":1,"description":"页码。","format":"int32","in":"query","minimum":1,"name":"page","required":false,"type":"integer"},{"default":20,"description":"每页记录数。最大为100。","format":"int32","in":"query","maximum":100,"minimum":1,"name":"limit","required":false,"type":"integer"},{"description":"用户Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"请求语言类型。","enum":["en-us","zh-cn"],"in":"header","name":"X-Language","required":false,"type":"string"}],"responses":{"200":{"description":"Success.","examples":{"application/json":{"tasks":[{"create_at":1738740285113,"end_at":1738720800000,"id":1128,"instance_id":"da304cd5bbb944de828759bc7be3d3fein01","progress":100.0,"start_at":1738717200000,"status":2,"update_at":1738740294826}],"total":1}},"schema":{"$ref":"#/definitions/ListFullSqlTasksResp"}},"400":{"description":"Client error.","schema":{"$ref":"#/definitions/ErrorResp"}},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/ErrorResp"}}},"summary":"查询SQL洞察任务列表","tags":["云DBA"],"x-das-is-publish":"#ListFullSqlTasks_Placeholder#","x-is-registered":"Y","x-request-examples-url-1":"GET https://das.cn-north-1.myhuaweicloud.com/v3/054e292c9880d4992f02c0196d3ea468/instances/da304cd5bbb944de828759bc7be3d3fein01/full-sql-tasks","x-support-sdk":"Y"}}},"product_short":"DAS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询SQL洞察任务列表","tags":"云DBA","uri":null,"version":"2.0"}