{"base_path":"/","components":null,"consumes":"","definitions":{"ErrorResp":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":8,"type":"string"},"error_msg":{"description":"错误描述","maxLength":512,"minLength":2,"type":"string"}},"required":["error_code","error_msg"]},"TopInstanceSlowLog":{"properties":{"rows_examined_exceeding":{"description":"扫描返回比列表","items":{"properties":{"avg_query_time":{"description":"平均执行时间","example":6.429124786740258,"format":"double","type":"number"},"avg_rows_examined":{"description":"平均扫描行数","example":0,"format":"double","type":"number"},"avg_rows_sent":{"description":"平均返回行数","example":1,"format":"double","type":"number"},"databases":{"description":"数据库名称","example":[],"items":{"type":"string"},"type":"array"},"max_query_time":{"description":"最大执行时间","example":10,"format":"double","type":"number"},"sum_rows_examined":{"description":"最大执行时间","example":0,"format":"double","type":"number"},"template":{"description":"SQL模板","example":"SELECT sleep(?);","type":"string"},"template_id":{"description":"SQL模板ID","example":"1D7880577913B207","type":"string"},"times":{"description":"执行次数","example":21,"format":"int64","type":"integer"}}},"type":"array"},"top_avg_query_time_slow_logs":{"description":"平均执行时间列表","items":{"properties":{"avg_query_time":{"description":"平均执行时间","example":6.429124786740258,"format":"double","type":"number"},"avg_rows_examined":{"description":"平均扫描行数","example":0,"format":"double","type":"number"},"avg_rows_sent":{"description":"平均返回行数","example":1,"format":"double","type":"number"},"databases":{"description":"数据库名称","example":[],"items":{"type":"string"},"type":"array"},"max_query_time":{"description":"最大执行时间","example":10,"format":"double","type":"number"},"sum_rows_examined":{"description":"扫描行数总和","example":0,"format":"double","type":"number"},"template":{"description":"SQL模板","example":"SELECT sleep(?);","type":"string"},"template_id":{"description":"SQL模板ID","example":"1D7880577913B207","type":"string"},"times":{"description":"执行次数","example":21,"format":"int64","type":"integer"}}},"type":"array"},"top_execute_slow_logs":{"description":"执行次数列表","items":{"properties":{"avg_query_time":{"description":"平均执行时间","example":6.429124786740258,"format":"double","type":"number"},"avg_rows_examined":{"description":"平均扫描行数","example":0,"format":"double","type":"number"},"avg_rows_sent":{"description":"平均返回行数","example":1,"format":"double","type":"number"},"databases":{"description":"数据库名称","example":[],"items":{"type":"string"},"type":"array"},"max_query_time":{"description":"最大执行时间","example":10,"format":"double","type":"number"},"sum_rows_examined":{"description":"扫描行数总和","example":0,"format":"double","type":"number"},"template":{"description":"SQL模板","example":"SELECT sleep(?);","type":"string"},"template_id":{"description":"SQL模板ID","example":"1D7880577913B207","type":"string"},"times":{"description":"执行次数","example":21,"format":"int64","type":"integer"}}},"type":"array"},"top_max_query_time_slow_logs":{"description":"最大执行时间列表","items":{"properties":{"avg_query_time":{"description":"平均执行时间","example":6.429124786740258,"format":"double","type":"number"},"avg_rows_examined":{"description":"平均扫描行数","example":0,"format":"double","type":"number"},"avg_rows_sent":{"description":"平均返回行数","example":1,"format":"double","type":"number"},"databases":{"description":"数据库名称","example":[],"items":{"type":"string"},"type":"array"},"max_query_time":{"description":"最大执行时间","example":10,"format":"double","type":"number"},"sum_rows_examined":{"description":"扫描行数总和","example":0,"format":"double","type":"number"},"template":{"description":"SQL模板","example":"SELECT sleep(?);","type":"string"},"template_id":{"description":"SQL模板ID","example":"1D7880577913B207","type":"string"},"times":{"description":"执行次数","example":21,"format":"int64","type":"integer"}}},"type":"array"}},"type":"object"}},"description":null,"group_id":"7f831fc0dd494cfe86eff0b79e4f207d","host":"das.cn-north-4.myhuaweicloud.com","id":"cf29c894b83544fda27f113884c46013","info_version":"v3","method":"get","name":"ListInstanceTopSlowLog","parameters":{},"paths":{"/v3/{project_id}/instances/{instance_id}/top-slow-log":{"get":{"consumes":["application/json"],"description":"查询实例的TOP慢SQL列表","operationId":"ListInstanceTopSlowLog","parameters":[{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string"},{"description":"TOP数量","format":"int32","in":"query","maximum":30,"minimum":1,"name":"num","required":true,"type":"integer"},{"description":"用户token","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"语言","enum":["zh-cn","en-us"],"in":"header","name":"X-Language","required":false,"type":"string"},{"description":"开始时间","format":"int64","in":"query","name":"start_at","required":true,"type":"integer"},{"description":"结束时间","format":"int64","in":"query","name":"end_at","required":true,"type":"integer"},{"description":"实例ID","in":"path","name":"instance_id","required":true,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"Success.","examples":{"application/json":{"rows_examined_exceeding":[],"top_avg_query_time_slow_logs":[{"avg_query_time":6.429124786740258,"avg_rows_examined":0,"avg_rows_sent":1,"databases":[],"max_query_time":10,"sum_rows_examined":0,"template":"SELECT sleep(?);","template_id":"1D7880577913B207","times":21}],"top_execute_slow_logs":[{"avg_query_time":6.429124786740258,"avg_rows_examined":0,"avg_rows_sent":1,"databases":[],"max_query_time":10,"sum_rows_examined":0,"template":"SELECT sleep(?);","template_id":"1D7880577913B207","times":21}],"top_max_query_time_slow_logs":[{"avg_query_time":6.429124786740258,"avg_rows_examined":0,"avg_rows_sent":1,"databases":[],"max_query_time":10,"sum_rows_examined":0,"template":"SELECT sleep(?);","template_id":"1D7880577913B207","times":21}]}},"schema":{"$ref":"#/definitions/TopInstanceSlowLog"}},"400":{"description":"BadRequest.","schema":{"$ref":"#/definitions/ErrorResp"}},"500":{"description":"InternalServerError.","schema":{"$ref":"#/definitions/ErrorResp"}}},"summary":"查询实例的TOP慢SQL列表","tags":["云DBA"],"x-das-is-publish":"#QueryInstanceTopSlowLog_Placeholder#","x-is-registered":"Y","x-order":0,"x-request-examples-url-1":"GET https://das.cn-north-1.myhuaweicloud.com/v3/054e292c9880d4992f02c0196d3ea468/instances/5c59fa7d6f09456b947f32922f9aeda1in01/top-slow-log?num=10&start_at=1736402167045&end_at=1736403967045","x-support-sdk":"Y"}}},"product_short":"DAS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询实例的TOP慢SQL列表","tags":"云DBA","uri":null,"version":"2.0"}