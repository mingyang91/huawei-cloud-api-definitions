{"base_path":"/","components":null,"consumes":"","definitions":{"ActionInfo":{"description":"剧本流程动作信息","properties":{"action_id":{"description":"流程ID","example":"909494e3-558e-46b6-a9eb-07a8e18ca62f","maxLength":64,"minLength":32,"type":"string"},"action_type":{"description":"流程动作类型","example":"AOP_WORKFLOW","maxLength":64,"minLength":0,"type":"string"},"description":{"description":"描述","example":"This my XXXX","maxLength":1024,"minLength":0,"type":"string"},"id":{"description":"剧本流程动作ID","example":"909494e3-558e-46b6-a9eb-07a8e18ca62f","maxLength":64,"minLength":32,"type":"string"},"name":{"description":"流程动作名称","example":"MyXXX","maxLength":1024,"minLength":0,"type":"string"},"playbook_id":{"description":"剧本ID","maxLength":64,"minLength":0,"type":"string"},"playbook_version_id":{"description":"剧本版本ID","maxLength":64,"minLength":0,"type":"string"},"project_id":{"description":"项目ID","maxLength":64,"minLength":0,"type":"string"}}},"ActionInstanceInfo":{"description":"流程实例","properties":{"action":{"$ref":"#/definitions/ActionInfo"},"instance_log":{"$ref":"#/definitions/AuditLogInfo"}}},"AuditLogInfo":{"description":"剧本实例审计日志信息","example":{"action_id":"909494e3-558e-46b6-a9eb-07a8e18ca62f","action_name":"DisabledIp","end_time":"2021-01-31T23:00:00Z","error_msg":"error_msg","input":"input","instance_id":"909494e3-558e-46b6-a9eb-07a8e18ca62f","instance_type":"APP, AOP_WORKFLOW, SCRIPT, PLAYBOOK, TASK, DEBUG","log_level":"DEBUG INFO WARN","output":"output","parent_instance_id":"909494e3-558e-46b6-a9eb-07a8e18ca62f","start_time":"2021-01-30T23:00:00Z","status":"CREATED, RUNNING, FINISHED, RETRYING, TERMINATING, TERMINATED, FAILED","trigger_type":"DEBUG, TIMER, EVENT, MANUAL"},"properties":{"action_id":{"description":"流程ID","example":"909494e3-558e-46b6-a9eb-07a8e18ca62f","maxLength":1028,"minLength":0,"type":"string"},"action_name":{"description":"流程名称","example":"DisabledIp","maxLength":64,"minLength":0,"type":"string"},"end_time":{"description":"结束时间","example":"2021-01-31T23:00:00Z","maxLength":64,"minLength":0,"type":"string"},"error_msg":{"description":"错误信息","example":"error_msg","maxLength":64,"minLength":0,"type":"string"},"input":{"description":"输入","example":"input","maxLength":64,"minLength":0,"type":"string"},"instance_id":{"description":"实例ID","example":"909494e3-558e-46b6-a9eb-07a8e18ca62f","maxLength":1028,"minLength":0,"type":"string"},"instance_type":{"description":"实例类型(AOP_WORKFLOW--流程, SCRIPT--脚本, PLAYBOOK--剧本)","example":"AOP_WORKFLOW, SCRIPT, PLAYBOOK, TASK, DEBUG","maxLength":64,"minLength":0,"type":"string"},"log_level":{"description":"日志级别","example":"DEBUG INFO WARN","maxLength":1028,"minLength":0,"type":"string"},"output":{"description":"输出","example":"output","maxLength":1028,"minLength":0,"type":"string"},"parent_instance_id":{"description":"父节点实例ID","example":"909494e3-558e-46b6-a9eb-07a8e18ca62f","maxLength":64,"minLength":0,"type":"string"},"start_time":{"description":"开始时间","example":"2021-01-30T23:00:00Z","maxLength":1028,"minLength":0,"type":"string"},"status":{"description":"状态。(RUNNING--运行中、FINISHED--成功、FAILED--失败、RETRYING--重试中、TERMINATING--终止中、TERMINATED--已终止)","example":"CREATED, RUNNING, FINISHED, RETRYING, TERMINATING, TERMINATED, FAILED","maxLength":1028,"minLength":0,"type":"string"},"trigger_type":{"description":"触发类型. TIMER--定时触发, EVENT--事件触发","example":"DEBUG, TIMER, EVENT, MANUAL","maxLength":1028,"minLength":0,"type":"string"}}},"ErrorRsp":{"description":"请求失败错误响应体","properties":{"code":{"description":"错误码","example":"SecMaster.20040001","maxLength":64,"minLength":0,"type":"string"},"message":{"description":"错误描述","example":"Parameter error.","maxLength":1024,"minLength":0,"type":"string"}}},"PlaybookTopology":{"description":"剧本流程拓扑信息","example":{"action_instances":[{"action":{"action_id":"909494e3-558e-46b6-a9eb-07a8e18ca62f","action_type":"Workflow","description":"This my XXXX","id":"909494e3-558e-46b6-a9eb-07a8e18ca62f","name":"MyXXX","playbook_id":"string","playbook_version_id":"string","project_id":"string","sort_order":21312312312},"instance_log":{"action_id":"909494e3-558e-46b6-a9eb-07a8e18ca62f","action_name":"DisabledIp","end_time":"2021-01-31T23:00:00Z","error_msg":"error_msg","input":"input","instance_id":"909494e3-558e-46b6-a9eb-07a8e18ca62f","instance_type":"APP, AOP_WORKFLOW, SCRIPT, PLAYBOOK, TASK, DEBUG","log_level":"DEBUG INFO WARN","output":"output","parent_instance_id":"909494e3-558e-46b6-a9eb-07a8e18ca62f","start_time":"2021-01-30T23:00:00Z","status":"CREATED, RUNNING, FINISHED, RETRYING, TERMINATING, TERMINATED, FAILED","trigger_type":"DEBUG, TIMER, EVENT, MANUAL"}}],"count":41},"properties":{"action_instances":{"description":"流程实例列表","items":{"$ref":"#/definitions/ActionInstanceInfo"},"maxItems":100,"minItems":0,"type":"array"},"count":{"description":"总数","example":41,"maximum":99999,"minimum":0,"type":"integer"}}}},"description":null,"group_id":"705709df764d40488141daec53da8672","host":"sa.myhuaweicloud.com","id":"edf7690cfb63476abb3f80536bc7f0c4","info_version":"v2","method":"get","name":"ShowPlaybookTopology","parameters":{},"paths":{"/v1/{project_id}/workspaces/{workspace_id}/soc/playbooks/instances/{instance_id}/topology":{"get":{"description":"查询剧本拓扑关系","operationId":"ShowPlaybookTopology","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":2097152,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"default":"application/json;charset=UTF-8","description":"application/json;charset=UTF-8","in":"header","maxLength":64,"minLength":1,"name":"content-type","required":true,"type":"string"},{"description":"项目ID","in":"path","maxLength":36,"minLength":32,"name":"project_id","required":true,"type":"string"},{"description":"工作空间ID","in":"path","maxLength":36,"minLength":32,"name":"workspace_id","required":true,"type":"string"},{"description":"剧本实例ID","in":"path","maxLength":36,"minLength":36,"name":"instance_id","required":true,"type":"string","x-example":"2b31ed520x-xxxx-xebe-db6e-57xxxxxxxx"}],"produces":["application/json"],"responses":{"200":{"description":"请求成功响应信息","examples":{"application/json":{"action_instances":[{"action":{"action_id":"909494e3-558e-46b6-a9eb-07a8e18ca62f","action_type":"Workflow","description":"This my XXXX","id":"909494e3-558e-46b6-a9eb-07a8e18ca62f","name":"MyXXX","playbook_id":"string","playbook_version_id":"string","project_id":"string"},"instance_log":{"action_id":"909494e3-558e-46b6-a9eb-07a8e18ca62f","action_name":"DisabledIp","end_time":"2021-01-31T23:00:00Z","error_msg":"error_msg","input":"input","instance_id":"909494e3-558e-46b6-a9eb-07a8e18ca62f","instance_type":"APP, AOP_WORKFLOW, SCRIPT, PLAYBOOK, TASK, DEBUG","log_level":"DEBUG INFO WARN","output":"output","parent_instance_id":"909494e3-558e-46b6-a9eb-07a8e18ca62f","start_time":"2021-01-30T23:00:00Z","status":"CREATED, RUNNING, FINISHED, RETRYING, TERMINATING, TERMINATED, FAILED","trigger_type":"DEBUG, TIMER, EVENT, MANUAL"}}],"count":41}},"headers":{"X-request-id":{"description":"请求ID,格式为:request_uuid-timestamp-hostname","type":"string"}},"schema":{"$ref":"#/definitions/PlaybookTopology"}},"400":{"description":"请求失败响应信息","headers":{"X-request-id":{"description":"请求ID,格式为:request_uuid-timestamp-hostname","type":"string"}},"schema":{"$ref":"#/definitions/ErrorRsp"}}},"summary":"查询剧本拓扑关系","tags":["剧本实例管理(安全云脑)"],"x-is-registered":"N","x-support-sdk":"Y","x-surpport-apiexplorer":true}}},"product_short":"SecMaster","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询剧本拓扑关系","tags":"剧本实例管理(安全云脑)","uri":null,"version":"2.0"}