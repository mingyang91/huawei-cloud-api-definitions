{"base_path":null,"components":null,"consumes":"","definitions":{"AuthError":{"properties":{"error_code":{"description":"错误码","example":"SecMaster.00000012","maxLength":128,"minLength":1,"type":"string"},"error_msg":{"description":"权限错误","example":"Permission denied!","maxLength":128,"minLength":1,"type":"string"}},"type":"object"},"BadRequest":{"properties":{"error_code":{"description":"错误码","example":"SecMaster.00000001","maxLength":128,"minLength":1,"type":"string"},"error_msg":{"description":"无效请求提示信息","maxLength":128,"minLength":1,"type":"string"}},"type":"object"},"CreatePipeRequestBody":{"example":{"dataspace_id":"a00106ba-bede-453c-8488-b60c70bd6aed","description":"test pipe","mapping":{"id":{"type":"text"},"name":{"type":"text"},"publish_time":{"type":"data"}},"pipe_name":"pipe-01","shards":3,"storage_period":30},"properties":{"dataspace_id":{"description":"工作空间ID","maxLength":36,"minLength":36,"type":"string"},"description":{"description":"描述","maxLength":255,"minLength":1,"type":"string"},"mapping":{"additionalProperties":{"$ref":"#/definitions/KeyIndex"},"description":"索引字段映射;每个key对象承载一个字段的信息;存在多个key对象,key可变,表示字段名称;可嵌套","type":"object"},"pipe_name":{"description":"数据管道名称;必须以英文字母开头,且只能包含小写英文字母、数字和'_',且'_'不能在结尾,也不能连续出现。 不能以系统预留的前缀isap_、csb_、secmaster_、sec_、s_sec_、i_sec_、l_sec_、security_开头","maxLength":63,"minLength":5,"type":"string"},"shards":{"description":"数据管道分区个数;默认创建1个,最大支持创建64个分区","maximum":64,"minimum":1,"type":"integer"},"storage_period":{"description":"数据的保存时间,单位为天;默认30天,取值范围为7~180. 配置180天需提工单申请","example":7,"maximum":180,"minimum":7,"type":"integer"},"timestamp_field":{"default":"__time","description":"时间戳字段","example":"timestamp","maxLength":256,"minLength":1,"type":"string"}},"required":["dataspace_id","pipe_name","shards","storage_period"],"type":"object"},"KeyIndex":{"properties":{"is_chinese_exist":{"description":"是否包含中文","type":"boolean"},"properties":{"additionalProperties":{"$ref":"#/definitions/KeyIndex"},"description":"嵌套结构","type":"object"},"type":{"description":"**参数解释**:\n字段类型\n- text 全文索引字段\n- keyword 关键字类型,适用于精确匹配\n- long 长整型\n- integer 整型\n- double 双精度浮点数\n- float 单精度浮点数\n- date 日期类型\n\n**约束限制**\n不涉及\n**取值范围**:\n- text\n- keyword\n- long\n- integer\n- double\n- float\n- date\n\n**默认值**\n不涉及","enum":["text","keyword","long","integer","double","float","date"],"type":"string"}}},"PipeCreateResponse":{"properties":{"create_by":{"description":"创建者","example":"0642ed520xxxxxxebedb6e57xxxxxxxx","maxLength":128,"minLength":5,"type":"string"},"create_time":{"description":"创建时间","example":1584883694354,"format":"int64","maximum":1010000000,"minimum":0,"type":"integer"},"dataspace_id":{"description":"数据空间id","example":"a00106ba-bede-453c-8488-b60c70bd6aed","maxLength":36,"minLength":32,"type":"string"},"dataspace_name":{"description":"数据空间名称","example":"dataspace-01","maxLength":36,"minLength":32,"type":"string"},"description":{"description":"描述信息","example":"test pipe","maxLength":128,"minLength":5,"type":"string"},"domain_id":{"description":"用户domainId","example":"0531ed520xxxxxxebedb6e57xxxxxxxx","maxLength":36,"minLength":32,"type":"string"},"pipe_id":{"description":"管道ID","example":"b22106ba-bede-453c-8488-b60c70bd6aed","maxLength":36,"minLength":32,"type":"string"},"pipe_name":{"description":"管道名称","example":"pipe-01","maxLength":36,"minLength":32,"type":"string"},"pipe_type":{"description":"管道类型(system-defined,系统预定义)、1(user-defined,用户自定义)","example":"system-defined","maxLength":128,"minLength":5,"type":"string"},"project_id":{"description":"项目id","example":"2b31ed520xxxxxxebedb6e57xxxxxxxx","maxLength":36,"minLength":32,"type":"string"},"shards":{"description":"索引分片数量","example":3,"format":"int32","maximum":128,"minimum":1,"type":"integer"},"storage_period":{"description":"索引存储天数","example":30,"format":"int32","maximum":100000,"minimum":1,"type":"integer"},"update_by":{"description":"更新者","example":"0642ed520xxxxxxebedb6e57xxxxxxxx","maxLength":128,"minLength":5,"type":"string"},"update_time":{"description":"更新时间","example":1584883694354,"format":"long","maximum":10000000000,"minimum":0,"type":"integer"}},"required":["create_by","create_time","dataspace_id","dataspace_name","description","domain_id","pipe_id","pipe_name","pipe_type","project_id","shards","storage_period","update_by","update_time"],"type":"object"},"SystemInnerError":{"properties":{"error_code":{"description":"错误码","example":"SecMaster.00000008","maxLength":128,"minLength":1,"type":"string"},"error_msg":{"description":"系统内部错误","example":"System inner error.","maxLength":128,"minLength":1,"type":"string"}},"type":"object"}},"description":null,"group_id":"705709df764d40488141daec53da8672","host":"secmaster.cn-north-4.myhuaweicloud.com","id":"ad351610fbd24336bad2fb9e181c88f6","info_version":"v1","method":"post","name":"CreatePipe","parameters":{},"paths":{"/v1/{project_id}/workspaces/{workspace_id}/siem/pipes":{"post":{"description":"创建数据管道","operationId":"CreatePipe","parameters":[{"description":"**参数解释:**\n项目ID,用于明确项目归属,配置后可通过该ID查询项目下资产,可以通过调用API获取,也可以从控制台获取。[获取项目ID](secmaster_03_0014.xml)\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","in":"path","maxLength":36,"minLength":32,"name":"project_id","required":true,"type":"string"},{"description":"**参数解释:**\n工作空间id。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","in":"path","maxLength":36,"minLength":32,"name":"workspace_id","required":true,"type":"string"},{"description":"**参数解释:**\n用户Token,通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。[获取用户Token](secmaster_03_0010.xml)\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","in":"header","maxLength":2097152,"minLength":0,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"请求体","in":"body","name":"CreatePipeRequestBody","required":true,"schema":{"$ref":"#/definitions/CreatePipeRequestBody"}}],"responses":{"200":{"description":"创建成功返回值","examples":{"application/json":{"create_by":"0642ed520xxxxxxebedb6e57xxxxxxxx","create_time":1584883694354,"dataspace_id":"a00106ba-bede-453c-8488-b60c70bd6aed","dataspace_name":"dataspace-01","description":"test pipe","domain_id":"0531ed520xxxxxxebedb6e57xxxxxxxx","pipe_id":"b22106ba-bede-453c-8488-b60c70bd6aed","pipe_name":"pipe-01","pipe_type":"system-defined","project_id":"2b31ed520xxxxxxebedb6e57xxxxxxxx","shards":3,"storage_period":30,"update_by":"0642ed520xxxxxxebedb6e57xxxxxxxx","update_time":1584883694354}},"schema":{"$ref":"#/definitions/PipeCreateResponse"}},"400":{"description":"错误请求","schema":{"$ref":"#/definitions/BadRequest"}},"401":{"description":"认证失败","schema":{"$ref":"#/definitions/AuthError"}},"403":{"description":"访问拒绝","schema":{"$ref":"#/definitions/BadRequest"}},"500":{"description":"系统内部错误","schema":{"$ref":"#/definitions/SystemInnerError"}}},"summary":"创建数据管道","tags":["管道管理"],"x-api-service-plane":"Control-plane","x-api-type":"open-api","x-is-registered":"Y","x-sec-data-level":"L1","x-support-sdk":"Y","x-surpport-apiexplorer":"true","x-surpport-hcs":"Y"}}},"product_short":"SecMaster","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建数据管道","tags":"管道管理","uri":null,"version":"2.0"}