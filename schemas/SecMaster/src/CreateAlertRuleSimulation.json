{"base_path":"/","components":null,"consumes":"","definitions":{"AlertRuleTrigger":{"example":{"accumulated_times":1,"expression":10,"mode":"COUNT","operator":"GT","severity":"TIPS"},"properties":{"accumulated_times":{"default":1,"description":"accumulated_times","maximum":1000,"minimum":1,"type":"integer"},"expression":{"description":"expression","maxLength":255,"minLength":1,"type":"string"},"mode":{"default":"COUNT","description":"模式,数量。Mode. COUNT.","enum":["COUNT"],"maxLength":255,"minLength":1,"type":"string"},"operator":{"default":"GT","description":"操作符,等于、不等于、大于、小于。 operator. EQ equal, NE not equal, GT greater than, LT less than.","enum":["EQ","NE","GT","LT"],"maxLength":255,"minLength":1,"type":"string"},"severity":{"description":"严重程度,提示、低危、中危、高危、致命。Severity. TIPS, LOW, MEDIUM, HIGH, FATAL","enum":["TIPS","LOW","MEDIUM","HIGH","FATAL"],"maxLength":255,"minLength":1,"type":"string"}},"required":["expression"],"type":"object"},"CreateAlertRuleSimulationRequestBody":{"example":{"event_grouping":true,"from":1665221214000,"pipe_id":"ead2769b-afb0-45dd-b9fa-a2953e6ac82f","query":"* | select status, count(*) as count group by status","query_type":"SQL","to":1665546370000,"triggers":[{"expression":10,"mode":"COUNT","operator":"GT","severity":"TIPS"}]},"properties":{"event_grouping":{"default":true,"description":"告警分组。Event grouping.","type":"boolean"},"from":{"description":"开始时间。Start time.","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"pipe_id":{"description":"数据管道 ID。Pipe ID.","example":"ead2769b-afb0-45dd-b9fa-a2953e6ac82f","maxLength":36,"minLength":36,"type":"string"},"query":{"description":"查询语句。Query.","maxLength":1024,"minLength":1,"type":"string"},"query_type":{"default":"SQL","description":"查询语法,SQL。Query type. SQL.","enum":["SQL"],"maxLength":255,"minLength":1,"type":"string"},"to":{"description":"结束时间。End time.","format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"triggers":{"description":"告警触发规则。Alert triggers.","items":{"$ref":"#/definitions/AlertRuleTrigger"},"maxItems":5,"minItems":1,"type":"array"}},"required":["pipe_id","query","from","to","triggers"],"type":"object"},"CreateAlertRuleSimulationResponseBody":{"properties":{"alert_count":{"description":"告警数量。Alert count.","maximum":100,"minimum":0,"type":"integer"},"severity":{"description":"严重程度,提示、低危、中危、高危、致命。Severity. TIPS, LOW, MEDIUM, HIGH, FATAL","example":"TIPS","maxLength":64,"minLength":1,"type":"string"}},"required":["alert_count","severity"],"type":"object"}},"description":null,"group_id":"705709df764d40488141daec53da8672","host":"secmaster.cn-north-4.myhuaweicloud.com","id":"65dc9e98443848b49a26df6611fb0699","info_version":"v2","method":"post","name":"CreateAlertRuleSimulation","parameters":{},"paths":{"/v1/{project_id}/workspaces/{workspace_id}/siem/alert-rules/simulation":{"post":{"consumes":["application/json"],"description":"Simulate alert rule","operationId":"CreateAlertRuleSimulation","parameters":[{"description":"用户Token,通过调用IAM服务获取用户Token接口获取。 IAM user token, fetch from IAM api.","in":"header","maxLength":2097152,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-example":"asdfasdfas"},{"description":"项目 ID。Project ID.","in":"path","maxLength":36,"minLength":32,"name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"工作空间 ID。Workspace ID.","in":"path","maxLength":36,"minLength":32,"name":"workspace_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"CreateAlertRuleSimulationRequestBody","in":"body","name":"CreateAlertRuleSimulationRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateAlertRuleSimulationRequestBody"}}],"produces":["application/json"],"responses":{"200":{"description":"请求成功","examples":{"application/json":{"alert_count":100,"severity":"TIPS"}},"headers":{"X-request-id":{"description":"This field is the request ID number for task tracking. Format is request_uuid-timestamp-hostname.","type":"string"}},"schema":{"$ref":"#/definitions/CreateAlertRuleSimulationResponseBody"}},"400":{"description":"请求失败","headers":{"X-request-id":{"description":"This field is the request ID number for task tracking. Format is request_uuid-timestamp-hostname.","type":"string"}}}},"summary":"模拟告警规则","tags":["告警规则管理"],"x-is-registered":"Y","x-open-region-cloud":"hc,hk,hws_eu,tm,cmcc","x-request-examples-1":{"event_grouping":true,"from":1665221214000,"pipe_id":"ead2769b-afb0-45dd-b9fa-a2953e6ac82f","query":"* | select status, count(*) as count group by status","query_type":"SQL","to":1665546370000,"triggers":[{"expression":10,"mode":"COUNT","operator":"GT","severity":"TIPS"}]},"x-request-examples-description-1":"模拟一条告警规则,告警规则所属的管道ID为ead2769b-afb0-45dd-b9fa-a2953e6ac82f,查询类型为SQL,严重程度为提示。","x-support-sdk":"Y","x-surpport-apiexplorer":true}}},"product_short":"SecMaster","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"模拟告警规则","tags":"告警规则管理","uri":null,"version":"2.0"}