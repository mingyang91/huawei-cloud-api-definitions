{"base_path":null,"components":null,"consumes":"","definitions":{"CreateRetryPolicyRequestBody":{"description":"创建请求策略请求body体","properties":{"data_object":{"description":"策略实体信息","properties":{"account_scope":{"description":"账号范围","example":"账号名称列表, 使用 , 分割, 如果是全账号传 ALL","maxLength":2147483647,"minLength":0,"type":"string"},"block_age":{"description":"阻断老化","properties":{"block_ageing":{"description":"老化时间,毫秒级时间戳","example":"1752225706000","maxLength":16,"minLength":0,"type":"string"},"is_block_ageing":{"description":"是否阻断老化","example":true,"type":"boolean"}},"required":["is_block_ageing"],"type":"object"},"block_target":{"description":"策略对象","example":"192.168.1.1","maxLength":30,"minLength":0,"type":"string"},"defense_policy_list":{"description":"与操作连接对应的策略列表","items":{"description":"与操作连接对应的策略","properties":{"defense_connection_id":{"description":"操作连接ID","example":"909494e3-558e-46b6-a9eb-07a8e18ca621","maxLength":64,"minLength":0,"type":"string"},"defense_connection_name":{"description":"操作连接名称","example":"WAF","maxLength":30,"minLength":0,"type":"string"},"defense_connection_region_id":{"description":"防线策略归属区域ID","example":"regionId","maxLength":30,"minLength":0,"type":"string"},"defense_connection_region_name":{"description":"防线策略归属区域名称","maxLength":30,"minLength":0,"type":"string"},"defense_type":{"description":"防线服务","example":"WAF","maxLength":30,"minLength":0,"type":"string"},"target_enterprise_id":{"description":"企业项目ID","example":"blocked/unblocked","maxLength":30,"minLength":0,"type":"string"},"target_enterprise_name":{"description":"企业项目名称","maxLength":30,"minLength":0,"type":"string"},"target_project_id":{"description":"防线策略归属项目ID","maxLength":64,"minLength":0,"type":"string"},"target_project_name":{"description":"防线策略归属项目名称","maxLength":30,"minLength":0,"type":"string"}},"required":["defense_connection_id","defense_connection_name","defense_connection_region_id","defense_connection_region_name","defense_type","target_enterprise_id","target_enterprise_name","target_project_id","target_project_name"],"type":"object"},"maxItems":999,"minItems":0,"type":"array"},"description":{"description":"描述信息","example":"description","maxLength":1024,"minLength":0,"type":"string"},"eps_scope":{"description":"企业项目范围","example":"企业项目ID列表, 使用 , 分割, 如果是全部企业项目传 ALL","maxLength":2147483647,"minLength":0,"type":"string"},"labels":{"description":"标签","example":"黑名单阻断","maxLength":30,"minLength":0,"type":"string"},"policy_category":{"description":"类型,WHITE/BLOCK,WHITE代表加白(将ip等对象加入白名单),BLOCK代表阻断(将ip等对象加入黑名单)","enum":["WHITE","BLOCK"],"example":"WHITE","maxLength":30,"minLength":0,"type":"string"},"policy_direction":{"description":"出入方向","example":"INGRESS(入方向) EGRESS(出方向) DEFAULT(默认)","maxLength":32,"minLength":0,"type":"string"},"policy_type":{"description":"阻断类型","example":"","properties":{"policy_type":{"description":"阻断类型:User Name/Source Ip/Domain Name","enum":["User Name","Source Ip","Domain Name"],"example":"Source Ip","type":"string"}},"required":["policy_type"],"type":"object"},"region_id":{"description":"区域ID","example":"909494e3-558e-46b6-a9eb-07a8e18ca621","maxLength":30,"minLength":0,"type":"string"},"region_scope":{"description":"region范围","example":"regionId列表, 使用 , 分割, CURRENT(当前Region) ALL (所有Region)","maxLength":32,"minLength":0,"type":"string"},"retry_list":{"description":"重试策略ID","items":{"example":"909494e3-558e-46b6-a9eb-07a8e18ca621","maxLength":100,"minLength":0,"type":"string"},"maxItems":999,"minItems":0,"type":"array"}},"required":["block_age","block_target","defense_policy_list","policy_category","policy_type","region_id"],"type":"object"}},"type":"object"},"CreateRetryPolicyResponseBody":{"description":"创建重试应急策略返回对象","properties":{"code":{"description":"状态码","example":"CSB.20040001","maxLength":64,"minLength":0,"type":"string"},"data":{"description":"下发任务id","maxLength":1024,"minLength":0,"type":"string"},"message":{"description":"状态信息","example":"Parameter error.","maxLength":1024,"minLength":0,"type":"string"},"request_id":{"description":"请求id","maxLength":64,"minLength":0,"type":"string"},"success":{"description":"请求状态","type":"boolean"}},"type":"object"},"PolicyErrorRsp":{"description":"请求失败错误响应体","properties":{"code":{"description":"**参数解释**:\n错误码\n**取值范围**:\n不涉及","example":"SecMaster.20040001","maxLength":64,"minLength":0,"type":"string"},"message":{"description":"**参数解释**:\n错误描述\n**取值范围**:\n不涉及","example":"Parameter error.","maxLength":1024,"minLength":0,"type":"string"}},"type":"object"}},"description":null,"group_id":"705709df764d40488141daec53da8672","host":"secmaster.cn-north-4.myhuaweicloud.com","id":"8d7d5fbd9569405895eed35790d84ba4","info_version":"v1","method":"post","name":"CreateRetryPolicy","parameters":{},"paths":{"/v1/{project_id}/workspaces/{workspace_id}/soc/policys":{"post":{"consumes":["application/json"],"description":"创建重试应急策略","operationId":"CreateRetryPolicy","parameters":[{"description":"**参数解释:**\n用户Token,通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。[获取用户Token](secmaster_03_0010.xml)\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","in":"header","maxLength":2097152,"minLength":0,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"default":"application/json;charset=UTF-8","description":"**参数解释:**\n内容类型\n- application/json;charset=UTF-8    普通API请求的类型\n\n**约束限制:**\n不涉及\n**取值范围:**\n- application/json;charset=UTF-8\n\n**默认取值:**\n不涉及","in":"header","maxLength":64,"minLength":0,"name":"Content-Type","required":true,"type":"string"},{"description":"服务版本,例如25.5.0","in":"header","maxLength":64,"minLength":0,"name":"X-Secmaster-Version","required":true,"type":"string"},{"description":"**参数解释:**\n项目ID,用于明确项目归属,配置后可通过该ID查询项目下资产,可以通过调用API获取,也可以从控制台获取。[获取项目ID](secmaster_03_0014.xml)\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","in":"path","maxLength":36,"minLength":32,"name":"project_id","required":true,"type":"string"},{"description":"**参数解释:**\n工作空间id。\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","in":"path","maxLength":36,"minLength":32,"name":"workspace_id","required":true,"type":"string"},{"description":"创建应急策略请求body体","in":"body","name":"CreateRetryPolicyRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateRetryPolicyRequestBody"}},{"description":"操作类型:create创建,retry重试","enum":["create","retry"],"in":"query","name":"action_type","required":true,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"创建应急策略返回body体","examples":{"application/json":{"code":"00000000","data":"b724da59-81db-4dc9-b059-d519869e9a41","message":"","request_id":"","success":true}},"schema":{"$ref":"#/definitions/CreateRetryPolicyResponseBody"}},"400":{"description":"创建应急策略错误返回body体","schema":{"$ref":"#/definitions/PolicyErrorRsp"}}},"summary":"创建重试应急策略","tags":["应急策略"],"x-api-type":"open-api","x-is-registered":"Y","x-order":0,"x-request-examples-1":{"data_object":{"block_age":{"is_block_ageing":false},"block_target":"1.2.3.4","defense_policy_list":[{"defense_connection_id":"84b273d3-47a8-3aba-bd00-7bdd1431d635","defense_connection_name":"CFW","defense_connection_region_id":"RegionId","defense_connection_region_name":"RegionName","defense_type":"CFW","target_enterprise_id":"0","target_enterprise_name":"default","target_project_id":"3bb27e024693436da46b5f5aaf499060","target_project_name":"RegionName"}],"description":"","labels":"","policy_category":"BLOCK","policy_type":{"policy_type":"Source Ip"},"region_id":"RegionId"}},"x-request-examples-text-1":{"data_object":{"block_age":{"is_block_ageing":false},"block_target":"1.2.3.4","defense_policy_list":[{"defense_connection_id":"84b273d3-47a8-3aba-bd00-7bdd1431d635","defense_connection_name":"CFW","defense_connection_region_id":"RegionId","defense_connection_region_name":"RegionName","defense_type":"CFW","target_enterprise_id":"0","target_enterprise_name":"default","target_project_id":"3bb27e024693436da46b5f5aaf499060","target_project_name":"RegionName"}],"description":"","labels":"","policy_category":"BLOCK","policy_type":{"policy_type":"Source Ip"},"region_id":"RegionId"}},"x-request-examples-url-1":"https://{endpoint}/v1/{project_id}/workspaces/{workspace_id}/soc/policys?action_type=create","x-support-sdk":"Y","x-surpport-apiexplorer":true,"x-surpport-hcs":"N"}}},"product_short":"SecMaster","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建重试应急策略","tags":"应急策略","uri":null,"version":"2.0"}