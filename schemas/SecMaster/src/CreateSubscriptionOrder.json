{"base_path":null,"components":null,"consumes":"","definitions":{"AlertConfig":{"description":"订单配置开关项","properties":{"enable":{"description":"开启或关闭当前告警配置,true为开启,false为关闭","example":false,"type":"boolean"},"topic_urn":{"description":"关联对应的smn topic;当type=smn时,可以填写当前参数默认为空","example":"urn:smn:demo-region:07b0ce6bc80026fa2f4ac004953d4a7a:csb-subscriptions-create","maxLength":100,"minLength":2,"type":"string"},"type":{"description":"支持的订单告警类型,SMN为消息协议,MC为消息中心","enum":["SMN","MC"],"example":"SMN","maxLength":10,"minLength":2,"type":"string"}},"type":"object"},"OrderConfig":{"description":"订单配置项","properties":{"alert_config":{"$ref":"#/definitions/AlertConfig","description":"开启或关闭当前告警配置"},"threshold_list":{"description":"阈值列表","items":{"$ref":"#/definitions/UsageThreshold"},"maxItems":20,"minItems":0,"type":"array"}},"type":"object"},"OrderInfoReq":{"description":"云脑下单接口,包括包周期、按需场景,关联的下单场景","properties":{"config":{"$ref":"#/definitions/OrderConfig","description":"配置列表,当scene为CONFIG时必填"},"is_auto_renew":{"description":"当scene=PREPAID时,当前字段必填,是否自动续订,为空时表示不自动续订;\n1:自动续订\n0:不自动续订(默认)","enum":[0,1],"example":1,"format":"int32","maximum":1,"minimum":0,"type":"integer"},"operate_type":{"default":"CREATE","description":"操作类型,比如创建场景为:CREATE、订单用量预警配置为:ALERT_CONFIG,大小写不敏感","enum":["CREATE","ALERT_CONFIG"],"example":"CREATE","maxLength":15,"minLength":3,"type":"string"},"period_num":{"description":"订阅周期数,当scene=PREPAID时需要填写该值\n取值大于0;小于等于0会报错。\n当period_type=2时,其可选范围为[1, 9],当period_type=3,其可选范围为[1, 3]","enum":[1,2,3,4,5,6,7,8,9],"example":1,"format":"int32","maximum":9,"minimum":1,"type":"integer"},"period_type":{"description":"当scene=PREPAID时需要填写,订阅周期类型:\n2:月;\n3:年;","enum":[2,3],"example":2,"format":"int32","maximum":3,"minimum":2,"type":"integer"},"product_list":{"description":"当scene=PREPAID 或者 POSTPAID时,当前字段必填\n商品列表","items":{"$ref":"#/definitions/Product"},"maxItems":20,"minItems":0,"type":"array"},"promotion_info":{"description":"促销折扣信息\nString,JSON格式","maxLength":2048,"minLength":2,"type":"string"},"scene":{"description":"场景描述,执行包年包月(PREPAID)、按需(POSTPAID)开通,或者配置资源(CONFIG)用量,缺省值:PREPAID,大小写不敏感","enum":["PREPAID","POSTPAID","CONFIG"],"example":"PREPAID","maxLength":10,"minLength":2,"type":"string"},"tag_list":{"description":"计费标签","items":{"$ref":"#/definitions/SubscriptionTag"},"maxItems":20,"minItems":0,"type":"array"}},"required":["operate_type","scene"],"type":"object"},"OrderInfoResp":{"properties":{"order_id":{"description":"创建或变更订单ID,只有scene为PREPAID时返回有此数据","example":"CS2510212051NLDL4","maxLength":64,"minLength":2,"type":"string"},"order_status":{"description":"订单更新状态,1:变更订单成功,5,订单变更失败","enum":[1,5],"example":1,"format":"int32","type":"integer"}},"type":"object"},"Product":{"properties":{"resource_size":{"description":"订阅数量","example":1,"maximum":10000,"minimum":1,"type":"integer"},"resource_spec_code":{"description":"资源规格编码","example":"secmaster.professional","maxLength":64,"minLength":2,"type":"string"},"resource_type":{"description":"资源类型","example":"xxx.resource.type.secmaster.typical","maxLength":64,"minLength":2,"type":"string"}},"required":["resource_size","resource_spec_code","resource_type"],"type":"object"},"SubscriptionErrorResp":{"description":"请求失败错误响应体","properties":{"error_code":{"description":"**参数解释**:\n错误码\n**取值范围**:\n不涉及","example":"SecMaster.20040001","maxLength":64,"minLength":0,"type":"string"},"error_msg":{"description":"**参数解释**:\n错误描述\n**取值范围**:\n不涉及","example":"Parameter error.","maxLength":1024,"minLength":0,"type":"string"}}},"SubscriptionTag":{"properties":{"key":{"description":"键。\n最大长度36个字符。 字符集:A-Z,a-z , 0-9,‘-’,‘_’,UNICODE字符(\\u4E00-\\u9FFF)","example":"dept","maxLength":36,"minLength":1,"type":"string"},"value":{"description":"值。 最大长度43个字符,可以为空字符串。 字符集:A-Z,a-z , 0-9,‘.’,‘-’,‘_’,UNICODE字符(\\u4E00-\\u9FFF)","example":"dev","maxLength":43,"minLength":0,"type":"string"}},"type":"object"},"UsageThreshold":{"description":"用量阈值","properties":{"enable":{"description":"开启或关闭当前资源类型的告警设置","type":"boolean"},"resource_spec_code":{"description":"资源类型","example":"siem.collection","maxLength":128,"minLength":2,"type":"string"},"source_resource_spec_code":{"description":"原始资源类型","example":"csb.professional","maxLength":32,"minLength":6,"type":"string"},"threshold":{"description":"阈值","example":20.0,"format":"double","maximum":100,"minimum":0,"type":"number"},"unit":{"description":"阈值对应的单位,%,MB,GB\n如果%,对应的阈值最大为95","enum":["%","MB","GB"],"example":"GB","maxLength":10,"minLength":1,"type":"string"}},"required":["threshold","unit"],"type":"object"}},"description":null,"group_id":"705709df764d40488141daec53da8672","host":"secmaster.cn-north-4.myhuaweicloud.com","id":"58d68cad456748bf82b18a6524ef74bb","info_version":"v1","method":"post","name":"CreateSubscriptionOrder","parameters":{},"paths":{"/v1/{project_id}/subscriptions/orders":{"post":{"consumes":["application/json;charset=utf-8"],"description":"安全云脑开通与配置接口","operationId":"CreateSubscriptionOrder","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":2097152,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"用户当前语言环境 zh-cn or en-us.","enum":["zh-cn","en-us"],"in":"header","maxLength":6,"minLength":2,"name":"X-Language","required":true,"type":"string"},{"description":"租户项目ID","in":"path","maxLength":36,"minLength":32,"name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"云脑订阅参数请求体","in":"body","name":"CreateSubscriptionOrderRequestBody","required":true,"schema":{"$ref":"#/definitions/OrderInfoReq"}}],"produces":["application/json"],"responses":{"200":{"description":"请求成功","examples":{"application/json":{"order_id":"CS2510212051NLDL4","order_status":1}},"schema":{"$ref":"#/definitions/OrderInfoResp"}},"400":{"description":"请求参数异常","schema":{"$ref":"#/definitions/SubscriptionErrorResp"}},"403":{"description":"权限不足","schema":{"$ref":"#/definitions/SubscriptionErrorResp"}}},"summary":"开通或配置安全云脑订阅","tags":["计量计费管理"],"x-api-service-plane":"Management-plane","x-api-type":"open-api","x-is-registered":"Y","x-request-examples-1":{"is_auto_renew":1,"operate_type":"CREATE","period_num":1,"period_type":2,"product_list":[{"resource_size":3,"resource_spec_code":"secmaster.professional","resource_type":"xxx.resource.type.secmaster.typical"}],"scene":"PREPAID","tag_list":[{"key":"testKey1","value":"testVal1"}]},"x-request-examples-2":{"operate_type":"CREATE","product_list":[{"resource_size":3,"resource_spec_code":"secmaster.basic","resource_type":"xxx.resource.type.secmaster.typical"}],"scene":"POSTPAID","tag_list":[{"key":"testKey2","value":"testVal2"}]},"x-request-examples-description-1":"开通包周期资源","x-request-examples-description-2":"开通按需资源","x-request-examples-url-1":"POST https://{endpoint}/v1/{projectId}/subscriptions/orders","x-response-examples-1":{"order_id":"CS2510212051NLDL4","order_status":1},"x-response-examples-2":{"order_status":1},"x-support-sdk":"Y","x-surpport-apiexplorer":true,"x-surpport-hcs":"Y"}}},"product_short":"SecMaster","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"开通或配置安全云脑订阅","tags":"计量计费管理","uri":null,"version":"2.0"}