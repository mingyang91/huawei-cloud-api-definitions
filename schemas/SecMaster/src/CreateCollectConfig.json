{"base_path":null,"components":null,"consumes":"","definitions":{"ConfigInfo":{"properties":{"accounts":{"description":"纳管账号列表(非跨账号场景不传递)","items":{"example":"domain_id","maxLength":36,"minLength":32,"type":"string"},"maxItems":10000,"minItems":0,"type":"array"},"action":{"description":"操作","example":"CREATE(创建) DELETE(删除) ALL(全量数据)","maxLength":255,"minLength":0,"type":"string"},"alert":{"description":"自动转告警的开关","example":true,"type":"boolean"},"all_accounts":{"description":"是否接入已纳管的全量账号","example":true,"type":"boolean"},"csvc":{"description":"云产品","example":"hss","maxLength":255,"minLength":1,"type":"string"},"csvc_display":{"description":"云服务描述","example":"主机安全","maxLength":255,"minLength":1,"type":"string"},"enable":{"description":"启用状态:0未启用;1启用","example":1,"format":"int64","maximum":10,"minimum":0,"type":"integer"},"new_account_auto_access":{"description":"新账号自动同步的开关","example":true,"type":"boolean"},"shards":{"description":"所需分区数","example":2,"format":"int64","maximum":99,"minimum":0,"type":"integer"},"source_display":{"description":"数据源描述","example":"主机安全告警","maxLength":255,"minLength":1,"type":"string"},"source_id":{"description":"数据源ID","example":27,"format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"source_name":{"description":"日志名称","example":"主机安全告警","maxLength":255,"minLength":1,"type":"string"},"ttl":{"description":"数据生命周期","example":180,"format":"int64","maximum":180,"minimum":7,"type":"integer"}},"required":["csvc_display","enable","shards","source_display","source_id","ttl"],"type":"object"},"ConfigResponse":{"properties":{"alert":{"description":"自动转告警的开关","example":true,"type":"boolean"},"allow_alert":{"description":"能否开自动转告警","type":"boolean"},"allow_lts":{"description":"是否允许长期存储","example":false,"type":"boolean"},"csvc_display":{"description":"云服务描述","example":"主机安全","maxLength":255,"minLength":1,"type":"string"},"datasets":{"description":"关联的数据集列表","items":{"$ref":"#/definitions/DatasetInfo"},"maxItems":200,"minItems":1,"type":"array"},"region":{"description":"是否按区域分片采集","example":false,"type":"boolean"},"source_display":{"description":"数据源描述","example":"主机安全告警","maxLength":255,"minLength":1,"type":"string"},"success":{"description":"是否创建成功","example":true,"type":"boolean"},"total":{"description":"当前已采集的日志条数","type":"integer"}}},"CreateCollectConfigResponseBody":{"description":"保存云服务采集配置响应","items":{"$ref":"#/definitions/ConfigResponse"},"type":"array"},"CreateCollectConfigV2RequestBody":{"properties":{"config":{"description":"数据集列表","items":{"$ref":"#/definitions/ConfigInfo"},"maxItems":200,"minItems":1,"type":"array"},"dataspace_id":{"description":"数据空间ID","example":"a00106ba-bede-453c-8488-b60c70bd6aed","maxLength":36,"minLength":36,"type":"string"},"dataspace_name":{"description":"数据空间名称","example":"cloudlogs_2b31ed520xxxxxxebedb6e57xxxxxxxx","maxLength":255,"minLength":1,"type":"string"},"domain_id":{"description":"账号ID","example":"0531ed520xxxxxxebedb6e57xxxxxxxx,0531ed520xxxxxxebedb6e57xxxxxxxx","maxLength":1024,"minLength":0,"type":"string"},"lts_config":{"description":"lts配置","items":{"$ref":"#/definitions/LtsRquestVo"},"maxItems":10000,"minItems":0,"type":"array"},"workspace_id":{"description":"工作空间 id","example":"c22106ba-bede-453c-8488-b60c70bd6aed","maxLength":36,"minLength":36,"type":"string"}},"required":["config","dataspace_id","dataspace_name","workspace_id"],"type":"object"},"DatasetInfo":{"properties":{"csvc":{"description":"所属云服务,例如主机安全就填写hss","example":"hss","maxLength":255,"minLength":1,"type":"string"},"enable":{"description":"启用状态:0未启用;1启用","example":"1","type":"string"},"is_region":{"description":"位置信息:1 region;0 global","example":0,"format":"int64","maximum":10,"minimum":0,"type":"integer"},"reference":{"description":"数据源名称","example":{"csvc_display":"主机安全","csvc_help":"xxxxx","link":"cloud.com/xxx","source_display":"主机安全告警","source_help":"xxxxx"},"properties":{"csvc_display":{"description":"云服务描述","example":"主机安全","type":"string"},"csvc_help":{"description":"云服务帮助说明","type":"string"},"link":{"description":"链接","example":"cloud.com/xxx","type":"string"},"source_display":{"description":"数据源描述","example":"主机安全告警","type":"string"},"source_help":{"description":"数据源帮助说明","type":"string"}},"required":["csvc_display","source_display"],"type":"object"},"source_id":{"description":"数据源ID","example":27,"format":"int64","maximum":9223372036854775807,"minimum":0,"type":"integer"},"source_name":{"description":"数据源名称","example":"hss_alarm","maxLength":255,"minLength":1,"type":"string"},"target":{"description":"目标管道信息"},"type":{"description":"订阅类型:1租户订阅;2租户行管订阅;3平台行管(当前都为1)","example":1,"format":"int64","maximum":10,"minimum":0,"type":"integer"}},"required":["csvc","enable","is_region","reference","source_id","source_name","target","type"]},"LtsRquestVo":{"properties":{"config_name":{"description":"配置名称","example":"配置","maxLength":255,"minLength":1,"type":"string"},"description":{"description":"描述","example":"描述","maxLength":255,"minLength":1,"type":"string"},"enable":{"description":"是否开启","example":"ACTIVE","maxLength":255,"minLength":1,"type":"string"},"log_group_id":{"description":"日志ID","example":"dd723a1e-43b4-4964-943c-e43fd1d1bef3","maxLength":36,"minLength":32,"type":"string"},"log_stream_id":{"description":"日志流ID","example":"dd723a1e-43b4-4964-943c-e43fd1d1bef3","maxLength":36,"minLength":32,"type":"string"},"log_type":{"description":"日志类型","example":"apig","maxLength":255,"minLength":1,"type":"string"},"log_type_prefix":{"description":"日志前缀","example":"lts_secsm_","maxLength":255,"minLength":1,"type":"string"},"pipe_alias":{"description":"日志别名","example":"管道别名","maxLength":255,"minLength":1,"type":"string"}},"type":"object"}},"description":null,"group_id":"705709df764d40488141daec53da8672","host":"secmaster.cn-north-4.myhuaweicloud.com","id":"823ed13f89914fd9b44c1b8806fcd5b2","info_version":"v1","method":"post","name":"CreateCollectConfig","parameters":{},"paths":{"/v1/{project_id}/collector/cloudlogs/config":{"post":{"consumes":["application/json"],"description":"保存云服务采集配置","operationId":"CreateCollectConfig","parameters":[{"description":"**参数解释:**\n用户Token,通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。[获取用户Token](secmaster_03_0010.xml)\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","in":"header","maxLength":2097152,"minLength":0,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"**参数解释:**\n项目ID,用于明确项目归属,配置后可通过该ID查询项目下资产,可以通过调用API获取,也可以从控制台获取。[获取项目ID](secmaster_03_0014.xml)\n**约束限制:**\n不涉及\n**取值范围:**\n不涉及\n**默认取值:**\n不涉及","in":"path","maxLength":64,"minLength":32,"name":"project_id","required":true,"type":"string","x-example":"156*******************341da6"},{"description":"请求体","in":"body","name":"CreateCollectConfigRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateCollectConfigV2RequestBody"}},{"description":"区域ID","in":"query","maxLength":36,"minLength":36,"name":"region_id","required":false,"type":"string","x-example":"00000000-0000-0000-0000-000000000000"}],"produces":["application/json"],"responses":{"200":{"description":"成功","schema":{"$ref":"#/definitions/CreateCollectConfigResponseBody"}}},"summary":"保存云服务采集配置","tags":["云服务接入"],"x-api-service-plane":"Control-plane","x-api-type":"open-api","x-is-registered":"N","x-sec-data-level":"L1","x-support-sdk":"Y","x-surpport-apiexplorer":"true"}}},"product_short":"SecMaster","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"保存云服务采集配置","tags":"云服务接入","uri":null,"version":"2.0"}