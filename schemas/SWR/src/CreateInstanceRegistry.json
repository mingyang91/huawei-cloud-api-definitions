{"base_path":"/","components":null,"consumes":"","definitions":{"CreateRegistryRequestBody":{"properties":{"credential":{"$ref":"#/definitions/Credential","description":"仓库认证信息"},"description":{"description":"目标仓库描述","type":"string"},"dns_conf":{"$ref":"#/definitions/DnsConf","description":"域名解析的配置信息,当仓库类型为开源harbor仓库时,是必选项。"},"insecure":{"description":"是否验证远程证书","type":"boolean"},"instance_id":{"description":"企业仓库实例ID,当type为swr-pro-internal时必填","type":"string"},"name":{"description":"目标仓库名称,1-64字符组成,只能包含英文大小写、数字、汉字、中划线和下划线。","type":"string"},"project_id":{"description":"企业仓库实例所属的项目ID,当type为swr-pro-internal时必填","type":"string"},"region_id":{"description":"区域ID,当type为swr-pro-internal时必填","type":"string"},"type":{"description":"仓库类型,swr-pro(开源harbor仓库)、swr-pro-internal(SWR企业版仓库)、huawei-SWR(SWR基础版仓库)","type":"string"},"url":{"description":"目标仓库的地址","type":"string"}},"required":["name","type","url","credential","insecure"],"type":"object"},"CreateRegistryResponseBody":{"properties":{"id":{"description":"命名空间ID","type":"integer"}},"required":["id"]},"Credential":{"properties":{"access_key":{"description":"访问ID","type":"string"},"access_secret":{"description":"访问密码","type":"string"},"type":{"description":"认证方式,目前只支持basic","type":"string"}},"required":["type","access_key","access_secret"]},"DnsConf":{"properties":{"hosts":{"additionalProperties":{"type":"string"},"description":"主机映射,键为域名,值为对应的 IP 地址","type":"object"}},"type":"object"}},"description":null,"group_id":"fb5102f8c9554d70b608ae6cc563f6ae","host":"swr-api.cn-north-4.myhuaweicloud.com","id":"d22fe48378e74d699811af07c74982d6","info_version":"v2","method":"post","name":"CreateInstanceRegistry","parameters":{},"paths":{"/v2/{project_id}/instances/{instance_id}/registries":{"post":{"description":"创建镜像同步的目标仓库","operationId":"CreateInstanceRegistry","parameters":[{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string"},{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX...","x-order":1},{"description":"企业仓库实例ID","in":"path","name":"instance_id","required":true,"type":"string","x-order":2},{"description":"创建同步仓库需要的信息","in":"body","name":"CreateRegistryRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateRegistryRequestBody"}}],"produces":["application/json"],"responses":{"201":{"description":"创建目标仓库成功","examples":{"application/json":{"id":34}},"schema":{"$ref":"#/definitions/CreateRegistryResponseBody"}},"400":{"$ref":"#/responses/400"},"401":{"$ref":"#/responses/401"},"403":{"$ref":"#/responses/403"},"404":{"$ref":"#/responses/404"},"500":{"$ref":"#/responses/500"}},"summary":"创建镜像同步的目标仓库","tags":["镜像同步管理(SWR企业版)"],"x-api-type":"open-api","x-apiexplorer-hide":"false","x-apigateway-backend":{"httpVpcEndpoints":{"description":"","host":"swr-ee-internal.{{region_id}}.myhuaweicloud.com","method":"ANY","name":"cer-instance-manage","path":"/v2/{project_id}/instances/{instance_id}/registries","scheme":"https","timeout":30000},"type":"HTTP-VPC"},"x-apigateway-cors":false,"x-apigateway-match-mode":"NORMAL","x-apigateway-request-type":"public","x-constraint":"无","x-is-registered":"N","x-name":"创建镜像同步的目标仓库","x-open-region-cloud":"hc,hk","x-publishpath":"swr_03_1101","x-request-examples-1":{"credential":{"access_key":"access_key","access_secret":"access_secret","type":"basic"},"description":"swr.cn-north-4.myhuaweicloud.com","insecure":true,"name":"SWR","type":"huawei-SWR","url":"https://swr.cn-north-4.myhuaweicloud.com"},"x-request-examples-2":{"credential":{"access_key":"access_key","access_secret":"access_secret","type":"basic"},"insecure":true,"instance_id":"instance_id","name":"swr-pro-internal","project_id":"project_id","region_id":"cn-north-7","type":"swr-pro-internal","url":"https://test241102-f6ktf2.swr-pro.myhuaweicloud.com"},"x-request-examples-3":{"credential":{"access_key":"access_key","access_secret":"access_secret","type":"basic"},"dns_conf":{"hosts":{"test241102-f6ktf2.swr-pro.myhuaweicloud.com":"192.168.14.14"}},"insecure":true,"instance_id":"instance_id","name":"swr-pro","project_id":"project_id","region_id":"cn-north-7","type":"swr-pro","url":"https://test241102-f6ktf2.swr-pro.myhuaweicloud.com"},"x-request-examples-description-1":"创建目标仓库,仓库类型为huawei-SWR(SWR基础版仓库)","x-request-examples-description-2":"创建目标仓库,仓库类型为swr-pro-internal(SWR企业版仓库)","x-request-examples-description-3":"创建目标仓库,仓库类型为swr-pro(开源harbor仓库)","x-request-examples-text-1":{"credential":{"access_key":"access_key","access_secret":"access_secret","type":"basic"},"description":"swr.cn-north-4.myhuaweicloud.com","insecure":true,"name":"SWR","type":"huawei-SWR","url":"https://swr.cn-north-4.myhuaweicloud.com"},"x-request-examples-text-2":{"credential":{"access_key":"access_key","access_secret":"access_secret","type":"basic"},"insecure":true,"instance_id":"instance_id","name":"swr-pro-internal","project_id":"project_id","region_id":"cn-north-7","type":"swr-pro-internal","url":"https://test241102-f6ktf2.swr-pro.myhuaweicloud.com"},"x-request-examples-text-3":{"credential":{"access_key":"access_key","access_secret":"access_secret","type":"basic"},"dns_conf":{"hosts":{"test241102-f6ktf2.swr-pro.myhuaweicloud.com":"192.168.14.14"}},"insecure":true,"instance_id":"instance_id","name":"swr-pro","project_id":"project_id","region_id":"cn-north-7","type":"swr-pro","url":"https://test241102-f6ktf2.swr-pro.myhuaweicloud.com"},"x-request-examples-url-1":"POST https://{endpoint}/v2/{project_id}/instances/{instance_id}/registries","x-request-examples-url-2":"POST https://{endpoint}/v2/{project_id}/instances/{instance_id}/registries","x-request-examples-url-3":"POST https://{endpoint}/v2/{project_id}/instances/{instance_id}/registries","x-scope":"Commercial","x-support-sdk":"Y","x-version":"v1"}}},"product_short":"SWR","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建镜像同步的目标仓库","tags":"镜像同步管理(SWR企业版)","uri":null,"version":"2.0"}