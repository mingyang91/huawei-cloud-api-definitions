{"base_path":"/","components":null,"consumes":"","definitions":{"Filter":{"properties":{"type":{"description":"过滤类型,可选name,tag","type":"string"},"value":{"description":"过滤类型对应的正则表达式(type为name时,对应的是命名空间及制品仓库,例如library/**; type为tag时,对应的是制品版本,例如:**repo和**tag; 正则表达式有多个时,用英文逗号分隔,且在最外层加{},如library/{test,test*,*test})","type":"string"}},"required":["type","value"]},"ListReplicationPoliciesResponseBody":{"properties":{"policies":{"description":"同步策略列表","items":{"$ref":"#/definitions/ReplicationPolicy"},"type":"array"},"total":{"description":"同步策略总数","type":"integer"}},"required":["policies","total"]},"ReplicationPolicy":{"properties":{"created_at":{"description":"创建时间","type":"string"},"description":{"description":"策略描述","type":"string"},"dest_namespace":{"description":"目标命名空间名,默认为空值","type":"string"},"dest_registry":{"$ref":"#/definitions/ReplicationRegistry","description":"Push-based时必选, src_registry跟dest_registry二选一"},"enabled":{"description":"是否启用","type":"boolean"},"filters":{"description":"源资源过滤器","items":{"$ref":"#/definitions/Filter"},"type":"array"},"id":{"description":"策略ID","type":"integer"},"name":{"description":"策略名称","type":"string"},"override":{"description":"是否覆盖","type":"boolean"},"repo_scope_mode":{"description":"repo过滤类型","type":"string"},"src_registry":{"$ref":"#/definitions/ReplicationRegistry","description":"Pull-based时必选, src_registry跟dest_registry二选一"},"trigger":{"$ref":"#/definitions/TriggerConfig","description":"触发配置"},"updated_at":{"description":"更新时间","type":"string"}},"type":"object"},"ReplicationRegistry":{"properties":{"id":{"description":"The registry ID.","format":"int64","type":"integer"}},"required":["id"],"type":"object"},"TriggerConfig":{"properties":{"trigger_settings":{"$ref":"#/definitions/TriggerSetting","description":"触发设置,只有type为scheduled的时候,才需要设置"},"type":{"description":"触发类型,镜像签名、老化规则只支持manual(手动)、scheduled(定时+手动);同步策略支持manual(手动)、scheduled(定时+手动)、event_based(事件触发+手动)","type":"string"}},"required":["type"],"type":"object"},"TriggerSetting":{"properties":{"cron":{"description":"定时设置,cron格式描述 '* * * * * *'。cron 基于 UTC 时间。","type":"string"}},"type":"object"}},"description":null,"group_id":"fb5102f8c9554d70b608ae6cc563f6ae","host":"swr-api.cn-north-4.myhuaweicloud.com","id":"788adb3452bd46528cf21412a96b117a","info_version":"v2","method":"get","name":"ListInstanceReplicationPolicies","parameters":{},"paths":{"/v2/{project_id}/instances/{instance_id}/replication/policies":{"get":{"description":"获取镜像同步策略列表","operationId":"ListInstanceReplicationPolicies","parameters":[{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string"},{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX...","x-order":1},{"description":"企业仓库实例ID","in":"path","name":"instance_id","required":true,"type":"string","x-example":"test_instance_id","x-order":2},{"description":"排序字段,支持created_at、updated_at、name,默认为created_at","in":"query","name":"order_column","required":false,"type":"string","x-example":"updated_at","x-order":3},{"description":"排序方式,支持desc、asc,默认desc; 注意:order_type需要与order_column配合使用。","in":"query","name":"order_type","required":false,"type":"string","x-example":"desc","x-order":4},{"description":"名称,模糊查询","in":"query","name":"name","required":false,"type":"string","x-example":"test_repo","x-order":5},{"description":"仓库ID","in":"query","name":"registry_id","required":false,"type":"integer","x-example":"test_repo","x-order":6},{"description":"起始索引,默认值为0。**注意:offset和limit参数需要配套使用,offset必须为0或者为limit的倍数。**","format":"int32","in":"query","name":"offset","required":false,"type":"integer","x-example":"0","x-order":7},{"description":"返回条数,默认为10,最大值为100。**注意:offset和limit参数需要配套使用,offset必须为0或者为limit的倍数。**","format":"int32","in":"query","maximum":100,"minimum":1,"name":"limit","required":false,"type":"integer","x-api-type":"open-api","x-example":"20","x-order":8}],"produces":["application/json"],"responses":{"200":{"description":"查询镜像同步策略列表成功","examples":{"application/json":{"policies":[{"created_at":"2020-12-03T11:55:14.338485Z","description":"","dest_namespace":"","dest_registry":{"id":11},"enabled":true,"filters":[{"type":"name","value":"root"},{"type":"tag","value":"**"}],"id":20,"name":"asfdf","override":true,"repo_scope_mode":"regular","src_registry":{"id":0},"trigger":{"trigger_settings":{"cron":""},"type":"manual"},"updated_at":"2020-12-03T11:55:14.338485Z"}],"total":10}},"schema":{"$ref":"#/definitions/ListReplicationPoliciesResponseBody"}},"400":{"$ref":"#/responses/400"},"401":{"$ref":"#/responses/401"},"403":{"$ref":"#/responses/403"},"404":{"$ref":"#/responses/404"},"500":{"$ref":"#/responses/500"}},"summary":"获取镜像同步策略列表","tags":["镜像同步管理(SWR企业版)"],"x-api-type":"open-api","x-apiexplorer-hide":"false","x-apigateway-backend":{"httpVpcEndpoints":{"description":"","host":"swr-ee-internal.{{region_id}}.myhuaweicloud.com","method":"ANY","name":"cer-instance-manage","path":"/v2/{project_id}/instances/{instance_id}/replication/policies","scheme":"https","timeout":30000},"type":"HTTP-VPC"},"x-apigateway-cors":false,"x-apigateway-match-mode":"NORMAL","x-apigateway-request-type":"public","x-constraint":"无","x-is-registered":"N","x-name":"获取镜像同步策略列表","x-open-region-cloud":"hc,hk","x-publishpath":"swr_03_1107","x-request-examples-url-1":"GET https://{endpoint}/v2/{project_id}/instances/{instance_id}/replication/policies","x-scope":"Commercial","x-support-sdk":"Y","x-version":"v1"}}},"product_short":"SWR","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"获取镜像同步策略列表","tags":"镜像同步管理(SWR企业版)","uri":null,"version":"2.0"}