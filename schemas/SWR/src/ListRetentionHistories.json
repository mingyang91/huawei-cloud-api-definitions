{"base_path":"/","components":null,"consumes":"","definitions":{"RetentionHistory":{"properties":{"retention_log":{"description":"镜像老化日志","items":{"$ref":"#/definitions/RetentionLog"},"type":"array"},"total":{"description":"总个数","format":"int32","type":"integer"}},"required":["retention_log","total"]},"RetentionLog":{"properties":{"created_at":{"description":"创建时间","type":"string"},"id":{"description":"ID","format":"int32","type":"integer"},"namespace":{"description":"组织名","type":"string"},"repo":{"description":"镜像仓库名","type":"string"},"retention_id":{"description":"老化规则ID","format":"int32","type":"integer"},"rule_type":{"description":"规则","type":"string"},"tag":{"description":"镜像版本","type":"string"}},"required":["created_at","id","namespace","repo","retention_id","rule_type","tag"]}},"description":null,"group_id":"fb5102f8c9554d70b608ae6cc563f6ae","host":"swr-api.cn-north-4.myhuaweicloud.com","id":"6e7df30ba827432583cd65d0cf7a068b","info_version":"v2","method":"get","name":"ListRetentionHistories","parameters":{},"paths":{"/v2/manage/namespaces/{namespace}/repos/{repository}/retentions/histories":{"get":{"description":"获取镜像老化记录","operationId":"ListRetentionHistories","parameters":[{"default":"application/json","description":"消息体的类型(格式),下方类型可任选其一使用:\napplication/json;charset=utf-8\napplication/json","enum":["application/json;charset=utf-8","application/json"],"in":"header","name":"Content-Type","required":true,"type":"string","x-example":"application/json","x-order":1},{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX...","x-order":2},{"description":"组织名称。小写字母开头,后面跟小写字母、数字、小数点、下划线或中划线(其中下划线最多允许连续两个,小数点、下划线、中划线不能直接相连),小写字母或数字结尾,1-64个字符。","in":"path","name":"namespace","required":true,"type":"string","x-example":"huawei","x-order":3},{"description":"镜像仓库名称","in":"path","name":"repository","required":true,"type":"string","x-example":"test_repo","x-order":4},{"description":"应填写 limit::{limit}|offset::{offset}, 其中{limit}为返回条数,{offset}为起始索引, 注意:offset和limit参数需要配套使用","in":"query","name":"filter","required":false,"type":"string","x-example":"huawei","x-order":5}],"produces":["application/json"],"responses":{"200":{"description":"请求成功","examples":{"application/json":{"retention_log":[{"created_at":"2020-04-17T08:01:09.658309Z","id":9088,"namespace":"hwstaff_l00283074","repo":"experience_2048","retention_id":91,"rule_type":"{\"template\":\"tag_rule\",\"params\":{\"num\":\"7\"},\"tag_selectors\":[]}","tag":"4"}],"total":1}},"headers":{"Content-Range":{"description":"offset(开始索引)-count(当前页记录条数)/total(总记录条数)","type":"string"}},"schema":{"$ref":"#/definitions/RetentionHistory"}},"400":{"description":"错误的请求"},"401":{"description":"鉴权失败"},"404":{"description":"组织或镜像仓库不存在"},"500":{"description":"内部错误"}},"summary":"获取镜像老化记录","tags":["镜像老化规则管理"],"x-apiexplorer-hide":"false","x-constraint":"无","x-is-registered":"N","x-name":"获取镜像老化记录","x-open-region-cloud":"hc,hk","x-publishpath":"swr_02_0057","x-request-examples-1":"GET https://{endpoint}/v2/manage/namespaces/{namespace}/repos/{repository}/retentions/histories","x-request-examples-description-1":"","x-request-examples-text-1":"GET https://{endpoint}/v2/manage/namespaces/{namespace}/repos/{repository}/retentions/histories","x-request-examples-url-1":"","x-scope":"Commercial","x-support-sdk":"Y","x-version":"v1"}}},"product_short":"SWR","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"获取镜像老化记录","tags":"镜像老化规则管理","uri":null,"version":"2.0"}