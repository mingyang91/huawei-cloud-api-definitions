{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"HotfixRollbackInfos":{"description":"可以回退的热补丁信息。","properties":{"backup_sensitive":{"description":"是否和备份相关。","example":false,"type":"boolean"},"common_patch":{"description":"通用/非通用补丁信息。\n枚举值:\n  \"common\": 通用补丁。\n  \"certain\": 定制补丁。","example":"common","maxLength":1000,"minLength":0,"type":"string"},"descripition":{"description":"补丁的描述信息。","example":"热补丁回退。","maxLength":1000,"minLength":0,"type":"string"},"version":{"description":"热补丁版本。","example":3.223,"maxLength":1000,"minLength":0,"type":"string"}},"type":"object"},"HotfixUpgradeInfos":{"description":"可以升级的热补丁信息。","properties":{"backup_sensitive":{"description":"是否和备份相关。","example":false,"type":"boolean"},"common_patch":{"description":"通用/非通用补丁信息。\n枚举值:\n  \"common\": 通用补丁。\n  \"certain\": 定制补丁。","example":"common","maxLength":1000,"minLength":0,"type":"string"},"descripition":{"description":"补丁的描述信息。","example":"热补丁升级。","maxLength":1000,"minLength":0,"type":"string"},"version":{"description":"热补丁版本。","example":3.223,"maxLength":1000,"minLength":0,"type":"string"}},"type":"object"},"RollUpgradeProgress":{"description":"滚动升级信息。","properties":{"already_upgraded_az":{"description":"已升级az,以“,”隔开,独立部署返回null。","example":"az2,az3","maxLength":1000,"minLength":0,"type":"string"},"az_description_map":{"additionalProperties":{"maxLength":100,"minLength":0,"type":"string"},"description":"az描述键值对Map<String,String>。","example":{"az0.dc0":"az1","az1.dc0":"可用区1"},"type":"object"},"not_fully_upgraded_az":{"description":"未完成升级的az,以“,”隔开,独立部署返回null。","example":"az1","maxLength":1000,"minLength":0,"type":"string"},"total_dn_group_numbers":{"description":"总分片数,非独立部署返回null。","example":10,"maxLength":1000,"minLength":0,"type":"string"},"upgraded_dn_group_numbers":{"description":"已升级分片数,非独立部署返回null。","example":1,"maxLength":1000,"minLength":0,"type":"string"}},"type":"object"},"UpgradeActionInfo":{"description":"升级操作信息。","properties":{"enable":{"description":"可用,不可用。","example":false,"type":"boolean"},"upgrade_action":{"description":"升级操作,upgrade=升级,upgradeAutoCommit=升级自动提交,commit=提交,rollback=回滚。","enum":["upgrade","upgradeAutoCommit","commit","rollback"],"example":"upgrade","maxLength":1000,"minLength":0,"type":"string"}},"type":"object"},"UpgradeCandidateVersionsResponse":{"description":"版本升级信息","properties":{"hotfix_rollback_candidate_versions":{"description":"可以回滚的热补丁版本,滚动升级中返回空数组。","example":["3.103.0.1","3.103.0.2"],"items":{"maxLength":1000,"minLength":0,"type":"string"},"maxItems":1000,"minItems":0,"type":"array"},"hotfix_rollback_infos":{"$ref":"#/definitions/HotfixRollbackInfos","description":"可以回滚的热补丁信息。"},"hotfix_upgrade_candidate_versions":{"description":"可以升级的热补丁版本,滚动升级中返回空数组。","example":["3.103.0.1","3.103.0.2"],"items":{"maxLength":1000,"minLength":0,"type":"string"},"maxItems":1000,"minItems":0,"type":"array"},"hotfix_upgrade_infos":{"$ref":"#/definitions/HotfixUpgradeInfos","description":"可以升级的热补丁信息。"},"roll_upgrade_progress":{"$ref":"#/definitions/RollUpgradeProgress","description":"滚动升级dn、az信息"},"rollback_enabled":{"description":"是否可以回滚,true可以回滚,false不可以回滚。","type":"boolean"},"source_version":{"description":"原版本","example":"3.103.0","maxLength":1000,"minLength":0,"type":"string"},"target_version":{"description":"升级目标版本,没有在滚动升级中返回null。","example":"3.200.0","maxLength":1000,"minLength":0,"type":"string"},"upgrade_candidate_versions":{"description":"可以升级的版本,包括大小版本,滚动升级中返回空数组。","example":["3.200.0","4.200.0"],"items":{"maxLength":1000,"minLength":0,"type":"string"},"maxItems":1000,"minItems":0,"type":"array"},"upgrade_type_list":{"description":"升级类型信息列表","items":{"$ref":"#/definitions/UpgradeTypeInfo"},"maxItems":1000,"minItems":0,"type":"array"}},"required":["upgrade_type_list","rollback_enabled","source_version","target_version","roll_upgrade_progress","upgrade_candidate_versions","hotfix_upgrade_candidate_versions","hotfix_rollback_candidate_versions","hotfix_upgrade_infos","hotfix_rollback_infos"],"type":"object"},"UpgradeErrorResponseBody":{"properties":{"error_code":{"description":"错误码。","example":"DBS.280001","maxLength":1000,"minLength":0,"type":"string"},"error_msg":{"description":"错误消息。","example":"参数错误。","maxLength":1000,"minLength":0,"type":"string"}},"required":["error_code","error_msg"]},"UpgradeTypeInfo":{"description":"升级类型信息。","properties":{"enable":{"description":"可用,不可用。","example":false,"type":"boolean"},"is_parallel_upgrade":{"description":"是否正在进行AZ内并行升级。\n-true:当前实例处于灰度升级的升级待观察升级方式中,已选择了AZ内并行升级方式,后续无法更改。 -false:当前实例处于升级流程中,未选择AZ内并行升级的方式,后续无法更改。null:当前实例尚未处于升级流程中。","example":false,"type":"boolean"},"upgrade_action_list":{"description":"升级操作列表。","items":{"$ref":"#/definitions/UpgradeActionInfo"},"maxItems":1000,"minItems":0,"type":"array"},"upgrade_type":{"description":"升级类型,grey=灰度升级,inplace=就地升级,hotfix=热补丁升级。","enum":["grey","inplace","hotfix"],"example":"inplace","maxLength":1000,"minLength":0,"type":"string"}},"type":"object"}},"description":null,"group_id":"cb81c3e0ae314c27a40e8fc90fd34a80","host":"gaussdb-opengauss.cn-north-4.myhuaweicloud.com","id":"66cb5704d9e04d4aa815952efac615f3","info_version":"v3","method":"get","name":"ShowUpgradeCandidateVersions","parameters":{},"paths":{"/v3/{project_id}/instances/{instance_id}/db-upgrade/candidate-versions":{"get":{"description":"查询实例可升级版本。","operationId":"ShowUpgradeCandidateVersions","parameters":[{"description":"租户在某一region下的project ID。","in":"path","maxLength":100,"minLength":32,"name":"project_id","required":true,"type":"string"},{"description":"实例ID。","in":"path","maxLength":100,"minLength":32,"name":"instance_id","required":true,"type":"string"},{"description":"用户Token。","in":"header","maxLength":1000,"minLength":0,"name":"X-Auth-Token","required":true,"type":"string","x-example":"******"},{"default":"en-us","description":"语言[zh-cn, en-us]。","enum":["zh-cn","en-us"],"in":"header","name":"X-Language","required":false,"type":"string","x-example":"en-us"}],"responses":{"200":{"description":"实例在滚动升级中时,只返回滚动升级目标版本与滚动升级分片和az状态。","examples":{"application/json":{"hotfix_rollback_candidate_versions":[],"hotfix_rollback_infos":[],"hotfix_upgrade_candidate_versions":[],"hotfix_upgrade_infos":[],"roll_upgrade_progress":{"already_upgraded_az":"","az_description_map":{"cn-southwest-244a":"az1","cn-southwest-244b":"az2","cn-southwest-244c":"az3"},"not_fully_upgraded_az":"cn-southwest-244a,cn-southwest-244b,cn-southwest-244c"},"rollback_enabled":false,"target_version":"8.102.0","upgrade_candidate_versions":[],"upgrade_type_list":[{"enable":true,"is_parallel_upgrade":null,"upgrade_action_list":[{"enable":false,"upgrade_action":"commit"},{"enable":false,"upgrade_action":"rollback"},{"enable":false,"upgrade_action":"upgrade"},{"enable":false,"upgrade_action":"upgradeAutoCommit"}],"upgrade_type":"grey"},{"enable":false,"is_parallel_upgrade":null,"upgrade_action_list":null,"upgrade_type":"hotfix"},{"enable":true,"is_parallel_upgrade":null,"upgrade_action_list":[{"enable":false,"upgrade_action":"commit"}],"upgrade_type":"inplace"}]}},"schema":{"$ref":"#/definitions/UpgradeCandidateVersionsResponse"}},"default":{"description":"Client or server error.","schema":{"$ref":"#/definitions/UpgradeErrorResponseBody"}}},"summary":"查询实例可升级版本","tags":["版本升级"],"x-api-type":"open-api","x-apiexplorer-hide":"false","x-apigateway-ratelimit":"opengauss_default_policy","x-is-registered":"Y","x-order":1,"x-request-examples-description-1":"查询实例可升级版本。","x-request-examples-url-1":"GET https://{endpoint}/v3/0483b6b16e954cb88930a360d2c4e663/instances/cc6fd964d93f4003851dfc29d57d30a5in14/db-upgrade/candidate-versions","x-support-sdk":"Y"}}},"product_short":"GaussDBforopenGauss","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询实例可升级版本","tags":"版本升级","uri":null,"version":"2.0"}