{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"Gaussdbv5RestoreInstanceBackupResponseBody":{"properties":{"job_id":{"description":"恢复当前实例的任务id。","example":"dff1d289-4d03-4942-8b9f-463ea07c000d","type":"string"}},"required":["job_id"]},"RecoveryBackupSource":{"properties":{"backup_id":{"description":"用于恢复的备份ID。","example":"8f643d252d834a4c916b2db4322f99552734br14","type":"string"},"instance_id":{"description":"实例ID","example":"e73893ef73754465a8bd2e0857bbf13ein14","type":"string"},"restore_time":{"description":"UTC时间,时间戳","example":1684133936848,"type":"string"},"schema_type":{"description":"备份级别取值, 默认值:INSTANCE","enum":["INSTANCE 实例级备份","DATABASE 库级备份","DATABASE_TABLE 表级备份"],"type":"string"},"table_list":{"description":"表基础信息。","items":{"$ref":"#/definitions/RestoreTableListDetail"},"type":"array"},"type":{"description":"恢复备份类型:backup,timestamp,different","example":"backup","type":"string"}},"required":["instance_id","backup_id","restore_time"]},"RecoveryBackupTarget":{"properties":{"instance_id":{"description":"实例ID","example":"e73893ef73754465a8bd2e0857bbf13ein14","type":"string"}},"required":["instance_id"]},"RestoreInstanceRequestBody":{"properties":{"source":{"$ref":"#/definitions/RecoveryBackupSource","description":"备份源对象,包括备份ID, 实例ID等信息。","type":"object"},"target":{"$ref":"#/definitions/RecoveryBackupTarget","description":"备份目标对象,包括实例ID。","type":"object"}},"required":["source","target"]},"RestoreTableListDetail":{"properties":{"db_name":{"description":"库名参数必传","example":"db_name","type":"string"},"new_db_name":{"description":"新库名\n\n备份恢复到新实例和当前实例:\n  使用DATABASE级别恢复:需注意目标实例不存在当前一样的库名,否则无法下发。\n  使用DATABASE_TABLE级别恢复,不填时与源库名一致。","example":"db_name","type":"string"},"new_schema_name":{"description":"新schema_name\n\n备份恢复到新实例和当前实例: \n  使用DATABASE类型恢复参数无效。\n  使用DATABASE_TABLE级别恢复,不填时与源schema名一致。","example":"schema_name","type":"string"},"new_table_name":{"description":"新表名\n\n备份恢复到新实例和当前实例:\n  使用DATABASE类型恢复参数无效。\n  使用DATABASE_TABLE级别恢复,需注意目标实例里不存在当前的表名,否则无法下发。","example":"table_name","type":"string"},"schema_name":{"description":"schema名\n\n备份恢复到新实例和当前实例:使用DATABASE_TABLE级别恢复参数必传, 使用DATABASE类型恢复参数无效。","example":"schema_name","type":"string"},"table_name":{"description":"表名\n\n备份恢复到新实例和当前实例:使用DATABASE_TABLE级别恢复参数必传, 使用DATABASE类型恢复参数无效。","example":"table_name","type":"string"}},"required":["db_name"]}},"description":null,"group_id":"cb81c3e0ae314c27a40e8fc90fd34a80","host":"gaussdb-opengauss.cn-north-4.myhuaweicloud.com","id":"3569f210472347b8a791d366a6201b3d","info_version":"v3","method":"post","name":"RestoreInstance","parameters":{},"paths":{"/v3/{project_id}/instances/recovery":{"post":{"description":"备份恢复到当前实例","operationId":"RestoreInstance","parameters":[{"description":"用户token","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"语言 Default:en-us;Enum:zh-cn,en-us;","in":"header","name":"X-Language","required":false,"type":"string"},{"description":"项目ID。","in":"path","name":"project_id","required":true,"type":"string","x-example":"619d3e78f61b4be68bc5aa0b59edcf7b"},{"description":"请求体。","in":"body","name":"RestoreInstanceRequestBody","required":true,"schema":{"$ref":"#/definitions/RestoreInstanceRequestBody"}}],"responses":{"200":{"description":"","examples":{"application/json":{"job_id":"dff1d289-4d03-4942-8b9f-463ea07c000d"}},"schema":{"$ref":"#/definitions/Gaussdbv5RestoreInstanceBackupResponseBody"}}},"summary":"备份恢复到当前实例","tags":["备份管理"],"x-is-registered":"Y","x-order":12,"x-request-examples-1":{"source":{"backup_id":"","instance_id":"15f087f4d48447f49dd3cfde7f5a3e5fin14","schema_type":"DATABASE_TABLE","table_list":[{"db_name":"table_backup_db","new_db_name":"test","new_schema_name":"test","new_table_name":"test","schema_name":"myschema2","table_name":"test"}],"type":"backup"},"target":{"instance_id":"15f087f4d48447f49dd3cfde7f5a3e5fin14"}},"x-request-examples-url-1":"POST https://{Endpoint}/v3/{projectId}/instances/recovery","x-support-sdk":"Y"}}},"product_short":"GaussDBforopenGauss","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"备份恢复到当前实例","tags":"备份管理","uri":null,"version":"2.0"}