{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"Components":{"description":"组件列表","properties":{"detail":{"description":"详情。","type":"string"},"distributed_id":{"description":"分组id,只有dn组件有分组id,用于区分是否是同一个分片下的组件。其他组件为空字符串。","type":"string"},"id":{"description":"组件id,当组件类型为DN,组件id为6001,则对应的值为dn_6001。","type":"string"},"role":{"description":"节点类型,取值为“master”、“slave”,分别对应于主节点、备节点。","type":"string"},"status":{"description":"组件状态。\nPrimary:该组件为主。\nNormal:该组件状态正常。\nDown:该组件处于宕机状态。\nStandby:该组件为备。\nStateFollower:该ETCD为备。\nStateLeader:该ETCD为主。\nStateCandidate:该ETCD为仲裁。","type":"string"},"type":{"description":"节点类型,包括:DN, CN, GTM, CM, ETCD。","type":"string"}}},"Nodes":{"description":"节点信息","properties":{"availability_zone_id":{"description":"节点所在可用区编码。","type":"string"},"components":{"description":"组件列表。","items":{"$ref":"#/definitions/Components"},"type":"array"},"description":{"description":"可用区描述信息。","type":"string"},"id":{"description":"节点ID。","type":"string"},"name":{"description":"节点名字。","type":"string"},"status":{"description":"节点状态。","type":"string"}},"required":["id","components"]},"NodesRespone":{"properties":{"nodes":{"description":"组件信息。","items":{"$ref":"#/definitions/Nodes"},"type":"array"},"total_count":{"description":"总记录数。","type":"integer"}},"required":["nodes","total_count"]},"OpenGaussErrorResponse":{"properties":{"error_code":{"description":"错误码。","example":"DBS.200022","type":"string"},"error_msg":{"description":"错误消息。","example":"实例名称已存在。","type":"string"}},"required":["error_code","error_msg"]}},"description":null,"group_id":"cb81c3e0ae314c27a40e8fc90fd34a80","host":"gaussdb-opengauss.cn-north-4.myhuaweicloud.com","id":"f96dd1fc4b394eb7b1b1cc497ff81c73","info_version":"v3","method":"get","name":"ListComponentInfos","parameters":{},"paths":{"/v3/{project_id}/instances/{instance_id}/components":{"get":{"description":"查询实例的组件列表","operationId":"ListComponentInfos","parameters":[{"description":"用户Token","in":"header","name":"x-auth-token","required":false,"type":"string","x-example":"******"},{"description":"语言","in":"header","name":"X-Language","required":false,"type":"string","x-example":"zh-cn"},{"description":"项目ID。","in":"path","name":"project_id","required":true,"type":"string","x-example":"619d3e78f61b4be68bc5aa0b59edcf7b"},{"description":"实例ID。","in":"path","name":"instance_id","required":true,"type":"string","x-example":"1bb786201ae54b179b45c17e0f332f4bin14"},{"description":"索引位置,偏移量。从第一条数据偏移offset条数据后开始查询,默认为0(偏移0条数据,表示从第一条数据开始查询),必须为数字,不能为负数。","in":"query","name":"offset","required":false,"type":"integer","x-example":0},{"description":"查询记录数。默认为100,不能为负数,最小值为1,最大值为100","in":"query","name":"limit","required":false,"type":"integer","x-example":10},{"description":"组件类型,过滤拿到需要的组件类型的组件信息,默认为ALL,传参数会查询对应组件信息。\n枚举值:\n  \"ALL\": 查询所有组件类型。\n  \"CN\": 查询CN组件类型。\n  \"DN\": 查询DN组件类型。\n  \"CM\": 查询CMS组件类型。\n  \"GTM\": 查询GTM组件类型。\n  \"ETCD\": 查询ETCD组件类型。","enum":["ALL","CN","DN","CM","GTM","ETCD"],"in":"query","name":"component_type","required":false,"type":"string","x-example":"DN"},{"description":"主组件所在可用区编号,筛选符合条件的组件,默认为ALL,查询实例所有可用区上的节点的组件信息。\n当调用接口传入可用区编号时:\n  相对于DN组件,会查询出的DN分片中的主组件在该可用区上的这个分片的所有副本的组件信息。\n  相对于CN组件,CN组件没有主备关系,会查询出该可用区上的CN组件信息。\n  相对于其他组件,会查询该可用区上有没有某个组件类型的主组件,有则会返回该组件类型的所有组件信息,没有则不返回该组件类型的信息。","in":"query","name":"availability_zone_id","required":false,"type":"string","x-example":"az1"}],"responses":{"200":{"description":"Success.","examples":{"application/json":{"nodes":[{"availability_zone_id":"cn-southwest-244a","components":[{"detail":"","distributed_id":"","id":"cm_1","role":"master","status":"Primary","type":"CM"},{"detail":"","distributed_id":"","id":"etcd_7001","role":"master","status":"StateLeader","type":"ETCD"},{"detail":"Normal","distributed_id":"60011","id":"dn_6001","role":"master","status":"Primary","type":"DN"}],"description":"az1","id":"7d19f72f8f514564bd92962a6fbddb7dno14","name":"gauss-9e1a_root_0","status":"normal"},{"availability_zone_id":"cn-southwest-244a","components":[{"detail":"","distributed_id":"","id":"cm_3","role":"slave","status":"Standby","type":"CM"},{"detail":"","distributed_id":"","id":"etcd_7003","role":"slave","status":"StateFollower","type":"ETCD"},{"detail":"Normal","distributed_id":"60011","id":"dn_6003","role":"slave","status":"Standby","type":"DN"}],"description":"az1","id":"aafc2e14234d4c9eadb481fb0a09a865no14","name":"gauss-9e1a_root_2","status":"normal"},{"availability_zone_id":"cn-southwest-244a","components":[{"detail":"Normal","distributed_id":"","id":"cm_3","role":"slave","status":"Standby","type":"DN"},{"detail":"Normal","distributed_id":"","id":"etcd_7003","role":"slave","status":"StateFollower","type":"DN"},{"detail":"Normal","distributed_id":"60011","id":"dn_6003","role":"slave","status":"Standby","type":"DN"}],"description":"az1","id":"d6c6c6e6b48c41d79d99d7240751d744no14","name":"gauss-9e1a_root_1","status":"normal"}],"total_count":3}},"schema":{"$ref":"#/definitions/NodesRespone"}},"default":{"description":"Client or server error.","schema":{"$ref":"#/definitions/OpenGaussErrorResponse"}},"x-request-examples-description-1":"","x-request-examples-url-1":"GET\n https://{endpoint}/v3/97b026aa9cc4417888c14c84a1ad9860/instances/5362449138da4e408dbae5152ca26640in14/components"},"summary":"查询实例的组件列表","tags":["实例管理"],"x-apiexplorer-hide":"false","x-apigateway-ratelimit":"opengauss_default_policy","x-is-registered":"Y","x-support-sdk":"Y"}}},"product_short":"GaussDBforopenGauss","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询实例的组件列表","tags":"实例管理","uri":null,"version":"2.0"}