{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ErrorResponse":{"properties":{"error_code":{"description":"错误码。","example":"DBS.2xxxxx","type":"string"},"error_msg":{"description":"错误消息。","example":"Cannot do operation with the limit sql id.","type":"string"}},"required":["error_code","error_msg"]},"ListLimitTaskResponseBody":{"properties":{"limit":{"description":"查询记录数。","type":"integer"},"limit_task_list":{"description":"限流任务列表","items":{"$ref":"#/definitions/ListLimitTaskResponseResult"},"type":"array"},"offset":{"description":"索引位置。","type":"integer"},"total_count":{"description":"总数。","type":"integer"}},"required":["limit_task_list","limit","offset","total_count"]},"ListLimitTaskResponseResult":{"properties":{"cpu_utilization":{"description":"cpu利用率,仅当任务类型为SESSION_ACTIVE_MAX_COUNT时,返回该值。","type":"integer"},"created":{"description":"创建时间为本地时间,格式为yyyy-mm-ddThh:mm:ssZ,当前时间指UTC时间。","type":"string"},"creator":{"description":"创建者。","type":"string"},"databases":{"description":"CN节点数据库组,每个数据库字符串以逗号形式隔开。","type":"string"},"end_time":{"description":"限流任务结束时间,格式为yyyy-mm-ddThh:mm:ssZ,当前时间指UTC时间。","type":"string"},"instance_id":{"description":"实例id。","type":"string"},"key_words":{"description":"关键词,仅当任务类型为SQL_TYPE时,返回该值。","type":"string"},"limit_type":{"description":"任务限流类型。","type":"string"},"limit_type_value":{"description":"任务限流类型值。","type":"string"},"memory_utilization":{"description":"内存利用率,仅当任务类型为SESSION_ACTIVE_MAX_COUNT时,返回该值。","type":"integer"},"modifier":{"description":"更新者。","type":"string"},"node_infos":{"description":"CN节点信息列表。","items":{"$ref":"#/definitions/ShowLimitTaskNodeOption"},"type":"array"},"parallel_size":{"description":"并发数。","type":"integer"},"rule_name":{"description":"规则名。","type":"string"},"sql_model":{"description":"SQL模板,仅当任务类型为SQL_ID时,返回该值。","type":"string"},"start_time":{"description":"限流任务开始时间,格式为yyyy-mm-ddThh:mm:ssZ,当前时间指UTC时间。","type":"string"},"status":{"description":"限流任务状态,当前支持:CREATING,UPDATEING,DELETING,WAIT_EXCUTE,EXCUTING,TIME_OVER,DELETED,CREATE_FAILED,UPDATE_FAILED,DELETE_FAILED,EXCEPTION,NODE_SHUT_DOWN。","type":"string"},"task_id":{"description":"限流任务ID。","type":"string"},"task_name":{"description":"限流任务名。","type":"string"},"task_scope":{"description":"任务限流范围。","type":"string"},"updated":{"description":"更新时间为本地时间,格式为yyyy-mm-ddThh:mm:ssZ,当前时间指UTC时间。","type":"string"}}},"ShowLimitTaskNodeOption":{"properties":{"node_id":{"description":"节点id。","type":"string"},"sql_id":{"description":"该节点执行的sql语句id。","type":"string"}},"required":["node_id","sql_id"]}},"description":null,"group_id":"cb81c3e0ae314c27a40e8fc90fd34a80","host":"gaussdb-opengauss.cn-north-4.myhuaweicloud.com","id":"e271bcc6aa064d7c896ca23349370b63","info_version":"v3","method":"get","name":"ListLimitTask","parameters":{},"paths":{"/v3/{project_id}/instances/{instance_id}/limit-task-list":{"get":{"description":"根据指定条件查询限流任务列表","operationId":"ListLimitTask","parameters":[{"description":"用户Token。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"******"},{"description":"租户在某一region下的project ID。","in":"path","name":"project_id","required":true,"type":"string","x-example":"4f07d3f50ce2466a9a7c014337b36409"},{"description":"实例ID。","in":"path","name":"instance_id","required":true,"type":"string","x-example":"7912cd1077b2413fbd6f39a044777537in14"},{"description":"限流任务范围,目前支持SQL,SESSION。","in":"query","name":"task_scope","required":false,"type":"string","x-example":"SQL"},{"description":"限流类型,支持SQL_ID、SQL_TYPE、SESSION_ACTIVE_MAX_COUNT类型。","in":"query","name":"limit_type","required":false,"type":"string","x-example":"SQL_ID"},{"description":"限流类型值,支持模糊匹配。","in":"query","name":"limit_type_value","required":false,"type":"string","x-example":"select"},{"description":"限流任务名,支持模糊匹配。","in":"query","name":"task_name","required":false,"type":"string","x-example":"select"},{"description":"sql模板,支持模糊匹配。","in":"query","name":"sql_model","required":false,"type":"string","x-example":"select"},{"description":"规则名。","in":"query","name":"rule_name","required":false,"type":"string","x-example":"12"},{"description":"限流任务开始时间,格式为yyyy-mm-ddThh:mm:ssZ,当前时间指UTC时间。","in":"query","name":"start_time","required":false,"type":"string","x-example":"2023-06-06T01:47:20+0800"},{"description":"限流任务结束时间,格式为yyyy-mm-ddThh:mm:ssZ,当前时间指UTC时间。","in":"query","name":"end_time","required":false,"type":"string","x-example":"2023-06-07T01:47:20+0800"},{"description":"索引位置,偏移量。从第一条数据偏移offset条数据后开始查询,默认为0(偏移0条数据,表示从第一条数据开始查询),必须为数字,不能为负数。\n\n取值范围:0 - 10000","in":"query","name":"offset","required":false,"type":"integer","x-example":"10"},{"description":"查询记录数。默认为10,不能为负数,最小值为1,最大值为100。","in":"query","name":"limit","required":false,"type":"integer","x-example":"10"}],"responses":{"200":{"description":"Success.","examples":{"application/json":{"limit":10,"list":[{"cpu_utilization":null,"databases":"test1","end_time":"2023-06-07T01:47:20+0800","instance_id":"7912cd1077b2413fbd6f39a044777537in14","key_words":null,"limit_type":"SQL_ID","limit_type_value":"39b6a1a","memory_utilization":null,"node_infos":[{"node_id":"e603348513654c209e4b955d98324655no14","sql_id":"39b6a1a"}],"parallel_size":100,"rule_name":"dsa48119d86512e0000bin066a1a27","sql_model":"select * from table where id = {id}","start_time":"2023-06-06T01:47:20+0800","status":"creating","task_id":"59b6a1a278844ac48119d86512e0000","task_name":"test1","task_scope":"SQL"}],"offset":1,"total_count":1}},"schema":{"$ref":"#/definitions/ListLimitTaskResponseBody"}},"default":{"description":"Client or server error.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"根据指定条件查询限流任务列表","tags":["SQL限流"],"x-apigateway-ratelimit":"opengauss_default_policy","x-file":"limit_task","x-is-registered":"Y","x-request-examples-description-1":"根据指定条件查询限流任务列表","x-request-examples-description-2":"根据指定条件查询限流任务列表","x-request-examples-url-1":"GET https://{endpoint}/rds/gaussdb/v3/4f07d3f50ce2466a9a7c014337b36409/instances/7912cd1077b2413fbd6f39a044777537in14/limit-task-list?offset=1&limit=10&type=SQL_ID","x-request-examples-url-2":"GET https://{endpoint}/rds/gaussdb/v3/4f07d3f50ce2466a9a7c014337b36409/instances/7912cd1077b2413fbd6f39a044777537in14/limit-task-list?offset=1&limit=10&type=SQL_ID&start_time=2023-06-06T01:47:20+0800&end_time=2023-06-07T01:47:20+0800","x-support-sdk":"Y"}}},"product_short":"GaussDBforopenGauss","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"根据指定条件查询限流任务列表","tags":"SQL限流","uri":null,"version":"2.0"}