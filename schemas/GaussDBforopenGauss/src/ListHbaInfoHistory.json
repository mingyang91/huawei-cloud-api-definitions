{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"HbaConfResult":{"properties":{"address":{"description":"**参数解释**:\n指定与记录匹配且允许访问的IP地址范围。\n**取值范围**:\n支持IPv4和IPv6,可以使用如下形式来表示:\nIP地址/掩码长度。例如,10.10.0.0/24、2001:250:250:250:250:250:250:175/128。","type":"string"},"database":{"description":"**参数解释**:\n声明记录所匹配且允许访问的数据库,多租特性场景下该参数声明记录所匹配且允许访问的PDB。\n- 值replication表示如果请求一个复制连接,则匹配,但复制连接不表示任何特定的数据库。如需使用名为replication的数据库,需在database列使用记录“replication”作为数据库名。\n- 多租数据库下, 值replication_pdb1表示如果请求一个名为pdb1数据库的复制连接,则匹配成功。值replication方式只生效Non-PDB。\n- PDB复制连接生效配置方式为replication_[pdbname],pdbname为用户创建PDB数据库时候的名字。\n- 如需使用名为replication_pdb1的数据库,需在database列使用记录“replication_pdb1”作为数据库名。\n\n**取值范围**:\n- all:表示该记录匹配所有数据库。\n- 特定的数据库名称或者用逗号分隔的数据库列表。","type":"string"},"method":{"description":"**参数解释**:\n声明连接时使用的认证方法。\n**取值范围**:\n- reject:无条件地拒绝连接。常用于过滤某些主机。\n- md5:MD5加密算法安全性低,存在安全风险,不推荐使用,建议使用更安全的加密算法。默认不支持,可通过password_encryption_type参数配置。\n- sha256:要求客户端提供一个sha256算法加密的口令进行认证,该口令在传送过程中结合salt(服务器发送给客户端的随机数)的单向sha256加密,增强了安全性。\n- sm3:要求客户端提供一个sm3算法加密口令进行认证,该口令在传送过程中结合salt(服务器发送给客户端的随机数)的单向sm3加密,增加了安全性。\n- cert:客户端证书认证模式,此模式需进行SSL连接配置且需要客户端提供有效的SSL证书,不需要提供用户密码。cert认证方式只支持hostssl类型的规则。","type":"string"},"type":{"description":"**参数解释**:\n客户端连接类型。\n**取值范围**:\n- host:表示这条记录既接受一个普通的TCP/IP套接字连接,也接受一个经过SSL加密的TCP/IP套接字连接。\n- hostssl:表示这条记录只接受一个经过SSL加密的TCP/IP套接字连接。\n- hostnossl:表示这条记录只接受一个普通的TCP/IP套接字连接。","enum":["host","hostnossl","hostssl"],"type":"string"},"user":{"description":"**参数解释**:\n声明记录所匹配且允许访问的数据库用户。\n**取值范围**:\n- all:表明该记录匹配所有用户。\n- 特定的数据库用户名或者用逗号分隔的用户列表。","type":"string"}},"type":"object"},"HbaHistoryResult":{"properties":{"after_confs":{"description":"**参数解释**:\n修改之后的值。","items":{"$ref":"#/definitions/HbaConfResult"},"type":"array"},"before_confs":{"description":"**参数解释**:\n修改之前的值。","items":{"$ref":"#/definitions/HbaConfResult"},"type":"array"},"fail_reason":{"description":"**参数解释**:\n修改失败原因。\n**取值范围**:\n不涉及。","type":"string"},"status":{"description":"**参数解释**:\n修改结果。\n**取值范围**:\n - success:已生效。\n - failed:未生效。\n - etting:设置中。","type":"string"},"time":{"description":"**参数解释**:\n修改时间。\n**取值范围**:\n不涉及。","format":"date-time","type":"string"}},"type":"object"},"ListHbaInfoHistoryResponseBody":{"properties":{"hba_histories":{"description":"**参数解释**:\nhba修改历史信息。","items":{"$ref":"#/definitions/HbaHistoryResult"},"type":"array"},"total_count":{"description":"**参数解释**:\nhba配置总数。\n**取值范围**:\n不涉及。","format":"int64","type":"integer"}}}},"description":null,"group_id":"cb81c3e0ae314c27a40e8fc90fd34a80","host":"gaussdb-opengauss.cn-north-4.myhuaweicloud.com","id":"935598ea3aab46aebf84e27361a3abf9","info_version":"v3","method":"get","name":"ListHbaInfoHistory","parameters":{},"paths":{"/v3/{project_id}/instances/{instance_id}/hba-info/history":{"get":{"description":"查询实例的客户端接入认证配置修改历史。","operationId":"ListHbaInfoHistory","parameters":[{"description":"**参数解释**:\n用户Token。\n通过调用IAM服务[获取用户token](https://support.huaweicloud.com/intl/zh-cn/api-iam/iam_30_0001.html)。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"******"},{"default":"en-us","description":"**参数解释**:\n语言。\n**约束限制**:\n不涉及。\n**取值范围**:\n- zh-cn \n- en-us\n\n**默认取值**:\nen-us","enum":["zh-cn","en-us"],"in":"header","name":"X-Language","required":false,"type":"string","x-example":"en-us"},{"description":"**参数解释**:\n租户在某一Region下的项目ID。\n获取方法请参见[获取项目ID](https://support.huaweicloud.com/api-gaussdb/gaussdb_api_196.html)。\n**约束限制**:\n不涉及。\n**取值范围**:\n只能由英文字母、数字组成,且长度为32个字符。\n**默认取值**:\n不涉及。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"**参数解释**:\n实例ID,此参数是用户创建实例的唯一标识。\n**约束限制**:\n不涉及。\n**取值范围**:\n只能由英文字母、数字组成,且长度为36个字符。\n**默认取值**:\n不涉及。","in":"path","name":"instance_id","required":true,"type":"string"},{"default":"","description":"**参数解释**:\n开始时间。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n默认当天0点(UTC时区)。","format":"date-time","in":"query","name":"start_time","required":false,"type":"string"},{"default":"","description":"**参数解释**:\n结束时间。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n默认当前时间(UTC时区)。","format":"date-time","in":"query","name":"end_time","required":false,"type":"string"},{"description":"**参数解释**\n偏移量。\n**约束限制**:\n不涉及。\n**取值范围**\n大于等于0。\n**默认值**\n0","in":"query","name":"offset","required":false,"type":"integer"},{"description":"**参数解释**\n每页显示的条目数量。\n**约束限制**:\n不涉及。\n**取值范围**\n[1, 100]\n**默认值**\n10","format":"int32","in":"query","name":"limit","required":false,"type":"integer"}],"responses":{"200":{"description":"","examples":{"application/json":{"hba_histories":[{"after_confs":[{"address":"192.168.0.0/16","database":"all","method":"sha256","type":"host","user":"all"},{"address":"0.0.0.0/0","database":"all","method":"sha256","type":"host","user":"all"},{"address":"192.168.0.0/16","database":"replication","method":"sha256","type":"host","user":"all"},{"address":"192.168.1.1/12","database":"replication","method":"sm3","type":"host","user":"all"}],"before_confs":[{"address":"192.168.0.0/16","database":"all","method":"sha256","type":"host","user":"all"},{"address":"0.0.0.0/0","database":"all","method":"sha256","type":"host","user":"all"},{"address":"192.168.0.0/16","database":"replication","method":"sha256","type":"host","user":"all"}],"fail_reason":null,"id":"96a38cb9-c3e5-4d42-a3ed-21118a8fa84a","status":"success","time":"2025-09-04 01:19:52"}],"total_count":1}},"schema":{"$ref":"#/definitions/ListHbaInfoHistoryResponseBody"}}},"summary":"查询客户端接入认证配置修改历史","tags":["实例管理"],"x-api-type":"open-api","x-apigateway-ratelimit":"opengauss_default_policy","x-is-registered":"Y","x-request-examples-url-1":"GET https://{endpoint}/v3/4879de6859e345c780f1a22d8bc6f229/instances/466cc8ef46c24d6991d51227e07ebc92in14/hba-info/history?offset=0&limit=10","x-support-sdk":"Y"}}},"product_short":"GaussDBforopenGauss","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询客户端接入认证配置修改历史","tags":"实例管理","uri":null,"version":"2.0"}