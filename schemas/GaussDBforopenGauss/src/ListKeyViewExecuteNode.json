{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"OpsKeyViewExecuteNodeResponseBody":{"properties":{"nodes":{"description":"**参数解释**:\n节点信息列表。","items":{"$ref":"#/definitions/OpsKeyViewExecuteNodeResult"},"type":"array"}}},"OpsKeyViewExecuteNodeResult":{"properties":{"component_id":{"description":"**参数解释**:\n组件ID。\n**取值范围**:\n不涉及。","example":"dn_6001","type":"string"},"detail":{"description":"**参数解释**:\n描述信息。\n**取值范围**:\n不涉及。","example":"Normal","type":"string"},"distributed_id":{"description":"**参数解释**:\n分布ID。\n**取值范围**:\n不涉及。","example":60011,"type":"string"},"node_id":{"description":"**参数解释**:\n节点ID。\n**取值范围**:\n不涉及。","example":"913966d38e554c8489e0a7cecab4099dno14","type":"string"},"node_name":{"description":"**参数解释**:\n节点名称。\n**取值范围**:\n不涉及。","example":"gauss-18a2_root_0","type":"string"},"role":{"description":"**参数解释**:\n节点角色。\n**取值范围**:\n- master:主节点。\n- slave:备节点。\n- secondary:日志节点。\n- readreplica:只读节点。","example":"master","type":"string"},"type":{"description":"**参数解释**:\n节点类型。\n**取值范围**:\n- CN:CN组件。\n- DN:DN组件。","example":"DN","type":"string"}}},"ParaErrorResponseBody":{"properties":{"error_code":{"description":"**参数解释**:\n错误码。\n**取值范围**:\n不涉及。","example":"DBS.00114000","type":"string"},"error_msg":{"description":"**参数解释**:\n错误消息。\n**取值范围**:\n不涉及。","example":"系统内部错误","type":"string"}},"required":["error_code","error_msg"]}},"description":null,"group_id":"cb81c3e0ae314c27a40e8fc90fd34a80","host":"gaussdb-opengauss.cn-north-4.myhuaweicloud.com","id":"005b3eb93eeb45c39d077790231320a3","info_version":"v3","method":"post","name":"ListKeyViewExecuteNode","parameters":{},"paths":{"/v3/{project_id}/instances/{instance_id}/key-view-execute-node":{"post":{"description":"查询该实例下可用于执行会话查杀功能的节点 (非日志类型的CN或DN节点) 和其所包含的CN、DN组件信息。该接口是会话查杀功能的前提,其返回值中的每一对节点和组件ID是后续查杀会话接口的入参。\n","operationId":"ListKeyViewExecuteNode","parameters":[{"description":"**参数解释**:\n用户Token。\n通过调用IAM服务[获取用户token](https://support.huaweicloud.com/intl/zh-cn/api-iam/iam_30_0001.html)。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"******"},{"default":"en-us","description":"**参数解释**:\n语言。\n**约束限制**:\n不涉及。\n**取值范围**:\n- zh-cn \n- en-us\n\n**默认取值**:\nen-us","enum":["zh-cn","en-us"],"in":"header","name":"X-Language","required":false,"type":"string","x-example":"en-us"},{"description":"**参数解释**:\n租户在某一Region下的项目ID。\n获取方法请参见[获取项目ID](https://support.huaweicloud.com/api-gaussdb/gaussdb_api_196.html)。\n**约束限制**:\n不涉及。\n**取值范围**:\n只能由英文字母、数字组成,且长度为32个字符。\n**默认取值**:\n不涉及。","in":"path","name":"project_id","required":true,"type":"string","x-example":"0483b6b16e954cb88930a360d2c4e663"},{"description":"**参数解释**:\n实例ID,此参数是用户创建实例的唯一标识。\n**约束限制**:\n不涉及。\n**取值范围**:\n只能由英文字母、数字组成,且长度为36个字符。\n**默认取值**:\n不涉及。","in":"path","name":"instance_id","required":true,"type":"string","x-example":"cc6fd964d93f4003851dfc29d57d30a5in14"}],"responses":{"200":{"description":"成功。","examples":{"application/json":{"nodes":[{"component_id":"dn_6001","detail":"Normal","distributed_id":"60011","node_id":"faed3373b25a46c99c5897681ffcb285no14","node_name":"gauss-cdd_root_0","role":"master","type":"DN"}]}},"schema":{"$ref":"#/definitions/OpsKeyViewExecuteNodeResponseBody"}},"default":{"description":"系统内部错误。","schema":{"$ref":"#/definitions/ParaErrorResponseBody"}}},"summary":"查询关键视图下发节点信息","tags":["会话管理"],"x-api-type":"open-api","x-apigateway-ratelimit":"opengauss_default_policy","x-constraint":"- 分布式版实例,需保证第一个节点组中存在一个含有CN组件且状态正常的非日志节点。\n- 主备版实例,需保证存在一个状态正常且为非日志节点的主节点。\n","x-is-registered":"Y","x-request-examples-description-1":"获取数据库关键视图执行节点","x-request-examples-url-1":"POST  https://{endpoint}/v3/b4fd1769bb4b484ea82cf675051466b0/instances/e135029fe2c5414f96ef0d506f7a4496in14/key-view-execute-node","x-support-sdk":"Y"}}},"product_short":"GaussDBforopenGauss","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询关键视图下发节点信息","tags":"会话管理","uri":null,"version":"2.0"}