{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"HotfixInfoResult":{"description":"热补丁信息","properties":{"backup_sensitive":{"description":"是否和备份相关","example":false,"type":"boolean"},"common_patch":{"description":"通用非通用信息,common=通用补丁,certain=定制补丁","enum":["common","certain"],"example":"certain","type":"string"},"descripition":{"description":"补丁的描述信息","example":"解决了xx问题","type":"string"},"version":{"description":"热补丁版本","example":"V2.0-2.7.2.1","type":"string"}},"type":"object"},"ShowBatchUpgradeCandidateVersionsV1ResponseBody":{"description":"版本升级信息。","properties":{"hotfix_rollback_infos":{"description":"可以回滚的热补丁信息。","items":{"$ref":"#/definitions/HotfixInfoResult"},"maxItems":1000,"minItems":0,"type":"array"},"hotfix_upgrade_infos":{"description":"可以升级的热补丁信息。","items":{"$ref":"#/definitions/HotfixInfoResult"},"maxItems":1000,"minItems":0,"type":"array"},"target_version":{"description":"升级目标版本,没有在滚动升级中返回null。","example":"V2.0-3.200.0","maxLength":1000,"minLength":0,"type":"string"},"upgrade_candidate_versions":{"description":"可以升级的版本,包括大小版本。","example":["V2.0-3.200.0","V2.0-4.200.0"],"items":{"maxLength":1000,"minLength":0,"type":"string"},"maxItems":1000,"minItems":0,"type":"array"},"upgrade_type_list":{"description":"升级类型信息列表。","items":{"$ref":"#/definitions/UpgradeTypeInfo"},"maxItems":1000,"minItems":0,"type":"array"}},"required":["upgrade_type_list","upgrade_candidate_versions"],"type":"object"},"UpgradeActionInfo":{"description":"升级操作信息。","properties":{"enable":{"description":"可用,不可用。","example":false,"type":"boolean"},"upgrade_action":{"description":"升级操作,upgrade=升级,upgradeAutoCommit=升级自动提交,commit=提交,rollback=回滚。","enum":["upgrade","upgradeAutoCommit","commit","rollback"],"example":"upgrade","maxLength":1000,"minLength":0,"type":"string"}},"type":"object"},"UpgradeErrorResponseBody":{"properties":{"error_code":{"description":"错误码。","example":"DBS.280001","maxLength":1000,"minLength":0,"type":"string"},"error_msg":{"description":"错误消息。","example":"参数错误。","maxLength":1000,"minLength":0,"type":"string"}},"required":["error_code","error_msg"]},"UpgradeInstancesRequestBody":{"description":"GaussDB批量升级查询接口传参参数。","properties":{"instance_ids":{"description":"批量实例ID。","items":{"type":"string"},"type":"array"}}},"UpgradeTypeInfo":{"description":"升级类型信息。","properties":{"enable":{"description":"可用,不可用。","example":false,"type":"boolean"},"is_parallel_upgrade":{"description":"是否正在进行AZ内并行升级。\n-true:当前实例处于灰度升级的升级待观察升级方式中,已选择了AZ内并行升级方式,后续无法更改。 -false:当前实例处于升级流程中,未选择AZ内并行升级的方式,后续无法更改。null:当前实例尚未处于升级流程中。","example":false,"type":"boolean"},"upgrade_action_list":{"description":"升级操作列表。","items":{"$ref":"#/definitions/UpgradeActionInfo"},"maxItems":1000,"minItems":0,"type":"array"},"upgrade_type":{"description":"升级类型,grey=灰度升级,inplace=就地升级,hotfix=热补丁升级。","enum":["grey","inplace","hotfix"],"example":"inplace","maxLength":1000,"minLength":0,"type":"string"}},"type":"object"}},"description":null,"group_id":"cb81c3e0ae314c27a40e8fc90fd34a80","host":"gaussdb-opengauss.cn-north-4.myhuaweicloud.com","id":"b1884c7d32e7434581b8b4471d34f009","info_version":"v3","method":"post","name":"BatchShowUpgradeCandidateVersions","parameters":{},"paths":{"/v3.1/{project_id}/instances/db-upgrade/candidate-versions":{"post":{"description":"查询批量实例可升级的版本和升级类型。","operationId":"BatchShowUpgradeCandidateVersions","parameters":[{"description":"租户在某一region下的project ID。","in":"path","maxLength":100,"minLength":32,"name":"project_id","required":true,"type":"string"},{"description":"用户Token。","in":"header","maxLength":1000,"minLength":0,"name":"X-Auth-Token","required":true,"type":"string","x-example":"******"},{"default":"en-us","description":"语言[zh-cn, en-us]。","enum":["zh-cn","en-us"],"in":"header","name":"X-Language","required":false,"type":"string","x-example":"en-us"},{"description":"请求体","in":"body","name":"ShowBatchUpgradeCandidateVersionsRequestBody","required":true,"schema":{"$ref":"#/definitions/UpgradeInstancesRequestBody"}}],"responses":{"200":{"description":"当前批量实例只支持就地升级。","examples":{"application/json":{"upgrade_candidate_versions":["V2.0-8.100.0","V2.0-8.101.0"],"upgrade_type_list":[{"enable":true,"upgrade_action_list":[{"enable":true,"upgrade_action":"upgradeAutoCommit"}],"upgrade_type":"inplace"},{"enable":false,"upgrade_type":"grey"}]}},"schema":{"$ref":"#/definitions/ShowBatchUpgradeCandidateVersionsV1ResponseBody"}},"default":{"description":"Client or server error.","schema":{"$ref":"#/definitions/UpgradeErrorResponseBody"}}},"summary":"查询批量实例可升级的版本和升级类型。","tags":["版本升级"],"x-api-type":"open-api","x-apiexplorer-hide":"false","x-apigateway-ratelimit":"opengauss_default_policy","x-is-registered":"Y","x-order":1,"x-request-examples-1":{"instance_ids":["cc0ae5c47bf94834bf9e44138f7f995ain14","aa0ae5c47bf94834bf9e44138f7f995ain14"]},"x-request-examples-description-1":"查询批量实例可升级的版本和升级类型。","x-request-examples-url-1":"GET https://{endpoint}/v3.1/0483b6b16e954cb88930a360d2c4e663/instances/db-upgrade/candidate-versions","x-support-sdk":"Y"}}},"product_short":"GaussDBforopenGauss","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询批量实例可升级的版本和升级类型。","tags":"版本升级","uri":null,"version":"2.0"}