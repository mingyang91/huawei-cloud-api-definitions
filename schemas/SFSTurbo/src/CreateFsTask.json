{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ErrorResp":{"description":"失败时返回的错误对象","properties":{"errCode":{"description":"错误码","maxLength":36,"minLength":8,"type":"string"},"errMsg":{"description":"错误描述","maxLength":512,"minLength":2,"type":"string"}},"required":["errCode","errMsg"],"type":"object"},"FsDirReq":{"description":"文件系统内合法的目录全路径","properties":{"path":{"description":"文件系统内合法的目录全路径。单层目录长度不允许超过255,全路径长度不允许超过4096。","maxLength":4096,"minLength":0,"type":"string"}},"required":["path"]},"TaskResp":{"description":"创建异步任务响应体","properties":{"task_id":{"description":"任务ID","type":"string"}},"required":["task_id"]}},"description":null,"group_id":"da5d54dcc7084f219d46357a8e683990","host":"sfs-turbo.cn-north-4.myhuaweicloud.com","id":"a1781d037bab436e976b4823e083cd02","info_version":"v1","method":"post","name":"CreateFsTask","parameters":{},"paths":{"/v1/{project_id}/sfs-turbo/shares/{share_id}/fs/{feature}/tasks":{"post":{"description":"创建文件系统异步任务,仅支持异步查询目录资源使用情况,API请求路径的feature取值为dir-usage,以下简称为DU任务。","operationId":"CreateFsTask","parameters":[{"description":"账号的token","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"MIME类型, application/json","in":"header","name":"Content-Type","required":true,"type":"string","x-example":"application/json"},{"description":"项目id","in":"path","name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"文件系统id","in":"path","name":"share_id","required":true,"type":"string","x-example":"b959dfbb-xxxx-XXXX-xxxx-8930ec3a87b7"},{"description":"任务类型。当前仅支持取值\"dir-usage\"。","in":"path","name":"feature","required":true,"type":"string","x-example":"dir-usage"},{"description":"文件系统内合法的目录全路径,DU任务里,此为必选参数","in":"body","name":"CreateFsTaskRequestBody","required":false,"schema":{"$ref":"#/definitions/FsDirReq"}}],"responses":{"202":{"description":"Accepted","examples":{"application/json":{"task_id":"d651ea2b-2b20-4c6d-8bbf-2adcec18dac9"}},"headers":{"X-request-id":{"description":"请求ID","type":"string"}},"schema":{"$ref":"#/definitions/TaskResp"}},"400":{"description":"错误响应","examples":{"application/json":{"errCode":"SFS.TURBO.0123","errMsg":"feature invalid"}},"headers":{"X-request-id":{"description":"请求ID","type":"string"}},"schema":{"$ref":"#/definitions/ErrorResp"}},"500":{"description":"错误响应","examples":{"application/json":{"errCode":"SFS.TURBO.0005","errMsg":"internal server error"}},"headers":{"X-request-id":{"description":"请求ID","type":"string"}},"schema":{"$ref":"#/definitions/ErrorResp"}}},"summary":"创建文件系统异步任务","tags":["文件系统管理"],"x-api-type":"open-api","x-apiexplorer-hide":"false","x-constraint":"在2023年8月1号之后创建的文件系统支持该API操作。如果存在10个正在执行的任务,则不允许创建新任务。该接口并发请求数过大可能会影响文件系统性能,建议同时提交的查询请求不要超过4 个。查询超大目录耗时较久,请不要重复提交。API请求路径的feature仅支持以下取值:\n- dir-usage\n\n该接口仅适用于以下类型:\n- 20MB/s/TiB\n- 40MB/s/TiB\n- 125MB/s/TiB\n- 250MB/s/TiB\n- 500MB/s/TiB\n- 1000MB/s/TiB\n- HPC缓存型文件系统\n\n标准型、标准型-增强版、性能型、性能型-增强版类型的SFS Turbo文件系统,请使用“查询目录资源使用情况”接口。","x-is-registered":"Y","x-open-region-cloud":"hws,hws_hk,sbc,hcs","x-order":0,"x-request-examples-1":{"path":"/path"},"x-request-examples-description-1":"DU任务:创建一个查询目录资源使用情况的DU任务。path为文件系统内合法的目录全路径。单层目录长度不允许超过255,全路径长度不允许超过4096。\n","x-request-examples-url-1":"POST HTTPS://{endpoint}/v1/{project_id}/sfs-turbo/shares/{share_id}/fs/dir-usage/tasks","x-support-sdk":"Y","x-version":"v1"}}},"product_short":"SFSTurbo","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建文件系统异步任务","tags":"文件系统管理","uri":null,"version":"2.0"}