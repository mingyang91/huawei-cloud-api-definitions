{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CreatePermRuleResponseBody":{"description":"权限规格信息","properties":{"rules":{"description":"权限规格信息","items":{"$ref":"#/definitions/OnePermRuleResponseInfo"},"type":"array"}},"required":["rules"],"type":"object"},"CreatePermRulesRequestBody":{"description":"创建权限请求体","properties":{"rules":{"description":"权限信息,一次最多允许添加5条规则","items":{"$ref":"#/definitions/OnePermRuleRequestInfo","type":"object"},"type":"array"}},"required":["rules"]},"ErrorResp":{"description":"失败时返回的错误对象","properties":{"errCode":{"description":"错误码","maxLength":36,"minLength":8,"type":"string"},"errMsg":{"description":"错误描述","maxLength":512,"minLength":2,"type":"string"}},"required":["errCode","errMsg"]},"OnePermRuleRequestInfo":{"description":"权限规格信息","properties":{"ip_cidr":{"description":"授权对象的IP地址或网段,设置后不支持修改","type":"string"},"rw_type":{"description":"授权对象的读写权限 \n\n- rw:默认选项,以读写的方式共享 \n\n- ro:以只读的方式共享 \n\n- none: 没有权限","type":"string"},"user_type":{"description":"授权对象的系统用户对文件系统的访问权限。取值如下:\n\n- no_root_squash:默认选项。客户端使用包括root用户在内的任何用户,NFS服务器都保持客户端使用的用户,不做映射。\n\n- root_squash:客户端使用的是root用户时,映射到NFS服务器的用户为NFS的匿名用户(nfsnobody)。客户端使用非root用户时,NFS服务器保持客户端使用的用户,不做映射。\n\n- all_squash:所有访问NFS服务器的客户端的用户都映射为匿名用户。","type":"string"}}},"OnePermRuleResponseInfo":{"description":"权限规格信息","properties":{"id":{"description":"权限规格的id","type":"string"},"ip_cidr":{"description":"授权对象的IP地址或网段","type":"string"},"rw_type":{"description":"授权对象的读写权限 \n\n- rw:默认选项,以读写的方式共享 \n\n- ro:以只读的方式共享 \n\n- none: 没有权限","type":"string"},"user_type":{"description":"授权对象的系统用户对文件系统的访问权限。取值如下:\n\n- no_root_squash:客户端使用的是root用户时,映射到NFS服务器的用户依然为root用户。\n\n- root_squash:客户端使用的是root用户时,映射到NFS服务器的用户为NFS的匿名用户(nfsnobody)。\n\n- all_squash:默认选项。所有访问NFS服务器的客户端的用户都映射为匿名用户。'","type":"string"}},"required":["id","ip_cidr","rw_type","user_type"]}},"description":null,"group_id":"da5d54dcc7084f219d46357a8e683990","host":"sfs-turbo.cn-north-4.myhuaweicloud.com","id":"bb4c467180524c5c9c82398bd933d340","info_version":"v1","method":"post","name":"CreatePermRule","parameters":{},"paths":{"/v1/{project_id}/sfs-turbo/shares/{share_id}/fs/perm-rules":{"post":{"description":"创建权限规则","operationId":"CreatePermRule","parameters":[{"description":"账号的token","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"MIME类型","in":"header","name":"Content-Type","required":true,"type":"string","x-example":"application/json"},{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"文件系统id","in":"path","name":"share_id","required":true,"type":"string"},{"description":"请求体","in":"body","name":"CreatePermRuleRequestBody","required":true,"schema":{"$ref":"#/definitions/CreatePermRulesRequestBody"}}],"responses":{"200":{"description":"创建成功","examples":{"application/json":{"rules":[{"id":"1131ed520xxxxxxebedb6e57xxxxxxxx","ip_cidr":"192.32.0.0/16","rw_type":"rw","user_type":"no_root_squash"},{"id":"1131ed520xxxxxxebedb6e57xxxxxxxx","ip_cidr":"192.32.0.1","rw_type":"rw","user_type":"no_root_squash"}]}},"schema":{"$ref":"#/definitions/CreatePermRuleResponseBody"}},"400":{"description":"错误响应","examples":{"application/json":{"errCode":"SFS.TURBO.0001","errMsg":"Rules not allowed empty"}},"schema":{"$ref":"#/definitions/ErrorResp"}},"500":{"description":"错误响应","examples":{"application/json":{"errCode":"SFS.TURBO.0005","errMsg":"Internal server error"}},"schema":{"$ref":"#/definitions/ErrorResp"}}},"summary":"创建权限规则","tags":["权限管理"],"x-api-type":"open-api","x-constraint":"一个文件系统最多可以配置64条权限规则。","x-is-registered":"Y","x-request-examples-1":{"rules":[{"ip_cidr":"192.168.xx.xx/16","rw_type":"rw","user_type":"no_root_squash"},{"ip_cidr":"192.32.xx.xx/16","rw_type":"rw","user_type":"no_root_squash"}]},"x-support-sdk":"Y"}}},"product_short":"SFSTurbo","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建权限规则","tags":"权限管理","uri":null,"version":"2.0"}