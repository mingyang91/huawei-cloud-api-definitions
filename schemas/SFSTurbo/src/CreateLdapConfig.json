{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CreateLdapConfigRequestBody":{"description":"LDAP配置信息","properties":{"backup_url":{"description":"LDAP备节点的url,固定格式为 ldap://{ip_address}:{port_number} 或 ldaps://{ip_address}:{port_number},例如ldap://192.168.xx.xx:60000","example":"ldap://192.168.xx.xx:60000","type":"string"},"base_dn":{"description":"数据库中的域","example":"dc=example,dc=com","type":"string"},"filter_condition":{"description":"过滤条件。保留字段,暂不支持","type":"string"},"password":{"description":"LDAP认证密码","example":"pwdxxxxxx","type":"string"},"schema":{"description":"LDAP的schema,不填写则默认为RFC2307","type":"string"},"search_timeout":{"description":"LDAP搜索的超时时间,单位为秒。不填写则默认为3秒","example":10,"format":"int32","type":"integer"},"url":{"description":"LDAP服务器的url,固定格式为 ldap://{ip_address}:{port_number} 或 ldaps://{ip_address}:{port_number},例如ldap://192.168.xx.xx:60000","example":"ldap://192.168.xx.xx:60000","type":"string"},"user_dn":{"description":"用户区别名","example":"cn=admin,dc=example,dc=com","type":"string"},"vpc_id":{"description":"一般不涉及。仅在SFS Turbo支持多VPC的场景下,需要指定LDAP服务器可连通的VPC的id。","example":"26f6b565-xxxx-XXXX-xxxx-03f0bd975433","type":"string"}},"required":["url","base_dn"],"type":"object"},"ErrorResp":{"description":"失败时返回的错误对象","properties":{"errCode":{"description":"错误码","maxLength":36,"minLength":8,"type":"string"},"errMsg":{"description":"错误描述","maxLength":512,"minLength":2,"type":"string"}},"required":["errCode","errMsg"],"type":"object"},"LdapJobResponseBody":{"description":"LDAP配置响应体","properties":{"jobId":{"description":"LDAP异步任务的id。可通过查询job的状态详情接口查询job的执行状态。","type":"string"}},"required":["jobId"],"type":"object"}},"description":null,"group_id":"da5d54dcc7084f219d46357a8e683990","host":"sfs-turbo.cn-north-4.myhuaweicloud.com","id":"f929e124aba14873a6c085b95e56cdf3","info_version":"v1","method":"post","name":"CreateLdapConfig","parameters":{},"paths":{"/v1/{project_id}/sfs-turbo/shares/{share_id}/fs/ldap":{"post":{"description":"创建并绑定LDAP配置。","operationId":"CreateLdapConfig","parameters":[{"description":"账号的token","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"MIME类型","in":"header","name":"Content-Type","required":true,"type":"string","x-example":"application/json"},{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"文件系统ID","in":"path","name":"share_id","required":true,"type":"string"},{"description":"请求体","in":"body","name":"CreateLdapConfigRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateLdapConfigRequestBody"}}],"responses":{"200":{"description":"请求已被接受","examples":{"application/json":{"jobId":"72362dxxxxa04d419dbd5e6d9fe5xxxx"}},"headers":{"X-request-id":{"description":"请求ID","type":"string"}},"schema":{"$ref":"#/definitions/LdapJobResponseBody"}},"400":{"description":"客户端错误","examples":{"application/json":{"errCode":"SFS.TURBO.0001","errMsg":"Invalid rule id"}},"headers":{"X-request-id":{"description":"请求ID","type":"string"}},"schema":{"$ref":"#/definitions/ErrorResp"}},"500":{"description":"内部错误","examples":{"application/json":{"errCode":"SFS.TURBO.0005","errMsg":"Internal server error"}},"headers":{"X-request-id":{"description":"请求ID","type":"string"}},"schema":{"$ref":"#/definitions/ErrorResp"}}},"summary":"创建并绑定LDAP配置","tags":["权限管理"],"x-api-type":"open-api","x-apiexplorer-hide":"false","x-constraint":"base_dn和url不为空。该接口仅适用于NFS文件系统共享协议。","x-is-registered":"Y","x-open-region-cloud":"hws,hws_hk,hcs","x-request-examples-1":{"backup_url":"ldap://192.168.xx.xx:60000","base_dn":"dc=example,dc=com","password":"pwdxxxxxx","schema":"RFC2307","search_timeout":10,"url":"ldap://192.168.xx.xx:60000","user_dn":"cn=admin,dc=example,dc=com"},"x-request-examples-description-1":"创建绑定一个LDAP服务器","x-request-examples-text-1":{"backup_url":"ldap://192.168.xx.xx:60000","base_dn":"dc=example,dc=com","password":"pwdxxxxxx","schema":"RFC2307","search_timeout":10,"url":"ldap://192.168.xx.xx:60000","user_dn":"cn=admin,dc=example,dc=com"},"x-support-sdk":"Y","x-version":"v1"}}},"product_short":"SFSTurbo","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建并绑定LDAP配置","tags":"权限管理","uri":null,"version":"2.0"}