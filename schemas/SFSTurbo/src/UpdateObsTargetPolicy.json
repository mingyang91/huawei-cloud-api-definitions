{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"AutoExportPolicy":{"description":"后端存储自动导出策略,SFS Turbo会以异步方式导出到OBS。","properties":{"events":{"description":"后端存储自动导出到OBS桶的数据更新类型。\n- NEW:表示新增数据,SFS Turbo联动目录下创建的文件,及之后对这些文件进行的元数据和数据修改,会被自动同步到OBS桶里。\n- CHANGED:表示修改数据,从OBS桶里导入到SFS Turbo联动目录下的文件,在SFS Turbo上对这些文件所进行的数据和元数据的修改,会被自动同步到OBS桶里。\n- DELETED:表示删除数据,在SFS Turbo联动目录下删除文件,OBS桶对应的对象也会被删除,只有被SFS Turbo写入的OBS对象才会被删除。","items":{"description":"后端存储自动导出到OBS桶的数据更新类型。","enum":["NEW","CHANGED","DELETED"],"type":"string"},"type":"array"}}},"ErrorResp":{"description":"失败时返回的错误对象","properties":{"errCode":{"description":"错误码","maxLength":36,"minLength":8,"type":"string"},"errMsg":{"description":"错误描述","maxLength":512,"minLength":2,"type":"string"}},"required":["errCode","errMsg"]},"ObsDataRepositoryPolicy":{"description":"后端存储自动同步策略","properties":{"auto_export_policy":{"$ref":"#/definitions/AutoExportPolicy","description":"后端存储自动导出策略。当文件系统发生数据更新时,将自动导出到OBS桶。","type":"object"}}},"UpdateObsTargetPolicyRequestBody":{"description":"更新后端存储自动同步策略请求体","properties":{"policy":{"$ref":"#/definitions/ObsDataRepositoryPolicy","description":"后端存储自动同步策略","type":"object"}},"required":["policy"]},"UpdateObsTargetPolicyResponseBody":{"description":"更新后端存储自动同步策略响应体","properties":{"policy":{"$ref":"#/definitions/ObsDataRepositoryPolicy","description":"后端存储自动同步策略","type":"object"},"target_id":{"description":"绑定关系id","type":"string"}}}},"description":null,"group_id":"da5d54dcc7084f219d46357a8e683990","host":"sfs-turbo.cn-north-4.myhuaweicloud.com","id":"a362375b886e495c91319686afc41e43","info_version":"v1","method":"put","name":"UpdateObsTargetPolicy","parameters":{},"paths":{"/v1/{project_id}/sfs-turbo/shares/{share_id}/targets/{target_id}/policy":{"put":{"description":"更新后端存储自动同步策略","operationId":"UpdateObsTargetPolicy","parameters":[{"description":"账号的token","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"MIME类型","in":"header","name":"Content-Type","required":true,"type":"string","x-example":"application/json"},{"description":"项目id","in":"path","name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"文件系统id","in":"path","name":"share_id","required":true,"type":"string","x-example":"b959dfbb-xxxx-XXXX-xxxx-8930ec3a87b7"},{"description":"绑定关系id","in":"path","name":"target_id","required":true,"type":"string","x-example":"00000334-xxxx-402d-a5d4-bxxxxx87b939"},{"description":"更新后端存储自动同步策略请求体","in":"body","name":"UpdateObsTargetPolicyRequestBody","required":true,"schema":{"$ref":"#/definitions/UpdateObsTargetPolicyRequestBody"}}],"produces":["application/json"],"responses":{"200":{"description":"成功","examples":{"application/json":{"policy":{"auto_export_policy":{"events":["NEW","CHANGED","DELETED"]}},"target_id":"xxxxxx-xxx-xxxx-xxxxxxx"}},"headers":{"X-request-id":{"description":"请求ID","type":"string"}},"schema":{"$ref":"#/definitions/UpdateObsTargetPolicyResponseBody"}},"404":{"description":"错误响应","examples":{"application/json":{"errCode":"SFS.TURBO.0126","errMsg":"target not found, not bound yet"}},"schema":{"$ref":"#/definitions/ErrorResp"}},"500":{"description":"错误响应","examples":{"application/json":{"errCode":"SFS.TURBO.0005","errMsg":"internal server error"}},"schema":{"$ref":"#/definitions/ErrorResp"}}},"summary":"更新后端存储自动同步策略","tags":["存储联动管理"],"x-api-type":"open-api","x-constraint":"该接口仅适用于SFS Turbo 20MB/s/TiB、40MB/s/TiB、125MB/s/TiB、250MB/s/TiB、500MB/s/TiB、1000MB/s/TiB文件系统。","x-is-registered":"Y","x-open-region-cloud":"hws,hws_hk","x-order":4,"x-request-examples-1":{"policy":{"auto_export_policy":{"events":["NEW","CHANGED","DELETED"]}}},"x-request-examples-description-1":"文件系统ID为\"77ba6f4b-6365-4895-8dda-bc7142af4dde\",后端target_id为\"11abef677ac40f46644d1d5cfc2424a4\",更新后端存储自动同步策略\n","x-request-examples-url-1":"PUT HTTPS://{endpoint}/v1/{project_id}/sfs-turbo/shares/77ba6f4b-6365-4895-8dda-bc7142af4dde/targets/11abef677ac40f46644d1d5cfc2424a4/policy","x-support-sdk":"Y"}}},"product_short":"SFSTurbo","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"更新后端存储自动同步策略","tags":"存储联动管理","uri":null,"version":"2.0"}