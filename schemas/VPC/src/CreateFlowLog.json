{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CreateFlowLogReq":{"description":"","properties":{"description":{"description":"功能说明:流日志描述\n取值范围:0-255个字符,不能包含“<”和“>”","maxLength":255,"minLength":0,"type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,sbc,obc"},"log_group_id":{"description":"日志组ID\n请在云日志服务中获取,详情请参见《云日志服务用户指南》。","type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,sbc,obc"},"log_topic_id":{"description":"日志主题ID\n请在云日志服务中获取,详情请参见《云日志服务用户指南》。","type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,sbc,obc"},"name":{"description":"功能说明:流日志名称\n取值范围:0-64个字符,支持数字、字母、中文、_(下划线)、-(中划线)、.(点)","maxLength":64,"minLength":0,"type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,sbc,obc"},"resource_id":{"description":"resource_type对应资源的唯一ID","type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,sbc,obc"},"resource_type":{"description":"功能说明:流日志所属资源类型\n取值范围:支持port、network、vpc 类型。","enum":["port","network","vpc"],"type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,sbc,obc"},"traffic_type":{"description":"功能说明:流日志采集类型\n取值范围:\n    1)all:采集指定资源的全部流量。\n    2)accept:采集指定资源允许传入、传出的流量。\n    3)reject:采集指定资源拒绝传入、传出的流量。","enum":["all","accept","reject"],"type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,sbc,obc"}},"required":["log_group_id","log_topic_id","resource_id","resource_type","traffic_type"]},"CreateFlowLogReqBody":{"description":"","properties":{"flow_log":{"$ref":"#/definitions/CreateFlowLogReq","description":"flow_log对象","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,obc"}},"required":["flow_log"]},"ErrorResp":{"description":"http响应码为错误码时的返回体数据模型","properties":{"code":{"description":"请求返回的错误码","type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,obc"},"message":{"description":"请求返回的错误信息","maxLength":999,"minLength":1,"type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,obc"}},"required":["code","message"]},"FlowLogResp":{"description":"","properties":{"admin_state":{"description":"功能说明:流日志管理\n取值范围:若为true,表明开启流日志。若为false,则关闭流日志","type":"boolean","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,sbc,obc"},"created_at":{"description":"资源创建时间","type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,sbc,obc"},"description":{"description":"功能说明:流日志描述\n取值范围:0-255个字符,不能包含“<”和“>”","maxLength":255,"minLength":0,"type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,sbc,obc"},"id":{"description":"流日志资源唯一标识","type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,sbc,obc"},"log_group_id":{"description":"日志组ID\n请在云日志服务中获取,详情请参见《云日志服务用户指南》。","type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,sbc,obc"},"log_store_type":{"description":"功能说明:流日志存储类型\n取值范围:\n    lts:存储类型为云日志服务(LTS)。","enum":["lts"],"type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,sbc,obc"},"log_topic_id":{"description":"日志主题ID\n请在云日志服务中获取,详情请参见《云日志服务用户指南》。","type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,sbc,obc"},"name":{"description":"功能说明:流日志名称\n取值范围:0-64个字符,支持数字、字母、中文、_(下划线)、-(中划线)、.(点)","maxLength":64,"minLength":0,"type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,sbc,obc"},"resource_id":{"description":"resource_type对应资源的唯一ID","type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,sbc,obc"},"resource_type":{"description":"功能说明:流日志所属资源类型\n取值范围:支持Port、Network、VPC 类型。\n约束:当resource_type为Port时,Port资源必须是C3、S3、M3三种虚拟机的网卡。","enum":["port","network","vpc"],"type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,sbc,obc"},"status":{"description":"功能说明:流日志状态\n取值范围:ACTIVE、DOWN、ERROR","enum":["ACTIVE","DOWN","ERROR"],"type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,sbc,obc"},"tenant_id":{"description":"项目ID","type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,sbc,obc"},"traffic_type":{"description":"功能说明:流日志采集类型\n取值范围:\n    1)all:采集指定资源的全部流量。\n    2)accept:采集指定资源允许传入、传出的流量。\n    3)reject:采集指定资源拒绝传入、传出的流量。","enum":["all","accept","reject"],"type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,sbc,obc"},"updated_at":{"description":"最近一次更新资源的时间","type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,sbc,obc"}},"required":["admin_state","created_at","description","id","log_group_id","log_store_type","log_topic_id","name","resource_id","resource_type","status","tenant_id","traffic_type","updated_at"]},"FlowLogRespBodyShow":{"description":"","properties":{"flow_log":{"$ref":"#/definitions/FlowLogResp","description":"flow_log对象","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,obc"}},"required":["flow_log"]}},"description":null,"group_id":"4784d190da9948c381c1603ddda2f4ff","host":"vpc.cn-north-4.myhuaweicloud.com","id":"617c2e5fdb3540909a19a078df21b43a","info_version":"v2","method":"post","name":"CreateFlowLog","parameters":{},"paths":{"/v1/{project_id}/fl/flow_logs":{"post":{"consumes":[],"deprecated":false,"description":"创建流日志。\n流日志功能可以记录虚拟私有云中的流量信息,帮助您检查和优化安全组和网络ACL防火墙控制规则、监控网络流量、进行网络攻击分析等。\nVPC流日志功能需要与云日志服务LTS结合使用,请先在云日志服务中创建日志组和日志主题,然后再创建VPC流日志。","operationId":"CreateFlowLog","parameters":[{"description":"用户Token。 \n获取Token,请参考《统一身份认证服务API参考》的“获取用户Token”章节。请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,sbc,obc","x-order":1},{"description":"项目ID","in":"path","name":"project_id","pattern":"[0-9a-fA-F]{32}","required":true,"type":"string","x-example":"05137572fa00d5eb2fdcc014b0f5c751","x-order":2},{"description":"创建流日志的请求体,参见CreateFlowLogReq对象。","in":"body","name":"flow_log","required":true,"schema":{"$ref":"#/definitions/CreateFlowLogReqBody"},"x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso,sbc,obc","x-order":3}],"produces":[],"responses":{"201":{"description":"正常返回","examples":{"application/json":{"flow_log":{"admin_state":true,"created_at":"2019-01-14T11:03:02","description":"just a test","id":"f49f00f1-0f15-470a-a8c5-4e879e461c8d","log_group_id":"05c4052d-8d14-488f-aa00-19fea5a25fdd","log_store_type":"lts","log_topic_id":"a9d7dee7-37d2-4cba-a208-a016252aaa63","name":"flowlog","resource_id":"05c4052d-8d14-488f-aa00-19fea5a25fde","resource_type":"port","status":"ACTIVE","tenant_id":"b2782e6708b8475c993e6064bc456bf8","traffic_type":"reject","updated_at":"2019-01-14T11:03:02"}}},"schema":{"$ref":"#/definitions/FlowLogRespBodyShow"}},"400":{"description":"服务器未能处理请求。","schema":{"$ref":"#/definitions/ErrorResp"}},"401":{"description":"被请求的页面需要用户名和密码。","schema":{"$ref":"#/definitions/ErrorResp"}},"403":{"description":"对被请求页面的访问被禁止。","schema":{"$ref":"#/definitions/ErrorResp"}},"404":{"description":"服务器无法找到被请求的页面。","schema":{"$ref":"#/definitions/ErrorResp"}},"409":{"description":"由于冲突,请求无法被完成。","schema":{"$ref":"#/definitions/ErrorResp"}},"500":{"description":"请求未完成。服务异常。","schema":{"$ref":"#/definitions/ErrorResp"}}},"summary":"创建流日志","tags":["流日志"],"x-apiexplorer-hide":"false","x-constraint":"","x-first-open-time":"2019-01-30","x-hybridcloud":"false","x-is-registered":"Y","x-name":"创建流日志","x-open-region-cloud":"hc,hk,otc,obc","x-order":70,"x-publishpath":"","x-request-examples-1":{"flow_log":{"description":"just a test","index_enabled":true,"log_group_id":"05c4052d-8d14-488f-aa00-19fea5a25fdd","log_topic_id":"a9d7dee7-37d2-4cba-a208-a016252aaa63","name":"flowlog","resource_id":"05c4052d-8d14-488f-aa00-19fea5a25fde","resource_type":"port","traffic_type":"reject"}},"x-request-examples-description-1":"","x-request-examples-text-1":"{\n    \"flow_log\": {\n        \"name\": \"flowlog\",\n        \"description\": \"just a test\",\n        \"resource_type\": \"port\",\n        \"resource_id\": \"05c4052d-8d14-488f-aa00-19fea5a25fde\",\n        \"traffic_type\": \"reject\",\n        \"log_group_id\": \"05c4052d-8d14-488f-aa00-19fea5a25fdd\",\n        \"log_topic_id\": \"a9d7dee7-37d2-4cba-a208-a016252aaa63\",\n        \"index_enabled\": true\n    }\n}","x-request-examples-url-1":"POST https://{Endpoint}/v1/{project_id}/fl/flow_logs","x-scope":"Commercial","x-source":"SelfDeveloped","x-support-sdk":"Y","x-version":"v1"}}},"product_short":"VPC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建流日志","tags":"流日志","uri":null,"version":"2.0"}