{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"AddSecurityGroupsRequestBody":{"description":"This is a auto create Body Object","properties":{"port":{"$ref":"#/definitions/InsertSecurityGroupOption","description":"端口插入安全组请求体","x-open-region-cloud":""}},"required":["port"]},"AddSecurityGroupsResponseBody":{"description":"This is a auto create Response Object","properties":{"port":{"$ref":"#/definitions/Port","description":"端口插入安全组的响应体"},"request_id":{"description":"请求ID","type":"string"}},"required":["port","request_id"]},"AllowedAddressPair":{"description":"","properties":{"ip_address":{"description":"功能说明:IP地址约束:不支持0.0.0.0如果allowed_address_pairs配置地址池较大的CIDR(掩码小于24位),建议为该port配置一个单独的安全组。","type":"string"},"mac_address":{"description":"功能说明:MAC地址","type":"string"}}},"ExtraDhcpOpt":{"description":"","properties":{"opt_name":{"description":"Option名称。","type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,obc"},"opt_value":{"description":"Option值。","type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,obc"}}},"InsertSecurityGroupOption":{"description":"","properties":{"index":{"description":"安全组插入的位置,从0开始计数。\n举例:\n1. 要插入到已关联安全组列表的首位,index=0;\n2. 要插入到已关联安全组列表的第n个安全组后面,index=n。\n默认插入到端口已关联的安全组列表末尾。","format":"int32","type":"integer"},"security_groups":{"description":"功能说明:安全组的ID列表;例如:\"security_groups\": [\"a0608cbf-d047-4f54-8b28-cd7b59853fff\"]","items":{"description":"","type":"string"},"type":"array"}},"required":["security_groups"]},"Port":{"description":"1、功能说明:端口对象\n2、取值范围:N/A\n3、约束:N/A\n4、默认值:N/A","properties":{"admin_state_up":{"description":"1、功能描述:管理状态\n2、取值范围:true/false\n3、约束:N/A\n4、默认值:true\n5、权限:N/A","type":"boolean"},"allowed_address_pairs":{"description":"1、功能描述:IP/Mac对列表\n2、取值范围:N/A\n3、约束:\n- IP地址不允许为 “0.0.0.0/0”\n- 如果allowed_address_pairs配置地址池较大的CIDR(掩码小于24位),建议为该port配置一个单独的安全组。\n- 如果allowed_address_pairs的IP地址为“1.1.1.1/0”,表示关闭源目地址检查开关。\n- 被绑定的云服务器网卡allowed_address_pairs的IP地址填“1.1.1.1/0”。\n4、默认值:N/A\n5、权限:N/A","items":{"$ref":"#/definitions/AllowedAddressPair","description":""},"type":"array"},"binding:host_id":{"description":"1、功能描述:主机ID\n2、取值范围:N/A\n3、约束:管理员权限,普通租户不可见\n4、默认值:N/A\n5、权限:N/A","type":"string"},"binding:migration_info":{"description":"1、功能描述:迁移目的节点信息,包括目的节点的binding:vif_details和binding:vif_type\n2、取值范围:N/A\n3、约束:N/A\n4、默认值:N/A\n5、权限:N/A","type":"object"},"binding:profile":{"description":"1、功能描述:提供用户设置自定义信息\n2、取值范围:N/A\n3、约束:N/A\n4、默认值:N/A\n5、权限:N/A","type":"object"},"binding:vif_details":{"description":"1、功能描述:vif的详细信息, \"ovs_hybrid_plug\": 是否为ovs/bridge混合模式\n2、取值范围:N/A\n3、约束:N/A\n4、默认值:N/A\n5、权限:N/A","type":"object"},"binding:vif_type":{"description":"1、功能描述:端口的接口类型 (ovs/hw_veb等)(扩展属性)\n2、取值范围:N/A\n3、约束:管理员权限,普通租户不可见\n4、默认值:N/A\n5、权限:N/A","type":"string"},"binding:vnic_type":{"description":"1、功能描述:绑定的vNIC类型normal: 软交换direct: SRIOV硬直通(不支持)\n2、取值范围:normal或者direct\n3、约束:N/A\n4、默认值:N/A\n5、权限:N/A","type":"string"},"created_at":{"description":"1、功能说明:创建时间\n2、取值范围:格式 \"UTC时间 格式: yyyy-MM-ddTHH:mm:ss\" \n3、约束:N/A\n4、默认值:N/A\n5、权限:N/A","format":"date-time","type":"string"},"description":{"description":"1、功能说明:端口描述\n2、取值范围:0-255个字符,不能包含“<”和“>”\n3、约束:N/A\n4、默认值:N/A\n5、权限:N/A","type":"string"},"device_id":{"description":"1、功能描述:端口所属设备ID\n2、取值范围:标准UUID\n3、约束:不支持设置和更新,由系统自动维护\n4、默认值:N/A\n5、权限:N/A","type":"string"},"device_owner":{"description":"1、功能描述:设备所属(DHCP/Router/ lb/Nova)\n2、取值范围:N/A\n3、约束:N/A\n4、默认值:N/A\n5、权限:N/A","type":"string"},"ecs_flavor":{"description":"1、功能描述:标识这个端口所属虚拟机的flavor\n2、取值范围:N/A\n3、约束:N/A\n4、默认值:N/A\n5、权限:N/A","type":"string"},"enable_efi":{"description":"1、功能描述:是否使能efi,使能则表示端口支持vRoCE能力\n2、取值范围:true or false\n3、约束:N/A\n4、默认值:false\n5、权限:N/A","type":"boolean"},"extra_dhcp_opts":{"description":"功能说明:DHCP的扩展属性","items":{"$ref":"#/definitions/ExtraDhcpOpt","description":""},"type":"array"},"id":{"description":"1、功能描述:端口唯一标识\n2、取值范围:标准UUID\n3、约束:N/A\n4、默认值:N/A\n5、权限:N/A","type":"string"},"instance_id":{"description":"1、功能描述:端口所属实例ID,例如RDS实例ID\n2、取值范围:N/A\n3、约束:不支持设置和更新,由系统自动维护\n4、默认值:N/A\n5、权限:N/A","type":"string"},"instance_info":{"description":"1、功能描述:端口绑定实例信息\n2、取值范围:N/A\n3、约束:N/A\n4、默认值:N/A\n5、权限:N/A","type":"object"},"instance_type":{"description":"1、功能描述:端口所属实例类型,例如“RDS”\n2、取值范围:N/A\n3、约束:不支持设置和更新,由系统自动维护\n4、默认值:N/A\n5、权限:N/A","type":"string"},"mac_address":{"description":"1、功能描述:MAC地址\n2、取值范围:N/A\n3、约束:N/A\n4、默认值:N/A\n5、权限:N/A","type":"string"},"name":{"description":"1、功能描述:端口名称\n2、取值范围:默认为空,最大长度不超过255\n3、约束:N/A\n4、默认值:N/A\n5、权限:N/A","type":"string"},"port_security_enabled":{"description":"1、功能描述:端口安全使能标记,如果不使能则安全组和dhcp防欺骗不生效\n2、取值范围:true/false\n3、约束:N/A\n4、默认值:N/A\n5、权限:N/A","type":"boolean"},"position_type":{"description":"1、功能描述:边缘场景位置类型\n2、取值范围:N/A\n3、约束:N/A\n4、默认值:center\n5、权限:N/A","type":"string"},"private_ips":{"description":"1、功能描述:port的私有IP地址\n2、取值范围:N/A\n3、约束:N/A\n4、默认值:N/A\n5、权限:N/A","items":{"$ref":"#/definitions/PrivateIpInfo","description":""},"type":"array"},"project_id":{"description":"1、功能描述:项目ID\n2、取值范围:UUID\n3、约束:N/A\n4、默认值:N/A\n5、权限:N/A","type":"string"},"scope":{"description":"1、功能描述:作用域\n2、取值范围:center,表示作用域为中心;{azId},表示作用域为具体的可用区\n3、约束:N/A\n4、默认值:center\n5、权限:N/A","type":"string"},"security_groups":{"description":"1、功能描述:安全组\n2、取值范围:N/A\n3、约束:N/A\n4、默认值:N/A\n5、权限:N/A","items":{"description":"","type":"string"},"type":"array"},"status":{"description":"1、功能描述:端口状态\n2、取值范围:ACTIVE,BUILD,DOWN\n3、约束:N/A\n4、默认值:N/A\n5、权限:N/A","type":"string"},"tags":{"description":"1、功能描述:端口标签\n2、取值范围:N/A\n3、约束:N/A\n4、默认值:N/A\n5、权限:N/A","items":{"description":"","type":"string"},"type":"array"},"tenant_id":{"description":"1、功能描述:租户ID\n2、取值范围:UUID\n3、约束:N/A\n4、默认值:N/A\n5、权限:N/A","type":"string"},"updated_at":{"description":"1、功能说明:创建时间\n2、取值范围:格式 \"UTC时间 格式: yyyy-MM-ddTHH:mm:ss\" \n3、约束:N/A\n4、默认值:N/A\n5、权限:N/A","format":"date-time","type":"string"},"virsubnet_id":{"description":"1、功能描述:所属网络ID\n2、取值范围:标准UUID\n3、约束:N/A\n4、默认值:N/A\n5、权限:N/A","type":"string"},"vpc_id":{"description":"1、功能描述:VPC的ID\n2、取值范围:标准UUID\n3、约束:N/A\n4、默认值:N/A\n5、权限:N/A","type":"string"},"vpc_tenant_id":{"description":"1、功能描述:VPC_租户ID\n2、取值范围:UUID\n3、约束:N/A\n4、默认值:N/A\n5、权限:N/A","type":"string"},"vtep_ip":{"description":"1、功能描述:本地IP\n2、取值范围:N/A\n3、约束:N/A\n4、默认值:N/A\n5、权限:N/A","type":"string"},"zone_id":{"description":"1、功能描述:端口所属的可用分区\n2、取值范围:N/A\n3、约束:N/A\n4、默认值:N/A\n5、权限:N/A","type":"string"}},"required":["admin_state_up","allowed_address_pairs","binding:host_id","binding:migration_info","binding:profile","binding:vif_details","binding:vif_type","binding:vnic_type","created_at","description","device_id","device_owner","ecs_flavor","enable_efi","extra_dhcp_opts","id","instance_id","instance_info","instance_type","mac_address","name","port_security_enabled","position_type","private_ips","project_id","scope","security_groups","status","tags","tenant_id","updated_at","virsubnet_id","vpc_id","vpc_tenant_id","vtep_ip","zone_id"]},"PrivateIpInfo":{"description":"端口私有IP信息","properties":{"ip_address":{"description":"端口私有IP地址","type":"string"},"subnet_cidr_id":{"description":"端口所属子网ID","type":"string"}},"required":["ip_address","subnet_cidr_id"]}},"description":null,"group_id":"4784d190da9948c381c1603ddda2f4ff","host":"vpc.cn-north-4.myhuaweicloud.com","id":"53a9a4aa09ef4fceb3ffda71d0531e7b","info_version":"v3","method":"put","name":"AddSecurityGroups","parameters":{},"paths":{"/v3/{project_id}/ports/{port_id}/insert-security-groups":{"put":{"description":"端口插入安全组","operationId":"AddSecurityGroups","parameters":[{"description":"This is a auto create Body Object","in":"body","name":"AddSecurityGroupsRequestBody","required":true,"schema":{"$ref":"#/definitions/AddSecurityGroupsRequestBody"}},{"description":"用户Token","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-open-region-cloud":"","x-order":1},{"description":"端口的唯一标识","in":"path","name":"port_id","required":true,"type":"string","x-open-region-cloud":"","x-order":3},{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string","x-open-region-cloud":"","x-order":2}],"responses":{"200":{"description":"OK","examples":{"application/json":{"port":{"admin_state_up":true,"allowed_address_pairs":[],"binding:host_id":"","binding:migration_info":{},"binding:profile":{},"binding:vif_details":{},"binding:vif_type":"unbound","binding:vnic_type":"normal","created_at":"2023-05-10T01:35:02","description":"","device_id":"","device_owner":"","ecs_flavor":"","enable_efi":false,"extra_dhcp_opts":[],"id":"99fd0c77-56b4-4bf6-8365-df352e45d5fc","instance_id":"","instance_info":null,"instance_type":"","mac_address":"fa:16:3e:1f:17:df","name":"","port_security_enabled":true,"position_type":"center","private_ips":[{"ip_address":"192.168.158.228","subnet_cidr_id":"ffe98087-6d4f-45cd-988b-1c87f75d2d53"}],"project_id":"f5dab68cd75740e68c599e9af5fe0aed","scope":"center","security_groups":["567be4e3-d171-46ce-9e8a-c15e91cfe86a","8edd3747-ccd4-49a1-82b9-a165eec314b4","6c2d4540-3b7d-4207-a319-a7231b439995","4940b983-5992-4663-bed9-d1d1e15d1009"],"status":"DOWN","tags":[],"updated_at":"2023-05-10T01:35:02","virsubnet_id":"3847b263-2370-45c0-8236-38a1de568049","vpc_id":null,"vpc_tenant_id":null,"vtep_ip":null,"zone_id":""},"request_id":"458691c0-7db2-43d8-9400-053800c5ff53"}},"schema":{"$ref":"#/definitions/AddSecurityGroupsResponseBody"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"500":{"description":"Internal Server Error"}},"summary":"端口插入安全组","tags":["端口"],"x-api-type":"open-api","x-apiexplorer-hide":"false","x-first-open-time":"","x-hybridcloud":"false","x-is-registered":"Y","x-name":"端口插入安全组","x-open-region-cloud":"hc,hk","x-order":9,"x-publishpath":"","x-request-examples-1":{"port":{"index":1,"security_groups":["8edd3747-ccd4-49a1-82b9-a165eec314b4","6c2d4540-3b7d-4207-a319-a7231b439995"]}},"x-request-examples-description-1":"指定端口插入安全组,端口99fd0c77-56b4-4bf6-8365-df352e45d5fc已关联的安全组列表为[\"567be4e3-d171-46ce-9e8a-c15e91cfe86a\", \"4940b983-5992-4663-bed9-d1d1e15d1009\"],要将新安全组插入到第1个安全组567be4e3-d171-46ce-9e8a-c15e91cfe86a后面,此时新安全组插入的index为1。","x-request-examples-text-1":"{\n        \"port\": {\n                \"security_groups\": [\n                        \"8edd3747-ccd4-49a1-82b9-a165eec314b4\",\n                        \"6c2d4540-3b7d-4207-a319-a7231b439995\"\n                ],\n                \"index\": 1\n        }\n}","x-request-examples-url-1":"PUT https://{Endpoint}/v3/f5dab68cd75740e68c599e9af5fe0aed/ports/99fd0c77-56b4-4bf6-8365-df352e45d5fc/insert-security-groups","x-scope":"Commercial","x-source":"SelfDeveloped","x-support-sdk":"Y","x-version":"v3"}}},"product_short":"VPC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"端口插入安全组","tags":"端口","uri":null,"version":"2.0"}