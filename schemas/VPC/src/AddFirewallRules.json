{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"AddFirewallRulesRequestBody":{"description":"This is a auto create Body Object","properties":{"firewall":{"$ref":"#/definitions/FirewallInsertRuleOption","description":"插入ACL的入方向、出方向规则","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso"}},"required":["firewall"]},"AddFirewallRulesResponseBody":{"description":"This is a auto create Response Object","properties":{"firewall":{"$ref":"#/definitions/FirewallDetail","description":"ACL插入规则后的详情"},"request_id":{"description":"请求ID","type":"string"}},"required":["firewall","request_id"]},"FirewallAssociation":{"description":"","properties":{"virsubnet_id":{"description":"功能说明:ACL绑定的子网ID","type":"string"}},"required":["virsubnet_id"]},"FirewallDetail":{"description":"","properties":{"admin_state_up":{"description":"功能说明:ACL是否开启\n取值范围:true表示ACL开启;false表示ACL关闭","type":"boolean"},"associations":{"description":"功能说明:ACL绑定的子网列表","items":{"$ref":"#/definitions/FirewallAssociation","description":""},"type":"array"},"created_at":{"description":"功能说明:ACL创建时间\n取值范围:UTC时间格式:yyyy-MM-ddTHH:mm:ss;系统自动生成","type":"string"},"description":{"description":"功能说明:ACL描述信息\n取值范围:0-255个字符\n约束:不能包含“<”和“>”。","type":"string"},"egress_rules":{"description":"功能说明:ACL出方向规则列表","items":{"$ref":"#/definitions/FirewallRuleDetail","description":""},"type":"array"},"enterprise_project_id":{"description":"功能说明:ACL企业项目ID。\n取值范围:最大长度36字节,带“-”连字符的UUID格式,或者是字符串“0”。“0”表示默认企业项目。","type":"string"},"id":{"description":"功能说明:ACL唯一标识\n取值范围:合法UUID的字符串","type":"string"},"ingress_rules":{"description":"功能说明:ACL入方向规则列表","items":{"$ref":"#/definitions/FirewallRuleDetail","description":""},"type":"array"},"name":{"description":"功能说明:ACL名称\n取值范围:0-64个字符,支持数字、字母、中文、_(下划线)、-(中划线)、.(点)","type":"string"},"project_id":{"description":"功能说明:资源所属项目ID","type":"string"},"status":{"description":"功能说明:网络ACL的状态","type":"string"},"tags":{"description":"功能描述:ACL资源标签","items":{"$ref":"#/definitions/ResourceTag","description":""},"type":"array"},"updated_at":{"description":"功能描述:ACL最近一次更新资源的时间\n取值范围:UTC时间格式:yyyy-MM-ddTHH:mm:ss;系统自动生成","type":"string"}},"required":["admin_state_up","associations","created_at","description","egress_rules","enterprise_project_id","id","ingress_rules","name","project_id","status","tags","updated_at"]},"FirewallInsertRuleItemOption":{"description":"","properties":{"action":{"description":"功能说明:ACL规则对流量执行的操作放通或拒绝\n取值范围:allow放通;deny拒绝","type":"string"},"description":{"description":"功能说明:ACL规则描述信息\n取值范围:0-255个字符\n约束:不能包含“<”和“>”。","type":"string"},"destination_address_group_id":{"description":"功能说明:ACL规则的目的地址组ID\n约束:destination_ip_address和destination_address_group_id不能同时设置","type":"string"},"destination_ip_address":{"description":"功能说明:ACL规则目的IP地址或者CIDR\n约束:destination_ip_address和destination_address_group_id不能同时设置","type":"string"},"destination_port":{"description":"功能说明:ACL规则的目的端口\n取值范围:支持端口号,一段端口范围,多个以逗号分隔\n约束:支持的端口组的数量默认为20","type":"string"},"enabled":{"description":"功能说明:是否启用ACL规则。\n取值范围:true,表示启用;false,表示停用。\n默认值:true。","type":"boolean"},"ip_version":{"description":"功能说明:ACL规则的ip版本\n取值范围:4, 表示ipv4;6, 表示ipv6","format":"int32","type":"integer"},"name":{"description":"功能说明:ACL规则名称\n取值范围:0-64个字符,支持数字、字母、中文、_(下划线)、-(中划线)、.(点)","type":"string"},"protocol":{"description":"功能说明:ACL规则协议\n取值范围:支持tcp,udp,icmp,icmpv6或者协议号(0-255),any表示全部协议","type":"string"},"source_address_group_id":{"description":"功能说明:ACL规则的源地址组ID\n约束:source_ip_address和source_address_group_id不能同时设置","type":"string"},"source_ip_address":{"description":"功能说明:ACL规则源IP地址或者CIDR\n约束:source_ip_address和source_address_group_id不能同时设置","type":"string"},"source_port":{"description":"功能说明:ACL规则的源端口\n取值范围:支持端口号,一段端口范围,多个以逗号分隔\n约束:支持的端口组的数量默认为20","type":"string"}},"required":["action","ip_version","protocol"]},"FirewallInsertRuleOption":{"description":"","properties":{"egress_rules":{"description":"功能说明:ACL添加出方向规则列表","items":{"$ref":"#/definitions/FirewallInsertRuleItemOption","description":""},"type":"array"},"ingress_rules":{"description":"功能说明:ACL添加入方向规则列表","items":{"$ref":"#/definitions/FirewallInsertRuleItemOption","description":""},"type":"array"},"insert_after_rule":{"description":"功能说明:插入ACL的规则在入方向或者出方向某条规则位置后,不指定则在入方向或者出方向规则列表最前面插入规则\n约束:指定了insert_after_rule,ingress_rules和egress_rules只能同时设置一个,且该规则在入方向或者出方向规则中存在","type":"string"}}},"FirewallRuleDetail":{"description":"","properties":{"action":{"description":"功能说明:ACL规则对流量执行的操作放通或拒绝\n取值范围:allow放通;deny拒绝","type":"string"},"description":{"description":"功能说明:ACL规则描述信息\n取值范围:0-255个字符\n约束:不能包含“<”和“>”。","type":"string"},"destination_address_group_id":{"description":"功能说明:ACL规则的目的地址组ID\n约束:destination_ip_address和destination_address_group_id不能同时设置","type":"string"},"destination_ip_address":{"description":"功能说明:ACL规则目的IP地址或者CIDR\n约束:destination_ip_address和destination_address_group_id不能同时设置","type":"string"},"destination_port":{"description":"功能说明:ACL规则的目的端口\n取值范围:支持端口号,一段端口范围,多个以逗号分隔\n约束:支持的端口组的数量默认为20","type":"string"},"enabled":{"description":"功能说明:是否启用ACL规则。\n取值范围:true,表示启用;false,表示停用。\n默认值:true。","type":"boolean"},"id":{"description":"功能说明:ACL规则唯一标识\n取值范围:合法UUID的字符串","type":"string"},"ip_version":{"description":"功能说明:ACL规则的ip版本\n取值范围:4, 表示ipv4;6, 表示ipv6","format":"int32","type":"integer"},"name":{"description":"功能说明:ACL规则名称\n取值范围:0-64个字符,支持数字、字母、中文、_(下划线)、-(中划线)、.(点)","type":"string"},"project_id":{"description":"功能说明:资源所属项目ID","type":"string"},"protocol":{"description":"功能说明:ACL规则协议\n取值范围:支持TCP,UDP,ICMP, ICMPV6或者IP协议号(0-255)","type":"string"},"source_address_group_id":{"description":"功能说明:ACL规则的源地址组ID\n约束:source_ip_address和source_address_group_id不能同时设置","type":"string"},"source_ip_address":{"description":"功能说明:ACL规则源IP地址或者CIDR\n约束:source_ip_address和source_address_group_id不能同时设置","type":"string"},"source_port":{"description":"功能说明:ACL规则的源端口\n取值范围:支持端口号,一段端口范围,多个以逗号分隔\n约束:支持的端口组的数量默认为20","type":"string"}},"required":["action","description","destination_address_group_id","destination_ip_address","destination_port","enabled","id","ip_version","name","project_id","protocol","source_address_group_id","source_ip_address","source_port"]},"ResourceTag":{"description":"","properties":{"key":{"description":"功能说明:标签键\n约束:同一资源的key值不能重复。","maxLength":128,"minLength":1,"type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso"},"value":{"description":"功能说明:标签值","maxLength":255,"type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso"}},"required":["key","value"]}},"description":null,"group_id":"4784d190da9948c381c1603ddda2f4ff","host":"vpc.cn-north-4.myhuaweicloud.com","id":"825e455fa31446dfa0bf065bc2c8c6b4","info_version":"v3","method":"put","name":"AddFirewallRules","parameters":{},"paths":{"/v3/{project_id}/vpc/firewalls/{firewall_id}/insert-rules":{"put":{"consumes":[],"deprecated":false,"description":"网络ACL插入规则","operationId":"AddFirewallRules","parameters":[{"description":"This is a auto create Body Object","in":"body","name":"AddFirewallRulesRequestBody","required":true,"schema":{"$ref":"#/definitions/AddFirewallRulesRequestBody"}},{"description":"用户Token。\n获取Token,请参考《统一身份认证服务API参考》的“获取用户Token”章节。请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso","x-order":1},{"description":"网络ACL的唯一标识","in":"path","name":"firewall_id","pattern":"[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}","required":true,"type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso","x-order":3},{"description":"项目ID","in":"path","name":"project_id","pattern":"[0-9a-fA-F]{32}","required":true,"type":"string","x-admin":"False","x-internal":"False","x-open-region-cloud":"hc,hk,otc,tlf,ctc,hcso","x-order":2}],"produces":[],"responses":{"200":{"description":"OK","examples":{"application/json":{"firewall":{"admin_state_up":true,"associations":[{"virsubnet_id":"8359e5b0-353f-4ef3-a071-98e67a34a143"}],"created_at":"2022-04-07T07:30:46","description":"network_acl_test1","egress_rules":[{"action":"allow","description":"network_acl_rule test","destination_address_group_id":null,"destination_ip_address":"192.168.6.0/24","destination_port":"40-60,70-90","enabled":true,"id":"f9a7731d-5bd9-4250-a524-b9a076fd5629","ip_version":"4","name":"network_acl_rule test","project_id":"9476ea5a8a9849c38358e43c0c3a9e12","protocol":"tcp","source_address_group_id":null,"source_ip_address":"192.168.3.0/24","source_port":"30-40,60-90"}],"enterprise_project_id":"158ad39a-dab7-45a3-9b5a-2836b3cf93f9","id":"e9a7731d-5bd9-4250-a524-b9a076fd5629","ingress_rules":[{"action":"allow","description":"network_acl_rule test","destination_address_group_id":null,"destination_ip_address":"192.168.6.0/24","destination_port":"40-60,70-90","enabled":true,"id":"e9a7731d-5bd9-4250-a524-b9a076fd5629","ip_version":"4","name":"network_acl_rule test","project_id":"9476ea5a8a9849c38358e43c0c3a9e12","protocol":"tcp","source_address_group_id":null,"source_ip_address":"192.168.3.0/24","source_port":"30-40,60-90"}],"name":"network_acl_test1","project_id":"9476ea5a8a9849c38358e43c0c3a9e12","status":"ACTIVE","tags":[],"updated_at":"2022-04-07T07:30:46"}}},"schema":{"$ref":"#/definitions/AddFirewallRulesResponseBody"}}},"summary":"网络ACL插入规则","tags":["网络ACL"],"x-apiexplorer-hide":"false","x-constraint":"","x-first-open-time":"","x-hybridcloud":"","x-is-registered":"Y","x-name":"网络ACL插入规则","x-open-region-cloud":"hc,hk,g42","x-order":7,"x-publishpath":"","x-request-examples-1":{"firewall":{"ingress_rules":[{"action":"allow","description":"network_acl_rule test","destination_address_group_id":null,"destination_ip_address":"192.168.6.0/24","destination_port":"40-60,70-90","ip_version":"4","name":"network_acl_rule test","protocol":"tcp","source_address_group_id":null,"source_ip_address":"192.168.3.0/24","source_port":"30-40,60-90"}],"insert_before_rule":"e9a7731d-5bd9-4250-a524-b9a076fd5630"}},"x-request-examples-2":{"firewall":{"egress_rules":[{"action":"allow","description":"network_acl_rule test","destination_address_group_id":null,"destination_ip_address":"192.168.6.0/24","destination_port":"40-60,70-90","ip_version":"4","name":"network_acl_rule test","protocol":"tcp","source_address_group_id":null,"source_ip_address":"192.168.3.0/24","source_port":"30-40,60-90"}],"insert_before_rule":"e9a7731d-5bd9-4250-a524-b9a076fd5630"}},"x-request-examples-description-1":"插入一条入方向规则到id为e9a7731d-5bd9-4250-a524-b9a076fd5629的网络ACL中,插入到规则e9a7731d-5bd9-4250-a524-b9a076fd5630之前。","x-request-examples-description-2":"插入一条出方向规则到id为e9a7731d-5bd9-4250-a524-b9a076fd5629的网络ACL中,插入到规则e9a7731d-5bd9-4250-a524-b9a076fd5630之前。","x-request-examples-text-1":"{\n    \"firewall\": {\n        \"ingress_rules\": [\n            {\n                \"name\": \"network_acl_rule test\",\n                \"description\": \"network_acl_rule test\",\n                \"action\": \"allow\",\n                \"protocol\": \"tcp\",\n                \"ip_version\": \"4\",\n                \"source_ip_address\": \"192.168.3.0/24\",\n                \"destination_ip_address\": \"192.168.6.0/24\",\n                \"source_port\": \"30-40,60-90\",\n                \"destination_port\": \"40-60,70-90\",\n                \"source_address_group_id\": null,\n                \"destination_address_group_id\": null\n            }\n        ],\n        \"insert_before_rule\": \"e9a7731d-5bd9-4250-a524-b9a076fd5630\"\n    }\n}","x-request-examples-text-2":"{\n    \"firewall\": {\n        \"egress_rules\": [\n            {\n                \"name\": \"network_acl_rule test\",\n                \"description\": \"network_acl_rule test\",\n                \"action\": \"allow\",\n                \"protocol\": \"tcp\",\n                \"ip_version\": \"4\",\n                \"source_ip_address\": \"192.168.3.0/24\",\n                \"destination_ip_address\": \"192.168.6.0/24\",\n                \"source_port\": \"30-40,60-90\",\n                \"destination_port\": \"40-60,70-90\",\n                \"source_address_group_id\": null,\n                \"destination_address_group_id\": null\n            }\n        ],\n        \"insert_before_rule\": \"e9a7731d-5bd9-4250-a524-b9a076fd5630\"\n    }\n}","x-request-examples-url-1":"PUT https://{Endpoint}/v3/{project_id}/vpc/firewalls/e9a7731d-5bd9-4250-a524-b9a076fd5629/insert-rules","x-request-examples-url-2":"PUT https://{Endpoint}/v3/{project_id}/vpc/firewalls/e9a7731d-5bd9-4250-a524-b9a076fd5629/insert-rules","x-scope":"Commercial","x-source":"SelfDeveloped","x-support-sdk":"Y"}}},"product_short":"VPC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"网络ACL插入规则","tags":"网络ACL","uri":null,"version":"2.0"}