{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"CreateGraphReq":{"description":"This is a auto create Body Object","properties":{"graph":{"$ref":"#/definitions/graph","description":"图类型。"}},"required":["graph"]},"CreateGraphResp":{"description":"This is a auto create Response Object","properties":{"errorCode":{"description":"系统提示信息,执行成功时,字段可能为空。执行失败时,用于显示错误码。","example":"GES.7022","type":"string"},"errorMessage":{"description":"系统提示信息,执行成功时,字段可能为空。执行失败时,用于显示错误信息。","example":"The security group does not exist","type":"string"},"id":{"description":"图ID。","type":"string"},"name":{"description":"图名称。","type":"string"}}},"SysTagsRes":{"properties":{"key":{"description":"企业项目的key填:_sys_enterprise_project_id。","type":"string"},"value":{"description":"企业项目的id。可以从企业项目获取。","type":"string"}}},"dataSource":{"description":"","properties":{"parameters":{"$ref":"#/definitions/parameters","description":"\t\n数据源参数。"},"type":{"description":"\t\n数据源类型。取值为OBS,且当前只支持OBS。","example":"OBS","type":"string"}},"required":["parameters","type"]},"encryptionReq":{"properties":{"enable":{"description":"是否启动加密特性。取值为“true”或者“false”。默认为“false”。","type":"boolean"},"masterKeyId":{"description":"与建图对应的project下,华为云数据加密服务创建的用户主密钥ID。","type":"string"}}},"graph":{"description":"","properties":{"arch":{"description":"图实例CPU架构类型,取值为x86_64和aarch64。默认取x86_64。\n- x86_64:X64 64位架构。\n- aarch64:ARM 64位架构。","example":"x86_64","type":"string"},"dataSource":{"$ref":"#/definitions/dataSource","description":"数据源。创建建空图时不设置该字段。"},"enableFullTextIndex":{"description":"创建的图是否开启全文索引控制,默认不启用,值为false。如果设置为true,十亿增强版-规格版图支持全文索引,创建图时会创建云搜索服务集群。\n>开启全文索引功能。如果CSS服务已经部署,图实例会自动创建CSS集群,图创建时间较长。如果CSS服务没有部署则图创建失败。","type":"boolean"},"enableMultiAz":{"description":"创建的图是否支持跨可用区(AZ),默认值是false,如果设置为true,系统将会把图中的ECS建在两个可用区中。\n\n如果创建图时,不加该参数,则会将图中的ECS都建在一个可用区中。","example":false,"type":"boolean"},"enableRBAC":{"description":"创建的图是否启用细粒度权限控制,默认不启用,值为false。如果设置为true,创建的图所有用户都没有权限,需要调用业务面细粒度权限控制API进行授权操作才可以访问图。","type":"boolean"},"encryption":{"$ref":"#/definitions/encryptionReq","description":"图实例是否加密,默认不加密。"},"graphSizeTypeIndex":{"description":"图规模类型索引。\n- 0:一万边\n- 1:百万边\n- 2:千万边\n- 3:一亿边\n- 4:十亿边\n- 5:百亿边\n- 401:十亿增强边","example":"1","type":"string"},"ltsOperationTrace":{"$ref":"#/definitions/ltsOperationTraceReq","description":"图实例是否开启审计日志,默认不开启"},"name":{"description":"图名称(输入长度在4位到50位之间,必须以字母开头,可以包含字母、数字或者下划线,不能包含其他的特殊字符)。","example":"demo","type":"string"},"publicIp":{"$ref":"#/definitions/publicIp","description":"\t\n公网IP地址,如果未指定,则默认不使用公网连接。"},"securityGroupId":{"description":"安全组ID。","type":"string"},"subnetId":{"description":"指定虚拟私有云下的子网ID。","type":"string"},"sys_tags":{"description":"企业项目信息,如果未指定则不开启,默认不开启。","items":{"$ref":"#/definitions/SysTagsRes"},"type":"array"},"vpcId":{"description":"\t\n虚拟私有云ID。","type":"string"}},"required":["graphSizeTypeIndex","name","securityGroupId","subnetId","vpcId"]},"ltsOperationTraceReq":{"properties":{"auditLogGroupName":{"description":"LTS日志组名称。","type":"string"},"enableAudit":{"description":"是否开启图审计,默认“false”。","type":"boolean"}}},"parallelEdge":{"description":"","properties":{"action":{"description":"处理方式,取值为allow,ignore和override,默认为allow。\n- allow表示允许重复边。\n- ignore表示忽略之后的重复边。\n- override表示覆盖之前的重复边。","type":"string"},"ignoreLabel":{"description":"重复边的定义,是否忽略Label。取值为true或者false,默认取true。\n- true 表示重复边定义不包含Label,即用<源点,终点>标记一条边,不包含Label。\n- false 表示重复边定义包含Label,即用<源点,终点,Label>标记一条边。","type":"boolean"}}},"parameters":{"description":"","properties":{"edgesetDefaultLabel":{"description":"边数据集默认标签,当前默认为空,可以不填。","type":"string"},"edgesetFormat":{"description":"边数据集格式。当前仅支持csv。\n\n默认为csv。","type":"string"},"edgesetPath":{"description":"边数据集文件OBS路径,只支持文件。","type":"string"},"logDir":{"description":"OBS日志存储目录,用于存储建图过程导入失败的数据和详细日志。","type":"string"},"parallelEdge":{"$ref":"#/definitions/parallelEdge","description":"重复边处理"},"schemaPath":{"description":"元数据文件OBS路径,只支持文件。","type":"string"},"vertexsetDefaultLabel":{"description":"点数据集默认标签,当前默认为空,可以不填。","type":"string"},"vertexsetFormat":{"description":"点数据集格式。当前仅支持csv。\n\n默认为csv。","type":"string"},"vertexsetPath":{"description":"点数据集OBS路径,只支持文件。","type":"string"}},"required":["edgesetPath","schemaPath"]},"publicIp":{"description":"","properties":{"eipId":{"description":"弹性IP的id,当publicBindType设置为bind_existing时,该值为用户某个已创建但尚未绑定的EIP的ID;当publicBindType设置为auto_assign时,该值设置为空。","type":"string"},"publicBindType":{"description":"弹性IP绑定类型,取值如下。\n- auto_assign:自动绑定。\n- bind_existing:使用已有。","type":"string"}}}},"description":null,"group_id":"131bf075090c4491a84736e0306111b5","host":"ges.cn-north-4.myhuaweicloud.com","id":"bb03ba83788f42669ce3b74427be72d2","info_version":"v1","method":"post","name":"CreateGraph","parameters":{"X-Auth-Token":{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-order":1},"project_id":{"description":"项目编号,用于资源隔离。","in":"path","name":"project_id","required":true,"type":"string","x-order":2}},"paths":{"/v1.0/{project_id}/graphs":{"post":{"consumes":[],"deprecated":false,"description":"创建一个图。","operationId":"CreateGraph","parameters":[{"$ref":"#/parameters/X-Auth-Token"},{"$ref":"#/parameters/project_id"},{"in":"body","name":"CreateGraphReq","required":true,"schema":{"$ref":"#/definitions/CreateGraphReq"}}],"produces":[],"responses":{"200":{"description":"OK","examples":{"application/json":{"id":"f1529b88-c958-493e-8452-fccfe932cde1","name":"demo"}},"schema":{"$ref":"#/definitions/CreateGraphResp"}}},"summary":"创建图(2.2.2)","tags":["图管理API"],"x-apiErrorCodes":[{"errorCode":"GES.0001","errorDescription":"","errorDescriptionEn":"","errorMessage":"参数错误","httpStatus":"400","solution":"1. 检查URL中的ProjectID或者GraphID是否正确\n2. 检查请求头是否正确,比如X-Auth-Token是否正确","solutionEn":""},{"errorCode":"GES.7004","errorDescription":"","errorDescriptionEn":"","errorMessage":"IAAS层组件故障","httpStatus":"400","solution":"查看IAM、VPC、ECS、OBS等IAAS层组件是否有故障","solutionEn":""},{"errorCode":"GES.7012","errorDescription":"","errorDescriptionEn":"","errorMessage":"图名称校验失败","httpStatus":"400","solution":"请检查图名称,只能以字母开头,由英文字母、数字、下划线组成,且长度位于4~64之间","solutionEn":""},{"errorCode":"GES.7013","errorDescription":"","errorDescriptionEn":"","errorMessage":"图名称已存在","httpStatus":"400","solution":"1.调用图查询接口,查询所有的图\n2. 查询上述返回图列表,检查请求体里面的name字段的值是否已经存在","solutionEn":""},{"errorCode":"GES.7016","errorDescription":"","errorDescriptionEn":"","errorMessage":"请求体或者请求头不合法","httpStatus":"400","solution":"请检查API参考文档,确保请求体和请求头中的每个配置项都严格按照参考文档来配置","solutionEn":""},{"errorCode":"GES.7018","errorDescription":"","errorDescriptionEn":"","errorMessage":"图个数或者边个数达到配额","httpStatus":"400","solution":"请调用查询配额接口,查看图是否还有可用配额","solutionEn":""},{"errorCode":"GES.7020","errorDescription":"","errorDescriptionEn":"","errorMessage":"VPC不存在","httpStatus":"400","solution":"查看请求体的虚拟私有云ID是否存在","solutionEn":""},{"errorCode":"GES.7021","errorDescription":"","errorDescriptionEn":"","errorMessage":"指定的VPC下子网不存在","httpStatus":"400","solution":"查看请求体的子网ID是否不存在,或者是否不属于上述的虚拟私有云","solutionEn":""},{"errorCode":"GES.7022","errorDescription":"","errorDescriptionEn":"","errorMessage":"安全组不存在","httpStatus":"400","solution":"查看请求体的安全组ID是否存在","solutionEn":""},{"errorCode":"GES.7023","errorDescription":"","errorDescriptionEn":"","errorMessage":"图规模类型索引不合法","httpStatus":"400","solution":"查看请求体的图规模类型索引是否合法","solutionEn":""},{"errorCode":"GES.7027","errorDescription":"","errorDescriptionEn":"","errorMessage":"委托创建失败","httpStatus":"400","solution":"查看errorMessage获取具体信息","solutionEn":""},{"errorCode":"GES.7028","errorDescription":"","errorDescriptionEn":"","errorMessage":"委托授权失败","httpStatus":"400","solution":"查看errorMessage获取具体信息","solutionEn":""},{"errorCode":"GES.7029","errorDescription":"","errorDescriptionEn":"","errorMessage":"委托超过配额限制","httpStatus":"400","solution":"在IAM界面查看委托是否达到配额限制","solutionEn":""},{"errorCode":"GES.7030","errorDescription":"","errorDescriptionEn":"","errorMessage":"委托查询出错","httpStatus":"400","solution":"查看errorMessage获取具体信息","solutionEn":""},{"errorCode":"GES.7031","errorDescription":"","errorDescriptionEn":"","errorMessage":"弹性IP绑定类型不合法","httpStatus":"400","solution":"确认弹性IP绑定类型,取值如下:\n    auto_assign:自动绑定\n    bind_existing:使用已有","solutionEn":""},{"errorCode":"GES.7032","errorDescription":"","errorDescriptionEn":"","errorMessage":"弹性IP超过配额限制","httpStatus":"400","solution":"在VPC弹性公网IP界面查看是否达到配额限制","solutionEn":""},{"errorCode":"GES.7033","errorDescription":"","errorDescriptionEn":"","errorMessage":"弹性IP ID不合法","httpStatus":"400","solution":"如果弹性IP绑定类型选择\"bind_existing\",请确保eipId真实存在","solutionEn":""},{"errorCode":"GES.7034","errorDescription":"","errorDescriptionEn":"","errorMessage":"当前available zone已售罄","httpStatus":"400","solution":"请切换别的available zone后重试","solutionEn":""},{"errorCode":"GES.7035","errorDescription":"","errorDescriptionEn":"","errorMessage":"Region编码不合法","httpStatus":"400","solution":"确保输入正确的Region编码","solutionEn":""},{"errorCode":"GES.7041","errorDescription":"","errorDescriptionEn":"","errorMessage":"账号权限不足","httpStatus":"400","solution":"账号权限不足","solutionEn":""}],"x-constraint":"","x-ctc":"N","x-dest_url":"","x-ei-general-ai-release-status":"public","x-first_open_time":"","x-flow_control_group":"","x-fusioncloud":"","x-hc":"Y","x-hk":"Y","x-in_cli":"","x-is_calling":"Y","x-is_registered":"Y","x-multi_tenant_flow_time":"1","x-multi_tenant_flow_value":"200","x-name":"创建图(2.2.2)","x-obc":"N","x-order":5,"x-otc":"N","x-request-examples-1":{"enableMultiAz":false,"graph":{"dataSource":{"parameters":{"edgesetDefaultLabel":"","edgesetFormat":"csv","edgesetPath":"hkmovie/testcre/edges/edge.csv","logDir":"hkmovie/logdir","parallelEdge":{"action":"override","ignoreLabel":true},"schemaPath":"hkmovie/testcre/schema.xml","vertexsetDefaultLabel":"","vertexsetFormat":"csv","vertexsetPath":"hkmovie/testcre/vetexs/vertex.csv"},"type":"OBS"},"graphSizeTypeIndex":"1","name":"demo","publicIp":{"eipId":"30ef2d58-08a9-4481-b526-b2cbe67d020d","publicBindType":"bind_existing"},"securityGroupId":"11d27338-8649-4076-8579-5ebc1a60f79e","subnetId":"dc018ec3-67d1-46c9-b2fc-19d83367f4e2","vpcId":"2d8af840-fd57-4e3b-a8f1-cda0f55ccd99"}},"x-request-examples-description-1":"","x-request-examples-text-1":"{\n    \"graph\":{\n        \"name\":\"demo\",\n\t\"dataSource\": {\n\t\t\t\"type\": \"OBS\",\n\t\t\t\"parameters\": {\n\t\t\t\t\"schemaPath\": \"hkmovie/testcre/schema.xml\",\n\t\t\t\t\"edgesetPath\": \"hkmovie/testcre/edges/edge.csv\",\n\t\t\t\t\"edgesetFormat\": \"csv\",\n\t\t\t\t\"edgesetDefaultLabel\": \"\",\n\t\t\t\t\"vertexsetPath\": \"hkmovie/testcre/vetexs/vertex.csv\",\n\t\t\t\t\"vertexsetFormat\": \"csv\",\n\t\t\t\t\"vertexsetDefaultLabel\": \"\",\n\t\t\t\t\"logDir\": \"hkmovie/logdir\",\n                                \"parallelEdge\": { \n                                      \"action\":\"override\",\n                                      \"ignoreLabel\":true\n                                     }\n\t\t\t}\n        },\n        \"graphSizeTypeIndex\": \"1\",\n        \"vpcId\":\"2d8af840-fd57-4e3b-a8f1-cda0f55ccd99\",\n        \"subnetId\":\"dc018ec3-67d1-46c9-b2fc-19d83367f4e2\",\n        \"securityGroupId\":\"11d27338-8649-4076-8579-5ebc1a60f79e\",\n        \"publicIp\":{\n           \"publicBindType\":\"bind_existing\",\n           \"eipId\":\"30ef2d58-08a9-4481-b526-b2cbe67d020d\"\n        }\n    },\n   \"enableMultiAz\":false\n}","x-request-examples-url-1":"POST https://Endpoint/v1.0/{project_id}/graphs","x-scope":"Commercial","x-source":"","x-support-sdk":"Y","x-tenant_flow_time":"1","x-tenant_flow_value":"20","x-tlf":"N","x-un_cli":"","x-version":"v1.0"}}},"product_short":"GES","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建图(2.2.2)","tags":"图管理API","uri":null,"version":"2.0"}