{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CdmQueryJobsResponse":{"properties":{"jobs":{"description":"作业列表,请参见jobs参数说明","items":{"$ref":"#/definitions/Job"},"type":"array"},"page_no":{"description":"返回指定页号的作业","example":"1","format":"int32","type":"integer"},"page_size":{"description":"每页作业数","example":"10","format":"int32","type":"integer"},"total":{"description":"作业数,查询单个作业时为0","example":"1","format":"int32","type":"integer"}},"required":["jobs"]},"ConfigValues":{"properties":{"configs":{"description":"源连接参数、目的连接参数和作业任务参数,它们的配置数据结构相同,其中“inputs”里的参数不一样,详细请参见configs数据结构说明","items":{"$ref":"#/definitions/configs"},"type":"array"},"extended-configs":{"$ref":"#/definitions/extended-configs","description":"作业任务扩展参数,详细请参见extended-configs数据结构说明","type":"object"}},"required":["configs"],"type":"object"},"Input":{"properties":{"name":{"description":"参数名","example":"fromJobConfig.schemaName","type":"string"},"type":{"description":"值类型","example":"STRING","type":"string"},"value":{"description":"参数值","example":"rf_database","type":"string"}},"required":["name","value"]},"Job":{"properties":{"bytes_read":{"description":"读取字节","example":1521288,"format":"int64","type":"integer"},"bytes_written":{"description":"写入字节","example":1521288,"format":"int64","type":"integer"},"creation-date":{"description":"作业创建的时间,单位:毫秒。","example":1628327321403,"format":"int64","type":"integer"},"creation-user":{"description":"创建的用户。","example":"cdm","type":"string"},"delete_rows":{"description":"删除行数","example":1,"format":"int32","type":"integer"},"driver-config-values":{"$ref":"#/definitions/ConfigValues","description":"作业任务参数配置。"},"enabled":{"description":"是否激活连接","example":true,"type":"boolean"},"execute_create_date":{"description":"执行_创建_日期","example":1496654788622,"format":"int64","type":"integer"},"execute_start_date":{"description":"执行_开始_日期。","example":1496654788622,"format":"int64","type":"integer"},"execute_update_date":{"description":"执行_更新_日期。","example":1496654788622,"format":"int64","type":"integer"},"external_id":{"description":"外部ID。","example":"job_local1202051771_0002","type":"string"},"files_read":{"description":"已读文件数","example":1,"format":"int32","type":"integer"},"files_written":{"description":"写入文件数","example":1,"format":"int32","type":"integer"},"flag":{"description":"标记","example":0,"format":"int32","type":"integer"},"from-config-values":{"$ref":"#/definitions/ConfigValues","description":"源连接参数配置。"},"from-connector-name":{"description":"源端连接类型","example":"generic-jdbc-connector","type":"string"},"from-link-name":{"description":"源连接名称","example":"mysql_link","type":"string"},"group_name":{"description":"组_名称","example":"DEFAULT","type":"string"},"id":{"description":"作业ID","example":1,"format":"int32","type":"integer"},"is_incre_job":{"description":"是否增量","example":false,"type":"boolean"},"is_incrementing":{"description":"是否增量","example":false,"type":"boolean"},"is_use_sql":{"description":"用户是否使用sql","example":false,"type":"boolean"},"job_type":{"description":"作业类型:\n- NORMAL_JOB:表/文件迁移。\n- BATCH_JOB:整库迁移。\n- SCENARIO_JOB:场景迁移。","enum":["NORMAL_JOB","BATCH_JOB","SCENARIO_JOB"],"example":"NORMAL_JOB","type":"string"},"name":{"description":"作业名称,长度在1到240个字符之间","example":"mysql2hive","maxLength":240,"minLength":1,"type":"string"},"rows_read":{"description":"读取的行数","example":60,"format":"int64","type":"integer"},"rows_written":{"description":"写入行数","example":1,"format":"int32","type":"integer"},"status":{"description":"作业最后的执行状态:\n- BOOTING:启动中。\n- RUNNING:运行中。\n- SUCCEEDED:成功。\n- FAILED:失败。\n- NEW:未被执行。","example":"BOOTING","type":"string"},"to-config-values":{"$ref":"#/definitions/ConfigValues","description":"目的连接参数配置。"},"to-connector-name":{"description":"目的端连接类型","example":"generic-jdbc-connector","type":"string"},"to-link-name":{"description":"目的端连接名称","example":"hive_link","type":"string"},"type":{"description":"作业类型","example":"NORMAL_JOB","type":"string"},"update-date":{"description":"作业最后更新的时间,单位:毫秒。","example":1628327531681,"format":"int64","type":"integer"},"update-user":{"description":"作业最后更新的用户。","example":"cdm","type":"string"},"update_rows":{"description":"更新行数","example":1,"format":"int32","type":"integer"},"write_rows":{"description":"写入数据行数","example":1,"format":"int32","type":"integer"}},"required":["from-connector-name","to-config-values","to-link-name","driver-config-values","from-config-values"]},"configs":{"properties":{"id":{"description":"配置ID","example":79,"format":"int32","type":"integer"},"inputs":{"description":"输入参数列表,列表中的每个参数为“name,value”结构,请参考inputs数据结构参数说明。在“from-config-values”数据结构中,不同的源连接类型有不同的“inputs”参数列表,请参见源端作业参数说明下的章节。在“to-cofig-values”数据结构中,不同的目的连接类型有不同的“inputs”参数列表,请参见目的端作业参数说明下面的子章节。在“driver-config-values”数据结构中,“inputs”具体参数请参见作业任务参数说明。","items":{"$ref":"#/definitions/Input"},"type":"array"},"name":{"description":"配置名称:源端作业的配置名称为“fromJobConfig”。目的端作业的配置名称为“toJobConfig”,连接的配置名称固定为“linkConfig”。","example":"fromJobConfig","type":"string"},"type":{"description":"配置类型","example":"link","type":"string"}},"required":["inputs","name"]},"extended-configs":{"properties":{"name":{"description":"扩展参数属性名称","example":"toJobConfig.extendedFields","type":"string"},"value":{"description":"cdm-base64编码后的值","example":"e30=","type":"string"}}}},"description":null,"group_id":"a0ab3a188181459e93ca94db31e45dc5","host":"cdm.cn-north-4.myhuaweicloud.com","id":"ac6075db4ad544c0925ef50e37a01636","info_version":"v1","method":"get","name":"ShowJobs","parameters":{},"paths":{"/v1.1/{project_id}/clusters/{cluster_id}/cdm/job/{job_name}":{"get":{"consumes":[],"description":"查询作业接口。","operationId":"ShowJobs","parameters":[{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string"},{"description":"集群ID","in":"path","name":"cluster_id","required":true,"type":"string"},{"description":"查询多个作业用all,查询单个作业输入作业名","in":"path","name":"job_name","required":true,"type":"string"},{"description":"当“job_name”为“all”时,此参数用于模糊过滤作业","in":"query","name":"filter","type":"string"},{"description":"指定作业页号","format":"int32","in":"query","minimum":1,"name":"page_no","type":"integer"},{"description":"每页作业数,值在10-100之间","format":"int32","in":"query","maximum":100,"minimum":10,"name":"page_size","type":"integer"},{"description":"作业类型:\n- jobType=NORMAL_JOB:表示查询表/文件迁移的作业。\n- jobType=BATCH_JOB:表示查询整库迁移的作业。\n- jobType=SCENARIO_JOB:表示查询场景迁移的作业。\n- 不指定该参数时,默认只查询表/文件迁移的作业。","enum":["NORMAL_JOB","BATCH_JOB","SCENARIO_JOB"],"in":"query","name":"jobType","type":"string"},{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX...","x-order":1}],"produces":[],"responses":{"200":{"description":"ok","examples":{"application/json":{"jobs":[{"driver-config-values":{"configs":[{"inputs":[{"name":"throttlingConfig.numExtractors","value":"1"},{"name":"throttlingConfig.submitToCluster","value":"false"},{"name":"throttlingConfig.numLoaders","value":"1"},{"name":"throttlingConfig.recordDirtyData","value":"false"}],"name":"throttlingConfig"},{"inputs":{},"name":"jarConfig"},{"inputs":[{"name":"schedulerConfig.isSchedulerJob","value":"false"},{"name":"schedulerConfig.disposableType","value":"NONE"}],"name":"schedulerConfig"},{"inputs":{},"name":"transformConfig"},{"inputs":[{"name":"retryJobConfig.retryJobType","value":"NONE"}],"name":"retryJobConfig"}]},"from-config-values":{"configs":[{"inputs":[{"name":"fromJobConfig.index","value":"52est"},{"name":"fromJobConfig.type","value":"est_array"},{"name":"fromJobConfig.columnList","value":"array_f1_int:long&array_f2_text:string&array_f3_object:nested"},{"name":"fromJobConfig.splitNestedField","value":"false"}],"name":"fromJobConfig"}]},"from-connector-name":"elasticsearch-connector","from-link-name":"css","job_type":"NORMAL_JOB","name":"es_css","to-config-values":{"configs":[{"inputs":[{"name":"toJobConfig.streamName","value":"dis-lkGm"},{"name":"toJobConfig.separator","value":"|"},{"name":"toJobConfig.columnList","value":"1&2&3"}],"name":"toJobConfig"}]},"to-connector-name":"dis-connector","to-link-name":"dis"}],"page_no":1,"page_size":10,"total":1}},"schema":{"$ref":"#/definitions/CdmQueryJobsResponse"}}},"summary":"查询作业","tags":["作业管理"],"x-name":"查询作业","x-order":1,"x-request-examples-url-1":"GET /v1.1/1551c7f6c808414d8e9f3c514a170f2e/clusters/6ec9a0a4-76be-4262-8697-e7af1fac7920/cdm/job/all?jobType=NORMAL_JOB","x-support-sdk":"Y","x-version":"v1.1"}}},"product_short":"CDM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询作业","tags":"作业管理","uri":null,"version":"2.0"}