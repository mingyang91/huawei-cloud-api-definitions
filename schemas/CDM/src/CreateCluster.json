{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CdmCreateClusterRepsonse":{"properties":{"datastore":{"$ref":"#/definitions/Datastore","description":"集群信息","type":"object"},"id":{"description":"集群ID","example":"7d85f602-a948-4a30-afd4-e84f47471c15","type":"string"},"instances":{"description":"集群的节点信息","items":{"$ref":"#/definitions/ClusterInstance"},"type":"array"},"name":{"description":"集群名称","example":"cdm-ab82","type":"string"},"task":{"$ref":"#/definitions/Task","description":"任务信息","type":"object"}}},"CdmCreateClusterReq":{"properties":{"auto_remind":{"description":"选择是否开启消息通知。开启后,支持配置5个手机号码或邮箱,作业(目前仅支持表/文件迁移的作业)失败时、EIP异常时会发送短信或邮件通知用户","example":false,"type":"boolean"},"cluster":{"description":"集群对象,请参见cluster参数说明","properties":{"datastore":{"$ref":"#/definitions/Datastore","description":"集群信息,请参见•datastore参数说明","type":"object"},"extended_properties":{"$ref":"#/definitions/ExtendedProperties","description":"扩展属性,请参见•extended_properties参数说明","type":"object"},"instances":{"description":"节点列表,请参见instances参数说明","items":{"$ref":"#/definitions/instance"},"type":"array"},"isAutoOff":{"description":"选择是否启用自动关机功能,自动关机功能和定时开关机功能不可同时开启。如果选择自动关机,则当集群中无作业运行且无定时作业时,等待15分钟后集群将自动关机来帮您节约成本","example":false,"type":"boolean"},"isScheduleBootOff":{"description":"选择是否启用定时开关机功能。定时开关机功能和自动关机功能不可同时开启","example":false,"type":"boolean"},"name":{"description":"集群名称","example":"cdm-ab82","type":"string"},"scheduleBootTime":{"description":"定时开机的时间,CDM集群会在每天这个时间开机","example":"","type":"string"},"scheduleOffTime":{"description":"定时关机的时间,定时关机时系统不会等待未完成的作业执行完成","example":"","type":"string"},"sys_tags":{"description":"企业项目信息,请参见•sys_tags参数说明","items":{"$ref":"#/definitions/sys_tags"},"type":"array"},"vpcId":{"description":"指定虚拟私有云ID,用于集群网络配置","example":"67c06084-2212-4242-bcd4-d2144c2385a9","type":"string"}},"type":"object"},"email":{"description":"接收消息通知的邮箱","example":"123@huawei.com","type":"string"},"phone_num":{"description":"接收消息通知的手机号码","example":"138xxxx8888","type":"string"}},"required":["cluster"]},"ClusterInstance":{"description":"集群的节点信息","properties":{"id":{"description":"节点的虚拟机ID。","type":"string"},"name":{"description":"节点的虚拟机名称。","type":"string"},"shard_id":{"description":"分片ID","type":"string"},"type":{"description":"节点类型,只支持一种类型“cdm”。","type":"string"}}},"Datastore":{"description":"cdm信息","example":{"type":"cdm","version":"2.9.1.200"},"properties":{"type":{"description":"类型,一般为cdm。","type":"string"},"version":{"description":"集群版本。","type":"string"}}},"ExtendedProperties":{"description":"集群扩展信息","example":{"resourceId":"41324ff8ae741679d47c9a3f6delf3f","trial":"false","workSpaceId":"7567534786684995b70734cf7aef9a5e"},"properties":{"resourceId":{"description":"资源ID。","type":"string"},"trial":{"description":"是否是试用集群。","type":"string"},"workSpaceId":{"description":"工作空间ID。","type":"string"}}},"Task":{"description":"任务信息","properties":{"id":{"description":"任务id","type":"string"},"name":{"description":"任务名称","type":"string"}}},"instance":{"properties":{"availability_zone":{"description":"集群的可用分区","example":"cn-north-1b","type":"string"},"flavorRef":{"description":"实例规格:\n- a79fd5ae-1833-448a-88e8-3ea2b913e1f6:表示cdm.small规格,2核CPU、4G内存的虚拟机。适合PoC验证和开发测试。\n- fb8fe666-6734-4b11-bc6c-43d11db3c745:表示cdm.medium规格,4核CPU、8G内存的虚拟机适合单张表规模<1000万条的场景。\n- 5ddb1071-c5d7-40e0-a874-8a032e81a697:表示cdm.large规格,8核CPU、16G内存的虚拟机。适合单张表规模≥1000万条的场景。\n- 6ddb1072-c5d7-40e0-a874-8a032e81a698:表示cdm.xlarge规格,16核CPU、32G内存的虚拟机。需要10GE高速带宽进行TB以上的数据量迁移时使用","example":"a79fd5ae-1833-448a-88e8-3ea2b913e1f6","type":"string"},"nics":{"description":"网卡列表,最多两个网卡。请参见•nics参数说明","items":{"$ref":"#/definitions/nics"},"type":"array"},"type":{"description":"节点类型,当前只有“cdm”一种类型","example":"cdm","type":"string"}},"required":["flavorRef","nics","availability_zone","type"]},"nics":{"properties":{"net-id":{"description":"子网ID","example":"2d120298-6130-44d4-a438-454912fff901","type":"string"},"securityGroupId":{"description":"安全组ID","example":"c37852d2-2d12-41cb-af47-65c80e995c80","type":"string"}},"required":["net-id","securityGroupId"]},"sys_tags":{"properties":{"key":{"description":"该值目前固定为“_sys_enterprise_project_id”","example":"_sys_enterprise_project_id","type":"string"},"value":{"description":"企业项目ID","example":"1ce45885-4033-40d2-bdde-d4dbaceb387d","type":"string"}},"required":["value","key"]}},"description":null,"group_id":"a0ab3a188181459e93ca94db31e45dc5","host":"cdm.cn-north-4.myhuaweicloud.com","id":"f7f4ca7b75ee46fe997ff6a3131929d9","info_version":"v1","method":"post","name":"CreateCluster","parameters":{},"paths":{"/v1.1/{project_id}/clusters":{"post":{"consumes":[],"description":"创建集群接口。","operationId":"CreateCluster","parameters":[{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string"},{"description":"创建集群请求JSON体","in":"body","name":"CdmCreateClusterReq","required":true,"schema":{"$ref":"#/definitions/CdmCreateClusterReq"}},{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX...","x-order":1},{"description":"请求语言。","in":"header","name":"X-Language","required":true,"type":"string","x-example":"zh_cn","x-order":2}],"produces":[],"responses":{"202":{"description":"Accepted","examples":{"application/json":{"datastore":{"type":"cdm","version":"2.9.1.100"},"id":"befc862c-9286-46a0-a1d6-300d98b63aad","instances":[{"id":"b2672e7d-2faf-423f-96bb-0664cd743cfd","name":"cdm-4ef213-cdm-dn-1-1","shard_id":"dn-1","type":"cdm"}],"name":"cdm-4ef213","task":{"id":"2c9080047f1b1185017f1ef6ad0500ac","name":"rdsCreateBackupJob"}}},"schema":{"$ref":"#/definitions/CdmCreateClusterRepsonse"}},"400":{"description":"请求错误"},"401":{"description":"鉴权失败"},"403":{"description":"没有操作权限"},"404":{"description":"找不到资源"},"500":{"description":"服务内部接口异常"},"503":{"description":"服务不可用"}},"summary":"创建集群","tags":["集群管理"],"x-name":"创建集群","x-order":1,"x-request-examples-1":{"auto_remind":false,"cluster":{"datastore":{"type":"cdm","version":"1.8.10"},"instances":[{"availability_zone":"cn-north-1b","flavorRef":"5ddb1071-c5d7-40e0-a874-8a032e81a697","nics":[{"net-id":"2d120298-6130-44d4-a438-454912fff901","securityGroupId":"c37852d2-2d12-41cb-af47-65c80e995c80"}],"type":"cdm"}],"isAutoOff":false,"isScheduleBootOff":false,"name":"cdm-ab82","scheduleBootTime":"","scheduleOffTime":"","sys_tags":[{"key":"_sys_enterprise_project_id","value":"1ce45885-4033-40d2-bdde-d4dbaceb387d"}],"vpcId":"67c06084-2212-4242-bcd4-d2144c2385a9"},"email":"","phone_num":""},"x-request-examples-url-1":"POST /v1.1/1551c7f6c808414d8e9f3c514a170f2e/clusters","x-support-sdk":"Y","x-version":"v1.1"}}},"product_short":"CDM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建集群","tags":"集群管理","uri":null,"version":"2.0"}