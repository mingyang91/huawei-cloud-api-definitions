{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ActionProgress":{"description":"集群操作进度,任务信息,由key、value组成。key值为正在进行的任务,value值为正在进行任务的进度。示例如 \"action_progress\":{\"SNAPSHOTTING\":\"16%\"}","properties":{"CREATING":{"description":"创建集群进度,例如:29%","example":"29%","type":"string"},"GROWING":{"description":"扩容集群进度,例如:29%","example":"29%","type":"string"},"REPAIRING":{"description":"修复集群进度,例如:29%","example":"29%","type":"string"},"RESTORING":{"description":"恢复集群进度,例如:29%","example":"29%","type":"string"},"SNAPSHOTTING":{"description":"集群快照进度,例如:29%","example":"29%","type":"string"}}},"CdmQueryClusterDetailsRepsonse":{"properties":{"actionProgress":{"$ref":"#/definitions/ActionProgress","type":"object"},"actions":{"description":"集群配置状态:In-Sync:配置已同步。Applying:配置中。Sync-Failure:配置失败","example":"In-Sync","items":{"type":"string"},"type":"array"},"azName":{"description":"az名称","type":"string"},"bakExpectedStartTime":{"description":"开始时间","type":"string"},"bakKeepDay":{"description":"保留时间","format":"int32","type":"integer"},"clusterMode":{"description":"集群模式:sharding(分片集群)","type":"string"},"config_status":{"description":"集群配置状态:\n- In-Sync:配置已同步。\n- Applying:配置中。\n- Sync-Failure:配置失败","example":"In-Sync","type":"string"},"created":{"description":"集群创建时间,格式为ISO8601:YYYY-MM-DDThh:mm:ssZ","example":"2018-09-05T08:38:25","type":"string"},"customerConfig":{"$ref":"#/definitions/CustomerConfig","type":"object"},"datastore":{"$ref":"#/definitions/Datastore","type":"object"},"dbuser":{"description":"数据库用户","type":"string"},"eipId":{"description":"弹性ip id","type":"string"},"endpointDomainName":{"description":"对端域名","type":"string"},"failedReasons":{"$ref":"#/definitions/FailedReasons","type":"object"},"flavorName":{"description":"规格名称","type":"string"},"id":{"description":"集群ID","example":"bae65496-643e-47ca-84af-948672de7eeb","type":"string"},"instances":{"description":"集群的节点信息,请参见instances参数说明","items":{"$ref":"#/definitions/ClusterDetailInstance"},"type":"array"},"isAutoOff":{"description":"自动关机","type":"boolean"},"isFrozen":{"description":"集群是否冻结:0:否1:是","example":"0","type":"string"},"isScheduleBootOff":{"description":"选择是否启用定时开关机功能。定时开关机功能和自动关机功能不可同时开启","type":"boolean"},"links":{"items":{"$ref":"#/definitions/ClusterLinks"},"type":"array"},"maintainWindow":{"description":"维护窗口","properties":{"day":{"description":"周几","type":"string"},"endTime":{"description":"结束时间。","type":"string"},"startTime":{"description":"开始时间。","type":"string"}},"type":"object"},"name":{"description":"集群名称","example":"cdm-c018","type":"string"},"namespace":{"description":"命名空间","type":"string"},"publicEndpoint":{"description":"集群绑定的EIP","example":"10.xx.xx.100","type":"string"},"publicEndpointDomainName":{"description":"集群绑定的EIP域名","type":"string"},"publicEndpointStatus":{"description":"EIP状态信息","properties":{"errorMessage":{"description":"错误信息","type":"string"},"status":{"description":"状态","type":"string"}},"type":"object"},"recentEvent":{"description":"事件数","format":"int32","type":"integer"},"security_group_id":{"description":"安全组id","type":"string"},"status":{"description":"集群状态:\n- 100:创建中\n- 200:正常\n- 300:失败\n- 303:创建失败\n- 800:冻结\n- 900:已关机\n- 910:正在关机\n- 920:正在开机","example":"200","type":"string"},"statusDetail":{"description":"集群状态描述:Normal(正常)","example":"","type":"string"},"subnet_id":{"description":"子网id","type":"string"},"task":{"$ref":"#/definitions/ClusterTask","description":"任务信息","type":"object"},"updated":{"description":"集群更新时间,格式为 ISO8601:YYYY-MM-DDThh:mm:ssZ","example":"2018-09-05T08:38:25","type":"string"},"vpc_id":{"description":"虚拟私有云ID","type":"string"}},"required":["version","instances","updated","name","created","id","status","isFrozen"]},"ClusterDetailInstance":{"properties":{"actions":{"description":"节点操作状态列表:\n- REBOOTING:重启中。\n- RESTORING:恢复中。\n- REBOOT_FAILURE:重启失败。","items":{"type":"string"},"type":"array"},"components":{"description":"组件","type":"string"},"config_status":{"description":"节点配置状态(查询集群列表时为null):\n- In-Sync:配置已同步。\n- Applying:配置中。\n- Sync-Failure:配置失败。","type":"string"},"flavor":{"description":"节点的虚拟机规格,请参见flavor参数说明(查询集群列表时返回值为null)。","properties":{"id":{"description":"节点虚拟机的规格ID。","type":"string"},"links":{"description":"链接信息","items":{"$ref":"#/definitions/ClusterLinks"},"type":"array"}},"type":"object"},"group":{"description":"分组","type":"string"},"id":{"description":"节点的虚拟机ID。","type":"string"},"internal_ip":{"description":"内部ip","type":"string"},"isFrozen":{"description":"节点是否冻结:0:否。1:是。","type":"string"},"links":{"description":"链接信息(查询集群列表时返回值为null)","items":{"$ref":"#/definitions/ClusterLinks"},"type":"array"},"manageIp":{"description":"管理ip","type":"string"},"manage_fix_ip":{"description":"管理修复ip","type":"string"},"name":{"description":"节点的虚拟机名称。","type":"string"},"paramsGroupId":{"description":"组件分组id","type":"string"},"private_ip":{"description":"私有ip","type":"string"},"publicIp":{"description":"公网ip","type":"string"},"resource":{"description":"资源信息(查询集群列表时返回值为null)","items":{"$ref":"#/definitions/Resource"},"type":"array"},"role":{"description":"实例角色","type":"string"},"shard_id":{"description":"分片id","type":"string"},"status":{"description":"节点状态:\n- 100:创建中。\n- 200:正常。\n- 300:失败。\n- 303:创建失败。\n- 400:已删除。\n- 800:冻结。","type":"string"},"trafficIp":{"description":"流量ip","type":"string"},"type":{"description":"节点类型,只支持一种类型“cdm”。","type":"string"},"volume":{"description":"节点的磁盘信息,请参见volume参数说明(查询集群列表时返回值为null)。","properties":{"size":{"description":"节点磁盘大小,单位G。","format":"int64","type":"integer"},"type":{"description":"节点的磁盘类型,只支持本地磁盘","type":"string"}},"type":"object"}},"required":["flavor","volume","status","type","id","name","isFrozen"]},"ClusterLinks":{"description":"集群连接信息","properties":{"href":{"description":"链接地址","type":"string"},"rel":{"description":"关系","type":"string"}}},"ClusterTask":{"description":"任务信息","properties":{"description":{"description":"任务描述","type":"string"},"id":{"description":"任务id","type":"string"},"name":{"description":"任务名称","type":"string"}}},"CustomerConfig":{"description":"用户配置信息","properties":{"clusterName":{"description":"集群类型。","type":"string"},"createFrom":{"description":"创建来源","type":"string"},"failureRemind":{"description":"失败提醒。","type":"string"},"flavorType":{"description":"规格类型","type":"string"},"localDisk":{"description":"是否本地磁盘。","type":"string"},"resourceId":{"description":"资源ID","type":"string"},"serviceProvider":{"description":"服务提供","type":"string"},"ssl":{"description":"是否使用ssl。","type":"string"},"trial":{"description":"适用","type":"string"},"workSpaceId":{"description":"工作空间ID","type":"string"}}},"Datastore":{"description":"cdm信息","example":{"type":"cdm","version":"2.9.1.200"},"properties":{"type":{"description":"类型,一般为cdm。","type":"string"},"version":{"description":"集群版本。","type":"string"}}},"FailedReasons":{"description":"失败原因。集群处于正常状态时不返回。","properties":{"CREATE_FAILED":{"description":"集群创建失败原因。","properties":{"errorCode":{"description":"错误码","type":"string"},"errorMsg":{"description":"失败原因","type":"string"}},"type":"object"}},"type":"object"},"Resource":{"properties":{"resource_id":{"description":"资源id","type":"string"},"resource_type":{"description":"资源类型:server(服务器)","type":"string"}}}},"description":null,"group_id":"a0ab3a188181459e93ca94db31e45dc5","host":"cdm.cn-north-4.myhuaweicloud.com","id":"4ec66bd9cf2f42edbc4d8f0e3538b191","info_version":"v1","method":"get","name":"ShowClusterDetail","parameters":{},"paths":{"/v1.1/{project_id}/clusters/{cluster_id}":{"get":{"consumes":[],"description":"查询集群详情接口。","operationId":"ShowClusterDetail","parameters":[{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string"},{"description":"集群ID","in":"path","name":"cluster_id","required":true,"type":"string"},{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX...","x-order":1}],"produces":[],"responses":{"200":{"description":"ok","examples":{"application/json":{"actionProgress":{},"actions":"REBOOTING","created":"2018-09-05T08:38:25","id":"bae65496-643e-47ca-84af-948672de7eeb","instances":[{"actions":"REBOOTING","config_status":"In-Sync","flavor":{"id":"fb8fe666-6734-4b11-bc6c-43d11db3c745"},"id":"635dce67-3df8-4756-b4c7-90e45e687367","isFrozen":"0","name":"cdm-c018","status":"200","type":"cdm","volume":{"size":"100","type":"LOCAL_DISK"}}],"isFrozen":"0","name":"cdm-c018","publicEndpoint":"49.xx.xx.10","status":"200","statusDetail":"Normal","updated":"2018-09-05T08:38:25"}},"schema":{"$ref":"#/definitions/CdmQueryClusterDetailsRepsonse"}},"400":{"description":"请求错误"},"401":{"description":"鉴权失败"},"403":{"description":"没有操作权限"},"404":{"description":"找不到资源"},"500":{"description":"服务内部错误,具体返回错误码请参考错误码"},"503":{"description":"服务不可用"}},"summary":"查询集群详情","tags":["集群管理"],"x-name":"查询集群详情","x-order":1,"x-request-examples-url-1":"GET /v1.1/1551c7f6c808414d8e9f3c514a170f2e/clusters/bae65496-643e-47ca-84af-948672de7eeb","x-support-sdk":"Y","x-version":"v1.1"}}},"product_short":"CDM","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询集群详情","tags":"集群管理","uri":null,"version":"2.0"}