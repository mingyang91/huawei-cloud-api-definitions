{"base_path":null,"components":{"parameters":{"AuthToken":{"description":"用户Token。\n获取Token,请参考《统一身份认证服务API参考》的“获取用户Token”章节。请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。","in":"header","name":"X-Auth-Token","required":true,"schema":{"type":"string"}},"DomainId":{"description":"帐号ID","in":"path","name":"domain_id","required":true,"schema":{"maxLength":36,"pattern":"[\\w-]+","type":"string"}}},"schemas":{"ErrorResp":{"description":"异常错误","properties":{"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误消息内容","type":"string"}},"type":"object"},"PolicyResource":{"description":"资源","properties":{"domain_id":{"description":"资源所属用户ID","type":"string"},"region_id":{"description":"区域id","type":"string"},"resource_id":{"description":"资源id","readOnly":true,"type":"string"},"resource_name":{"description":"资源名称","type":"string"},"resource_provider":{"description":"云服务名称","type":"string"},"resource_type":{"description":"资源类型","readOnly":true,"type":"string"}},"type":"object"},"PolicyState":{"description":"合规状态","properties":{"compliance_state":{"description":"合规状态","type":"string"},"domain_id":{"description":"用户ID","type":"string"},"evaluation_time":{"description":"合规状态评估时间","type":"string"},"policy_assignment_id":{"description":"规则ID","type":"string"},"policy_assignment_name":{"description":"规则名称","type":"string"},"policy_definition_id":{"description":"策略ID","type":"string"},"region_id":{"description":"资源区域ID","type":"string"},"resource_id":{"description":"资源ID","type":"string"},"resource_name":{"description":"资源名称","type":"string"},"resource_provider":{"description":"云服务名称","type":"string"},"resource_type":{"description":"资源类型","type":"string"},"trigger_type":{"description":"触发器类型,可选值:resource, period","type":"string"}},"type":"object"},"PolicyStateRequestBody":{"description":"合规评估结果","properties":{"compliance_state":{"description":"合规状态","enum":["NonCompliant","Compliant"],"type":"string"},"evaluation_hash":{"description":"评估校验码","type":"string"},"evaluation_time":{"description":"合规状态评估时间","type":"string"},"policy_assignment_id":{"description":"规则ID","type":"string"},"policy_assignment_name":{"description":"规则名称","type":"string"},"policy_resource":{"$ref":"#/components/schemas/PolicyResource"},"trigger_type":{"description":"触发器类型","enum":["resource","period"],"type":"string"}},"required":["policy_resource","trigger_type","compliance_state","policy_assignment_id","evaluation_hash","evaluation_time"],"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"cad6b80b035b41d09866cb93e54bff47","host":"rms.myhuaweicloud.com","id":"98d98a9b1f1e4d6fbe92de8d7ee984f9","info_version":"v1","method":"put","name":"UpdatePolicyState","parameters":null,"paths":{"/v1/resource-manager/domains/{domain_id}/policy-states":{"put":{"description":"更新用户自定义合规规则的合规评估结果","operationId":"UpdatePolicyState","parameters":[{"$ref":"#/components/parameters/AuthToken"},{"$ref":"#/components/parameters/DomainId"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PolicyStateRequestBody"}}},"description":"合规评估结果。"},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PolicyState"}}},"description":"操作成功。"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResp"}}},"description":"输入参数不合法。"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResp"}}},"description":"用户认证失败或无操作权限。"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResp"}}},"description":"资源未找到"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResp"}}},"description":"服务器内部错误。"}},"security":[{"PkiTokenAuth":[]}],"summary":"更新合规评估结果","tags":["Policy"],"x-is-registered":"Y","x-publishpath":"rms_04_0515","x-support-sdk":"Y"}}},"product_short":"Config","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"更新合规评估结果","tags":"合规性","uri":null,"version":"3.0.0"}