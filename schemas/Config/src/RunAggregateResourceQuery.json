{"base_path":null,"components":{"parameters":{"AggregatorIdPath":{"description":"资源聚合器ID。","in":"path","name":"aggregator_id","required":true,"schema":{"maxLength":32,"pattern":"[\\w-]+","type":"string"}},"AuthToken":{"description":"用户Token。\n获取Token,请参考《统一身份认证服务API参考》的“获取用户Token”章节。请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。","in":"header","name":"X-Auth-Token","required":true,"schema":{"type":"string"}},"DomainId":{"description":"帐号ID","in":"path","name":"domain_id","required":true,"schema":{"maxLength":36,"pattern":"[\\w-]+","type":"string"}}},"schemas":{"ErrorResp":{"description":"异常错误","properties":{"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误消息内容","type":"string"}},"type":"object"},"QueryInfo":{"properties":{"select_fields":{"description":"ResourceQL 查询字段","items":{"description":"字段名","type":"string"},"type":"array"}},"type":"object"},"QueryRunRequestBody":{"properties":{"expression":{"description":"ResourceQL 表达式","maxLength":4096,"minLength":1,"type":"string"}},"required":["expression"]},"QueryRunResponse":{"properties":{"query_info":{"$ref":"#/components/schemas/QueryInfo"},"results":{"description":"ResourceQL 查询结果.","items":{"type":"object"},"type":"array"}},"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"cad6b80b035b41d09866cb93e54bff47","host":"rms.myhuaweicloud.com","id":"e00b804ffa864c10bf5406bfe68ff5a5","info_version":"v1","method":"post","name":"RunAggregateResourceQuery","parameters":null,"paths":{"/v1/resource-manager/domains/{domain_id}/aggregators/{aggregator_id}/run-query":{"post":{"description":"对指定聚合器执行高级查询。","operationId":"RunAggregateResourceQuery","parameters":[{"$ref":"#/components/parameters/AuthToken"},{"$ref":"#/components/parameters/DomainId"},{"$ref":"#/components/parameters/AggregatorIdPath"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QueryRunRequestBody"}}},"description":"请求参数"},"responses":{"200":{"content":{"application/json":{"example":{"query_info":{"select_fields":["id"]},"results":[{"id":"91252cc9-bfd9-0709-0912-56b397e0ba3f"}]},"schema":{"$ref":"#/components/schemas/QueryRunResponse"}}},"description":"操作成功。"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResp"}}},"description":"输入参数不合法。"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResp"}}},"description":"用户认证失败或无操作权限。"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResp"}}},"description":"服务器内部错误。"}},"security":[{"AccessKeyAuth":[]}],"summary":"对指定聚合器执行高级查询","tags":["Aggregator"],"x-is-registered":"Y","x-open-region-cloud":"hws,hws_hk","x-order":14,"x-request-examples-1":{"expression":"select id from aggregator_resources where provider = 'ecs' and type = 'cloudservers'"},"x-request-examples-description-1":"查询当前组织下所有虚拟机的ID。","x-request-examples-url-1":"POST https://{endpoint}/v1/resource-manager/domains/{domain_id}/aggregators/{aggregator_id}/run-query","x-support-sdk":"Y"}}},"product_short":"Config","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"对指定聚合器执行高级查询","tags":"聚合器","uri":null,"version":"3.0.0"}