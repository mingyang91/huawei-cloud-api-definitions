{"base_path":null,"components":{"parameters":{"DomainId":{"description":"帐号ID","in":"path","name":"domain_id","required":true,"schema":{"maxLength":36,"pattern":"[\\w-]+","type":"string"}},"Limit":{"description":"最大的返回数量","in":"query","name":"limit","required":false,"schema":{"default":200,"format":"int32","maximum":200,"minimum":1,"type":"integer"}},"Marker":{"description":"分页参数,通过上一个请求中返回的marker信息作为输入,获取当前页","in":"query","name":"marker","required":false,"schema":{"maxLength":400,"minLength":4,"pattern":"[A-Za-z0-9+/=%\\-_]+","type":"string"}},"PolicyAssignmentId":{"description":"规则ID","in":"path","name":"policy_assignment_id","required":true,"schema":{"maxLength":36,"pattern":"[\\w-]+","type":"string"}}},"schemas":{"ErrorResp":{"description":"异常错误","properties":{"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误消息内容","type":"string"}},"type":"object"},"PageInfo":{"description":"分页对象","properties":{"current_count":{"description":"当前页的资源数量","format":"int32","maximum":200,"minimum":0,"type":"integer"},"next_marker":{"description":"下一页的marker","type":"string"}},"type":"object"},"RemediationExecutionStatus":{"description":"指定资源合规规则修正最新执行结果。","properties":{"invocation_time":{"description":"补救执行的开始时间。","type":"string"},"message":{"description":"合规规则修正执行的信息。","type":"string"},"resource_key":{"$ref":"#/components/schemas/RemediationResourceKey"},"state":{"description":"合规规则修正执行的状态。","enum":["IN_QUEUE","IN_PROGRESS","SUCCEEDED","FAILED"],"type":"string"}},"type":"object"},"RemediationExecutionStatusesSummaryRequestBody":{"description":"合规规则最新修正记录查询条件。","properties":{"resource_keys":{"description":"合规规则最新修正记录查询条件列表。","items":{"$ref":"#/components/schemas/RemediationResourceKey"},"maxItems":100,"minItems":0,"type":"array"}},"required":["resource_keys"],"type":"object"},"RemediationExecutionStatusesSummaryResponse":{"description":"合规规则修正执行结果的详情。","properties":{"page_info":{"$ref":"#/components/schemas/PageInfo"},"value":{"description":"合规规则修正执行结果查询列表。","items":{"$ref":"#/components/schemas/RemediationExecutionStatus"},"type":"array"}},"type":"object"},"RemediationResourceKey":{"description":"合规规则修正记录查询条件详情。","properties":{"resource_id":{"description":"资源ID。","maxLength":512,"minLength":1,"pattern":"[_.:\\w-]+","type":"string"},"resource_provider":{"description":"云服务名称。","maxLength":128,"minLength":0,"pattern":"[\\w]*","type":"string"},"resource_type":{"description":"资源类型。","maxLength":128,"minLength":0,"pattern":"[\\w-]*","type":"string"}},"required":["resource_id","resource_provider","resource_type"],"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"cad6b80b035b41d09866cb93e54bff47","host":"rms.myhuaweicloud.com","id":"1811f558baa146d9bdfa1b9bf99afc1b","info_version":"v1","method":"post","name":"CollectRemediationExecutionStatusesSummary","parameters":null,"paths":{"/v1/resource-manager/domains/{domain_id}/policy-assignments/{policy_assignment_id}/remediation-execution-statuses/summary":{"post":{"description":"列举合规规则修正最新记录。","operationId":"CollectRemediationExecutionStatusesSummary","parameters":[{"$ref":"#/components/parameters/DomainId"},{"$ref":"#/components/parameters/PolicyAssignmentId"},{"$ref":"#/components/parameters/Limit"},{"$ref":"#/components/parameters/Marker"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RemediationExecutionStatusesSummaryRequestBody"}}}},"responses":{"200":{"content":{"application/json":{"example":{"page_info":{"current_count":2,"next_marker":null},"value":[{"invocation_time":"2024-01-17T09:39:19Z","message":"Execution success.","resource_key":{"resource_id":"resource_id1","resource_provider":"resource_provider1","resource_type":"resource_type1"},"state":"SUCCEEDED"},{"invocation_time":"2024-01-17T09:41:20Z","message":"You do not have the permission to invoke functionGraph.","resource_key":{"resource_id":"resource_id1","resource_provider":"resource_provider2","resource_type":"resource_type2"},"state":"FAILED"}]},"schema":{"$ref":"#/components/schemas/RemediationExecutionStatusesSummaryResponse"}}},"description":"操作成功。"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResp"}}},"description":"输入参数不合法。"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResp"}}},"description":"用户身份认证失败。"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResp"}}},"description":"资源未找到"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResp"}}},"description":"服务器内部错误。"}},"summary":"列举修正最新记录","tags":["Policy"],"x-is-registered":"Y","x-request-examples-1":{"resource_keys":[{"resource_id":"resource_id_1","resource_provider":"resource_provider_1","resource_type":"resource_type_1"},{"resource_id":"resource_id_2","resource_provider":"resource_provider_2","resource_type":"resource_type_2"}]},"x-request-examples-description-1":"查询指定资源最新的修正执行记录","x-request-examples-url-1":"POST https://{endpoint}/v1/resource-manager/domains/{domain_id}/policy-assignments/{policy_assignment_id}/remediation-execution-statuses/summary","x-support-sdk":"Y"}}},"product_short":"Config","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"列举修正最新记录","tags":"合规性","uri":null,"version":"3.0.0"}