{"base_path":null,"components":{"parameters":{"AuthToken":{"description":"用户Token。\n获取Token,请参考《统一身份认证服务API参考》的“获取用户Token”章节。请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。","in":"header","name":"X-Auth-Token","required":true,"schema":{"type":"string"}},"DomainId":{"description":"帐号ID","in":"path","name":"domain_id","required":true,"schema":{"maxLength":36,"pattern":"[\\w-]+","type":"string"}},"Marker":{"description":"分页参数,通过上一个请求中返回的marker信息作为输入,获取当前页","in":"query","name":"marker","required":false,"schema":{"maxLength":400,"minLength":4,"pattern":"[A-Za-z0-9+/=%\\-_]+","type":"string"}},"RelationLimit":{"description":"最大的返回数量","in":"query","name":"limit","required":false,"schema":{"default":20,"format":"int32","maximum":1000,"minimum":1,"type":"integer"}},"ResourceId":{"description":"资源ID","in":"path","name":"resource_id","required":true,"schema":{"maxLength":512,"pattern":"[_.:\\w-]+","type":"string"}}},"schemas":{"ErrorResp":{"description":"异常错误","properties":{"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误消息内容","type":"string"}},"type":"object"},"PageInfo":{"description":"分页对象","properties":{"current_count":{"description":"当前页的资源数量","format":"int32","maximum":200,"minimum":0,"type":"integer"},"next_marker":{"description":"下一页的marker","type":"string"}},"type":"object"},"ResourceRelation":{"properties":{"from_resource_id":{"description":"源资源ID","type":"string"},"from_resource_type":{"description":"源资源类型","type":"string"},"relation_type":{"description":"关系类型","type":"string"},"to_resource_id":{"description":"目的资源ID","type":"string"},"to_resource_type":{"description":"目的资源类型","type":"string"}},"type":"object"},"ResourceRelationResponse":{"properties":{"page_info":{"$ref":"#/components/schemas/PageInfo"},"relations":{"description":"资源关系列表","items":{"$ref":"#/components/schemas/ResourceRelation"},"type":"array"}},"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"cad6b80b035b41d09866cb93e54bff47","host":"rms.myhuaweicloud.com","id":"93a1948b126e4851aaf6aec308a9563e","info_version":"v1","method":"get","name":"ShowResourceRelations","parameters":null,"paths":{"/v1/resource-manager/domains/{domain_id}/resources/{resource_id}/relations":{"get":{"description":"指定资源ID,查询该资源与其他资源的关联关系,可以指定关系方向为\"in\" 或者\"out\"","operationId":"ShowResourceRelations","parameters":[{"$ref":"#/components/parameters/AuthToken"},{"$ref":"#/components/parameters/DomainId"},{"$ref":"#/components/parameters/ResourceId"},{"description":"资源关系的指向","in":"query","name":"direction","required":true,"schema":{"enum":["in","out"],"type":"string"}},{"$ref":"#/components/parameters/RelationLimit"},{"$ref":"#/components/parameters/Marker"}],"responses":{"200":{"content":{"application/json":{"example":{"page_info":{"current_count":5,"next_marker":null},"relations":[{"from_resource_id":"6af96128-d58d-426c-91e0-b38144c0f112","from_resource_type":"ecs.cloudservers","relation_type":"isAttachedTo","to_resource_id":"0075ed19-59dd-49be-961d-117bb6fbfd3e","to_resource_type":"evs.volumes"},{"from_resource_id":"6af96128-d58d-426c-91e0-b38144c0f112","from_resource_type":"ecs.cloudservers","relation_type":"contains","to_resource_id":"3813d6d3-ef88-47b1-b343-cdf6390c6dcb","to_resource_type":"vpc.publicips"},{"from_resource_id":"6af96128-d58d-426c-91e0-b38144c0f112","from_resource_type":"ecs.cloudservers","relation_type":"isAssociatedWith","to_resource_id":"8cca3002-00af-4812-a853-b7a6fbee06a4","to_resource_type":"vpc.securityGroups"},{"from_resource_id":"6af96128-d58d-426c-91e0-b38144c0f112","from_resource_type":"ecs.cloudservers","relation_type":"isAttachedTo","to_resource_id":"f4a107eb-4c6d-4dc8-88d8-de337923956f","to_resource_type":"evs.volumes"},{"from_resource_id":"6af96128-d58d-426c-91e0-b38144c0f112","from_resource_type":"ecs.cloudservers","relation_type":"isContainedIn","to_resource_id":"ff13d70d-17e5-4ec8-945a-c874e0db99d3","to_resource_type":"vpc.vpcs"}]},"schema":{"$ref":"#/components/schemas/ResourceRelationResponse"}}},"description":"操作成功"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResp"}}},"description":"输入参数不合法"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResp"}}},"description":"用户认证失败"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResp"}}},"description":"资源未找到"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResp"}}},"description":"服务器内部错误"}},"security":[{"PkiTokenAuth":[]}],"summary":"列举资源关系","tags":["Relations"],"x-is-registered":"Y","x-publishpath":"rms_04_0301","x-request-examples-description-1":"","x-request-examples-url-1":"GET https://{endpoint}/v1/resource-manager/domains/{domain_id}/resources/{resource_id}/relations?direction=out&limit=1000","x-support-sdk":"Y"}}},"product_short":"Config","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"列举资源关系","tags":"资源关系","uri":null,"version":"3.0.0"}