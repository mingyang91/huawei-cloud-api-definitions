{"base_path":"/","components":null,"consumes":"","definitions":{"StartTimeInfo":{"description":"任务开始运行时间信息","properties":{"day_time_frame":{"description":"每天运行时间段","items":{"$ref":"#/definitions/TimeFrame"},"type":"array"},"frequency":{"description":"任务运行频率(定时任务频率,每天运行还是单次运行)","type":"string"},"mode":{"description":"任务运行模式(按时间段运行还是按频率运行)","type":"string"},"single_time_frame":{"description":"每次运行时间段","items":{"$ref":"#/definitions/TimeFrame"},"type":"array"},"start_time":{"description":"任务启动时间","type":"string"}},"required":["start_time"],"type":"object"},"TaskData":{"properties":{"source_usage_estimate":{"$ref":"#/definitions/TaskSourceUsageEstimate","description":"资源消耗"},"start_time_info":{"$ref":"#/definitions/StartTimeInfo","description":"任务启动信息"},"streams":{"description":"作业流详情","items":{"$ref":"#/definitions/TaskStream"},"type":"array"},"task_id":{"description":"作业id","type":"string"}},"required":["streams"],"title":"TaskData","type":"object"},"TaskIdResponse":{"description":"创建,删除,编辑作业时的响应","properties":{"task_id":{"description":"作业id","type":"string"}}},"TaskInput":{"description":"作业具体输入数据","properties":{"data":{"description":"输入数据","type":"object"},"type":{"description":"输入类型","type":"string"}},"required":["data","type"],"title":"TaskInput"},"TaskOutputs":{"description":"作业具体输出数据","properties":{"data":{"description":"输出数据","type":"object"},"type":{"description":"输出类型","type":"string"}},"required":["data","type"],"title":"TaskOutputs"},"TaskRequest":{"description":"创建或更新作业请求体","properties":{"business":{"description":"作业动作,创建作业或者是删除作业又或是更新作业等","type":"string"},"data":{"$ref":"#/definitions/TaskData","description":"作业详情"},"description":{"description":"作业描述","type":"string"},"instance_id":{"description":"实例ID,非必选","type":"string"},"name":{"description":"作业名称","type":"string"},"timestamp":{"description":"时间戳,非必选","type":"string"}},"required":["data","name"],"title":"TaskRequest"},"TaskSourceUsageEstimate":{"description":"计算资源","properties":{"cpu":{"description":"cpu消耗","format":"float","type":"number"},"memory":{"description":"内存消耗","format":"int32","type":"integer"}},"required":["cpu","memory"],"type":"object"},"TaskStream":{"description":"作业流参数","properties":{"common":{"description":"作业参数配置","type":"object"},"input":{"$ref":"#/definitions/TaskInput","description":"输入详情"},"outputs":{"description":"输出详情","items":{"$ref":"#/definitions/TaskOutputs"},"type":"array"}},"required":["input","outputs"],"title":"TaskStreams"},"TimeFrame":{"description":"定时任务时间段信息","properties":{"start":{"description":"任务开始时间","type":"string"},"stop":{"description":"任务结束时间","type":"string"}},"required":["start","stop"],"type":"object"}},"description":null,"group_id":"3309a57eaa6041a7a890c458be112fe2","host":"hilens.cn-north-4.myhuaweicloud.com","id":"90ef3c72c31f4813a6cdc3e244721ad0","info_version":"v3","method":"post","name":"CreateTask","parameters":{},"paths":{"/v3/{project_id}/ai-mgr/deployments/{deployment_id}/tasks":{"post":{"consumes":["application/json"],"description":"创建作业。","operationId":"CreateTask","parameters":[{"description":"租户Token。获取方法请参见[获取Token](https://support.huaweicloud.com/api-iam/iam_30_0001.html)","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"部署ID,从专业版HiLens控制台部署管理[获取部署列表](getDeploymentListUsingGET.xml)获取","in":"path","name":"deployment_id","required":true,"type":"string"},{"description":"项目ID。获取方法请参见[获取项目ID](hilens_07_0020.xml)","in":"path","name":"project_id","required":true,"type":"string"},{"description":"创建作业请求体","in":"body","name":"taskRequest","required":true,"schema":{"$ref":"#/definitions/TaskRequest"}}],"produces":["*/*"],"responses":{"200":{"description":"请求成功","examples":{"application/json":{"task_id":"string"}},"schema":{"$ref":"#/definitions/TaskIdResponse"}},"201":{"description":"Created"},"401":{"description":"认证不通过"},"403":{"description":"拒绝执行请求"},"404":{"description":"请求的资源不存在"},"500":{"description":"服务器内部错误"}},"summary":"创建作业","tags":["作业管理"],"x-is-registered":"Y","x-open-region-cloud":"hc","x-request-examples-1":"Request Header:\nContent-Type: application/json\nX-Auth-Token: MIINRwYJKoZIhvcNAQcCoIINODCCDTQCAQExDTALBglghkgBZQMEAgEwgguVBgkqhkiG...\nRequest Body:\n{\n  \"business\": \"string\",\n  \"data\": {\n    \"streams\": [\n      {\n        \"common\": {},\n        \"input\": {\n          \"data\": {},\n          \"type\": \"string\"\n        },\n        \"outputs\": [\n          {\n            \"data\": {},\n            \"type\": \"string\"\n          }\n        ]\n      }\n    ],\n    \"task_id\": \"string\",\n    \"start_time_info\": {\n      \"start_time\": \"string\",\n      \"frequency\": \"string\",\n      \"mode\": \"string\",\n      \"day_time_frame\": [\n        {\n          \"start\": \"string\",\n          \"stop\": \"string\"\n        }\n      ],\n      \"single_time_frame\": [\n        {\n          \"start\": \"string\",\n          \"stop\": \"string\"\n        }\n      ]\n    },\n    \"task_source_usage_estimate\": {\n      \"cpu\": \"float\",\n      \"memory\": \"integer\"\n    }\n  },\n  \"description\": \"string\",\n  \"instance_id\": \"string\",\n  \"name\": \"string\",\n  \"timestamp\": \"string\"\n}","x-request-examples-description-1":"新建一个作业","x-request-examples-text-1":"Request Header:\nContent-Type: application/json\nX-Auth-Token: MIINRwYJKoZIhvcNAQcCoIINODCCDTQCAQExDTALBglghkgBZQMEAgEwgguVBgkqhkiG...\nRequest Body:\n{\n  \"business\": \"string\",\n  \"data\": {\n    \"streams\": [\n      {\n        \"common\": {},\n        \"input\": {\n          \"data\": {},\n          \"type\": \"string\"\n        },\n        \"outputs\": [\n          {\n            \"data\": {},\n            \"type\": \"string\"\n          }\n        ]\n      }\n    ],\n    \"task_id\": \"string\",\n    \"start_time_info\": {\n      \"start_time\": \"string\",\n      \"frequency\": \"string\",\n      \"mode\": \"string\",\n      \"day_time_frame\": [\n        {\n          \"start\": \"string\",\n          \"stop\": \"string\"\n        }\n      ],\n      \"single_time_frame\": [\n        {\n          \"start\": \"string\",\n          \"stop\": \"string\"\n        }\n      ]\n    },\n    \"task_source_usage_estimate\": {\n      \"cpu\": \"float\",\n      \"memory\": \"integer\"\n    }\n  },\n  \"description\": \"string\",\n  \"instance_id\": \"string\",\n  \"name\": \"string\",\n  \"timestamp\": \"string\"\n}","x-request-examples-url-1":"POST https://{endpoint}/v3/{project_id}/ai-mgr/deployments/{deployment_id}/tasks","x-support-sdk":"Y"}}},"product_short":"HiLens","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建作业","tags":"作业管理","uri":null,"version":"2.0"}