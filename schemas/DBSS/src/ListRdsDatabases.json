{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"DbssError":{"description":"异常消息体","properties":{"details":{"description":"PDP5鉴权异常信息","items":{"$ref":"#/definitions/DbssErrorDetail"},"maxItems":100,"minItems":0,"type":"array"},"encoded_authorization_message":{"description":"PDP5鉴权异常信息","example":"DBSS.00112233","maxLength":2097152,"minLength":0,"type":"string"},"error_code":{"description":"错误码","example":"DBSS.10020100","maxLength":2097152,"minLength":0,"type":"string"},"error_msg":{"description":"错误信息","example":"DBSS.00112233","maxLength":2097152,"minLength":0,"type":"string"}},"type":"object"},"DbssErrorDetail":{"properties":{"error_code":{"description":"错误码","example":"DBSS.00112233","maxLength":32,"minLength":0,"type":"string"},"error_msg":{"description":"PDP5错误信息","example":"DBSS.00112233","maxLength":2097152,"minLength":0,"type":"string"}},"type":"object"},"RdsDbListResponse":{"properties":{"databases":{"description":"rds数据库列表","items":{"properties":{"db_name":{"description":"数据库名称","example":"rds-cwx1216198","type":"string"},"enterprise_id":{"description":"企业项目ID","example":0,"type":"string"},"id":{"description":"ID","example":"5a5c4ca8b10f4b00bc88e03866fe3fd4in01","type":"string"},"instance_name":{"description":"rds实例名称","example":"rds-cwx1216198","type":"string"},"ip":{"description":"数据库IP","example":"192.168.0.159","type":"string"},"is_supported":{"description":"是否支持免agent审计","example":null,"type":"boolean"},"port":{"description":"数据库端口","example":3306,"type":"string"},"status":{"description":"实例状态。\n- BUILD:表示实例正在创建。\n- ACTIVE:表示实例正常。\n- FAILED:表示实例异常。\n- FROZEN:表示实例冻结。\n- MODIFYING:表示实例正在扩容。\n- REBOOTING:表示实例正在重启。\n- RESTORING:表示实例正在恢复。\n- MODIFYING INSTANCE TYPE:表示实例正在转主备。\n- SWITCHOVER:表示实例正在主备切换。\n- MIGRATING:表示实例正在迁移。\n- BACKING UP:表示实例正在进行备份。\n- MODIFYING DATABASE PORT:表示实例正在修改数据库端口。\n- STORAGE FULL:表示实例磁盘空间满。","example":"ACTIVE","type":"string"},"type":{"description":"数据库类型\n- MYSQL\n- ORACLE\n- POSTGRESQL\n- SQLSERVER\n- DAMENG\n- TAURUS\n- DWS\n- KINGBASE\n- MARIADB\n- GAUSSDBOPENGAUSS","example":"MySQL","type":"string"},"version":{"description":"版本","example":5.7,"type":"string"}},"required":["id","db_name","status","port","ip","type","version","is_supported"]},"type":"array"},"total_count":{"description":"总数","example":7,"format":"int32","type":"integer"}},"required":["databases","total_count"],"type":"object"}},"description":null,"group_id":"0ba875db15a142babc14f069c8b7c4f6","host":"dbss.cn-north-4.myhuaweicloud.com","id":"d1346ae0b1ec4bed98d65d92b44791d9","info_version":"v1","method":"get","name":"ListRdsDatabases","parameters":{},"paths":{"/v2/{project_id}/audit/databases/rds":{"get":{"description":"查询RDS数据库列表","operationId":"ListRdsDatabases","parameters":[{"default":"xxxxxxxxxxxxxxxx","description":"**参数解释**:\n用户Token。 通过调用IAM服务查询用户Token接口获取(响应消息头中X-Subject-Token的值)。\n**约束限制**:\n不涉及\n**取值范围**:\nIAM服务查询用户Token接口为准\n**默认取值**:\n不涉及","in":"header","maxLength":2097152,"minLength":32,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"**参数解释**:\n项目ID。可通过IAM服务[查询指定IAM用户的项目列表]接口获取。\n**约束限制**:\n不涉及\n**取值范围**:\n以IAM服务接口返回值为准,字符长度32-64。\n**默认取值**:\n不涉及","in":"path","maxLength":64,"minLength":32,"name":"project_id","required":true,"type":"string"},{"description":"**参数解释**:\n数据库类型\n**约束限制**:\n区分大小写,只能传递取值范围内的值\n**取值范围**:\n  - MYSQL\n  - ORACLE\n  - POSTGRESQL\n  - SQLSERVER\n  - DAMENG\n  - TAURUS\n  - DWS\n  - KINGBASE\n  - MARIADB\n  - GAUSSDBOPENGAUSS\n**默认取值**:\n不涉及","enum":["MYSQL","ORACLE","POSTGRESQL","SQLSERVER","DAMENG","TAURUS","DWS","KINGBASE","MARIADB","GAUSSDBOPENGAUSS"],"in":"query","name":"db_type","required":true,"type":"string"},{"description":"**参数解释**:\n分页偏移量,从第一条数据偏移offset条数据后开始查询\n**约束限制**:\n仅支持大于等于0的整数\n**取值范围**:\n大于等于0\n**默认取值**:\n默认值为0","in":"query","name":"offset","required":false,"type":"string"},{"description":"**参数解释**:\n每页查询记录数。\n**约束限制**:\n仅支持大于0的整数\n**取值范围**:\n大于0小于等于10000\n**默认取值**:\n默认值为100","in":"query","name":"limit","required":false,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"成功","examples":{"application/json":{"databases":[{"db_name":"rds-cwx1216198","enterprise_id":"0","id":"5a5c4ca8b10f4b00bc88e03866fe3fd4in01","instance_name":"rds-cwx1216198","ip":"192.168.0.159","is_supported":null,"port":"3306","status":"ACTIVE","type":"MySQL","version":"5.7"},{"db_name":"rds-5c25","enterprise_id":"0","id":"3f1cfaac552e42f1bb9855993586076cin01","instance_name":"rds-5c25","ip":"192.168.0.14","is_supported":null,"port":"3306","status":"FROZEN","type":"MySQL","version":"5.7"}],"total_count":2}},"schema":{"$ref":"#/definitions/RdsDbListResponse"}},"400":{"description":"请求参数错误","schema":{"$ref":"#/definitions/DbssError"}},"403":{"description":"认证失败","schema":{"$ref":"#/definitions/DbssError"}},"500":{"description":"服务器内部错误","schema":{"$ref":"#/definitions/DbssError"}}},"summary":"查询RDS数据库列表","tags":["审计数据库"],"x-api-type":"open-api","x-hc":"Y","x-hcso":"Y","x-hk":"Y","x-is-registered":"Y","x-open-region-cloud":"hc,hk,hcso,sbc","x-order":1,"x-request-examples-url-1":"/v2/{project_id}/audit/databases/rds?db_type=MYSQL&offset=0&limit=10","x-sbc":"Y","x-support-sdk":"Y"}}},"product_short":"DBSS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询RDS数据库列表","tags":"审计数据库","uri":null,"version":"2.0"}