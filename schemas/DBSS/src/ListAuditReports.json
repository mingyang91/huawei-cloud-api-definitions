{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"DbssError":{"description":"异常消息体","properties":{"details":{"description":"PDP5鉴权异常信息","items":{"$ref":"#/definitions/DbssErrorDetail"},"maxItems":100,"minItems":0,"type":"array"},"encoded_authorization_message":{"description":"PDP5鉴权异常信息","example":"DBSS.00112233","maxLength":2097152,"minLength":0,"type":"string"},"error_code":{"description":"错误码","example":"DBSS.10020100","maxLength":2097152,"minLength":0,"type":"string"},"error_msg":{"description":"错误信息","example":"DBSS.00112233","maxLength":2097152,"minLength":0,"type":"string"}},"type":"object"},"DbssErrorDetail":{"properties":{"error_code":{"description":"错误码","example":"DBSS.00112233","maxLength":32,"minLength":0,"type":"string"},"error_msg":{"description":"PDP5错误信息","example":"DBSS.00112233","maxLength":2097152,"minLength":0,"type":"string"}},"type":"object"},"ReportBean":{"properties":{"db_ids":{"description":"数据库ID","example":"asdfasdfasd","type":"string"},"db_names":{"description":"数据库名称","example":"MySql-Test","type":"string"},"end_time":{"description":"结束时间","example":"2025-08-05 08:39:53","type":"string"},"finish_time":{"description":"完成时间","example":"2025-08-05 08:39:53","type":"string"},"format":{"description":"格式 \n- pdf: PDF文件 \n- zip: zip文件","example":"zip","type":"string"},"id":{"description":"报表ID","example":"ytjeZgBBt8O6JSxIFIq","maxLength":32,"minLength":0,"type":"string"},"name":{"description":"报表名称","example":"test report","type":"string"},"percentum":{"description":"进度","example":20,"format":"int32","type":"integer"},"start_time":{"description":"开始时间","example":"2025-08-05 08:39:53","type":"string"},"template_type":{"description":"报表类型\n- PDF\n- ZIP","example":"pdf","type":"string"},"type":{"description":"周期\n- AUDIT_REPORT_DAY: 按天\n- AUDIT_REPORT_WEEK: 按周\n- AUDIT_REPORT_MONTH: 按月\n- AUDIT_REPORT_YEAR:按年\n- AUDIT_REPORT_REAL_TIME:立即","example":"AUDIT_REPORT_REAL_TIME","type":"string"},"url":{"description":"地址URL","example":"/results/_ytjeZgBBt8O6JSxIFIq/download-report","type":"string"}},"type":"object"},"ReportGetReportsRequest":{"example":{"name":"test","page":1,"size":10},"properties":{"name":{"description":"报表名称","type":"string"},"page":{"description":"当前页码","format":"int32","type":"integer"},"size":{"description":"每页条数","format":"int32","type":"integer"}},"required":["page","size"],"type":"object"},"ReportGetReportsResponse":{"properties":{"reports":{"description":"报表对象列表","items":{"$ref":"#/definitions/ReportInfo"},"type":"array"},"total":{"description":"总记录数","format":"int64","type":"integer"}},"type":"object"},"ReportInfo":{"properties":{"report":{"$ref":"#/definitions/ReportBean","description":"报表对象"}},"type":"object"}},"description":null,"group_id":"0ba875db15a142babc14f069c8b7c4f6","host":"dbss.cn-north-4.myhuaweicloud.com","id":"f756889bac72464488d68f7afcdbeb1b","info_version":"v1","method":"post","name":"ListAuditReports","parameters":{},"paths":{"/v1/{project_id}/audit/{instance_id}/reports/list":{"post":{"consumes":["application/json"],"description":"查询报表","operationId":"ListAuditReports","parameters":[{"default":"xxxxxxxxxxxxxxxx","description":"**参数解释**:\n用户Token。 通过调用IAM服务查询用户Token接口获取(响应消息头中X-Subject-Token的值)。\n**约束限制**:\n不涉及\n**取值范围**:\nIAM服务查询用户Token接口为准\n**默认取值**:\n不涉及","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"**参数解释**:\n项目ID。可通过IAM服务[查询指定IAM用户的项目列表]接口获取。\n**约束限制**:\n不涉及\n**取值范围**:\n以IAM服务接口返回值为准,字符长度32-64。\n**默认取值**:\n不涉及","in":"path","maxLength":64,"minLength":32,"name":"project_id","required":true,"type":"string"},{"description":"**参数解释**:\n实例ID。可通过查询实例列表接口ID字段获取\n**约束限制**:\n不涉及\n**取值范围**:\n以查询实例列表接口值为准,字符长度32-64。\n**默认取值**:\n不涉及","in":"path","maxLength":64,"minLength":32,"name":"instance_id","required":true,"type":"string"},{"description":"查询报表请求体","in":"body","name":"ListAuditReportsRequestBody","required":true,"schema":{"$ref":"#/definitions/ReportGetReportsRequest"}}],"produces":["application/json"],"responses":{"200":{"description":"OK","examples":{"application/json":{"reports":[{"report":{"db_ids":"","db_names":"","end_time":"2025-08-21 07:03:31","finish_time":"2025-08-21 07:03:56","format":"pdf","id":"ocdwy5gBPj4d6CRt90sh","name":"数据库安全综合报表","percentum":100,"start_time":"2025-08-20 16:00:00","template_type":"COMPREHENSIVE","type":"AUDIT_REPORT_REAL_TIME","url":"/results/ocdwy5gBPj4d6CRt90sh/download-report"}}],"total":1}},"schema":{"$ref":"#/definitions/ReportGetReportsResponse"}},"400":{"description":"请求参数有误。","schema":{"$ref":"#/definitions/DbssError"}},"401":{"description":"认证失败","schema":{"$ref":"#/definitions/DbssError"}},"403":{"description":"未授权","schema":{"$ref":"#/definitions/DbssError"}},"500":{"description":"服务端错误","schema":{"$ref":"#/definitions/DbssError"}}},"summary":"查询报表","tags":["报表管理"],"x-api-type":"open-api","x-apigateway-backend":{"httpEndpoints":{"method":"POST","path":"/v1/{project_id}/audit/{instance_id}/reports/list"}},"x-is-registered":"Y","x-request-examples-1":{"page":1,"size":1},"x-request-examples-url-1":"/v1/{project_id}/audit/{instance_id}/reports/list","x-response-examples-1":{"reports":[{"report":{"db_ids":"","db_names":"","end_time":"2025-08-05 08:39:53","finish_time":"2025-08-05 08:40:02","format":"pdf","id":"_ytjeZgBBt8O6JSxIFIq","name":"数据库安全综合报表","percentum":100,"start_time":"2025-08-04 16:00:00","template_type":"COMPREHENSIVE","type":"AUDIT_REPORT_REAL_TIME","url":"/results/_ytjeZgBBt8O6JSxIFIq/download-report"}}],"total":1},"x-support-sdk":"Y"}}},"product_short":"DBSS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询报表","tags":"报表管理","uri":null,"version":"2.0"}