{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"DataBase":{"description":"数据库信息","properties":{"agent_url":{"description":"agent的唯一ID","items":{"type":"string"},"type":"array"},"audit_status":{"description":"数据库的运行状态\n- ACTIVE\n- SHUTOFF\n- ERROR","type":"string"},"charset":{"description":"数据库字符集\n- GBK\n- UTF8","type":"string"},"clouddb_obj_info":{"description":"云数据库信息,该字段已废弃。","type":"string"},"db_classification":{"description":"数据库分类\n- RDS: 表示RDS数据库\n- ECS:自建数据库","type":"string"},"dws_obj_info":{"description":"DWS数据库信息。","type":"string"},"id":{"description":"数据库ID","type":"string"},"instance_name":{"description":"数据库实例名","type":"string"},"ip":{"description":"数据库IP","type":"string"},"name":{"description":"数据库名称","type":"string"},"os":{"description":"数据库操作系统","type":"string"},"port":{"description":"数据库端口","type":"string"},"rds_audit_switch_mismatch":{"description":"rds实例审计开关状态不匹配。当数据库审计开启且rds侧日志上传开关关闭时该字段为true。","type":"boolean"},"rds_id":{"description":"RDS数据库的ID。","type":"string"},"rds_obj_info":{"description":"RDS数据库信息。","type":"string"},"status":{"description":"实例状态\n- ON :开启\n- OFF : 关闭","type":"string"},"type":{"description":"添加的数据库类型:\n- MYSQL\n- ORACLE\n- POSTGRESQL\n- SQLSERVER\n- DAMENG\n- TAURUS\n- DWS\n- KINGBASE\n- GAUSSDBOPENGAUSS\n- GREENPLUM\n- HIGHGO\n- SHENTONG\n- GBASE8A\n- GBASE8S\n- GBASEXDM\n- MONGODB\n- DDS","type":"string"},"version":{"description":"数据库版本","type":"string"}},"required":["name","type","version","charset","ip","port","os","status","instance_name","db_classification"],"type":"object"},"DataBaseBean":{"properties":{"database":{"$ref":"#/definitions/DataBase","description":"数据库信息"}},"required":["database"],"type":"object"},"DataBaseResponse":{"properties":{"databases":{"description":"数据库信息列表","items":{"$ref":"#/definitions/DataBaseBean"},"type":"array"},"total":{"description":"总数","format":"int32","type":"integer"}},"required":["databases","total"],"type":"object"},"Error":{"properties":{"error":{"description":"错误信息返回体。","items":{"$ref":"#/definitions/ErrorDetail"}}}},"ErrorDetail":{"properties":{"error_code":{"description":"错误请求返回的错误码。","maxLength":36,"minLength":3,"type":"string"},"error_msg":{"description":"错误请求返回的错误信息。","maxLength":1024,"minLength":0,"type":"string"}}}},"description":null,"group_id":"0ba875db15a142babc14f069c8b7c4f6","host":"dbss.cn-north-4.myhuaweicloud.com","id":"66da2ac9575a461fa06184b2777015a5","info_version":"v1","method":"get","name":"ListAuditDatabases","parameters":{},"paths":{"/v1/{project_id}/{instance_id}/dbss/audit/databases":{"get":{"description":"查询数据库列表","operationId":"ListAuditDatabases","parameters":[{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string"},{"description":"实例ID。可在查询实例列表接口的ID字段获取。","in":"path","name":"instance_id","required":true,"type":"string"},{"description":"用户Token。 通过调用IAM服务查询用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"实例状态\n- ON :开启\n- OFF : 关闭","in":"query","name":"status","required":false,"type":"string"},{"description":"偏移量,从第一条数据偏移offset条数据后开始查询,默认为0。","in":"query","name":"offset","required":false,"type":"string"},{"description":"查询记录数,默认为100。","in":"query","name":"limit","required":false,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"成功","examples":{"application/json":{"databases":[{"database":{"agent_url":["zrKw83gBCwCqSg3Bkt1P"],"audit_status":null,"charset":"UTF8","db_classification":"ECS","id":"zLKv83gBCwCqSg3BJt0m","instance_name":"","ip":"192.168.0.204","name":"db01","os":"LINUX64","port":"3306","status":"OFF","type":"MYSQL","version":"5.0"}}]}},"schema":{"$ref":"#/definitions/DataBaseResponse"}},"400":{"description":"请求参数错误","examples":{"application/json":{"error":{"error_code":"DBSS.XXXX","error_msg":"XXX"}}},"schema":{"$ref":"#/definitions/Error"}},"403":{"description":"认证失败","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"服务器内部错误","examples":{"application/json":{"error":{"error_code":"DBSS.XXXX","error_msg":"XXX"}}},"schema":{"$ref":"#/definitions/Error"}}},"summary":"查询数据库列表","tags":["审计数据库"],"x-hc":"Y","x-hcso":"Y","x-hk":"Y","x-is-registered":"Y","x-open-region-cloud":"hc,hk,hcso,sbc","x-order":0,"x-request-examples-url-1":"/v1/{project_id}/{instance_id}/dbss/audit/databases","x-sbc":"Y","x-support-sdk":"Y"}}},"product_short":"DBSS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询数据库列表","tags":"审计数据库","uri":null,"version":"2.0"}