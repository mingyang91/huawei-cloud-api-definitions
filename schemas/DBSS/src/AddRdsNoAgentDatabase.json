{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"DbssError":{"description":"异常消息体","properties":{"details":{"description":"PDP5鉴权异常信息","items":{"$ref":"#/definitions/DbssErrorDetail"},"maxItems":100,"minItems":0,"type":"array"},"encoded_authorization_message":{"description":"PDP5鉴权异常信息","example":"DBSS.00112233","maxLength":2097152,"minLength":0,"type":"string"},"error_code":{"description":"错误码","example":"DBSS.10020100","maxLength":2097152,"minLength":0,"type":"string"},"error_msg":{"description":"错误信息","example":"DBSS.00112233","maxLength":2097152,"minLength":0,"type":"string"}},"type":"object"},"DbssErrorDetail":{"properties":{"error_code":{"description":"错误码","example":"DBSS.00112233","maxLength":32,"minLength":0,"type":"string"},"error_msg":{"description":"PDP5错误信息","example":"DBSS.00112233","maxLength":2097152,"minLength":0,"type":"string"}},"type":"object"},"RdsNoAgentDbRequest":{"properties":{"databases":{"description":"添加数据库信息列表","items":{"properties":{"db_name":{"description":"数据库名称","example":"rds1","type":"string"},"enterprise_id":{"description":"企业项目ID","example":0,"type":"string"},"enterprise_name":{"description":"企业项目名称","example":"default","type":"string"},"id":{"description":"数据库ID","example":"123751d3ee2f47aea64822e98318c6a8in01","type":"string"},"instance_name":{"description":"数据库实例名称","example":"rds1","type":"string"},"ip":{"description":"数据库IP","example":"192.168.0.119","type":"string"},"port":{"description":"数据库端口","example":3306,"type":"string"},"status":{"description":"数据库状态\n- ON:启用\n- OFF:关闭","example":true,"type":"string"},"type":{"description":"数据库类型\n- MYSQL:MySQL\n- ORACLE:Oracle\n- POSTGRESQL:PostgreSQL\n- TAURUS:Taurus DB\n- DWS:GaussDB(DWS)\n- GAUSSDBOPENGAUSS:GaussDB/openGauss\n- DDS:DDS(MongoDB)","example":"MySQL","type":"string"},"version":{"description":"数据库版本","example":8.0,"type":"string"}},"required":["id","db_name","status","port","ip","instance_name","version","type","enterprise_id"]},"type":"array"},"total_count":{"description":"总数","format":"int32","type":"integer"}},"required":["databases"],"type":"object"},"RdsNoAgentDbResponse":{"properties":{"illegal_db_id":{"description":"添加失败的数据库实例id","items":{"type":"string"},"type":"array"},"legal_db_id":{"description":"添加成功的数据库实例id","example":["123751d3ee2f47aea64822e98318c6a8in01","2343f7285d684fed8b09fac201c3fc7ain01"],"items":{"type":"string"},"type":"array"}},"required":["illegal_db_id","legal_db_id"],"type":"object"}},"description":null,"group_id":"0ba875db15a142babc14f069c8b7c4f6","host":"dbss.cn-north-4.myhuaweicloud.com","id":"dba36598d3414c23ba484c5775e0f65b","info_version":"v1","method":"post","name":"AddRdsNoAgentDatabase","parameters":{},"paths":{"/v1/{project_id}/{instance_id}/dbss/audit/databases/rds":{"post":{"deprecated":true,"description":"添加RDS数据库。V1版本已不再维护,待下线","operationId":"AddRdsNoAgentDatabase","parameters":[{"default":"xxxxxxxxxxxxxxxx","description":"**参数解释**:\n用户Token。通过调用IAM服务查询用户Token接口获取(响应消息头中X-Subject-Token的值)。\n**约束限制**:\n不涉及\n**取值范围**:\nIAM服务查询用户Token接口为准\n**默认取值**:\n不涉及","in":"header","maxLength":2097152,"minLength":32,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"**参数解释**:\n项目ID。可通过IAM服务[查询指定IAM用户的项目列表]接口获取。\n**约束限制**:\n不涉及\n**取值范围**:\n以IAM服务接口返回值为准,字符长度32-64。\n**默认取值**:\n不涉及","in":"path","maxLength":64,"minLength":32,"name":"project_id","required":true,"type":"string"},{"description":"**参数解释**:\n实例ID。可通过查询实例列表接口ID字段获取\n**约束限制**:\n不涉及\n**取值范围**:\n以查询实例列表接口值为准,字符长度32-64。\n**默认取值**:\n不涉及","in":"path","maxLength":64,"minLength":32,"name":"instance_id","required":true,"type":"string"},{"description":"添加免agent数据库信息","in":"body","name":"AddRdsNoAgentDatabaseRequestBody","required":true,"schema":{"$ref":"#/definitions/RdsNoAgentDbRequest"}}],"produces":["application/json"],"responses":{"200":{"description":"成功","examples":{"application/json":{"illegal_db_id":[],"legal_db_id":["123751d3ee2f47aea64822e98318c6a8in01","2343f7285d684fed8b09fac201c3fc7ain01"]}},"schema":{"$ref":"#/definitions/RdsNoAgentDbResponse"}},"400":{"description":"失败","schema":{"$ref":"#/definitions/DbssError"}},"403":{"description":"认证失败","schema":{"$ref":"#/definitions/DbssError"}},"500":{"description":"服务端错误","schema":{"$ref":"#/definitions/DbssError"}}},"summary":"添加RDS数据库[待下线]","tags":["待下线接口"],"x-api-type":"open-api","x-apigateway-ratelimit":"YunTanRateLimitDefault","x-apigateway-request-type":"public","x-hc":"Y","x-hcso":"Y","x-hk":"Y","x-is-registered":"Y","x-open-region-cloud":"hc,hk,hcso,sbc","x-order":3,"x-request-examples-1":{"databases":[{"db_name":"rds1","enterprise_id":"0","enterprise_name":"default","id":"123751d3ee2f47aea64822e98318c6a8in01","instance_name":"rds1","ip":"192.168.0.119","port":"3306","status":"ACTIVE","type":"MySQL","version":"8.0"},{"db_name":"rds2","enterprise_id":"0","enterprise_name":"default","id":"2343f7285d684fed8b09fac201c3fc7ain01","instance_name":"rds2","ip":"192.168.0.92","port":"3306","status":"ACTIVE","type":"MySQL","version":"8.0"}]},"x-request-examples-text-1":{"databases":[{"db_name":"rds1","enterprise_id":"0","enterprise_name":"default","id":"123751d3ee2f47aea64822e98318c6a8in01","instance_name":"rds1","ip":"192.168.0.119","port":"3306","status":"ACTIVE","type":"MySQL","version":"8.0"},{"db_name":"rds2","enterprise_id":"0","enterprise_name":"default","id":"2343f7285d684fed8b09fac201c3fc7ain01","instance_name":"rds2","ip":"192.168.0.92","port":"3306","status":"ACTIVE","type":"MySQL","version":"8.0"}]},"x-request-examples-url-1":"/v1/{project_id}/{instance_id}/dbss/audit/databases/rds","x-sbc":"Y","x-support-sdk":"Y"}}},"product_short":"DBSS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"添加RDS数据库[待下线]","tags":"待下线接口","uri":null,"version":"2.0"}