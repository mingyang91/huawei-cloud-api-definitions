{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ConfigAlarmTopicRequest":{"properties":{"alarm_cpu":{"description":"CPU告警阈值(%)","example":80,"format":"int32","maximum":100,"minimum":1,"type":"integer"},"alarm_disk":{"description":"磁盘告警阈值(%)","example":80,"format":"int32","maximum":100,"minimum":1,"type":"integer"},"alarm_memory":{"description":"内存告警阈值(%)","example":80,"format":"int32","maximum":100,"minimum":1,"type":"integer"},"alarm_num":{"description":"每天发送告警总条数","example":10,"format":"int32","maximum":65535,"minimum":1,"type":"integer"},"alarm_risk":{"description":"告警等级,默认为空。\n- high:高 \n- medium:中 \n- low:低","items":{"maxLength":32,"minLength":0,"type":"string"},"maxItems":3,"minItems":0,"type":"array"},"alarm_switch":{"description":"通知开关\n- ON:开启 \n- OFF:关闭","maxLength":32,"minLength":0,"type":"string"},"alarm_topic_urn":{"description":"通知消息主题URN,调用SMN服务接口获取。当alarm_switch为ON时必填","example":"urn:smn:cn-north-7:b9351f98c724428xxxxxxxxx:DBSS-Message","maxLength":512,"minLength":0,"type":"string"}},"required":["alarm_cpu","alarm_disk","alarm_memory","alarm_num","alarm_switch"],"type":"object"},"DbssError":{"description":"异常消息体","properties":{"details":{"description":"PDP5鉴权异常信息","items":{"$ref":"#/definitions/DbssErrorDetail"},"maxItems":100,"minItems":0,"type":"array"},"encoded_authorization_message":{"description":"PDP5鉴权异常信息","example":"DBSS.00112233","maxLength":2097152,"minLength":0,"type":"string"},"error_code":{"description":"错误码","example":"DBSS.10020100","maxLength":2097152,"minLength":0,"type":"string"},"error_msg":{"description":"错误信息","example":"DBSS.00112233","maxLength":2097152,"minLength":0,"type":"string"}},"type":"object"},"DbssErrorDetail":{"properties":{"error_code":{"description":"错误码","example":"DBSS.00112233","maxLength":32,"minLength":0,"type":"string"},"error_msg":{"description":"PDP5错误信息","example":"DBSS.00112233","maxLength":2097152,"minLength":0,"type":"string"}},"type":"object"},"TopicConfResponse":{"properties":{"status":{"description":"状态 \n- SUCCESS: 成功 \n- FAILED: 失败","example":"SUCCESS","maxLength":32,"minLength":0,"type":"string"}},"type":"object"}},"description":null,"group_id":"0ba875db15a142babc14f069c8b7c4f6","host":"dbss.cn-north-4.myhuaweicloud.com","id":"9dd40b7e757f4c9291ed12e20413c1dc","info_version":"v1","method":"post","name":"SetAlarmTopicConfigInfo","parameters":{},"paths":{"/v1/{project_id}/{instance_id}/audit/alarm/topic":{"post":{"consumes":["application/json"],"description":"设置实例告警配置","operationId":"SetAlarmTopicConfigInfo","parameters":[{"description":"项目ID","in":"path","maxLength":64,"minLength":32,"name":"project_id","required":true,"type":"string","x-example":"b9351f98c724428794ba7d105fa355xx"},{"description":"实例ID","in":"path","maxLength":64,"minLength":32,"name":"instance_id","required":true,"type":"string","x-example":"6ef2fe69-9689-454c-b1eb-224566658709"},{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":2097152,"minLength":32,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"body","in":"body","name":"SetAlarmTopicConfigInfoRequestBody","required":true,"schema":{"$ref":"#/definitions/ConfigAlarmTopicRequest"}}],"produces":["application/json"],"responses":{"200":{"description":"OK","examples":{"application/json":{"status":"SUCCESS"}},"schema":{"$ref":"#/definitions/TopicConfResponse"}},"400":{"description":"请求参数有误。","schema":{"$ref":"#/definitions/DbssError"}},"401":{"description":"未授权","schema":{"$ref":"#/definitions/DbssError"}},"403":{"description":"认证失败","schema":{"$ref":"#/definitions/DbssError"}},"500":{"description":"服务端错误","schema":{"$ref":"#/definitions/DbssError"}}},"summary":"设置实例告警配置","tags":["告警信息"],"x-api-type":"open-api","x-apigateway-backend":{"httpEndpoints":{"method":"POST","path":"/v1/{project_id}/{instance_id}/audit/alarm/topic"}},"x-is-registered":"Y","x-request-examples-1":{"alarm_cpu":80,"alarm_disk":80,"alarm_memory":80,"alarm_num":10,"alarm_risk":["high","low"],"alarm_switch":"ON","alarm_topic_urn":"urn:smn:cn-north-7:b9351f98c724428xxxxxxxxx:DBSS-Message"},"x-request-examples-url-1":"/v1/{project_id}/{instance_id}/audit/alarm/topic","x-support-sdk":"Y"}}},"product_short":"DBSS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"设置实例告警配置","tags":"告警信息","uri":null,"version":"2.0"}