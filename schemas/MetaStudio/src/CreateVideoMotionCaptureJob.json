{"base_path":null,"components":null,"consumes":"[\"application/json\",\"application/json;charset=utf-8\"]","definitions":{"InputInfo":{"description":"输入信息。","properties":{"rtc_room_info":{"$ref":"#/definitions/RTCRoomInfoList"}},"type":"object"},"OutputInfo":{"description":"输出信息。","properties":{"audio_addr":{"description":"音频输入地址。","maxLength":2048,"minLength":1,"type":"string"},"body_addr":{"description":"身体动作输入地址。","example":"121.36.196.49:30001","maxLength":2048,"minLength":1,"type":"string"},"face_addr":{"description":"面部表情输入地址。","example":"121.36.196.49:30002","maxLength":2048,"minLength":1,"type":"string"},"session_id":{"description":"会话ID。","example":919,"maximum":4294967295,"minimum":0,"type":"integer"}},"type":"object"},"RTCRoomInfoList":{"description":"RTC房间信息。","properties":{"app_id":{"description":"RTC应用ID。","maxLength":32,"minLength":1,"type":"string"},"room_id":{"description":"RTC房间ID。","maxLength":36,"minLength":1,"type":"string"},"users":{"description":"加入RTC房间用户信息。","items":{"$ref":"#/definitions/RTCUserInfo"},"maxItems":4,"minItems":2,"type":"array"}},"type":"object"},"RTCUserInfo":{"description":"接入RTC的用户信息。","properties":{"ctime":{"description":"有效期。时间戳,单位:秒。","format":"int64","maximum":4294967295,"minimum":0,"type":"integer"},"signature":{"description":"RTC鉴权token。","maxLength":64,"minLength":1,"type":"string"},"user_id":{"description":"RTC用户ID。","maxLength":64,"minLength":1,"type":"string"},"user_type":{"description":"用户类型。\n* CAPTURE: 直播助手,将摄像头获取视频流推送到RTC房间\n* ANIMATION: VDS服务,从RTC房间拉视频流生成动作数据\n* RENDER: 渲染服务,将动作数据渲染成数字人动画\n* PLAYER: 普通观看方,可选择原始视频流或者数字人动画视频流观看\n* INFERENCE_USER: 数字人推理端用户。从RTC房间接收音频流,并推送视频流到RTC房间\n* END_USER: 端侧用户。从推送音频流到RTC房间,并从RTC房间接收视频流","enum":["CAPTURE","ANIMATION","RENDER","PLAYER","INFERENCE_USER","END_USER"],"type":"string"}},"type":"object"},"VideoMotionCaptureJobReq":{"description":"视频驱动动作任务请求。","properties":{"input_info":{"$ref":"#/definitions/InputInfo"},"motion_capture_mode":{"default":"AUTO","description":"视频驱动模式。\n* HEAD:头部\n* HALF_BODY:半身\n* FULL_BODY:全身\n* AUTO:自动","enum":["HEAD","HALF_BODY","FULL_BODY","AUTO"],"maxLength":32,"minLength":1,"type":"string"},"output_info":{"$ref":"#/definitions/OutputInfo"}}},"VideoMotionCaptureJobRsp":{"description":"视频驱动动作任务响应","properties":{"job_id":{"description":"视频驱动动作任务ID","example":"0d9052b7-7c1d-48ce-886d-eeeaa0454834","maxLength":64,"minLength":1,"type":"string"},"rtc_room_info":{"$ref":"#/definitions/RTCRoomInfoList"}},"type":"object"}},"description":null,"group_id":"7984cf04c82a4342865464b938d5dfc2","host":"metastudio.cn-north-4.myhuaweicloud.com","id":"4fac5c001ea644cba6c3f005d4db2f3a","info_version":"v1","method":"post","name":"CreateVideoMotionCaptureJob","parameters":{"AuthorizationHeader":{"description":"使用AK/SK方式认证时必选,携带的鉴权信息。","in":"header","maxLength":256,"minLength":1,"name":"Authorization","required":false,"type":"string","x-annotations":["@Size(min = 1, max = 256)"],"x-example":"SDK-HMAC-SHA256 Access=xxx, SignedHeaders=content-type;host;x-sdk-date, Signature=xxx"},"Project-IdPath":{"description":"项目ID,获取方法请参考[获取项目ID](metastudio_02_0006.xml)。","in":"path","maxLength":64,"minLength":1,"name":"project_id","required":true,"type":"string","x-annotations":["@Size(min = 1, max = 64)"],"x-example":"70b76xxxxxx34253880af501cdxxxxxx"},"X-App-UserId":{"description":"第三方用户ID。\n> * 不允许输入中文。","in":"header","maxLength":256,"minLength":1,"name":"X-App-UserId","required":false,"type":"string","x-annotations":["@Size(min = 1, max = 256)"],"x-example":"abcdefg1234567"},"X-Auth-TokenHeader":{"description":"用户Token。使用Token鉴权方式时必选。\n\n通过调用IAM服务获取用户Token接口获取。\n\n响应消息头中X-Subject-Token的值。","in":"header","maxLength":16384,"minLength":1,"name":"X-Auth-Token","required":false,"type":"string","x-annotations":["@Size(min = 1, max = 16384)"],"x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},"X-Project-IdHeader":{"description":"使用AK/SK方式认证时必选,携带项目ID信息。","in":"header","maxLength":64,"minLength":1,"name":"X-Project-Id","required":false,"type":"string","x-annotations":["@Size(min = 1, max = 64)"],"x-example":"70b76xxxxxx34253880af501cdxxxxxx"},"X-Sdk-DateHeader":{"description":"使用AK/SK方式认证时必选,请求的发生时间。\n\n格式为(YYYYMMDD'T'HHMMSS'Z')。","in":"header","maxLength":16,"minLength":16,"name":"X-Sdk-Date","required":false,"type":"string","x-annotations":["@Size(min = 16, max = 16)"],"x-example":"20191115T033655Z"}},"paths":{"/v1/{project_id}/video-motion-capture-jobs":{"post":{"consumes":["application/json"],"description":"该接口用于创建视频驱动任务。","operationId":"CreateVideoMotionCaptureJob","parameters":[{"$ref":"#/parameters/Project-IdPath"},{"$ref":"#/parameters/X-Auth-TokenHeader"},{"$ref":"#/parameters/AuthorizationHeader"},{"$ref":"#/parameters/X-Sdk-DateHeader"},{"$ref":"#/parameters/X-Project-IdHeader"},{"$ref":"#/parameters/X-App-UserId"},{"description":"测试用户判断。","in":"header","maxLength":256,"minLength":1,"name":"X-User-Privilege","required":false,"type":"string"},{"description":"视频驱动任务创建请求。","in":"body","name":"CreateVideoMotionCaptureJobRequestBody","required":true,"schema":{"$ref":"#/definitions/VideoMotionCaptureJobReq"}}],"responses":{"200":{"description":"成功。","examples":{"application/json":{"job_id":"0a9aaff946cc49cd965ba533464a8db0","rtc_room_info":{"app_id":"62b41e4cfa163e19fe3012f4afb0254f","room_id":"038812f256464620b14545ed4208fd18","users":[{"ctime":1667899906,"signature":"25bd86bf1ee9f3bdbd22b5a3bd68040f6e2ad997347a5486ca5890400f6d02cd","user_id":"038812f256464620b14545ed4208fd18_capture","user_type":"CAPTURE"},{"ctime":1667899906,"signature":"f18be6172bec6aff1f75574160a0b7d58b6f82fb0b780598d113852b9d99552d","user_id":"038812f256464620b14545ed4208fd18_animation","user_type":"ANIMATION"},{"ctime":1667899906,"signature":"34557340ab070f0883c598809d41481964cc7fa74ec07566f2867ecd645ba186","user_id":"038812f256464620b14545ed4208fd18_render","user_type":"RENDER"},{"ctime":1667899906,"signature":"c32f43f8b319c2b4c9881b3928dedd0b9aae8fd2db305cbac92e4529f766f232","user_id":"038812f256464620b14545ed4208fd18_player","user_type":"PLAYER"}]}}},"headers":{"X-Request-Id":{"description":"请求ID。","type":"string"}},"schema":{"$ref":"#/definitions/VideoMotionCaptureJobRsp"}},"400":{"$ref":"#/responses/BadRequest"},"401":{"$ref":"#/responses/Unauthorized"},"403":{"$ref":"#/responses/Forbidden"},"500":{"$ref":"#/responses/InternalServiceError"}},"summary":"创建视频驱动任务","tags":["VideoMotionCapture"],"x-api-type":"open-api","x-apiexplorer-hide":"N","x-apig-group":"public-iam,internal-appcode","x-classAnnotation":"@HttpStatusController","x-imports":"com.huawei.common.annotation.HttpStatusController;","x-is-registered":"Y","x-open-range":"sec","x-order":0,"x-request-examples-url-1":"POST https://metastudio.cn-north-4.myhuaweicloud.com/v1/f488337c31c8e4622f1590735b134c65/video-motion-capture-jobs","x-support-sdk":"Y"}}},"product_short":"MetaStudio","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建视频驱动任务","tags":"3D数字人视频驱动","uri":null,"version":"2.0"}