{"base_path":null,"components":null,"consumes":"[\"application/json\",\"application/json;charset=utf-8\"]","definitions":{"BackgroundConfigInfo":{"description":"背景配置。","properties":{"background_asset_id":{"description":"背景资产ID。\n> * 背景是背景图片时,填图片资产ID。","example":"a5d295cdb345c11bd9f36bc22ced3a7b","maxLength":64,"minLength":0,"type":"string"},"background_color_config":{"default":"#FFFFFF","description":"纯色背景的RGB颜色值。\n> * background_type=COLOR时需要填写。","maxLength":16,"minLength":0,"pattern":"^#[0-9A-Fa-f]{6}$","type":"string"},"background_config":{"description":"背景文件的URL。\n> * 仅直播支持外部URL,其他业务通过资产库查询获取,不支持外部URL。\n> * background_type=IMAGE时需要填写。","example":"https://{endpoint}/0d697589d98091f12f92c0073501cd79/8cb2f48a2cb006154794741933421100/b2f8a9e9c39b6dc7ed4c0cfd67366c6a.jpg?AccessKeyId=XCQKTA8IWQPCAUQS4SDA&Expires=1671241324&Signature=tD38peKsCkh%2FygE3IffeLbewuEw%3D","maxLength":2048,"minLength":1,"type":"string"},"background_type":{"description":"背景类型。\n- IMAGE:图片背景,指定图片用作分身数字人背景。\n- COLOR:纯色背景,指定颜色RGB值作为分身数字人背景。","enum":["IMAGE","COLOR","IMAGE_2D","VIDEO","AUDIO"],"maxLength":2048,"minLength":1,"type":"string"}},"required":["background_type"]},"ChatSubtitleConfig":{"description":"字幕配置。","properties":{"dx":{"description":"字幕左上角像素点坐标。\n\n> *横屏(16:9)视频像素为1920x1080;竖屏(9:16)视频像素为1080x1920。","example":256,"format":"int32","maximum":1920,"minimum":0,"type":"integer"},"dy":{"description":"字幕左上角像素点坐标。\n\n> *横屏(16:9)视频像素为1920x1080;竖屏(9:16)视频像素为1080x1920。","format":"int32","maximum":1920,"minimum":0,"type":"integer"},"height":{"description":"图层图片高度像素值(相对画布大小)。\n> 横屏(16:9)画布像素为1920x1080;竖屏(9:16)画布像素为1080x1920。","format":"int32","maximum":7680,"minimum":1,"type":"integer"},"width":{"description":"图层图片宽度像素值(相对画布大小)。\n> 横屏(16:9)画布像素为1920x1080;竖屏(9:16)画布像素为1080x1920。","format":"int32","maximum":7680,"minimum":1,"type":"integer"}}},"CreateSmartChatRoomReq":{"description":"创建智能交互对话配置。","properties":{"background_config":{"$ref":"#/definitions/BackgroundConfigInfo","description":"背景配置。"},"chat_subtitle_config":{"$ref":"#/definitions/ChatSubtitleConfig","description":"对话字幕配置"},"chat_video_type":{"description":"智能交互对话端配置。\n* COMPUTER: 电脑端\n* MOBILE: 手机端\n* HUB: 大屏","enum":["COMPUTER","MOBILE","HUB"],"maxLength":64,"minLength":1,"type":"string"},"concurrency":{"description":"并发路数。","format":"int32","maximum":1024,"minimum":0,"type":"integer"},"layer_config":{"description":"图层配置。","items":{"$ref":"#/definitions/LayerConfig"},"maxItems":100,"minItems":0,"type":"array"},"model_asset_id":{"description":"数字人模型资产ID。","example":"a5d295cdb345c11bd9f36bc22ced3a7a","maxLength":64,"minLength":0,"type":"string"},"review_config":{"$ref":"#/definitions/ReviewConfig","description":"内容审核配置"},"robot_id":{"description":"机器人ID。获取方法请参考[创建应用](CreateRobot.xml)。","example":"e37a28485f684769aa537466e719629d","maxLength":64,"minLength":1,"type":"string"},"room_description":{"description":"对话描述。","example":"课件","maxLength":1024,"minLength":0,"type":"string"},"room_name":{"description":"对话名称","example":"云笙展厅","maxLength":256,"minLength":1,"type":"string"},"video_config":{"$ref":"#/definitions/VideoConfig","description":"视频输出配置。\n> * 智能交互仅支持配置codec=H264,bitrate,width,height,frame_rate。"},"voice_config":{"$ref":"#/definitions/VoiceConfig","description":"语音配置参数。"}},"required":["room_name"],"type":"object"},"CreateSmartChatRoomRsp":{"description":"创建智能交互对话响应。","properties":{"room_id":{"description":"智能交互对话ID","maxLength":64,"minLength":0,"type":"string"}}},"ImageLayerConfig":{"description":"素材图片图层配置。","properties":{"image_url":{"description":"图片文件的URL。","maxLength":2048,"minLength":1,"type":"string"}},"type":"object"},"LayerConfig":{"description":"图层配置。","properties":{"asset_id":{"description":"图层所需资产的资产id,外部资产信息无需填写","maxLength":64,"minLength":0,"type":"string"},"group_id":{"description":"多场景素材编组。同一group_id的素材,在应用全局时共享位置信息。","maxLength":64,"minLength":0,"type":"string"},"image_config":{"$ref":"#/definitions/ImageLayerConfig"},"layer_type":{"description":"图层类型。\n- HUMAN:  人物图层\n- IMAGE: 素材图片图层\n- VIDEO: 素材视频图层\n- TEXT: 素材文字图层","enum":["HUMAN","IMAGE","VIDEO","TEXT"],"type":"string"},"position":{"$ref":"#/definitions/LayerPositionConfig"},"size":{"$ref":"#/definitions/LayerSizeConfig"},"text_config":{"$ref":"#/definitions/TextLayerConfig"},"video_config":{"$ref":"#/definitions/VideoLayerConfig"}},"required":["layer_type","position"]},"LayerPositionConfig":{"description":"图层位置配置。","properties":{"dx":{"description":"图层左上角像素点的X轴位置值(画布左上角坐标是0x0)。\n> * 横屏(16:9)画布像素为1920x1080;竖屏(9:16)画布像素为1080x1920。","example":256,"format":"int32","maximum":3840,"minimum":-1920,"type":"integer"},"dy":{"description":"图层图片左上角像素点的Y轴位置值(画布左上角坐标是0x0)。\n> 横屏(16:9)画布像素为1920x1080;竖屏(9:16)画布像素为1080x1920。","example":512,"format":"int32","maximum":3840,"minimum":-1920,"type":"integer"},"layer_index":{"description":"图片/视频/人物图的层顺序。\n> * 图层顺序从1开始的整数,底层图层顺序是1,往上依次增加。","example":1,"maximum":100,"minimum":1,"type":"integer"}},"required":["dx","dy","layer_index"],"type":"object"},"LayerSizeConfig":{"description":"图层大小配置。","properties":{"height":{"description":"图层图片高度像素值(相对画布大小)。\n> 横屏(16:9)画布像素为1920x1080;竖屏(9:16)画布像素为1080x1920。","format":"int32","maximum":7680,"minimum":1,"type":"integer"},"width":{"description":"图层图片宽度像素值(相对画布大小)。\n> 横屏(16:9)画布像素为1920x1080;竖屏(9:16)画布像素为1080x1920。","format":"int32","maximum":7680,"minimum":1,"type":"integer"}},"type":"object"},"ReviewConfig":{"description":"内容审核配置","properties":{"no_need_review":{"description":"免审核。 目前仅白名单用户可使用此参数,非白名单用户跟随系统策略审核。","type":"boolean"}},"type":"object"},"SubtitleConfig":{"description":"字幕配置。","properties":{"dx":{"description":"字幕框左下角像素点坐标。\n\n> *横屏(16:9)视频像素为1920x1080;竖屏(9:16)视频像素为1080x1920。","example":256,"format":"int32","maximum":1920,"minimum":0,"type":"integer"},"dy":{"description":"字幕框左下角像素点坐标。\n\n> *横屏(16:9)视频像素为1920x1080;竖屏(9:16)视频像素为1080x1920。","format":"int32","maximum":1920,"minimum":0,"type":"integer"},"font_name":{"default":"HarmonyOS_Sans_SC_Black","description":"字体。当前支持的字体:\n* HarmonyOS_Sans_SC_Black:鸿蒙粗体\n* HarmonyOS_Sans_SC_Regular:鸿蒙常规\n* HarmonyOS_Sans_SC_Thin:鸿蒙细体","maxLength":64,"minLength":0,"type":"string"},"font_size":{"default":16,"description":"字体大小。\n\n取值范围:[4, 120]","format":"int32","maximum":120,"minimum":0,"type":"integer"},"h":{"description":"字幕框高度\n> * 参数h用于方便前端计算字幕框左上角坐标,后台不使用该参数","format":"int32","maximum":1920,"minimum":0,"type":"integer"},"w":{"description":"字幕框宽度\n> * 字幕框宽度固定为屏幕宽度的80%\n> * 参数w用于方便前端计算字幕框左上角坐标,后台不使用该参数","format":"int32","maximum":1920,"minimum":0,"type":"integer"}}},"TextLayerConfig":{"description":"素材文字图层配置。","properties":{"font_color":{"default":"#FFFFFF","description":"字体颜色。RGB颜色值。","maxLength":16,"minLength":0,"type":"string"},"font_name":{"default":"HarmonyOS_Sans_SC_Black","description":"字体。当前支持的字体:\n* HarmonyOS_Sans_SC_Black:鸿蒙粗体\n* HarmonyOS_Sans_SC_Regular:鸿蒙常规\n* HarmonyOS_Sans_SC_Thin:鸿蒙细体\n* fzyouh:方正瘦体","maxLength":64,"minLength":0,"type":"string"},"font_size":{"default":16,"description":"字体大小(像素)。\n\n取值范围:[4, 120]","format":"int32","maximum":120,"minimum":0,"type":"integer"},"text_context":{"description":"文字图层的文本,内容需做Base64编码。\n\n示例:若想添加文字水印“测试文字水印”,那么text_context的值为:5rWL6K+V5paH5a2X5rC05Y2w","maxLength":1024,"minLength":0,"type":"string"}},"type":"object"},"VideoConfig":{"description":"视频输出配置。","properties":{"bitrate":{"description":"输出平均码率。\n\n单位:kbps。\n\n最小值40,最大值30000。\n> * 分身数字人视频制作采用质量优先,可能会超过设置的码率。\n> * 分身数字人直播码率范围[1000, 8000]。","maximum":30000,"minimum":40,"type":"integer"},"clip_mode":{"default":"RESIZE","description":"输出视频的剪辑方式。默认值RESIZE。\n* RESIZE:视频缩放。\n* CROP:视频裁剪。","enum":["RESIZE","CROP"],"type":"string"},"codec":{"description":"视频编码格式及视频文件格式。\n* H264: h264编码,输出mp4文件\n* VP8:vp8编码,输出webm文件","enum":["H264","VP8","VP9"],"type":"string"},"dx":{"description":"裁剪视频左上角像素点坐标。\n\nclip_mode= CROP时生效。\n> * 以模特分辨率为画布大小,比如1920*1080分辨率的模特,dx最小值是0,最大值是1920。","example":256,"format":"int32","maximum":3840,"minimum":-1920,"type":"integer"},"dy":{"description":"裁剪视频左上角像素点坐标。\n\nclip_mode= CROP时生效。\n> * 以模特分辨率为画布大小,比如1920*1080分辨率的模特,dy最小值是0,最大值是1080","format":"int32","maximum":3840,"minimum":-1920,"type":"integer"},"frame_rate":{"default":"25","description":"帧率。\n\n单位:FPS。\n> *  分身数字人视频固定25FPS。","enum":["24","25","30"],"format":"string","maxLength":10,"minLength":0,"type":"string"},"height":{"description":"视频高度。\n\n单位:像素。\n\n> * clip_mode=RESIZE时,当前支持1920x1080、1080x1920、1280x720、720x1280、3840x2160、2160x3840六种分辨率分辨率。\n> * clip_mode=CROP,裁剪后视频,(dx,dy)为原点,保留视频像高度为height。\n> * 分身数字人直播目前只支持1080x1920。","maximum":3840,"minimum":0,"type":"integer"},"is_subtitle_enable":{"default":false,"description":"输出的视频是否带字幕。默认false。\n> true: 打开字幕\n> false: 关闭字幕","enum":[true,false],"example":true,"type":"boolean"},"subtitle_config":{"$ref":"#/definitions/SubtitleConfig"},"width":{"description":"视频宽度。\n\n单位:像素。\n\n> * clip_mode=RESIZE时,当前支持1920x1080、1080x1920、1280x720、720x1280、3840x2160、2160x3840六种分辨率。4K分辨率视频需要分身数字人模型支持4K的情况下才能使用。\n> * clip_mode=CROP,裁剪后视频,(dx,dy)为原点,保留视频像宽度为width。\n> * 分身数字人直播目前只支持1080x1920。","maximum":3840,"minimum":0,"type":"integer"}},"required":["bitrate","codec","height","width"],"type":"object"},"VideoLayerConfig":{"description":"素材视频图层配置。","properties":{"loop_count":{"default":-1,"description":"循环播放视频次数。","format":"int32","maximum":100,"minimum":-1,"type":"integer"},"video_cover_url":{"description":"视频封面文件的URL。","maxLength":2048,"minLength":1,"type":"string"},"video_url":{"description":"视频文件的URL。","maxLength":2048,"minLength":1,"type":"string"}},"type":"object"},"VoiceConfig":{"description":"语音配置参数。","properties":{"pitch":{"default":100,"description":"音高。\n\n默认值100,最小值50,最大值200。","format":"int32","maximum":200,"minimum":50,"type":"integer"},"speed":{"default":100,"description":"语速。\n\n默认值100,最小值50,最大值200。\n> * 当取值为“100”时,表示一个成年人正常的语速,约为250字/分钟。\n> * 50表示0.5倍语速,100表示正常语速,200表示2倍语速。","format":"int32","maximum":200,"minimum":50,"type":"integer"},"voice_asset_id":{"description":"音色资产ID。","example":"39b9cedccec1f19b33d8f7ce1a6d35b9","maxLength":64,"minLength":1,"type":"string"},"volume":{"default":140,"description":"音量。\n\n默认值140,最小值90,最大值240。","format":"int32","maximum":240,"minimum":90,"type":"integer"}},"required":["voice_asset_id"]}},"description":null,"group_id":"7984cf04c82a4342865464b938d5dfc2","host":"metastudio.cn-north-4.myhuaweicloud.com","id":"45e98b647dd74eb4b8bff897ae5084b0","info_version":"v1","method":"post","name":"CreateSmartChatRoom","parameters":{"AuthorizationHeader":{"description":"使用AK/SK方式认证时必选,携带的鉴权信息。","in":"header","maxLength":256,"minLength":1,"name":"Authorization","required":false,"type":"string","x-annotations":["@Size(min = 1, max = 256)"],"x-example":"SDK-HMAC-SHA256 Access=xxx, SignedHeaders=content-type;host;x-sdk-date, Signature=xxx"},"Project-IdPath":{"description":"项目ID,获取方法请参考[获取项目ID](metastudio_02_0006.xml)。","in":"path","maxLength":64,"minLength":1,"name":"project_id","required":true,"type":"string","x-annotations":["@Size(min = 1, max = 64)"],"x-example":"70b76xxxxxx34253880af501cdxxxxxx"},"X-App-UserId":{"description":"第三方用户ID。不允许输入中文。","in":"header","maxLength":256,"minLength":1,"name":"X-App-UserId","required":false,"type":"string","x-annotations":["@Size(min = 1, max = 256)"],"x-example":"abcdefg1234567"},"X-Auth-TokenHeader":{"description":"用户Token。使用Token鉴权方式时必选。\n\n通过调用IAM服务获取用户Token接口获取。\n\n响应消息头中X-Subject-Token的值。","in":"header","maxLength":16384,"minLength":1,"name":"X-Auth-Token","required":false,"type":"string","x-annotations":["@Size(min = 1, max = 16384)"],"x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},"X-Project-IdHeader":{"description":"使用AK/SK方式认证时必选,携带项目ID信息。","in":"header","maxLength":64,"minLength":1,"name":"X-Project-Id","required":false,"type":"string","x-annotations":["@Size(min = 1, max = 64)"],"x-example":"70b76xxxxxx34253880af501cdxxxxxx"},"X-Sdk-DateHeader":{"description":"使用AK/SK方式认证时必选,请求的发生时间。\n\n格式为(YYYYMMDD'T'HHMMSS'Z')。","in":"header","maxLength":16,"minLength":16,"name":"X-Sdk-Date","required":false,"type":"string","x-annotations":["@Size(min = 16, max = 16)"],"x-example":"20191115T033655Z"}},"paths":{"/v1/{project_id}/smart-chat-rooms":{"post":{"consumes":["application/json"],"deprecated":false,"description":"该接口用于创建智能交互对话。","operationId":"CreateSmartChatRoom","parameters":[{"$ref":"#/parameters/Project-IdPath"},{"$ref":"#/parameters/X-Auth-TokenHeader"},{"$ref":"#/parameters/AuthorizationHeader"},{"$ref":"#/parameters/X-Sdk-DateHeader"},{"$ref":"#/parameters/X-Project-IdHeader"},{"$ref":"#/parameters/X-App-UserId"},{"description":"创建智能交互对话请求。","in":"body","name":"CreateSmartChatRoomRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateSmartChatRoomReq"}}],"produces":["application/json"],"responses":{"200":{"description":"成功。","examples":{"application/json":{"room_id":"26f06524-4f75-4b3a-a853-b649a21aaf66"}},"headers":{"X-Request-Id":{"description":"请求ID。","type":"string"}},"schema":{"$ref":"#/definitions/CreateSmartChatRoomRsp"}},"400":{"$ref":"#/responses/BadRequest"},"401":{"$ref":"#/responses/Unauthorized"},"404":{"$ref":"#/responses/NotFound"},"500":{"$ref":"#/responses/InternalServiceError"}},"summary":"创建智能交互对话","tags":["SmartChatRoomManager"],"x-api-type":"open-api","x-apiexplorer-hide":"N","x-apig-group":"public-iam,internal-appcode","x-classAnnotation":"@HttpStatusController","x-imports":["com.huawei.springframework.advice.HttpStatusController;org.springframework.http.ResponseEntity;","com.huawei.springframework.om.trace.masker.annotation.*;","com.huawei.springframework.om.trace.masker.base.*;"],"x-is-registered":"Y","x-methodAnnotations":["@RequestMaskRule"],"x-open-range":"public","x-order":0,"x-request-examples-1":{"room_description":"课件","room_name":"大自然的传说"},"x-request-examples-url-1":"POST https://{endpoint}/v1/70b76xxxxxx34253880af501cdxxxxxx/smart-chat-rooms","x-support-sdk":"Y"}}},"product_short":"MetaStudio","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建智能交互对话","tags":"智能交互数字人对话管理","uri":null,"version":"2.0"}