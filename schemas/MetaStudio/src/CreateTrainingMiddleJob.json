{"base_path":null,"components":null,"consumes":"[\"application/json\",\"application/json;charset=utf-8\"]","definitions":{"CreateTrainingJobReq":{"description":"创建训练任务请求。","properties":{"batch_name":{"description":"批次名称","example":"123qwe","maxLength":256,"minLength":1,"type":"string"},"create_type":{"$ref":"#/definitions/CreateType"},"description":{"description":"一段描述信息,会呈现在资产库中。","example":"这是一段女声","maxLength":128,"minLength":1,"type":"string"},"dhtms_job_id":{"description":"形象制作任务id","example":"abcdefg","maxLength":64,"minLength":1,"type":"string"},"language":{"default":"CN","description":"训练语言,当前仅支持中文。\n* CN: 中文\n* EN: 英文","example":"CN","maxLength":64,"minLength":1,"type":"string"},"phone":{"description":"手机号","example":"13500001111","maxLength":16,"minLength":1,"type":"string"},"sex":{"default":"FEMALE","description":"语音性别,是男性声音还是女性声音。\n* FEMALE: 女性\n* MALE: 男性","enum":["FEMALE","MALE"],"example":"FEMALE","type":"string"},"tag":{"$ref":"#/definitions/JobTag"},"voice_name":{"description":"音色名称。该名称会作为资产库中音色模型资产名称。","example":"温柔女声","maxLength":64,"minLength":1,"type":"string"}},"required":["voice_name"]},"CreateTrainingJobRsp":{"description":"创建训练任务响应。","properties":{"authorization_letter_uploading_url":{"description":"授权书的上传地址。","example":"https://my-bucket/data","maxLength":4096,"minLength":1,"type":"string"},"job_id":{"description":"任务id。","example":"abcdefg","maxLength":64,"minLength":1,"type":"string"},"segment_uploading_url":{"description":"分句上传任务的上传地址,create_type为segment时设置。","properties":{"audio_uploading_url":{"description":"音频上传的地址。\n\n通过该obs地址上传时,需设置content-type为audio/wav","items":{"example":"https://my-bucket/data0.wav","maxLength":4096,"minLength":1,"type":"string"},"maxItems":4096,"minItems":1,"type":"array"},"txt_uploading_url":{"description":"文本上传的地址。\n\n通过该obs地址上传时需设置content-type为text/plain","items":{"example":"https://my-bucket/data0.txt","maxLength":4096,"minLength":1,"type":"string"},"maxItems":4096,"minItems":1,"type":"array"}},"type":"object"},"training_data_uploading_url":{"description":"上传训练数据的地址。训练数据需打包成zip文件后,上传至该url。\n\ncreate_type取值为package时设置。\n> 通过该obs地址上传时,需设置content-type为application/zip。","example":"https://my-bucket/data.zip","maxLength":4096,"minLength":1,"type":"string"}},"required":["job_id"]},"CreateType":{"description":"任务创建方式。\n* PACKAGE: 使用一个zip包包含所有数据\n* SEGMENT: 逐句上传数据","enum":["PACKAGE","SEGMENT"],"type":"string"},"ErrorResponse":{"properties":{"error_code":{"description":"错误码。","maxLength":32,"minLength":1,"type":"string"},"error_msg":{"description":"错误描述。","maxLength":256,"minLength":1,"type":"string"}},"type":"object"},"JobTag":{"description":"任务标签。\n* ECOMMERCE: 电商\n* NEWS: 新闻\n* MARKETING: 营销","enum":["ECOMMERCE","NEWS","MARKETING"],"example":"ECOMMERCE","type":"string"}},"description":null,"group_id":"7984cf04c82a4342865464b938d5dfc2","host":"metastudio.cn-north-4.myhuaweicloud.com","id":"9ff500b1c22c4ce0a1576f9c7e96a043","info_version":"v1","method":"post","name":"CreateTrainingMiddleJob","parameters":{"AuthorizationHeader":{"description":"使用AK/SK方式认证时必选,携带的鉴权信息。","in":"header","maxLength":256,"minLength":1,"name":"Authorization","required":false,"type":"string","x-annotations":["@Size(min = 1, max = 256)"],"x-apig-registered":false,"x-example":"SDK-HMAC-SHA256 Access=xxx, SignedHeaders=content-type;host;x-sdk-date, Signature=xxx"},"Project-IdPath":{"description":"项目ID,获取方法请参考[获取项目ID](metastudio_02_0006.xml)。","in":"path","maxLength":64,"minLength":1,"name":"project_id","required":true,"type":"string","x-annotations":["@Size(min = 1, max = 64)"],"x-example":"70b76xxxxxx34253880af501cdxxxxxx"},"X-App-UserId":{"description":"第三方用户ID。不允许输入中文。","in":"header","maxLength":256,"minLength":1,"name":"X-App-UserId","required":false,"type":"string","x-annotations":["@Size(min = 1, max = 256)"],"x-apig-registered":false,"x-example":"abcdefg1234567"},"X-Auth-TokenHeader":{"description":"用户Token。使用Token鉴权方式时必选。\n\n通过调用IAM服务获取用户Token接口获取。\n\n响应消息头中X-Subject-Token的值。","in":"header","maxLength":16384,"minLength":1,"name":"X-Auth-Token","required":false,"type":"string","x-annotations":["@Size(min = 1, max = 16384)"],"x-apig-registered":false,"x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},"X-Project-IdHeader":{"description":"使用AK/SK方式认证时必选,携带项目ID信息。","in":"header","maxLength":64,"minLength":1,"name":"X-Project-Id","required":false,"type":"string","x-annotations":["@Size(min = 1, max = 64)"],"x-apig-registered":false,"x-example":"70b76xxxxxx34253880af501cdxxxxxx"},"X-Sdk-DateHeader":{"description":"使用AK/SK方式认证时必选,请求的发生时间。\n\n格式为(YYYYMMDD'T'HHMMSS'Z')。","in":"header","maxLength":16,"minLength":16,"name":"X-Sdk-Date","required":false,"type":"string","x-annotations":["@Size(min = 16, max = 16)"],"x-apig-registered":false,"x-example":"20191115T033655Z"}},"paths":{"/v1/{project_id}/voice-training-manage/user/middle-jobs":{"post":{"description":"用户创建语音训练进阶版任务,该接口会返回一个obs上传地址,用于上传语音文件。\n\n支持2种方式上传语音文件:\n* 语音文件和文本文件打包成zip上传:语音文件已经切分成100个wav文件,每个语音文件对应一个txt文本文件,所有文件打包成zip文件。语音文件命名规则:0.wav~99.wav;文本文件命名规则:0.txt~99.txt。\n* 语音文件和文本文件逐句上传:每次上传一句语料的语音文件和文本文件,再调用“确认在线录音结果”接口确认语音和文本内容是否一致。确认成功后再上传和确认下一句。\n\n文件上传后,调用“提交语音训练任务”接口,启动审核和训练。","operationId":"CreateTrainingMiddleJob","parameters":[{"$ref":"#/parameters/Project-IdPath"},{"$ref":"#/parameters/X-Auth-TokenHeader"},{"$ref":"#/parameters/AuthorizationHeader"},{"$ref":"#/parameters/X-Sdk-DateHeader"},{"$ref":"#/parameters/X-Project-IdHeader"},{"$ref":"#/parameters/X-App-UserId"},{"description":"创建任务请求。","in":"body","name":"CreateTrainingMiddleJobRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateTrainingJobReq"}}],"responses":{"200":{"description":"处理成功返回。","examples":{"application/json":{"authorization_letter_uploading_url":"https://my-bucket/data","job_id":"abcdefg","segment_uploading_url":{"audio_uploading_url":["https://my-bucket/data0.wav"],"txt_uploading_url":["https://my-bucket/data0.txt"]},"training_data_uploading_url":"https://my-bucket/data.zip"}},"schema":{"$ref":"#/definitions/CreateTrainingJobRsp"}},"400":{"description":"参数异常。","schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"创建进阶版语音训练任务","tags":["TrainingJobManager"],"x-api-type":"open-api","x-apiexplorer-hide":"N","x-apig-group":"public-iam,internal-appcode","x-is-registered":"Y","x-methodAnnotations":["@ResponseMaskRule"],"x-open-range":"public","x-request-examples-1":{"create_type":"PACKAGE","description":"这是一段女声","language":"CN","sex":"FEMALE","tag":"ECOMMERCE","voice_name":"温柔女声"},"x-request-examples-url-1":"POST https://{endpoint}/v1/3f0924078d1b471c884a5383d4dec9fa/voice-training-manage/user/middle-jobs","x-support-sdk":"Y"}}},"product_short":"MetaStudio","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建进阶版语音训练任务","tags":"声音制作任务管理","uri":null,"version":"2.0"}