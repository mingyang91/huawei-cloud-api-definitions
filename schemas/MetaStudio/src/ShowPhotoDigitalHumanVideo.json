{"base_path":null,"components":null,"consumes":"[\"application/json\",\"application/json;charset=utf-8\"]","definitions":{"AudioDriveActionConfig":{"description":"语音驱动时的动作标签配置","properties":{"action_name":{"description":"动作名称","example":"伸左手","maxLength":256,"minLength":1,"type":"string"},"action_start_time":{"description":"动作开始时间","example":1.25,"format":"float","maximum":2592000,"minimum":0,"type":"number"},"action_tag":{"description":"动作标签","example":"rest_01s","maxLength":256,"minLength":1,"type":"string"}},"required":["action_start_time","action_tag"],"type":"object"},"BackgroundConfigInfo":{"description":"背景配置。","properties":{"background_asset_id":{"description":"**参数解释**:\n背景资产ID。\n> 背景是背景图片时,填图片资产ID。\n\n**约束限制**:\n不涉及\n**取值范围**:\n字符长度0-64位\n**默认取值**:\n不涉及","example":"a5d295cdb345c11bd9f36bc22ced3a7b","maxLength":64,"minLength":0,"type":"string"},"background_color_config":{"default":"#FFFFFF","description":"**参数解释**:\n纯色背景的RGB颜色值。\n**约束限制**:\nbackground_type=COLOR时需要填写。\n**取值范围**:\n字符长度0-16位","maxLength":16,"minLength":0,"pattern":"^#[0-9A-Fa-f]{6}$","type":"string"},"background_config":{"description":"**参数解释**:\n背景文件的URL。\n**约束限制**:\n* 仅直播支持外部URL,其他业务通过资产库查询获取,不支持外部URL。\n* background_type=IMAGE时需要填写。\n\n**取值范围**:\n字符长度1-2048位\n**默认取值**:\n不涉及。","example":"https://{endpoint}/0d697589d98091f12f92c0073501cd79/8cb2f48a2cb006154794741933421100/b2f8a9e9c39b6dc7ed4c0cfd67366c6a.jpg?AccessKeyId=XCQKTA8IWQPCAUQS4SDA&Expires=1671241324&Signature=tD38peKsCkh%2FygE3IffeLbewuEw%3D","maxLength":2048,"minLength":1,"type":"string"},"background_type":{"description":"**参数解释**:\n背景类型。\n**约束限制**:\n不涉及。\n**取值范围**:\n* IMAGE:图片背景,指定图片用作分身数字人背景。\n* COLOR:纯色背景,指定颜色RGB值作为分身数字人背景。\n\n**默认取值**:\n不涉及","enum":["IMAGE","COLOR","IMAGE_2D","VIDEO","AUDIO"],"maxLength":2048,"minLength":1,"type":"string"}},"required":["background_type"]},"DigitalHumanVideo":{"description":"数字人制作任务信息。","properties":{"create_time":{"description":"任务创建时间。","maxLength":20,"minLength":20,"type":"string"},"duration":{"description":"**参数解释**:\n数字人视频内容时长。","format":"float","maximum":2147483647,"minimum":0,"type":"number"},"end_time":{"description":"数字人视频制作结束时间。","maxLength":20,"minLength":20,"type":"string"},"error_info":{"$ref":"#/definitions/ErrorResponse","description":"错误信息。"},"job_id":{"description":"任务ID。","maxLength":64,"minLength":1,"type":"string"},"job_type":{"description":"任务类型。\n* 2D_DIGITAL_HUMAN_VIDEO: 分身数字人视频制作任务\n* PHOTO_DIGITAL_HUMAN_VIDEO: 照片数字人视频制作任务","enum":["2D_DIGITAL_HUMAN_VIDEO","DIGITAL_HUMAN_PHOTO_VIDEO"],"maxLength":64,"minLength":0,"type":"string"},"lastupdate_time":{"description":"任务更新时间。","maxLength":20,"minLength":20,"type":"string"},"output_asset_config":{"$ref":"#/definitions/OutputAssetInfo","description":"输出资产信息。"},"start_time":{"description":"数字人视频制作开始时间。","maxLength":20,"minLength":20,"type":"string"},"state":{"description":"任务的状态。\n* WAITING:等待\n* PROCESSING:处理中\n* SUCCEED:成功\n* FAILED:失败\n* CANCELED:取消\n* BLOCK: 冻结","enum":["WAITING","PROCESSING","SUCCEED","FAILED","CANCELED","BLOCK"],"maxLength":64,"minLength":1,"type":"string"}},"required":["job_id","state"]},"ErrorResponse":{"properties":{"error_code":{"description":"错误码。","maxLength":32,"minLength":1,"type":"string"},"error_msg":{"description":"错误描述。","maxLength":256,"minLength":1,"type":"string"}},"type":"object"},"ImageLayerConfig":{"description":"素材图片图层配置。","properties":{"image_url":{"description":"**参数解释**:\n图片文件的URL。\n**约束限制**:\n不涉及。\n**取值范围**:\n字符长度1-2048位。\n**默认取值**:\n不涉及","maxLength":2048,"minLength":1,"type":"string"}},"type":"object"},"LayerConfig":{"description":"图层配置。","properties":{"asset_id":{"description":"**参数解释**:\n图层所需资产的资产id,外部资产信息无需填写。\n**约束限制**:\n不涉及。\n**取值范围**:\n字符长度0-64位\n**默认取值**:\n不涉及","maxLength":64,"minLength":0,"type":"string"},"group_id":{"description":"**参数解释**:\n多场景素材编组。同一group_id的素材,在应用全局时共享位置信息。\n**约束限制**:\n不涉及。\n**取值范围**:\n字符长度0-64位\n**默认取值**:\n不涉及","maxLength":64,"minLength":0,"type":"string"},"image_config":{"$ref":"#/definitions/ImageLayerConfig"},"layer_type":{"description":"**参数解释**:\n图层类型。\n**约束限制**:\n不涉及。\n**取值范围**:\n* HUMAN:  人物图层\n* IMAGE: 素材图片图层\n* VIDEO: 素材视频图层\n* TEXT: 素材文字图层\n\n**默认取值**:\n不涉及","enum":["HUMAN","IMAGE","VIDEO","TEXT"],"type":"string"},"position":{"$ref":"#/definitions/LayerPositionConfig"},"size":{"$ref":"#/definitions/LayerSizeConfig"},"text_config":{"$ref":"#/definitions/TextLayerConfig"},"video_config":{"$ref":"#/definitions/VideoLayerConfig"}},"required":["layer_type"]},"LayerPositionConfig":{"description":"图层位置配置。","properties":{"dx":{"default":0,"description":"**参数解释**:\n图层左上角像素点的X轴位置值(画布左上角坐标是0x0)。\n横屏(16:9)画布像素为1920x1080;竖屏(9:16)画布像素为1080x1920。\n\n**约束限制**:\n该值为相对于画布的像素值,仅表示布局位置关系,与输出画面分辨率无关。","example":256,"format":"int32","maximum":3840,"minimum":-1920,"type":"integer"},"dy":{"default":0,"description":"**参数解释**:\n图层图片左上角像素点的Y轴位置值(画布左上角坐标是0x0)。\n横屏(16:9)画布像素为1920x1080;竖屏(9:16)画布像素为1080x1920。\n\n**约束限制**:\n该值为相对于画布的像素值,仅表示布局位置关系,与输出画面分辨率无关。","example":512,"format":"int32","maximum":3840,"minimum":-1920,"type":"integer"},"layer_index":{"default":100,"description":"**参数解释**:\n图片、视频、人物图的层顺序。\n> 图层顺序为0从1开始的整数,底层图层顺序是1,往上依次增加。\n\n**约束限制**:\n如果出现重复则重复图层叠加关系随机。","example":1,"format":"int32","maximum":100,"minimum":1,"type":"integer"}},"required":["dx","dy","layer_index"],"type":"object"},"LayerSizeConfig":{"description":"图层大小配置。","properties":{"height":{"description":"**参数解释**:\n图层图片高度像素值(相对画布大小)。\n横屏(16:9)画布像素为1920x1080;竖屏(9:16)画布像素为1080x1920。\n\n**约束限制**:\n该值为相对于画布的像素值,仅表示布局位置关系,与输出画面分辨率无关。|","format":"int32","maximum":7680,"minimum":1,"type":"integer"},"width":{"description":"**参数解释**:\n图层图片左上角像素点的Y轴位置值图层图片宽度像素值(相对画布大小)。\n横屏(16:9)画布像素为1920x1080;竖屏(9:16)画布像素为1080x1920。\n\n**约束限制**:\n该值为相对于画布的像素值,仅表示布局位置关系,与输出画面分辨率无关。","format":"int32","maximum":7680,"minimum":1,"type":"integer"}},"type":"object"},"OutputAssetInfo":{"description":"输出资产信息配置。","properties":{"asset_id":{"description":"输出视频资产ID。","maxLength":256,"minLength":1,"type":"string"},"asset_name":{"description":"输出视频资产名称。","maxLength":256,"minLength":0,"type":"string"},"cover_url":{"description":"视频封面URL。","maxLength":2048,"minLength":1,"type":"string"},"preview_video_url":{"description":"预览视频下载URL。URL有效期24小时。\n> * 分身数字人视频制作不支持预览。","maxLength":2048,"minLength":1,"type":"string"}},"required":["asset_id","asset_name"]},"PhotoVideoConfig":{"description":"视频输出配置。照片数字人支持该输出配置查询,不支持修改。","properties":{"bitrate":{"description":"**参数解释**:\n输出平均码率。\n\n单位:kbps。\n\n最小值40,最大值30000。","maximum":30000,"minimum":40,"type":"integer"},"codec":{"description":"视频编码格式及视频文件格式。\n* H264:h264编码,输出mp4文件","enum":["H264"],"type":"string"},"frame_rate":{"default":"30","description":"帧率。\n\n单位:FPS。","enum":["24","25","30"],"format":"string","maxLength":10,"minLength":0,"type":"string"}},"required":["codec"]},"ShootScript":{"description":"表演脚本。","properties":{"audio_drive_action_config":{"description":"语音驱动时的动作配置。","items":{"$ref":"#/definitions/AudioDriveActionConfig"},"maxItems":100,"minItems":0,"type":"array"},"background_config":{"description":"背景配置。","items":{"$ref":"#/definitions/BackgroundConfigInfo"},"maxItems":10,"minItems":0,"type":"array"},"layer_config":{"description":"图层配置。","items":{"$ref":"#/definitions/LayerConfig"},"maxItems":100,"minItems":0,"type":"array"},"script_type":{"default":"TEXT","description":"**参数解释**:\n脚本类型,即视频制作的驱动方式\n**约束限制**:\n不涉及\n**取值范围**\n* TEXT: 文本驱动,即通过TTS合成语音\n* AUDIO: 语音驱动","enum":["TEXT","AUDIO"],"type":"string"},"text_config":{"$ref":"#/definitions/TextConfig","description":"讲解词配置。"}}},"ShootScriptItem":{"allOf":[{"$ref":"#/definitions/ShootScriptItemBaseInfo"},{"properties":{"shoot_script":{"$ref":"#/definitions/ShootScript"}}}],"description":"剧本参数配置。"},"ShootScriptItemBaseInfo":{"properties":{"sequence_no":{"description":"**参数解释**:\n剧本序号。\n**约束限制**:\n同一个剧本序号不重复。\n**默认取值**:\n不涉及。","example":1,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"}}},"ShowPhotoDigitalHumanVideoDetail":{"allOf":[{"$ref":"#/definitions/DigitalHumanVideo"},{"properties":{"human_image":{"description":"人物照片,需要Base64编码。","example":"/9j/4AAQSkZJRgABAQEAYABg...","maxLength":2147483647,"minLength":1,"type":"string"},"script_id":{"description":"剧本ID。","maxLength":64,"minLength":1,"type":"string"},"shoot_scripts":{"description":"拍摄脚本列表。","items":{"$ref":"#/definitions/ShootScriptItem"},"maxItems":100,"minItems":0,"type":"array"},"video_config":{"$ref":"#/definitions/PhotoVideoConfig","description":"视频输出配置。"},"voice_config":{"$ref":"#/definitions/VoiceConfig"}}}]},"TextConfig":{"description":"台词脚本。\n> 最长10000个字符,不含SSML标签字符数。","properties":{"text":{"description":"**参数解释**:\n台词脚本。支持两种模式,纯文本模式和标签模式。\n- 纯文本模式:使用方法,如“大家好,我是人工智大家,是个虚拟主播”。\n- 标签模式:SSML标签的详细定义请参考[文本驱动SSML定义](metastudio_02_0038.xml)。\n\n**约束限制**:\n不含SSML标签字符数最长10000个字符。\n**取值范围**:\n字符长度0-131072位。\n**默认取值**:\n不涉及。","maxLength":131072,"minLength":1,"type":"string","x-annotations":"@TextLength(maxLength = 10000)"}},"required":["text"],"x-imports":["com.huawei.hdh.mps.annotations.TextLength"]},"TextLayerConfig":{"description":"素材文字图层配置。","properties":{"font_color":{"default":"#FFFFFF","description":"**参数解释**:\n字体颜色。RGB颜色值。\n\n**约束限制**:\n不涉及。\n**取值范围**:\n字符长度0-16位","maxLength":16,"minLength":0,"type":"string"},"font_name":{"default":"HarmonyOS_Sans_SC_Black","description":"**参数解释**:\n字体。当前支持的字体:\n**约束限制**:\n不涉及。\n**取值范围**:\n支持的字体请参考[服务支持的字体](metastudio_02_0041.xml)","maxLength":64,"minLength":0,"type":"string"},"font_size":{"default":16,"description":"**参数解释**:\n字体大小(像素)。接口的取值范围为0-120,实际业务使用的取值范围要求为4-120,请以业务实际使用要求为准。\n\n**约束限制**:\n不涉及。","format":"int32","maximum":120,"minimum":0,"type":"integer"},"text_context":{"description":"**参数解释**:\n文字图层的文本,内容需做Base64编码。\n\n示例:若想添加文字水印“测试文字水印”,那么text_context的值为:5rWL6K+V5paH5a2X5rC05Y2w\n**约束限制**:\n不涉及。\n**取值范围**:\n字符长度0-1024位。\n**默认取值**:\n不涉及。","maxLength":1024,"minLength":0,"type":"string"}},"type":"object"},"VideoLayerConfig":{"description":"素材视频图层配置。","properties":{"loop_count":{"default":-1,"description":"**参数解释**:\n循环播放视频次数。\n\n特殊取值:\n* 0:表示不播放\n* -1:表示持续循环播放\n\n**约束限制**:\n不涉及。","format":"int32","maximum":100,"minimum":-1,"type":"integer"},"video_cover_url":{"description":"**参数解释**:\n视频封面文件的URL。\n**约束限制**:\n不涉及。\n**取值范围**:\n字符长度1-2048位。\n**默认取值**:\n不涉及。","maxLength":2048,"minLength":1,"type":"string"},"video_url":{"description":"**参数解释**:\n视频文件的URL。\n**约束限制**:\n不涉及。\n**取值范围**:\n字符长度1-2048位。\n**默认取值**:\n不涉及。","maxLength":2048,"minLength":1,"type":"string"}},"type":"object"},"VoiceConfig":{"description":"语音配置参数。","properties":{"pitch":{"default":100,"description":"**参数解释**:\n音高。\n**约束限制**:\n不涉及。","format":"int32","maximum":200,"minimum":50,"type":"integer"},"speed":{"default":100,"description":"**参数解释**:\n语速。50表示0.5倍语速,100表示正常语速,200表示2倍语速。\n当取值为“100”时,表示一个成年人的正常语速,约为250字/分钟。\n\n**约束限制**:\n不涉及。","format":"int32","maximum":200,"minimum":50,"type":"integer"},"voice_asset_id":{"description":"**参数解释**:\n音色资产ID,可以从资产库中查询。\n**约束限制**:\n不涉及。\n**取值范围**:\n字符长度1-256位。\n**默认取值**:\n不涉及。","example":"39b9cedccec1f19b33d8f7ce1a6d35b9","maxLength":64,"minLength":1,"type":"string"},"volume":{"default":140,"description":"**参数解释**:\n音量。\n**约束限制**:\n不涉及。","format":"int32","maximum":240,"minimum":90,"type":"integer"}},"required":["voice_asset_id"]}},"description":null,"group_id":"7984cf04c82a4342865464b938d5dfc2","host":"metastudio.cn-north-4.myhuaweicloud.com","id":"3a1af65cc1704908ba56029cdfcda5ba","info_version":"v1","method":"get","name":"ShowPhotoDigitalHumanVideo","parameters":{"AuthorizationHeader":{"description":"使用AK/SK方式认证时必选,携带的鉴权信息。","in":"header","maxLength":256,"minLength":1,"name":"Authorization","required":false,"type":"string","x-annotations":["@Size(min = 1, max = 256)"],"x-example":"SDK-HMAC-SHA256 Access=xxx, SignedHeaders=content-type;host;x-sdk-date, Signature=xxx"},"Job-IdPath":{"description":"任务ID。","in":"path","maxLength":64,"minLength":1,"name":"job_id","required":true,"type":"string","x-annotations":["@Size(min = 1, max = 64)"],"x-example":"70b76xxxxxx34253880af501cdxxxxxx"},"Project-IdPath":{"description":"项目ID,获取方法请参考[获取项目ID](metastudio_02_0006.xml)。","in":"path","maxLength":64,"minLength":1,"name":"project_id","required":true,"type":"string","x-annotations":["@Size(min = 1, max = 64)"],"x-example":"70b76xxxxxx34253880af501cdxxxxxx"},"X-App-UserId":{"description":"第三方用户ID。不允许输入中文。","in":"header","maxLength":256,"minLength":1,"name":"X-App-UserId","required":false,"type":"string","x-annotations":["@Size(min = 1, max = 256)"],"x-example":"abcdefg1234567"},"X-Auth-TokenHeader":{"description":"用户Token。使用Token鉴权方式时必选。\n\n通过调用IAM服务获取用户Token接口获取。\n\n响应消息头中X-Subject-Token的值。","in":"header","maxLength":16384,"minLength":1,"name":"X-Auth-Token","required":false,"type":"string","x-annotations":["@Size(min = 1, max = 16384)"],"x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},"X-Project-IdHeader":{"description":"使用AK/SK方式认证时必选,携带项目ID信息。","in":"header","maxLength":64,"minLength":1,"name":"X-Project-Id","required":false,"type":"string","x-annotations":["@Size(min = 1, max = 64)"],"x-example":"70b76xxxxxx34253880af501cdxxxxxx"},"X-Sdk-DateHeader":{"description":"使用AK/SK方式认证时必选,请求的发生时间。\n\n格式为(YYYYMMDD'T'HHMMSS'Z')。","in":"header","maxLength":16,"minLength":16,"name":"X-Sdk-Date","required":false,"type":"string","x-annotations":["@Size(min = 16, max = 16)"],"x-example":"20191115T033655Z"}},"paths":{"/v1/{project_id}/photo-digital-human-videos/{job_id}":{"get":{"description":"该接口用于查询照片分身数字人视频制作任务详情。","operationId":"ShowPhotoDigitalHumanVideo","parameters":[{"$ref":"#/parameters/Project-IdPath"},{"$ref":"#/parameters/Job-IdPath"},{"$ref":"#/parameters/X-Auth-TokenHeader"},{"$ref":"#/parameters/AuthorizationHeader"},{"$ref":"#/parameters/X-Sdk-DateHeader"},{"$ref":"#/parameters/X-Project-IdHeader"},{"$ref":"#/parameters/X-App-UserId"},{"default":false,"description":"是否需要返回剧本参数配置。","in":"query","name":"show_script","required":false,"type":"boolean"}],"produces":["application/json"],"responses":{"200":{"description":"处理成功返回。","examples":{"application/json":{"create_time":"2022-11-30T06:59:56Z","duration":60,"end_time":"2022-01-18T16:30:36Z","job_id":"26f06524-4f75-4b3a-a853-b649a21aaf66","lastupdate_time":"2022-11-30T07:00:09Z","output_asset_config":{"asset_id":"942e65a5fd219a2e01fb08d881cfadb9","asset_name":"One Day","cover_url":"https://{endpoint}/0d697589d98091f12f92c0073501cd79/942e65a5fd219a2e01fb08d881cfadb9/20d367508e62d3d4ad608cedbe81bd35.png?AccessKeyId=XCQKTA8IWQPCAUQS4SDA&Expires=1671241457&Signature=zVGMVbI5ji9rr8epD1Cir5OGIRk%3D"},"script_id":"4b5b6effcf3b4c72a0baccb265111765","shoot_scripts":[{"sequence_no":0,"shoot_script":{"text_config":{"text":"大家好,我是云玲。"}}}],"start_time":"2022-01-18T16:29:36Z","state":"SUCCESS","video_config":{"bitrate":5000,"codec":"H264","frame_rate":30},"voice_config":{"pitch":100,"speed":100,"voice_asset_id":"f5e6a13eab4443fa85421191ad061780","volume":140}}},"headers":{"X-Request-Id":{"description":"请求ID。","type":"string"}},"schema":{"$ref":"#/definitions/ShowPhotoDigitalHumanVideoDetail"}},"400":{"$ref":"#/responses/BadRequest"},"401":{"$ref":"#/responses/Unauthorized"},"404":{"$ref":"#/responses/NotFound"},"500":{"$ref":"#/responses/InternalServiceError"}},"summary":"查询照片分身数字人视频制作任务详情","tags":["DigitalHumanVideoManagerForPhoto"],"x-api-type":"open-api","x-apiexplorer-hide":"N","x-apig-group":"public-iam,internal-appcode","x-is-registered":"Y","x-open-range":"public","x-request-examples-url-1":"GET https://{endpoint}/v1/0d697589d98091f12f92c0073501cd79/photo-digital-human-videos/26f06524-4f75-4b3a-a853-b649a21aaf66","x-support-sdk":"Y"}}},"product_short":"MetaStudio","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询照片分身数字人视频制作任务详情","tags":"照片数字人视频制作管理","uri":null,"version":"2.0"}