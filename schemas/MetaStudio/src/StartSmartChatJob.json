{"base_path":null,"components":null,"consumes":"[\"application/json;charset=utf-8\"]","definitions":{"ChatSubtitleConfig":{"description":"字幕配置。","properties":{"dx":{"description":"字幕左上角像素点坐标。\n\n> *横屏(16:9)视频像素为1920x1080;竖屏(9:16)视频像素为1080x1920。","example":256,"format":"int32","maximum":1920,"minimum":0,"type":"integer"},"dy":{"description":"字幕左上角像素点坐标。\n\n> *横屏(16:9)视频像素为1920x1080;竖屏(9:16)视频像素为1080x1920。","format":"int32","maximum":1920,"minimum":0,"type":"integer"},"height":{"description":"图层图片高度像素值(相对画布大小)。\n> 横屏(16:9)画布像素为1920x1080;竖屏(9:16)画布像素为1080x1920。","format":"int32","maximum":7680,"minimum":1,"type":"integer"},"width":{"description":"图层图片宽度像素值(相对画布大小)。\n> 横屏(16:9)画布像素为1920x1080;竖屏(9:16)画布像素为1080x1920。","format":"int32","maximum":7680,"minimum":1,"type":"integer"}}},"ChatVideoConfigRsp":{"properties":{"height":{"description":"视频高度。\n\n单位:像素。\n\n最小值320,最大值2560。\n> * clip_mode=RESIZE时,当前支持1920x1080、1080x1920、1280x720、720x1280、3840x2160、2160x3840六种分辨率分辨率。\n> * clip_mode=CROP,裁剪后视频,(dx,dy)为原点,保留视频像高度为height。\n> * 分身数字人直播目前只支持1080x1920。","maximum":3840,"minimum":0,"type":"integer"},"width":{"description":"视频宽度。\n\n单位:像素。\n\n最小值320,最大值2560。\n> * clip_mode=RESIZE时,当前支持1920x1080、1080x1920、1280x720、720x1280、3840x2160、2160x3840六种分辨率。4K分辨率视频需要分身数字人模型支持4K的情况下才能使用。\n> * clip_mode=CROP,裁剪后视频,(dx,dy)为原点,保留视频像宽度为width。\n> * 分身数字人直播目前只支持1080x1920。","maximum":3840,"minimum":0,"type":"integer"}}},"RTCRoomInfoList":{"description":"RTC房间信息。","properties":{"app_id":{"description":"RTC应用ID。","maxLength":32,"minLength":1,"type":"string"},"room_id":{"description":"RTC房间ID。","maxLength":36,"minLength":1,"type":"string"},"users":{"description":"加入RTC房间用户信息。","items":{"$ref":"#/definitions/RTCUserInfo"},"maxItems":4,"minItems":2,"type":"array"}},"type":"object"},"RTCUserInfo":{"description":"接入RTC的用户信息。","properties":{"ctime":{"description":"有效期。时间戳,单位:秒。","format":"int64","maximum":4294967295,"minimum":0,"type":"integer"},"signature":{"description":"RTC鉴权token。","maxLength":64,"minLength":1,"type":"string"},"user_id":{"description":"RTC用户ID。","maxLength":64,"minLength":1,"type":"string"},"user_type":{"description":"用户类型。\n* CAPTURE: 直播助手,将摄像头获取视频流推送到RTC房间\n* ANIMATION: VDS服务,从RTC房间拉视频流生成动作数据\n* RENDER: 渲染服务,将动作数据渲染成数字人动画\n* PLAYER: 普通观看方,可选择原始视频流或者数字人动画视频流观看\n* INFERENCE_USER: 数字人推理端用户。从RTC房间接收音频流,并推送视频流到RTC房间\n* END_USER: 端侧用户。从推送音频流到RTC房间,并从RTC房间接收视频流","enum":["CAPTURE","ANIMATION","RENDER","PLAYER","INFERENCE_USER","END_USER"],"type":"string"}},"type":"object"},"StartSmartChatRsp":{"description":"数字人智能交互对话任务响应。","properties":{"chat_subtitle_config":{"$ref":"#/definitions/ChatSubtitleConfig","description":"对话字幕配置"},"job_id":{"description":"智能交互对话任务ID。","maxLength":64,"minLength":1,"type":"string"},"rtc_room_info":{"$ref":"#/definitions/RTCRoomInfoList"},"video_config":{"$ref":"#/definitions/ChatVideoConfigRsp","description":"视频输出配置。"}},"required":["job_id"]}},"description":null,"group_id":"7984cf04c82a4342865464b938d5dfc2","host":"metastudio.cn-north-4.myhuaweicloud.com","id":"73184a957130479e98777da8c67d5c9a","info_version":"v1","method":"post","name":"StartSmartChatJob","parameters":{"AuthorizationHeader":{"description":"使用AK/SK方式认证时必选,携带的鉴权信息。","in":"header","maxLength":256,"minLength":1,"name":"Authorization","required":false,"type":"string","x-annotations":["@Size(min = 1, max = 256)"],"x-example":"SDK-HMAC-SHA256 Access=xxx, SignedHeaders=content-type;host;x-sdk-date, Signature=xxx"},"Project-IdPath":{"description":"项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-metastudio/metastudio_02_0006.html)。","in":"path","maxLength":64,"minLength":1,"name":"project_id","required":true,"type":"string","x-annotations":["@Size(min = 1, max = 64)"],"x-example":"70b76xxxxxx34253880af501cdxxxxxx"},"Room-IdPath":{"description":"直播间ID。","in":"path","maxLength":64,"minLength":1,"name":"room_id","required":true,"type":"string","x-annotations":["@Size(min = 1, max = 64)"],"x-example":"70b76xxxxxx34253880af501cdxxxxxx"},"X-App-UserId":{"description":"第三方用户ID。\n> * 不允许输入中文。","in":"header","maxLength":256,"minLength":1,"name":"X-App-UserId","required":false,"type":"string","x-annotations":["@Size(min = 1, max = 256)"],"x-example":"abcdefg1234567"},"X-Auth-TokenHeader":{"description":"用户Token。使用Token鉴权方式时必选。\n\n通过调用IAM服务获取用户Token接口获取。\n\n响应消息头中X-Subject-Token的值。","in":"header","maxLength":16384,"minLength":1,"name":"X-Auth-Token","required":false,"type":"string","x-annotations":["@Size(min = 1, max = 16384)"],"x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},"X-Project-IdHeader":{"description":"使用AK/SK方式认证时必选,携带项目ID信息。","in":"header","maxLength":64,"minLength":1,"name":"X-Project-Id","required":false,"type":"string","x-annotations":["@Size(min = 1, max = 64)"],"x-example":"70b76xxxxxx34253880af501cdxxxxxx"},"X-Sdk-DateHeader":{"description":"使用AK/SK方式认证时必选,请求的发生时间。\n\n格式为(YYYYMMDD'T'HHMMSS'Z')。","in":"header","maxLength":16,"minLength":16,"name":"X-Sdk-Date","required":false,"type":"string","x-annotations":["@Size(min = 16, max = 16)"],"x-example":"20191115T033655Z"}},"paths":{"/v1/{project_id}/digital-human-chat/smart-chat-rooms/{room_id}/smart-chat-jobs":{"post":{"consumes":["application/json"],"description":"该接口用于启动数字人智能交互任务。","operationId":"StartSmartChatJob","parameters":[{"$ref":"#/parameters/X-Auth-TokenHeader"},{"$ref":"#/parameters/AuthorizationHeader"},{"$ref":"#/parameters/X-Sdk-DateHeader"},{"$ref":"#/parameters/X-Project-IdHeader"},{"$ref":"#/parameters/X-App-UserId"},{"$ref":"#/parameters/Project-IdPath"},{"$ref":"#/parameters/Room-IdPath"},{"description":"机器人ID。","in":"query","maxLength":64,"minLength":1,"name":"robot_id","required":true,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"处理成功返回。","examples":{"application/json":{"chat_subtitle_config":{"dx":256,"dy":256,"height":256,"width":256},"job_id":"38ch6xxxxxx5z233850af709crxxxxxx","rtc_room_info":{"app_id":"8cb83827a73d4d4f8191eae56bfea550","room_id":"41c86xxxxxx34253850af102cdxxxxxx","users":[{"ctime":1702866202,"signature":"83090ff53f3040xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxf4cb21585b781","user_id":"eca4e308c4ed49f0b3822e5de33b34b6","user_type":"PLAYER"}]},"video_config":{"height":1080,"width":1920}}},"headers":{"X-Request-Id":{"description":"请求ID。","type":"string"}},"schema":{"$ref":"#/definitions/StartSmartChatRsp"}},"400":{"$ref":"#/responses/BadRequest"}},"summary":"启动数字人智能交互任务","tags":["DialogManagement"],"x-api-type":"open-api","x-imports":"com.huawei.springframework.advice.HttpStatusController;com.huawei.springframework.security.auth.annotation.TokenAuthorization;","x-is-registered":"Y","x-open-range":"public","x-request-examples-url-1":"POST https://metastudio.cn-north-4.myhuaweicloud.com/v1/70b76xxxxxx34253880af501cdxxxxxx/digital-human-chat/smart-chat-rooms/41c86xxxxxx34253850af102cdxxxxxx/smart-chat-jobs?robot_id=4d54xxxxxxc446249xxxxxxxxxx6526","x-support-sdk":"Y"}}},"product_short":"MetaStudio","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"启动数字人智能交互任务","tags":"智能交互对话管理","uri":null,"version":"2.0"}