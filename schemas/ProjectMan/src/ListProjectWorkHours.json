{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"BadRequestError":{"properties":{"error_code":{"description":"错误码","example":"PM.00000001","type":"string"},"error_msg":{"description":"错误描述","example":"参数错误","type":"string"}},"required":["error_code","error_msg"],"type":"object"},"ListProjectWorkHoursRequestBody":{"properties":{"begin_time":{"description":"工时开始日期,年-月-日","example":"2018-07-04","type":"string"},"end_time":{"description":"工时结束日期,年-月-日","example":"2018-07-05","type":"string"},"limit":{"description":"每页显示数量,每页最多显示100条","example":100,"format":"int32","maximum":100,"minimum":1,"type":"integer"},"offset":{"description":"偏移量,offset是limit的整数倍,limit=10,offset=0,10,20...","example":1,"format":"int32","minimum":0,"type":"integer"},"project_ids":{"description":"查询的项目id列表","items":{"description":"项目id","example":"eace9c0a00574de6878ab580daa9a317","type":"string"},"type":"array"},"user_ids":{"description":"查询的用户id列表","items":{"description":"用户id","example":"e2da96a5d2c845e284f0ad47f8ca8cb1","type":"string"},"type":"array"},"work_hours_dates":{"description":"工时日期,以逗号分隔,年-月-日","example":"2020-05-02,2020-03-02,2021-09-01","type":"string"},"work_hours_types":{"description":"工时类型,以逗号分隔,21:研发设计,22:后端开发,23:前端开发(Web),24:前端开发(小程序),25:前端开发(App),26:测试验证,27:缺陷修复,28:UI设计,29:会议,30:公共事务,31:培训,32:研究,33:其它,34:调休请假","example":"21,22,23","type":"string"}},"required":["limit","offset"],"type":"object"},"ShowProjectWorkHoursResponseBody":{"properties":{"total":{"description":"总数","example":1,"format":"int32","type":"integer"},"work_hours":{"description":"工时列表","items":{"properties":{"closed_time":{"description":"工作项结束时间","example":"2019-12-20","type":"string"},"created_time":{"description":"工作项创建时间","example":"2019-12-17","type":"string"},"issue_id":{"description":"工作项id","example":123456,"format":"int32","type":"integer"},"issue_type":{"description":"工作项类型","example":"Story","type":"string"},"nick_name":{"description":"用户昵称","example":"用户昵称","type":"string"},"project_name":{"description":"项目名称","example":"项目名称","type":"string"},"subject":{"description":"工作项标题","example":"工作项标题","type":"string"},"summary":{"description":"工时内容","example":"做了XXXXX","type":"string"},"user_id":{"description":"用户id","example":"09d75cdd9a00d44d2f17c01875483f26","type":"string"},"user_name":{"description":"用户名","example":"用户名","type":"string"},"work_date":{"description":"工时日期","example":"2020-02-19","type":"string"},"work_hours_created_time":{"description":"工时创建时间","example":"2019-12-17 09:00:00","type":"string"},"work_hours_num":{"description":"工时花费","example":"2.0","type":"string"},"work_hours_type_name":{"description":"工时类型","example":"后端开发","type":"string"},"work_hours_updated_time":{"description":"工时更新时间","example":"2019-12-20 15:00:00","type":"string"}},"type":"object"},"type":"array"}},"type":"object"},"UnauthorizedRequestError":{"properties":{"error_code":{"description":"错误码","example":"DEV.00000003","type":"string"},"error_msg":{"description":"错误描述","example":"认证信息过期","type":"string"}},"required":["error_code","error_msg"],"type":"object"}},"description":null,"group_id":"986b06428ba54ab7a1b0a2cac7203d2a","host":"projectman-ext.cn-north-4.myhuaweicloud.com","id":"fafccfc4ab6a4f0693a6ca4445faee57","info_version":"v4","method":"post","name":"ListProjectWorkHours","parameters":{},"paths":{"/v4/projects/work-hours":{"post":{"consumes":["application/json"],"deprecated":false,"description":"按用户查询工时(多项目)","operationId":"ListProjectWorkHours","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":32768,"minLength":10,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"请求参数","in":"body","name":"ListProjectWorkHoursRequestBody","required":true,"schema":{"$ref":"#/definitions/ListProjectWorkHoursRequestBody"}}],"produces":["*/*"],"responses":{"200":{"description":"ok","examples":{"application/json":"{\n  \"work_hours\": [\n    {\n      \"project_name\": \"项目名称\",\n      \"nick_name\": \"用户昵称\",\n      \"user_id\": \"09d75cdd9a00d44d2f17c01875483f26\",\n      \"user_name\": \"用户名\",\n      \"work_date\": \"2020-02-19\",\n      \"work_hours_num\": \"2.0\",\n      \"summary\": \"做了XXXXX\",\n      \"work_hours_type_name\": \"后端开发\",\n      \"issue_id\": 123456,\n      \"issue_type\": \"Story\",\n      \"subject\": \"工作项标题\",\n      \"created_time\": \"2019-12-17\",\n      \"closed_time\": \"2019-12-20\",\n      \"work_hours_created_time\": \"2019-12-17 09:00:00\",\n      \"work_hours_updated_time\": \"2019-12-20 15:00:00\"\n    }\n  ],\n  \"total\": 1\n}"},"schema":{"$ref":"#/definitions/ShowProjectWorkHoursResponseBody"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/BadRequestError"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/UnauthorizedRequestError"}}},"security":[{"apig-auth-iam":[]}],"summary":"按用户查询工时(多项目)","tags":["Scrum项目的工作项"],"x-apiexplorer-hide":"N","x-is-registered":"Y","x-request-examples-1":{"end_time":"2020-08-14","limit":1,"offset":0,"project_ids":["e2da96a5d2c845e284f0ad47f8ca8cb2","a2da96a5d2c845e284f0ad47f8ca8cef"]},"x-request-examples-url-1":"Post https://{endpoint}/v4/projects/work-hours","x-support-sdk":"Y"}}},"product_short":"ProjectMan","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-app":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-iam-none":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM_NONE"}},"summary":"按用户查询工时(多项目)","tags":"Scrum项目的工作项","uri":null,"version":"2.0"}