{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CreateLogStreamIndexRespBody":{"properties":{"errorCode":{"description":"错误码","type":"string"},"errorMessage":{"description":"错误信息描述","type":"string"},"isQueryComplete":{"description":"是否查询完成","type":"boolean"},"result":{"description":"结果","type":"string"}},"type":"object"},"LTSFieldsInfo":{"properties":{"ascii":{"description":"特殊分词符","items":{"type":"string"},"type":"array"},"caseSensitive":{"default":false,"description":"是否大小写敏感","example":false,"type":"boolean"},"fieldName":{"description":"字段名称","example":"collectTime","maxLength":256,"minLength":1,"type":"string"},"fieldType":{"description":"字段类型","enum":["string","long","float"],"example":"long","type":"string"},"includeChinese":{"default":false,"description":"是否包含中文","example":true,"type":"boolean"},"quickAnalysis":{"default":false,"description":"是否快速分析","example":true,"type":"boolean"},"tokenizer":{"description":"分词符","example":"","maxLength":128,"minLength":0,"type":"string"}},"required":["fieldType","fieldName","tokenizer"],"type":"object"},"LTSFullTextIndexInfo":{"properties":{"ascii":{"description":"特殊分词符","items":{"default":null,"example":"0 ~ 127 之前的数字字符串","maxLength":128,"minLength":1,"type":"string"},"type":"array"},"caseSensitive":{"description":"是否大小写敏感","example":false,"type":"boolean"},"enable":{"description":"是否开启全文索引","example":true,"type":"boolean"},"includeChinese":{"description":"是否包含中文","example":true,"type":"boolean"},"tokenizer":{"description":"自定义分词符","example":", '\";=()[]{}@&<>/:\\n\\t\\r","maxLength":128,"minLength":0,"type":"string"}},"required":["enable","caseSensitive","includeChinese","tokenizer"],"type":"object"},"LTSIndexConfigInfo":{"properties":{"fields":{"description":"字段索引配置","items":{"$ref":"#/definitions/LTSFieldsInfo"},"type":"array"},"fullTextIndex":{"$ref":"#/definitions/LTSFullTextIndexInfo","description":"全文索引配置"},"logStreamId":{"description":"日志流id","maxLength":36,"minLength":36,"type":"string"},"sqlAnalysisEnable":{"description":"是否开启可视化","type":"boolean"}},"required":["fullTextIndex"],"type":"object"}},"description":null,"group_id":"8f58e31c452f407885dec582b8542111","host":"lts.cn-north-4.myhuaweicloud.com","id":"76d1c1062de243eca46da900321d2f32","info_version":"v2","method":"post","name":"CreateLogStreamIndex","parameters":{},"paths":{"/v1.0/{project_id}/groups/{group_id}/stream/{stream_id}/index/config":{"post":{"description":"向指定流创建索引","operationId":"CreateLogStreamIndex","parameters":[{"description":"'项目ID,账号ID,日志组ID、日志流ID,获取方式请参见:获取项目ID,获取账号ID,日志组ID、日志流ID'","in":"path","maxLength":36,"minLength":36,"name":"project_id","required":true,"type":"string"},{"description":"'项目ID,账号ID,日志组ID、日志流ID,获取方式请参见:获取项目ID,获取账号ID,日志组ID、日志流ID'","in":"path","maxLength":36,"minLength":36,"name":"group_id","required":true,"type":"string"},{"description":"'项目ID,账号ID,日志组ID、日志流ID,获取方式请参见:获取项目ID,获取账号ID,日志组ID、日志流ID'","in":"path","maxLength":36,"minLength":36,"name":"stream_id","required":true,"type":"string"},{"description":"全文索引和字段索引至少开启一种","in":"body","name":"request_body","required":true,"schema":{"$ref":"#/definitions/LTSIndexConfigInfo"}},{"description":"'从IAM服务获取的用户Token,获取方式请参见:[获取用户Token]'","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"该字段填为:application/json;charset=UTF-8","in":"header","name":"Content-Type","required":true,"type":"string"}],"responses":{"200":{"description":"添加索引配置成功","examples":{"application/json":{"errorCode":"SVCSTG.ALS.200200","errorMessage":"add or update indexConfig successfully","isQueryComplete":true,"result":"493d04ce-5130-4b07-88be-c5ae3b50bccb"}},"schema":{"$ref":"#/definitions/CreateLogStreamIndexRespBody"}},"400":{"description":"请求参数错误,请根据响应体内容进行修改","examples":{"application/json":{"errorCode":"SVCSTG.ALS.200201","errorMessage":"IndexConfigInfo check failed.","isQueryComplete":true}},"schema":{"type":"string"}},"401":{"description":"认证鉴权失败,排查认证信息是否过期","examples":{"application/json":{"error_code":"APIGW.0301","error_msg":"Incorrect IAM authentication information: decrypt token fail","request_id":"b16cc9d789f34cd5196d8df065341788"}},"schema":{"type":"string"}},"500":{"description":"表示服务后端已经接受到请求,但服务内部处理错误","examples":{"application/json":{"encoded_authorization_message":null,"errorCode":"LTS.0203","errorMessage":"Internal Server Error","highLightFields":{},"isQueryComplete":true,"result":null}},"schema":{"type":"string"}}},"summary":"向指定流创建索引","tags":["日志流管理"],"x-api-framework":"RestfulAPI","x-api-position":"Region_ZONE","x-api-privacy-parameter":null,"x-api-sensitiveinfo":null,"x-api-type":"open-api","x-api-user":"IAM_User","x-api-userinput-untrust":null,"x-authority-parameter-body":"logStreamId","x-authority-parameter-url":"project_id","x-is-registered":"Y","x-open-region-cloud":"hws,hws_hk","x-request-examples-1":{"fields":[{"caseSensitive":false,"fieldName":"fieldName1","fieldType":"long","includeChinese":true,"quickAnalysis":true,"tokenizer":""},{"caseSensitive":false,"fieldName":"fieldName2","fieldType":"string","includeChinese":true,"quickAnalysis":true,"tokenizer":""}],"fullTextIndex":{"caseSensitive":false,"enable":true,"includeChinese":true,"tokenizer":", '\";=()[]{}@&<>/:\\n\\t\\r"},"logStreamId":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"},"x-request-examples-description-1":"该接口用于向指定日志流创建索引。","x-request-examples-text-1":{"fields":[{"caseSensitive":false,"fieldName":"fieldName1","fieldType":"long","includeChinese":true,"quickAnalysis":true,"tokenizer":""},{"caseSensitive":false,"fieldName":"fieldName2","fieldType":"string","includeChinese":true,"quickAnalysis":true,"tokenizer":""}],"fullTextIndex":{"caseSensitive":false,"enable":true,"includeChinese":true,"tokenizer":", '\";=()[]{}@&<>/:\\n\\t\\r"},"logStreamId":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"},"x-request-examples-url-1":"POST https://{endpoint}/v1.0/{project_id}/groups/{group_id}/stream/{stream_id}/index/config","x-sec-auditlog":"Y","x-sec-privacy-batchtype":"batch","x-sec-privacy-datalevel":"L3","x-sec-upload-download":"Y","x-support-sdk":"Y"}}},"product_short":"LTS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"向指定流创建索引","tags":"日志流管理","uri":null,"version":"2.0"}