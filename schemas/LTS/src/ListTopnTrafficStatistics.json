{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"Error400LTSRsp":{"properties":{"errorCode":{"description":"错误码\n最小长度:8\n最大长度:36","type":"string"},"errorMessage":{"description":"错误描述\n最小长度:2\n最大长度:512","type":"string"}},"type":"object"},"ResultsTopnBody":{"properties":{"basic_transfer":{"description":"基础转储流量,byte, 查询数据类型中包含basicTransfer时返回","format":"double","type":"number"},"cold_storage":{"description":"冷存储量","format":"double","type":"number"},"index_traffic":{"description":"索引流量,byte, 查询数据类型中包含index时返回","format":"double","type":"number"},"is_agency_transfer":{"default":false,"description":"不是委托转储,true,是委托转储,则前端资源统计展示的流不能跳","type":"boolean"},"log_group_id":{"description":"日志组id,资源类型为日志组时返回","type":"string"},"log_group_name":{"description":"日志组名称,资源类型为日志组时返回","type":"string"},"log_group_name_alias":{"description":"**参数解释:**\n日志组名称别名。\n**取值范围:**\n不涉及。","type":"string"},"log_stream_id":{"description":"日志流id,资源类型为日志流时返回","type":"string"},"log_stream_name":{"description":"日志流名称,资源类型为日志流时返回","type":"string"},"log_stream_name_alias":{"description":"**参数解释:**\n日志流名称别名。\n**取值范围:**\n不涉及。","type":"string"},"senior_transfer":{"description":"基础转储流量,byte, 查询数据类型中包含seniorTransfer时返回","format":"double","type":"number"},"storage":{"description":"存储量,byte, 查询数据类型中包含storage时返回","format":"double","type":"number"},"write_traffic":{"description":"写入流量,byte, 查询数据类型中包含write时返回","format":"double","type":"number"}},"required":["index_traffic","storage","write_traffic","log_group_id","log_group_name"],"type":"object"},"TopNRes200body":{"properties":{"results":{"description":"响应结果","items":{"$ref":"#/definitions/ResultsTopnBody"},"type":"array"}},"type":"object"},"TopnRequstBody":{"properties":{"end_time":{"description":"结束时间时间戳,毫秒时间","format":"int64","type":"integer"},"filter":{"additionalProperties":{"type":"string"},"description":"过滤条件 {\n    \"log_group_id\": \"xxxxxx\"\n}过滤器,为一个map结构,键为过滤属性,值为属性值,不支持模糊匹配","type":"object"},"is_desc":{"description":"是否降序  true / false","type":"boolean"},"resource_type":{"description":"资源类型,log_group / log_stream / tenant","type":"string"},"search_list":{"description":"查询数据类型,字符串数组可多种搭配,只能在index/write/storage/basicTransfer/seniorTransfer/coldStorage中选填","items":{"type":"string"},"type":"array"},"sort_by":{"description":"排序依据,index/write/storage/basicTransfer/seniorTransfer/coldStorage,必须是search_list中存在的数据","type":"string"},"start_time":{"description":"开始时间时间戳,毫秒时间,最多支持30天范围内的查询","format":"int64","type":"integer"},"topn":{"description":"查询前多少数据,范围1~100","format":"int32","type":"integer"}},"required":["end_time","is_desc","resource_type","sort_by","start_time","topn","filter","search_list"],"type":"object"}},"description":null,"group_id":"8f58e31c452f407885dec582b8542111","host":"lts.cn-north-4.myhuaweicloud.com","id":"9a9cc06a40b04d308e5e4b99b64b3d8e","info_version":"v2","method":"post","name":"ListTopnTrafficStatistics","parameters":{},"paths":{"/v2/{project_id}/lts/topn-traffic-statistics":{"post":{"description":"统计top n的日志组或日志流流量","operationId":"ListTopnTrafficStatistics","parameters":[{"description":"项目ID,获取方式请参见:获取账号ID、项目ID、日志组ID、日志流ID。\n\n最小长度:1\n\n最大长度:64","in":"path","name":"project_id","required":true,"type":"string"},{"description":"DemoInfo object that needs to be modified","in":"body","name":"UpdateDemoInfoRequestBody","required":true,"schema":{"$ref":"#/definitions/TopnRequstBody"}},{"description":"从IAM服务获取的用户Token\n\n最小长度:1000\n\n最大长度:2000","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"description":"该字段填为:application/json;charset=UTF-8。\n\n最小长度:30\n\n最大长度:30","in":"header","name":"Content-Type","required":true,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"查询资源成功","examples":{"application/json":{"results":[{"index_traffic":0,"log_stream_id":"6fd93d47-7630-4284-a622-311d0082f6bb","log_stream_name":"cmdb-cce-cluster","storage":59810657587,"write_traffic":0},{"index_traffic":0,"log_stream_id":"504ec3dd-ac28-4783-babb-22a49f36afe3","log_stream_name":"CMSkaifatest","storage":20033606015,"write_traffic":0},{"index_traffic":6825703991,"log_stream_id":"a14dacb0-5a13-43a8-89a3-ea5424d95133","log_stream_name":"ELB","storage":15659303771,"write_traffic":1365140798.2},{"index_traffic":302172889,"log_stream_id":"25fe7494-7395-438e-8340-647613673ffa","log_stream_name":"LTStest-916-statefulset","storage":316552589,"write_traffic":60434577.8},{"index_traffic":0,"log_stream_id":"956586fc-b828-44be-8672-0a323962a8fa","log_stream_name":"mongodb_slow","storage":0,"write_traffic":0}]}},"schema":{"$ref":"#/definitions/TopNRes200body"}},"400":{"description":"BadRequest 非法请求建议根据error_msg直接修改该请求","examples":{"application/json":{"errorCode":"LTS.0208","errorMessage":"The log stream does not existed"}},"schema":{"$ref":"#/definitions/Error400LTSRsp"}},"500":{"description":"表明服务端能被请求访问到,但是服务内部出错","examples":{"application/json":{"errorCode":"LTS.0203","errorMessage":"Internal Server Error"}},"schema":{"$ref":"#/definitions/Error400LTSRsp"}}},"summary":"统计top n的日志组或日志流流量","tags":["日志管理"],"x-is-registered":"Y","x-request-examples-1":{"end_time":1669272983969,"filter":{},"is_desc":true,"resource_type":"log_stream","search_list":["index","write","storage"],"sort_by":"storage","start_time":1668668183969,"topn":100},"x-request-examples-text-1":{"end_time":1669272983969,"filter":{},"is_desc":true,"resource_type":"log_stream","search_list":["index","write","storage"],"sort_by":"storage","start_time":1668668183969,"topn":100},"x-request-examples-url-1":"/v2/2a473356cca5487f8373be891bffc1cf/lts/topn-traffic-statistics","x-support-sdk":"Y"}}},"product_short":"LTS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"统计top n的日志组或日志流流量","tags":"日志管理","uri":null,"version":"2.0"}