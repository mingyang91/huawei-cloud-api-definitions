{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CustomDate":{"description":"告警规则配置的自定义查询区间。","properties":{"end":{"description":"**参数解释:**\n查询结束时间相对于告警计划执行时间的偏移量数值。\n**约束限制:**\n根据end_unit字段的单位将有不同的取值范围,根据单位将end换算为时间不超过1天;\n**取值范围:**\nend_unit取值为second,endt取值范围为 0-86399;\nend_unit取值为minute,end取值范围为 0-1439;\nend_unit取值为hour,end取值范围为 0-23。\n**默认取值:**\n-无。","format":"int32","type":"integer"},"end_unit":{"description":"**参数解释:**\n查询结束时间相对于告警计划执行时间的偏移量单位。\n**约束限制:**\n整点时间即is_time_range_relative为false时end_unit不支持second。\n**取值范围:**\n- hour\n- minute\n- second\n**默认取值:**\nminute","type":"string"},"start":{"description":"**参数解释:**\n查询起始时间相对于告警计划执行时间的偏移量数值。\n**约束限制:**\n根据start_unit字段的单位将有不同的取值范围,根据单位将start换算为时间不超过1天。\n**取值范围:**\nstart_unit取值为second,start取值范围为 1-86400;\nstart_unit取值为minute,start取值范围为 1-1440;\nstart_unit取值为hour,start取值范围为 1-24。\n**默认取值:**\n-无。","format":"int32","type":"integer"},"start_unit":{"description":"**参数解释:**\n查询起始时间相对于告警计划执行时间的偏移量单位。\n**约束限制:**\n整点时间即is_time_range_relative为false时start_unit不支持second。\n**取值范围:**\n- hour\n- minute\n- second\n**默认取值:**\nminute","type":"string"}},"required":["start","start_unit","end","end_unit"],"type":"object"},"ErrorUpResultInfo":{"description":"调用失败时的返回值。","properties":{"error_code":{"description":"错误码。","enum":["LTS.2001","LTS.2002","LTS.2003","LTS.2004","LTS.2005","LTS.2006","LTS.2007","LTS.2008","LTS.2009","LTS.2010","LTS.2011","LTS.2012","LTS.2013","LTS.0301"],"type":"string"},"error_msg":{"description":"调用失败响应信息描述。","example":"Invalid projectId","type":"string"}},"type":"object"},"Frequency":{"properties":{"cron_expr":{"description":"当字段type为\"CRON\"时取该字段","maxLength":1024,"minLength":1,"type":"string"},"day_of_week":{"description":"当字段type为\"WEEKLY\"时取该字段(周日~周六)","format":"int32","maximum":7,"minimum":1,"type":"integer"},"fixed_rate":{"description":"当字段type为\"FIXED_RATE\"时取该字段(当fixed_rate_unit单位为minute,最大值60;当fixed_rate_unit单位为hour,最大值24)","format":"int32","maximum":60,"minimum":1,"type":"integer"},"fixed_rate_unit":{"description":"时间单位","enum":["minute","hour"],"type":"string"},"hour_of_day":{"description":"当字段type为\"DAILY\"或者\"WEEKLY\"时取该字段","format":"int32","maximum":24,"minimum":0,"type":"integer"},"type":{"description":"时间类型","enum":["CRON","HOURLY","DAILY","WEEKLY","FIXED_RATE"],"type":"string"}},"required":["type"],"title":"Frequency","type":"object"},"KeywordsAlarmRuleRespList":{"properties":{"alarm_action_rule_name":{"description":"告警行动规则名称\n>alarm_action_rule_name和notification_save_rule可以选填一个,如果都填,优先选择alarm_action_rule_name","type":"string"},"condition_expression":{"description":"条件","maxLength":64,"minLength":0,"type":"string"},"create_time":{"description":"创建时间(毫秒时间戳)","example":1628327321403,"format":"int64","maximum":13,"minimum":13,"type":"integer"},"domain_id":{"description":"domainId","maxLength":32,"minLength":32,"type":"string"},"frequency":{"$ref":"#/definitions/Frequency","description":"告警统计周期"},"keywords_alarm_level":{"description":"告警级别","enum":["Info","Minor","Major","Critical"],"type":"string"},"keywords_alarm_rule_description":{"description":"关键词告警信息描述","maxLength":64,"minLength":0,"type":"string"},"keywords_alarm_rule_id":{"description":"关键词告警id","maxLength":36,"minLength":36,"type":"string"},"keywords_alarm_rule_name":{"description":"关键词告警名称","maxLength":64,"minLength":1,"type":"string"},"keywords_requests":{"description":"关键词详细信息","items":{"$ref":"#/definitions/KeywordsRequestResponse"},"type":"array"},"notification_frequency":{"description":"通知频率,单位(分钟)","enum":[0,5,10,15,30,60,180,360],"format":"int32","type":"integer"},"projectId":{"description":"项目id","maxLength":32,"minLength":32,"type":"string"},"recovery_policy":{"description":"恢复策略周期;默认为3","format":"int32","type":"integer"},"status":{"description":"告警状态","enum":["RUNNING  启用","STOPPING  停止"],"type":"string"},"tags":{"description":"**参数解释:**\n告警标签信息。标签是以键值对(key-value)的形式表示,key和value为一一对应关系。","items":{"$ref":"#/definitions/tagsResBody"},"type":"array"},"trigger_condition_count":{"description":"触发条件:触发周期;默认为1","format":"int32","type":"integer"},"trigger_condition_frequency":{"description":"触发条件:触发次数;默认为1","format":"int32","type":"integer"},"update_time":{"description":"更新时间(毫秒时间戳)","example":1628327321403,"format":"int64","maximum":13,"minimum":13,"type":"integer"},"whether_recovery_policy":{"description":"是否打开恢复通知;默认false","type":"boolean"}},"required":["keywords_alarm_rule_id","keywords_alarm_rule_name","keywords_alarm_rule_description","condition_expression","keywords_requests","frequency","keywords_alarm_level","keywords_alarm_send","domain_id","create_time","update_time","topics","notification_frequency"],"title":"UpdateKeywordsAlarmRuleParams","type":"object"},"KeywordsRequestResponse":{"properties":{"condition":{"description":"**参数解释:**\n告警查询条件。\n**取值范围:**\n <、- >、 <=、>=","type":"string"},"custom_date":{"$ref":"#/definitions/CustomDate","description":"**参数解释:**\n根据与告警执行时间的相对时间自定义告警查询时间区间。\n**约束限制:**\n不涉及。"},"is_time_range_relative":{"description":"**参数解释:**\n告警查询日志的时间区间为相对时间还是整点时间。\n**约束限制:**\n不涉及。\n**取值范围:**\n- true: 相对时间。\n- false: 整点时间。\n**默认取值:**\ntrue","type":"boolean"},"keywords":{"description":"**参数解释:**\n在日志搜索能查到的日志关键字。\n**取值范围:**\n不涉及。","type":"string"},"log_group_id":{"description":"**参数解释:**\n日志流ID。\n**取值范围:**\n不涉及。","type":"string"},"log_group_name":{"description":"**参数解释:**\n日志组名称。\n**取值范围:**\n不涉及。","type":"string"},"log_stream_id":{"description":"**参数解释:**\n日志流ID,获取方式请参见:[获取日志组ID和日志流ID](lts_api_0014.xml)。\n**取值范围:**\n不涉及。","type":"string"},"log_stream_name":{"description":"**参数解释:**\n日志流名称。\n**取值范围:**\n不涉及。","type":"string"},"number":{"description":"**参数解释:**\n告警匹配条数。\n**取值范围:**\n不涉及。","format":"int32","type":"integer"},"search_time_range":{"description":"**参数解释:**\n查询执行告警任务时最近数据的时间范围。\n**取值范围:**\n- 最小值:1\n- 最大值:60","format":"int32","type":"integer"},"search_time_range_unit":{"description":"**参数解释:**\n查询告警时间范围单位。\n**取值范围:**\n- minute\n- hour","type":"string"}},"required":["log_stream_id","log_group_id","keywords","condition","number","search_time_range","search_time_range_unit"],"title":"KeywordsRequest","type":"object"},"ListKeywordsAlarmRuleRespBody":{"properties":{"keywords_alarm_rules":{"description":"项目id","items":{"$ref":"#/definitions/KeywordsAlarmRuleRespList"},"maxItems":5000,"minItems":0,"type":"array"}},"required":["keywords_alarm_rules"],"type":"object"},"tagsResBody":{"description":"标签字段信息","properties":{"key":{"description":"**参数解释:**\n标签键。\n**取值范围:**\n不涉及。","example":"","type":"string"},"value":{"description":"**参数解释:**\n标签值。\n**取值范围:**\n不涉及。","example":"","type":"string"}},"type":"object"}},"description":null,"group_id":"8f58e31c452f407885dec582b8542111","host":"lts.cn-north-4.myhuaweicloud.com","id":"65eca8ed3c1940bea5e202889d31742e","info_version":"v2","method":"get","name":"ListKeywordsAlarmRules","parameters":{},"paths":{"/v2/{project_id}/lts/alarms/keywords-alarm-rule":{"get":{"description":"该接口用于查询关键词告警。","operationId":"ListKeywordsAlarmRules","parameters":[{"default":"None","description":"项目ID,获取方式请参见:获取账号ID、项目ID、日志组ID、日志流ID(https://support.huaweicloud.com/api-lts/lts_api_0006.html)。","in":"path","maxLength":32,"minLength":32,"name":"project_id","required":true,"type":"string"},{"default":"None","description":"从IAM服务获取的用户Token,获取方式请参见:获取用户Token(https://support.huaweicloud.com/api-iam/iam_30_0001.html)","in":"header","maxLength":2000,"minLength":1000,"name":"X-Auth-Token","pattern":"X-Auth-Token","required":true,"type":"string"},{"default":"application/json;charset=UTF-8","description":"该字段填为:application/json;charset=UTF-8。","in":"header","maxLength":30,"minLength":30,"name":"Content-Type","required":true,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"请求响应成功。","schema":{"$ref":"#/definitions/ListKeywordsAlarmRuleRespBody"}},"500":{"description":"表明服务端能被请求访问到,但是服务内部出错。","examples":{"application/json":{"error_code":"LTS.2008","error_msg":"Find Alarm rule failed."}},"schema":{"$ref":"#/definitions/ErrorUpResultInfo"}}},"summary":"查询关键词告警规则","tags":["关键词告警规则"],"x-is-registered":"Y","x-publishpath":"lts_api_0083","x-request-examples-text-1":"/v2/{project_id}/lts/alarms/keywords-alarm-rule","x-request-examples-url-1":"GET https://{endpoint}/v2/{project_id}/lts/alarms/keywords-alarm-rule","x-support-sdk":"Y"}}},"product_short":"LTS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询关键词告警规则","tags":"关键词告警规则","uri":null,"version":"2.0"}