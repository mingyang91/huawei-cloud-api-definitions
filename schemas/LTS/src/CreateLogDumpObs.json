{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CreateLogDumpObsRequestBody":{"description":"此参数在请求实体中,采用json字符串格式","properties":{"dir_prefix_name":{"description":"自定义文件夹路径。","maxLength":100,"minLength":0,"type":"string"},"log_group_id":{"description":"日志组id。","maxLength":36,"minLength":36,"type":"string"},"log_stream_ids":{"description":"日志流id列表, 可以指定一个或多个日志流进行obs周期性转储","example":"7bb6b1e7-xxxx-4255-87f9-b3dc7fb2xxxx","items":{"maxLength":36,"minLength":36,"type":"string"},"maxItems":100,"minItems":1,"type":"array"},"obs_bucket_name":{"description":"obs 桶名称。","maxLength":100,"minLength":1,"type":"string"},"period":{"description":"转储周期的长度, 与 period_unit 拼接后必须在该列表中 [\"2min\",\"5min\",\"30min\",\"1hour\",\"3hour\",\"6hour\",\"12hour\"]。","format":"int32","maximum":30,"minimum":1,"type":"integer"},"period_unit":{"description":"转储周期的单位, 与 period 拼接后必须在该列表中 [\"2min\",\"5min\",\"30min\",\"1hour\",\"3hour\",\"6hour\",\"12hour\"]。","maxLength":4,"minLength":3,"type":"string"},"prefix_name":{"description":"转储至OBS桶中的日志文件前缀。","maxLength":100,"minLength":0,"type":"string"},"storage_format":{"description":"转储格式 RAW/JSON, 默认为 RAW。","maxLength":4,"minLength":3,"type":"string"},"switch_on":{"description":"是否开启转储 true/false, 默认为 true","type":"boolean"},"type":{"description":"周期性转储, 必须填 cycle。","maxLength":8,"minLength":5,"type":"string"}},"required":["log_group_id","log_stream_ids","obs_bucket_name","type","period","period_unit","storage_format"],"type":"object"},"CreateLogDumpObsResponseBody":{"description":"LTS日志创建obs周期性转储的返回体","properties":{"log_dump_obs_id":{"default":"None","description":"转储id。","example":"45fdc36b-xxxx-4567-xxxx-559xxxxdf968","maxLength":36,"minLength":36,"type":"string"}},"type":"object"},"ErrorResultInfo":{"description":"调用失败时的返回值。","properties":{"error_code":{"description":"错误码。","enum":["LTS.0403"],"type":"string"},"error_msg":{"description":"调用失败响应信息描述。","enum":["Invalid projectId"],"type":"string"}},"type":"object"}},"description":null,"group_id":"8f58e31c452f407885dec582b8542111","host":"lts.cn-north-4.myhuaweicloud.com","id":"9a9218e954ad47449a35707e902314e4","info_version":"v2","method":"post","name":"CreateLogDumpObs","parameters":{},"paths":{"/v2/{project_id}/log-dump/obs":{"post":{"consumes":["application/json"],"description":"该接口用于将指定的一个或多个日志流的日志转储到OBS服务。","operationId":"CreateLogDumpObs","parameters":[{"default":"None","description":"项目ID,获取方式请参见:获取账号ID、项目ID、日志组ID、日志流ID(https://support.huaweicloud.com/api-lts/lts_api_0006.html)。","in":"path","maxLength":32,"minLength":32,"name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"default":"None","description":"从IAM服务获取的用户Token,获取方式请参见:获取用户Token(https://support.huaweicloud.com/api-iam/iam_30_0001.html)","in":"header","maxLength":2000,"minLength":1000,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."},{"default":"application/json;charset=UTF-8","description":"该字段填为:application/json;charset=UTF-8。","in":"header","maxLength":30,"minLength":30,"name":"Content-Type","required":true,"type":"string"},{"description":"该参数需要在调用时,放在请求body中,为JSON字符串。","in":"body","name":"CreateLogDumpObsRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateLogDumpObsRequestBody"}}],"produces":["application/json"],"responses":{"201":{"description":"请求响应成功。","schema":{"$ref":"#/definitions/CreateLogDumpObsResponseBody"}},"400":{"description":"BadRequest。非法请求。 建议根据error_msg直接修改该请求,不要重试该请求。","examples":{"applications/json":{"error_code":"LTS.0009","error_msg":"Failed to validate the request body"}},"schema":{"$ref":"#/definitions/ErrorResultInfo"}},"401":{"description":"AuthFailed。鉴权失败, 请确认token后再次请求 。","examples":{"applications/json":{"error_code":"LTS.0414","error_msg":"Invalid token"}},"schema":{"$ref":"#/definitions/ErrorResultInfo"}},"403":{"description":"Forbidden。\n请求被拒绝访问。\n返回该状态码,表明请求能够到达服务端,且服务端能够理解用户请求,但是拒绝做更多的事情,因为该请求被设置为拒绝访问,建议直接修改该请求,不要重试该请求。","examples":{"applications/json":{"error_code":"LTS.0001","error_msg":"Invalid projectId"}},"schema":{"$ref":"#/definitions/ErrorResultInfo"}},"500":{"description":"InternalServerError。\n表明服务端能被请求访问到,但是服务内部出错。","examples":{"applications/json":{"error_code":"LTS.0202","error_msg":"Failed to query lts struct log"}},"schema":{"$ref":"#/definitions/ErrorResultInfo"}},"503":{"description":"ServiceUnavailable。\n被请求的服务无效,  服务不可用。","schema":{"type":"string"}}},"summary":"创建日志转储(旧版)","tags":["日志转储"],"x-is-registered":"Y","x-open-region-cloud":"hk,hc","x-publishpath":"lts_api_0029","x-request-examples-1":{"dir_prefix_name":"dirprefixname","log_group_id":"d9dba9f3-xxxx-48bd-xxxx-xxxxa24a8053","log_stream_ids":["45e7f609-xxxx-4cd3-835b-xxxx4a124718"],"obs_bucket_name":"lts-test","period":5,"period_unit":"min","prefix_name":"fileprefixname","storage_format":"RAW","switch_on":"true","type":"cycle"},"x-request-examples-text-1":"/v2/${project_id}/log-dump/obs\n{\n  \"log_group_id\": \"d9dba9f3-xxxx-48bd-xxxx-xxxxa24a8053\",\n  \"log_stream_ids\": [\"45e7f609-xxxx-4cd3-835b-xxxx4a124718\"],\n  \"obs_bucket_name\": \"lts-test\",\n  \"type\": \"cycle\",\n  \"storage_format\": \"RAW\",\n  \"switch_on\": \"true\",\n  \"prefix_name\": \"fileprefixname\",\n  \"dir_prefix_name\": \"dirprefixname\",\n  \"period\": 5,\n  \"period_unit\": \"min\"\n}","x-request-examples-url-1":"POST https://{endpoint}/v2/${project_id}/log-dump/obs","x-support-sdk":"Y"}}},"product_short":"LTS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建日志转储(旧版)","tags":"日志转储","uri":null,"version":"2.0"}