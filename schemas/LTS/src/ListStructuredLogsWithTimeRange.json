{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ErrorLogNew":{"description":"lts查询结果详细。","properties":{"message":{"$ref":"#/definitions/ErrorLogNewMessage","description":"接口调用信息。"}},"type":"object"},"ErrorLogNew1":{"description":"lts查询结果详细。","properties":{"message":{"$ref":"#/definitions/ErrorLogNewMessage1","description":"接口调用信息。"}},"type":"object"},"ErrorLogNewMessage":{"description":"参数集。","properties":{"code":{"description":"错误码。","enum":["LTS.0601"],"type":"string"},"details":{"description":"调用失败响应信息描述","enum":["params validator error"],"type":"string"}},"type":"object"},"ErrorLogNewMessage1":{"description":"参数集。","properties":{"code":{"description":"错误码。","enum":["LTS.0001"],"type":"string"},"details":{"description":"调用失败响应信息描述。","enum":["project verify error"],"type":"string"}},"type":"object"},"ErrorResultInfo":{"description":"调用失败时的返回值。","properties":{"error_code":{"description":"错误码。","enum":["LTS.0403"],"type":"string"},"error_msg":{"description":"调用失败响应信息描述。","enum":["Invalid projectId"],"type":"string"}},"type":"object"},"ErrorResultInfoNew":{"description":"调用失败时的返回值。","properties":{"error_code":{"description":"错误码。","example":"LTS.0010","type":"string"},"error_msg":{"description":"调用失败响应信息描述。","example":"Internal Server Error","type":"string"}},"type":"object"},"QueryLtsStructLogParamsNew":{"description":"此参数在请求实体中,采用json字符串格式","properties":{"format":{"description":"查询结果格式。当前仅支持:\"k-v\"。","maxLength":100,"minLength":0,"type":"string"},"query":{"description":"sql语句字符串。","maxLength":102400,"minLength":0,"type":"string"},"time_range":{"$ref":"#/definitions/TimeRange","description":"时间范围信息。"},"whether_to_rows":{"description":"返回数据格式,是否为行数据,默认为false。","type":"boolean"}},"required":["query","format","time_range"],"type":"object"},"TimeRange":{"description":"此参数在请求实体中,采用json字符串格式。","properties":{"end_time":{"description":"搜索起始时间(UTC时间,毫秒级)。","maxLength":13,"minLength":13,"type":"string"},"end_time_lt":{"default":false,"description":"搜索是否包含结束时间点,默认为false。","type":"boolean"},"sql_time_zone":{"description":"时区信息,默认为“UTC”。","maxLength":100,"minLength":1,"type":"string"},"start_time":{"description":"搜索起始时间(UTC时间,毫秒级)。","maxLength":13,"minLength":13,"type":"string"},"start_time_gt":{"default":false,"description":"搜索是否包含起始时间点,默认为false。","type":"boolean"}},"required":["start_time","end_time"],"type":"object"}},"description":null,"group_id":"8f58e31c452f407885dec582b8542111","host":"lts.cn-north-4.myhuaweicloud.com","id":"e0bd1a2a5c894bb18d851d851c6a91ac","info_version":"v2","method":"post","name":"ListStructuredLogsWithTimeRange","parameters":{},"paths":{"/v2/{project_id}/streams/{log_stream_id}/struct-content/query":{"post":{"consumes":["application/json"],"description":"该接口用于查询指定日志流下的结构化日志内容(新版)。","operationId":"ListStructuredLogsWithTimeRange","parameters":[{"default":"None","description":"项目ID,获取方式请参见:获取账号ID、项目ID、日志组ID、日志流ID(https://support.huaweicloud.com/api-lts/lts_api_0006.html)。","in":"path","maxLength":32,"minLength":32,"name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"default":"None","description":"日志流id,获取方式请参见:获取账号ID、项目ID、日志组ID、日志流ID(https://support.huaweicloud.com/api-lts/lts_api_0006.html)。","in":"path","maxLength":36,"minLength":36,"name":"log_stream_id","required":true,"type":"string","x-example":"a78be692-xxxx-41a8-xxxx-1ac1377dxxxx"},{"default":"None","description":"从IAM服务获取的用户Token,获取方式请参见:获取用户Token(https://support.huaweicloud.com/api-iam/iam_30_0001.html)","in":"header","maxLength":2000,"minLength":1000,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."},{"default":"application/json;charset=UTF-8","description":"该字段填为:application/json;charset=UTF-8。","in":"header","maxLength":30,"minLength":30,"name":"Content-Type","required":true,"type":"string"},{"description":"该参数需要在调用时,放在请求body中,为JSON字符串。","in":"body","name":"ListStructuredLogsWithTimeRangeRequestBody","required":true,"schema":{"$ref":"#/definitions/QueryLtsStructLogParamsNew"}}],"produces":["application/json"],"responses":{"200":{"description":"请求响应成功。","schema":{"type":"object"}},"400":{"description":"BadRequest。非法请求。 建议根据error_msg直接修改该请求,不要重试该请求。","schema":{"$ref":"#/definitions/ErrorLogNew"}},"401":{"description":"AuthFailed。鉴权失败, 请确认token后再次请求 。","schema":{"$ref":"#/definitions/ErrorLogNew1"}},"403":{"description":"Forbidden。\n请求被拒绝访问。\n返回该状态码,表明请求能够到达服务端,且服务端能够理解用户请求,但是拒绝做更多的事情,因为该请  求被设置为拒绝访问,建议直接修改该请求,不要重试该请求。","examples":{"applications/json":{"error_code":"LTS.0001","error_msg":"Invalid projectId"}},"schema":{"$ref":"#/definitions/ErrorResultInfo"}},"500":{"description":"InternalServerError。\n表明服务端能被请求访问到,但是服务内部出错。","examples":{"applications/json":{"error_code":"LTS.0202","error_msg":"Failed to query lts struct log"}},"schema":{"$ref":"#/definitions/ErrorResultInfoNew"}},"503":{"description":"ServiceUnavailable。\n被请求的服务无效,  服务不可用。","schema":{"type":"string"}}},"summary":"查询结构化日志(新版)","tags":["日志管理"],"x-is-registered":"Y","x-open-region-cloud":"hk,hc","x-publishpath":"lts_api_0024","x-request-examples-1":{"format":"k-v","query":"select *","time_range":{"end_time":1613806110000,"end_time_lt":false,"sql_time_zone":"UTC","start_time":1613806109000,"start_time_gt":false}},"x-request-examples-text-1":"/v2/{project_id}/streams/{log_stream_id}/struct-content/query\n{\n \"query\":\"select *\",\n \"format\":\"k-v\",\n \"time_range\":\n  {\n  \"sql_time_zone\": \"UTC\",\n  \"start_time\": 1613806109000,\n  \"end_time\": 1613806110000,\n  \"start_time_gt\": false,\n  \"end_time_lt\": false\n  }\n}","x-request-examples-url-1":"POST https://{endpoint}/v2/{project_id}/streams/{log_stream_id}/struct-content/query","x-support-sdk":"Y"}}},"product_short":"LTS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询结构化日志(新版)","tags":"日志管理","uri":null,"version":"2.0"}