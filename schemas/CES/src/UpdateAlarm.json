{"base_path":"/","components":null,"consumes":"[\"application/json\",\"text/plain; charset=utf-8\"]","definitions":{"AlarmActions":{"description":"**参数解释**:\n告警触发时,通知组/主题订阅的信息。\n**约束限制**:\n最多包含20个动作。\n","items":{"$ref":"#/definitions/Notification"},"maxItems":20,"minItems":0,"type":"array"},"Condition":{"description":"**参数解释**:\n告警规则设置的告警策略。\n**约束限制**:\n不涉及。\n","properties":{"comparison_operator":{"description":"**参数解释**:\n告警阈值的比较条件。\n**约束限制**:\n不涉及。\n**取值范围**:\n只能是>、=、<、>=、<=、!=。\n**默认取值**:\n不涉及。\n","example":">=","pattern":"^(>|=|<|>=|<=|!=)$","type":"string"},"count":{"description":"**参数解释**:\n触发告警的连续发生次数。\n**约束限制**:\n不涉及。\n**取值范围**:\n取值范围[1, 5]。告警类型为事件告警时,取值范围为[1, 100]。\n**默认取值**:\n不涉及。\n","example":1,"format":"int32","maximum":100,"minimum":1,"type":"integer"},"filter":{"$ref":"#/definitions/Filter"},"period":{"description":"**参数解释**:\n指标周期,单位是秒。如想了解各个云服务的指标原始周期可以参考“[支持服务列表](ces_03_0059.xml)”\n**约束限制**:\n不涉及。\n**取值范围**:\n枚举值。\n- 0代表立即触发,仅限事件场景使用。\n- 1代表指标的原始周期,比如RDS监控指标原始周期是60s,表示该RDS指标按60s周期为一个数据点参与告警计算。\n- 300代表指标按5分钟聚合周期为一个数据点参与告警计算。\n- 1200代表指标按20分钟聚合周期为一个数据点参与告警计算。\n- 3600代表指标按1小时聚合周期为一个数据点参与告警计算。\n- 14400代表指标按4小时聚合周期为一个数据点参与告警计算。\n- 86400代表指标按1天聚合周期为一个数据点参与告警计算。\n**默认取值**:\n 不涉及。\n","enum":[0,1,300,1200,3600,14400,86400],"example":300,"format":"int32","type":"integer"},"suppress_duration":{"description":"**参数解释**:\n告警抑制时间,单位为秒,对应页面上创建告警规则时告警策略最后一个字段,该字段主要为解决告警频繁的问题。\n**约束限制**:\n不涉及。\n**取值范围**:\n枚举值,只能为0、300、600、900、1800、3600、10800、21600、43200、86400。\n- 0:对于指标类告警,0代表告警一次。对于事件类告警,在立即触发场景中,0代表不抑制;在累计触发场景,0代表只告警一次。\n- 300代表满足告警触发条件后每5分钟告警一次。\n- 600代表满足告警触发条件后每10分钟告警一次。\n- 900代表满足告警触发条件后每15分钟告警一次。\n- 1800代表满足告警触发条件后每30分钟告警一次。\n- 3600代表满足告警触发条件后每60分钟告警一次。\n- 10800代表满足告警触发条件后每3小时告警一次。\n- 21600代表满足告警触发条件后每6小时告警一次。\n- 43200代表满足告警触发条件后每12小时告警一次。\n- 86000代表满足告警触发条件后每一天告警一次。\n**默认取值**:\n不涉及。\n","enum":[0,300,600,900,1800,3600,10800,21600,43200,86400],"example":86400,"format":"int32","type":"integer","x-open-region-cloud":"hws,hws_hk"},"unit":{"description":"**参数解释**:\n数据的单位。\n**约束限制**:\n不涉及。\n**取值范围**:\n长度为[0,32]个字符。\n**默认取值**:\n不涉及。\n","example":"%","maxLength":32,"minLength":0,"type":"string"},"value":{"$ref":"#/definitions/Value"}},"required":["comparison_operator","count","filter","period","value"],"type":"object"},"Filter":{"description":"**参数解释**:\n数据聚合的方式。\n**约束限制**:\n不涉及。\n**取值范围**:\n支持 average、variance、min、max、sum。\n- average: 平均值\n- variance:方差\n- min:最小值\n- max:最大值\n- sum:求和\n**默认取值**:\n不涉及。\n","enum":["average","variance","min","max","sum"],"type":"string"},"Notification":{"properties":{"notificationList":{"description":"**参数解释**:\n告警状态发生变化时,被通知对象的列表。\n**约束限制**:\n通知对象ID最多可以配置20个。\ntopicUrn可从SMN获取,具体操作请参考查询Topic列表。当type为notification时,notificationList列表不能为空;当type为autoscaling时,列表必须为[]。\n说明:若alarm_action_enabled为true,对应的alarm_actions、insufficientdata_actions(该参数已废弃,建议无需配置)、ok_actions至少有一个不能为空。若alarm_actions、insufficientdata_actions(该参数已废弃,建议无需配置)、ok_actions同时存在时,notificationList值保持一致。\n","items":{"$ref":"#/definitions/SMNUrn"},"maxItems":20,"minItems":0,"type":"array"},"type":{"description":"**参数解释**:\n告警通知类型。\n**约束限制**:\n不涉及。\n**取值范围**:\n取值如下: notification:SMN通知; autoscaling:AS通知。\n**默认取值**:\n不涉及。\n","example":"notification","pattern":"^(notification|autoscaling|groupwatch|ecsRecovery)$","type":"string"}},"required":["type","notificationList"],"type":"object"},"SMNUrn":{"description":"**参数解释**:\n通知对象ID。\n**约束限制**:\n不涉及。\n**取值范围**:\n只能包含字母、数字、“-”、“_” 、“:”。    \n**默认取值**:\n不涉及。\n","example":"urn:smn:region:68438a86d98e427e907e0097b7e35d48:sd","pattern":"^(urn:smn:([a-z]|[A-Z]|[0-9]|\\-){1,32}:([a-z]|[A-Z]|[0-9]){32}:([a-z]|[A-Z]|[0-9]|\\-|\\_){1,256})$","type":"string"},"UpdateAlarmRequestBody":{"description":"","properties":{"alarm_action_enabled":{"default":true,"description":"是否启用该条告警触发的动作,默认为true。注:若alarm_action_enabled为true,对应的alarm_actions、ok_actions至少有一个不能为空。若alarm_actions、ok_actions同时存在时,notificationList值保持一致。","type":"boolean"},"alarm_actions":{"description":"告警触发的动作。 结构样例如下: { \"type\": \"notification\",\"notificationList\": [\"urn:smn:southchina:68438a86d98e427e907e0097b7e35d47:sd\"] } type取值: notification:通知。 autoscaling:弹性伸缩。","items":{"$ref":"#/definitions/AlarmActions"},"maxItems":10,"minItems":0,"type":"array"},"alarm_description":{"description":"告警描述,长度0-256。","maxLength":256,"minLength":0,"type":"string"},"alarm_level":{"description":"告警级别,默认为2,级别为1、2、3、4。分别对应紧急、重要、次要、提示。","format":"int32","maximum":4,"minimum":1,"type":"integer"},"alarm_name":{"description":"告警名称,只能包含0-9/a-z/A-Z/_/-或汉字。","maxLength":128,"minLength":1,"pattern":"^([\\u4E00-\\u9FFF]|[a-z]|[A-Z]|[0-9]|_|-)+$","type":"string"},"alarm_type":{"description":"告警类型,支持的枚举类型:EVENT.SYS:针对系统事件的告警规则;EVENT.CUSTOM:针对自定义事件的告警规则;RESOURCE_GROUP:针对资源分组的告警规则。","enum":["EVENT.SYS","EVENT.CUSTOM","RESOURCE_GROUP"],"type":"string"},"condition":{"$ref":"#/definitions/Condition"},"insufficientdata_actions":{"description":"数据不足触发的动作(该参数已废弃,建议无需配置)。","items":{"$ref":"#/definitions/AlarmActions"},"maxItems":10,"minItems":0,"type":"array"},"ok_actions":{"description":"告警恢复触发的动作","items":{"$ref":"#/definitions/AlarmActions"},"maxItems":10,"minItems":0,"type":"array"}}},"Value":{"description":"**参数解释**:\n告警阈值。具体阈值取值请参见附录中各服务监控指标中取值范围,如[支持监控的服务列表](ces_03_0059.xml)中ECS的CPU使用率cpu_util取值范围可配置80。\n**约束限制**:\n单一阈值时value和alarm_level配对使用,当hierarchical_value和value同时使用时以hierarchical_value为准。\n**取值范围**:\n最小值为-1.7976931348623157e+108,最大值为1.7976931348623157e+108。          \n**默认取值**:\n不涉及。\n","format":"double","maximum":1.7976931348623156e108,"minimum":-1.7976931348623156e108,"type":"number"}},"description":null,"group_id":"2062bc6f187f46ae8026a22ef9aceb0f","host":"ces.cn-north-4.myhuaweicloud.com","id":"008d03c9e5ee457e85062f391ed92726","info_version":"v1","method":"put","name":"UpdateAlarm","parameters":{"AlarmIdPath":{"description":"**参数解释**:\n告警规则ID,\n**约束限制**:\n不涉及。\n**取值范围**:\n以al开头,后跟22位由字母或数字组成的字符串。长度为24个字符。\n**默认取值**:\n不涉及。\n","in":"path","name":"alarm_id","pattern":"^al([0-9A-Za-z]){22}$","required":true,"type":"string"},"AuthToken":{"description":"**参数解释**:\n用户Token。\n**约束限制**:\n不涉及。\n**取值范围**:\n长度为[1,16384]个字符。\n**默认取值**:\n不涉及。\n","in":"header","maxLength":16384,"minLength":1,"name":"X-Auth-Token","required":false,"type":"string","x-order":2},"ContentType":{"default":"application/json; charset=UTF-8","description":"**参数解释**:\n发送的实体的MIME类型。\n**约束限制**:\n不涉及。\n**取值范围**:\n长度为[1,64]个字符。\n**默认取值**:\n默认使用 application/json; charset=UTF-8,如果API是对象、镜像上传等接口,媒体类型可按照流类型的不同进行确定。\n","in":"header","maxLength":64,"minLength":1,"name":"Content-Type","required":false,"type":"string","x-order":1},"ProjectId":{"description":"**参数解释**:\n项目ID。用于明确项目归属,配置后可通过该ID查询项目下资产,可以通过调用API获取,也可以从控制台获取。获取方式请参见“[获取项目ID](ces_03_0057.xml)”。\n**约束限制**:\n不涉及。\n**取值范围**:\n长度为[1,64]个字符。\n**默认取值**:\n不涉及。\n","in":"path","maxLength":64,"minLength":1,"name":"project_id","required":true,"type":"string"}},"paths":{"/V1.0/{project_id}/alarms/{alarm_id}":{"put":{"deprecated":false,"description":"修改告警规则。","operationId":"UpdateAlarm","parameters":[{"$ref":"#/parameters/ContentType"},{"$ref":"#/parameters/AuthToken"},{"$ref":"#/parameters/AlarmIdPath"},{"$ref":"#/parameters/ProjectId"},{"description":"请求参数。","in":"body","name":"UpdateAlarmRequestBody","required":true,"schema":{"$ref":"#/definitions/UpdateAlarmRequestBody"},"x-order":5}],"responses":{"204":{"description":"No Content"},"400":{"description":"Bad Request","schema":{"description":"请求错误。","type":"string"}},"401":{"description":"Unauthorized","schema":{"description":"未提供认证信息,或认证信息错误。","type":"string"}},"403":{"description":"Forbidden","schema":{"description":"请求页面被禁止访问。","type":"string"}},"408":{"description":"Request Timeout","schema":{"description":"请求超出了服务器的等待时间。","type":"string"}},"429":{"description":"Too Many Requests","schema":{"description":"请求过多。","type":"string"}},"500":{"description":"Internal Server Error","schema":{"description":"请求未完成,服务异常。","type":"string"}},"503":{"description":"Service Unavailable","schema":{"description":"系统暂时不可用,请求受限。","type":"string"}}},"summary":"修改告警规则","tags":["告警规则管理"],"x-api-type":"open-api","x-ces-version":"v1","x-constraint":"","x-first-open-time":"","x-hybridcloud":false,"x-is-registered":"Y","x-name":"启停告警规则","x-open-region-cloud":"hc,hk","x-order":4,"x-request-examples-1":{"alarm_action_enabled":false,"alarm_description":"alarm-update-test01","alarm_level":2,"alarm_name":"alarm-update-test01","condition":{"comparison_operator":">=","count":3,"filter":"average","period":1,"value":95}},"x-request-examples-description-1":"","x-request-examples-text-1":{"alarm_action_enabled":false,"alarm_description":"alarm-update-test01","alarm_level":2,"alarm_name":"alarm-update-test01","condition":{"comparison_operator":">=","count":3,"filter":"average","period":1,"value":95}},"x-scope":"Commercial","x-source":"SelfDeveloped","x-support-sdk":"Y","x-version":"V1"}}},"product_short":"CES","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"修改告警规则","tags":"告警规则管理","uri":null,"version":"2.0"}