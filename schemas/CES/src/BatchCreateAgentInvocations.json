{"base_path":"/","components":null,"consumes":"[\"application/json\",\"text/plain; charset=utf-8\"]","definitions":{"BatchCreateInvocationInfo":{"properties":{"error_code":{"description":"错误码","pattern":"^(invocationmgr\\.[0-9]{4})$","type":"string"},"error_msg":{"description":"错误信息","maxLength":128,"minLength":1,"type":"string"},"instance_id":{"description":"机器id","pattern":"^[a-zA-Z0-9-]{1,64}$","type":"string"},"invocation_id":{"description":"任务id","pattern":"^[a-zA-Z0-9-]{1,64}$","type":"string"},"ret_status":{"description":"任务结果, successful成功,error失败","enum":["successful","error"],"type":"string"}}},"BatchCreateInvocationRequestBody":{"example":{"instance_ids":["instancexxx001","instancexxx002"],"invocation_target":"telescope","invocation_type":"INSTALL"},"properties":{"instance_ids":{"description":"主机id列表(INSTALL和UPDATE时必须)","items":{"pattern":"^[a-zA-Z0-9-]{1,64}$","type":"string"},"maxItems":100,"minItems":1,"type":"array"},"invocation_ids":{"description":"任务ID列表(ROLLBACK和RETRY时必须)","items":{"pattern":"^[a-zA-Z0-9-]{1,64}$","type":"string"},"maxItems":100,"minItems":1,"type":"array"},"invocation_target":{"default":"telescope","description":"任务对象,目前仅支持telescope","enum":["telescope"],"type":"string"},"invocation_type":{"description":"任务类型,INSTALL 安装,UPDATE升级,ROLLBACK回退,RETRY重试","enum":["INSTALL","UPDATE","ROLLBACK","RETRY"],"type":"string"},"origin":{"description":"Agent任务接口调用源,CES表示由Console调用,APICOM_BMS表示由裸金属服务器调用,ADMIN_SERVER表示由运维平台调用","enum":["CES","APICOM_BMS","ADMIN_SERVER"],"type":"string"},"version_type":{"description":"插件升级时需要选择升级“基础版本”还是“增强版本”,传值“BASIC_VERSION”表示升级成基础版本,传值“ADVANCE_VERSION”表示升级成增强版本","enum":["BASIC_VERSION","ADVANCE_VERSION"],"type":"string"}},"required":["invocation_type"]},"BatchCreateInvocationResp":{"example":{"invocations":[{"instance_id":"instancexxx001","ret_status":"successful"},{"error_msg":"do not meet the installation conditions","instance_id":"instancexxx002","ret_status":"error"}]},"properties":{"invocations":{"description":"创建任务的信息列表","items":{"$ref":"#/definitions/BatchCreateInvocationInfo"},"maxItems":100,"minItems":0,"type":"array"}}},"ErrorResp":{"properties":{"error_code":{"description":"错误码","pattern":"^(taskmgr\\.[0-9]{4})$","type":"string"},"error_msg":{"description":"错误信息","maxLength":256,"minLength":1,"type":"string"}}}},"description":null,"group_id":"2062bc6f187f46ae8026a22ef9aceb0f","host":"ces.cn-north-4.myhuaweicloud.com","id":"711dd0e14ac04ebab14dcee654002fdc","info_version":"v3","method":"post","name":"BatchCreateAgentInvocations","parameters":{"ContentType":{"default":"application/json; charset=UTF-8","description":"发送的实体的MIME类型。默认使用application/json; charset=UTF-8。","in":"header","maxLength":64,"minLength":1,"name":"Content-Type","required":true,"type":"string"},"ProjectAuthToken":{"description":"用户project Token。用户Token也就是调用获取用户Token接口的响应值,该接口是唯一不需要认证的接口。请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。","in":"header","maxLength":16384,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string"},"ProjectID":{"description":"项目id","in":"path","maxLength":64,"minLength":1,"name":"project_id","pattern":"^[a-z0-9]+$","required":true,"type":"string"}},"paths":{"/v3/{project_id}/agent-invocations/batch-create":{"post":{"description":"批量创建Agent任务","operationId":"BatchCreateAgentInvocations","parameters":[{"$ref":"#/parameters/ProjectID"},{"$ref":"#/parameters/ContentType"},{"$ref":"#/parameters/ProjectAuthToken"},{"description":"批量创建Agent任务请求体","in":"body","name":"BatchCreateAgentInvocationsRequestBody","required":true,"schema":{"$ref":"#/definitions/BatchCreateInvocationRequestBody"}}],"responses":{"201":{"description":"Created","schema":{"$ref":"#/definitions/BatchCreateInvocationResp"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/ErrorResp"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/ErrorResp"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResp"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/ErrorResp"}}},"summary":"批量创建Agent任务","tags":["Agent任务相关接口"],"x-is-registered":"Y","x-open-region-cloud":"hc","x-support-sdk":"Y"}}},"product_short":"CES","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"批量创建Agent任务","tags":"Agent任务相关接口","uri":null,"version":"2.0"}