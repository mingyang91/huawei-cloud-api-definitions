{"base_path":"/","components":null,"consumes":"[\"application/json\",\"text/plain; charset=utf-8\"]","definitions":{"BatchCreateInvocationInfo":{"properties":{"error_code":{"description":"**参数解释**:\n错误码\n**取值范围**:\n以\"invocationmgr.\"开头且后跟4位数字的完整字符串\n","pattern":"^(invocationmgr\\.[0-9]{4})$","type":"string"},"error_msg":{"description":"**参数解释**:\n错误信息\n**取值范围**:\n数组长度范围为[1,128]\n","maxLength":128,"minLength":1,"type":"string"},"instance_id":{"description":"**参数解释**:\n机器id\n**取值范围**:\n1到64个字符的字符串,且只包含字母、数字和连字符\n","pattern":"^[a-zA-Z0-9-]{1,64}$","type":"string"},"invocation_id":{"description":"**参数解释**:\n任务id\n**取值范围**:\n1到64个字符的字符串,且只包含字母、数字和连字符\n","pattern":"^[a-zA-Z0-9-]{1,64}$","type":"string"},"ret_status":{"description":"**参数解释**:\n任务结果, successful成功,error失败\n**取值范围**:\n- successful: 成功\n- error: 失败\n","enum":["successful","error"],"type":"string"}}},"BatchCreateInvocationRequestBody":{"example":{"instance_ids":["instancexxx001","instancexxx002"],"invocation_target":"telescope","invocation_type":"INSTALL"},"properties":{"instance_ids":{"description":"**参数解释**:\n主机id列表(INSTALL和UPDATE时必须)\n**取值范围**:\n数组长度范围为[1,100]\n","items":{"pattern":"^[a-zA-Z0-9-]{1,64}$","type":"string"},"maxItems":100,"minItems":1,"type":"array"},"invocation_ids":{"description":"**参数解释**:\n任务ID列表(ROLLBACK和RETRY时必须)\n**取值范围**:\n数组长度范围为[1,100]\n","items":{"pattern":"^[a-zA-Z0-9-]{1,64}$","type":"string"},"maxItems":100,"minItems":1,"type":"array"},"invocation_target":{"default":"telescope","description":"**参数解释**:\n任务对象,目前仅支持telescope\n**取值范围**:\n- telescope:主机监控插件telescope\n","enum":["telescope"],"type":"string"},"invocation_type":{"description":"**参数解释**:\n任务类型\n**取值范围**:\n- INSTALL:安装\n- UPDATE:升级\n- ROLLBACK:回滚\n- RETRY:重试\n- SET_REMOTE_INSTALLER:设置远程安装主机\n- REMOTE_INSTALL:执行远程安装\n","enum":["INSTALL","UPDATE","ROLLBACK","RETRY","SET_REMOTE_INSTALLER","REMOTE_INSTALL"],"type":"string"},"origin":{"description":"**参数解释**:\nAgent任务接口调用源\n**取值范围**:\n- CES: 由Console调用\n- APICOM_BMS: 由裸金属服务器调用\n- ADMIN_SERVER: 由运维平台调用\n","enum":["CES","APICOM_BMS","ADMIN_SERVER"],"type":"string"},"remote_install_meta":{"description":"**参数解释**:\n创建远程安装任务时需要下发的被安装主机相关信息\n**取值范围**:\n数组长度范围为[0,100]\n","items":{"$ref":"#/definitions/RemoteInstallHostInfo"},"maxItems":100,"minItems":0,"type":"array"},"version":{"description":"**参数解释**:\n版本号\n**取值范围**:\n数组长度范围为[0,64]\n","maxLength":64,"minLength":0,"pattern":"^([0-9A-Za-z]|_|-|\\.)+$","type":"string"},"version_type":{"description":"**参数解释**:\n插件升级时需要选择升级“基础版本”还是“增强版本”\n**取值范围**:\n- BASIC_VERSION: 升级成基础版本\n- ADVANCE_VERSION: 升级成增强版本\n","enum":["BASIC_VERSION","ADVANCE_VERSION"],"type":"string"}},"required":["invocation_type"],"type":"object"},"BatchCreateInvocationResp":{"example":{"invocations":[{"instance_id":"instancexxx001","ret_status":"successful"},{"error_msg":"do not meet the installation conditions","instance_id":"instancexxx002","ret_status":"error"}]},"properties":{"invocations":{"description":"**参数解释**:\n创建任务的信息列表\n**取值范围**:\n数组长度范围为[0,100]\n","items":{"$ref":"#/definitions/BatchCreateInvocationInfo"},"maxItems":100,"minItems":0,"type":"array"}}},"ErrorResp":{"properties":{"error_code":{"description":"错误码","pattern":"^(taskmgr\\.[0-9]{4})$","type":"string"},"error_msg":{"description":"错误信息","maxLength":256,"minLength":1,"type":"string"}}},"ErrorResp400":{"allOf":[{"$ref":"#/definitions/ErrorResp"}],"example":{"error_code":"taskmgr.0005","error_msg":"Some content in message body is not correct."}},"ErrorResp401":{"allOf":[{"$ref":"#/definitions/ErrorResp"}],"example":{"error_code":"taskmgr.0003","error_msg":"Authentication fails or the authentication information is not provided"}},"ErrorResp403":{"allOf":[{"$ref":"#/definitions/ErrorResp"}],"example":{"error_code":"taskmgr.0007","error_msg":"The authentication information is incorrect or the service invoker does not have sufficient rights."}},"ErrorResp500":{"allOf":[{"$ref":"#/definitions/ErrorResp"}],"example":{"error_code":"taskmgr.0001","error_msg":"Internal service error"}},"RemoteInstallHostInfo":{"properties":{"instance_name":{"description":"**参数解释**:\n被远程安装的主机名称\n**取值范围**:\n数组长度范围为[1,128]\n","maxLength":128,"minLength":1,"type":"string"},"password":{"description":"**参数解释**:\n被远程安装的主机的登录密码\n**取值范围**:\n数组长度范围为[1,3000]\n","maxLength":3000,"minLength":1,"type":"string"},"port":{"description":"**参数解释**:\n被远程安装的主机的登录端口\n**取值范围**:\n数组长度范围为[1,5]\n","maxLength":5,"minLength":1,"type":"string"},"remote_ip":{"description":"**参数解释**:\n被远程安装的主机IP\n**取值范围**:\n仅由数字(0-9)和小数点(.)组成的字符串,字符串长度为[1,15]\n","pattern":"^(([0-9]|\\.){1,15})$","type":"string"},"remote_use_pem":{"default":false,"description":"**参数解释**:\n被远程安装的主机远程连接是否采用密钥方式(false时为密码方式)\n**取值范围**:\n- false: 密码方式\n- true: 密钥方式\n","type":"boolean"},"user_name":{"description":"**参数解释**:\n被远程安装的主机的登录用户名\n**取值范围**:\n数组长度范围为[1,16]\n","maxLength":16,"minLength":1,"type":"string"}}}},"description":null,"group_id":"2062bc6f187f46ae8026a22ef9aceb0f","host":"ces.cn-north-4.myhuaweicloud.com","id":"711dd0e14ac04ebab14dcee654002fdc","info_version":"v3","method":"post","name":"BatchCreateAgentInvocations","parameters":{"ContentType":{"default":"application/json; charset=UTF-8","description":"**参数解释**:\n发送的实体的MIME类型\n**约束限制**:\n不涉及。\n**取值范围**:\n长度为[1,64]个字符\n**默认取值**:\napplication/json; charset=UTF-8\n","in":"header","maxLength":64,"minLength":1,"name":"Content-Type","required":false,"type":"string"},"ProjectAuthToken":{"description":"用户project Token。用户Token也就是调用获取用户Token接口的响应值,该接口是唯一不需要认证的接口。请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。","in":"header","maxLength":16384,"minLength":1,"name":"X-Auth-Token","required":false,"type":"string"},"ProjectID":{"description":"**参数解释**:租户ID。用于明确项目归属,配置后可通过该ID查询项目下资产,可以通过调用API获取,也可以从控制台获取。获取方式请参见“[获取项目ID](ces_03_0057.xml)”。取值范围: 字符串的长度必须在 1 到 64个字符之间。\n**约束限制**:\n不涉及\n**取值范围**:\n长度为[1,64]个字符\n**默认取值**:\n不涉及\n","in":"path","maxLength":64,"minLength":1,"name":"project_id","required":true,"type":"string"}},"paths":{"/v3/{project_id}/agent-invocations/batch-create":{"post":{"description":"批量创建Agent任务","operationId":"BatchCreateAgentInvocations","parameters":[{"$ref":"#/parameters/ProjectID"},{"$ref":"#/parameters/ContentType"},{"$ref":"#/parameters/ProjectAuthToken"},{"description":"批量创建Agent任务请求体","in":"body","name":"BatchCreateAgentInvocationsRequestBody","required":true,"schema":{"$ref":"#/definitions/BatchCreateInvocationRequestBody"}}],"responses":{"201":{"description":"Created","examples":{"invocations":[{"instance_id":"instancexxx001","ret_status":"successful"},{"error_msg":"do not meet the installation conditions","instance_id":"instancexxx002","ret_status":"error"}]},"schema":{"$ref":"#/definitions/BatchCreateInvocationResp"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/ErrorResp400"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/ErrorResp401"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResp403"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/ErrorResp500"}}},"summary":"批量创建Agent任务","tags":["Agent任务相关接口"],"x-api-type":"open-api","x-constraint":"目前拉美-布宜诺斯艾利斯一、拉美-利马一2个局点不支持该接口\n","x-is-registered":"Y","x-open-region-cloud":"hc,hk","x-support-sdk":"Y","x-version":"v3"}}},"product_short":"CES","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"批量创建Agent任务","tags":"Agent任务相关接口","uri":null,"version":"2.0"}