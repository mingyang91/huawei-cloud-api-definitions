{"base_path":"/","components":null,"consumes":"[\"application/json\",\"text/plain; charset=utf-8\"]","definitions":{"AlarmLevel":{"default":2,"description":"告警级别,1为紧急,2为重要,3为次要,4为提示","example":2,"format":"int32","maximum":4,"minimum":1,"type":"integer"},"AlarmPolicyID":{"description":"告警策略ID。","example":"0f921f55-89b1-4534-ae54-7b40b597b5a6","maxLength":64,"minLength":1,"pattern":"^([a-z]|[A-Z]|[0-9]|-)+$","type":"string"},"ComparisonOperator":{"description":"告警阈值的比较条件,支持的值为(>|<|>=|<=|=|!=|cycle_decrease|cycle_increase|cycle_wave),cycle_decrease为环比下降,cycle_increase为环比上升,cycle_wave为环比波动","pattern":"^(>|<|>=|<=|=|!=|cycle_decrease|cycle_increase|cycle_wave)$","type":"string"},"Count":{"description":"次数","maximum":100,"minimum":1,"type":"integer"},"Dimension2":{"description":"指标维度","properties":{"name":{"description":"资源维度,如:弹性云服务器,则维度为instance_id;目前最大支持4个维度,各服务资源的指标维度名称可查看:“[服务指标维度](https://support.huaweicloud.com/usermanual-ces/zh-cn_topic_0202622212.html)”。","example":"instance_id","pattern":"^([a-z]|[A-Z]){1}([a-z]|[A-Z]|[0-9]|_|-){1,32}$","type":"string"},"value":{"description":"资源维度值,为资源的实例ID,如:4270ff17-aba3-4138-89fa-820594c39755。","example":"4270ff17-aba3-4138-89fa-820594c39755","pattern":"^((([a-z]|[A-Z]|[0-9]){1}([a-z]|[A-Z]|[0-9]|_|-|\\.)*)|\\*){1,256}$","type":"string"}},"required":["name","value"]},"EndDate":{"description":"屏蔽截止日期,yyyy-MM-dd。","example":"yyyy-MM-dd","format":"date","maxLength":10,"minLength":10,"type":"string"},"EndTime":{"description":"屏蔽截止时间,HH:mm:ss。","example":"HH:mm:ss","maxLength":8,"minLength":8,"type":"string"},"Filter":{"description":"聚合方式, 支持的值为(average|min|max|sum)","pattern":"^(average|min|max|sum)$","type":"string"},"GoAPIErrorResponseV2":{"properties":{"error_code":{"description":"请求异常内部业务状态码","example":"ces.0001","maxLength":256,"minLength":0,"type":"string"},"error_msg":{"description":"请求异常信息","example":"the request format is invalid","maxLength":256,"minLength":0,"type":"string"},"request_id":{"description":"请求ID","example":"txnEntry-DESKTOP-4LPFH08.txnId-466541d0-f1a6-429b-b747-98d4991671c1.ts-1637909316688.c-95","maxLength":256,"minLength":0,"type":"string"}},"type":"object"},"ListNotificationMaskRequestBody":{"properties":{"dimensions":{"description":"资源的维度信息","items":{"$ref":"#/definitions/Dimension2"},"maxItems":4,"minItems":1,"type":"array"},"mask_id":{"description":"屏蔽规则ID,可选","example":"nm1689737291469aj38xNVLK","maxLength":64,"minLength":1,"pattern":"^nm([0-9A-Za-z]){0,62}$","type":"string"},"mask_name":{"description":"屏蔽规则名称,可选,只能为字母、数字、汉字、-、_,最大长度为64","example":"mn_test","maxLength":64,"minLength":1,"pattern":"^([一-鿿]|[a-z]|[A-Z]|[0-9]|_|-)+$","type":"string"},"mask_status":{"description":"屏蔽状态,可选。MASK_EFFECTIVE:已生效,MASK_INEFFECTIVE:未生效。","enum":["MASK_EFFECTIVE","MASK_INEFFECTIVE"],"example":"MASK_EFFECTIVE","maxLength":32,"minLength":1,"type":"string"},"namespace":{"$ref":"#/definitions/Namespace"},"relation_ids":{"description":"关联编号(目前是告警规则ID)","items":{"$ref":"#/definitions/RelationID"},"maxItems":100,"minItems":1,"type":"array"},"relation_type":{"$ref":"#/definitions/ListRelationType"},"resource_id":{"description":"资源维度值,提供一个维度的资源ID即可,可选","example":"dse23xw43","maxLength":700,"minLength":1,"type":"string"}},"required":["relation_type","relation_ids"],"type":"object"},"ListNotificationMaskResp":{"properties":{"count":{"description":"通知屏蔽列表总数","example":100,"maximum":99999,"minimum":0,"type":"integer"},"notification_masks":{"description":"通知屏蔽列表","items":{"properties":{"end_date":{"$ref":"#/definitions/EndDate","description":"屏蔽到期日期,,yyyy-MM-dd"},"end_time":{"$ref":"#/definitions/EndTime","description":"屏蔽到期时间,HH:mm:ss"},"mask_name":{"$ref":"#/definitions/MaskName","description":"屏蔽规则名称"},"mask_status":{"$ref":"#/definitions/MaskStatus","description":"屏蔽状态"},"mask_type":{"$ref":"#/definitions/MaskType","description":"屏蔽类型。START_END_TIME:按起止时间屏蔽,FOREVER_TIME:永久时间屏蔽,CYCLE_TIME:按周期时间屏蔽。"},"notification_mask_id":{"$ref":"#/definitions/NotificationMaskID","description":"屏蔽规则编号"},"policies":{"description":"告警策略列表。","items":{"$ref":"#/definitions/PoliciesInListResp"},"maxItems":50,"minItems":0,"type":"array"},"relation_id":{"$ref":"#/definitions/RelationID","description":"关联编号,relation_type为ALARM_RULE时存在该字段"},"relation_type":{"$ref":"#/definitions/RelationType","description":"关联类型"},"resources":{"description":"关联资源类型,relation_type为RESOURCE时存在该字段,只需要查询出资源的namespace+维度名即可","items":{"$ref":"#/definitions/ResourceCategory"},"maxItems":100,"minItems":1,"type":"array"},"start_date":{"$ref":"#/definitions/StartDate","description":"屏蔽起始日期,yyyy-MM-dd"},"start_time":{"$ref":"#/definitions/StartTime","description":"屏蔽起始时间,HH:mm:ss"}},"required":["notification_mask_id","relation_type","mask_status","mask_type"]},"maxItems":100,"minItems":1,"type":"array"}},"required":["notification_masks","count"],"type":"object"},"ListRelationType":{"description":"关联类型。ALARM_RULE:关联告警规则,RESOURCE:关联资源,RESOURCE_POLICY_NOTIFICATION:关联资源策略屏蔽告警通知,RESOURCE_POLICY_ALARM:关联资源策略不计算告警,DEFAULT:默认包含RESOURCE、RESOURCE_POLICY_NOTIFICATION(查询告警屏蔽列表时使用)。","enum":["ALARM_RULE","RESOURCE","RESOURCE_POLICY_NOTIFICATION","RESOURCE_POLICY_ALARM","DEFAULT"],"example":"DEFAULT","maxLength":32,"minLength":1,"type":"string"},"MaskName":{"description":"屏蔽规则名称,只能为字母、数字、汉字、-、_,最大长度为64","example":"mn_test","maxLength":64,"minLength":1,"pattern":"^([一-鿿]|[a-z]|[A-Z]|[0-9]|_|-)+$","type":"string"},"MaskStatus":{"description":"屏蔽状态。UN_MASKED:未屏蔽,MASK_EFFECTIVE:已生效,MASK_INEFFECTIVE:未生效。","enum":["UN_MASKED","MASK_EFFECTIVE","MASK_INEFFECTIVE"],"example":"UN_MASKED","maxLength":32,"minLength":1,"type":"string"},"MaskType":{"description":"屏蔽类型。START_END_TIME:按起止时间屏蔽,FOREVER_TIME:永久时间屏蔽,CYCLE_TIME:按周期时间屏蔽。","enum":["START_END_TIME","FOREVER_TIME","CYCLE_TIME"],"example":"START_END_TIME","maxLength":32,"minLength":1,"type":"string"},"MetricExtraInfo":{"description":"告警策略附加信息,默认为空。","properties":{"custom_proc_name":{"description":"用户进程名称","maxLength":64,"minLength":0,"type":"string"},"metric_prefix":{"description":"指标名称前缀","maxLength":8,"minLength":0,"type":"string"},"metric_type":{"description":"指标类型","maxLength":16,"minLength":0,"type":"string"},"origin_metric_name":{"description":"原始指标名称","maxLength":64,"minLength":0,"type":"string"}},"type":"object"},"MetricName":{"description":"资源的监控指标名称,必须以字母开头,只能包含0-9/a-z/A-Z/_,字符长度最短为1,最大为64;如:弹性云服务器中的监控指标cpu_util,表示弹性服务器的CPU使用率;文档数据库中的指标mongo001_command_ps,表示command执行频率;各服务的指标名称可查看:“[服务指标名称](https://support.huaweicloud.com/usermanual-ces/zh-cn_topic_0202622212.html)”。","example":"cpu_util","maxLength":64,"minLength":1,"pattern":"^([A-Za-z]){1}([0-9A-Za-z]|_|-)*$","type":"string"},"Namespace":{"description":"查询服务的命名空间,各服务命名空间请参考[服务命名空间](https://support.huaweicloud.com/usermanual-ces/zh-cn_topic_0202622212.html)","example":"SYS.ECS","maxLength":32,"minLength":3,"pattern":"^([a-z]|[A-Z]){1}([a-z]|[A-Z]|[0-9]|_)*\\.([a-z]|[A-Z]){1}([a-z]|[A-Z]|[0-9]|_)*$","type":"string"},"NotificationMaskID":{"description":"屏蔽规则ID","example":"nm123232232341232132","maxLength":64,"minLength":1,"pattern":"^nm([0-9A-Za-z]){0,62}$","type":"string"},"Period":{"description":"告警条件判断周期,单位为秒,支持的值为1,300,1200,3600,14400,86400。说明:当period设置为1时,表示以原始的指标数据判断告警。当alarm_type为(EVENT.SYS| EVENT.CUSTOM)时允许为0。","enum":[0,1,300,1200,3600,14400,86400],"example":300,"format":"int32","maximum":86400,"minimum":1,"type":"integer"},"PoliciesInListResp":{"properties":{"alarm_level":{"$ref":"#/definitions/AlarmLevel"},"alarm_policy_id":{"$ref":"#/definitions/AlarmPolicyID"},"comparison_operator":{"$ref":"#/definitions/ComparisonOperator"},"count":{"$ref":"#/definitions/Count"},"extra_info":{"$ref":"#/definitions/MetricExtraInfo"},"filter":{"$ref":"#/definitions/Filter"},"metric_name":{"$ref":"#/definitions/MetricName"},"period":{"$ref":"#/definitions/Period"},"selected_unit":{"$ref":"#/definitions/SelectedUnit"},"suppress_duration":{"$ref":"#/definitions/SuppressDuration"},"type":{"description":"告警策略类型。","maxLength":32,"minLength":0,"type":"string"},"unit":{"$ref":"#/definitions/Unit"},"value":{"$ref":"#/definitions/Value"}},"required":["alarm_policy_id","metric_name","period","filter","comparison_operator","value","count"],"type":"object"},"RelationID":{"description":"关联编号","example":"al123232232341232132或2d5e1811-a6b2-4ac2-9038-a4c5fc7c19b8","maxLength":64,"minLength":1,"pattern":"^([a-z]|[A-Z]|[0-9]|-){1,64}$","type":"string"},"RelationType":{"description":"关联类型。ALARM_RULE:关联告警规则,RESOURCE:关联资源,RESOURCE_POLICY_NOTIFICATION:关联资源策略屏蔽告警通知,RESOURCE_POLICY_ALARM:关联资源策略不计算告警。","enum":["ALARM_RULE","RESOURCE","RESOURCE_POLICY_NOTIFICATION","RESOURCE_POLICY_ALARM"],"example":"ALARM_RULE","maxLength":32,"minLength":1,"type":"string"},"ResourceCategory":{"properties":{"dimension_names":{"description":"资源的维度信息,多个维度通过字母序排序后逗号拼接","items":{"example":"disk_utils,instance_id","maxLength":131,"minLength":1,"type":"string"},"maxItems":100,"minItems":1,"type":"array"},"namespace":{"$ref":"#/definitions/Namespace"}},"required":["namespace","dimension_names"]},"SelectedUnit":{"description":"用户在页面中选择的指标单位, 用于后续指标数据回显和计算","example":"Byte/s","maxLength":64,"minLength":0,"type":"string"},"StartDate":{"description":"屏蔽起始日期,yyyy-MM-dd。","example":"yyyy-MM-dd","format":"date","maxLength":10,"minLength":10,"type":"string"},"StartTime":{"description":"屏蔽起始时间,HH:mm:ss。","example":"HH:mm:ss","maxLength":8,"minLength":8,"type":"string"},"SuppressDuration":{"description":"告警抑制周期,值可为0, 300, 600, 900, 1800, 3600, 10800, 21600, 43200, 86400;单位为秒,0表示只告警一次","enum":[0,300,600,900,1800,3600,10800,21600,43200,86400],"example":300,"format":"int32","type":"integer"},"Unit":{"description":"单位","maxLength":32,"type":"string"},"Value":{"description":"阈值","format":"double","maximum":1.7976931348623156e108,"minimum":0,"type":"number"}},"description":null,"group_id":"2062bc6f187f46ae8026a22ef9aceb0f","host":"ces.cn-north-4.myhuaweicloud.com","id":"349826f8682840678014adec7cb4603a","info_version":"v2","method":"post","name":"ListNotificationMasks","parameters":{"AuthToken":{"description":"用户Token","in":"header","maxLength":16384,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-order":2},"ContentType":{"default":"application/json; charset=UTF-8","description":"发送的实体的MIME类型。默认使用application/json; charset=UTF-8。","in":"header","maxLength":64,"minLength":1,"name":"Content-Type","required":true,"type":"string","x-order":1},"Limit":{"default":100,"description":"分页大小","in":"query","maximum":100,"minimum":1,"name":"limit","pattern":"^([1-9]|[1-9][0-9]|100)$","required":false,"type":"integer"},"Offset":{"default":0,"description":"分页偏移量","in":"query","maximum":10000,"minimum":0,"name":"offset","pattern":"^([0]|[1-9]|[1-9][0-9]|[1-9][0-9][0-9]|[1-9][0-9][0-9][0-9]|10000)$","required":false,"type":"integer"},"ProjectId":{"description":"租户ID","in":"path","maxLength":64,"minLength":1,"name":"project_id","pattern":"^[a-zA-Z0-9-]{1,64}$","required":true,"type":"string"}},"paths":{"/v2/{project_id}/notification-masks/batch-query":{"post":{"description":"批量查询指定类型的通知屏蔽规则,目前最多支持100个通知屏蔽规则的批量查询。","operationId":"ListNotificationMasks","parameters":[{"$ref":"#/parameters/ContentType"},{"$ref":"#/parameters/AuthToken"},{"$ref":"#/parameters/ProjectId"},{"$ref":"#/parameters/Offset"},{"$ref":"#/parameters/Limit"},{"description":"批量查询通知屏蔽规则,请求参数。","in":"body","name":"ListNotificationMasksRequestBody","required":true,"schema":{"$ref":"#/definitions/ListNotificationMaskRequestBody"}}],"responses":{"200":{"description":"批量查询通知屏蔽规则成功","schema":{"$ref":"#/definitions/ListNotificationMaskResp"}},"400":{"description":"参数校验失败","schema":{"$ref":"#/definitions/GoAPIErrorResponseV2"}},"500":{"description":"系统内部错误","schema":{"$ref":"#/definitions/GoAPIErrorResponseV2"}}},"summary":"查询告警通知屏蔽列表","tags":["告警通知屏蔽"],"x-is-registered":"Y","x-open-region-cloud":"hc,hk","x-support-sdk":"Y"}}},"product_short":"CES","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询告警通知屏蔽列表","tags":"告警通知屏蔽","uri":null,"version":"2.0"}