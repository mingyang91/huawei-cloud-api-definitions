{"base_path":"/","components":null,"consumes":"[\"application/json\",\"text/plain; charset=utf-8\"]","definitions":{"EffectiveTimezone":{"description":"时区,形如:\"GMT-08:00\"、\"GMT+08:00\"、\"GMT+0:00\"","example":"GMT-08:00","maxLength":16,"minLength":1,"pattern":"^(GMT[+-](0|0[1-9]|1[0-2]):00)$","type":"string"},"EndDate":{"description":"屏蔽截止日期,yyyy-MM-dd。","example":"yyyy-MM-dd","format":"date","maxLength":10,"minLength":10,"type":"string"},"EndTime":{"description":"屏蔽截止时间,HH:mm:ss。","example":"HH:mm:ss","maxLength":8,"minLength":8,"type":"string"},"GoAPIErrorResponseV2":{"properties":{"error_code":{"description":"请求异常内部业务状态码","example":"ces.0001","maxLength":256,"minLength":0,"type":"string"},"error_msg":{"description":"请求异常信息","example":"the request format is invalid","maxLength":256,"minLength":0,"type":"string"},"request_id":{"description":"请求ID","example":"txnEntry-DESKTOP-4LPFH08.txnId-466541d0-f1a6-429b-b747-98d4991671c1.ts-1637909316688.c-95","maxLength":256,"minLength":0,"type":"string"}},"type":"object"},"MaskName":{"description":"屏蔽规则名称,只能为字母、数字、汉字、-、_,最大长度为64","example":"mn_test","maxLength":64,"minLength":1,"pattern":"^([一-鿿]|[a-z]|[A-Z]|[0-9]|_|-)+$","type":"string"},"MaskType":{"description":"屏蔽类型。START_END_TIME:按起止时间屏蔽,FOREVER_TIME:永久时间屏蔽,CYCLE_TIME:按周期时间屏蔽。","enum":["START_END_TIME","FOREVER_TIME","CYCLE_TIME"],"example":"START_END_TIME","maxLength":32,"minLength":1,"type":"string"},"MetricName":{"description":"资源的监控指标名称,必须以字母开头,只能包含0-9/a-z/A-Z/_,字符长度最短为1,最大为64;如:弹性云服务器中的监控指标cpu_util,表示弹性服务器的CPU使用率;文档数据库中的指标mongo001_command_ps,表示command执行频率;各服务的指标名称可查看:“[服务指标名称](ces_03_0059.xml)”。","example":"cpu_util","maxLength":96,"minLength":1,"pattern":"^([A-Za-z]){1}([0-9A-Za-z]|_|-)*$","type":"string"},"ProductMetric":{"properties":{"dimension_name":{"description":"按云产品维度屏蔽时的指标维度信息,有多个时用\",\"连接","maxLength":128,"minLength":0,"type":"string"},"metric_name":{"$ref":"#/definitions/MetricName"}},"required":["dimension_name","metric_name"],"type":"object"},"RelationID":{"description":"关联编号","example":"al123232232341232132或2d5e1811-a6b2-4ac2-9038-a4c5fc7c19b8","maxLength":64,"minLength":1,"pattern":"^([a-z]|[A-Z]|[0-9]|-){1,64}$","type":"string"},"RelationType":{"description":"屏蔽告警通知或者屏蔽告警计算的实现方式。ALARM_RULE:通过告警规则屏蔽告警通知,RESOURCE:通过资源屏蔽告警通知,RESOURCE_POLICY_NOTIFICATION:通过告警策略和告警资源屏蔽告警通知,RESOURCE_POLICY_ALARM:通过告警策略和告警资源屏蔽计算告警。","enum":["ALARM_RULE","RESOURCE","RESOURCE_POLICY_NOTIFICATION","RESOURCE_POLICY_ALARM"],"example":"ALARM_RULE","maxLength":32,"minLength":1,"type":"string"},"Resource":{"properties":{"dimensions":{"description":"资源的维度信息","items":{"$ref":"#/definitions/ResourceDimension"},"maxItems":4,"minItems":1,"type":"array"},"namespace":{"$ref":"#/definitions/ResourceNamespace"}},"required":["namespace","dimensions"]},"ResourceDimension":{"description":"指标维度","properties":{"name":{"description":"资源维度,如:弹性云服务器,则维度为instance_id;目前最大支持4个维度,各服务资源的指标维度名称可查看:“[服务指标维度](ces_03_0059.xml)”。","example":"instance_id","pattern":"^([a-z]|[A-Z]){1}([a-z]|[A-Z]|[0-9]|_|-){1,32}$","type":"string"},"value":{"description":"资源维度值,为资源的实例ID,如:4270ff17-aba3-4138-89fa-820594c39755。","example":"4270ff17-aba3-4138-89fa-820594c39755","pattern":"^((([a-z]|[A-Z]|[0-9]){1}([a-z]|[A-Z]|[0-9]|_|-|\\.)*)|\\*){1,256}$","type":"string"}},"required":["name","value"]},"ResourceNamespace":{"description":"查询服务的命名空间,各服务命名空间请参考“[服务命名空间](ces_03_0059.xml)”","example":"SYS.ECS","maxLength":32,"minLength":3,"type":"string"},"StartDate":{"description":"屏蔽起始日期,yyyy-MM-dd。","example":"yyyy-MM-dd","format":"date","maxLength":10,"minLength":10,"type":"string"},"StartTime":{"description":"屏蔽起始时间,HH:mm:ss。","example":"HH:mm:ss","maxLength":8,"minLength":8,"type":"string"},"UpdateNotificationMasksRequestBody":{"description":"通知屏蔽请求体","properties":{"effective_timezone":{"$ref":"#/definitions/EffectiveTimezone"},"end_date":{"$ref":"#/definitions/EndDate"},"end_time":{"$ref":"#/definitions/EndTime"},"mask_name":{"$ref":"#/definitions/MaskName"},"mask_type":{"$ref":"#/definitions/MaskType"},"metric_names":{"description":"关联指标名称,relation_type为RESOURCE可选填,不填视为对资源所有指标进行告警屏蔽","items":{"$ref":"#/definitions/MetricName"},"maxItems":50,"minItems":0,"type":"array"},"product_metrics":{"description":"按云产品维度屏蔽时的指标信息","items":{"$ref":"#/definitions/ProductMetric"},"maxItems":50,"minItems":0,"type":"array"},"product_name":{"description":"资源为云产品时云产品名称","maxLength":128,"minLength":0,"type":"string"},"relation_ids":{"description":"关联编号,relation_type为ALARM_RULE时填屏蔽的告警规则编号;relation_type为RESOURCE_POLICY_NOTIFICATION、RESOURCE_POLICY_ALARM时填屏蔽的告警策略编号;","items":{"$ref":"#/definitions/RelationID"},"maxItems":100,"minItems":1,"type":"array"},"relation_type":{"$ref":"#/definitions/RelationType","description":"屏蔽告警通知或者屏蔽告警计算的实现方式"},"resource_level":{"description":"dimension: 子维度,product: 云产品","enum":["dimension","product"],"type":"string"},"resources":{"description":"关联资源","items":{"$ref":"#/definitions/Resource"},"maxItems":100,"minItems":1,"type":"array"},"start_date":{"$ref":"#/definitions/StartDate"},"start_time":{"$ref":"#/definitions/StartTime"}},"required":["mask_name","resources","mask_type"],"type":"object"}},"description":null,"group_id":"2062bc6f187f46ae8026a22ef9aceb0f","host":"ces.cn-north-4.myhuaweicloud.com","id":"56e818727d2645628f39c60a19d12574","info_version":"v2","method":"put","name":"UpdateNotificationMask","parameters":{"AuthToken":{"description":"**参数解释**:\n用户Token。\n**约束限制**:\n不涉及。\n**取值范围**:\n最小字符数量为1,最大为16384。\n**默认取值**:\n不涉及。","in":"header","maxLength":16384,"minLength":1,"name":"X-Auth-Token","required":true,"type":"string","x-order":2},"ContentType":{"default":"application/json; charset=UTF-8","description":"**参数解释**:\n发送的实体的MIME类型。\n**约束限制**:\n不涉及。\n**取值范围**:\n最小字符数量为1,最大为64。\n**默认取值**:\n默认使用application/json; charset=UTF-8。","in":"header","maxLength":64,"minLength":1,"name":"Content-Type","required":true,"type":"string","x-order":1},"NotificationMaskID":{"description":"屏蔽规则ID","in":"path","maxLength":64,"minLength":1,"name":"notification_mask_id","pattern":"^([a-z]|[A-Z]|[0-9]){1,64}$","required":true,"type":"string"},"ProjectId":{"description":"**参数解释**:\n租户ID\n**约束限制**:\n不涉及。\n**取值范围**:\n项目ID,用于明确项目归属,配置后可通过该ID查询项目下资产,可以通过调用API获取,也可以从控制台获取。获取方式请参见“[获取项目ID](ces_03_0057.xml)”。字符串的长度必须在 1 到 64个字符之间。\n**默认取值**:\n不涉及。","in":"path","maxLength":64,"minLength":1,"name":"project_id","required":true,"type":"string"}},"paths":{"/v2/{project_id}/notification-masks/{notification_mask_id}":{"put":{"consumes":["application/json"],"description":"修改告警通知屏蔽规则","operationId":"UpdateNotificationMask","parameters":[{"$ref":"#/parameters/ContentType"},{"$ref":"#/parameters/AuthToken"},{"$ref":"#/parameters/ProjectId"},{"$ref":"#/parameters/NotificationMaskID"},{"description":"修改通知屏蔽规则请求体","in":"body","name":"UpdateNotificationMaskRequestBody","required":true,"schema":{"$ref":"#/definitions/UpdateNotificationMasksRequestBody"}}],"produces":["application/json"],"responses":{"204":{"description":"No Content"},"400":{"description":"参数校验失败","schema":{"$ref":"#/definitions/GoAPIErrorResponseV2"}},"500":{"description":"系统内部错误","schema":{"$ref":"#/definitions/GoAPIErrorResponseV2"}}},"summary":"修改告警通知屏蔽规则","tags":["告警通知屏蔽"],"x-api-type":"open-api","x-is-registered":"Y","x-open-region-cloud":"hc,hk,g42,hk_g42,ctc,cmcc","x-request-examples-1":{"end_date":"yyyy-MM-dd","end_time":"HH:mm:ss","mask_name":"mn_test","mask_type":"START_END_TIME","relation_ids":["al123232232341232132"],"relation_type":"ALARM_RULE","resources":[{"dimensions":[{"name":"instance_id","value":"4270ff17-aba3-4138-89fa-820594c39755"}],"namespace":"SYS.ECS"}],"start_date":"yyyy-MM-dd","start_time":"HH:mm:ss"},"x-support-sdk":"Y","x-version":"v2"}}},"product_short":"CES","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"修改告警通知屏蔽规则","tags":"告警通知屏蔽","uri":null,"version":"2.0"}