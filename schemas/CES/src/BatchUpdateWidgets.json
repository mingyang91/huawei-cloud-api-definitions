{"base_path":"/","components":null,"consumes":"[\"application/json\",\"text/plain; charset=utf-8\"]","definitions":{"BatchUpdateWidgetInfo":{"description":"批量更新监控视图结果","properties":{"error_msg":{"description":"如果失败则返回失败信息","maxLength":2048,"minLength":1,"type":"string"},"ret_status":{"description":"修改结果;成功: successful, 失败: error","enum":["successful","error"],"example":"successful","type":"string"},"widget_id":{"description":"视图id","example":"wg40rKyIuA6hZ8ejnaxvb5Ps","pattern":"^wg([a-z]|[A-Z]|[0-9]){22}$","type":"string"}},"type":"object"},"BatchUpdateWidgetsRespBody":{"description":"批量更新监控视图返回体","properties":{"widgets":{"description":"更新结果列表","items":{"$ref":"#/definitions/BatchUpdateWidgetInfo"},"maxItems":50,"minItems":1,"type":"array"}},"type":"object"},"BatchUpdateWidgetsV2RequestBody":{"description":"待修改的监控视图列表","items":{"$ref":"#/definitions/UpdateWidgetInfo"},"maxItems":50,"minItems":1,"type":"array"},"DimensionInfo":{"description":"**参数描述**\n维度信息列表。      \n**约束限制**\n不涉及","properties":{"filter_type":{"description":"**参数描述**:\n资源类型。\n**约束限制**\n不涉及\n**取值范围**:\n- all_instances: 全部资源\n- specific_instances: 指定资源\n**默认取值**\n不涉及","enum":["all_instances","specific_instances"],"example":"all_instances","type":"string"},"name":{"description":"**参数描述**:\n维度名称。\n**约束限制**\n不涉及\n**取值范围**:\n多维度用逗号分隔,各服务支持的维度可参考:“[服务维度名称](ces_03_0059.xml)”。必须以字母开头,只能包含0-9/a-z/A-Z/_/-,多维度用\",\"分隔,每个维度的最大长度为32。总长度为[1,131]个字符。目前最大支持4个维度。举例:单维度场景:instance_id;多维度场景:instance_id,disk\n**默认取值**\n不涉及","example":"cluster,instance","maxLength":131,"minLength":1,"pattern":"^([a-z]|[A-Z]){1}([a-z]|[A-Z]|[0-9]|_|-){0,31}(,([a-z]|[A-Z]){1}([a-z]|[A-Z]|[0-9]|_|-){0,31}){0,3}$","type":"string"},"values":{"description":"**参数描述**:\n维度值列表。\n**约束限制**\n不涉及","example":["cluster-value-001,instance-value-001","cluster-value-002,instance-value-002"],"items":{"description":"**参数描述**:\n维度值。\n**约束限制**\n不涉及\n**取值范围**:\n多维度用逗号分隔,与维度名顺序一一对应,长度为[1,1024]个字符。\n**默认取值**\n不涉及","example":"cluster-001,instance-001","maxLength":1024,"minLength":1,"pattern":"^([a-z]|[A-Z]|[0-9]){1}([a-z]|[A-Z]|[0-9]|_|-|\\\\.|){0,255}(,([a-z]|[A-Z]|[0-9]){1}([a-z]|[A-Z]|[0-9]|_|-|\\\\.|){0,255}){0,3}$","type":"string"},"maxItems":200,"minItems":0,"type":"array"}},"required":["name","filter_type"]},"ExtraInfo":{"description":"**参数解释**\n指标信息\n**约束限制**\n不涉及","properties":{"custom_proc_name":{"description":"**参数解释**\n自定义进程名称\n**约束限制**\n不涉及          \n**取值范围**\n长度为[1,250]个字符\n**默认取值**\n不涉及","example":"xxxx","maxLength":250,"minLength":1,"type":"string"},"metric_prefix":{"description":"**参数解释**\n指标名称前缀\n**约束限制**\n不涉及          \n**取值范围**\n长度为[1,4096]个字符\n**默认取值**\n不涉及","example":"xxxx","maxLength":4096,"minLength":1,"pattern":"^([a-z]|[A-Z]|[0-9]|_|-|~|\\.|/|:)*$","type":"string"},"metric_type":{"description":"**参数解释**\n指标类型\n**约束限制**\n不涉及          \n**取值范围**\n长度为[1,32]个字符\n**默认取值**\n不涉及","example":"xxxx","maxLength":32,"minLength":1,"pattern":"^([a-z]|[A-Z]|[0-9]|_|-|~|\\.|/|:)*$","type":"string"},"origin_metric_name":{"description":"**参数解释**\n指标名称\n**约束限制**\n不涉及\n**取值范围**\n长度为[1,4096]个字符\n**默认取值**\n不涉及","example":"xxxx","maxLength":4096,"minLength":1,"pattern":"^([a-z]|[A-Z]|[0-9]|_|-|~|\\.|/|:)*$","type":"string"}},"required":["origin_metric_name"],"type":"object"},"GoAPIErrorResponseV2":{"properties":{"error_code":{"description":"请求异常内部业务状态码","example":"ces.0001","maxLength":256,"minLength":0,"type":"string"},"error_msg":{"description":"请求异常信息","example":"the request format is invalid","maxLength":256,"minLength":0,"type":"string"},"request_id":{"description":"请求ID","example":"txnEntry-DESKTOP-4LPFH08.txnId-466541d0-f1a6-429b-b747-98d4991671c1.ts-1637909316688.c-95","maxLength":256,"minLength":0,"type":"string"}},"type":"object"},"MultiMetricName":{"description":"**参数解释**\n多个指标名称\n**约束限制**\n不涉及\n**取值范围**\n长度为[1,1080]个字符,多个指标名称之间用逗号隔开\n**默认取值**\n不涉及","example":"cpu_util,disk_util","maxLength":1080,"minLength":1,"pattern":"^([A-Za-z]){1}([0-9A-Za-z]|_|-|,)*$","type":"string"},"RollupDimension":{"description":"**参数解释**\n聚合维度\n**约束限制**\n不涉及\n**取值范围**\n长度为[1,32]个字符\n**默认取值**\n不涉及","example":"instance_id","maxLength":32,"minLength":1,"pattern":"^([a-z]|[A-Z]){1}([a-z]|[A-Z]|[0-9]|_|-)*$","type":"string"},"RollupEnable":{"description":"**参数解释**\n是否开启聚合\n**约束限制**\n当rollup_enable开启时,rollup_filter和rollup_dimension必填\n**取值范围**\n- true:表示开启聚合\n- false:表示不开启聚合\n**默认取值**\nfalse","example":true,"type":"boolean"},"RollupFilter":{"description":"**参数解释**\n聚合规则\n**约束限制**\n当rollup_enable开启时,rollup_filter和rollup_dimension必填\n**取值范围**\n- last:最新值\n- max:最大值\n- min:最小值\n- average:平均值\n- sum:求和值\n**默认取值**\n不涉及","enum":["last","max","min","average","sum"],"example":"sum","type":"string"},"ThresholdInfo":{"description":"**参数解释**\n监控视图的阈值辅助线配置\n**约束限制**\n不涉及","properties":{"threshold":{"description":"**参数解释**\n监控视图辅助线的阈值\n**约束限制**\n不涉及\n**取值范围**\n最小值为0,最大值为2147483647\n**默认取值**\n不涉及","example":90,"maximum":2147483647,"minimum":0,"type":"number"},"threshold_color":{"description":"**参数解释**\n监控视图辅助线的颜色\n**约束限制**\n不涉及          \n**取值范围**\n- \"#B50E65\":紫色\n- \"#F23030\":红色\n- \"#FF8800\":橙色\n- \"#F2E70C\":黄色\n**默认取值**\n不涉及","enum":["#B50E65","#F23030","#FF8800","#F2E70C"],"example":"#F23030","type":"string"}},"required":["threshold","threshold_color"]},"UnitItem":{"description":"**参数解释**\n单位\n**约束限制**\n不涉及\n**取值范围**\n长度为[0,32]个字符\n**默认取值**\n不涉及","example":"byte/s","maxLength":32,"minLength":0,"type":"string"},"UpdateWidgetInfo":{"description":"待修改的监控视图对象","properties":{"group_id":{"description":"视图分区id","example":"grxxx","pattern":"^dg([a-z]|[A-Z]|[0-9]){22}|default$","type":"string"},"location":{"description":"监控视图图表坐标","properties":{"height":{"description":"监控视图图表高度","example":"1","maximum":2147483647,"minimum":3,"type":"integer"},"left":{"description":"监控视图的左坐标","example":"1","maximum":9,"minimum":0,"type":"integer"},"top":{"description":"监控视图的上坐标","example":"0","maximum":2147483647,"minimum":0,"type":"integer"},"width":{"description":"监控视图图表宽度","example":"0","maximum":12,"minimum":3,"type":"integer"}},"required":["top","left","width","height"]},"metric_display_mode":{"description":"指标展示类型,single 单指标展示,multiple 多指标展示","enum":["single","multiple"],"example":"single","type":"string"},"metrics":{"description":"指标列表","items":{"$ref":"#/definitions/WidgetMetric"},"maxItems":200,"minItems":1,"type":"array"},"properties":{"description":"视图展示配置","properties":{"description":{"description":"监控视图的描述信息","example":"这是一个简单的视图描述","maxLength":200,"minLength":0,"type":"string"},"filter":{"description":"聚合类型,目前只有TopN这一种类型,折线图不支持该参数","enum":["topN"],"example":"topN","type":"string"},"is_all_compare_enable":{"description":"同比环比总开关是否生效;true:生效;false:不生效","example":true,"type":"boolean"},"last_week_compare_enable":{"description":"是否展示同比(上周同一时间)数据,true:展示,false:不展示","example":true,"type":"boolean"},"legend_location":{"description":"图例位置标记,hide表示隐藏图例,right表示图例放在监控视图右侧,bottom表示图例放在监控视图底部,表格不支持该参数","enum":["hide","right","bottom"],"example":"hide","type":"string"},"legend_values":{"description":"当前时序数据需要在图例中展示的统计值名称列表,表格不支持该参数,条形图和柱状图仅支持选择当前值","example":["max","min"],"items":{"description":"统计值名称, last:当前值,max:最大值,min:最小值,avg:平均值,sum:求和值","enum":["last","max","min","avg","sum"],"type":"string"},"maxItems":5,"minItems":0,"type":"array"},"order":{"description":"排序字段,asc正序,desc倒序,折线图不支持该参数","enum":["asc","desc"],"example":"asc","type":"string"},"thresholds":{"description":"监控视图的阈值辅助线配置","items":{"$ref":"#/definitions/ThresholdInfo"},"maxItems":6,"minItems":0,"type":"array"},"topN":{"default":100,"description":"Top值前N个;折线图时表示随机展示的时序数据条数","example":"10","format":"int32","maximum":2147483647,"minimum":1,"type":"integer"},"yesterday_compare_enable":{"description":"是否展示环比(昨天同一时间)数据,true:展示,false:不展示","example":true,"type":"boolean"}}},"threshold":{"description":"监控视图指标的阈值","example":90,"format":"double","maximum":1.7976931348623157e308,"minimum":0,"type":"number"},"threshold_enabled":{"description":"阈值是否展示,true:展示,false:不展示","example":true,"type":"boolean"},"title":{"description":"监控视图标题","example":"xxx-cpu","maxLength":128,"minLength":1,"pattern":"^([\\u4E00-\\u9FFF]|[a-z]|[A-Z]|[0-9]|_|-|:|;|\\(|\\)|\\.|~|(|))+$","type":"string"},"unit":{"$ref":"#/definitions/UnitItem"},"view":{"description":"监控视图图表类型, bar条形图,line折线图,bar_chart柱状图,table表格,circular_bar环形柱状图,area_chart面积图","enum":["bar","line","bar_chart","table","circular_bar","area_chart"],"example":"bar","type":"string"},"widget_id":{"description":"视图id","example":"wg40rKyIuA6hZ8ejnaxvb5Ps","pattern":"^wg([a-z]|[A-Z]|[0-9]){22}$","type":"string"}},"required":["widget_id"],"type":"object"},"WidgetMetric":{"properties":{"alias":{"description":"**参数解释**\n监控视图的指标别名列表\n**约束限制**\n当资源类型为指定资源时才允许传该参数","example":["cpu_01","cpu_02"],"items":{"description":"**参数解释**\n指标别名\n**约束限制**\n不涉及\n**取值范围**\n长度为[1,128]个字符\n**默认取值**\n不涉及","maxLength":128,"minLength":1,"type":"string"},"maxItems":200,"minItems":0,"type":"array"},"dimensions":{"$ref":"#/definitions/DimensionInfo"},"extra_info":{"$ref":"#/definitions/ExtraInfo"},"last_week_compare_enable":{"description":"**参数解释**\n是否展示同比(上周同一时间)数据\n**约束限制**\n不涉及\n**取值范围**\n- true:展示\n- false:不展示\n**默认取值**\n不涉及","example":true,"type":"boolean"},"metric_dimension":{"description":"**参数解释**\n维度名称,多维度用逗号分隔,各服务支持的维度可参考:“[服务维度名称](ces_03_0059.xml)”,必须以字母开头,只能包含0-9/a-z/A-Z/_/-,多维度用\",\"分隔,每个维度的最大长度为32。总长度为[1,131]个字符。目前最大支持4个维度。举例:单维度场景:instance_id;多维度场景:instance_id,disk\n**约束限制**\n不涉及          \n**取值范围**\n长度为[1,131]个字符\n**默认取值**\n不涉及","example":"cluster,instance","maxLength":131,"minLength":1,"pattern":"^([a-z]|[A-Z]){1}([a-z]|[A-Z]|[0-9]|_|-){0,31}(,([a-z]|[A-Z]){1}([a-z]|[A-Z]|[0-9]|_|-){0,31}){0,3}$","type":"string"},"metric_name":{"$ref":"#/definitions/MultiMetricName"},"namespace":{"description":"**参数解释**\n查询服务的命名空间,各服务命名空间请参考“[服务命名空间](ces_03_0059.xml)”\n**约束限制**\n不涉及\n**取值范围**\n格式为service.item;service和item必须是字符串,必须以字母开头,只能包含0-9/a-z/A-Z/_。字符串的长度必须在 3 到 32个字符之间。\n**默认取值**\n不涉及","example":"SYS.XXX","maxLength":32,"minLength":3,"pattern":"^([a-z]|[A-Z]){1}([a-z]|[A-Z]|[0-9]|_)*\\.([a-z]|[A-Z]){1}([a-z]|[A-Z]|[0-9]|_)*$","type":"string"},"order":{"description":"**参数解释**\n排序字段\n**约束限制**\n不涉及               \n**取值范围**\n- asc:正序\n- desc:倒序\n**默认取值**\n不涉及","enum":["asc","desc"],"example":"asc","type":"string"},"rollup_dimension":{"$ref":"#/definitions/RollupDimension","x-open-region-cloud":"hc,hk"},"rollup_enable":{"$ref":"#/definitions/RollupEnable","x-open-region-cloud":"hc,hk"},"rollup_filter":{"$ref":"#/definitions/RollupFilter","x-open-region-cloud":"hc,hk"},"top_num":{"description":"**参数解释**\n展示数据数量\n**约束限制**\n不涉及                \n**取值范围**\n最小值为1,最大值为200\n**默认取值**\n不涉及","example":"10","format":"int32","maximum":200,"minimum":1,"type":"integer"},"topn_metric_name":{"$ref":"#/definitions/WidgetMetricName"},"unit":{"$ref":"#/definitions/UnitItem"},"yesterday_compare_enable":{"description":"**参数解释**\n是否展示环比(昨天同一时间)数据\n**约束限制**\n不涉及\n**取值范围**\n- true:展示\n- false:不展示\n**默认取值**\n不涉及","example":true,"type":"boolean"}},"required":["namespace","dimensions","metric_name"],"type":"object"},"WidgetMetricName":{"description":"**参数解释**\n资源的监控指标名称,必须以字母开头,只能包含0-9/a-z/A-Z/_,字符长度最短为1,最大为64;如:弹性云服务器中的监控指标cpu_util,表示弹性服务器的CPU使用率;文档数据库中的指标mongo001_command_ps,表示command执行频率;各服务的指标名称可查看:“[服务指标名称](ces_03_0059.xml)”。\n**约束限制**\n不涉及\n**取值范围**\n长度为[1,96]个字符\n**默认取值**\n不涉及","example":"cpu_util","maxLength":96,"minLength":1,"pattern":"^([A-Za-z]){1}([0-9A-Za-z]|_|-)*$","type":"string"}},"description":null,"group_id":"2062bc6f187f46ae8026a22ef9aceb0f","host":"ces.cn-north-4.myhuaweicloud.com","id":"39334941de1947899b8241fd05afb2b3","info_version":"v2","method":"post","name":"BatchUpdateWidgets","parameters":{"AuthToken":{"description":"**参数解释**:\n用户Token。\n**约束限制**:\n不涉及。\n**取值范围**:\n最小字符数量为1,最大为16384。\n**默认取值**:\n不涉及。","in":"header","maxLength":16384,"minLength":1,"name":"X-Auth-Token","required":false,"type":"string","x-order":2},"ContentType":{"default":"application/json; charset=UTF-8","description":"**参数解释**:\n发送的实体的MIME类型。\n**约束限制**:\n不涉及。\n**取值范围**:\n最小字符数量为1,最大为64。\n**默认取值**:\n默认使用application/json; charset=UTF-8。","in":"header","maxLength":64,"minLength":1,"name":"Content-Type","required":false,"type":"string","x-order":1},"ProjectId":{"description":"**参数解释**:\n项目ID。用于明确项目归属,配置后可通过该ID查询项目下资产,可以通过调用API获取,也可以从控制台获取。获取方式请参见“[获取项目ID](ces_03_0057.xml)”。\n**约束限制**:\n不涉及。\n**取值范围**:\n字符串的长度必须在 1 到 64个字符之间。\n**默认取值**:\n不涉及。","in":"path","maxLength":64,"minLength":1,"name":"project_id","required":true,"type":"string"}},"paths":{"/v2/{project_id}/widgets/batch-update":{"post":{"description":"批量更新监控视图","operationId":"BatchUpdateWidgets","parameters":[{"$ref":"#/parameters/ContentType"},{"$ref":"#/parameters/AuthToken"},{"$ref":"#/parameters/ProjectId"},{"description":"批量更新监控视图请求体","in":"body","name":"BatchUpdateWidgetsRequestBody","required":true,"schema":{"$ref":"#/definitions/BatchUpdateWidgetsV2RequestBody"}}],"responses":{"200":{"description":"OK","examples":{"application/json":{"widgets":[{"ret_status":"successful","widget_id":"wgXXXXXXXXXXXXXXXXXXXXXX"},{"error_msg":"record not found","ret_status":"error","widget_id":"wg9876543210123456789012"}]}},"schema":{"$ref":"#/definitions/BatchUpdateWidgetsRespBody"}},"400":{"description":"Bad Request, 请求错误","schema":{"$ref":"#/definitions/GoAPIErrorResponseV2"}},"401":{"description":"Unauthorized, 未提供认证信息,或认证信息错误","schema":{"$ref":"#/definitions/GoAPIErrorResponseV2"}},"500":{"description":"Internal Server Error, 请求未完成, 服务异常","schema":{"$ref":"#/definitions/GoAPIErrorResponseV2"}}},"summary":"批量更新监控视图","tags":["监控视图"],"x-api-type":"open-api","x-constraint":"目前华东-青岛、拉美-墨西哥城一、土耳其-伊斯坦布尔、亚太-雅加达、中东-利雅得、亚太-马尼拉6个局点不支持该接口","x-is-registered":"Y","x-open-region-cloud":"hc,hk,ctc,hws_eu","x-request-examples-1":[{"location":{"height":3,"left":0,"top":3,"width":4},"metric_display_mode":"single","metrics":[{"alias":["cpuutilalias"],"dimensions":{"filter_type":"all_instances","name":"instance_id"},"extra_info":{"custom_proc_name":"app.sh","metric_prefix":"cpu","metric_type":"type","origin_metric_name":"cpu_util"},"metric_name":"cpu_util","namespace":"SYS.ECS"}],"properties":{"filter":"topN","order":"asc","topN":10},"threshold":500,"threshold_enabled":false,"title":"widget_title_new","unit":"%","view":"bar","widget_id":"wgXXXXXXXXXXXXXXXXXXXXXX"}],"x-support-sdk":"Y","x-version":"v2"}}},"product_short":"CES","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"批量更新监控视图","tags":"监控视图","uri":null,"version":"2.0"}