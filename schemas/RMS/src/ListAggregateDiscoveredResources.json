{"base_path":null,"components":{"parameters":{"AuthToken":{"description":"用户Token。\n获取Token,请参考《统一身份认证服务API参考》的“获取用户Token”章节。请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。","in":"header","name":"X-Auth-Token","required":true,"schema":{"type":"string"}},"DomainId":{"description":"帐号ID","in":"path","name":"domain_id","required":true,"schema":{"maxLength":36,"pattern":"[\\w-]+","type":"string"}},"Limit":{"description":"最大的返回数量","in":"query","name":"limit","required":false,"schema":{"default":200,"format":"int32","maximum":200,"minimum":1,"type":"integer"}},"Marker":{"description":"分页参数,通过上一个请求中返回的marker信息作为输入,获取当前页","in":"query","name":"marker","required":false,"schema":{"maxLength":400,"minLength":4,"pattern":"[A-Za-z0-9+/=%\\-_]+","type":"string"}}},"schemas":{"AggregateDiscoveredResourcesRequest":{"description":"查询聚合器中帐号资源计数请求体。","properties":{"aggregator_id":{"description":"资源聚合器ID。","maxLength":256,"minLength":1,"pattern":"[\\w-]+","type":"string"},"filter":{"$ref":"#/components/schemas/ResourcesFilters"},"provider":{"description":"云服务类型。","maxLength":20,"minLength":1,"pattern":"[\\w]+","type":"string"},"resource_type":{"description":"资源类型。","maxLength":32,"minLength":1,"pattern":"[\\w-]+","type":"string"}},"required":["aggregator_id"],"type":"object"},"ErrorResp":{"description":"异常错误","properties":{"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误消息内容","type":"string"}},"type":"object"},"PageInfo":{"description":"分页对象","properties":{"current_count":{"description":"当前页的资源数量","format":"int32","maximum":200,"minimum":0,"type":"integer"},"next_marker":{"description":"下一页的marker","type":"string"}},"type":"object"},"ResourceIdentifier":{"properties":{"provider":{"description":"云服务类型。","maxLength":20,"minLength":1,"pattern":"[\\w]+","type":"string"},"region_id":{"description":"资源所属区域。","maxLength":36,"minLength":1,"pattern":"[\\w-]+","type":"string"},"resource_id":{"description":"资源ID。","maxLength":512,"minLength":1,"pattern":"[_.:\\w-]+","type":"string"},"resource_name":{"description":"资源名称。","maxLength":256,"minLength":1,"pattern":"[^']+","type":"string"},"source_account_id":{"description":"源帐号ID。","maxLength":36,"minLength":1,"pattern":"[\\w-]+","type":"string"},"type":{"description":"资源类型。","maxLength":32,"minLength":1,"pattern":"[\\w-]+","type":"string"}},"required":["resource_id","provider","type","source_account_id","region_id"],"type":"object"},"ResourceIdentifiersListResp":{"properties":{"page_info":{"$ref":"#/components/schemas/PageInfo"},"resource_identifiers":{"description":"资源信息列表。","items":{"$ref":"#/components/schemas/ResourceIdentifier"},"type":"array"}},"type":"object"},"ResourcesFilters":{"description":"资源计数过滤器。","properties":{"account_id":{"description":"帐号ID。","maxLength":36,"minLength":1,"pattern":"[\\w-]+","type":"string"},"region_id":{"description":"区域ID。","maxLength":36,"minLength":1,"pattern":"[\\w-]+","type":"string"},"resource_id":{"description":"资源ID。","maxLength":512,"minLength":1,"pattern":"[_.:\\w-]+","type":"string"},"resource_name":{"description":"资源名称。","maxLength":256,"minLength":1,"pattern":"[^']+","type":"string"}},"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"71684d03de7545d7bdc1ae5caf95614f","host":"rms.myhuaweicloud.com","id":"c8bcd06d813b4f4b8ee0e9082b30b6c7","info_version":"v1","method":"post","name":"ListAggregateDiscoveredResources","parameters":null,"paths":{"/v1/resource-manager/domains/{domain_id}/aggregators/aggregate-data/aggregate-discovered-resources":{"post":{"description":"查询资源聚合器中特定资源的列表。","operationId":"ListAggregateDiscoveredResources","parameters":[{"$ref":"#/components/parameters/AuthToken"},{"$ref":"#/components/parameters/DomainId"},{"$ref":"#/components/parameters/Limit"},{"$ref":"#/components/parameters/Marker"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AggregateDiscoveredResourcesRequest"}}},"description":"请求参数。"},"responses":{"200":{"content":{"application/json":{"example":{"page_info":{"current_count":2,"next_marker":"CAESIDdjYTM0NDc4MzBiZDQ5YzliNjMwYTk5NjgwZWFmOTBmGgQ-0aw3"},"resource_identifiers":[{"provider":"vpc","region_id":"region1","resource_id":"1a429d95-3723-4bfa-b54a-19f041f66fe5","resource_name":"vpc1","source_account_id":"3fd23817bd85480e8dc4f520075de348","type":"vpcs"},{"provider":"vpc","region_id":"region2","resource_id":"3d23d144-82e8-4c7c-b0f7-06e4f413d0ee","resource_name":"vpc2","source_account_id":"3fd23817bd85480e8dc4f520075de348","type":"vpcs"}]},"schema":{"$ref":"#/components/schemas/ResourceIdentifiersListResp"}}},"description":"操作成功。"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResp"}}},"description":"输入参数不合法。"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResp"}}},"description":"用户认证失败或无操作权限。"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResp"}}},"description":"服务器内部错误。"}},"security":[{"AccessKeyAuth":[]}],"summary":"查询聚合器中资源的列表","tags":["Aggregator"],"x-is-registered":"Y","x-open-region-cloud":"hws,hws_hk","x-order":12,"x-request-examples-1":{"aggregator_id":"7ca3447830bd49c9b630a99680eaf90f","provider":"vpc"},"x-request-examples-description-1":"查询资源聚合器中特定资源类型的列表。","x-request-examples-url-1":"PUT https://{endpoint}/v1/resource-manager/domains/{domain_id}/aggregators/aggregate-data/aggregate-discovered-resources","x-support-sdk":"Y"}}},"product_short":"RMS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询聚合器中资源的列表","tags":"聚合器","uri":null,"version":"3.0.0"}