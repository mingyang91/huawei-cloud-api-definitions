{"base_path":null,"components":{"parameters":{"AuthToken":{"description":"用户Token。\n获取Token,请参考《统一身份认证服务API参考》的“获取用户Token”章节。请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。","in":"header","name":"X-Auth-Token","required":true,"schema":{"type":"string"}},"DomainId":{"description":"帐号ID","in":"path","name":"domain_id","required":true,"schema":{"maxLength":36,"pattern":"[\\w-]+","type":"string"}},"EpId":{"description":"企业项目ID","in":"query","name":"ep_id","required":false,"schema":{"maxLength":36,"pattern":"[\\w-]+","type":"string"}},"Id":{"description":"资源ID","in":"query","name":"id","required":false,"schema":{"maxLength":512,"pattern":"[_.:\\w-]+","type":"string"}},"Marker":{"description":"分页参数,通过上一个请求中返回的marker信息作为输入,获取当前页","in":"query","name":"marker","required":false,"schema":{"maxLength":400,"minLength":4,"pattern":"[A-Za-z0-9+/=%\\-_]+","type":"string"}},"Name":{"description":"资源名称","in":"query","name":"name","required":false,"schema":{"maxLength":512,"pattern":"[^']+","type":"string"}},"RegionId":{"description":"区域ID","in":"query","name":"region_id","required":false,"schema":{"maxLength":36,"pattern":"[\\w-]+","type":"string"}},"ResourceLimit":{"description":"最大的返回数量。","in":"query","name":"limit","required":false,"schema":{"default":100,"format":"int32","maximum":200,"minimum":1,"type":"integer"}},"ResourceTypeQuery":{"description":"资源类型(provider.type)","in":"query","name":"type","required":false,"schema":{"maxLength":40,"pattern":"[\\w.-]+","type":"string"}},"TagArray":{"description":"标签列表","in":"query","name":"tags","required":false,"schema":{"items":{"description":"标签值, 格式为key或key=value","pattern":"^[\\p{L}\\p{Z}\\p{N}_.:+\\-@]{1,128}(=[\\p{L}\\p{Z}\\p{N}_.:\\/+\\-@]{0,255})?$","type":"string"},"maxItems":5,"minItems":1,"type":"array"}}},"schemas":{"ErrorResp":{"description":"异常错误","properties":{"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误消息内容","type":"string"}},"type":"object"},"PageInfo":{"description":"分页对象","properties":{"current_count":{"description":"当前页的资源数量","format":"int32","maximum":200,"minimum":0,"type":"integer"},"next_marker":{"description":"下一页的marker","type":"string"}},"type":"object"},"ResourceEntity":{"description":"资源对象","properties":{"checksum":{"description":"资源详情校验码","type":"string"},"created":{"description":"资源创建时间","type":"string"},"ep_id":{"description":"企业项目id","type":"string"},"ep_name":{"description":"企业项目名称","type":"string"},"id":{"description":"资源id","readOnly":true,"type":"string"},"name":{"description":"资源名称","type":"string"},"project_id":{"description":"Openstack中的项目id","type":"string"},"project_name":{"description":"Openstack中的项目名称","type":"string"},"properties":{"additionalProperties":{"description":"资源详细属性","type":"object"},"description":"资源详细属性","type":"object"},"provider":{"description":"云服务名称","type":"string"},"provisioning_state":{"description":"资源操作状态","type":"string"},"region_id":{"description":"区域id","type":"string"},"tags":{"additionalProperties":{"type":"string"},"description":"资源Tag","type":"object"},"type":{"description":"资源类型","readOnly":true,"type":"string"},"updated":{"description":"资源更新时间","type":"string"}},"type":"object"},"ResourceListResponse":{"properties":{"page_info":{"$ref":"#/components/schemas/PageInfo"},"resources":{"description":"资源列表","items":{"$ref":"#/components/schemas/ResourceEntity"},"type":"array"}},"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"71684d03de7545d7bdc1ae5caf95614f","host":"rms.myhuaweicloud.com","id":"4ed20cf81a5f48288e4954cced5a750e","info_version":"v1","method":"get","name":"ListAllResources","parameters":null,"paths":{"/v1/resource-manager/domains/{domain_id}/all-resources":{"get":{"description":"返回当前用户下所有资源,需要当前用户有rms:resources:list权限。","operationId":"ListAllResources","parameters":[{"$ref":"#/components/parameters/AuthToken"},{"$ref":"#/components/parameters/DomainId"},{"$ref":"#/components/parameters/RegionId"},{"$ref":"#/components/parameters/EpId"},{"$ref":"#/components/parameters/ResourceTypeQuery"},{"$ref":"#/components/parameters/ResourceLimit"},{"$ref":"#/components/parameters/Marker"},{"$ref":"#/components/parameters/Id"},{"$ref":"#/components/parameters/Name"},{"$ref":"#/components/parameters/TagArray"}],"responses":{"200":{"content":{"application/json":{"example":{"page_info":{"current_count":7,"next_marker":"CAESJhIkNGEzNWYxMmYtZjM0NC00YTNkLWE1NDEtZWFjMDBiNDIzMjg1GgTGWJss"},"resources":[{"checksum":"6e0271b107b764b19acb235f45c0d852f72104fe1d4b32970686e7eae8e87bf4","created":"2020-02-29T09:39:19Z","ep_id":"0","ep_name":"default","id":"3ccd9191-6a5e-4939-a971-4652db18b370","name":"elb-265a","project_id":"05498e12458025102ff5c0061a584a9f","project_name":"regionid1_region_service","properties":{"admin_state_up":true,"created_at":"2020-02-29T09:39:19","description":"","enterprise_project_id":"0","id":"3ccd9191-6a5e-4939-a971-4652db18b370","listeners":[{"id":"37de3be0-1803-43e2-9bb5-243b4b30b771"}],"name":"elb-265a","operating_status":"ONLINE","pools":[{"id":"a7ae4e7f-3e97-48ea-bdbc-334684aafac4"}],"project_id":"05498e12458025102ff5c0061a584a9f","provider":"vlb","provisioning_status":"ACTIVE","tags":[],"tenant_id":"05498e12458025102ff5c0061a584a9f","updated_at":"2020-02-29T09:39:19","vip_address":"192.168.1.127","vip_port_id":"5968aa0e-df6a-42c8-adc3-af6acd482163","vip_subnet_id":"4f91dfd8-cc4f-4c84-bbfd-8518e6b60cad"},"provider":"elb","provisioning_state":"Succeeded","region_id":"regionid1","tags":{},"type":"loadbalancers","updated":"2020-02-29T09:39:19Z"},{"checksum":"2fa729ce34155377fe895ebd70e2523632ca34a7310d8a94e00a74b0d4f8ce76","created":"2020-06-10T03:38:42Z","ep_id":"0","ep_name":"default","id":"274698f1-6ae5-4572-b026-edd5e3186343","name":"listener-cfcc","project_id":"39c2af998c334ed6bcbb75b27318f7b5","project_name":"project_name","properties":{"admin_state_up":true,"connection_limit":-1,"created_at":"2020-06-10T03:38:42","default_pool_id":"524996fb-423e-46df-8ba4-cc00fb810cb8","description":"","http2_enable":false,"id":"274698f1-6ae5-4572-b026-edd5e3186343","insert_headers":{"X-Forwarded-ELB-IP":false,"X-Forwarded-Host":true},"loadbalancers":[{"id":"eafba5b9-c67f-4f32-a820-4bc48c0474ee"}],"name":"listener-cfcc","project_id":"39c2af998c334ed6bcbb75b27318f7b5","protocol":"TCP","protocol_port":80,"sni_container_refs":[],"tags":[],"tenant_id":"39c2af998c334ed6bcbb75b27318f7b5","updated_at":"2020-06-10T03:38:43"},"provider":"elb","provisioning_state":"Succeeded","region_id":"regionid1","tags":{},"type":"listeners","updated":"2020-06-10T03:38:43Z"},{"checksum":"9e7d7a2cf3ff4fafb577fef177db606d41433bf1d9e6246e83ffb4b254ad3fd0","created":"2020-10-26T03:10Z","ep_id":"ecf9bb02-bf2b-447c-bafa-bc4b35c31edf","ep_name":"test","id":"ede7f295-056c-406a-98cf-551d250f8b44","name":"ecs-for-test","project_id":"39c2af998c334ed6bcbb75b27318f7b5","project_name":"project_name","properties":{"ExtVolumesAttached":[{"bootIndex":"0","device":"/dev/vda","id":"7642fc7d-9f0e-4cf6-a43a-3c094d7bf596"}],"OS-EXT-SRV-ATTR":{"host":"regionid1a-pod01.regionid1","hostName":"ecs-for-test","hypervisorHostName":"nova001@7","instanceName":"instance-00117d9e","kernelId":"","launchIndex":0,"ramdiskId":"","reservationId":"r-o0t5i6lx","rootDeviceName":"/dev/vda"},"OsDcfDiskConfig":"MANUAL","OsExtAz":"regionid1a","OsExtStsPowerState":1,"OsExtStsVmState":"active","OsSrvUsgLaunchedAt":"2020-10-26T03:10:14.000000","accessIpv4":"","accessIpv6":"","addresses":[{"OsExtIpsMacAddr":"fa:16:3e:45:2e:44","OsExtIpsPortId":"a3dc68fd-bc03-4a48-9fc3-6854a7ada03d","OsExtIpsType":"fixed","addr":"192.168.20.27","version":4},{"OsExtIpsMacAddr":"fa:16:3e:45:2e:44","OsExtIpsPortId":"a3dc68fd-bc03-4a48-9fc3-6854a7ada03d","OsExtIpsType":"floating","addr":"4.4.4.4","version":4}],"configDrive":"","flavor":{"disk":"0","id":"Si3.small.1","name":"Si3.small.1","ram":"1024","vcpus":"1"},"hostId":"3c381dcfc3e628c1a504ad94ba8c4e89081306455273701333f32921","hostName":"ecs-for-test","hostStatus":"UP","locked":false,"metadata":{"chargingMode":"0","imageName":"test","meteringImageId":"74e96549-a512-44ea-a074-ff69492be31d","meteringImageType":"shared","meteringResourcesPerCode":"si3.small.1.linux","osBit":"64","vpcId":"1dc57489-4ad1-4905-a447-cd42d77b2525"},"progress":0,"schedulerHints":{},"securityGroup":[{"id":"52d72165-0d36-48ed-bc51-647ab361c796","name":"allow_all"}],"status":"ACTIVE","userId":"E2mdWyMJxjRLCkyvTLkRtDMldPnwidNC"},"provider":"ecs","provisioning_state":"Succeeded","region_id":"regionid1","tags":{},"type":"cloudservers","updated":"2020-10-26T03:10:29Z"},{"checksum":"1408722b1da04fb609b377646aeac44d405fdf0aced097f5ec7b4e6c581b933a","created":"2019-03-09T09:27:38.340Z","ep_id":"0","ep_name":"default","id":"2954ab42-a61d-4545-8fb7-f3029c827f91","name":"dcs-test","project_id":"2dd15411042d4dd8a708ef86aafebb0c","project_name":"project_name","properties":{"capacity":1,"charging_mode":0,"created_at":"2019-03-09T09:27:38.340Z","domainName":"redis-2954ab4-dcs-test","domain_name":"redis-2954ab4-dcs-test","enable_publicip":false,"enable_ssl":false,"engine":"Redis","engine_version":"5.0","enterprise_project_id":"0","instance_id":"2954ab42-a61d-4545-8fb7-f3029c827f91","ip":"192.168.1.53","maintain_begin":"02:00:00","maintain_end":"06:00:00","max_memory":1024,"name":"dcs-test","no_password_access":"false","port":6379,"resource_spec_code":"redis.ha.au1.large.1","service_task_id":"","service_upgrade":false,"spec_code":"redis.ha.au1.large.1","status":"RUNNING","subnet_id":"08b835de-6c72-493a-84e4-372f13e6c2d8","update_at":"2020-06-07T04:43:04.185Z","used_memory":2,"user_id":"b32870f8945f443d8aeff4825acf695f","user_name":"test","vpc_id":"723e6d68-7bd0-4945-ac44-d083e10df9c4","vpc_name":"vpc-a59a"},"provider":"dcs","provisioning_state":"Succeeded","region_id":"regionid1","tags":{},"type":"redis","updated":"2020-06-07T04:43:04.185Z"},{"checksum":"56afa8b76428f90e9abfbe5cbf33535d8816166114d32eeb119658d6c59eceda","created":"2020-01-04T13:42:37Z","ep_id":"0","ep_name":"default","id":"a6e56d05501944d3b2507ba506a43744","name":"console","project_id":"","project_name":"","properties":{"business_type":"WEB","cname":"console","domain_name":"console","domain_status":"offline","modify_time":1579062181463},"provider":"cdn","provisioning_state":"Succeeded","region_id":"global","tags":{},"type":"domains","updated":"2020-01-15T04:23:01Z"},{"checksum":"e18552532a73fdfef172061a398212e8ab72e7901a092b240f09a9f250b8e0d1","created":"2019-05-21T06:32:52Z","ep_id":"0","ep_name":"default","id":"1aedefa734514d78baf484358b1066f8in01","name":"ecf-cm","project_id":"9e3425927a954ea5a86d78c3e797acec","project_name":"regionid1_region_service","properties":{"cpu":"2","createdAt":"2019-05-21T06:32:52Z","dataVip":"9.9.9.9","dataVolumeSizeInGBs":"1000","enableSsl":"1","engineName":"mysql","engineVersion":"5.7.23.5","flavorCode":"rds.mysql.c6.4xlarge.4.ha","haMode":"Ha","instanceStatus":"normal","mem":"8","networkId":"ae261422-51c8-4a26-ba53-cfa4cc7d6690","nodeNum":"2","opsWindow":"10:00-14:00","payMode":"0","port":"3306","securityGroupId":"f6e60b4b-94ca-4d30-9bb2-4ac5366a07e9","userId":"04ef9c3e450026431f35c01f946b49d7","volumeType":"ULTRAHIGH","vpcId":"ccbea875-6268-473e-bf90-e63159394df2"},"provider":"rds","provisioning_state":"Succeeded","region_id":"regionid1","tags":{},"type":"instances","updated":"2020-12-22T13:20:56Z"},{"checksum":"e18552532a73fdfef172061a398212e8ab72e7901a092b240f09a9f250b8e0d1","created":"2019-05-21T06:32:52Z","ep_id":"0","ep_name":"default","id":"7c330b98-87ed-4098-93c7-fc1edc4b6b5a","name":"clouddeploy-2pod-env2_hyp-0002","project_id":"9e3425927a954ea5a86d78c3e797acec","project_name":"regionid1_region_service","properties":{"ExtVolumesAttached":[],"OS-EXT-SRV-ATTR":{"host":"regionid1b-pod02.regionid1","hostName":"clouddeploy-2pod-env2-hyp-0002","hypervisorHostName":"nova004@2","instanceName":"instance-00034cd1","kernelId":"","launchIndex":0,"ramdiskId":"","reservationId":"r-703tla9e","rootDeviceName":"/dev/vda"},"OsDcfDiskConfig":"MANUAL","OsExtAz":"regionid1b","OsExtStsPowerState":4,"OsExtStsVmState":"stopped","OsSrvUsgLaunchedAt":"2019-09-05T11:07:15.000000","accessIpv4":"","accessIpv6":"","addresses":[{"OsExtIpsMacAddr":"fa:16:3e:29:23:33","OsExtIpsPortId":"2db3738d-cbbd-4698-906f-c972845cba3a","OsExtIpsType":"fixed","addr":"192.168.1.49","version":4}],"configDrive":"","flavor":{"disk":"2000","id":"physical.r1.xlarge","name":"physical.r1.xlarge","ram":"262144","vcpus":"64"},"hostId":"c3499877cccf68446308b59a0efddb6754029a3b6ddbd14dcca07c46","hostName":"clouddeploy-2pod-env2-hyp-0002","hostStatus":"UP","locked":false,"metadata":{"chargingMode":"1","imageName":"Ubuntu 17.10 aarch64 server 64bit for BareMetal","meteringImageId":"e5065d43-4964-4071-b1ab-b17c70f903cc","meteringImageType":"private","meteringOrderId":"CS20122903366ZKVX","meteringProductId":"00301-215006-0--0","meteringResourcesPerCode":"physical.r1.xlarge.linux","osBit":"64","vpcId":"d7d8f09b-8bfe-4cc5-87a1-99012253ef44"},"schedulerHints":{},"securityGroup":[{"id":"d7872289-f428-4690-9292-583c12fc8449","name":"default"}],"status":"SHUTOFF","userId":"183c03ab1281490e8be2e93038a9079c"},"provider":"bms","provisioning_state":"Succeeded","region_id":"regionid1","tags":{"__type_baremetal":""},"type":"servers","updated":"2020-12-22T13:20:56Z"}]},"schema":{"$ref":"#/components/schemas/ResourceListResponse"}}},"description":"操作成功。"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResp"}}},"description":"输入参数不合法。"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResp"}}},"description":"用户身份认证失败。"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResp"}}},"description":"服务器内部错误。"}},"security":[{"PkiTokenAuth":[]}],"summary":"列举所有资源","tags":["Resource"],"x-is-registered":"Y","x-open-region-cloud":"hws,hws_hk,ctc,cmcc,g42,hk_g42,hk_sbc,sbc","x-publishpath":"rms_04_0104","x-request-examples-description-1":"查询当前用户下所有资源。","x-request-examples-description-2":"查询当前用户default企业项目下的资源,返回前100条。","x-request-examples-url-1":"GET https://{endpoint}/v1/resource-manager/domains/{domain_id}/all-resources","x-request-examples-url-2":"GET https://{endpoint}/v1/resource-manager/domains/{domain_id}/all-resources?limit=100&ep_id=0","x-support-sdk":"Y"}}},"product_short":"RMS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"列举所有资源","tags":"资源清单","uri":null,"version":"3.0.0"}