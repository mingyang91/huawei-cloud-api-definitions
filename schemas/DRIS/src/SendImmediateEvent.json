{"base_path":null,"components":null,"consumes":"[\"application/json\"]","definitions":{"Channel":{"description":"**参数说明**:分发通道,至少指定一个通道。","properties":{"by_lte_pc5":{"default":false,"description":"**参数说明**:LTE-PC5传输通道。若通过LTE-PC5传输通道下发事件,该字段为true。","type":"boolean"},"by_lte_uu":{"default":false,"description":"**参数说明**:LTE-Uu的传输通道。若通过LTE-Uu的传输通道下发事件,该字段为true。","type":"boolean"}},"type":"object","x-subPackage":"sendimmediateevent"},"ImmediateEventDTO":{"description":"**参数说明**:即时事件的内容。","properties":{"event_class":{"description":"**参数说明**:事件类型,参照附录[《国标交通事件及标志列表》](https://support.huaweicloud.com/api-v2x/v2x_04_0101.html)文件。当填写event_type时,event_class为必选。","enum":["abnormal traffic","adverse weather","abnormal vehicle","traffic sign"],"example":"traffic sign","type":"string"},"event_confidence":{"description":"**参数说明**:道路交通事件的信息来源提供的事件置信度水平,帮助接收端判断是否相信该事件信息,可选。","example":100,"format":"int32","maximum":200,"minimum":0,"type":"integer"},"event_description":{"description":"**参数说明**:事件的文本描述信息,可自行扩展需传递的信息。","example":"0123456789","maxLength":255,"minLength":0,"type":"string"},"event_position":{"$ref":"#/definitions/ImmediateEventPosition3D"},"event_priority":{"description":"**参数说明**:事件优先级,0-7,数字越大,级别越高。","example":3,"format":"int32","maximum":7,"minimum":0,"type":"integer"},"event_radius":{"description":"**参数说明**:事件的发生区域半径,单位为分米。","example":1000,"format":"int32","maximum":65535,"minimum":0,"type":"integer"},"event_source":{"description":"**参数说明**:事件来源类型列表,支持事件来源。\n\n**取值范围**:\n\n- unknown:未知数据\n\n- police:警方数据\n\n- government:政府数据\n\n- meteorological:气象数据\n\n- internet:互联网数据\n\n- detection:检测器检测到的数据\n\n- v2xServer:平台上报数据\n\n- rsu:RSU上报数据\n\n- obu:车载终端上报数据","enum":["unknown","police","government","meteorological","internet","detection","v2xServer","rsu","obu"],"example":"internet","type":"string"},"event_source_id":{"description":"**参数说明**:事件来源的ID,由用户自定义。","example":"0123456789","maxLength":255,"minLength":0,"type":"string"},"event_type":{"description":"**参数说明**:事件类型,参照附录[《国标交通事件及标志列表》](https://support.huaweicloud.com/api-v2x/v2x_04_0101.html)文件。","example":39,"format":"int32","maximum":65535,"minimum":0,"type":"integer"},"reference_paths":{"description":"**参数说明**:事件生效的关联路径。","items":{"$ref":"#/definitions/ImmediateEventReferencePath"},"type":"array"},"time_stamp":{"description":"**参数说明**:事件发生时间,毫秒级。\n\n格式:yyyy-MM-dd''T''HH:mm:ss.SSS''Z''\n\n例如 2015-12-12T12:12:12.356Z。","example":"2015-12-12T12:12:12.356Z","format":"date-time","type":"string","x-annotations":["@JsonDeserialize(using = CustomDateTimeDeserializer.class)","@JsonSerialize(using = CustomDateTimeSerializer.class)"],"x-type":"DateTime"}},"required":["event_class","event_position","event_source","event_type","time_stamp"],"type":"object","x-imports":"org.joda.time.DateTime;com.fasterxml.jackson.databind.annotation.*;com.huawei.iot.dris.component.base.serializer.*;","x-subPackage":"sendimmediateevent"},"ImmediateEventPosition3D":{"description":"位置信息。","properties":{"ele":{"description":"**参数说明**:定义海拔高程,可选,单位为分米。","example":1000.0,"maximum":61439,"minimum":-4095,"type":"number"},"lat":{"description":"**参数说明**:定义纬度数值,北纬为正,南纬为负,单位°,精度小数点后7位。","example":40.1234567,"maximum":90,"minimum":-90,"type":"number"},"lon":{"description":"**参数说明**:定义经度数值。东经为正,西经为负,单位°,精度小数点后7位。","example":116.1234567,"maximum":180,"minimum":-180,"type":"number"}},"required":["lat","lon"],"type":"object","x-subPackage":"sendimmediateevent"},"ImmediateEventReferencePath":{"properties":{"active_path":{"description":"**参数说明**:通过点集合定义一个有向的作用范围。","items":{"$ref":"#/definitions/ImmediateEventPosition3D"},"maxItems":32,"minItems":2,"type":"array"},"path_radius":{"description":"**参数说明**:事件的影响区域半径,可选,单位为分米。用半径表示影响区域边界离中心线的垂直距离,反映该区域的宽度以覆盖实际路段。","example":1000,"format":"int32","maximum":65535,"minimum":0,"type":"integer"}},"required":["active_path"],"type":"object","x-subPackage":"sendimmediateevent"},"ImmediateEventResponseDTO":{"description":"**参数说明**:即时事件的内容。","properties":{"event_class":{"description":"**参数说明**:事件类型,参照附录[《国标交通事件及标志列表》](https://support.huaweicloud.com/api-v2x/v2x_04_0101.html)文件。当填写event_type时,event_class为必选。","enum":["abnormal traffic","adverse weather","abnormal vehicle","traffic sign"],"example":"traffic sign","type":"string"},"event_confidence":{"description":"**参数说明**:道路交通事件的信息来源提供的事件置信度水平,帮助接收端判断是否相信该事件信息,可选。","example":100,"format":"int32","maximum":200,"minimum":0,"type":"integer"},"event_description":{"description":"**参数说明**:事件的文本描述信息,可自行扩展需传递的信息。","example":"0123456789","maxLength":255,"minLength":0,"type":"string"},"event_position":{"$ref":"#/definitions/ImmediateEventPosition3D"},"event_priority":{"description":"**参数说明**:事件优先级,0-7,数字越大,级别越高。","example":3,"format":"int32","maximum":7,"minimum":0,"type":"integer"},"event_radius":{"description":"**参数说明**:事件的发生区域半径,单位为分米。","example":1000,"format":"int32","maximum":65535,"minimum":0,"type":"integer"},"event_source":{"description":"**参数说明**:事件来源类型列表,支持事件来源。\n\n**取值范围**:\n\n- unknown:未知数据\n\n- police:警方数据\n\n- government:政府数据\n\n- meteorological:气象数据\n\n- internet:互联网数据\n\n- detection:检测器检测到的数据\n\n- v2xServer:平台上报数据\n\n- rsu:RSU上报数据\n\n- obu:车载终端上报数据","enum":["unknown","police","government","meteorological","internet","detection","v2xServer","rsu","obu"],"example":"internet","type":"string"},"event_source_id":{"description":"**参数说明**:事件来源的ID,由用户自定义。","example":"0123456789","maxLength":255,"minLength":0,"type":"string"},"event_type":{"description":"**参数说明**:事件类型,参照附录[《国标交通事件及标志列表》](https://support.huaweicloud.com/api-v2x/v2x_04_0101.html)文件","example":39,"format":"int32","maximum":65535,"minimum":0,"type":"integer"},"reference_paths":{"description":"**参数说明**:事件生效的关联路径。","items":{"$ref":"#/definitions/ImmediateEventReferencePath"},"type":"array"},"time_stamp":{"description":"**参数说明**:事件发生时间,毫秒级。\n\n格式:yyyy-MM-dd''T''HH:mm:ss.SSS''Z''\n\n例如 2015-12-12T12:12:12.356Z。","example":"2015-12-12T12:12:12.356Z","format":"date-time","type":"string","x-annotations":["@JsonDeserialize(using = CustomDateTimeDeserializer.class)","@JsonSerialize(using = CustomDateTimeSerializer.class)"],"x-type":"DateTime"}},"type":"object","x-imports":"org.joda.time.DateTime;com.fasterxml.jackson.databind.annotation.*;com.huawei.iot.dris.component.base.serializer.*;","x-subPackage":"sendimmediateevent"},"SendConfig":{"description":"**参数说明**:分发通道及目标设备。","properties":{"channel":{"$ref":"#/definitions/Channel"},"target_list":{"$ref":"#/definitions/TargetList"}},"required":["channel"],"type":"object","x-subPackage":"sendimmediateevent"},"SendConfigResponse":{"description":"**参数说明**:分发通道选择及目标推送设备的配置。","properties":{"channel":{"$ref":"#/definitions/Channel"},"target_list":{"$ref":"#/definitions/TargetList"}},"type":"object","x-subPackage":"sendimmediateevent"},"SendImmediateEventsDTO":{"properties":{"immediate_event":{"$ref":"#/definitions/ImmediateEventDTO"},"send_config":{"$ref":"#/definitions/SendConfig"}},"required":["immediate_event","send_config"],"type":"object","x-subPackage":"sendimmediateevent"},"SendImmediateEventsResponseDTO":{"properties":{"event_id":{"description":"**参数说明**:即时事件ID。","maxLength":255,"minLength":0,"type":"string"},"immediate_event":{"$ref":"#/definitions/ImmediateEventResponseDTO"},"send_config":{"$ref":"#/definitions/SendConfigResponse"}},"type":"object","x-subPackage":"sendimmediateevent"},"TargetList":{"description":"**参数说明**:目标设备类型对应id的列表。","properties":{"target_obu_ids":{"description":"**参数说明**:通过LTE-Uu的传输通道(by_lte_uu参数值为true)下发的obu id列表。注意obu id列表不能为空。","items":{"example":"obu0123456789","type":"string"},"maxItems":255,"minItems":0,"type":"array"},"target_rsu_ids":{"description":"**参数说明**:通过LTE-PC5传输通道(by_lte_pc5参数值为true)下发的rsu id列表。如果rsu id列表为空,则匹配事件范围内的在线rsu进行下发。","items":{"example":"rsu0123456789","type":"string"},"maxItems":255,"minItems":0,"type":"array"}},"type":"object","x-subPackage":"sendimmediateevent"}},"description":null,"group_id":"dfa23202ac9744c09647eb6839229692","host":"ocv2x-api.cn-north-4.myhuaweicloud.com","id":"415a2ba5e2a84b2f95c177a0a92f9715","info_version":"v1","method":"post","name":"SendImmediateEvent","parameters":{},"paths":{"/v1/{project_id}/immediate-event":{"post":{"description":"创建即时交通事件,平台分发即时交通事件给目标设备的接口。事件一旦创建便会立即下发且只会下发一次。","operationId":"SendImmediateEvent","parameters":[{"description":"**参数说明**:项目ID。获取方法请参见 [获取项目ID](https://support.huaweicloud.com/api-v2x/v2x_04_0031.html)。\n\n**取值范围**:仅支持数字,a到f的小写字母组合,长度32。","in":"path","name":"project_id","pattern":"^[0-9a-f]{32}$","required":true,"type":"string"},{"description":"\"**参数说明**:实例ID。dris物理实例的唯一标识。获取方法参见[获取Instance-Id](https://support.huaweicloud.com/api-v2x/v2x_04_0030.html)。\n\n**取值范围**:仅支持数字,小写字母和横杠(-)的组合,长度36。\"","in":"header","name":"Instance-Id","pattern":"^[a-z0-9-]{36}$","required":false,"type":"string"},{"description":"**参数说明**:用户Token,Token认证鉴权时必选。通过调用IAM服务 [获取IAM用户Token](https://support.huaweicloud.com/api-iam/iam_30_0001.html)接口获取,接口返回的响应消息头中“X-Subject-Token”就是需要获取的用户Token。简要的获取方法样例请参见 [Token认证](https://support.huaweicloud.com/api-v2x/v2x_04_0012.html)。","in":"header","maxLength":20000,"minLength":1,"name":"X-Auth-Token","required":false,"type":"string"},{"description":"**参数说明**:新增即时事件结构体。","in":"body","name":"SendImmediateEventRequestBody","required":true,"schema":{"$ref":"#/definitions/SendImmediateEventsDTO"}}],"produces":["application/json"],"responses":{"201":{"description":"Created","examples":{"application/json":{"immediate_event":{"event_class":"traffic sign","event_confidence":100,"event_description":"0123456789","event_position":{"ele":1000,"lat":40.1234567,"lon":116.1234567},"event_priority":3,"event_radius":1000,"event_source":"internet","event_source_id":"0123456789","event_type":39,"reference_paths":[{"active_path":[{"ele":1000,"lat":40.1234567,"lon":116.1234567},{"ele":1000,"lat":50.1234567,"lon":136.1234567}],"path_radius":1000}],"time_stamp":"2015-12-12T12:12:12.356Z"},"send_config":{"channel":{"by_lte_pc5":false,"by_lte_uu":false},"target_list":{"target_obu_ids":["obu0123456789"],"target_rsu_ids":["rsu0123456789"]}}}},"schema":{"$ref":"#/definitions/SendImmediateEventsResponseDTO"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"405":{"description":"Method Not Allowed"},"409":{"description":"Conflict"},"429":{"description":"Too Many Requests"},"500":{"description":"Internal Server Error"}},"schemes":["https"],"security":[{"apig-auth-iam":[]}],"summary":"创建即时交通事件","tags":["APIG-SN-SendImmediateEvent"],"x-apigateway-backend":{"httpVpcEndpoints":{"description":"","method":"POST","name":"OMLB","path":"/v1/{project_id}/immediate-event","scheme":"https","timeout":30000},"parameters":[{"description":"","in":"HEADER","name":"Instance-Id","origin":"REQUEST","value":"Instance-Id"},{"description":"","in":"PATH","name":"project_id","origin":"REQUEST","value":"project_id"}],"type":"HTTP-VPC"},"x-apigateway-cors":false,"x-apigateway-match-mode":"NORMAL","x-apigateway-request-type":"public","x-imports":"org.springframework.http.ResponseEntity;javax.validation.constraints.*;io.swagger.annotations.ApiResponse;io.swagger.annotations.ApiResponses;com.huawei.iot.dris.component.exception.ExceptionMessage;com.huawei.clouds.wushan.cts.meta.CtsMeta;com.huawei.clouds.wushan.integration.common.auth.EnableAuth;com.huawei.clouds.wushan.auth.token.IamAuthLevel;com.huawei.clouds.wushan.auth.token.IamAuthMeta;","x-is-registered":"Y","x-methodAnnotations":["@ApiResponses({ @ApiResponse(code = 201, response = SendImmediateEventsResponseDTO.class, message = \"\"), @ApiResponse(code = 400, response = ExceptionMessage.class, message = \"\"), @ApiResponse(code = 401, response = ExceptionMessage.class, message = \"\"), @ApiResponse(code = 403, response = ExceptionMessage.class, message = \"\"), @ApiResponse(code = 404, response = ExceptionMessage.class, message = \"\"), @ApiResponse(code = 500, response = ExceptionMessage.class, message = \"\")}) @CtsMeta(resourceType = \"immediateEvent\", traceName = \"SendImmediateEvent\") @IamAuthMeta(authLevel = IamAuthLevel.PROJECT) @EnableAuth"],"x-request-examples-1":{"immediate_event":{"event_class":"traffic sign","event_confidence":100,"event_description":123456789,"event_position":{"ele":1000,"lat":40.1234567,"lon":116.1234567},"event_priority":3,"event_radius":1000,"event_source":"internet","event_source_id":123456789,"event_type":39,"reference_paths":[{"active_path":[{"ele":1000,"lat":40.1234567,"lon":116.1234567},{"ele":1000,"lat":50.1234567,"lon":136.1234567}],"path_radius":1000}],"time_stamp":"2015-12-12T12:12:12.356Z"},"send_config":{"channel":{"by_lte_pc5":false,"by_lte_uu":false},"target_list":{"target_obu_ids":["obu0123456789"],"target_rsu_ids":["rsu0123456789"]}}},"x-request-examples-url-1":"POST https://{endpoint}/v1/{project_id}/forwarding-configs\nContent-Type:application/json\nX-Auth-Token:********\nInstance-Id:********","x-returnType":"ResponseEntity<SendImmediateEventsResponseDTO>","x-support-sdk":"Y"}}},"product_short":"DRIS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-app":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-iam-none":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM_NONE"}},"summary":"创建即时交通事件","tags":"即时交通事件分发","uri":null,"version":"2.0"}