{"base_path":null,"components":null,"consumes":"[\"application/json\"]","definitions":{"AddV2XEdgeAppDTO":{"description":"AppModel传输对象","properties":{"app_version":{"description":"**参数说明**:应用版本,部署边缘应用版本前应先创建应用版本并发布,创建应用版本方法参见:[创建应用](https://support.huaweicloud.com/api-v2x/v2x_04_0038.html),发布应用版本方法参见:[更新应用版本状态](https://support.huaweicloud.com/api-v2x/v2x_04_0105.html)。\n\n**取值范围**:只允许小写字母、数字、连接符(-)、点(.)的组合且要以小写字母或数字开头和结尾。","maxLength":32,"minLength":1,"pattern":"^([a-z0-9]([a-z0-9-.])*[a-z0-9])|([a-z0-9])$","type":"string"},"edge_app_id":{"description":"**参数说明**:用户自定义应用唯一ID,部署边缘应用前应先创建应用,方法参见:[创建应用](https://support.huaweicloud.com/api-v2x/v2x_04_0026.html)。\n\n**取值范围**:只允许字母、数字、下划线(_)、连接符(-)、美元符号($)的组合。","maxLength":32,"minLength":1,"pattern":"^[A-Za-z0-9-_$]*$","type":"string"}},"required":["app_version","edge_app_id"],"type":"object","x-subPackage":"edge"},"V2XEdgeAppResponseDTO":{"description":"**参数说明**:EdgeApp传输对象。","properties":{"app_version":{"description":"**参数说明**:应用版本,比如1.0.0。","maxLength":64,"minLength":1,"pattern":"^([a-z0-9]([a-z0-9-.])*[a-z0-9])|([a-z0-9])$","type":"string"},"edge_app_id":{"description":"**参数说明**:用户自定义应用唯一ID。","maxLength":32,"minLength":1,"pattern":"^[A-Za-z0-9-_$]*$","type":"string"},"status":{"description":"**参数说明**:应用部署状态。\n\n**取值范围**:\n\n- UNINSTALLED:待部署\n\n- INSTALLED:部署中\n\n- OFFLINE:离线\n\n- ONLINE:在线\n\n- UPGRADING:升级中\n\n- DELETING:删除中\n\n- RUNNING:运行中","example":"RUNNING","type":"string"},"v2x_edge_id":{"description":"**参数说明**:Edge ID,用于唯一标识一个Edge。","maxLength":255,"minLength":0,"type":"string"}},"type":"object","x-subPackage":"edge"}},"description":null,"group_id":"dfa23202ac9744c09647eb6839229692","host":"ocv2x-api.cn-north-4.myhuaweicloud.com","id":"f47c3a383dfd4345ab727b6569d57526","info_version":"v1","method":"post","name":"CreateV2xEdgeApp","parameters":{},"paths":{"/v1/{project_id}/v2x-edges/{v2x_edge_id}/apps":{"post":{"description":"**部署边缘应用前需确保**:\n\n- Edge已创建且处于在线状态。相关方法请参见:[创建Edge](https://support.huaweicloud.com/api-v2x/v2x_04_0078.html),[查询Edge](https://support.huaweicloud.com/api-v2x/v2x_04_0003.html)。\n\n- 待部署的应用已创建且应用版本状态已更新至发布。相关方法请参见:[创建应用](https://support.huaweicloud.com/api-v2x/v2x_04_0026.html),[创建应用版本](https://support.huaweicloud.com/api-v2x/v2x_04_0038.html),[更新应用版本状态](https://support.huaweicloud.com/api-v2x/v2x_04_0105.html)\n\n如部署边缘应用接口调用成功,稍后将会自动安装至边缘设备无需手动操作。自动安装完成后应用将处于运行中的状态。\n\n**关于应用在设备侧部署的耗时问题**:\n\n&emsp;&emsp;从边缘应用部署成功到处于运行中状态的耗时取决于边缘设备所处的网络状况以及应用镜像包的大小,可通过查询边缘应用获取边缘应用部署状态。相关方法请参见:[查询边缘应用](https://support.huaweicloud.com/api-v2x/v2x_04_0115.html)\"","operationId":"CreateV2xEdgeApp","parameters":[{"description":"**参数说明**:项目ID。获取方法请参见 [获取项目ID](https://support.huaweicloud.com/api-v2x/v2x_04_0031.html)。\n\n**取值范围**:仅支持数字,a到f的小写字母组合,长度32。","in":"path","name":"project_id","pattern":"^[0-9a-f]{32}$","required":true,"type":"string"},{"description":"**参数说明**:Edge ID,用于唯一标识一个Edge,创建Edge后获得。方法参见 [创建Edge](https://support.huaweicloud.com/api-v2x/v2x_04_0078.html)。","in":"path","maxLength":255,"name":"v2x_edge_id","required":true,"type":"string"},{"description":"**参数说明**:实例ID。dris物理实例的唯一标识。获取方法参见[获取Instance-Id](https://support.huaweicloud.com/api-v2x/v2x_04_0030.html)。\n\n**取值范围**:仅支持数字,小写字母和连接符(-)的组合,长度36。","in":"header","name":"Instance-Id","pattern":"^[a-z0-9-]{36}$","required":false,"type":"string"},{"description":"**参数说明**:用户Token,Token认证鉴权时必选。通过调用IAM服务 [获取IAM用户Token](https://support.huaweicloud.com/api-iam/iam_30_0001.html)接口获取,接口返回的响应消息头中“X-Subject-Token”就是需要获取的用户Token。简要的获取方法样例请参见 [Token认证](https://support.huaweicloud.com/api-v2x/v2x_04_0012.html)。","in":"header","maxLength":20000,"minLength":1,"name":"X-Auth-Token","required":false,"type":"string"},{"description":"V2XEdge资源数据","in":"body","name":"CreateV2xEdgeAppRequestBody","required":true,"schema":{"$ref":"#/definitions/AddV2XEdgeAppDTO"}}],"produces":["application/json"],"responses":{"201":{"description":"Created","examples":{"application/json":{"app_version":"1.0.0","edge_app_id":"test-app","status":"RUNNING","v2x_edge_id":"74297d76-6f99-4fe2-a435-1e27a524e4c8"}},"schema":{"$ref":"#/definitions/V2XEdgeAppResponseDTO"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"405":{"description":"Method Not Allowed"},"409":{"description":"Conflict"},"429":{"description":"Too Many Requests"},"500":{"description":"Internal Server Error"}},"schemes":["https"],"summary":"部署边缘应用","tags":["APIG-SN-V2XEDGE-APP"],"x-apigateway-backend":{"httpVpcEndpoints":{"description":"","method":"POST","name":"OMLB","path":"/v1/{project_id}/v2x-edges/{v2x_edge_id}/apps","scheme":"https","timeout":30000},"parameters":[{"descripiton":"","in":"PATH","name":"project_id","origin":"REQUEST","value":"project_id"},{"descripiton":"","in":"PATH","name":"v2x_edge_id","origin":"REQUEST","value":"v2x_edge_id"}],"type":"HTTP-VPC"},"x-apigateway-cors":false,"x-apigateway-match-mode":"NORMAL","x-apigateway-request-type":"public","x-externalAPI":true,"x-imports":"org.springframework.http.ResponseEntity;javax.validation.constraints.*;io.swagger.annotations.ApiResponse;io.swagger.annotations.ApiResponses;com.huawei.iot.dris.component.exception.ExceptionMessage;com.huawei.clouds.wushan.cts.meta.CtsMeta;com.huawei.clouds.wushan.integration.common.auth.EnableAuth;com.huawei.clouds.wushan.auth.token.IamAuthLevel;com.huawei.clouds.wushan.auth.token.IamAuthMeta;","x-is-registered":"Y","x-methodAnnotations":["@ApiResponses({ @ApiResponse(code = 201, response = V2XEdgeAppResponseDTO.class, message = \"\"), @ApiResponse(code = 400, response = ExceptionMessage.class, message = \"\"), @ApiResponse(code = 401, response = ExceptionMessage.class, message = \"\"), @ApiResponse(code = 403, response = ExceptionMessage.class, message = \"\"), @ApiResponse(code = 404, response = ExceptionMessage.class, message = \"\"), @ApiResponse(code = 405, response = ExceptionMessage.class, message = \"\"), @ApiResponse(code = 409, response = ExceptionMessage.class, message = \"\"), @ApiResponse(code = 429, response = ExceptionMessage.class, message = \"\"), @ApiResponse(code = 500, response = ExceptionMessage.class, message = \"\")}) @CtsMeta(resourceType = \"v2xEdgeApp\", traceName = \"DeployV2xEdgeApp\") @IamAuthMeta(authLevel = IamAuthLevel.PROJECT) @EnableAuth"],"x-request-examples-1":{"app_version":"1.0.0","edge_app_id":"test-app"},"x-request-examples-url-1":"POST https://{endpoint}/v1/{project_id}/v2x-edges/{v2x_edge_id}/apps\nContent-Type:application/json\nX-Auth-Token:********\nInstance-Id:********","x-returnType":"ResponseEntity<V2XEdgeAppResponseDTO>","x-support-sdk":"Y"}}},"product_short":"DRIS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-app":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-iam-none":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM_NONE"}},"summary":"部署边缘应用","tags":"边缘应用管理","uri":null,"version":"2.0"}