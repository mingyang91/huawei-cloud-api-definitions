{"base_path":null,"components":null,"consumes":"[\"application/json\"]","definitions":{"AddTrafficEventDTO":{"properties":{"area_code":{"description":"**参数说明**:区域码,参考[区域码查询](http://xzqh.mca.gov.cn/map)。","format":"int32","maximum":999999,"minimum":100000,"type":"integer"},"end_time":{"description":"**参数说明**:结束时间。\n\n格式:yyyy-MM-dd''T''HH:mm:ss''Z''。\n\n例如 2020-09-01T01:37:01Z。\n","maxLength":255,"minLength":0,"pattern":"^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$","type":"string"},"event_class":{"description":"**参数说明**:事件类型,参照附录[《国标交通事件及标志列表》](https://support.huaweicloud.com/api-v2x/v2x_04_0101.html)文件。当填写event_type时,event_class为必选。","maxLength":64,"minLength":0,"pattern":"^[a-zA-Z]{1,64}$","type":"string"},"event_confidence":{"description":"**参数说明**:事件可信度。","format":"int32","maximum":1000,"minimum":0,"type":"integer"},"event_description":{"description":"**参数说明**:事件描述。支持英文字母、数字、下划线、斜杠、中文及中文常用字符:。 ? ! , 、 ; : “ ”","pattern":"^[一-龥。|?|!|,|、|;|:|“|”/A-Za-z0-9_]{0,255}$","type":"string"},"event_level":{"description":"**参数说明**:事件优先级,0-7越大优先级越高。","format":"int32","maximum":7,"minimum":0,"type":"integer"},"event_params":{"additionalProperties":{"maxLength":255,"type":"string"},"description":"\n**参数说明**:事件附加信息。\n\n事件类型为如下数据时生效:\n\n- 道路最高限:必选,设置最高限速(整数值)km/h\n\n- 道路最低限速:必选,设置最低限速(整数值)km/h\n\n- 建议速度:必选,建议速度(整数值)km/h\n\n- 急弯路:可选,建议最高限速(整数值)km/h\n\n- 雨:可选,请输入1~4:1-细雨,2-小雨,3-中雨,4-大雨\n\n- 雪:可选,请输入1~4:1-小雪,2-中雪,3-大雪,4-暴雪\n\n- 风:可选,设置风速值(整数值)km/h\n\n- 雾:可选,请输入1或2:1-薄雾,2-浓雾\n\n- 路面湿滑:可选,设置湿滑系数(0~1)\n\n- 路面结冰:可选,请设置冰层厚度(整数值)mm\n\n建议填写方式为:user_defined_param1: \"xx\"\n","type":"object","x-type":"Map<String, String>"},"event_position":{"$ref":"#/definitions/EventLocation","description":"**参数说明**:事件位置。"},"event_position_name":{"description":"**参数说明**:事件所在位置。","maxLength":255,"minLength":0,"type":"string"},"event_source_id":{"description":"**参数说明**:事件来源的ID,由用户自定义。","maxLength":255,"minLength":0,"type":"string"},"event_source_type":{"description":"\n**参数说明**:事件来源类型列表,支持事件来源。\n\n**取值范围**:\n\n- unknown:未知数据\n\n- police:警方数据\n\n- government:政府数据\n\n- meteorological:气象数据\n\n- internet:互联网数据\n\n- detection:检测器检测到的数据\n\n- v2xServer:平台上报数据\n\n- rsu:RSU上报数据\n\n- obu:车载终端上报数据\n","pattern":"^(unknown|police|government|meteorological|internet|detection|v2xServer|rsu|obu)$","type":"string"},"event_type":{"description":"**参数说明**:事件类型,参照附录[《国标交通事件及标志列表》](https://support.huaweicloud.com/api-v2x/v2x_04_0101.html)文件。","format":"int32","maximum":1000,"minimum":0,"type":"integer"},"note":{"description":"**参数说明**:备注。","maxLength":255,"minLength":0,"type":"string"},"reference_paths":{"description":"**参数说明**:事件生效的关联路径,至少需写入起始和终止位置的两个坐标点。","items":{"$ref":"#/definitions/EventReferencePath"},"maxItems":10,"minItems":0,"type":"array"},"start_time":{"description":"**参数说明**:开始时间。\n\n格式:yyyy-MM-dd''T''HH:mm:ss''Z''。\n\n例如 2020-09-01T01:37:01Z。\n","pattern":"^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$","type":"string"}},"required":["area_code","event_source_type","event_class","event_type","event_position","event_position_name","start_time","end_time","reference_paths"],"type":"object","x-imports":"org.joda.time.DateTime;","x-subPackage":"trafficevent"},"EventLocation":{"properties":{"lat":{"description":"**参数说明**:定义纬度数值,北纬为正,南纬为负,单位°,精度小数点后7位。","example":0,"maximum":90,"minimum":-90,"type":"number"},"lon":{"description":"**参数说明**:定义经度数值。东经为正,西经为负,单位°,精度小数点后7位。","example":0,"maximum":180,"minimum":-180,"type":"number"}},"type":"object","x-subPackage":"trafficevent"},"EventReferencePath":{"properties":{"active_path":{"description":"**参数说明**:激活路径。","items":{"$ref":"#/definitions/EventLocation"},"maxItems":10,"minItems":0,"type":"array"},"path_radius":{"default":1000,"description":"**参数说明**:事件的影响区域半径,可选,单位为分米。用半径表示影响区域边界离中心线的垂直距离,反映该区域的宽度以覆盖实际路段。","format":"int32","maximum":2147483647,"minimum":0,"type":"integer"}},"type":"object","x-subPackage":"trafficevent"},"TrafficEventDTO":{"properties":{"area_code":{"description":"**参数说明**:区域码,参考[区域码查询](http://xzqh.mca.gov.cn/map)。","format":"int32","maximum":999999,"minimum":0,"type":"integer"},"created_time":{"description":"'**参数说明**:创建时间。\n\n格式:yyyy-MM-dd''T''HH:mm:ss''Z''。\n\n例如 2020-09-01T01:37:01Z。\n","format":"date-time","type":"string","x-type":"DateTime"},"end_time":{"description":"**参数说明**:结束时间。\n\n格式:yyyy-MM-dd''T''HH:mm:ss''Z''。\n\n例如 2020-09-01T01:37:01Z。\n","format":"date-time","type":"string","x-type":"DateTime"},"event_class":{"description":"**参数说明**:事件类型,参照附录[《国标交通事件及标志列表》](https://support.huaweicloud.com/api-v2x/v2x_04_0101.html)文件。当填写event_type时,event_class为必选。","type":"string"},"event_confidence":{"description":"**参数说明**:事件可信度。","format":"int32","maximum":1000,"minimum":0,"type":"integer"},"event_description":{"description":"**参数说明**:事件描述。支持英文字母、数字、下划线、斜杠、中文及中文常用字符:。 ? ! , 、 ; : “ ”","pattern":"^[一-龥。|?|!|,|、|;|:|“|”/A-Za-z0-9_]{0,255}$","type":"string"},"event_id":{"description":"**参数说明**:事件ID,创建事件后获得。方法参见 [新增交通事件](https://support.huaweicloud.com/api-v2x/v2x_04_0048.html)。","maxLength":255,"minLength":0,"type":"string"},"event_level":{"description":"**参数说明**:事件优先级,0-7越大优先级越高。","format":"int32","maximum":7,"minimum":0,"type":"integer"},"event_params":{"additionalProperties":{"type":"string"},"description":"\n**参数说明**:事件附加信息。\n\n事件类型为如下数据时生效:\n\n- 道路最高限:必选,设置最高限速(整数值)km/h\n\n- 道路最低限速:必选,设置最低限速(整数值)km/h\n\n- 建议速度:必选,建议速度(整数值)km/h\n\n- 急弯路:可选,建议最高限速(整数值)km/h\n\n- 雨:可选,请输入1~4:1-细雨,2-小雨,3-中雨,4-大雨\n\n- 雪:可选,请输入1~4:1-小雪,2-中雪,3-大雪,4-暴雪\n\n- 风:可选,设置风速值(整数值)km/h\n\n- 雾:可选,请输入1或2:1-薄雾,2-浓雾\n\n- 路面湿滑:可选,设置湿滑系数(0~1)\n\n- 路面结冰:可选,请设置冰层厚度(整数值)mm\n\n建议填写方式为:user_defined_param1: \"xx\"\n","type":"object","x-type":"Map<String, String>"},"event_position":{"$ref":"#/definitions/EventLocation","description":"**参数说明**:事件位置。"},"event_position_name":{"description":"**参数说明**:事件所在位置。","maxLength":255,"minLength":0,"type":"string"},"event_source_id":{"description":"**参数说明**:事件来源的ID,由用户自定义。","maxLength":255,"minLength":0,"type":"string"},"event_source_type":{"description":"\n**参数说明**:事件来源类型列表,支持事件来源。\n\n**取值范围**:\n\n- unknown:未知数据\n\n- police:警方数据\n\n- government:政府数据\n\n- meteorological:气象数据\n\n- internet:互联网数据\n\n- detection:检测器检测到的数据\n\n- v2xServer:平台上报数据\n\n- rsu:RSU上报数据\n\n- obu:车载终端上报数据\n","type":"string"},"event_type":{"description":"**参数说明**:事件类型,参照附录[《国标交通事件及标志列表》](https://support.huaweicloud.com/api-v2x/v2x_04_0101.html)文件。","format":"int32","maximum":1000,"minimum":0,"type":"integer"},"last_modified_time":{"description":"**参数说明**:最后修改的时间。\n\n格式:yyyy-MM-dd''T''HH:mm:ss''Z''。\n\n例如 2020-09-01T01:37:01Z。\n","format":"date-time","type":"string","x-type":"DateTime"},"note":{"description":"**参数说明**:备注。","maxLength":255,"minLength":0,"type":"string"},"reference_paths":{"description":"**参数说明**:事件生效的关联路径,至少需写入起始和终止位置的两个坐标点。","items":{"$ref":"#/definitions/EventReferencePath"},"maxItems":10,"minItems":0,"type":"array"},"start_time":{"description":"**参数说明**:开始时间。\n\n格式:yyyy-MM-dd''T''HH:mm:ss''Z''。\n\n例如 2020-09-01T01:37:01Z。\n","format":"date-time","type":"string","x-type":"DateTime"},"status":{"description":"\n**参数说明**:事件状态。\n\n**取值范围**:\n\n- Invalid:为过期事件,事件结束时间(end_time)在当前时间之前。\n\n- Active:为活动事件,事件开始时间(start_time)在当前时间之前,并且事件结束时间(end_time)在当前时间之后。\n\n- Future:为未来事件,事件开始时间(start_time)在当前时间之前。\n","type":"string"}},"type":"object","x-imports":"org.joda.time.DateTime;","x-subPackage":"trafficevent"}},"description":null,"group_id":"dfa23202ac9744c09647eb6839229692","host":"ocv2x-api.cn-north-4.myhuaweicloud.com","id":"97532abb8ca54efba0f986e135d01629","info_version":"v1","method":"post","name":"CreateTrafficEvent","parameters":{"Instance-Id":{"description":"\"**参数说明**:实例ID。dris物理实例的唯一标识。获取方法参见[获取Instance-Id](https://support.huaweicloud.com/api-v2x/v2x_04_0030.html)。\n\n**取值范围**:仅支持数字,小写字母和横杠(-)的组合,长度36。\"","in":"header","name":"Instance-Id","pattern":"^[a-z0-9-]{36}$","required":false,"type":"string"},"X-Auth-Token":{"description":"**参数说明**:用户Token,Token认证鉴权时必选。通过调用IAM服务 [获取IAM用户Token](https://support.huaweicloud.com/api-iam/iam_30_0001.html)接口获取,接口返回的响应消息头中“X-Subject-Token”就是需要获取的用户Token。简要的获取方法样例请参见 [Token认证](https://support.huaweicloud.com/api-v2x/v2x_04_0012.html)。","in":"header","maxLength":20000,"minLength":1,"name":"X-Auth-Token","required":false,"type":"string"},"project_id":{"description":"**参数说明**:项目ID。获取方法请参见 [获取项目ID](https://support.huaweicloud.com/api-v2x/v2x_04_0031.html)。\n\n**取值范围**:仅支持数字,a到f的小写字母组合,长度32。","in":"path","name":"project_id","pattern":"^[0-9a-f]{32}$","required":true,"type":"string"}},"paths":{"/v1/{project_id}/traffic-events":{"post":{"description":"创建长期交通事件时,平台根据事件的起始时间和结束时间确定当前长期交通事件的状态。对于活跃状态的交通事件会立即下发给在事件影响范围内的RSU,对于未来事件则是在事件开始时间点下发到在事件影响范围内的RSU,过期事件不会下发。","operationId":"CreateTrafficEvent","parameters":[{"$ref":"#/parameters/project_id"},{"$ref":"#/parameters/Instance-Id"},{"$ref":"#/parameters/X-Auth-Token"},{"description":"**参数说明**:新增事件结构体","in":"body","name":"CreateTrafficEventRequestBody","required":true,"schema":{"$ref":"#/definitions/AddTrafficEventDTO"}}],"responses":{"201":{"description":"Created","examples":{"application/json":{"area_code":440330,"end_time":"2021-12-23T08:32:51.618Z","event_class":"AbnormalVehicle","event_confidence":100,"event_description":"qCSYD6jdXBLlm65GB9TguIV1ra80Mc0k","event_id":"bdd0da88-a22c-4259-8679-947b772512a3","event_level":0,"event_params":{"additionalProp1":"50"},"event_position":{"lat":22.123456,"lon":114.123456},"event_position_name":"F4(V2X 办公区域) ","event_source_id":301,"event_source_type":"v2xServer","event_type":903,"note":"note","reference_paths":[{"active_path":[{"lat":22.123456,"lon":114.123456},{"lat":23.123456,"lon":115.123456}],"path_radius":1000}],"start_time":"2021-12-23T08:32:51.618Z","status":"Active"}},"schema":{"$ref":"#/definitions/TrafficEventDTO"},"x-apigateway-result-failure-sample":"","x-apigateway-result-normal-sample":"{\n    \"status\": \"ONLINE\",\n    \"eventId\": \"21e8e795eab945f0a4dc56b3379bf657\",\n    \"eventSourceType\": \"PortalEvent\""},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"405":{"description":"Method Not Allowed"},"409":{"description":"Conflict"},"429":{"description":"Too Many Requests"},"500":{"description":"Internal Server Error"}},"schemes":["https"],"security":[{"apig-auth-iam":[]}],"summary":"创建长期交通事件","tags":["APIG-SN-TRAFFICEVENT"],"x-apigateway-backend":{"httpVpcEndpoints":{"description":"","method":"POST","name":"OMLB","path":"/v1/{project_id}/traffic-events","scheme":"https","timeout":30000},"parameters":[{"description":"","in":"PATH","name":"project_id","origin":"REQUEST","value":"project_id"}],"type":"HTTP-VPC"},"x-apigateway-cors":false,"x-apigateway-match-mode":"NORMAL","x-apigateway-request-type":"public","x-externalAPI":"YES","x-iftype":"OpenAPI","x-imports":"org.springframework.http.ResponseEntity;javax.validation.constraints.*;io.swagger.annotations.ApiResponse;io.swagger.annotations.ApiResponses;com.huawei.iot.dris.component.exception.ExceptionMessage;com.huawei.clouds.wushan.cts.meta.CtsMeta;com.huawei.clouds.wushan.integration.common.auth.EnableAuth;com.huawei.clouds.wushan.auth.token.IamAuthLevel;com.huawei.clouds.wushan.auth.token.IamAuthMeta;","x-interfaceFrequency":"HIGH","x-is-registered":"Y","x-methodAnnotations":["@ApiResponses({ @ApiResponse(code = 201, response = TrafficEventDTO.class, message = \"\"), @ApiResponse(code = 400, response = ExceptionMessage.class, message = \"\"), @ApiResponse(code = 401, response = ExceptionMessage.class, message = \"\"), @ApiResponse(code = 403, response = ExceptionMessage.class, message = \"\"), @ApiResponse(code = 404, response = ExceptionMessage.class, message = \"\"), @ApiResponse(code = 500, response = ExceptionMessage.class, message = \"\")}) @CtsMeta(resourceType = \"trafficEvent\", traceName = \"CreateTrafficEvent\") @IamAuthMeta(authLevel = IamAuthLevel.PROJECT) @EnableAuth"],"x-request-examples-1":{"area_code":440300,"end_time":"2022-01-05T21:25:14Z","event_class":"AbnormalTraffic","event_confidence":1,"event_description":"123","event_level":1,"event_params":{"user_defined_param1":"10"},"event_position":{"lat":22.123456,"lon":114.123456},"event_position_name":"深圳市龙岗区坂田华为基地F4","event_source_id":"11","event_source_type":"unknown","event_type":100,"note":"note","reference_paths":[{"active_path":[{"lat":22.123456,"lon":114.123456},{"lat":23.123456,"lon":115.123456}],"path_radius":1000}],"start_time":"2021-12-30T21:25:14Z"},"x-request-examples-url-1":"POST https://{endpoint}/v1/{project_id}/traffic-events\nContent-Type:application/json\nX-Auth-Token:********\nInstance-Id:********","x-returnType":"ResponseEntity<TrafficEventDTO>","x-support-sdk":"Y"}}},"product_short":"DRIS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-app":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-iam-none":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM_NONE"}},"summary":"创建长期交通事件","tags":"长期交通事件管理","uri":null,"version":"2.0"}