{"base_path":null,"components":{"parameters":{"IdentityStoreId":{"allowEmptyValue":false,"description":"身份源的全局唯一标识符(ID)","in":"path","name":"identity_store_id","required":true,"schema":{"maxLength":12,"minLength":12,"pattern":"^d-[0-9a-f]{10}$","type":"string"}},"SecurityTokenHeader":{"description":"如果正在使用临时安全凭据,则此header是必需的,该值是临时安全凭据的安全令牌(会话令牌)。","in":"header","name":"X-Security-Token","required":false,"schema":{"readOnly":true,"type":"string"}}},"schemas":{"CreateIDPReqBody":{"properties":{"idp_certificate":{"description":"身份提供商证书,与身份提供商SAML配置联合使用","type":"string"},"idp_saml_config":{"description":"身份提供商SAML配置信息,与身份提供商SAML元数据二选一","properties":{"entity_id":{"description":"身份提供商发布者标识","type":"string"},"login_url":{"description":"身份提供商登录链接","type":"string"}}},"idp_saml_metadata":{"description":"身份提供商SAML元数据,与身份提供商SAML配置二选一","type":"string"}},"type":"object"},"CreateIDPResp":{"properties":{"hws_sp_saml_config":{"$ref":"#/components/schemas/SPSAMLConfig","description":"服务提供商配置信息"},"idp_certificate_id":{"description":"身份提供商证书全局唯一标识符(ID)","type":"string"},"idp_certificate_ids":{"description":"身份提供商证书全局唯一标识符列表","items":{"type":"string"},"type":"array"},"idp_id":{"description":"外部身份提供商的全局唯一标识符(ID)","type":"string"}},"type":"object"},"ErrorResp":{"properties":{"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误信息","type":"string"},"request_id":{"description":"请求唯一标识","type":"string"}},"required":["error_code","error_msg","request_id"],"type":"object"},"ForbiddenErrorResp":{"properties":{"encoded_authorization_message":{"description":"加密的错误信息","type":"string"},"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误信息","type":"string"},"request_id":{"description":"请求唯一标识","type":"string"}},"required":["error_code","error_msg","request_id"],"type":"object"},"SPSAMLConfig":{"properties":{"acs_url":{"description":"服务提供商断言响应地址","type":"string"},"issuer":{"description":"服务提供商签发者","type":"string"},"metadata":{"description":"服务提供商元数据","type":"string"}},"required":["acs_url","issuer","metadata"],"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"499f1f5d19964333820aeb190e94d39c","host":"identitystore.cn-north-4.myhuaweicloud.com","id":"7c1e527659ce451083c053fd3302d02c","info_version":"v1","method":"post","name":"CreateExternalIdPConfigurationForDirectory","parameters":null,"paths":{"/v1/identity-stores/{identity_store_id}/external-idp":{"post":{"description":"创建外部身份提供商配置。此操作只能由组织的管理账号或作为服务委托管理员的成员账号调用。","operationId":"CreateExternalIdPConfigurationForDirectory","parameters":[{"$ref":"#/components/parameters/IdentityStoreId"},{"$ref":"#/components/parameters/SecurityTokenHeader"}],"requestBody":{"content":{"application/json":{"example":{"idp_saml_metadata":"<?xml version=\"1.0\" encoding=\"utf-8\"?><EntityDescriptor ID=\"_678cd4a8-4915-4e2d-a4ce-6*************cd/saml2\" /></IDPSSODescriptor></EntityDescriptor>"},"schema":{"$ref":"#/components/schemas/CreateIDPReqBody"}}},"required":true},"responses":{"201":{"content":{"application/json":{"example":{"hws_sp_saml_config":{"acs_url":"https://cn-north-4-signin.huaweicloud.com/v1/platform/saml/acs/xxxxxxx","issuer":"https://cn-north-4.signin.huaweicloud.com/platform/saml/xxxxxx","metadata":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>xxxxxxx</md:EntityDescriptor>"},"idp_certificate_id":"553523a6-ebde-4570-xxxxxxx","idp_certificate_ids":["553523a6-ebde-4570-xxxxxxx"],"idp_id":"a48e3f1b-59f8-4b8f-xxxxxxx"},"schema":{"$ref":"#/components/schemas/CreateIDPResp"}}},"description":"Successful"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResp"}}},"description":"Bad request"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorResp"}}},"description":"Forbidden"}},"security":[{"AccessKeyAuth":[]}],"summary":"创建外部身份提供商配置","tags":["IDP"],"x-api-service-plane":"Control-plane","x-api-type":"open-api","x-iftype":"innerAPI","x-is-registered":"Y","x-order":0,"x-request-examples-1":{"idp_saml_metadata":"<?xml version=\"1.0\" encoding=\"utf-8\"?><EntityDescriptor ID=\"_678cd4a8-4915-4e2d-a4ce-6*************cd/saml2\" /></IDPSSODescriptor></EntityDescriptor>"},"x-request-examples-description-1":"创建外部身份提供商配置","x-request-examples-text-1":{"idp_saml_metadata":"<?xml version=\"1.0\" encoding=\"utf-8\"?><EntityDescriptor ID=\"_678cd4a8-4915-4e2d-a4ce-6*************cd/saml2\" /></IDPSSODescriptor></EntityDescriptor>"},"x-request-examples-url-1":"POST https://{hostname}/v1/identity-stores/{identity_store_id}/external-idp","x-support-sdk":"Y"}}},"product_short":"IdentityCenterStore","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建外部身份提供商配置","tags":"身份提供商管理","uri":null,"version":"3.0.3"}