{"base_path":null,"components":{"parameters":{"IdentityStoreId":{"allowEmptyValue":false,"description":"身份源的全局唯一标识符(ID)","in":"path","name":"identity_store_id","required":true,"schema":{"maxLength":12,"minLength":12,"pattern":"^d-[0-9a-f]{10}$","type":"string"}},"SecurityTokenHeader":{"description":"如果正在使用临时安全凭据,则此header是必需的,该值是临时安全凭据的安全令牌(会话令牌)。","in":"header","name":"X-Security-Token","required":false,"schema":{"readOnly":true,"type":"string"}}},"schemas":{"BatchListMfaDevicesForUserReqBody":{"properties":{"user_list":{"description":"用户列表","items":{"$ref":"#/components/schemas/RetrieveMfaDevicesForUserDto"},"type":"array"}},"required":["user_list"],"type":"object"},"ErrorResp":{"properties":{"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误信息","type":"string"},"request_id":{"description":"请求唯一标识","type":"string"}},"required":["error_code","error_msg","request_id"],"type":"object"},"ForbiddenErrorResp":{"properties":{"encoded_authorization_message":{"description":"加密的错误信息","type":"string"},"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误信息","type":"string"},"request_id":{"description":"请求唯一标识","type":"string"}},"required":["error_code","error_msg","request_id"],"type":"object"},"MfaDeviceDto":{"properties":{"device_id":{"description":"MFA设备唯一标识符(ID)","type":"string"},"device_name":{"description":"MFA设备名称","type":"string"},"display_name":{"description":"MFA设备显示名称","type":"string"},"mfa_type":{"description":"MFA类型","type":"string"},"registered_date":{"description":"注册时间","format":"int64","type":"integer"}},"required":["device_id","device_name","display_name","mfa_type","registered_date"],"type":"object"},"RetrieveMfaDevicesForUserDto":{"properties":{"identity_store_id":{"description":"身份源的全局唯一标识符(ID)","type":"string"},"user_id":{"description":"用户唯一标识符(ID)","type":"string"}},"required":["identity_store_id","user_id"],"type":"object"},"RetrieveMfaDevicesForUserEntryDto":{"properties":{"mfa_devices":{"description":"MFA设备列表","items":{"$ref":"#/components/schemas/MfaDeviceDto"},"type":"array"},"user":{"$ref":"#/components/schemas/RetrieveMfaDevicesForUserDto","description":"用户信息"}},"required":["mfa_devices","user"],"type":"object"},"RetrieveMfaDevicesForUserResp":{"properties":{"user_mfa_devices_entry_list":{"description":"用户MFA设备信息列表","items":{"$ref":"#/components/schemas/RetrieveMfaDevicesForUserEntryDto"},"type":"array"}},"required":["user_mfa_devices_entry_list"],"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"499f1f5d19964333820aeb190e94d39c","host":"identitystore.cn-north-4.myhuaweicloud.com","id":"04341367a0984c3ab7df76ae3501e841","info_version":"v1","method":"post","name":"BatchListMfaDevicesForUser","parameters":null,"paths":{"/v1/identity-stores/{identity_store_id}/users/retrieve-mfa-devices":{"post":{"description":"查询指定用户的MFA设备列表。此操作只能由组织的管理账号或作为服务委托管理员的成员账号调用。","operationId":"BatchListMfaDevicesForUser","parameters":[{"$ref":"#/components/parameters/SecurityTokenHeader"},{"$ref":"#/components/parameters/IdentityStoreId"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchListMfaDevicesForUserReqBody"}}},"required":true},"responses":{"200":{"content":{"application/json":{"example":{"user_mfa_devices_entry_list":[{"mfa_devices":[{"device_id":"m-fd4e4981d8","device_name":"MFA1","display_name":"MFA1","mfa_type":"TOTP","registered_date":1753862382307}],"user":{"identity_store_id":"d-a23adaabca","user_id":"201dca3f-965b-4311-8830-dc7953aecdcc"}}]},"schema":{"$ref":"#/components/schemas/RetrieveMfaDevicesForUserResp"}}},"description":"Successful"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResp"}}},"description":"Bad request"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenErrorResp"}}},"description":"Forbidden"}},"security":[{"AccessKeyAuth":[]}],"summary":"列出用户MFA设备","tags":["User"],"x-api-service-plane":"Control-plane","x-api-type":"open-api","x-is-registered":"Y","x-request-examples-1":{"user_list":[{"identity_store_id":"d-a23axxxx","user_id":"201dca3f-965b-4311-8830-dc7953axxxx"}]},"x-request-examples-description-1":"查询指定用户的MFA设备列表","x-request-examples-text-1":{"user_list":[{"identity_store_id":"d-a23axxxx","user_id":"201dca3f-965b-4311-8830-dc7953axxxx"}]},"x-request-examples-url-1":"POST https://{hostname}/v1/identity-stores/{identity_store_id}/users/retrieve-mfa-devices","x-support-sdk":"Y"}}},"product_short":"IdentityCenterStore","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"列出用户MFA设备","tags":"用户管理","uri":null,"version":"3.0.3"}