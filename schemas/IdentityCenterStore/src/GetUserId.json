{"base_path":null,"components":{"parameters":{"IdentityStoreId":{"allowEmptyValue":false,"description":"身份源的全局唯一标识符(ID)","in":"path","name":"identity_store_id","required":true,"schema":{"maxLength":12,"minLength":12,"pattern":"^d-[0-9a-f]{10}$","type":"string"}},"SecurityTokenHeader":{"description":"如果正在使用临时安全凭据,则此header是必需的,该值是临时安全凭据的安全令牌(会话令牌)。","in":"header","name":"X-Security-Token","required":false,"schema":{"maxLength":2048,"readOnly":true,"type":"string"}}},"schemas":{"AlternateIdentifierDto":{"description":"A unique identifier for a user or group that is not the its primary identifier.This value can be an identifier from an external identity provider (IdP) that is associated with the group or a unique attribute.","properties":{"external_id":{"$ref":"#/components/schemas/ExternalIdDto","description":"外部身份提供商颁发给此资源的标识符"},"unique_attribute":{"$ref":"#/components/schemas/UniqueAttributeDto","description":"对特定实体唯一的实体属性"}},"type":"object"},"ErrorResp":{"properties":{"encoded_authorization_message":{"description":"鉴权信息","type":"string"},"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误信息","type":"string"},"request_id":{"description":"请求Id","type":"string"}},"required":["error_code","error_msg","request_id"],"type":"object"},"ExternalIdDto":{"description":"The identifier issued to this resource by an external identity provider.","properties":{"id":{"description":"外部身份提供商颁发给此资源的标识符","maxLength":256,"minLength":1,"pattern":"[\\p{L}\\p{M}\\p{S}\\p{N}\\p{P}]+","type":"string","x-sensitive":true},"issuer":{"description":"外部标识符的颁发者","maxLength":100,"minLength":1,"type":"string","x-sensitive":true}},"required":["id","issuer"],"type":"object"},"GetUserIdReqBody":{"description":"获取用户id的请求体","properties":{"alternate_identifier":{"$ref":"#/components/schemas/AlternateIdentifierDto","description":"备用标识符"}},"required":["alternate_identifier"],"type":"object"},"GetUserIdResp":{"description":"获取用户id的返回体","properties":{"identity_store_id":{"description":"身份源的全局唯一标识符(ID)","maxLength":36,"minLength":1,"pattern":"d-[0-9a-f]{10}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}","type":"string"},"user_id":{"description":"身份源中IAM身份中心用户的全局唯一标识符(ID)","maxLength":47,"minLength":1,"pattern":"([0-9a-f]{10}-|)[A-Fa-f0-9]{8}-[A-Fa-f0-9]{4}-[A-Fa-f0-9]{4}-[A-Fa-f0-9]{4}-[A-Fa-f0-9]{12}","type":"string"}},"required":["identity_store_id","user_id"],"type":"object"},"UniqueAttributeDto":{"description":"An entity attribute that's unique to a specific entity.","properties":{"attribute_path":{"description":"属性路径","maxLength":255,"minLength":1,"type":"string"},"attribute_value":{"description":"属性的值","maxLength":255,"minLength":1,"type":"string","x-sensitive":true}},"required":["attribute_path","attribute_value"],"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"499f1f5d19964333820aeb190e94d39c","host":"identitystore.cn-north-4.myhuaweicloud.com","id":"63af27cc24b54aeb837e271d7cf4526d","info_version":"v1","method":"post","name":"GetUserId","parameters":null,"paths":{"/v1/identity-stores/{identity_store_id}/users/retrieve-user-id":{"post":{"description":"根据用户名或外部身份源ID,以精确匹配的方式查询用户ID。用户名和外部身份源ID两种查询方式二选一,不支持同时传入。","operationId":"GetUserId","parameters":[{"$ref":"#/components/parameters/SecurityTokenHeader"},{"$ref":"#/components/parameters/IdentityStoreId"}],"requestBody":{"content":{"application/json":{"example":{"alternate_identifier":{"external_id":null,"unique_attribute":{"attribute_path":"user_name","attribute_value":"用户名u1"}}},"schema":{"$ref":"#/components/schemas/GetUserIdReqBody"}}},"description":"","required":true},"responses":{"200":{"content":{"application/json":{"example":{"identity_store_id":"d-a00aaaa33f","user_id":"ac6aa714-daa7-1aaa-aaa2-6715aaaa4dd9"},"schema":{"$ref":"#/components/schemas/GetUserIdResp"}}},"description":"Successful"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResp"}}},"description":"Bad request"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResp"}}},"description":"Forbidden"}},"security":[{"AccessKeyAuth":[]}],"summary":"查询用户ID","tags":["User"],"x-apiexplorer-hide":"N","x-iftype":"openAPI","x-is-registered":"Y","x-order":5,"x-request-examples-1":{"alternate_identifier":{"external_id":null,"unique_attribute":{"attribute_path":"user_name","attribute_value":"用户名u1"}}},"x-request-examples-description-1":"根据用户名或外部身份源ID,以精确匹配的方式查询用户ID。","x-request-examples-url-1":"POST https://{hostname}/v1/identity-stores/{identity_store_id}/users/retrieve-user-id","x-support-sdk":"Y"}}},"product_short":"IdentityCenterStore","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询用户ID","tags":"用户管理","uri":null,"version":"3.0.3"}