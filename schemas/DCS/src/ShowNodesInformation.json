{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ErrorResponse":{"description":"错误响应体","properties":{"error_code":{"description":"错误码","example":"DCS.4062","maxLength":9,"type":"string"},"error_ext_msg":{"description":"扩展错误信息(暂未使用,赋值为null)","example":null,"maxLength":1024,"type":"string"},"error_msg":{"description":"错误信息","example":"Invalid capacity parameter in the request.","maxLength":1024,"type":"string"}}},"InstanceReplicationDimensionsInfo":{"description":"监控指标维度对象信息","properties":{"name":{"description":"监控维度名称","example":"dcs_cluster_redis_node","format":"String","type":"string"},"value":{"description":"维度取值","format":"String","type":"string"}}},"NodesInfoResp":{"properties":{"az_code":{"description":"可用区code","example":"cn-north-7c","type":"string"},"dimensions":{"description":"副本对应的监控指标维度信息。可用于调用云监控服务的查询监控数据指标相关接口\n- 副本的监控维度为多维度,返回数组中包含两个维度信息。从云监控查询监控数据时,要按多维度传递指标维度参数,才能查询到监控指标值\n- 第一个维度为副本父维度信息\n维度名称为dcs_instance_id,维度值对应副本所在的实例ID\n- 第二个维度,维度名称为dcs_cluster_redis_node,维度值为副本的监控对象ID,与副本ID和节点ID不同。","items":{"$ref":"#/definitions/InstanceReplicationDimensionsInfo","type":"object"},"type":"array"},"group_id":{"description":"分片ID","example":"ace962d1-7841-4e50-9313-c239fd75dee3","type":"string"},"group_name":{"description":"分片名称","example":"group-0","type":"string"},"is_access":{"description":"节点的IP是否可直接访问","example":true,"type":"boolean"},"is_remove_ip":{"description":"是否从只读域名中摘除IP","example":false,"type":"boolean"},"logical_node_id":{"description":"逻辑节点ID","example":"8f997eb512a92834bf5914be52ca8919","type":"string"},"name":{"description":"节点名称","example":"(replica)192.168.0.178","type":"string"},"node_id":{"description":"节点ID","example":"8a2c26c17f4d6516017f4d7b77940030","type":"string"},"node_ip":{"description":"节点的IP","example":"192.168.0.178","type":"string"},"node_port":{"description":"节点的port","example":"6379","type":"string"},"node_role":{"description":"节点角色,所有值如下:\n- redis-server:Redis server节点。\n- redis-proxy:proxy节点。","enum":["redis-server","redis-proxy"],"example":"redis-server","type":"string"},"node_type":{"description":"节点主从角色:\n- master:主\n- slave:从\n- proxy: proxy实例节点角色为\"proxy\"","enum":["master","slave","proxy"],"example":"slave","type":"string"},"priority_weight":{"description":"节点权重","example":100,"format":"int32","type":"integer"},"replication_id":{"description":"副本id","example":"b4468cb1-4f75-4866-a49d-86959acc0c9c","type":"string"},"status":{"description":"节点状态,所有值如下:\n- Creating:创建中。\n- Active:运行中。\n- Inactive:故障。\n- Deleting:删除中。\n- AddSharding:添加分片中。","enum":["Creating","Active","Inactive","Deleting","AddSharding"],"example":"Active","type":"string"}}},"ShowNodesInformationResp":{"description":"查询实例节点信息响应体","properties":{"instance_id":{"description":"实例ID","example":"20ea2b99-cb03-4b3b-b828-93e000e78ab8","type":"string"},"nodes":{"description":"节点信息","items":{"$ref":"#/definitions/NodesInfoResp"},"type":"array"},"total":{"description":"节点数量","example":2,"format":"int32","type":"integer"}}}},"description":null,"group_id":"6d1f519281c6497eba6cbfcc3b6d06e5","host":"dcs.cn-north-4.myhuaweicloud.com","id":"b6002ef9cfb441de9e421b3a89b4e801","info_version":"v2","method":"get","name":"ShowNodesInformation","parameters":{},"paths":{"/v2/{project_id}/instances/{instance_id}/logical-nodes":{"get":{"description":"查询指定实例的节点信息。\n仅支持Redis4.0和Redis5.0实例查询。\n创建中实例不返回节点信息。","operationId":"ShowNodesInformation","parameters":[{"description":"实例ID。","in":"path","name":"instance_id","required":true,"type":"string","x-example":"a4d31cb6-3d72-4fdc-8ec9-6e3a41e47f71"},{"description":"项目ID。获取方法请参见[获取项目ID](dcs-api-0312045.xml)。","in":"path","name":"project_id","required":true,"type":"string","x-example":"666486c2d9b948c1bbea57e714d744fa"}],"responses":{"200":{"description":"查询节点信息成功","examples":{"application/json":{"instance_id":"11368fbb-de1e-4613-9080-1c374b71a1af","nodes":[{"az_code":"cn-north-7b","dimensions":[{"name":"dcs_instance_id","value":"11368fbb-de1e-4613-9080-1c374b71a1af"},{"name":"dcs_cluster_redis_node","value":"79653bcbd0e5c104fefedd188aa372d6"}],"group_id":"6e0f6e95-57cd-4baf-86d6-bea8815b25a8","group_name":"group-0","is_access":true,"is_remove_ip":false,"logical_node_id":"79653bcbd0e5c104fefedd188aa372d6","name":"(master)192.168.68.157","node_id":"ff80808189bf92a50189d330303b77aa","node_ip":"192.168.68.157","node_role":"redis-server","node_type":"master","priority_weight":100,"replication_id":null,"status":"Active"}],"total":1}},"schema":{"$ref":"#/definitions/ShowNodesInformationResp"}},"400":{"description":"非法请求","examples":{"application/json":{"error_code":"DCS.4800","error_msg":"Invalid offset in the request."}},"schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"内部服务错误","examples":{"application/json":{"error_code":"DCS.5000","error_msg":"Internal service error."}},"schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"查询实例节点信息","tags":["分片与副本"],"x-constraint":"仅支持Redis4.0和Redis5.0实例查询","x-hybridcloud":true,"x-is-registered":"Y","x-name":"查询实例节点信息","x-open-region-cloud":"hws,hws_hk,hws_eu,otc,ocb,sbc,g42,tm,ctc,cmcc","x-request-examples-1":"GET https://{dcs_endpoint}/v2/{project_id}/instances/{instance_id}/logical-nodes?status={status}","x-scope":"","x-support-sdk":"Y"}}},"product_short":"DCS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询实例节点信息","tags":"分片与副本","uri":null,"version":"2.0"}