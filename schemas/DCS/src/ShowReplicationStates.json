{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ErrorResponse":{"description":"错误响应体","properties":{"error_code":{"description":"错误码","example":"DCS.4062","maxLength":9,"type":"string"},"error_ext_msg":{"description":"扩展错误信息(暂未使用,赋值为null)","example":null,"maxLength":1024,"type":"string"},"error_msg":{"description":"错误信息","example":"Invalid capacity parameter in the request.","maxLength":1024,"type":"string"}}},"InstanceReplicationDimensionsInfo":{"description":"监控指标维度对象信息","properties":{"name":{"description":"监控维度名称","example":"dcs_cluster_redis_node","format":"String","type":"string"},"value":{"description":"维度取值","format":"String","type":"string"}}},"InstanceReplicationListInfo":{"description":"副本列表","properties":{"az_code":{"description":"副本所在的可用区","type":"string"},"dimensions":{"description":"副本对应的监控指标维度信息。可用于调用云监控服务的查询监控数据指标相关接口\n- 副本的监控维度为多维度,返回数组中包含两个维度信息。从云监控查询监控数据时,要按多维度传递指标维度参数,才能查询到监控指标值\n- 第一个维度为副本父维度信息,维度名称为dcs_instance_id,维度值对应副本所在的实例ID\n- 第二个维度,维度名称为dcs_cluster_redis_node,维度值为副本的监控对象ID,与副本ID和节点ID不同。","items":{"$ref":"#/definitions/InstanceReplicationDimensionsInfo","type":"object"},"type":"array"},"is_replication":{"description":"是否是新加副本。","example":false,"type":"boolean"},"node_id":{"description":"节点id。","example":"8aa6999f6de47c69016df0e7ddd223da","type":"string"},"replication_id":{"description":"副本id。","example":"71749f79-e9ea-4173-8bfa-b97357153af8","type":"string"},"replication_ip":{"description":"副本IP。","example":"192.168.0.233","type":"string"},"replication_role":{"description":"副本角色,取值有:\n- master:表示主节点。\n- slave:表示从节点。","example":"master","type":"string"},"status":{"description":"副本状态。","enum":["Active","Inactive"],"example":"Active","type":"string"}}}},"description":null,"group_id":"6d1f519281c6497eba6cbfcc3b6d06e5","host":"dcs.cn-north-4.myhuaweicloud.com","id":"f274eb44a01d4c60bf9020fc3926458d","info_version":"v2","method":"get","name":"ShowReplicationStates","parameters":{},"paths":{"/v2/{project_id}/instance/{instance_id}/groups/{group_id}/group-nodes-state":{"get":{"description":"获取副本状态","operationId":"ShowReplicationStates","parameters":[{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string","x-example":"666486c2d9b948c1bbea57e714d744fa"},{"description":"实例ID。","in":"path","name":"instance_id","required":true,"type":"string","x-example":"a4d31cb6-3d72-4fdc-8ec9-6e3a41e47f71"},{"description":"分片ID。","in":"path","name":"group_id","required":true,"type":"string","x-example":"9fc6a46b-dd4f-463f-9bf3-482adf15c165"}],"responses":{"200":{"description":"查询分片和副本信息成功","examples":{"application/json":[{"az_code":"region01","dimensions":[{"name":"dcs_instance_id","value":"caf2d19f-7783-44b0-be46-8c9da3ef1e94"}],"is_replication":false,"node_id":"8abfa7aa73291f15017329e1cda0002d","replication_id":"dfbd3f84-08bc-42f0-b538-01d03e6dc178","replication_ip":"192.168.76.25","replication_role":"master","status":"Active"}]},"schema":{"items":{"$ref":"#/definitions/InstanceReplicationListInfo"},"type":"array"}},"400":{"description":"非法请求","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"内部服务错误","schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"获取副本状态","tags":["分片与副本"],"x-api-type":"open-api","x-constraint":"","x-hybridcloud":true,"x-is-registered":"Y","x-name":"获取副本状态","x-open-region-cloud":"hws,hws_hk","x-request-examples-url-1":"GET https://{dcs_endpoint}/v2/{project_id}/instance/{instance_id}/groups/{group_id}/group-nodes-state","x-scope":"","x-support-sdk":"Y"}}},"product_short":"DCS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"获取副本状态","tags":"分片与副本","uri":null,"version":"2.0"}