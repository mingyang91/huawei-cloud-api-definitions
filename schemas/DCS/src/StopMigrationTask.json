{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"BackupFilesBody":{"description":"备份文件列表的结构体","properties":{"backup_id":{"description":"备份记录ID,数据来源为备份记录时必须填写","type":"string"},"bucket_name":{"description":"OBS桶名。","type":"string"},"file_source":{"description":"数据来源,当前仅支持OBS桶方式,取值为:self_build_obs。","enum":["self_build_obs","backup_record"],"type":"string"},"files":{"description":"导入的备份文件文件列表。","items":{"$ref":"#/definitions/Files","type":"object"},"type":"array"}},"required":["bucket_name","files"]},"Files":{"description":"导入的备份文件文件列表。","properties":{"file_name":{"description":"备份文件名。","type":"string"},"size":{"description":"文件大小(单位:Byte)。","type":"string"},"update_at":{"description":"文件最后修改时间(格式YYYY-MM-DD HH:MM:SS)。","type":"string"}},"required":["file_name"]},"SourceInstanceBody":{"description":"源实例信息。","properties":{"addrs":{"description":"Redis实例名称(source_instance信息中填写)。","example":"172.16.0.116:6379","type":"string"},"db":{"description":"Redis数据库。","type":"string"},"id":{"description":"Redis实例ID。","type":"string"},"ip":{"description":"Redis IP地址。","type":"string"},"name":{"description":"Redis名称。","type":"string"},"password":{"description":"Redis密码,如果设置了密码,则必须填写。","example":"xxxxxx","type":"string"},"port":{"description":"Redis端口。","type":"string"},"proxy_multi_db":{"description":"proxy实例是否开启了多DB。","type":"boolean"},"task_status":{"description":"任务状态。","type":"string"}},"required":["addrs"]},"StopMigrationTaskResp":{"description":"停止数据迁移任务响应体","properties":{"backup_files":{"$ref":"#/definitions/BackupFilesBody","description":"备份文件导入场景的备份文件列表。","type":"object"},"bandwidth_limit_mb":{"description":"带宽限制速度。","type":"string"},"created_at":{"description":"迁移任务创建时间。","type":"string"},"description":{"description":"迁移任务描述。","type":"string"},"ecs_tenant_private_ip":{"description":"迁移机租户侧私有IP,与目的/源redis私有IP处于同VPC,可将此IP加入白名单","example":"192.168.1.60","type":"string"},"migration_method":{"description":"迁移方式,包括全量迁移和增量迁移两种类型。","enum":["full_amount_migration","incremental_migration"],"type":"string"},"migration_type":{"description":"迁移任务类型,包括备份文件导入和在线迁移两种类型。","enum":["backupfile_import","online_migration"],"type":"string"},"network_type":{"description":"网络类型,包括vpc和vpn两种类型。","enum":["vpc","vpn"],"type":"string"},"released_at":{"description":"迁移机释放时间。","type":"string"},"resume_mode":{"description":"操作模式,分为auto和manual。","type":"string"},"source_instance":{"$ref":"#/definitions/SourceInstanceBody","description":"源Redis信息。在线迁移场景需要填写。","type":"object"},"status":{"description":"迁移任务状态,这个字段的值包括:SUCCESS, FAILED, MIGRATING,TERMINATED。","enum":["SUCCESS","FAILED","MIGRATING","TERMINATED"],"type":"string"},"supported_features":{"description":"支持的特性。","items":{"type":"string"},"type":"array"},"target_instance":{"$ref":"#/definitions/TargetInstanceBody","description":"目标Redis信息。","type":"object"},"task_id":{"description":"迁移任务ID。","type":"string"},"task_name":{"description":"迁移任务名称。","type":"string"},"task_status":{"description":"任务状态。","type":"string"},"tenant_security_group_id":{"description":"租户安全组ID。","type":"string"},"tenant_subnet_id":{"description":"租户子网ID。","type":"string"},"tenant_vpc_id":{"description":"租户VPC ID。","type":"string"},"updated_at":{"description":"迁移任务完成时间。","type":"string"},"version":{"description":"版本。","type":"string"}}},"TargetInstanceBody":{"description":"目标实例信息。","properties":{"addrs":{"description":"Redis实例地址。","type":"string"},"db":{"description":"Redis数据库。","type":"string"},"id":{"description":"Redis实例ID(target_instance信息中必须填写)。","example":"4cd5dbb8-aacd-4603-b817-3e97d48c7a20","type":"string"},"ip":{"description":"Redis IP地址。","type":"string"},"name":{"description":"Redis实例名称(target_instance信息中填写)。","example":"dcs-cdrc","type":"string"},"password":{"description":"Redis密码,如果设置了密码,则必须填写。","example":"xxxxxx","type":"string"},"port":{"description":"Redis端口。","type":"string"},"proxy_multi_db":{"description":"proxy实例是否开启了多DB。","type":"boolean"}},"required":["id"]}},"description":null,"group_id":"6d1f519281c6497eba6cbfcc3b6d06e5","host":"dcs.cn-north-4.myhuaweicloud.com","id":"3fcf0292ac1143a181611b1759cb57f8","info_version":"v2","method":"post","name":"StopMigrationTask","parameters":{},"paths":{"/v2/{project_id}/migration-task/{task_id}/stop":{"post":{"description":"停止数据迁移任务。","operationId":"StopMigrationTask","parameters":[{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string"},{"description":"任务ID","in":"path","name":"task_id","required":true,"type":"string"}],"responses":{"200":{"description":"停止数据迁移任务成功。","examples":{"application/json":{"created_at":"2019/10/22 14:44:30","migration_type":"incremental_migration","network_type":"vpc","source_instance":{"addrs":"192.168.1.2:6379","db":"0","id":"86157b69-8a62-47f9-8c55-fa6ddc8927e1","ip":"192.168.1.2","name":"dcs-test","password":"DCStest123","port":"6379","proxy_multi_db":false,"task_status":"RUNNING"},"status":"TERMINATING","target_instance":{"addrs":"192.168.1.2:6379","db":"0","id":"86157b69-8a62-47f9-8c55-fa6ddc8927ee","ip":"192.168.1.2","name":"test-instance","password":"DCStest123","port":"6379","proxy_multi_db":false,"task_status":"RUNNING"},"task_id":"a276c1ffa0a54c2597fc824b917db317","task_name":"migration1","updated_at":"2019/10/22 18:00:00"}},"schema":{"$ref":"#/definitions/StopMigrationTaskResp"}},"400":{"description":"非法请求。"},"401":{"description":"认证信息非法。"},"403":{"description":"请求被拒绝访问。"},"404":{"description":"所请求的资源不存在。"},"500":{"description":"内部服务错误。"}},"summary":"停止数据迁移任务","tags":["数据迁移"],"x-apiErrorCodes":[{"errorCode":"DCS.4133","errorDescription":"找不到该实例的job","errorDescriptionEn":"","errorMessage":"Instance job is not found.","httpStatus":400,"solution":"请检查task_id是否合法","solutionEn":""},{"errorCode":"DCS.4026","errorDescription":"实例的当前状态不支持此操作。","errorDescriptionEn":"","errorMessage":"This operation is not allowed when the DCS instance is in the current state.","httpStatus":400,"solution":"请检查迁移任务状态","solutionEn":""},{"errorCode":"DCS.5000","errorDescription":"内部服务错误。","errorDescriptionEn":"","errorMessage":"Internal service error.","httpStatus":500,"solution":"请联系技术支持","solutionEn":""}],"x-constraint":"","x-is-registered":"Y","x-name":"停止数据迁移任务","x-produc-type":"dcs","x-request-examples-url-1":"POST https://dcs.cn-north-7.myhuaweicloud.com/v2/666486c2d9b948c1bbea57e714d744fa/migration-task/2fb6b7e2-5eb8-4380-9d60-ce8d12b19aca/stop","x-scope":"","x-support-sdk":"Y"}}},"product_short":"DCS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"停止数据迁移任务","tags":"数据迁移","uri":null,"version":"2.0"}