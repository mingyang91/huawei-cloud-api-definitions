{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CreateOfflineKeyAnalysisRequestBody":{"description":"创建离线全量key分析请求体","properties":{"backup_id":{"description":"**参数解释**:\n实例备份ID,可通过DCS控制台进入实例的备份与恢复界面查看。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","example":"b74ff3b0-6fc7-408d-a122-813b90b180d7","type":"string"},"node_id":{"description":"**参数解释**:\n实例节点ID,可通过DCS控制台进入实例的节点管理界面查看。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","example":"858ee14c-2271-4489-8b82-7bda7459ae3e","type":"string"}},"required":["node_id"]},"CreateOfflineKeyAnalysisResponseBody":{"description":"创建离线全量key分析返回体","properties":{"task_id":{"description":"**参数解释**:\n离线全量key分析任务ID。\n**取值范围**:\n不涉及。","example":"858ee14c-2271-4489-8b82-7bda7459ae3e","type":"string"}}},"ErrorResponse":{"description":"错误响应体","properties":{"error_code":{"description":"错误码","example":"DCS.4062","maxLength":9,"type":"string"},"error_ext_msg":{"description":"扩展错误信息(暂未使用,赋值为null)","example":null,"maxLength":1024,"type":"string"},"error_msg":{"description":"错误信息","example":"Invalid capacity parameter in the request.","maxLength":1024,"type":"string"}}}},"description":null,"group_id":"6d1f519281c6497eba6cbfcc3b6d06e5","host":"dcs.cn-north-4.myhuaweicloud.com","id":"e9268b29a65f4c66809c6f7008980623","info_version":"v2","method":"post","name":"CreateOfflineKeyAnalysis","parameters":{},"paths":{"/v2/{project_id}/instances/{instance_id}/offline/key-analysis":{"post":{"description":"创建离线全量key分析任务。离线全量key分析用于分析实例指定节点备份文件中的TOP100大key,每种数据类型前缀数量TOP50的key和每种数据类型key的内存占用和数量的分布情况。仅Redis 4.0、5.0、6.0版本及Redis企业版实例支持。","operationId":"CreateOfflineKeyAnalysis","parameters":[{"description":"**参数解释**:\n项目ID。获取方法请参见[获取项目ID](dcs-api-0312045.xml)。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","in":"path","name":"project_id","required":true,"type":"string","x-example":"666486c2d9b948c1bbea57e714d744fa"},{"description":"**参数解释**:\n实例ID。可通过DCS控制台进入实例详情界面查看。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","in":"path","name":"instance_id","required":true,"type":"string","x-example":"a4d31cb6-3d72-4fdc-8ec9-6e3a41e47f71"},{"description":"创建离线全量key分析任务请求体","in":"body","name":"CreateOfflineKeyAnalysisRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateOfflineKeyAnalysisRequestBody"}}],"responses":{"200":{"description":"创建离线全量key分析任务成功。","examples":{"application/json":{"task_id":"aa735b6f-3d70-44e3-9771-66c6fae7459a"}},"schema":{"$ref":"#/definitions/CreateOfflineKeyAnalysisResponseBody"}},"400":{"description":"非法请求。","examples":{"application/json":{"error_code":"DCS.4230","error_msg":"Does not support offline key analysis."}},"schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"认证信息非法。","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"请求被拒绝访问。","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"所请求的资源不存在。","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"内部服务错误。","schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"创建离线全量key分析任务","tags":["离线全量key分析"],"x-constraint":"","x-is-registered":"Y","x-name":"创建离线全量key分析任务","x-open-region-cloud":"hws,hws_hk","x-order":0,"x-produc-type":"dcs","x-request-examples-1":{"node_id":"ff8080828fdd5aef018fe2218a886105"},"x-request-examples-2":{"backup_id":"c24e2ef4-23bd-47ef-8b1f-8e3f0492c906","node_id":"ff8080828fdd5aef018fe2218a886105"},"x-request-examples-url-1":"POST https://{dcs_endpoint}/v2/{project_id}/instances/{instance_id}/offline/key-analysis","x-scope":"","x-support-sdk":"Y"}}},"product_short":"DCS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建离线全量key分析任务","tags":"离线全量key分析","uri":null,"version":"2.0"}