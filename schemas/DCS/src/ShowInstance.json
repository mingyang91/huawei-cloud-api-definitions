{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"BackupPlan":{"properties":{"backup_at":{"description":"每周的周几开始备份,取值1-7,1代表周一,7代表周日。","items":{"example":"1 2 3 4 5 6 7","format":"int32","type":"integer"},"type":"array"},"begin_at":{"description":"备份执行时间,“00:00-01:00”代表0点开始执行备份。","example":"16:00-17:00","type":"string"},"period_type":{"description":"备份周期类型,目前支持“weekly”。","example":"weekly","type":"string"},"timezone_offset":{"description":"备份的时区。取值为-1200 ~+1200之间的时区。若为空则默认使用DCS-Server节点的当前时区。","example":"+0800","type":"string"}},"required":["begin_at","period_type","backup_at"],"type":"object"},"BackupPolicy":{"properties":{"backup_type":{"description":"备份类型。\n- auto:自动备份\n- manual:手动备份","example":"auto","type":"string"},"periodical_backup_plan":{"$ref":"#/definitions/BackupPlan","description":"备份计划,当backup_type设置为auto时,该参数为必填。","type":"object"},"save_days":{"description":"当backup_type设置为auto时,该参数为必填。\n保留天数,单位:天,取值范围:1-7。","example":1,"format":"int32","type":"integer"}},"required":["backup_type"],"type":"object"},"BandwidthInfo":{"properties":{"assured_bandwidth":{"description":"**参数解释**:\n实例基准带宽。\n**取值范围**:\n不涉及。","example":0,"type":"integer"},"bandwidth":{"description":"当前带宽,单位为GB","example":0,"format":"int32","type":"integer"},"begin_time":{"description":"临时扩容开始时间","example":0,"format":"int64","type":"integer"},"current_time":{"description":"当前时间","example":0,"format":"int64","type":"integer"},"end_time":{"description":"临时扩容结束时间","example":0,"format":"int64","type":"integer"},"expand_count":{"description":"扩容数量","example":0,"format":"int32","type":"integer"},"expand_effect_time":{"description":"临时扩容时间间隔","example":0,"format":"int64","type":"integer"},"expand_interval_time":{"description":"下一次可以扩容间隔时间","example":0,"format":"int64","type":"integer"},"max_bandwidth_for_node":{"description":"**参数解释**:\n节点最大带宽。\n**取值范围**:\n不涉及。","example":0,"format":"int32","type":"integer"},"max_expand_count":{"description":"最大扩容数量","example":0,"format":"int32","type":"integer"},"next_expand_time":{"description":"下一个扩容时间","example":0,"format":"int64","type":"integer"},"task_running":{"description":"任务是否运行","example":false,"type":"boolean"}},"type":"object"},"DomainNameEntity":{"properties":{"domain_name":{"description":"实例历史域名。","example":"redis-5fd65919-8151-4910-8fd8-1c743248f0e2.dcs.com","type":"string"},"is_readonly":{"description":"是否只读域名\n- true:是\n- false:否","example":true,"type":"boolean"}},"type":"object"},"DomainNameInfo":{"properties":{"history_domain_names":{"description":"历史域名信息。","items":{"$ref":"#/definitions/DomainNameEntity"},"type":"array"},"is_latest_rules":{"description":"当前域名是否已为最新。\n- true:是\n- false:否","example":true,"type":"boolean"},"support_public_resolve":{"description":"是否开启公网域名解析。\n- true:开启\n- false:未开启","example":true,"type":"boolean"},"zone_name":{"description":"域名的区域后缀。","example":"dcs.com","type":"string"}},"type":"object"},"Features":{"properties":{"support_acl":{"description":"是否支持acl\n- true:是\n- false:否","example":true,"type":"boolean"},"support_audit_log":{"description":"是否支持审计日志\n- true: 是\n- false: 否","example":false,"type":"boolean"},"support_ssl":{"description":"是否支持SSL\n- true:是\n- false:否","example":true,"type":"boolean"},"support_transparent_client_ip":{"description":"实例是否支持客户端ip透传\n- true:是\n- false:否","example":true,"type":"boolean"}},"type":"object"},"InstanceBackupPolicy":{"properties":{"backup_policy_id":{"description":"备份策略ID","example":"1d91dd7e-33de-4216-bb14-19ad6db0f454","type":"string"},"created_at":{"description":"创建时间。格式为:2022-04-11T09:45:24.790Z","example":"2022-04-11T09:45:24.790Z","type":"string"},"policy":{"$ref":"#/definitions/BackupPolicy","description":"备份策略","type":"object"},"tenant_id":{"description":"租户ID","example":"0624e839a54847039e9b2b46e8aa665a","type":"string"},"updated_at":{"description":"更新时间。格式为:2022-04-12T02:22:03.269Z","example":"2022-04-12T02:22:03.269Z","type":"string"}},"type":"object"},"QueryInstanceInfoResp":{"description":"实例详情信息。","properties":{"access_user":{"description":"通过密码认证访问缓存实例的认证用户名。","type":"string"},"available_zones":{"description":"实例所在的可用区id。返回\"可用区ID\"","example":["d539378ec1314c85b76fefa3f7071458"],"items":{"type":"string"},"type":"array"},"az_codes":{"description":"实例所在的可用区。返回“可用区Code”","example":["cn-north-4a"],"items":{"type":"string"},"type":"array"},"backend_addrs":{"description":"集群实例的后端服务地址。","example":"192.168.22.248:6379","type":"string"},"bandwidth_info":{"$ref":"#/definitions/BandwidthInfo","description":"带宽信息"},"cache_mode":{"description":"缓存类型:单机类型,主备类型,主备读写分离,Proxy集群类型,原生集群类型","enum":["single","ha","ha_rw_split","proxy","cluster"],"example":"ha","type":"string"},"capacity":{"description":"缓存实例的容量(G Byte)。","example":4,"format":"int32","type":"integer"},"capacity_minor":{"description":"单机小规格的缓存容量。","example":0.125,"type":"string"},"charging_mode":{"description":"付费模式,0表示按需计费,1表示包年/包月计费。","example":0,"format":"int32","type":"integer"},"cloud_resource_type_code":{"description":"云资源类型编码。","example":"hws.resource.type.dcs3","type":"string"},"cloud_service_type_code":{"description":"云服务类型编码。","example":"hws.service.type.dcs","type":"string"},"cpu_type":{"description":"实例CPU类型,通常为x86_64或aarch64","example":"x86_64","type":"string"},"created_at":{"description":"完成创建时间。格式为:2017-03-31T12:24:46.297Z","example":"2017-03-31T12:24:46.297Z","type":"string"},"db_number":{"description":"数据库数量","example":2,"format":"int32","type":"integer"},"description":{"description":"实例描述。","example":"","type":"string"},"domain_name":{"description":"实例的域名。","example":"redis-e6ba862a-a311-4df1-b0a6-16472ac28dfe.dcs.huaweicloud.com:6379","type":"string"},"domain_name_info":{"$ref":"#/definitions/DomainNameInfo","description":"实例域名重建、公网解析操作相关信息。"},"enable_publicip":{"description":"Redis缓存实例是否开启公网访问功能。\n- true:开启\n- false:不开启","example":false,"type":"boolean"},"enable_ssl":{"description":"Redis缓存实例开启公网访问功能时,是否选择支持ssl。\n- true:开启\n- false:不开启","example":false,"type":"boolean"},"engine":{"description":"缓存实例的引擎类型。","example":"Redis","type":"string"},"engine_version":{"description":"缓存版本。","example":"3.0","type":"string"},"enterprise_project_id":{"description":"企业项目ID。","example":"dcs-APITest","type":"string"},"enterprise_project_name":{"description":"企业项目名称。","example":"dcs-APITest","type":"string"},"features":{"$ref":"#/definitions/Features","description":"实例支持特性。"},"inquery_spec_code":{"description":"运营系统中的规格编码","example":"redis.ha.xu1.tiny.r2.128","type":"string"},"instance_backup_policy":{"$ref":"#/definitions/InstanceBackupPolicy","description":"备份策略,实例类型为主备和集群时支持。","type":"object"},"instance_id":{"description":"实例ID。","example":"979e9a6b-e2f5-4b5d-8e98-fea495ea27a1","type":"string"},"ip":{"description":"连接缓存实例的IP地址。如果是集群实例,返回多个IP地址,使用逗号分隔。如:192.168.0.1,192.168.0.2。","example":"192.168.1.48","type":"string"},"launched_at":{"description":"启动时间,形如2022-07-06T09:32:16.502Z","example":"2022-07-06T09:32:16.502Z","type":"string"},"maintain_begin":{"description":"维护时间窗开始时间,为UTC时间,格式为HH:mm:ss","example":"02:00:00","type":"string"},"maintain_end":{"description":"维护时间窗结束时间,为UTC时间,格式为HH:mm:ss","example":"06:00:00","type":"string"},"max_memory":{"description":"总内存,单位:MB。","example":65536,"format":"int32","type":"integer"},"name":{"description":"实例名称。","example":"dcs-125d","type":"string"},"no_password_access":{"description":"是否允许免密码访问缓存实例。\n- true:该实例无需密码即可访问。\n- false:该实例必须通过密码认证才能访问。","example":true,"type":"string"},"order_id":{"description":"订单ID。","type":"string"},"port":{"description":"缓存的端口。","example":6379,"format":"int32","type":"integer"},"product_type":{"description":"版本类型:社区版、企业版","enum":["generic","enterprise"],"example":"generic","type":"string"},"publicip_address":{"description":"Redis缓存实例绑定的弹性IP地址。\n如果未开启公网访问功能,该字段值为null。","type":"string"},"publicip_id":{"description":"Redis缓存实例绑定的弹性IP地址的id。\n如果未开启公网访问功能,该字段值为null。","type":"string"},"readonly_domain_name":{"description":"实例的只读域名,只有主备实例有该字段。","example":"redis-e6ba862a-a311-4df1-b0a6-16472ac28dfe-readonly.dcs.huaweicloud.com:6379","type":"string"},"replica_count":{"description":"副本数","example":3,"format":"int32","type":"integer"},"security_group_id":{"description":"安全组ID。","example":"ecefdad9-c8be-42aa-9d5d-9ab46a221240","type":"string"},"security_group_name":{"description":"租户安全组名称。","example":"sg--test-hanwang","type":"string"},"service_task_id":{"description":"升级任务的ID。\n- 当service_upgrade为true时,为升级任务的ID。\n- 当service_upgrade为false时,该参数为空。","example":"","type":"string"},"service_upgrade":{"description":"实例是否存在升级任务。\n- true:存在\n- false:不存在","example":false,"type":"boolean"},"sharding_count":{"description":"集群实例分片个数","example":0,"format":"int32","type":"integer"},"spec_code":{"description":"产品规格编码","example":"dcs.single_node","type":"string"},"status":{"description":"缓存实例的状态。详细状态说明见[缓存实例状态说明](https://support.huaweicloud.com/api-dcs/dcs-api-0312047.html)","example":"RUNNING","type":"string"},"storage_type":{"description":"存储类型:内存存储","enum":["DRAM"],"example":"DRAM","type":"string"},"sub_status":{"description":"实例子状态。","example":"UPDATE_SSL","type":"string"},"subnet_cidr":{"description":"子网网段。","example":"192.168.1.0/24","type":"string"},"subnet_id":{"description":"子网ID。","example":"9b32218f-6389-485a-912e-076fe9df6fa7","type":"string"},"subnet_name":{"description":"子网名称。","example":"subnet-7e46","type":"string"},"support_slow_log_flag":{"description":"是否支持慢日志","example":null,"type":"string"},"tags":{"description":"实例标签键值。","example":[{"key":1,"value":"DCS"}],"items":{"$ref":"#/definitions/ResourceTag"},"type":"array"},"transparent_client_ip_enable":{"description":"是否开启客户端ip透传。","example":true,"type":"boolean"},"update_at":{"description":"更新时间,形如2022-07-06T09:32:16.502Z","example":"2022-07-06T09:32:16.502Z","type":"string"},"used_memory":{"description":"已使用的内存,单位:MB。","example":33,"format":"int32","type":"integer"},"user_id":{"description":"用户id。","example":"9bfac09d9bcd4eb7bb1465a7bcff815b","type":"string"},"user_name":{"description":"用户名。","example":"r00209145","type":"string"},"vpc_id":{"description":"VPC ID","example":"d1e8008d-8182-4c86-a142-1ae9349bdc64","type":"string"},"vpc_name":{"description":"VPC的名称。","example":"vpc-807d","type":"string"}}},"ResourceTag":{"properties":{"key":{"description":"标签键\n- 不能为空。\n- 对于同一资源键值唯一。\n- 长度不超过36个字符。\n- 标签的键必须唯一且输入不能为空。","example":"key1","type":"string"},"value":{"description":"标签值\n- action为create时必选。action为delete时非必选。\n- 长度不超过43个字符。","example":"value1","type":"string"}},"required":["key"],"type":"object"}},"description":null,"group_id":"6d1f519281c6497eba6cbfcc3b6d06e5","host":"dcs.cn-north-4.myhuaweicloud.com","id":"577212813fe04b0ea24aab92ca648590","info_version":"v2","method":"get","name":"ShowInstance","parameters":{},"paths":{"/v2/{project_id}/instances/{instance_id}":{"get":{"description":"通过实例ID查询实例的详细信息。","operationId":"ShowInstance","parameters":[{"description":"实例ID。","in":"path","name":"instance_id","required":true,"type":"string","x-example":"a4d31cb6-3d72-4fdc-8ec9-6e3a41e47f71"},{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string","x-example":"666486c2d9b948c1bbea57e714d744fa"}],"responses":{"200":{"description":"查询指定实例成功。","examples":{"application/json":{"access_user":null,"available_zones":["d539378ec1314c85b76fefa3f7071458"],"az_codes":["cn-north-4a"],"capacity":64,"capacity_minor":null,"charging_mode":0,"cloud_resource_type_code":"hws.resource.type.dcs3","cloud_service_type_code":"hws.service.type.dcs","cpu_type":"x86_64","created_at":"2018-12-11T07:24:18.149Z","description":null,"domain_name":"redis-979e9a6-dcs-125d.dcs.huaweicloud.com","domain_name_info":{"history_domain_names":[{"domain_name":"redis-5fd65919-8151-4910-8fd8-1c743248f0e2.dcs.com","is_readonly":true}],"is_latest_rules":true,"support_public_resolve":true,"zone_name":"dcs.com"},"enable_publicip":false,"enable_ssl":false,"engine":"Redis","engine_version":"3.0.7","enterprise_project_id":"0","enterprise_project_name":"default","features":{"support_acl":true,"support_audit_log":false,"support_ssl":true,"support_transparent_client_ip":true},"inquery_spec_code":"redis.ha.xu1.tiny.r2.128","instance_backup_policy":null,"instance_id":"979e9a6b-e2f5-4b5d-8e98-fea495ea27a1","ip":"192.168.1.48","maintain_begin":"02:00:00","maintain_end":"06:00:00","max_memory":65536,"name":"dcs-125d","no_password_access":"true","order_id":null,"port":6379,"publicip_address":null,"publicip_id":null,"security_group_id":"ecefdad9-c8be-42aa-9d5d-9ab46a221240","security_group_name":"sg--test-hanwang","service_task_id":null,"service_upgrade":false,"spec_code":"dcs.cluster","status":"RUNNING","sub_status":"UPDATE_SSL","subnet_cidr":"192.168.1.0/24","subnet_id":"9b32218f-6389-485a-912e-076fe9df6fa7","subnet_name":"subnet-7e46","tags":[{"key":1,"value":"DCS"}],"transparent_client_ip_enable":true,"used_memory":33,"user_id":"9bfac09d9bcd4eb7bb1465a7bcff815b","user_name":"r00209145","vpc_id":"d1e8008d-8182-4c86-a142-1ae9349bdc64","vpc_name":"vpc-807d"}},"schema":{"$ref":"#/definitions/QueryInstanceInfoResp"}},"400":{"description":"非法请求。"},"500":{"description":"内部服务错误。"}},"summary":"查询指定实例","tags":["生命周期管理"],"x-apiexplorer-hide":false,"x-constraint":"","x-hybridcloud":true,"x-is-registered":"Y","x-name":"查询指定实例","x-produc-type":"dcs","x-request-examples-1":"GET https://{dcs_endpoint}/v2/{project_id}/instances/{instance_id}","x-scope":"","x-support-sdk":"Y"}}},"product_short":"DCS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询指定实例","tags":"生命周期管理","uri":null,"version":"2.0"}