{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ClientInfo":{"properties":{"addr":{"description":"客户端的地址和端口","type":"string"},"age":{"description":"已连接时长(单位:秒)","format":"int32","type":"integer"},"cmd":{"description":"最近一次执行的命令","type":"string"},"db":{"description":"该客户端正在使用的数据库 ID","type":"string"},"events":{"description":"文件描述符事件","enum":["r","w"],"type":"string"},"fd":{"description":"套接字所使用的文件描述符。","type":"string"},"flags":{"description":"客户端标志","type":"string"},"id":{"description":"客户端ID","type":"string"},"idle":{"description":"空闲时长(单位:秒)","format":"int32","type":"integer"},"multi":{"description":"在事务中被执行的命令数量","format":"int32","type":"integer"},"name":{"description":"客户端的名称","type":"string"},"network":{"description":"客户端所使用的网络类型。","type":"string"},"obl":{"description":"输出缓冲区的长度(单位为字节, 0 表示没有分配输出缓冲区)","format":"int32","type":"integer"},"oll":{"description":"输出列表包含的对象数量(当输出缓冲区没有剩余空间时,命令回复会以字符串对象的形式被入队到这个队列里)","format":"int32","type":"integer"},"omem":{"description":"输出缓冲区和输出列表占用的内存总量","format":"int32","type":"integer"},"peer":{"description":"单机,主备和cluster实例地址和端口。","type":"string"},"psub":{"description":"已订阅模式的数量","format":"int32","type":"integer"},"qbuf":{"description":"查询缓冲区的长度(单位为字节, 0 表示没有分配查询缓冲区)","format":"int32","type":"integer"},"qbuf_free":{"description":"查询缓冲区剩余空间的长度(单位为字节, 0 表示没有剩余空间)","format":"int32","type":"integer"},"sub":{"description":"已订阅频道的数量","format":"int32","type":"integer"},"user":{"description":"客户端用户。","type":"string"}}},"ClientListResponse":{"properties":{"clients":{"description":"会话列表","items":{"$ref":"#/definitions/ClientInfo"},"type":"array"},"count":{"description":"会话总数","example":1,"format":"int32","type":"integer"},"time":{"description":"数据更新时间","example":"2023-10-10 00:00:00","type":"string"}}},"ErrorResponse":{"description":"错误响应体","properties":{"error_code":{"description":"错误码","example":"DCS.4062","maxLength":9,"type":"string"},"error_ext_msg":{"description":"扩展错误信息(暂未使用,赋值为null)","example":null,"maxLength":1024,"type":"string"},"error_msg":{"description":"错误信息","example":"Invalid capacity parameter in the request.","maxLength":1024,"type":"string"}}}},"description":null,"group_id":"6d1f519281c6497eba6cbfcc3b6d06e5","host":"dcs.cn-north-4.myhuaweicloud.com","id":"9a254eb6130c4870803e7ceda5e6b01b","info_version":"v2","method":"get","name":"ListClients","parameters":{},"paths":{"/v2/{project_id}/instances/{instance_id}/clients":{"get":{"description":"获取会话列表","operationId":"ListClients","parameters":[{"description":"项目ID。获取方法请参见[获取项目ID](dcs-api-0312045.xml)。","in":"path","name":"project_id","required":true,"type":"string"},{"description":"实例ID。","in":"path","name":"instance_id","required":true,"type":"string"},{"description":"节点ID。","in":"query","name":"node_id","required":true,"type":"string"},{"description":"偏移量,表示从此偏移量开始查询, 偏移量大于等于0。","format":"int32","in":"query","name":"offset","required":false,"type":"integer"},{"default":10,"description":"每页显示条数,最小值为1,最大值为1000,若不设置该参数,则为10.","format":"int32","in":"query","maximum":1000,"minimum":1,"name":"limit","required":false,"type":"integer"},{"description":"按客户端连接地址过滤。","in":"query","name":"addr","required":false,"type":"string"},{"description":"排序字段。","in":"query","name":"sort","required":false,"type":"string"},{"default":"desc","description":"排序方式","enum":["asc","desc"],"in":"query","name":"order","required":false,"type":"string"}],"responses":{"200":{"description":"","examples":{"application/json":{"clients":[{"addr":"198.19.131.14:1637","age":376,"cmd":"info","db":"0","events":"r","fd":"16","flags":"N","id":"11677","idle":376,"multi":1,"name":"dcs","network":"vpc","obl":0,"oll":0,"omem":0,"peer":"198.198.0.121:4058","psub":0,"qbuf":0,"qbuf_free":4,"sub":0,"user":"dcs"}],"count":1,"time":"2023-06-15T03:10:01.332Z"}},"schema":{"$ref":"#/definitions/ClientListResponse"}},"400":{"description":"非法请求。","examples":{"application/json":{"error_code":"DCS.4957","error_msg":"This operation is not allowed when the task is in the current state."}},"schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"认证信息非法。","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"请求被拒绝访问。\n\n请求被拒绝访问。","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"所请求的资源不存在。","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"内部服务错误。","schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"获取会话列表","tags":["会话管理"],"x-api-type":"open-api","x-is-registered":"Y","x-open-region-cloud":"hws,hws_hk","x-request-examples-url-1":"GET https://{dcs_endpoint}/v2/{project_id}/instances/{instance_id}/clients","x-support-sdk":"Y"}}},"product_short":"DCS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"获取会话列表","tags":"会话管理","uri":null,"version":"2.0"}