{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"Features":{"properties":{"support_acl":{"description":"是否支持acl\n- true:是\n- false:否","example":true,"type":"boolean"},"support_audit_log":{"description":"是否支持审计日志\n- true: 是\n- false: 否","example":false,"type":"boolean"},"support_ssl":{"description":"是否支持SSL\n- true:是\n- false:否","example":true,"type":"boolean"},"support_transparent_client_ip":{"description":"实例是否支持客户端ip透传\n- true:是\n- false:否","example":true,"type":"boolean"}},"type":"object"},"InstanceListInfo":{"properties":{"access_user":{"description":"通过密码认证访问缓存实例的认证用户名。","type":"string"},"az_codes":{"description":"有资源的可用区编码。","example":["cn-north-7c"],"items":{"type":"string"},"type":"array"},"capacity":{"description":"缓存容量(G Byte)。","example":4,"format":"int32","type":"integer"},"capacity_minor":{"description":"小规格缓存容量(G Byte)。","example":0.125,"type":"string"},"charging_mode":{"description":"计费模式,0表示按需计费,1表示包年/包月计费。","example":0,"format":"int32","type":"integer"},"cpu_type":{"description":"实例CPU类型,通常为x86_64或aarch64","example":"x86_64","type":"string"},"created_at":{"description":"创建时间。格式为:2017-03-31T12:24:46.297Z","example":"2017-03-31T12:24:46.297Z","type":"string"},"description":{"description":"实例描述备注","example":"实例备注描述","type":"string"},"domain_name":{"description":"实例的域名。","example":"redis-e6ba862a-a311-4df1-b0a6-16472ac28dfe.dcs.huaweicloud.com:6379","type":"string"},"enable_publicip":{"description":"Redis缓存实例是否开启公网访问功能。\n- true:开启\n- false:不开启","example":false,"type":"boolean"},"enable_ssl":{"description":"Redis缓存实例开启公网访问功能时,是否选择支持ssl。\n- true:开启\n- false:不开启","example":false,"type":"boolean"},"engine":{"description":"缓存引擎。","example":"Redis","type":"string"},"engine_version":{"description":"缓存版本。","example":"3.0","type":"string"},"enterprise_project_id":{"description":"企业项目ID。","example":"dcs-APITest","type":"string"},"features":{"$ref":"#/definitions/Features","description":"实例支持特性。"},"instance_id":{"description":"实例ID。","example":"a4d31cb6-3d72-4fdc-8ec9-6e3a41e47f71","type":"string"},"ip":{"description":"连接缓存实例的IP地址。如果是集群实例,返回多个IP地址,使用逗号分隔。如:192.168.0.1,192.168.0.2。","example":"192.168.7.146","type":"string"},"maintain_begin":{"description":"维护时间窗开始时间,为UTC时间,格式为HH:mm:ss。","example":"02:00:00","type":"string"},"maintain_end":{"description":"维护时间窗结束时间,为UTC时间,格式为HH:mm:ss。","example":"06:00:00","type":"string"},"max_memory":{"description":"总内存,单位:MB。","example":3277,"format":"int32","type":"integer"},"name":{"description":"实例名称。","example":"dcs-lxy","format":"int32","type":"string"},"no_password_access":{"description":"是否允许免密码访问缓存实例。\n- true:该实例无需密码即可访问。\n- false:该实例必须通过密码认证才能访问。","example":false,"type":"string"},"order_id":{"description":"订单ID,仅在创建包周期实例时返回。按需实例时此值为null","example":"CS2005271528ZYJH2","type":"string"},"port":{"description":"缓存的端口。","example":6379,"format":"int32","type":"integer"},"publicip_address":{"description":"Redis缓存实例绑定的弹性IP地址。\n如果未开启公网访问功能,该字段值为null。","type":"string"},"publicip_id":{"description":"Redis缓存实例绑定的弹性IP地址的id。\n如果未开启公网访问功能,该字段值为null。","type":"string"},"readonly_domain_name":{"description":"实例的只读域名,只有主备实例有该字段。","example":"redis-e6ba862a-a311-4df1-b0a6-16472ac28dfe-readonly.dcs.huaweicloud.com:6379","type":"string"},"security_group_id":{"description":"安全组ID。","example":"0cc8fdb7-872a-49da-a062-88ccc39463b5","type":"string"},"service_task_id":{"description":"升级任务的ID。\n- 当service_upgrade为true时,为升级任务的ID。\n- 当service_upgrade为false时,该参数为空。","example":"","type":"string"},"service_upgrade":{"description":"实例是否存在升级任务。\n- true:存在\n- false:不存在","example":false,"type":"boolean"},"spec_code":{"description":"产品规格编码。","example":"redis.single.au1.large.1","type":"string"},"status":{"description":"实例状态。详细状态说明见[缓存实例状态说明](https://support.huaweicloud.com/api-dcs/dcs-api-0312047.html)。","example":"CREATING","type":"string"},"sub_status":{"description":"实例子状态。","example":"UPDATE_SSL","type":"string"},"subnet_id":{"description":"子网ID。","type":"string"},"tags":{"description":"实例标签键值。","example":[{"key":1,"value":"DCS"}],"items":{"$ref":"#/definitions/ResourceTag"},"type":"array"},"updated_at":{"description":"更新时间。格式为:2017-03-31T19:24:46.297Z","example":"2017-03-31T19:24:46.297Z","type":"string"},"used_memory":{"description":"已使用的内存,单位:MB。","example":0,"format":"int32","type":"integer"},"user_id":{"description":"用户id。","example":"50a4156d334a4a82b8745dc730dc1e00","type":"string"},"user_name":{"description":"用户名。","example":"hwstaff_f00443635","type":"string"},"vpc_id":{"description":"VPC ID。","example":"c71d9731-9b0c-43e9-ab2a-716af9d9fd55","type":"string"},"vpc_name":{"description":"VPC的名称。","example":"VPC-7qvs1","type":"string"}}},"QueryInstanceListResp":{"properties":{"instance_num":{"description":"实例个数。","example":2,"format":"int32","type":"integer"},"instances":{"description":"实例的详情数组。","items":{"$ref":"#/definitions/InstanceListInfo"},"type":"array"}}},"ResourceTag":{"properties":{"key":{"description":"标签键\n- 不能为空。\n- 对于同一资源键值唯一。\n- 长度不超过36个字符。\n- 标签的键必须唯一且输入不能为空。","example":"key1","type":"string"},"value":{"description":"标签值\n- action为create时必选。action为delete时非必选。\n- 长度不超过43个字符。","example":"value1","type":"string"}},"required":["key"],"type":"object"}},"description":null,"group_id":"6d1f519281c6497eba6cbfcc3b6d06e5","host":"dcs.cn-north-4.myhuaweicloud.com","id":"c11b9fa4b5984ebda84df95887228d06","info_version":"v2","method":"get","name":"ListInstances","parameters":{},"paths":{"/v2/{project_id}/instances":{"get":{"description":"查询租户的缓存实例列表,支持按照条件查询。","operationId":"ListInstances","parameters":[{"description":"项目ID。","in":"path","name":"project_id","required":true,"type":"string","x-example":"666486c2d9b948c1bbea57e714d744fa"},{"description":"实例ID。","in":"query","name":"instance_id","required":false,"type":"string","x-example":"a4d31cb6-3d72-4fdc-8ec9-6e3a41e47f71"},{"description":"是否返回创建失败的实例数。\n当参数值为“true”时,返回创建失败的实例数。参数值为“false”或者其他值,不返回创建失败的实例数。","in":"query","name":"include_failure","required":false,"type":"string","x-example":true},{"description":"是否返回已删除的实例数。\n当参数值为“true”时,返回已删除的实例数。参数值为“false”或者其他值,不返回已删除的实例数。","in":"query","name":"include_delete","required":false,"type":"string","x-example":true},{"description":"实例名称。","in":"query","name":"name","required":false,"type":"string","x-example":"dcs-lxy"},{"description":"偏移量,表示从此偏移量开始查询, offset大于等于0","format":"int32","in":"query","name":"offset","required":false,"type":"integer","x-example":0},{"description":"每页显示条数,最小值为1,最大值为1000,若不设置该参数,则为10。","format":"int32","in":"query","name":"limit","required":false,"type":"integer","x-example":10},{"description":"实例状态。详细状态说明见[缓存实例状态说明](https://support.huaweicloud.com/api-dcs/dcs-api-0312047.html)","in":"query","name":"status","required":false,"type":"string","x-example":"CREATING"},{"description":"是否按照实例名称进行精确匹配查询。\n\n和name字段对应,name字段为模糊匹配的用例名,name_equal是精确匹配的用例名。","in":"query","name":"name_equal","required":false,"type":"string","x-example":"CREATING"},{"description":"根据实例标签键值对进行查询。{key}表示标签键,{value}表示标签值。\n\n如果同时使用多个标签键值对进行查询,中间使用逗号分隔开,表示查询同时包含指定标签键值对的实例。","in":"query","name":"tags","required":false,"type":"string","x-example":"dcs"},{"description":"连接缓存实例的IP地址。","in":"query","name":"ip","required":false,"type":"string","x-example":"192.168.7.146"}],"responses":{"200":{"description":"查询所有实例列表成功。","examples":{"application/json":{"instance_num":1,"instances":[{"access_user":null,"az_codes":[{"az_code":"cn-north-4a"}],"capacity":4,"capacity_minor":null,"charging_mode":0,"cpu_type":"x86_64","created_at":"2019-05-31T03:15:40.631Z","description":"实例描述备注","domain_name":null,"enable_publicip":false,"enable_ssl":false,"engine":"Redis","engine_version":"3.0","enterprise_project_id":0,"instance_id":"12073516-dab2-40a8-a285-4c5da07891ae","ip":"192.168.0.82","maintain_begin":"02:00:00","maintain_end":"06:00:00","max_memory":3277,"name":"dcs-single-test-1","no_password_access":"false","port":6379,"publicip_address":null,"publicip_id":{},"security_group_id":"0cc8fdb7-872a-49da-a062-88ccc39463b5","service_task_id":"","service_upgrade":false,"spec_code":"dcs.single_node","status":"RUNNING","subnet_id":"b9848bd2-5557-4855-8fac-36fc6e43d16a","tags":[{"key":1,"value":"DCS"}],"used_memory":1,"user_id":"d53977d1adfb49c5b025ba7d33a13fd7","user_name":"hwclouduser","vpc_id":"f963ebe1-0346-4ab6-ad35-4d56154fb4ab","vpc_name":"vpc-weihuazu"}]}},"schema":{"$ref":"#/definitions/QueryInstanceListResp"}},"400":{"description":"非法请求。","examples":{"application/json":{"error_code":"DCS.4800","error_msg":"Invalid offset in the request."}}},"401":{"description":"认证信息非法。"},"403":{"description":"请求被拒绝访问。"},"404":{"description":"所请求的资源不存在。"},"500":{"description":"内部服务错误。"}},"summary":"查询所有实例列表","tags":["生命周期管理"],"x-apiexplorer-hide":false,"x-constraint":"","x-hybridcloud":true,"x-is-registered":"Y","x-name":"查询所有实例列表","x-produc-type":"dcs","x-request-examples-url-1":"GET https://{dcs_endpoint}/v2/{project_id}/instances?offset=0&limit=10&name={name}&status={status}&id={id}&include_failure=true&include_delete=true&name_equal=false","x-scope":"","x-support-sdk":"Y"}}},"product_short":"DCS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询所有实例列表","tags":"生命周期管理","uri":null,"version":"2.0"}