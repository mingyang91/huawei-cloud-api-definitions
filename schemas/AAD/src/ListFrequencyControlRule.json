{"base_path":"/","components":null,"consumes":"","definitions":{"ActionInfo":{"properties":{"category":{"description":"动作类型:block:阻断,captcha:人机验证;log: 仅记录;dynamic_block:动态阻断","example":"category","type":"string"},"detail":{"$ref":"#/definitions/DetailInfo","description":"阻断页面信息"}},"type":"object"},"Condition":{"description":"cc规则防护规则限速条件","properties":{"category":{"description":"字段类型\nurl:路径\nip:IPv4\nipv6:IPv6\nparams:Params\ncookie:Cookie\nheader:Header\nresponse_code:Response Code","type":"string"},"contents":{"description":"条件列表逻辑匹配内容。\n当匹配逻辑为exist或not_exist时,contents必须为空,其他情况下contents必填且长度不超过2048\n当category为response_code时,contents状态码为200~599,正则为 ^(?:[2-5]\\d{2})$\n当匹配逻辑包含\"len\"时,contents必须为0~65535的整数;当匹配逻辑包含\"num\"时,contents必须为0~512的整数","items":{"type":"string"},"type":"array"},"index":{"description":"子字段\n当字段类型为ip或ipv6时,index必填且必须为:client-ip:客户端IP、x-forwarded-for:X-Forwarded-For、TCP连接IP: $remote_addr\n当字段类型(category)选择“params”、“cookie”、“header”时,请根据实际需求配置子字段且该参数必填。\n当匹配逻辑为num_greater、num_less、num_equal、num_not_equal时,子字段必须为空\n当子字段不为空时,最大长度不超过2048","type":"string"},"logic_operation":{"description":"条件列表匹配逻辑。\n如果字段类型category是url,匹配逻辑可以为:contain、 not_contain、 equal、 not_equal、 prefix、 not_prefix、 suffix、 not_suffix、 len_greater、 len_less、len_equal或者len_not_equal\n如果字段类型category是ip、ipv6或response_code,匹配逻辑可以为: equal、not_equal\n如果字段类型category是params、cookie或者header, 匹配逻辑可以为:contain、 not_contain、 equal、 not_equal、 prefix、 not_prefix、 suffix、 not_suffix、 len_greater、 len_less、len_equal、len_not_equal、num_greater、num_less、num_equal、num_not_equal、exist或者not_exist","type":"string"}},"type":"object"},"DetailInfo":{"properties":{"response":{"$ref":"#/definitions/PageRespInfo"}},"type":"object"},"ErrorRsp":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"错误码","maxLength":36,"minLength":8,"type":"string"},"error_description":{"description":"错误描述","maxLength":512,"minLength":2,"type":"string"}},"required":["error_code","error_description"],"type":"object"},"FrequencyControlRule":{"properties":{"action":{"$ref":"#/definitions/ActionInfo","description":"请求次数限制到达后采取的动作"},"captcha_lock_time":{"default":0,"description":"锁定验证时间","format":"int32","maximum":3600,"minimum":0,"type":"integer"},"conditions":{"description":"cc规则防护规则限速条件","items":{"$ref":"#/definitions/Condition"},"maxItems":30,"minItems":1,"type":"array","uniqueItems":true},"domain_aggregation":{"description":"域名聚合统计","type":"boolean"},"grayscale_time":{"description":"是否灰度生效","type":"boolean"},"id":{"description":"id","type":"string"},"limit_num":{"description":"限速频率,单位为次,范围为1~2147483647","type":"string"},"limit_period":{"description":"限速周期,单位为秒,范围1~3600","type":"string"},"lock_time":{"description":"阻断时间,单位为秒,范围为0~65535","type":"string"},"mode":{"description":"cc规则防护模式,0:标准(老版本),只支持对域名的防护路径做限制。1:高级(新版本),支持对路径、IP、Cookie、Header、Params字段做限制。修改CC规则时必须传mode","type":"string"},"name":{"description":"规则名称","type":"string"},"producer":{"description":"判断是否是智能cc生成的规则","format":"int32","type":"integer"},"region_aggregation":{"description":"全局计数","type":"boolean"},"tag_condition":{"$ref":"#/definitions/TagCondition","description":"用户标识,当限速模式为other时"},"tag_index":{"description":"用户标识,当限速模式为用户限速(cookie或header)时","type":"string"},"tag_type":{"description":"限速模式:ip、cookie、header、other、policy、domain、url。\n源限速:ip:IP限速,根据IP区分单个Web访问者。cookie:用户限速,根据Cookie键值区分单个Web访问者。header:用户限速,根据Header区分单个Web访问者。other:根据Referer(自定义请求访问的来源)字段区分单个Web访问者。-目的限速:policy: 策略限速、domain: 域名限速、url: url限速","type":"string"},"unlock_num":{"description":"放行频率,单位为次,范围为0~2147483647","format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"url":{"description":"规则应用的url","type":"string"}},"type":"object"},"ListFrequencyControlRuleResponseBody":{"properties":{"items":{"description":"items","items":{"$ref":"#/definitions/FrequencyControlRule"},"type":"array"},"total":{"description":"total","format":"int32","type":"integer"}},"required":["total"],"type":"object"},"PageRespInfo":{"properties":{"content":{"description":"页面内容","example":"content","type":"string"},"content_type":{"description":"页面类型","example":"content_type","type":"string"}},"type":"object"},"TagCondition":{"properties":{"category":{"description":"防护动作","example":"category","type":"string"},"contents":{"description":"字段内容","example":"contents","items":{"type":"string"},"type":"array"}},"type":"object"}},"description":null,"group_id":"60e78af2b8134f21bd06174caa2ac2b1","host":"aad.myhuaweicloud.com","id":"bebbcecc213a498fa0d4fc7466880fe8","info_version":"v2","method":"get","name":"ListFrequencyControlRule","parameters":{},"paths":{"/v2/aad/policies/waf/frequency-control-rule":{"get":{"consumes":["application/json"],"description":"查询频率控制规则列表","operationId":"ListFrequencyControlRule","parameters":[{"description":"token","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"default":"application/json;charset=utf8","description":"Content-Type","in":"header","name":"Content-Type","required":true,"type":"string"},{"description":"域名","in":"query","name":"domain_name","required":true,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ListFrequencyControlRuleResponseBody"}},"400":{"description":"Error response","schema":{"$ref":"#/definitions/ErrorRsp"}}},"summary":"查询频率控制规则列表","tags":["DDoS高防-防护策略"],"x-is-registered":"Y","x-support-sdk":"Y"}}},"product_short":"AAD","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询频率控制规则列表","tags":"DDoS高防-防护策略","uri":null,"version":"2.0"}