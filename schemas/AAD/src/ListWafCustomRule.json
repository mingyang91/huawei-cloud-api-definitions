{"base_path":"/","components":null,"consumes":"","definitions":{"ListWafCustomRuleResponseBody":{"properties":{"items":{"description":"items","items":{"$ref":"#/definitions/WafCustomRule"},"type":"array"},"total":{"description":"total","example":33,"format":"int32","type":"integer"}},"type":"object"},"WafCustomCondition":{"description":"cc规则防护规则限速条件","properties":{"category":{"description":"字段类型\n枚举值:\nurl:路径\nip:IPv4\nuser-agent: User Agent\nmethod: Method\nreferer: Referer\nparams:Params\ncookie:Cookie\nheader:Header\nrequest_line: Request Line\nrequest: Request","type":"string"},"contents":{"description":"条件列表逻辑匹配内容。\n- 当匹配逻辑为exist或not_exist时,contents必须为空,其他情况下contents必填且长度不超过2048\n- 当匹配逻辑包含\"len\"时,contents必须为0~65535的整数;当匹配逻辑包含\"num\"时,contents必须为0~512的整数\n- 当category为method时, contents必须是1-64位大写字母","items":{"type":"string"},"type":"array"},"index":{"description":"子字段\n- 当字段类型为url,user-agent、refer、request_line、method、request时,不需要传index参数\n- 当字段类型为ip或ipv6时,index必填且必须为以下值:\n   client-ip:客户端IP\n   x-forwarded-for:X-Forwarded-For\n   TCP连接IP: $remote_addr\n- 当字段类型(category)选择“params”、“cookie”、“header”时,请根据实际需求配置子字段且该参数必填。\n- 当匹配逻辑为num_greater、num_less、num_equal、num_not_equal时,子字段必须为空\n- 当子字段不为空时,最大长度不超过2048","type":"string"},"logic_operation":{"description":"条件列表匹配逻辑。\n如果字段类型category是url、user-agent或者referer, 匹配逻辑可以为:contain、 not_contain、 equal、 not_equal、 prefix、 not_prefix、 suffix、 not_suffix、 len_greater、 len_less、len_equal或者len_not_equal\n如果字段类型category是ip、ipv6或method,匹配逻辑可以为: equal、not_equal\n如果字段类型category是request_line或者request, 匹配逻辑可以为: len_greater、len_less、len_equal或者len_not_equal\n如果字段类型category是params、cookie或者header, 匹配逻辑可以为:contain、 not_contain、 equal、 not_equal、 prefix、 not_prefix、 suffix、 not_suffix、 len_greater、 len_less、len_equal、len_not_equal、num_greater、num_less、num_equal、num_not_equal、exist或者not_exist","type":"string"}},"required":["category","logic_operation","contents"],"type":"object"},"WafCustomRule":{"properties":{"action":{"$ref":"#/definitions/WafCustomRuleAction","description":"action"},"conditions":{"description":"condition","items":{"$ref":"#/definitions/WafCustomCondition"},"type":"array"},"domain_name":{"description":"域名","type":"string"},"id":{"description":"id","type":"string"},"name":{"description":"name","type":"string"},"overseas_type":{"description":"防护区域,0-大陆,1-海外","format":"int32","type":"integer"},"priority":{"description":"执行该规则的优先级,值越小,优先级越高。取值范围:0到1000。","format":"int32","type":"integer"},"start":{"description":"精准防护规则生效的起始时间戳(秒)","format":"int64","type":"integer"},"terminal":{"description":"精准防护规则生效的终止时间戳(秒)","format":"int64","type":"integer"},"time":{"description":"精准防护规则生效时间。true-自定义生效时间,false-立即生效","type":"boolean"}},"required":["time","priority"],"type":"object"},"WafCustomRuleAction":{"properties":{"category":{"description":"防护动作。\n“block”:拦截。\n“pass”:放行。\n“log”:仅记录","example":"block","type":"string"}},"type":"object"}},"description":null,"group_id":"60e78af2b8134f21bd06174caa2ac2b1","host":"aad.myhuaweicloud.com","id":"3cf89d546f644d2b97c7e6a5e2dc0146","info_version":"v2","method":"get","name":"ListWafCustomRule","parameters":{},"paths":{"/v2/aad/policies/waf/custom-rule":{"get":{"description":"查询精准防护规则","operationId":"ListWafCustomRule","parameters":[{"description":"token","in":"header","name":"X-Auth-Token","required":true,"type":"string"},{"default":"application/json;charset=utf8","description":"Content-Type","in":"header","name":"Content-Type","required":true,"type":"string"},{"description":"域名","in":"query","name":"domain_name","required":true,"type":"string"},{"description":"防护区域,0-大陆,1-海外","format":"int32","in":"query","name":"overseas_type","required":true,"type":"integer"}],"responses":{"200":{"description":"","schema":{"$ref":"#/definitions/ListWafCustomRuleResponseBody"}}},"summary":"查询精准防护规则","tags":["DDoS高防-防护策略"],"x-is-registered":"Y","x-support-sdk":"Y"}}},"product_short":"AAD","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询精准防护规则","tags":"DDoS高防-防护策略","uri":null,"version":"2.0"}