{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CreateCommonTaskRequestBody":{"description":"任务信息","properties":{"task":{"$ref":"#/definitions/TaskBasicRequestBody"},"task_detail":{"description":"参数类型为string,参数结构参照附录中“数据集成参数说明>RawFormDataRequest”章节","maxLength":2147483647,"minLength":1,"type":"string"}},"required":["task","task_detail"],"type":"object"},"ErrorRsp":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"错误码","example":"FDI.xxxx","maxLength":36,"minLength":8,"type":"string"},"error_msg":{"description":"错误描述","example":"Failed to xxxx.","maxLength":512,"minLength":2,"type":"string"}},"required":["error_code","error_msg"]},"ErrorRsp404":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"错误码","example":"FDI.3081","maxLength":36,"minLength":8,"type":"string"},"error_msg":{"description":"错误描述","example":"The task does not exist.","maxLength":512,"minLength":2,"type":"string"}},"required":["error_code","error_msg"]},"ErrorRsp500":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"错误码","example":"FDI.9999","maxLength":36,"minLength":8,"type":"string"},"error_msg":{"description":"错误描述","example":"Network error.","maxLength":512,"minLength":2,"type":"string"}},"required":["error_code","error_msg"]},"TaskBasicRequestBody":{"properties":{"description":{"description":"描述信息","example":"crate task","maxLength":1024,"minLength":1,"type":"string"},"source_datasource_id":{"description":"源端数据源ID","example":"30969b205e8f4392a25fb321112d1753","maxLength":64,"minLength":1,"type":"string"},"target_datasource_id":{"description":"目标端数据源ID","example":"30969b205e8f4392a25fb321112d1753","maxLength":64,"minLength":1,"type":"string"},"task_name":{"description":"任务名称,只能以字母、数字为开头,包含字母、数字和 . _ -  3~100个字符","example":"fdi_task_v2mysql-tomysql","maxLength":100,"minLength":3,"type":"string"},"task_tag":{"description":"任务标签,只能包含字母、数字、中划线、下划线","example":"fdi_autotest","maxLength":64,"minLength":4,"type":"string"},"task_type":{"description":"任务类型\n- REALTIME (实时)\n- TIMING (定时)","enum":["REALTIME","TIMING"],"example":"TIMING","maxLength":10,"minLength":1,"type":"string"}},"required":["task_name","task_type","source_datasource_id","target_datasource_id"]},"TaskBasicRsp":{"properties":{"created_date":{"description":"创建时间","example":1605288733684,"format":"int64","maximum":1e20,"minimum":0,"type":"integer"},"description":{"description":"描述信息","example":"crate task","maxLength":1024,"minLength":1,"type":"string"},"last_modified_date":{"description":"最近一次的修改时间","example":1605288733684,"format":"int64","maximum":1e20,"minimum":0,"type":"integer"},"project_id":{"description":"项目ID","example":"c53626012ba84727b938ca8bf03108ef","maxLength":64,"minLength":1,"type":"string"},"source_app_id":{"description":"源端数据源所属集成应用ID","example":"eaaa8ad0-f967-416a-ab73-d995ef656e89","maxLength":64,"minLength":1,"type":"string"},"source_app_name":{"description":"源端数据源所属集成应用名称","example":"app-testV2-interface","maxLength":64,"minLength":1,"type":"string"},"source_datasource_id":{"description":"源端数据源ID","example":"30969b205e8f4392a25fb321112d1753","maxLength":64,"minLength":1,"type":"string"},"source_datasource_name":{"description":"源端数据源的名称","example":"fdi_ds_testmysqlv2","maxLength":64,"minLength":1,"type":"string"},"status":{"description":"任务状态,\n- stop (0停止\\未启动)\n- running (1运行中)","enum":["stop","running"],"example":"stop","maximum":1,"minimum":0,"type":"string"},"target_app_id":{"description":"目标端数据源所属集成应用ID","example":"eaaa8ad0-f967-416a-ab73-d995ef656e89","maxLength":64,"minLength":1,"type":"string"},"target_app_name":{"description":"目标端数据源所属集成应用名称","example":"app-testV2-interface","maxLength":64,"minLength":1,"type":"string"},"target_datasource_id":{"description":"目标端数据源ID","example":"30969b205e8f4392a25fb321112d1753","maxLength":64,"minLength":1,"type":"string"},"target_datasource_name":{"description":"目标端数据源的名称","example":"fdi_ds_testmysqlv2","maxLength":64,"minLength":1,"type":"string"},"task_id":{"description":"任务ID, 可为空","example":"15366328208d4d77b76532fe9f4006a6","maxLength":64,"minLength":1,"type":"string"},"task_name":{"description":"任务名称,只能以字母、数字为开头,包含字母、数字和 . _ -  3~100个字符","example":"fdi_task_v2mysql-tomysql","maxLength":100,"minLength":3,"type":"string"},"task_tag":{"description":"任务标签,只能包含字母、数字、中划线、下划线","example":"fdi_autotest","maxLength":64,"minLength":4,"type":"string"},"task_type":{"description":"任务类型\n- realtime (实时)\n- timing (定时)","enum":["realtime","timing"],"example":"timing","maxLength":10,"minLength":1,"type":"string"}}},"TaskResponseV2":{"description":"查询指定任务","properties":{"task":{"$ref":"#/definitions/TaskBasicRsp"},"task_detail":{"description":"参数类型为string,参数结构参照附录中“数据集成参数说明>RawFormDataResponse”章节","maxLength":2147483647,"minLength":1,"type":"string"}}}},"description":null,"group_id":"025d125ee4da4956af037c3315e94b30","host":"roma.cn-north-4.myhuaweicloud.com","id":"9d3b14fda60045ceacc35cb967509e97","info_version":"v2","method":"post","name":"CreateCommonTask","parameters":{"instance_id":{"description":"实例ID","in":"path","maxLength":36,"minLength":0,"name":"instance_id","required":true,"type":"string"},"project_id":{"description":"项目ID,获取方式请参见《ROMA Connect API参考》的“附录 > 获取项目ID”章节。","in":"path","maxLength":32,"minLength":0,"name":"project_id","required":true,"type":"string"}},"paths":{"/v2/{project_id}/fdi/instances/{instance_id}/tasks":{"post":{"description":"创建普通任务(区别于组合任务)","operationId":"CreateCommonTask","parameters":[{"$ref":"#/parameters/project_id"},{"$ref":"#/parameters/instance_id"},{"description":"TaskDto object that needs to be created","in":"body","name":"CreateCommonTaskRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateCommonTaskRequestBody"}}],"produces":["application/json"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/TaskResponseV2"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/ErrorRsp"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/ErrorRsp404"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/ErrorRsp500"}}},"summary":"创建普通任务","tags":["任务管理"],"x-apigateway-request-type":"public","x-is-registered":"Y","x-request-examples-1":{"task":{"description":"mysql","source_datasource_id":"30969b205e8f4392a25fb321112d1753","target_datasource_id":"30969b205e8f4392a25fb321112d1753","task_name":"fdi_task_v2mysql-tomysql","task_tag":"fdi_autotest","task_type":"TIMING"},"task_detail":"{\"sourceSelectedDatasource\":{\"dataTimestamp\":1606807799782,\"isNeedPageSrcApi\":true,\"pageKeySrcApi\":\"pageNum\",\"pageSizeKeySrcApi\":\"pageSize\",\"resultTotalRootPath\":\"\",\"isUseDynamicSignal\":false,\"timeshift\":\"\",\"startTimeKey\":\"\",\"beginDateColSrcApi\":\"beginTime\",\"endDateColSrcApi\":\"endTime\",\"rootPath\":\"\",\"sourceParams\":[{\"keys\":\"pageNum\",\"value\":\"0\"},{\"keys\":\"pageSize\",\"value\":\"10\"},{\"keys\":\"beginTime\",\"value\":\"1\"},{\"keys\":\"endTime\",\"value\":\"1\"}],\"sourceHeaders\":[],\"sourceBodyType\":\"raw-json\",\"bodyRaw\":\"{\\\"pageNum\\\":\\\"1\\\",\\\"pageSize\\\":\\\"10\\\"}\",\"sourceBodyFormData\":[],\"sourceResponseType\":\"json\",\"sourceMetaData\":{\"dataSource\":[{\"index\":0,\"name\":\"name\",\"type\":\"String\",\"format\":\"\",\"path\":\"\"},{\"index\":1,\"name\":\"age\",\"type\":\"Integer\",\"format\":\"\",\"path\":\"\"}],\"mode\":\"keyValue\"},\"incr_migration_type\":\"systemDefault\",\"period_granularity\":\"\",\"period_assignment\":\"\",\"period_right_boarder\":\"\",\"pagingEndType\":\"paging-list\",\"pagingEndFieldPath\":\"\",\"pageNumLimit\":\"1\",\"servicetype\":\"None\",\"current_page_num\":\"1\",\"page_size\":\"10\",\"need_inc_migration\":true,\"date_form\":\"unix_ms\",\"timeZone\":\"GMT+08:00\",\"reset_incr_begin_time\":false,\"compensation_time\":\"0\",\"advanceStartTime\":\"0\",\"advanceStartTimeUnit\":\"day\",\"isParse\":\"true\"},\"targetSelectedDatasource\":{\"targetNeedCreateTable\":false,\"isSupportClearTab\":false,\"targetTable\":\"CDCMODEL.NODE\",\"batchNumber\":\"\",\"targetSelectedColumnList\":[{\"field_name\":\"NODE_ID\",\"field_type\":\"VARCHAR2\",\"field_length\":\"64\",\"null_able\":\"0\",\"unique\":\"1\"},{\"field_name\":\"AVAILABILITY_ZONE\",\"field_type\":\"VARCHAR2\",\"field_length\":\"64\",\"null_able\":\"0\",\"unique\":\"0\"},{\"field_name\":\"CACHE_PORT\",\"field_type\":\"VARCHAR2\",\"field_length\":\"8\",\"null_able\":\"0\",\"unique\":\"0\"},{\"field_name\":\"FLOATING_IP_ADDRESS\",\"field_type\":\"VARCHAR2\",\"field_length\":\"32\",\"null_able\":\"1\",\"unique\":\"0\"},{\"field_name\":\"NAME\",\"field_type\":\"VARCHAR2\",\"field_length\":\"64\",\"null_able\":\"0\",\"unique\":\"0\"},{\"field_name\":\"NODE_TYPE\",\"field_type\":\"VARCHAR2\",\"field_length\":\"255\",\"null_able\":\"0\",\"unique\":\"0\"},{\"field_name\":\"PRIVATE_IP\",\"field_type\":\"VARCHAR2\",\"field_length\":\"32\",\"null_able\":\"1\",\"unique\":\"0\"},{\"field_name\":\"USER_NAME\",\"field_type\":\"VARCHAR2\",\"field_length\":\"64\",\"null_able\":\"1\",\"unique\":\"0\"},{\"field_name\":\"PRIVATE_KEY\",\"field_type\":\"VARCHAR2\",\"field_length\":\"2048\",\"null_able\":\"0\",\"unique\":\"0\"},{\"field_name\":\"ROOT_PASSWORD\",\"field_type\":\"VARCHAR2\",\"field_length\":\"2048\",\"null_able\":\"0\",\"unique\":\"0\"},{\"field_name\":\"SERVER_ID\",\"field_type\":\"VARCHAR2\",\"field_length\":\"64\",\"null_able\":\"0\",\"unique\":\"0\"},{\"field_name\":\"STATUS\",\"field_type\":\"VARCHAR2\",\"field_length\":\"255\",\"null_able\":\"0\",\"unique\":\"0\"},{\"field_name\":\"SUBNET_ID\",\"field_type\":\"VARCHAR2\",\"field_length\":\"64\",\"null_able\":\"0\",\"unique\":\"0\"},{\"field_name\":\"SUBNET_NAME\",\"field_type\":\"VARCHAR2\",\"field_length\":\"256\",\"null_able\":\"1\",\"unique\":\"0\"},{\"field_name\":\"INSTANCE_ID\",\"field_type\":\"VARCHAR2\",\"field_length\":\"64\",\"null_able\":\"1\",\"unique\":\"0\"},{\"field_name\":\"DATAVOLUME_ID\",\"field_type\":\"VARCHAR2\",\"field_length\":\"64\",\"null_able\":\"1\",\"unique\":\"0\"},{\"field_name\":\"CACHE_ROLE\",\"field_type\":\"VARCHAR2\",\"field_length\":\"255\",\"null_able\":\"1\",\"unique\":\"0\"},{\"field_name\":\"RES_SUBNET_IP\",\"field_type\":\"VARCHAR2\",\"field_length\":\"32\",\"null_able\":\"1\",\"unique\":\"0\"},{\"field_name\":\"SYSTEMVOLUME_ID\",\"field_type\":\"VARCHAR2\",\"field_length\":\"64\",\"null_able\":\"1\",\"unique\":\"0\"},{\"field_name\":\"SYSADMIN_PASSWORD\",\"field_type\":\"VARCHAR2\",\"field_length\":\"2048\",\"null_able\":\"1\",\"unique\":\"0\"},{\"field_name\":\"NEW_ROOT_PASSWD\",\"field_type\":\"VARCHAR2\",\"field_length\":\"2048\",\"null_able\":\"1\",\"unique\":\"0\"},{\"field_name\":\"NEW_SYSADMIN_PASSWD\",\"field_type\":\"VARCHAR2\",\"field_length\":\"2048\",\"null_able\":\"1\",\"unique\":\"0\"},{\"field_name\":\"ROOT_PASSWORD_OVERDUE_TIME\",\"field_type\":\"TIMESTAMP(6)\",\"field_length\":\"0\",\"null_able\":\"1\",\"unique\":\"0\"},{\"field_name\":\"OPERATION_MSG\",\"field_type\":\"VARCHAR2\",\"field_length\":\"2048\",\"null_able\":\"1\",\"unique\":\"0\"},{\"field_name\":\"RES_SUBNET_IP_BETA\",\"field_type\":\"VARCHAR2\",\"field_length\":\"32\",\"null_able\":\"1\",\"unique\":\"0\"},{\"field_name\":\"METRIC_DATA\",\"field_type\":\"VARCHAR2\",\"field_length\":\"2048\",\"null_able\":\"1\",\"unique\":\"0\"}],\"supportPartUpdate\":false},\"mappingTable\":[],\"mappingInput\":{\"dataSource\":[{\"sourceKey\":\"name\",\"targetKey\":\"RES_SUBNET_IP_BETA\"},{\"sourceKey\":\"age\",\"targetKey\":\"METRIC_DATA\"}]},\"mappingRequired\":true,\"error_handler\":{\"path\":\"data1\",\"datasource_id\":\"79c4caaa3e1441dfb0351038fcf5f281\",\"mode\":\"OBS\",\"app_id\":\"73965e3c-72b2-40c3-8335-2154ebd6c23a\",\"stop_task_when_obs_failure\":false},\"afterImplementation\":{\"actionType\":\"KAFKA\",\"appId\":\"73965e3c-72b2-40c3-8335-2154ebd6c23a\",\"datasourceId\":\"a87a31a6288e4698865be122ae485dc0\",\"topic\":\"lgytest99\",\"messageContent\":\"success\"}}"},"x-support-sdk":"Y"}}},"product_short":"ROMA","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建普通任务","tags":"任务管理","uri":null,"version":"2.0"}