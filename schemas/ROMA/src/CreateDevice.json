{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"Authentication":{"description":"鉴权","example":{"password":"*************","user_name":"4MjxbCl4q461"},"properties":{"password":{"description":"一型一密/一机一密的密码,输入要求:至少1个数字,1个大写字母,1个小写字母,1个特殊字符(~!@#$%^&*()-_=+|[{}];:<>/?),长度8-32个字符","maxLength":64,"minLength":0,"type":"string"},"user_name":{"description":"一型一密/一机一密的用户名","maxLength":64,"minLength":0,"type":"string"}}},"CreateDeviceRequestBody":{"example":{"app_id":"ef3845be-091a-4ab5-869a-9de0025e2165","description":"device","device_name":"device","node_id":"D32145A100FF","parent_device_id":10001,"password":"test","status":0,"tags":["tag1, tag2"]},"properties":{"app_id":{"description":"应用ID","maxLength":36,"minLength":0,"type":"string"},"description":{"description":"备注","maxLength":200,"minLength":0,"type":"string"},"device_name":{"description":"设备名称,支持中文、中文标点符号()。;,:“”、?《》及英文大小写、数字及英文符号()_,#.?'-@%&!, 长度2-64","maxLength":64,"minLength":2,"type":"string"},"node_id":{"description":"设备物理编号,通常使用MAC或者IMEI号,支持英文大小写,数字,下划线和中划线,长度2-64","maxLength":64,"minLength":2,"type":"string"},"parent_device_id":{"description":"父设备ID,无父设备时不填写,自动向下取整","maximum":999999999999999999,"minimum":1,"type":"integer"},"password":{"description":"设备密码,输入要求:至少1数字,1大写字母,1小写字母,1特殊字符(~!@#$%^&*()-_=+|[{}];:<>/?),长度8-32个字符","maxLength":32,"minLength":8,"type":"string"},"product":{"$ref":"#/definitions/ProductReferer","description":"产品"},"status":{"description":"设备状态 0启用 1禁用,不填时默认为0启用","enum":[0,1],"format":"int32","maximum":10,"minimum":0,"type":"integer"},"tags":{"description":"标签","items":{"type":"string"},"maxItems":9999,"minItems":0,"type":"array"},"user_name":{"description":"设备用户名,支持英文大小写、英文符号(-)及数字,长度10-50","maxLength":50,"minLength":10,"type":"string"}},"required":["app_id","device_name","product","node_id"]},"CreateDeviceResponseBody":{"example":{"app_id":"cb4b3ec0-8f7f-432f-b05e-fc149d05da5d","app_name":"app","authentication":{"password":"************************","user_name":"F01A8D25FE6E4CF5A286B711B31888AE"},"client_id":"D116303711537sGDtK","connect_address":"xx.xx.xx.xx","created_datetime":1607408244841,"created_user":{"user_id":"","user_name":"user"},"description":"device","device_id":711537,"device_name":"device","device_type":0,"id":711537,"instance_id":"8993a690-cf61-46af-880d-587d823d14e5","ipv6_connect_address":"xx.xx.xx.xx","ipv6_ssl_connect_address":"xx.xx.xx.xx","last_updated_datetime":1607422571094,"last_updated_user":{"user_id":"","user_name":"user"},"node_id":"string","node_type":0,"online_status":2,"permissions":["read","access","delete","modify"],"product":{"manufacturer_id":"p1","model":"p1","product_id":116303,"product_name":"p1","product_type":0,"protocol_type":0},"ssl_connect_address":"xx.xx.xx.xx","status":0,"tags":[]},"properties":{"app_id":{"description":"应用ID","maxLength":36,"minLength":0,"type":"string"},"app_name":{"description":"应用名称","maxLength":256,"minLength":0,"type":"string"},"authentication":{"$ref":"#/definitions/Authentication"},"client_id":{"description":"设备客户端ID,平台生成的设备唯一标识","maxLength":32,"minLength":0,"type":"string"},"connect_address":{"description":"设备接入地址","maxLength":200,"minLength":0,"type":"string"},"created_datetime":{"description":"创建时间,timestamp(ms),使用UTC时区","format":"int64","maximum":99999999999999999,"minimum":1,"type":"integer"},"created_user":{"$ref":"#/definitions/CreatedUser"},"description":{"description":"备注","maxLength":200,"minLength":0,"type":"string"},"device_id":{"description":"设备ID(兼容20.0)","maximum":99999999999999999,"minimum":1,"type":"integer"},"device_name":{"description":"设备名称,支持中文、中文标点符号()。;,:“”、?《》及英文大小写、数字及英文符号()_,#.?'-@%&!, 长度2-64","maxLength":64,"minLength":2,"type":"string"},"device_type":{"description":"设备类型<br>0-普通设备(无子设备也无父设备)<br>1-网关设备(可挂载子设备)<br>2-子设备(归属于某个网关设备)","enum":[0,1,2],"maximum":10,"minimum":0,"type":"integer"},"id":{"description":"设备ID","maximum":99999999999999999,"minimum":1,"type":"integer"},"instance_id":{"description":"实例id","maxLength":64,"minLength":2,"type":"string"},"ipv6_connect_address":{"description":"设备接入IPV6地址","maxLength":200,"minLength":0,"type":"string"},"ipv6_ssl_connect_address":{"description":"设备接入IPV6 SSL地址","maxLength":200,"minLength":0,"type":"string"},"last_updated_datetime":{"description":"最后修改时间,timestamp(ms),使用UTC时区","format":"int64","maximum":99999999999999999,"minimum":1,"type":"integer"},"last_updated_user":{"$ref":"#/definitions/LastUpdatedUser"},"node_id":{"description":"设备物理编号,通常使用MAC或者IMEI号,支持英文大小写,数字,下划线和中划线,长度2-64","maxLength":64,"minLength":2,"type":"string"},"node_type":{"description":"节点类型 0-直连 1-网关 2-子设备","maximum":99999999999999999,"minimum":1,"type":"integer"},"online_status":{"description":"是否在线 0-未连接 1-在线 2-离线","enum":[0,1,2],"maximum":10,"minimum":0,"type":"integer"},"permissions":{"$ref":"#/definitions/Permissions"},"product":{"$ref":"#/definitions/ProductReferer"},"ssl_connect_address":{"description":"设备接入SSL地址","maxLength":200,"minLength":0,"type":"string"},"status":{"description":"设备状态 0-启用 1-禁用","enum":[0,1],"maximum":10,"minimum":0,"type":"integer"},"tags":{"description":"标签","items":{"maxLength":64,"minLength":1,"type":"string"},"maxItems":9999,"minItems":1,"type":"array"}}},"CreatedUser":{"description":"创建时的用户","example":{"user_id":"6546435432432","user_name":"user1"},"properties":{"user_id":{"description":"用户ID","maxLength":64,"minLength":0,"type":"string"},"user_name":{"description":"用户名","maxLength":64,"minLength":0,"type":"string"}}},"Error":{"properties":{"error_code":{"description":"系统错误码,针对4xx和5xx类HTTP错误码的详细错误码","maxLength":64,"minLength":0,"type":"string"},"error_msg":{"description":"错误描述","maxLength":200,"minLength":0,"type":"string"},"request_id":{"description":"消息ID","maxLength":64,"minLength":0,"type":"string"}}},"LastUpdatedUser":{"description":"最后更新时的用户","example":{"user_id":"6546435432432","user_name":"user1"},"properties":{"user_id":{"description":"用户ID","maxLength":64,"minLength":0,"type":"string"},"user_name":{"description":"用户名","maxLength":64,"minLength":0,"type":"string"}}},"Permissions":{"description":"权限","items":{"description":"权限","maxLength":10,"type":"string"},"maxItems":9999,"minItems":0,"type":"array"},"ProductReferer":{"description":"产品","example":{"manufacturer_id":"huawei","model":"mate30pro","prodct_type":0,"product_id":10001,"product_name":"string","protocol_type":0},"properties":{"manufacturer_id":{"description":"厂商ID,未填写产品ID时厂商ID和型号必填","maxLength":64,"minLength":0,"type":"string"},"model":{"description":"型号,未填写产品ID时厂商ID和型号必填","maxLength":64,"minLength":0,"type":"string"},"product_id":{"description":"产品ID,未填写厂商ID+型号时产品ID必填","maximum":999999999999999999,"minimum":1,"type":"integer"},"product_name":{"description":"产品名称","maxLength":64,"minLength":0,"type":"string"},"product_type":{"description":"产品类型:0-普通产品 1-网关产品","enum":[0,1],"format":"int32","maximum":10,"minimum":0,"type":"integer"},"protocol_type":{"description":"产品的协议类型:0-mqtt,1-coap,2-modbus,3-http, 4-opcua","enum":[0,1,2,3,4],"format":"int32","maximum":10,"minimum":0,"type":"integer"}}}},"description":null,"group_id":"025d125ee4da4956af037c3315e94b30","host":"roma.cn-north-4.myhuaweicloud.com","id":"87f626890790401dbb63c954bef54b63","info_version":"v2","method":"post","name":"CreateDevice","parameters":{"instance_id":{"description":"实例ID","in":"path","maxLength":36,"minLength":0,"name":"instance_id","required":true,"type":"string"},"project_id":{"description":"项目ID,获取方式请参见《ROMA Connect API参考》的“附录 > 获取项目ID”章节。","in":"path","maxLength":32,"minLength":0,"name":"project_id","required":true,"type":"string"}},"paths":{"/v2/{project_id}/link/instances/{instance_id}/devices":{"post":{"description":"创建设备","operationId":"CreateDevice","parameters":[{"$ref":"#/parameters/project_id"},{"$ref":"#/parameters/instance_id"},{"description":"创建设备请求对象","in":"body","name":"CreateDeviceRequestBody","required":true,"schema":{"$ref":"#/definitions/CreateDeviceRequestBody"}}],"produces":["application/json"],"responses":{"201":{"description":"Created","schema":{"$ref":"#/definitions/CreateDeviceResponseBody"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/Error"}}},"summary":"创建设备","tags":["设备管理"],"x-apigateway-request-type":"public","x-is-registered":"Y","x-support-sdk":"Y"}}},"product_short":"ROMA","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建设备","tags":"设备管理","uri":null,"version":"2.0"}