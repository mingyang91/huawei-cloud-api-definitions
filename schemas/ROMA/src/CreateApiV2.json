{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ApiBaseInfo":{"properties":{"auth_opt":{"$ref":"#/definitions/AuthOpt","description":"认证方式参数"},"auth_type":{"description":"API的认证方式\n- NONE:无认证\n- APP:APP认证\n- IAM:IAM认证\n- AUTHORIZER:自定义认证","enum":["NONE","APP","IAM","AUTHORIZER"],"example":"IAM","type":"string"},"authorizer_id":{"description":"前端自定义认证对象的ID","maxLength":65,"minLength":1,"pattern":"^[a-zA-Z0-9-_]{0,64}$","type":"string"},"backend_type":{"description":"后端类型\n- HTTP:web后端\n- FUNCTION:函数工作流\n- MOCK:模拟的后端\n\n仅控制默认后端类型,策略后端不受此字段控制","enum":["HTTP","FUNCTION","MOCK"],"example":"HTTP","type":"string"},"body_remark":{"description":"API请求体描述,可以是请求体示例、媒体类型、参数等信息。\n> 中文字符必须为UTF-8或者unicode编码。","example":"API请求体描述","maxLength":20480,"type":"string"},"content_type":{"description":"请求内容格式类型:\n\napplication/json\napplication/xml\nmultipart/form-data\ntext/plain","enum":["application/json","application/xml","multipart/form-data","text/plain"],"type":"string"},"cors":{"default":false,"description":"是否支持跨域\n- TRUE:支持\n- FALSE:不支持","enum":[true,false],"example":false,"type":"boolean"},"domain_name":{"description":"API绑定的自定义域名,使用自定义域名时roma_app_id字段必填。","maxLength":255,"type":"string"},"group_id":{"description":"API所属的分组编号","example":"b9be707660c5406394f8973e087bae20","maxLength":65,"minLength":1,"pattern":"^[a-zA-Z0-9-_]{0,64}$","type":"string"},"match_mode":{"description":"API的匹配方式\n- SWA:前缀匹配\n- NORMAL:正常匹配(绝对匹配)\n默认:NORMAL","enum":["SWA","NORMAL"],"example":"NORMAL","type":"string"},"name":{"description":"API名称。\n\n支持汉字、英文、数字、中划线、下划线、点、斜杠、中英文格式下的小括号和冒号、中文格式下的顿号,且只能以英文、汉字和数字开头。\n> 中文字符必须为UTF-8或者unicode编码。","example":"api_name","maxLength":255,"minLength":3,"pattern":"^([a-zA-Z0-9]|[\\u4e00-\\u9fa5])([a-zA-Z0-9:._()\\\\//-]|[\\u4e00-\\u9fa5\\uff08\\uff09\\uff1a\\u3001]){2,254}$","type":"string"},"remark":{"description":"API描述。\n\n不允许带有<、>字符\n> 中文字符必须为UTF-8或者unicode编码。","example":"API描述","maxLength":1000,"minLength":0,"type":"string"},"req_method":{"description":"API的请求方式","enum":["GET","POST","PUT","DELETE","HEAD","PATCH","OPTIONS","ANY"],"example":"GET","type":"string"},"req_protocol":{"default":"HTTPS","description":"API的请求协议\n- HTTP\n- HTTPS\n- BOTH:同时支持HTTP和HTTPS","enum":["HTTP","HTTPS","BOTH"],"example":"HTTP","type":"string"},"req_uri":{"description":"请求地址。可以包含请求参数,用{}标识,比如/getUserInfo/{userId},支持 * % - _ .等特殊字符,总长度不超过512,且满足URI规范。\n\n/apic/health_check为服务集成预置的健康检查路径,当req_method=GET时不支持req_uri=/apic/health_check。\n\n> 需要服从URI规范。","example":"/test","type":"string"},"response_id":{"description":"分组自定义响应ID\n\n暂不支持","maxLength":65,"minLength":1,"pattern":"^[a-zA-Z0-9-_]{0,64}$","type":"string"},"result_failure_sample":{"description":"失败返回示例,描述API的异常返回信息。\n> 中文字符必须为UTF-8或者unicode编码。","example":"失败返回示例","maxLength":20480,"type":"string"},"result_normal_sample":{"description":"正常响应示例,描述API的正常返回信息。\n> 中文字符必须为UTF-8或者unicode编码。","example":"正常响应示例","maxLength":20480,"type":"string"},"roma_app_id":{"description":"API归属的集成应用编号\n\nAPI分组为全局分组时或API绑定自定义域名时必填。","example":"98df09fb-d459-4cbf-83a7-2b55ca6f3d5d","maxLength":65,"minLength":1,"pattern":"^[a-zA-Z0-9-_]{0,64}$","type":"string"},"tag":{"description":"标签\n\n待废弃,优先使用tags字段","maxLength":255,"type":"string"},"tags":{"description":"标签。\n\n支持英文,数字,中文,特殊符号(-*#%.:_),且只能以中文或英文开头。\n\n默认支持10个标签,如需扩大配额请联系技术工程师修改API_TAG_NUM_LIMIT配置。","example":["tag"],"items":{"maxLength":128,"minLength":1,"pattern":"^([a-zA-Z]|[\\u4e00-\\u9fa5])([a-zA-Z0-9_-]|[\\u4e00-\\u9fa5]|[-*#%.:]){0,127}$","type":"string"},"type":"array"},"type":{"description":"API类型\n- 1:公有API\n- 2:私有API","enum":[1,2],"example":1,"format":"int32","type":"integer"},"version":{"description":"API的版本","example":"v1","maxLength":16,"type":"string"}},"required":["group_id","name","type","req_protocol","req_method","req_uri","auth_type","backend_type"]},"ApiCommon":{"allOf":[{"$ref":"#/definitions/ApiRespBaseInfo"},{"properties":{"backend_params":{"description":"API的后端参数列表","items":{"$ref":"#/definitions/BackendParam"},"type":"array"},"func_info":{"$ref":"#/definitions/ApiFunc"},"mock_info":{"$ref":"#/definitions/ApiMock"},"policy_functions":{"description":"函数工作流策略后端列表","items":{"$ref":"#/definitions/ApiPolicyFunctionResp"},"type":"array"},"policy_mocks":{"description":"mock策略后端列表","items":{"$ref":"#/definitions/ApiPolicyMockResp"},"type":"array"},"req_params":{"description":"API的请求参数列表","items":{"$ref":"#/definitions/ReqParam"},"type":"array"}},"type":"object"}]},"ApiConditionBase":{"properties":{"condition_origin":{"description":"策略类型\n- param:参数\n- source:源IP\n- system:系统参数\n- cookie: COOKIE参数","enum":["param","source"],"type":"string"},"condition_type":{"description":"策略条件\n- exact:绝对匹配\n- enum:枚举\n- pattern:正则\n\n策略类型为param或cookie时必选","enum":["exact","enum","pattern"],"type":"string"},"condition_value":{"description":"策略值;策略类型为param,source,cookie时必填","type":"string"},"cookie_param_name":{"description":"COOKIE参数名称;策略类型为cookie时必选","type":"string"},"req_param_name":{"description":"关联的请求参数对象名称。策略类型为param时必选","type":"string"},"sys_param_name":{"description":"系统参数名称。策略类型为system时必选。支持以下系统参数\n- req_path:请求路径。如 /a/b\n- req_method:请求方法。如 GET\n- reqPath:请求路径,废弃。如 /a/b\n- reqMethod:请求方法,废弃。如 GET","enum":["req_path","req_method"],"type":"string"}},"required":["condition_value","condition_origin"]},"ApiConditionCreate":{"allOf":[{"$ref":"#/definitions/ApiConditionBase"}]},"ApiCreate":{"allOf":[{"$ref":"#/definitions/ApiCreateBase"},{"properties":{"backend_api":{"$ref":"#/definitions/BackendApiCreate"},"policy_https":{"description":"web策略后端列表","items":{"$ref":"#/definitions/ApiPolicyHttpCreate"},"type":"array"}},"type":"object"}]},"ApiCreateBase":{"allOf":[{"$ref":"#/definitions/ApiBaseInfo"},{"properties":{"backend_params":{"description":"API的后端参数列表","items":{"$ref":"#/definitions/BackendParamBase"},"type":"array"},"func_info":{"$ref":"#/definitions/ApiFuncCreate"},"mock_info":{"$ref":"#/definitions/ApiMockCreate"},"policy_functions":{"description":"函数工作流策略后端列表","items":{"$ref":"#/definitions/ApiPolicyFunctionCreate"},"type":"array"},"policy_mocks":{"description":"mock策略后端列表","items":{"$ref":"#/definitions/ApiPolicyMockCreate"},"type":"array"},"req_params":{"description":"API的请求参数列表","items":{"$ref":"#/definitions/ReqParamBase"},"type":"array"}},"type":"object"}]},"ApiFunc":{"allOf":[{"$ref":"#/definitions/FunctionApiBaseInfo"},{"properties":{"id":{"description":"编号","type":"string"},"register_time":{"description":"注册时间","format":"date-time","type":"string"},"status":{"description":"后端状态\n  - 1: 有效","enum":[1],"example":1,"format":"int32","type":"integer"},"update_time":{"description":"修改时间","format":"date-time","type":"string"}},"type":"object"}],"description":"函数工作流后端详情"},"ApiFuncCreate":{"allOf":[{"$ref":"#/definitions/FunctionApiBaseInfo"}],"description":"函数工作流后端详情"},"ApiGroupCommonInfo":{"properties":{"id":{"description":"编号","example":"aa35dd27fcb9475f8b1b19669ba60309","type":"string"},"name":{"description":"API分组名称","example":"api_group_001","type":"string"},"on_sell_status":{"description":"是否已上架云市场:\n- 1:已上架\n- 2:未上架\n- 3:审核中\n\nROMA Connect暂未对接云市场,此字段默认返回2","example":2,"format":"int32","type":"integer"},"register_time":{"description":"创建时间","example":"2017-12-28T11:44:53.000Z","format":"date-time","type":"string"},"sl_domain":{"description":"系统默认分配的子域名","example":"aa35dd27fcb9475f8b1b19669ba60309.apic.****.com","type":"string"},"status":{"description":"状态\n  - 1: 有效\n  - 2:  锁定","enum":[1,2],"example":1,"format":"int32","type":"integer"},"update_time":{"description":"最近修改时间","example":"2017-12-28T11:49:01.048Z","format":"date-time","type":"string"},"url_domains":{"description":"分组上绑定的独立域名列表","items":{"$ref":"#/definitions/UrlDomain"},"type":"array"}},"required":["id","name","status","sl_domain","register_time","update_time","on_sell_status"]},"ApiInfo":{"allOf":[{"$ref":"#/definitions/ApiCommon"},{"properties":{"backend_api":{"$ref":"#/definitions/BackendApi"},"policy_https":{"description":"web策略后端列表","items":{"$ref":"#/definitions/ApiPolicyHttpResp"},"type":"array"}},"type":"object"}]},"ApiMock":{"allOf":[{"$ref":"#/definitions/MockApiBaseInfo"},{"properties":{"id":{"description":"编号","type":"string"},"register_time":{"description":"注册时间","format":"date-time","type":"string"},"status":{"description":"后端状态\n  - 1: 有效","enum":[1],"example":1,"format":"int32","type":"integer"},"update_time":{"description":"修改时间","format":"date-time","type":"string"}},"type":"object"}],"description":"mock后端详情"},"ApiMockCreate":{"allOf":[{"$ref":"#/definitions/MockApiBaseInfo"}],"description":"mock后端详情"},"ApiPolicyFunctionBase":{"properties":{"alias_urn":{"description":"函数别名URN\n \n当函数别名URN和函数版本同时传入时,函数版本将被忽略,只会使用函数别名URN","example":"urn:fss:region01:73d69ae0cfcf460190522d06b60f05ad:function:default:auto_testfunc00000:!a1","type":"string"},"function_urn":{"description":"函数URN","example":"urn:fss:region01:73d69ae0cfcf460190522d06b60f05ad:function:default:auto_testfunc00000","type":"string"},"invocation_type":{"description":"调用类型\n- async: 异步\n- sync:同步","enum":["async","sync"],"example":"async","type":"string"},"network_type":{"default":"V1","description":"对接函数的网络架构类型\n- V1:非VPC网络架构\n- V2:VPC网络架构","enum":["V1","V2"],"example":"V1","type":"string"},"timeout":{"description":"服务集成请求后端服务的超时时间。最大超时时间可通过实例特性backend_timeout配置修改,可修改的上限为600000\n\n单位:毫秒。","example":3000,"format":"int32","minimum":1,"type":"integer"},"version":{"description":"函数版本\n \n当函数别名URN和函数版本同时传入时,函数版本将被忽略,只会使用函数别名URN","example":"v1","maxLength":64,"type":"string"}},"required":["function_urn","invocation_type","timeout"]},"ApiPolicyFunctionCreate":{"allOf":[{"$ref":"#/definitions/ApiPolicyFunctionBase"},{"$ref":"#/definitions/ApiPolicyReqBase"}]},"ApiPolicyFunctionResp":{"allOf":[{"$ref":"#/definitions/ApiPolicyFunctionBase"},{"$ref":"#/definitions/ApiPolicyRespBase"}]},"ApiPolicyHttpBase":{"properties":{"enable_client_ssl":{"description":"是否开启双向认证","type":"boolean"},"req_method":{"description":"请求方式:GET、POST、PUT、DELETE、HEAD、PATCH、OPTIONS、ANY","enum":["GET","POST","PUT","DELETE","HEAD","PATCH","OPTIONS","ANY"],"example":"GET","type":"string"},"req_protocol":{"description":"请求协议:HTTP、HTTPS","enum":["HTTP","HTTPS"],"example":"HTTP","type":"string"},"req_uri":{"description":"请求地址。可以包含请求参数,用{}标识,比如/getUserInfo/{userId},支持 * % - _ .等特殊字符,总长度不超过512,且满足URI规范。\n\n支持环境变量,使用环境变量时,每个变量名的长度为3 ~ 32位的字符串,字符串由英文字母、数字、中划线、下划线组成,且只能以英文开头。\n\n> 需要服从URI规范。","example":"/test","type":"string"},"retry_count":{"default":"-1","description":"服务集成请求后端服务的重试次数,默认为-1,范围[-1,10]","example":"1","type":"string"},"timeout":{"description":"服务集成请求后端服务的超时时间。最大超时时间可通过实例特性backend_timeout配置修改,可修改的上限为600000\n\n单位:毫秒。","example":3000,"format":"int32","minimum":1,"type":"integer"},"url_domain":{"description":"策略后端的Endpoint。\n由域名(或IP地址)和端口号组成,总长度不超过255。格式为域名:端口(如:apig.example.com:7443)。如果不写端口,则HTTPS默认端口号为443, HTTP默认端口号为80。\n支持环境变量,使用环境变量时,每个变量名的长度为3 ~ 32位的字符串,字符串由英文字母、数字、“_”、“-”组成,且只能以英文开头。","example":"apig.example.com:7443","type":"string"}},"required":["req_protocol","req_method","req_uri"]},"ApiPolicyHttpCreate":{"allOf":[{"$ref":"#/definitions/ApiPolicyHttpBase"},{"$ref":"#/definitions/ApiPolicyReqBase"},{"properties":{"vpc_channel_info":{"$ref":"#/definitions/VpcInfo"},"vpc_channel_status":{"description":"是否使用VPC通道\n- 1 : 使用VPC通道\n- 2 : 不使用VPC通道","enum":[1,2],"example":1,"format":"int32","type":"integer"}},"type":"object"}]},"ApiPolicyHttpResp":{"allOf":[{"$ref":"#/definitions/ApiPolicyRespBase"},{"$ref":"#/definitions/ApiPolicyHttpBase"},{"properties":{"vpc_channel_info":{"$ref":"#/definitions/VpcInfo"},"vpc_channel_status":{"description":"是否使用VPC通道:\n- 1: 使用VPC通道\n- 2:不使用VPC通道","format":"int32","type":"integer"}},"type":"object"}]},"ApiPolicyMockBase":{"properties":{"header":{"description":"mock后端自定义响应头header\n\n格式:[{\"key\":\"\",\"value\": \"\", \"remark:\"\"}, {\"key2\":\"\",\"value2\": \"\",\"remark2:\"\"}]\n\n参数说明:\n\nkey:mock后端自定义响应头header key, 支持英文,数字,中划线,且只能以英文字母或数字开头,1 ~ 64字符\n\nvalue: mock后端自定义响应头header value,中文字符必须为UTF-8或者unicode编码, 不能为空,最大长度为10240\n\nremark:mock后端自定义响应头header remark,中文字符必须为UTF-8 或者unicode编码,可以为空,最大长度为2048","example":"[{\"key\":\"Content-Type\", \"value\":\"application/json\", \"remark\":\"remark1\"}]","type":"string"},"result_content":{"description":"返回结果","example":"返回结果成功","type":"string"},"status_code":{"description":"mock后端自定义状态码:\n\"200\": \"OK\",\n\"201\": \"Created\",\n\"202\": \"Accepted\",\n\"203\": \"NonAuthoritativeInformation\",\n\"204\": \"NoContent\",\n\"205\": \"ResetContent\",\n\"206\": \"PartialContent\",\n\"300\": \"MultipleChoices\",\n\"301\": \"MovedPermanently\",\n\"302\": \"Found\",\n\"303\": \"SeeOther\",\n\"304\": \"NotModified\",\n\"305\": \"UseProxy\",\n\"306\": \"Unused\",\n\"307\": \"TemporaryRedirect\",\n\"400\": \"BadRequest\",\n\"401\": \"Unauthorized\",\n\"402\": \"PaymentRequired\",\n\"403\": \"Forbidden\",\n\"404\": \"NotFound\",\n\"405\": \"MethodNotAllowed\",\n\"406\": \"NotAcceptable\",\n\"407\": \"ProxyAuthenticationRequired\",\n\"408\": \"RequestTimeout\",\n\"409\": \"Conflict\",\n\"410\": \"Gone\",\n\"411\": \"LengthRequired\",\n\"412\": \"PreconditionFailed\",\n\"413\": \"RequestEntityTooLarge\",\n\"414\": \"RequestURITooLong\",\n\"415\": \"UnsupportedMediaType\",\n\"416\": \"RequestedRangeNotSatisfiable\",\n\"417\": \"ExpectationFailed\",\n\"450\": \"ParameterRequried\",\n\"451\": \"MethodConnectException\",\n\"500\": \"InternalServerError\",\n\"501\": \"NotImplemented\",\n\"502\": \"BadGateway\",\n\"503\": \"ServiceUnavailable\",\n\"504\": \"GatewayTimeout\",\n\"505\": \"HTTPVersionNotSupported\",","enum":[200,201,202,203,204,205,206,300,301,302,303,304,305,306,307,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,450,451,500,501,502,503,504,505],"example":200,"format":"int32","type":"integer"}}},"ApiPolicyMockCreate":{"allOf":[{"$ref":"#/definitions/ApiPolicyMockBase"},{"$ref":"#/definitions/ApiPolicyReqBase"}]},"ApiPolicyMockResp":{"allOf":[{"$ref":"#/definitions/ApiPolicyRespBase"},{"$ref":"#/definitions/ApiPolicyMockBase"}]},"ApiPolicyReqBase":{"properties":{"authorizer_id":{"description":"后端自定义认证对象的ID","example":"7f9dab147a414f35a19d158da62e5264","type":"string"},"backend_params":{"description":"后端参数列表","items":{"$ref":"#/definitions/BackendParamBase"},"type":"array"},"conditions":{"description":"策略条件列表","items":{"$ref":"#/definitions/ApiConditionCreate"},"type":"array"},"effect_mode":{"description":"关联的策略组合模式:\n- ALL:满足全部条件\n- ANY:满足任一条件","enum":["ALL","ANY"],"example":"ALL","type":"string"},"name":{"description":"策略后端名称。字符串由中文、英文字母、数字、下划线组成,且只能以中文或英文开头。","maxLength":64,"minLength":3,"pattern":"^([a-zA-Z]|[\\u4e00-\\u9fa5])([a-zA-Z0-9_]|[\\u4e00-\\u9fa5]){2,63}$","type":"string"}},"required":["name","effect_mode","conditions"]},"ApiPolicyRespBase":{"properties":{"authorizer_id":{"description":"后端自定义认证对象的ID","example":"7f9dab147a414f35a19d158da62e5264","maxLength":65,"minLength":1,"pattern":"^[a-zA-Z0-9-_]{0,64}$","type":"string"},"backend_params":{"description":"后端参数列表","items":{"$ref":"#/definitions/BackendParam"},"type":"array"},"conditions":{"description":"策略条件列表","items":{"$ref":"#/definitions/ConditionResp"},"type":"array"},"effect_mode":{"description":"关联的策略组合模式:\n- ALL:满足全部条件\n- ANY:满足任一条件","enum":["ALL","ANY"],"example":"ALL","type":"string"},"id":{"description":"编号","type":"string"},"name":{"description":"策略后端名称。字符串由中文、英文字母、数字、下划线组成,且只能以中文或英文开头。","maxLength":64,"minLength":3,"pattern":"^([a-zA-Z]|[\\u4e00-\\u9fa5])([a-zA-Z0-9_]|[\\u4e00-\\u9fa5]){2,63}$","type":"string"}},"required":["name","effect_mode","conditions"]},"ApiRespBaseInfo":{"allOf":[{"$ref":"#/definitions/ApiBaseInfo"},{"properties":{"api_group_info":{"$ref":"#/definitions/ApiGroupCommonInfo","description":"api分组信息"},"arrange_necessary":{"description":"是否需要编排:1,是;2,否","format":"int32","type":"integer"},"backend_api":{"$ref":"#/definitions/BackendApi","description":"后端信息"},"group_name":{"description":"API所属分组的名称","type":"string"},"group_version":{"description":"API所属分组的版本","type":"string"},"id":{"description":"API编号","type":"string"},"ld_api_id":{"description":"当API的后端为自定义后端时,对应的自定义后端API编号","example":"8d76248244ee457cb077664b012f4cbe","type":"string"},"publish_id":{"description":"发布记录编号\n\n存在多个发布记录时,发布记录编号之间用|隔开","type":"string"},"publish_time":{"description":"发布时间\n\n存在多个发布记录时,发布时间之间用|隔开","type":"string"},"register_time":{"description":"API注册时间","format":"date-time","type":"string"},"roma_app_name":{"description":"API归属的集成应用名称","example":"roma-app-demo","type":"string"},"run_env_id":{"description":"发布的环境编号\n\n存在多个发布记录时,环境编号之间用|隔开","type":"string"},"run_env_name":{"description":"发布的环境名称\n\n存在多个发布记录时,环境名称之间用|隔开","type":"string"},"status":{"description":"API状态\n  - 1: 有效\n  - 2:  锁定","enum":[1,2],"example":1,"format":"int32","type":"integer"},"update_time":{"description":"API修改时间","format":"date-time","type":"string"}},"type":"object"}],"required":["id","group_name","status","register_time","update_time","arrange_necessary"]},"AuthOpt":{"description":"认证方式参数","properties":{"app_code_auth_type":{"default":"DISABLE","description":"AppCode简易认证类型,仅在auth_type为APP时生效,默认为DISABLE:\n- DISABLE:不开启简易认证\n- HEADER:开启简易认证且AppCode位置在HEADER","enum":["DISABLE","HEADER"],"example":"DISABLE","type":"string"}}},"BackendApi":{"allOf":[{"$ref":"#/definitions/BackendApiBase"},{"properties":{"vpc_channel_info":{"$ref":"#/definitions/VpcInfo"},"vpc_channel_status":{"description":"是否使用VPC通道\n- 1:使用VPC通道\n- 2:不使用VPC通道","format":"int32","type":"integer"}},"type":"object"}],"description":"web后端详情"},"BackendApiBase":{"allOf":[{"$ref":"#/definitions/BackendApiBaseInfo"},{"properties":{"id":{"description":"编号","type":"string"},"register_time":{"description":"注册时间","format":"date-time","type":"string"},"status":{"description":"后端状态\n  - 1: 有效","enum":[1],"example":1,"format":"int32","type":"integer"},"update_time":{"description":"修改时间","format":"date-time","type":"string"}},"type":"object"}]},"BackendApiBaseInfo":{"properties":{"authorizer_id":{"description":"后端自定义认证对象的ID","example":"7f9dab147a414f35a19d158da62e5264","type":"string"},"enable_client_ssl":{"description":"是否开启双向认证","type":"boolean"},"remark":{"description":"描述。\n> 中文字符必须为UTF-8或者unicode编码。","example":"描述","maxLength":255,"type":"string"},"req_method":{"description":"请求方式","enum":["GET","POST","PUT","DELETE","HEAD","PATCH","OPTIONS","ANY"],"example":"GET","type":"string"},"req_protocol":{"description":"请求协议","enum":["HTTP","HTTPS"],"example":"HTTP","type":"string"},"req_uri":{"description":"请求地址。可以包含请求参数,用{}标识,比如/getUserInfo/{userId},支持 * % - _ .等特殊字符,总长度不超过512,且满足URI规范。\n\n支持环境变量,使用环境变量时,每个变量名的长度为3 ~ 32位的字符串,字符串由英文字母、数字、中划线、下划线组成,且只能以英文开头。\n\n> 需要服从URI规范。","example":"/bechmark","type":"string"},"retry_count":{"default":"-1","description":"服务集成请求后端服务的重试次数,默认为-1,范围[-1,10]","example":"1","type":"string"},"timeout":{"description":"服务集成请求后端服务的超时时间。最大超时时间可通过实例特性backend_timeout配置修改,可修改的上限为600000\n\n单位:毫秒。","example":3000,"format":"int32","minimum":1,"type":"integer"},"url_domain":{"description":"后端服务的地址。不使用vpc通道时,url_domain为必填。\n\n\n由主机(IP或域名)和端口号组成,总长度不超过255。格式为主机:端口(如:apig.example.com:7443)。如果不写端口,则HTTPS默认端口号为443,HTTP默认端口号为80。\n\n\n支持环境变量,使用环境变量时,每个变量名的长度为3 ~ 32位的字符串,字符串由英文字母、数字、下划线、中划线组成,且只能以英文开头","example":"apig.example.com:7443","type":"string"},"version":{"description":"web后端版本,字符长度不超过16","example":"v1","type":"string"}},"required":["req_protocol","req_method","req_uri","timeout"]},"BackendApiCreate":{"allOf":[{"$ref":"#/definitions/BackendApiBaseInfo"},{"properties":{"vpc_channel_info":{"$ref":"#/definitions/VpcInfo"},"vpc_channel_status":{"description":"是否使用VPC通道\n- 1:使用VPC通道\n- 2:不使用VPC通道","enum":[1,2],"example":1,"format":"int32","type":"integer"}},"type":"object"}],"description":"web后端详情"},"BackendParam":{"allOf":[{"$ref":"#/definitions/BackendParamBase"},{"properties":{"id":{"description":"参数编号","type":"string"},"req_param_id":{"description":"对应的请求参数编号","type":"string"}},"type":"object"}]},"BackendParamBase":{"properties":{"location":{"description":"参数位置:PATH、QUERY、HEADER","enum":["PATH","QUERY","HEADER"],"example":"QUERY","type":"string"},"name":{"description":"参数名称。\n字符串由英文字母、数字、中划线、下划线、英文句号组成,且只能以英文开头。","example":"backParamName","maxLength":32,"minLength":1,"pattern":"^[a-zA-Z][a-zA-Z0-9._-]{0,31}$","type":"string"},"origin":{"description":"参数类别:REQUEST、CONSTANT、SYSTEM","enum":["REQUEST","CONSTANT","SYSTEM"],"example":"REQUEST","type":"string"},"remark":{"description":"描述。\n> 中文字符必须为UTF-8或者unicode编码。","example":"后端参数描述","maxLength":255,"type":"string"},"value":{"description":"参数值。字符长度不超过255\norigin类别为REQUEST时,此字段值为req_params中的参数名称;\n\norigin类别为CONSTANT时,此字段值为参数真正的值;\n\norigin类别为SYSTEM时,此字段值为系统参数名称,系统参数分为网关内置参数、前端认证参数和后端认证参数,当api前端安全认证方式为自定义认证时,可以填写前端认证参数,当api开启后端认证时,可以填写后端认证参数。\n\n网关内置参数取值及对应含义:\n- $context.sourceIp:API调用者的源地址\n- $context.stage:API调用的部署环境\n- $context.apiName: API的名称\n- $context.apiId:API的ID\n- $context.appName: API调用者的APP对象名称\n- $context.appId:API调用者的APP对象ID\n- $context.requestId:当次API调用生成跟踪ID\n- $context.serverAddr:网关的服务器地址\n- $context.serverName:网关的服务器名称\n- $context.handleTime:本次API调用的处理时间\n- $context.providerAppId:API拥有者的应用对象ID,暂不支持使用\n- $context.clientCertCN:开启客户端认证时,本次API调用携带的客户端证书CN\n\n前端认证参数取值:以“$context.authorizer.frontend.”为前缀,如希望自定义认证校验通过返回的参数为aaa,那么此字段填写为$context.authorizer.frontend.aaa\n\n后端认证参数取值:以“$context.authorizer.backend.”为前缀,如希望自定义认证校验通过返回的参数为aaa,那么此字段填写为$context.authorizer.backend.aaa","example":"paramName","maxLength":255,"type":"string"}},"required":["name","location","origin","value"]},"ConditionResp":{"allOf":[{"$ref":"#/definitions/ApiConditionBase"},{"properties":{"id":{"description":"编号","type":"string"},"req_param_id":{"description":"关联的请求参数对象编号","type":"string"},"req_param_location":{"description":"关联的请求参数对象位置","type":"string"}},"type":"object"}]},"FunctionApiBaseInfo":{"description":"函数后端详情","properties":{"alias_urn":{"description":"函数别名URN\n \n当函数别名URN和函数版本同时传入时,函数版本将被忽略,只会使用函数别名URN","example":"urn:fss:region01:73d69ae0cfcf460190522d06b60f05ad:function:default:auto_testfunc00000:!a1","type":"string"},"authorizer_id":{"description":"后端自定义认证ID","example":"5b8cd3f06f004115aec69c58f57272c9","pattern":"^[a-zA-Z0-9-_]{0,64}$","type":"string"},"function_urn":{"description":"函数URN","example":"'urn:fss:region01:73d69ae0cfcf460190522d06b60f05ad:function:default:auto_testfunc00000'","type":"string"},"invocation_type":{"description":"调用类型\n- async: 异步\n- sync:同步","enum":["async","sync"],"example":"async","type":"string"},"network_type":{"default":"V1","description":"对接函数的网络架构类型\n- V1:非VPC网络架构\n- V2:VPC网络架构","enum":["V1","V2"],"example":"V1","type":"string"},"remark":{"description":"描述信息。\n> 中文字符必须为UTF-8或者unicode编码。","example":"描述信息","maxLength":255,"type":"string"},"timeout":{"description":"服务集成请求后端服务的超时时间。最大超时时间可通过实例特性backend_timeout配置修改,可修改的上限为600000\n\n单位:毫秒。","example":3000,"format":"int32","minimum":1,"type":"integer"},"version":{"description":"函数版本\n \n当函数别名URN和函数版本同时传入时,函数版本将被忽略,只会使用函数别名URN","example":"latest","maxLength":64,"type":"string"}},"required":["function_urn","invocation_type","timeout"]},"MockApiBaseInfo":{"description":"mock后端详情","properties":{"authorizer_id":{"description":"后端自定义认证ID","example":"966bc52ccf824b088f2f3d14ac994194","pattern":"^[a-zA-Z0-9-_]{0,64}$","type":"string"},"header":{"description":"mock后端自定义响应头header\n\n格式:[{\"key\":\"\",\"value\": \"\", \"remark:\"\"}, {\"key2\":\"\",\"value2\": \"\",\"remark2:\"\"}]\n\n参数说明:\n\nkey:mock后端自定义响应头header key, 支持英文,数字,中划线,且只能以英文字母或数字开头,1 ~ 64字符\n\nvalue: mock后端自定义响应头header value,中文字符必须为UTF-8或者unicode编码, 不能为空,最大长度为10240\n\nremark:mock后端自定义响应头header remark,中文字符必须为UTF-8 或者unicode编码,可以为空,最大长度为2048","example":"[{\"key\":\"Content-Type\", \"value\":\"application/json\", \"remark\":\"remark1\"}]","type":"string"},"remark":{"description":"描述信息。\n> 中文字符必须为UTF-8或者unicode编码。","example":"描述信息","maxLength":255,"type":"string"},"result_content":{"description":"返回结果","example":"返回结果成功","type":"string"},"status_code":{"description":"mock后端自定义状态码:\n\"200\": \"OK\",\n\"201\": \"Created\",\n\"202\": \"Accepted\",\n\"203\": \"NonAuthoritativeInformation\",\n\"204\": \"NoContent\",\n\"205\": \"ResetContent\",\n\"206\": \"PartialContent\",\n\"300\": \"MultipleChoices\",\n\"301\": \"MovedPermanently\",\n\"302\": \"Found\",\n\"303\": \"SeeOther\",\n\"304\": \"NotModified\",\n\"305\": \"UseProxy\",\n\"306\": \"Unused\",\n\"307\": \"TemporaryRedirect\",\n\"400\": \"BadRequest\",\n\"401\": \"Unauthorized\",\n\"402\": \"PaymentRequired\",\n\"403\": \"Forbidden\",\n\"404\": \"NotFound\",\n\"405\": \"MethodNotAllowed\",\n\"406\": \"NotAcceptable\",\n\"407\": \"ProxyAuthenticationRequired\",\n\"408\": \"RequestTimeout\",\n\"409\": \"Conflict\",\n\"410\": \"Gone\",\n\"411\": \"LengthRequired\",\n\"412\": \"PreconditionFailed\",\n\"413\": \"RequestEntityTooLarge\",\n\"414\": \"RequestURITooLong\",\n\"415\": \"UnsupportedMediaType\",\n\"416\": \"RequestedRangeNotSatisfiable\",\n\"417\": \"ExpectationFailed\",\n\"450\": \"ParameterRequried\",\n\"451\": \"MethodConnectException\",\n\"500\": \"InternalServerError\",\n\"501\": \"NotImplemented\",\n\"502\": \"BadGateway\",\n\"503\": \"ServiceUnavailable\",\n\"504\": \"GatewayTimeout\",\n\"505\": \"HTTPVersionNotSupported\",","enum":[200,201,202,203,204,205,206,300,301,302,303,304,305,306,307,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,450,451,500,501,502,503,504,505],"example":200,"format":"int32","type":"integer"},"version":{"description":"版本。字符长度不超过64","example":"v1","type":"string"}}},"ReqParam":{"allOf":[{"$ref":"#/definitions/ReqParamBase"},{"properties":{"id":{"description":"参数编号","type":"string"}},"type":"object"}]},"ReqParamBase":{"properties":{"default_value":{"description":"参数默认值","example":"参数默认值","type":"string"},"enumerations":{"description":"参数枚举值","type":"string"},"json_schema":{"description":"JSON校验规则\n\n暂不支持","type":"string"},"location":{"description":"参数位置","enum":["PATH","QUERY","HEADER"],"example":"QUERY","type":"string"},"max_num":{"description":"参数最大值\n\n参数类型为NUMBER时有效","format":"int32","type":"integer"},"max_size":{"description":"参数最大长度\n\n参数类型为STRING时有效","format":"int32","type":"integer"},"min_num":{"description":"参数最小值\n\n参数类型为NUMBER时有效","format":"int32","type":"integer"},"min_size":{"description":"参数最小长度\n\n参数类型为STRING时有效","format":"int32","type":"integer"},"name":{"description":"参数名称。\n由英文字母、数字、中划线、下划线、英文句号组成,且只能以英文开头。","example":"paramName","maxLength":32,"minLength":1,"pattern":"^[a-zA-Z][a-zA-Z0-9._-]{0,31}$","type":"string"},"orchestrations":{"description":"请求参数编排规则列表,该参数暂不支持\n\n请求参数匹配编排规则的生效优先级与列表顺序保持一致,列表中靠前的配置匹配优先级较高\n\n每个API仅允许选择一个参数绑定编排规则,且编排规则不能重复,支持绑定的编排规则数量有配额限制,具体请参见产品介绍的“配额说明”章节","items":{"type":"string"},"minItems":0,"type":"array"},"pass_through":{"description":"是否透传\n- 1:是\n- 2:否","enum":[1,2],"format":"int32","type":"integer"},"regular":{"description":"正则校验规则\n\n暂不支持","type":"string"},"remark":{"description":"描述信息。\n> 中文字符必须为UTF-8或者unicode编码。","example":"描述信息","maxLength":255,"type":"string"},"required":{"description":"是否必须\n- 1:是\n- 2:否\n\nlocation为PATH时,required默认为1,其他场景required默认为2","enum":[1,2],"example":1,"format":"int32","type":"integer"},"sample_value":{"description":"参数示例值","example":"参数示例值","type":"string"},"type":{"description":"参数类型","enum":["STRING","NUMBER"],"example":"STRING","type":"string"},"valid_enable":{"default":2,"description":"是否开启校验\n- 1:开启校验\n- 2:不开启校验","enum":[1,2],"example":1,"format":"int32","type":"integer"}},"required":["name","type","location"]},"ResponseModel":{"properties":{"error_code":{"description":"错误码","type":"string"},"error_msg":{"description":"错误描述","type":"string"}},"required":["error_code","error_msg"]},"SslInfo":{"properties":{"algorithm_type":{"description":"证书算法类型:\n- RSA\n- ECC\n- SM2","enum":["RSA","ECC","SM2"],"example":"RSA","type":"string"},"ssl_id":{"description":"SSL证书编号","example":"ddsa83b07744e8eb1872d695ed4743b","type":"string"},"ssl_name":{"description":"SSL证书名称","example":"certificate","type":"string"},"type":{"default":"global","description":"证书可见范围:\n- instance:当前实例\n- global:全局","enum":["instance","global"],"example":"instance","type":"string"}}},"UrlDomain":{"properties":{"cname_status":{"description":"域名cname状态:\n- 1:未解析\n- 2:解析中\n- 3:解析成功\n- 4:解析失败","example":3,"format":"int32","type":"integer"},"domain":{"description":"访问域名","example":"domain.com","type":"string"},"id":{"description":"域名编号","example":"e91b83b07744e8eb1872d695ed4743b","type":"string"},"is_has_trusted_root_ca":{"default":false,"description":"是否存在信任的根证书CA。当绑定证书存在trusted_root_ca时为true。","example":false,"type":"boolean"},"min_ssl_version":{"default":"TLSv1.1","description":"最小ssl协议版本号。支持TLSv1.1或TLSv1.2","enum":["TLSv1.1","TLSv1.2"],"example":"TLSv1.1","type":"string"},"ssl_id":{"description":"SSL证书编号","example":"ddsa83b07744e8eb1872d695ed4743b","type":"string"},"ssl_infos":{"description":"SSL证书列表","items":{"$ref":"#/definitions/SslInfo"},"type":"array"},"ssl_name":{"description":"SSL证书名称","example":"certificate","type":"string"},"verified_client_certificate_enabled":{"default":false,"description":"是否开启客户端证书校验。只有绑定证书时,该参数才生效。当绑定证书存在trusted_root_ca时,默认开启;当绑定证书不存在trusted_root_ca时,默认关闭。","example":false,"type":"boolean"}}},"VpcBaseInfo":{"properties":{"cascade_flag":{"description":"是否使用级联方式\n\n暂不支持","type":"boolean"},"ecs_id":{"description":"云服务器ID","type":"string"},"ecs_name":{"description":"云服务器名称","type":"string"}}},"VpcInfo":{"allOf":[{"$ref":"#/definitions/VpcBaseInfo"},{"properties":{"vpc_channel_id":{"description":"VPC通道编号","example":"7efb2b91155a4f6a9f45c5c95a6e4950","maxLength":64,"type":"string"},"vpc_channel_port":{"description":"VPC通道端口","type":"integer"},"vpc_channel_proxy_host":{"description":"代理主机","example":"www.example.com","type":"string"}},"type":"object"}],"description":"VPC通道详情。如果vpc_channel_status = 1,则这个object类型为必填信息","required":["vpc_channel_id"]}},"description":null,"group_id":"025d125ee4da4956af037c3315e94b30","host":"roma.cn-north-4.myhuaweicloud.com","id":"e8352d19e10f409781b51c144c502059","info_version":"v2","method":"post","name":"CreateApiV2","parameters":{"apic_instance_id":{"description":"实例ID","in":"path","name":"instance_id","required":true,"type":"string","x-example":"f0fa1789-3b76-433b-a787-9892951c620e"},"apic_project_id":{"description":"项目ID,获取方式请参见API参考的“附录 > 获取项目ID”章节。","in":"path","name":"project_id","required":true,"type":"string","x-example":"73d69ae0cfcf460190522d06b60f05ad"},"apic_x_auth_token":{"description":"用户Token。通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."}},"paths":{"/v2/{project_id}/apic/instances/{instance_id}/apis":{"post":{"description":"添加一个API,API即一个服务接口,具体的服务能力。\nAPI分为两部分,第一部分为面向API使用者的API接口,定义了使用者如何调用这个API。第二部分面向API提供者,由API提供者定义这个API的真实的后端情况,定义了ROMA Connect如何去访问真实的后端服务。API的真实后端服务目前支持的类型:传统的HTTP/HTTPS形式的web后端、函数工作流、MOCK。","operationId":"CreateApiV2","parameters":[{"$ref":"#/parameters/apic_x_auth_token"},{"$ref":"#/parameters/apic_project_id"},{"$ref":"#/parameters/apic_instance_id"},{"description":"注册API的请求体","in":"body","name":"CreateApiV2RequestBody","required":true,"schema":{"$ref":"#/definitions/ApiCreate"}}],"responses":{"201":{"description":"Created","examples":{"application/json":{"api_group_info":{"id":"02b157a33b394babb0b08c010bc3d76b","name":"api_group","on_sell_status":2,"register_time":"2022-02-09T02:46:31Z","sl_domain":"02b157a33b394babb0b08c010bc3d76b.apic.****.com","status":1,"update_time":"2022-02-09T02:46:31Z","url_domains":[{"cname_status":3,"domain":"domain.com","id":"e91b83b07744e8eb1872d695ed4743b","min_ssl_version":"TLSv1.1","ssl_id":"ddsa83b07744e8eb1872d695ed4743b","ssl_name":"certificate"}]},"arrange_necessary":2,"auth_opt":{"app_code_auth_type":"DISABLE"},"auth_type":"APP","authorizer_id":"","backend_api":{"authorizer_id":"","enable_client_ssl":false,"id":"86686e62cabe44b392ad4a0856165e92","register_time":"2022-02-09T02:46:36.914978278Z","remark":"","req_method":"GET","req_protocol":"HTTP","req_uri":"/test/bechmark","retry_count":"-1","status":1,"timeout":5000,"update_time":"2022-02-09T02:46:36.914978525Z","url_domain":"10.10.10.156:12346","version":"","vpc_channel_info":{"cascade_flag":false,"vpc_channel_id":"","vpc_channel_port":0},"vpc_channel_status":2},"backend_params":[{"id":"709f0ea376b44aaf907aaaa37d8cce92","location":"HEADER","name":"backHeader","origin":"REQUEST","req_param_id":"8d993be96980415faa6b1fb2ebd647e0","value":"header-demo"},{"id":"2f152d0fb54445039158d29c2a4f69ee","location":"QUERY","name":"backQuery","origin":"REQUEST","req_param_id":"57c8bf3c97ef40ee94eace95dff30014","value":"query_demo"},{"id":"20142102c6aa4f3c97d5fd6ef4010ac2","location":"HEADER","name":"X-CONSTANT-HEADER","origin":"CONSTANT","remark":"constant_demo","value":"demo"},{"id":"a1349c61016e4d999ca783a50bfeee2b","location":"HEADER","name":"app-id","origin":"SYSTEM","remark":"Application ID of the invoker.","value":"$context.appId"}],"backend_type":"HTTP","body_remark":"","cors":false,"domain_name":"","func_info":null,"group_id":"c77f5e81d9cb4424bf704ef2b0ac7600","group_name":"api_group_001","group_version":"V2","id":"5f918d104dc84480a75166ba99efff21","ld_api_id":"","match_mode":"NORMAL","mock_info":null,"name":"Api_http","policy_functions":null,"policy_https":[],"policy_mocks":null,"publish_id":"","register_time":"2022-02-09T02:46:36.913996908Z","remark":"Web backend API","req_method":"GET","req_params":[{"id":"57c8bf3c97ef40ee94eace95dff30014","location":"QUERY","name":"query_demo","pass_through":1,"required":1,"type":"STRING","valid_enable":2},{"id":"8d993be96980415faa6b1fb2ebd647e0","location":"HEADER","name":"header-demo","pass_through":1,"required":2,"type":"STRING","valid_enable":2}],"req_protocol":"HTTP","req_uri":"/test/http","result_failure_sample":"Failure response example","result_normal_sample":"Normal response example","roma_app_id":"957dcd1e-d8f4-432e-8e71-df55cf772aba","roma_app_name":"app-htyr","run_env_id":"","run_env_name":"","status":1,"tag":"","tags":["webApi"],"type":1,"update_time":"2022-02-09T02:46:36.913997175Z","version":"V2"},"application/json-1":{"api_group_info":{"id":"c77f5e81d9cb4424bf704ef2b0ac7600","name":"api_group","on_sell_status":2,"register_time":"2020-08-02T15:56:52Z","sl_domain":"c77f5e81d9cb4424bf704ef2b0ac7600.apic.****.com","status":1,"update_time":"2020-08-02T15:56:52Z","url_domains":[{"cname_status":3,"domain":"domain.com","id":"e91b83b07744e8eb1872d695ed4743b","min_ssl_version":"TLSv1.1","ssl_id":"ddsa83b07744e8eb1872d695ed4743b","ssl_name":"certificate"}]},"arrange_necessary":2,"auth_opt":{"auth_code_auth_type":"DISABLE"},"auth_type":"APP","authorizer_id":"","backend_api":null,"backend_params":[],"backend_type":"FUNCTION","body_remark":"","cors":false,"domain_name":"www.sss.com","func_info":{"alias_urn":"urn:fss:region01:73d69ae0cfcf460190522d06b60f05ad:function:default:auto_testfunc93749:!a1","authorizer_id":"5b8cd3f06f004115aec69c58f57272c9","function_urn":"'urn:fss:region01:73d69ae0cfcf460190522d06b60f05ad:function:default:auto_testfunc93749'","id":"c0740524cd4c40e3801a7afe5375f8b0","invocation_type":"sync","network_type":"V1","register_time":"2020-08-02T15:36:19.897262803Z","remark":"","status":1,"timeout":5000,"update_time":"2020-08-02T15:36:19.897262993Z","version":"latest"},"group_id":"c77f5e81d9cb4424bf704ef2b0ac7600","group_name":"api_group_001","group_version":"V1","id":"abd9c4b2ff974888b0ba79be7e6b2763","ld_api_id":"","match_mode":"NORMAL","mock_info":null,"name":"Api_function","policy_functions":null,"policy_https":null,"policy_mocks":[],"publish_id":"","publish_time":"","register_time":"2020-08-02T15:56:52.286099413Z","remark":"FunctionGraph backend API","req_method":"GET","req_params":[],"req_protocol":"HTTPS","req_uri":"/test/function","result_failure_sample":"Failure response example","result_normal_sample":"Normal response example","roma_app_id":"f77f5e81d9cb4424bf704ef2b0ac7690","roma_app_name":"app-dfge","run_env_id":"","run_env_name":"","status":1,"tag":"","tags":["functionApi"],"type":1,"update_time":"2020-08-02T15:56:52.286099715Z","version":"V0.0.1"},"application/json-2":{"api_group_info":{"id":"c77f5e81d9cb4424bf704ef2b0ac7600","name":"api_group","on_sell_status":2,"register_time":"2020-08-02T15:56:52Z","sl_domain":"c77f5e81d9cb4424bf704ef2b0ac7600.apic.****.com","status":1,"update_time":"2020-08-02T15:56:52Z","url_domains":[{"cname_status":3,"domain":"domain.com","id":"e91b83b07744e8eb1872d695ed4743b","min_ssl_version":"TLSv1.1","ssl_id":"ddsa83b07744e8eb1872d695ed4743b","ssl_name":"certificate"}]},"arrange_necessary":2,"auth_opt":{"auth_code_auth_type":"DISABLE"},"auth_type":"APP","authorizer_id":"","backend_api":null,"backend_params":[],"backend_type":"MOCK","body_remark":"","cors":false,"domain_name":"www.sss.com","func_info":null,"group_id":"c77f5e81d9cb4424bf704ef2b0ac7600","group_name":"api_group_001","group_version":"V1","id":"3a955b791bd24b1c9cd94c745f8d1aad","ld_api_id":"","match_mode":"SWA","mock_info":{"authorizer_id":"","header":[],"id":"e74bbc75825c4c38ae84ccab6bdc6175","register_time":"2020-08-02T15:56:52.301790367Z","remark":"","result_content":"mock success","status":1,"status_code":200,"update_time":"2020-08-02T15:56:52.301790686Z","version":"m1"},"name":"Api_mock","policy_functions":null,"policy_https":null,"policy_mocks":[],"publish_id":"","publish_time":"","register_time":"2020-08-02T15:56:52.286099413Z","remark":"Mock backend API","req_method":"GET","req_params":[],"req_protocol":"HTTPS","req_uri":"/test/mock","result_failure_sample":"Failure response example","result_normal_sample":"Normal response example","roma_app_id":"f77f5e81d9cb4424bf704ef2b0ac7690","roma_app_name":"app-dfge","run_env_id":"","run_env_name":"","status":1,"tag":"","tags":["mockApi"],"type":1,"update_time":"2020-08-02T15:56:52.286099715Z","version":"V0.0.1"}},"schema":{"$ref":"#/definitions/ApiInfo"}},"400":{"description":"Bad Request","examples":{"application/json":{"error_code":"APIG.2011","error_msg":"Invalid parameter value,parameterName:name. Please refer to the support documentation"}},"schema":{"$ref":"#/definitions/ResponseModel"}},"401":{"description":"Unauthorized","examples":{"application/json":{"error_code":"APIG.1002","error_msg":"Incorrect token or token resolution failed"}},"schema":{"$ref":"#/definitions/ResponseModel"}},"403":{"description":"Forbidden","examples":{"application/json":{"error_code":"APIG.1005","error_msg":"No permissions to request this method"}},"schema":{"$ref":"#/definitions/ResponseModel"}},"404":{"description":"Not Found","examples":{"application/json":{"error_code":"APIG.3019","error_msg":"The function URN does not exist"}},"schema":{"$ref":"#/definitions/ResponseModel"}},"500":{"description":"Internal Server Error","examples":{"application/json":{"error_code":"APIG.9999","error_msg":"System error"}},"schema":{"$ref":"#/definitions/ResponseModel"}}},"schemes":["https"],"summary":"创建API","tags":["API管理"],"x-api-version":"v2","x-apigateway-request-type":"public","x-hybridcloud":true,"x-is-registered":"Y","x-open-region-cloud":"hc,hcso","x-order":1,"x-request-examples-1":{"auth_type":"AUTHORIZER","authorizer_id":"0d982c1ac3da493dae47627b6439fc5c","backend_api":{"req_method":"GET","req_protocol":"HTTP","req_uri":"/test/benchmark","timeout":5000,"url_domain":"10.10.10.156:12346"},"backend_params":[{"location":"HEADER","name":"backHeader","origin":"REQUEST","value":"header-demo"},{"location":"QUERY","name":"backQuery","origin":"REQUEST","value":"query_demo"},{"location":"HEADER","name":"X-CONSTANT-HEADER","origin":"CONSTANT","remark":"constant_demo","value":"demo"},{"location":"HEADER","name":"app-id","origin":"SYSTEM","remark":"Application ID of the invoker.","value":"$context.appId"}],"backend_type":"HTTP","group_id":"c77f5e81d9cb4424bf704ef2b0ac7600","match_mode":"NORMAL","name":"Api_http","remark":"Web backend API","req_method":"GET","req_params":[{"location":"QUERY","name":"query_demo","required":1,"type":"STRING"},{"location":"HEADER","name":"header-demo","required":2,"type":"STRING"}],"req_protocol":"HTTPS","req_uri":"/test/http","result_failure_sample":"Failure response example","result_normal_sample":"Normal response example","tags":["webApi"],"type":1},"x-request-examples-2":{"auth_type":"APP","backend_type":"FUNCTION","func_info":{"alias_urn":"urn:fss:region01:73d69ae0cfcf460190522d06b60f05ad:function:default:auto_testfunc93749:!a1","authorizer_id":"5b8cd3f06f004115aec69c58f57272c9","function_urn":"'urn:fss:region01:73d69ae0cfcf460190522d06b60f05ad:function:default:auto_testfunc93749'","invocation_type":"sync","network_type":"V1","timeout":5000,"version":"latest"},"group_id":"c77f5e81d9cb4424bf704ef2b0ac7600","match_mode":"NORMAL","name":"Api_function","remark":"FunctionGraph backend API","req_method":"GET","req_protocol":"HTTPS","req_uri":"/test/function","result_failure_sample":"Failure response example","result_normal_sample":"Normal response example","tags":["functionApi"],"type":1},"x-request-examples-3":{"auth_type":"APP","backend_type":"MOCK","group_id":"c77f5e81d9cb4424bf704ef2b0ac7600","match_mode":"SWA","mock_info":{"result_content":"mock success"},"name":"Api_mock","remark":"Mock backend API","req_method":"GET","req_protocol":"HTTPS","req_uri":"/test/mock","result_failure_sample":"Failure response example","result_normal_sample":"Normal response example","tags":["mockApi"],"type":1},"x-request-examples-description-1":"创建一个API,认证方式为自定义认证,匹配方式为绝对匹配,后端类型为Web后端,并自定义前端请求参数和后端请求参数","x-request-examples-description-2":"创建一个API,认证方式为APP认证,匹配方式为绝对匹配,后端类型为函数工作流[,Site暂时不支持该类型的后端API创建](tag:Site)","x-request-examples-description-3":"创建一个API,认证方式为APP认证,匹配方式为前缀匹配,后端类型为MOCK后端","x-romaconnect-mode":"huaweicloud,hybrid,on-premise","x-support-sdk":"Y"}}},"product_short":"ROMA","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建API","tags":"API管理","uri":null,"version":"2.0"}