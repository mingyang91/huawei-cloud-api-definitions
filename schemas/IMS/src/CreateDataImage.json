{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CreateDataImageRequestBody":{"description":"创建镜像请求体","properties":{"cmk_id":{"description":"创建加密镜像的用户主密钥,具体取值请参考《密钥管理服务用户指南》获取。","type":"string"},"description":{"description":"镜像描述信息。_description参数说明请参考镜像属性。支持字母、数字、中文等,不支持回车、<、 >,长度不能超过1024个字符。默认为空。","maxLength":1024,"minLength":0,"type":"string"},"enterprise_project_id":{"default":"0","description":"表示当前镜像所属的企业项目。取值为0或无该值,表示属于default企业项目;取值为UUID,表示属于该UUID对应的企业项目。","type":"string"},"image_tags":{"description":"新规范的镜像标签列表。默认为空。\ntags和image_tags只能使用一个。","items":{"$ref":"#/definitions/ImageTag","description":""},"type":"array","x-huawei-extraAnnotation":""},"image_url":{"description":"OBS桶中外部镜像文件地址。格式为<OBS桶名>:<OBS镜像文件名称>。 此处的OBS桶和镜像文件的存储类别必须是OBS标准存储。","type":"string"},"min_disk":{"description":"最小数据盘大小。取值范围40-2048GB。","format":"int32","maximum":2048,"minimum":40,"type":"integer"},"name":{"description":"镜像名称。","type":"string"},"os_type":{"description":"操作系统类型。只能是Windows、Linux二者之一,默认Linux。","enum":["Windows","Linux"],"type":"string"},"tags":{"description":"镜像标签列表。默认为空。\ntags和image_tags只能使用一个。","items":{"description":"","type":"string"},"type":"array","x-huawei-extraAnnotation":""}},"required":["image_url","min_disk","name"]},"ErrorMessageInfo":{"description":"错误信息","properties":{"code":{"description":"错误码","type":"string"},"message":{"description":"错误信息","type":"string"}},"required":["code","message"]},"FailResponseBody":{"description":"请求失败响应体","properties":{"error":{"$ref":"#/definitions/ErrorMessageInfo","description":"请求失败响应体","example":"{ \"error\": {\"message\": \"string.\", \"code\": \"string\" } }"}},"required":["error"]},"ImageTag":{"description":"镜像标签","properties":{"key":{"description":"标签key值","example":"key1","type":"string"},"value":{"description":"标签value值","example":"value1","type":"string"}}},"JobResultBody":{"description":"异步任务响应体","properties":{"job_id":{"description":"异步任务ID。","example":"4010a32b5f909853015f90aaa24b0015","type":"string"}},"required":["job_id"]}},"description":null,"group_id":"15afdecd4f8c4fd88190ef8e57094cd5","host":"ims.cn-north-4.myhuaweicloud.com","id":"2549a906db694631beedaa94425b080d","info_version":"v2","method":"post","name":"CreateDataImage","parameters":{},"paths":{"/v1/cloudimages/dataimages/action":{"post":{"consumes":[],"deprecated":false,"description":"使用上传至OBS桶中的外部数据卷镜像文件制作数据镜像。作为异步接口,调用成功,只是说明后台收到了制作请求,镜像是否制作成功需要通过异步任务查询接口查询该任务的执行状态。具体请参考异步任务查询。","operationId":"CreateDataImage","parameters":[{"description":"用户Token,使用Token认证时该字段必选。","in":"header","name":"X-Auth-Token","required":false,"type":"string","x-order":1},{"description":"请求参数","in":"body","name":"bodyparam","required":true,"schema":{"$ref":"#/definitions/CreateDataImageRequestBody"},"x-order":2}],"produces":[],"responses":{"200":{"description":"正常","examples":{"application/json":{"job_id":"4010a32b5f909853015f90aaa24b0015"}},"schema":{"$ref":"#/definitions/JobResultBody"}},"400":{"description":"Bad Request  请求错误。","schema":{"$ref":"#/definitions/FailResponseBody"}},"401":{"description":"Unauthorized  鉴权失败。","schema":{"$ref":"#/definitions/FailResponseBody"}},"403":{"description":"Forbidden  没有操作权限。","schema":{"$ref":"#/definitions/FailResponseBody"}},"404":{"description":"Not Found  找不到资源。","schema":{"$ref":"#/definitions/FailResponseBody"}},"500":{"description":"Internal Server Error  服务内部错误。","schema":{"$ref":"#/definitions/FailResponseBody"}},"503":{"description":"Service Unavailable  服务不可用。","schema":{"$ref":"#/definitions/FailResponseBody"}}},"summary":"使用外部镜像文件制作数据镜像","tags":["镜像"],"x-apiexplorer-hide":"","x-apigateway-auth-type":"IAM","x-apigateway-match-mode":"NORMAL","x-apigateway-request-type":"public","x-call_frequency":"medium","x-constraint":"数据盘镜像必须明确指定操作系统类型,只能是Windows或Linux。\n云硬盘容量大小范围为40-2048GB。\n上传外部镜像文件到OBS桶时,OBS桶和镜像文件的存储类别必须是OBS标准存储。","x-ctc":"Y","x-first_open_time":"2016-09-30","x-flow_control_group":"glance21","x-hc":"Y","x-hcso":"","x-hk":"Y","x-hybridcloud":true,"x-in_cli":"","x-is_calling":"Y","x-is_registered":"Y","x-multi_tenant_flow_time":5,"x-multi_tenant_flow_value":40,"x-name":"使用外部镜像文件制作数据镜像","x-obc":"Y","x-open-region-cloud":"hc,hk","x-order":5,"x-otc":"Y","x-publishpath":"","x-request-examples-1":{"description":"fedora的数据盘1","image_url":"image-test:fedora_data1.qcow2","min_disk":40,"name":"fedora-data1","os_type":"Linux","tags":["aaa.111","bbb.222"]},"x-request-examples-2":{"description":"fedora的数据盘2","image_tags":[{"key":"aaa","value":"111"},{"key":"bbb","value":"222"}],"image_url":"image-test:fedora_data1.qcow2","min_disk":40,"name":"fedora-data2","os_type":"Linux"},"x-request-examples-description-1":"使用tags参数的请求样例","x-request-examples-description-2":"使用image_tags参数的请求样例","x-request-examples-text-1":"{\n  \"name\": \"fedora-data1\",\n  \"image_url\": \"image-test:fedora_data1.qcow2\",\n  \"description\": \"fedora的数据盘1\",\n  \"min_disk\": 40,\n  \"tags\": [\n    \"aaa.111\",\n    \"bbb.222\"\n  ],\n  \"os_type\": \"Linux\"\n}\n","x-request-examples-text-2":"{\n  \"name\": \"fedora-data2\",\n  \"image_url\": \"image-test:fedora_data1.qcow2\",\n  \"description\": \"fedora的数据盘2\",\n  \"min_disk\": 40,\n  \"image_tags\": [{\"key\":\"aaa\",\"value\":\"111\"},{\"key\":\"bbb\",\"value\":\"222\"}],\n  \"os_type\": \"Linux\"\n}\n","x-request-examples-url-1":"POST https://{Endpoint}/v1/cloudimages/dataimages/action","x-request-examples-url-2":"POST https://{Endpoint}/v1/cloudimages/dataimages/action","x-sbc":"","x-scope":"Commercial","x-source":"SelfDeveloped","x-source_url":"","x-support-sdk":"Y","x-tenant_flow_time":5,"x-tenant_flow_value":20,"x-timeout":"200s","x-tlf":"Y","x-un_cli":"","x-version":"v1"}}},"product_short":"IMS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"使用外部镜像文件制作数据镜像","tags":"镜像","uri":null,"version":"2.0"}