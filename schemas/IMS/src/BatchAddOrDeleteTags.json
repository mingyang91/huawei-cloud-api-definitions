{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"BatchAddOrDeleteTagsRequestBody":{"description":"镜像标签请求体","properties":{"action":{"description":"要进行的标签操作,区分大小写。支持create、delete,分别用于批量地创建/更新、删除标签。","enum":["create","delete"],"type":"string"},"tags":{"description":"需要增加、修改或者删除的标签键值对集合。","items":{"$ref":"#/definitions/ResourceTag","description":""},"type":"array","x-huawei-extraAnnotation":""}},"required":["action","tags"]},"ErrorMessageInfo":{"description":"错误信息","properties":{"code":{"description":"错误码","type":"string"},"message":{"description":"错误信息","type":"string"}},"required":["code","message"]},"FailResponseBody":{"description":"请求失败响应体","properties":{"error":{"$ref":"#/definitions/ErrorMessageInfo","description":"请求失败响应体","example":"{ \"error\": {\"message\": \"string.\", \"code\": \"string\" } }"}},"required":["error"]},"ResourceTag":{"description":"标签键值","properties":{"key":{"description":"标签的键","type":"string"},"value":{"description":"标签的值","type":"string"}},"required":["key","value"]}},"description":null,"group_id":"15afdecd4f8c4fd88190ef8e57094cd5","host":"ims.cn-north-4.myhuaweicloud.com","id":"ede9d86db89d46719f6d18bfa95da7a9","info_version":"v2","method":"post","name":"BatchAddOrDeleteTags","parameters":{},"paths":{"/v2/{project_id}/images/{image_id}/tags/action":{"post":{"consumes":[],"deprecated":false,"description":"该接口用于为指定镜像批量添加/更新、删除标签。","operationId":"BatchAddOrDeleteTags","parameters":[{"description":"用户Token,使用Token认证时该字段必选。","in":"header","name":"X-Auth-Token","required":false,"type":"string","x-order":1},{"description":"请求参数","in":"body","name":"bodyparam","required":true,"schema":{"$ref":"#/definitions/BatchAddOrDeleteTagsRequestBody"},"x-order":2},{"description":"镜像ID。","in":"path","name":"image_id","required":true,"type":"string","x-order":3},{"description":"项目ID。","in":"path","name":"project_id","required":true,"type":"string","x-order":4}],"produces":[],"responses":{"204":{"description":"正常"},"400":{"description":"Bad Request  请求错误。","schema":{"$ref":"#/definitions/FailResponseBody"}},"401":{"description":"Unauthorized  鉴权失败。","schema":{"$ref":"#/definitions/FailResponseBody"}},"403":{"description":"Forbidden  没有操作权限。","schema":{"$ref":"#/definitions/FailResponseBody"}},"404":{"description":"Not Found  找不到资源。","schema":{"$ref":"#/definitions/FailResponseBody"}},"500":{"description":"Internal Server Error  服务内部错误。","schema":{"$ref":"#/definitions/FailResponseBody"}},"503":{"description":"Service Unavailable  服务不可用。","schema":{"$ref":"#/definitions/FailResponseBody"}}},"summary":"批量添加删除镜像标签","tags":["镜像标签"],"x-apiexplorer-hide":"false","x-constraint":"每个标签由键值对组成,标签的key的长度不超过36个字符,value的长度不超过43个字符。key不能为空或者空白字符串,value不能为空,但可以是空白字符串。\n单个镜像最多添加10个标签。请求体中的多个标签的key不允许重复。\n此接口为幂等接口:\n创建时,如果创建的标签已经存在,即key相同而value不同,则更新对应标签;如果创建的标签已经存在,key/value均相同,则不进行重复添加,视为添加成功。\n删除时,如果指定的标签不存在,则默认视为删除成功。\n批量删除时对key、value的限制:删除时,对标签的key、value不做字符集范围校验,key不允许为空或空白字符串;value为可选,且不对value做校验。如果要删除的标签不存在,视为删除成功,不报错。删除时,对标签的key、value做长度校验,标签的key不超过127,value不超过255。","x-first-open-time":"2016-09-30","x-hybridcloud":"true","x-is-registered":"Y","x-name":"批量添加删除镜像标签","x-open-region-cloud":"hc,hk,tlf,ctc,obc","x-order":7,"x-publishpath":"","x-request-examples-1":{"action":"create","tags":[{"key":"key1","value":"value1"},{"key":"key2","value":"value2"},{"key":"key3","value":""}]},"x-request-examples-2":{"action":"delete","tags":[{"key":"key1","value":"value1"},{"key":"key2","value":"value2"},{"key":"key3","value":""}]},"x-request-examples-description-1":"批量添加镜像标签请求样例","x-request-examples-description-2":"批量删除镜像标签请求样例","x-request-examples-text-1":"{\n\t\"tags\": [{\n\t\t\"value\": \"value1\",\n\t\t\"key\": \"key1\"\n\t}, {\n\t\t\"value\": \"value2\",\n\t\t\"key\": \"key2\"\n\t}, {\n\t\t\"value\": \"\",\n\t\t\"key\": \"key3\"\n\t}],\n\t\"action\": \"create\"\n}","x-request-examples-text-2":"{\n\t\"tags\": [{\n\t\t\"value\": \"value1\",\n\t\t\"key\": \"key1\"\n\t}, {\n\t\t\"value\": \"value2\",\n\t\t\"key\": \"key2\"\n\t}, {\n\t\t\"value\": \"\",\n\t\t\"key\": \"key3\"\n\t}],\n\t\"action\": \"delete\"\n}","x-request-examples-url-1":"POST https://{Endpoint}/v2/fd73a4a14a4a4dfb9771a8475e5198ea/images/67e17426-359e-49fb-aa12-0bd1756ec240/tags/action","x-request-examples-url-2":"POST https://{Endpoint}/v2/fd73a4a14a4a4dfb9771a8475e5198ea/images/67e17426-359e-49fb-aa12-0bd1756ec240/tags/action","x-scope":"Commercial","x-source":"SelfDeveloped","x-support-sdk":"Y","x-version":"v2"}}},"product_short":"IMS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"批量添加删除镜像标签","tags":"镜像标签","uri":null,"version":"2.0"}