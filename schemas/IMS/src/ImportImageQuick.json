{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"ErrorMessageInfo":{"description":"错误信息","properties":{"code":{"description":"错误码","type":"string"},"message":{"description":"错误信息","type":"string"}},"required":["code","message"]},"FailResponseBody":{"description":"请求失败响应体","properties":{"error":{"$ref":"#/definitions/ErrorMessageInfo","description":"请求失败响应体","example":"{ \"error\": {\"message\": \"string.\", \"code\": \"string\" } }"}},"required":["error"]},"JobResultBody":{"description":"异步任务响应体","properties":{"job_id":{"description":"异步任务ID。","example":"4010a32b5f909853015f90aaa24b0015","type":"string"}},"required":["job_id"]},"QuickImportImageByFileRequestBody":{"description":"快速通道创建镜像的请求体","properties":{"architecture":{"default":"x86","description":"镜像的架构类型。取值包括:\nx86\narm\n默认使用“x86”。","enum":["x86","arm"],"type":"string"},"description":{"description":"镜像描述信息。_description参数说明请参考镜像属性。支持字母、数字、中文等,不支持回车、<、 >,长度不能超过1024个字符。默认为空。","maxLength":1024,"minLength":0,"type":"string"},"enterprise_project_id":{"default":"0","description":"表示当前镜像所属的企业项目。\n取值为0或无该值,表示属于default企业项目。\n取值为UUID,表示属于该UUID对应的企业项目。\n关于企业项目ID的获取及企业项目特性的详细信息,请参考《企业管理用户指南》。","type":"string"},"hw_firmware_type":{"description":"云主机云服务器的启动方式。目前支持:\nbios:表示bios引导启动。\nuefi:表示uefi引导启动。","enum":["bios","uefi"],"type":"string"},"image_tags":{"description":"新规范的镜像标签列表。默认为空。\ntags和image_tags只能使用一个。","items":{"$ref":"#/definitions/ResourceTag"},"type":"array"},"image_url":{"description":"OBS桶中外部镜像文件地址。在使用OBS桶的外部镜像文件制作镜像时生效且为必选字段。格式为<OBS桶名>:<OBS镜像文件名称>。注意:此处的OBS桶和镜像文件的存储类别必须是OBS标准存储。","type":"string"},"license_type":{"description":"操作系统使用的许可证类型。取值范围:\nplatform:华为云官方许可证\nbyol:自带许可证(Bring Your Own License)\n目前仅Windows操作系统支持设置该参数。","type":"string"},"min_disk":{"description":"最小系统盘大小。在使用OBS桶的外部镜像文件制作镜像时生效且为必选字段。取值为1至1024GB。","format":"int32","maximum":1024,"minimum":1,"type":"integer"},"name":{"description":"镜像名称","maxLength":128,"minLength":1,"type":"string"},"os_type":{"description":"操作系统版本。\n创建数据盘镜像时该参数取值为Linux或Windows,默认Linux。","enum":["Linux","Windows"],"type":"string"},"os_version":{"description":"操作系统版本。使用上传至OBS桶中的外部镜像文件制作镜像时生效","type":"string"},"tags":{"description":"镜像标签列表。默认为空。\ntags和image_tags只能使用一个。","items":{"type":"string"},"type":"array"},"type":{"default":"ECS","description":"制作的镜像类型。系统盘镜像为ECS/BMS,数据盘镜像为DataImage.\n制作数据盘镜像时该参数必选.","enum":["ECS","BMS","DataImage"],"type":"string"}},"required":["image_url","min_disk","name","os_version"]},"ResourceTag":{"description":"标签键值","properties":{"key":{"description":"标签的键","type":"string"},"value":{"description":"标签的值","type":"string"}},"required":["key","value"]}},"description":null,"group_id":"15afdecd4f8c4fd88190ef8e57094cd5","host":"ims.cn-north-4.myhuaweicloud.com","id":"6612005d5c994cdda5a058c93deaccb7","info_version":"v2","method":"post","name":"ImportImageQuick","parameters":{},"paths":{"/v2/cloudimages/quickimport/action":{"post":{"consumes":[],"deprecated":false,"description":"使用上传至OBS桶中的超大外部镜像文件制作私有镜像,目前仅支持RAW或ZVHD2格式镜像文件。且要求镜像文件大小不能超过1TB。\n由于快速导入功能要求提前转换镜像文件格式为RAW或ZVHD2格式,因此镜像文件小于128GB时推荐您优先使用常规的创建私有镜像的方式。\n作为异步接口,调用成功,只是说明后台收到了制作请求,镜像是否制作成功需要通过异步任务查询接口查询该任务的执行状态,具体请参考异步任务查询。","operationId":"ImportImageQuick","parameters":[{"description":"快速通道创建镜像的Request Body","in":"body","name":"FileCreateIms","required":true,"schema":{"$ref":"#/definitions/QuickImportImageByFileRequestBody"},"x-example":"{      \"name\": \"ims_test_file\",      \"description\": \"OBS文件制作镜像\",      \"image_url\": \"ims-image:centos70.zvhd2\",      \"os_version\": \" CentOS 7.0 64bit\",      \"min_disk\": 40,      \"type\": \"ECS\",     \"tags\":[                  \"aaa.111\",                  \"bbb.333\",                  \"ccc.444\"              ]         }","x-order":1},{"description":"用户Token,使用Token认证时该字段必选。","in":"header","name":"X-Auth-Token","required":false,"type":"string","x-order":2}],"produces":[],"responses":{"200":{"description":"OK","examples":{"application/json":{"job_id":"8a12fc664fb4daa3014fb4e581380005"}},"schema":{"$ref":"#/definitions/JobResultBody"}},"400":{"description":"Bad Request     请求错误","schema":{"$ref":"#/definitions/FailResponseBody"}},"401":{"description":"Unauthorized     鉴权失败","schema":{"$ref":"#/definitions/FailResponseBody"}},"403":{"description":"Forbidden    没有操作权限。","schema":{"$ref":"#/definitions/FailResponseBody"}},"404":{"description":"Not Found     找不到资源","schema":{"$ref":"#/definitions/FailResponseBody"}},"500":{"description":"Internal Server Error      服务内部错误","schema":{"$ref":"#/definitions/FailResponseBody"}},"503":{"description":"Service Unavailable     服务不可用","schema":{"$ref":"#/definitions/FailResponseBody"}}},"summary":"镜像文件快速导入","tags":["镜像"],"x-apiexplorer-hide":"","x-apigateway-auth-type":"IAM","x-apigateway-match-mode":"NORMAL","x-apigateway-request-type":"public","x-call_frequency":"low","x-constraint":"快速导入前请确认RAW或ZVHD2格式的镜像文件已完成以下准备:\nRAW格式镜像文件:确认镜像文件已经转换为RAW格式,按照要求完成了镜像优化,且已生成位表文件。\nZVHD2格式镜像文件:确认镜像文件已经转换为ZVHD2格式,并按照要求完成了镜像优化。","x-ctc":"N","x-first_open_time":"2018-09-30","x-flow_control_group":"glance36","x-hc":"Y","x-hcso":"","x-hk":"Y","x-hybridcloud":true,"x-in_cli":"","x-is_calling":"Y","x-is_registered":"Y","x-multi_tenant_flow_time":5,"x-multi_tenant_flow_value":300,"x-name":"镜像文件快速导入","x-obc":"Y","x-open-region-cloud":"hc,hk","x-order":8,"x-otc":"Y","x-publishpath":"","x-request-examples-1":{"description":"OBS文件制作镜像","image_url":"ims-image:centos70.zvhd2","min_disk":40,"name":"ims_test_file","os_version":"CentOS 7.0 64bit","tags":["aaa.111","bbb.333","ccc.444"],"type":"ECS"},"x-request-examples-2":{"description":"OBS文件制作镜像","image_url":"ims-image:centos70.qcow2","min_disk":40,"name":"ims_test_file","os_type":"Linux","tags":["aaa.111","bbb.333","ccc.444"],"type":"DataImage"},"x-request-examples-description-1":"外部文件制作系统盘镜像","x-request-examples-description-2":"外部文件制作数据盘镜像","x-request-examples-text-1":"{  \n    \"name\": \"ims_test_file\",  \n    \"description\": \"OBS文件制作镜像\",  \n    \"image_url\": \"ims-image:centos70.zvhd2\",  \n    \"os_version\": \"CentOS 7.0 64bit\",  \n    \"min_disk\": 40,  \n    \"type\": \"ECS\", \n    \"tags\":\n        [\n            \"aaa.111\",    \n            \"bbb.333\",    \n            \"ccc.444\"    \n        ]\n}\n","x-request-examples-text-2":"{  \n    \"name\": \"ims_test_file\",  \n    \"description\": \"OBS文件制作镜像\",  \n    \"image_url\": \"ims-image:centos70.qcow2\",  \n    \"os_type\": \"Linux\",  \n    \"min_disk\": 40,  \n    \"type\": \"DataImage\",  \n    \"tags\": [    \n        \"aaa.111\",    \n        \"bbb.333\",    \n        \"ccc.444\"    \n    ]\n}\n","x-request-examples-url-1":"POST https://{Endpoint}/v2/cloudimages/quickimport/action","x-request-examples-url-2":"POST https://{Endpoint}/v2/cloudimages/quickimport/action","x-sbc":"","x-scope":"Commercial","x-source":"SelfDeveloped","x-source_url":"","x-support-sdk":"Y","x-tenant_flow_time":5,"x-tenant_flow_value":20,"x-timeout":"200s","x-tlf":"N","x-un_cli":"","x-version":"v2"}}},"product_short":"IMS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"镜像文件快速导入","tags":"镜像","uri":null,"version":"2.0"}