{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"BatchImportKeypairResponseBody":{"properties":{"failed_keypairs":{"description":"导入失败的SSH密钥对信息及导入失败的原因","items":{"$ref":"#/definitions/FailedKeypair"},"type":"array"},"succeeded_keypairs":{"description":"成功导入的SSH密钥对信息","items":{"$ref":"#/definitions/CreateKeypairResponseBody"},"type":"array"}},"required":["failed_keypairs","succeeded_keypairs"],"type":"object"},"CreateKeypairAction":{"description":"创建密钥对请求体请求参数","properties":{"key_protection":{"$ref":"#/definitions/KeyProtection"},"name":{"description":"SSH密钥对的名称。\n- 新创建的密钥对名称不能和已有密钥对的名称相同。\n- SSH密钥对名称由英文字母、数字、下划线、中划线组成,长度不能超过255个字节","pattern":"^[A-Za-z0-9_-]{1,255}$","type":"string"},"public_key":{"description":"导入公钥的字符串信息。","maxLength":1024,"minLength":0,"type":"string"},"scope":{"description":"租户级或者用户级。domain或user。","enum":["domain","user"],"type":"string"},"type":{"description":"SSH密钥对的类型。ssh或x509。","enum":["ssh","x509"],"type":"string"},"user_id":{"description":"SSH密钥对所属的用户信息","pattern":"^[0-9a-zA-Z]{1,64}$","type":"string"}},"required":["name"],"type":"object"},"CreateKeypairRequestBody":{"description":"创建密钥对请求体","properties":{"keypair":{"$ref":"#/definitions/CreateKeypairAction"}},"required":["keypair"]},"CreateKeypairResp":{"description":"SSH密钥对信息详情","properties":{"fingerprint":{"description":"SSH密钥对应指纹信息","maxLength":255,"minLength":0,"type":"string"},"name":{"description":"SSH密钥对的名称","pattern":"^[A-Za-z0-9_-]{1,255}$","type":"string"},"private_key":{"description":"SSH密钥对对应的privateKey信息\n- 创建SSH密钥对时,响应中包括private_key的信息。\n- 导入SSH密钥对时,响应中不包括private_key的信息。","maxLength":65535,"minLength":0,"type":"string"},"public_key":{"description":"SSH密钥对对应的publicKey信息","maxLength":1024,"minLength":0,"type":"string"},"type":{"description":"SSH密钥对的类型。ssh或x509。","enum":["ssh","x509"],"type":"string"},"user_id":{"description":"SSH密钥对所属的用户信息","pattern":"^[0-9a-zA-Z]{1,64}$","type":"string"}}},"CreateKeypairResponseBody":{"description":"SSH密钥对的详情","properties":{"keypair":{"$ref":"#/definitions/CreateKeypairResp"}}},"Encryption":{"description":"对私钥进行加密存储的方式。","properties":{"kms_key_id":{"description":"kms密钥的ID。\n - 若“type”为“kms”,则必须填入\"kms_key_name\"或\"kms_key_id\"。","maxLength":36,"minLength":36,"pattern":"^[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}$","type":"string"},"kms_key_name":{"description":"kms密钥的名称。\n - 若“type”为“kms”,则必须填入\"kms_key_name\"或\"kms_key_id\"。","maxLength":255,"minLength":0,"type":"string"},"type":{"description":"取值范围:“kms”或“default”。\n- “default”为默认加密方式,适用于没有kms服务的局点。\n- “kms”为采用kms服务加密方式。\n若局点没有kms服务,请填“default”。","enum":["default","kms"],"type":"string"}},"required":["type"],"type":"object"},"FailedKeypair":{"properties":{"failed_reason":{"description":"导入失败的原因","maxLength":512,"minLength":2,"type":"string"},"keypair_name":{"description":"SSH密钥对名称","maxLength":255,"minLength":2,"type":"string"}},"required":["keypair_name","failed_reason"],"type":"object"},"KeyProtection":{"description":"SSH密钥对私钥托管与保护。","properties":{"encryption":{"$ref":"#/definitions/Encryption"},"private_key":{"description":"导入SSH密钥对的私钥。","maxLength":65535,"minLength":0,"type":"string"}},"required":["encryption"],"type":"object"}},"description":null,"group_id":"82312055c07b47269eb4bc72251020bc","host":"kms.cn-north-4.myhuaweicloud.com","id":"d2b8d427962e49008b55cbceff6ca4f6","info_version":"v3","method":"post","name":"BatchImportKeypair","parameters":{},"paths":{"/v3/{project_id}/keypairs/batch-import":{"post":{"description":"批量导入SSH密钥对,单次批量导入不得超过10条记录。","operationId":"BatchImportKeypair","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","maxLength":2097152,"minLength":32,"name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXX..."},{"description":"项目ID。","in":"path","maxLength":64,"minLength":32,"name":"project_id","required":true,"type":"string","x-example":"2b31ed520xxxxxxebedb6e57xxxxxxxx"},{"description":"待批量导入的密钥对列表","in":"body","name":"BatchImportKeypairRequestBody","required":true,"schema":{"items":{"$ref":"#/definitions/CreateKeypairRequestBody"},"type":"array"}}],"responses":{"200":{"description":"批量导入SSH密钥对响应信息","examples":{"application/json":{"failed_keypairs":[{"failed_reason":"{\"error_code\":\"KPS.7004\", \"error_msg\":\"Key pair 'demo3' already exists.\"}","keypair_name":"demo3"}],"succeeded_keypairs":[{"keypair":{"fingerprint":"SHA256:Wm91+h496cPk5JleSp4RdD2n4Z/5KdlDeD51lmiZ11M","name":"demo2","public_key":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAAA... Generated-by-Nova\n","type":"ssh","user_id":"6c2a33b1b8474d0dbac0a24297127525"}}]}},"schema":{"$ref":"#/definitions/BatchImportKeypairResponseBody"}}},"summary":"批量导入SSH密钥对","tags":["密钥对管理"],"x-is-registered":"Y","x-request-examples-1":[{"keypair":{"name":"demo2","public_key":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAAA... Generated-by-Nova\n"}},{"keypair":{"name":"demo3","public_key":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAAA... Generated-by-Nova\n"}}],"x-request-examples-description-1":"批量导入名称为”demo2,demo3\"的SSH密钥对。","x-request-examples-text-1":[{"keypair":{"name":"demo2","public_key":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAAA... Generated-by-Nova\n"}},{"keypair":{"name":"demo3","public_key":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAAA... Generated-by-Nova\n"}}],"x-support-sdk":"Y"}}},"product_short":"KPS","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"批量导入SSH密钥对","tags":"密钥对管理","uri":null,"version":"2.0"}