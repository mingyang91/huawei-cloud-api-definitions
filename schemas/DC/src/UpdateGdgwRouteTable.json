{"base_path":null,"components":{"examples":{"add_gdgw_routes_example":{"summary":"新增全域接入网关路由","value":{"gdgw_routetable":{"add_routes":[{"description":"新增到下一跳gdgw网关v4子网路由","destination":"x.x.x.x/32","nexthop":"a25e6258-73f5-6994-f403-f04853ff9e19","type":"gdgw"},{"description":"新增到下一跳vif_peer的v4子网路由","destination":"y.y.y.y/30","nexthop":"90d9f15c-41ae-d4c1-8e0d-f90ea8a2ed46","type":"vif_peer"}]}}},"delete_gdgw_routes_example":{"summary":"删除全域接入网关路由","value":{"gdgw_routetable":{"del_routes":[{"destination":"x.x.x.x/32","nexthop":"a25e6258-73f5-6994-f403-f04853ff9e19","type":"gdgw"},{"destination":"y.y.y.y/30","nexthop":"90d9f15c-41ae-d4c1-8e0d-f90ea8a2ed46","type":"vif_peer"}]}}},"show_gdgw_routetables_example":{"summary":"查询全域接入网关路由表","value":{"gdgw_routetables":[{"address_family":"ipv4","description":"v4子网路由","destination":"x.x.0.0/16","gateway_id":"5791e3c8-b43d-4751-bfeb-a643e40e6086","id":"14d55a22-9d08-46af-bc2e-f965f9558234","nexthop":"409ed40b-7ccf-4514-8ca8-af2b994e4023","obtain_mode":"customized","status":"ACTIVE","tenant_id":"00000000000000000000000000000000","type":"vif_peer"}]}},"update_gdgw_routes_description_example":{"summary":"修改全域接入网关路由描述","value":{"gdgw_routetable":{"update_routes":[{"description":"修改路由描述","destination":"x.x.x.x/32","nexthop":"a25e6258-73f5-6994-f403-f04853ff9e19"},{"description":"修改路由描述","destination":"y.y.y.y/30","nexthop":"90d9f15c-41ae-d4c1-8e0d-f90ea8a2ed46"}]}}}},"parameters":{"AuthToken":{"description":"用户Token。 获取Token,请参考《统一身份认证服务API参考》的“获取用户Token”章节。请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。","in":"header","name":"X-Auth-Token","required":true,"schema":{"maxLength":10240,"minLength":0,"type":"string"}},"PathByGdgwId":{"description":"全域接入网关ID","in":"path","name":"gdgw_id","required":true,"schema":{"description":"全域接入网关ID","pattern":"[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}","type":"string"}},"ProjectId":{"description":"租户项目ID","in":"path","name":"project_id","required":true,"schema":{"maxLength":36,"minLength":0,"pattern":"[a-fA-F0-9]{32}","type":"string"}}},"schemas":{"AddGdgwRouteAction":{"allOf":[{"properties":{"type":{"$ref":"#/components/schemas/RouteTypeOfGdgw"}},"type":"object"},{"$ref":"#/components/schemas/BaseAddRouteAction"}],"required":["type"],"type":"object"},"AddressFamily":{"description":"地址族类型:\n- ipv4: ipv4\n- ipv6: ipv6","enum":["ipv4","ipv6"],"type":"string","x-huawei-extraAnnotation":"@JsonProperty(\"address_family\")\n"},"BaseAddRouteAction":{"properties":{"description":{"$ref":"#/components/schemas/RouteDescription"},"destination":{"$ref":"#/components/schemas/RouteDestination"},"nexthop":{"$ref":"#/components/schemas/RouteNextHop"}},"required":["destination","nexthop"],"type":"object"},"BaseDeleteRouteAction":{"properties":{"destination":{"$ref":"#/components/schemas/RouteDestination"},"nexthop":{"$ref":"#/components/schemas/RouteNextHop"}},"required":["destination","nexthop"],"type":"object"},"CommonRoutetable":{"description":"路由明细","properties":{"address_family":{"$ref":"#/components/schemas/AddressFamily"},"description":{"description":"路由描述","maxLength":1024,"minLength":0,"type":"string","x-huawei-extraAnnotation":"@JsonProperty(\"description\")\n"},"destination":{"description":"路由子网","maxLength":64,"minLength":64,"type":"string","x-huawei-extraAnnotation":"@JsonProperty(\"destination\")\n"},"gateway_id":{"description":"网关id","maxLength":36,"minLength":36,"type":"string","x-huawei-extraAnnotation":"@JsonProperty(\"gateway_id\")\n"},"id":{"description":"路由id","maxLength":36,"minLength":36,"type":"string","x-huawei-extraAnnotation":"@JsonProperty(\"id\")\n"},"nexthop":{"description":"下一跳id","maxLength":36,"minLength":36,"type":"string","x-huawei-extraAnnotation":"@JsonProperty(\"nexthop\")\n"},"obtain_mode":{"description":"路由类型:\n- customized: 默认路由\n- specific: 自定义路由\n- bgp: 动态路由","enum":["customized","specific","bgp"],"type":"string","x-huawei-extraAnnotation":"@JsonProperty(\"obtain_mode\")\n"},"status":{"description":"路由状态:\n- ACTIVE: 下发正常\n- ERROR: 下发失败\n- PENDING_CREATE: 待下发","enum":["ACTIVE","ERROR","PENDING_CREATE"],"type":"string","x-huawei-extraAnnotation":"@JsonProperty(\"status\")\n"},"tenant_id":{"description":"租户id","maxLength":64,"minLength":64,"type":"string","x-huawei-extraAnnotation":"@JsonProperty(\"tenant_id\")\n"}},"required":["id","tenant_id","destination","nexthop","type","obtain_mode","status","address_family"],"type":"object"},"DeleteGdgwRouteAction":{"allOf":[{"properties":{"type":{"$ref":"#/components/schemas/RouteTypeOfGdgw"}},"type":"object"},{"$ref":"#/components/schemas/BaseDeleteRouteAction"}],"required":["type"],"type":"object"},"GdgwRouteTableRequest":{"properties":{"add_routes":{"description":"需要添加的路由","items":{"allOf":[{"$ref":"#/components/schemas/AddGdgwRouteAction"}]},"maxItems":100,"minItems":0,"type":"array","x-quark-allow-type":"LIST"},"del_routes":{"description":"需要删除的路由","items":{"allOf":[{"$ref":"#/components/schemas/DeleteGdgwRouteAction"}]},"maxItems":100,"minItems":0,"type":"array","x-quark-allow-type":"LIST"},"update_routes":{"description":"需要更新的路\n**仅更新该条路由的附加信息,不执行交换机的路由更新操作。当前支持更新:路由描述-description信息**","items":{"allOf":[{"$ref":"#/components/schemas/UpdateRouteAction"}]},"maxItems":100,"minItems":0,"type":"array","x-quark-allow-type":"LIST"}},"type":"object"},"RouteDescription":{"description":"路由描述","maxLength":255,"minLength":0,"pattern":"^[^<>`]*$","type":"string","x-quark-allow-empty":"true","x-quark-allow-null":"true"},"RouteDestination":{"description":"路由子网","maxLength":2147483647,"minLength":0,"type":"string"},"RouteNextHop":{"description":"下一跳id","maxLength":255,"minLength":0,"type":"string"},"RouteTypeOfGdgw":{"description":"下一跳类型:\n- vif_peer: 虚拟接口对等体\n- gdgw: 全域接入网关","enum":["vif_peer","gdgw"],"maxLength":255,"minLength":0,"type":"string"},"ShowGdgwRoutetable":{"allOf":[{"properties":{"type":{"$ref":"#/components/schemas/RouteTypeOfGdgw"}},"type":"object"},{"$ref":"#/components/schemas/CommonRoutetable"}],"description":"路由明细","required":["type","gateway_id"]},"UpdateGdgwRoutetableRequestBody":{"description":"修改全域接入网关路由表的request","properties":{"dry_run":{"description":"是否dry run模式执行","type":"boolean"},"gdgw_routetable":{"allOf":[{"$ref":"#/components/schemas/GdgwRouteTableRequest"}]}},"type":"object"},"UpdateGdgwRoutetableResponseBody":{"description":"修改全域接入网关路由表返回的response","properties":{"gdgw_routetable":{"description":"全域接入网关路由表","items":{"$ref":"#/components/schemas/ShowGdgwRoutetable"},"maxItems":2000,"minItems":0,"type":"array"},"request_id":{"description":"请求id","maxLength":36,"minLength":0,"type":"string"}},"required":["request_id","gdgw_routetable"],"type":"object"},"UpdateRouteAction":{"properties":{"description":{"$ref":"#/components/schemas/RouteDescription"},"destination":{"$ref":"#/components/schemas/RouteDestination"},"nexthop":{"$ref":"#/components/schemas/RouteNextHop"}},"required":["destination","nexthop"],"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"044e9f7ee6954f958198fe6f41f8bf50","host":"dcaas.cn-north-4.myhuaweicloud.com","id":"d0fd5f16878d4dc4ac432d21c8511ecf","info_version":"v3","method":"put","name":"UpdateGdgwRouteTable","parameters":null,"paths":{"/v3/{project_id}/dcaas/gdgw/{gdgw_id}/routetables":{"put":{"description":"# 支持的修改操作:\n**注意:新增、删除、修改操作互斥,一次请求只能执行其中一类操作**\n+ 1. 新增下一跳路由\n+ 2. 删除下一跳路由\n+ 3. 修改路由描述","operationId":"UpdateGdgwRouteTable","parameters":[{"$ref":"#/components/parameters/AuthToken"},{"$ref":"#/components/parameters/ProjectId"},{"$ref":"#/components/parameters/PathByGdgwId"}],"requestBody":{"content":{"application/json; charset=utf-8":{"examples":{"add_gdgw_routes_example":{"$ref":"#/components/examples/add_gdgw_routes_example"},"delete_gdgw_routes_example":{"$ref":"#/components/examples/delete_gdgw_routes_example"},"update_gdgw_routes_description_example":{"$ref":"#/components/examples/update_gdgw_routes_description_example"}},"schema":{"$ref":"#/components/schemas/UpdateGdgwRoutetableRequestBody"}}}},"responses":{"200":{"content":{"application/json; charset=utf-8":{"examples":{"show_gdgw_routetables":{"$ref":"#/components/examples/show_gdgw_routetables_example"}},"schema":{"$ref":"#/components/schemas/UpdateGdgwRoutetableResponseBody"}}},"description":"修改全域接入网关路由表成功"}},"summary":"修改全域接入网关路由表","tags":["GdgwRoutetable"],"x-apiexplorer-hide":"false","x-huawei-common":{"action":"update","cts_operation_id":"UpdateGdgwRouteTable","cts_resource_type":"dcaasGlobalDcGateway","cts_service_type":"DC","cts_trace_name":"updateGdgwRouteTable","primaryTable":"dc_routes","requiredBodykey":["gdgw_routetable"],"resourceName":"gdgw_routetable","resourcesName":"gdgw_routetables","timeout":60},"x-huawei-security":{"enableEProject":true,"epsAction":"update","pdpkey":["dcaas:gdgw:updateGdgwRouteTable"],"policy":"all_dc_roles_except_readonly"},"x-is-registered":"Y","x-open-region-cloud":"hc","x-support-sdk":"Y"}}},"product_short":"DC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"修改全域接入网关路由表","tags":"全域接入网关路由表","uri":null,"version":"3.0.1"}