{"base_path":null,"components":{"parameters":{"AuthToken":{"description":"用户Token。 获取Token,请参考《统一身份认证服务API参考》的“获取用户Token”章节。请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。","in":"header","name":"X-Auth-Token","required":true,"schema":{"maxLength":10240,"minLength":0,"type":"string"}},"EnterpriseProjectIds":{"description":"根据企业项目ID过滤资源实例","explode":false,"in":"query","name":"enterprise_project_id","schema":{"items":{"maxLength":36,"minLength":0,"pattern":"0|[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}","type":"string"},"maxItems":10,"minItems":1,"type":"array"},"style":"form"},"Fields":{"description":"显示字段列表","in":"query","name":"fields","required":false,"schema":{"items":{"maxLength":100,"minLength":0,"type":"string"},"maxItems":5,"minItems":1,"type":"array"}},"Limit":{"description":"每页返回的个数。\n取值范围:1~2000。","example":10,"in":"query","name":"limit","schema":{"default":2000,"format":"int32","maximum":2000,"minimum":1,"type":"integer"}},"Marker":{"description":"上一页最后一条资源记录的ID,为空时为查询第一页。\n使用说明:必须与limit一起使用。","example":"7f7f738f-453c-40b1-be26-28e7b9e390c1","in":"query","name":"marker","schema":{"maxLength":36,"minLength":0,"type":"string"}},"ProjectId":{"description":"租户项目ID","in":"path","name":"project_id","required":true,"schema":{"maxLength":36,"minLength":0,"pattern":"[a-fA-F0-9]{32}","type":"string"}},"QueryById":{"description":"根据资源ID过滤实例","explode":true,"in":"query","name":"id","schema":{"items":{"type":"string"},"maxItems":5,"minItems":1,"type":"array"},"style":"form"},"QueryByState":{"description":"根椐资源状态过滤实例","explode":true,"in":"query","name":"status","schema":{"items":{"type":"string"},"maxItems":5,"minItems":1,"type":"array"},"style":"form"},"SortDir":{"description":"返回结果按照升序(asc)或降序(desc)排列,默认为asc","in":"query","name":"sort_dir","required":false,"schema":{"items":{"enum":["asc","desc"],"type":"string"},"type":"array"}},"SortKey":{"description":"排序字段。","example":["id"],"in":"query","name":"sort_key","required":false,"schema":{"default":"id","maxLength":36,"minLength":0,"type":"string"}}},"schemas":{"ListVirtualInterfacesResponseBody":{"description":"虚拟接口列表响应体","properties":{"page_info":{"$ref":"#/components/schemas/PageInfo"},"request_id":{"description":"操作请求ID","type":"string"},"virtual_interfaces":{"description":"虚拟接口对象","items":{"$ref":"#/components/schemas/VirtualInterface"},"type":"array"}},"required":["page_info","request_id","virtual_interfaces"],"type":"object"},"PageInfo":{"description":"分页查询页的信息","properties":{"current_count":{"description":"当前列表中资源数量","format":"int32","maximum":2000,"minimum":0,"type":"integer"},"next_marker":{"description":"下一页的marker,值为资源的uuid,为空时表示最后一页","maxLength":36,"minLength":0,"type":"string"},"previous_marker":{"description":"上一页的marker,值为资源的uuid","maxLength":36,"minLength":0,"type":"string"}},"required":["current_count","previous_marker"],"type":"object"},"Tag":{"description":"资源标签。","properties":{"key":{"description":"标签键,最大长度36个unicode字符,格式为大小写字母,数字,中划线“-”,下划线“_”,中文。","example":"key","maxLength":36,"minLength":0,"type":"string","x-open-region-cloud":"hws,hws_hk,ocb,cmcc"},"value":{"description":"标签值,最大长度43个unicode字符,格式为大小写字母,数字,中划线“-”,下划线“_”,点“.”,中文。","example":"value","maxLength":43,"minLength":0,"type":"string","x-open-region-cloud":"hws,hws_hk,ocb,cmcc"}},"required":["key"],"type":"object"},"VifExtendAttribute":{"description":"接口BFD/NQA等可靠性检测信息,只有配置BFD和NQA的扩展参数才会显示扩展参数信息,扩展参数信息","properties":{"detect_multiplier":{"default":5,"description":"检测的重试次数","example":5,"format":"int32","type":"integer"},"ha_mode":{"description":"检测的具体的配置模式","enum":["auto_single","auto_multi","static_single","static_multi","enhance_nqa"],"type":"string"},"ha_type":{"description":"虚拟接口的可用性检测类型","enum":["nqa","bfd"],"type":"string"},"local_disclaim":{"description":"检测的本端的标识,用于静态BFD","example":500,"format":"int32","type":"integer"},"min_rx_interval":{"default":1000,"description":"检测的接收时长间隔","example":1000,"format":"int32","type":"integer"},"min_tx_interval":{"default":1000,"description":"检测的发送时长间隔","example":1000,"format":"int32","type":"integer"},"remote_disclaim":{"description":"检测的远端的标识,用于静态BFD","example":500,"format":"int32","type":"integer"}}},"VifPeer":{"description":"虚拟接口对等体对象","properties":{"address_family":{"description":"接口的地址簇类型,ipv4,ipv6","type":"string"},"bgp_asn":{"description":"BGP邻居的AS号","example":65000,"format":"int32","maximum":4294967295,"minimum":1,"type":"integer"},"bgp_md5":{"description":"BGP邻居的MD5密码","type":"string"},"bgp_route_limit":{"description":"BGP的路由配置规格","format":"int32","type":"integer"},"bgp_status":{"description":"接口BGP协议状态,如果是静态路由接口则状态为 null","maxLength":10,"type":"string"},"description":{"description":"VIF对等体名字描述信息","maxLength":128,"minLength":0,"type":"string"},"device_id":{"description":"归属的设备ID","type":"string"},"enable_bfd":{"description":"是否使能bfd功能:true或false","example":false,"type":"boolean"},"enable_nqa":{"description":"是否使能nqa功能:true或false","example":false,"type":"boolean"},"id":{"description":"资源ID","example":"c768eb52-12a8-4859-9b43-81194643040c","maxLength":36,"minLength":36,"type":"string"},"local_gateway_ip":{"description":"VIF对等体云侧接口地址","type":"string"},"name":{"description":"VIF对等体名字","example":"peer-ipv4","maxLength":64,"minLength":0,"type":"string"},"receive_route_num":{"description":"路由模式为bgp:receive_route_num值为接收搭配BGP的路由数目;\n路由模式为static:该字段无意义,值为-1;\n注:若早期接入云的部分用户无法获取该字段信息,如需要请联系客服迁移专线端口。","example":2,"format":"int32","type":"integer"},"remote_ep_group":{"description":"远端子网列表,记录租户侧的cidrs","items":{"type":"string"},"type":"array"},"remote_gateway_ip":{"description":"VIF对等体客户侧接口地址","type":"string"},"route_mode":{"description":"路由模式:static/bgp","enum":["bgp","static"],"example":"bgp","maxLength":255,"type":"string"},"service_ep_group":{"description":"该字段用于公网专线接口,表示租户可以访问云上公网服务地址列表","items":{"type":"string"},"type":"array"},"status":{"description":"VIF对等体状态","example":"ACTIVE","type":"string"},"tenant_id":{"description":"归属租户ID","example":"0605768a3300d5762f82c01180692873","maxLength":36,"minLength":36,"type":"string"},"vif_id":{"description":"vif对等体对应的虚拟接口ID","example":"0d0fdf63-f2c4-491c-8866-d504796189be","maxLength":36,"minLength":36,"type":"string"}},"type":"object"},"VirtualInterface":{"description":"虚拟接口对象","properties":{"address_family":{"description":"接口的地址簇类型,ipv4,ipv6。该字段现已迁移到vifpeer参数列表中,未来将会废弃。","type":"string"},"admin_state_up":{"description":"管理状态:true或false","type":"boolean"},"bandwidth":{"description":"虚拟接口接入带宽","format":"int32","maximum":2147483647,"minimum":2,"type":"integer"},"bgp_route_limit":{"description":"BGP的路由配置规格","format":"int32","type":"integer"},"create_time":{"description":"虚拟接口创建时间。采用UTC时间格式,格式为:yyyy-MM-ddTHH:mm:ss.SSSZ","format":"date-time","maxLength":255,"type":"string"},"description":{"description":"虚拟接口的描述","maxLength":128,"type":"string"},"device_id":{"description":"归属的设备ID","type":"string"},"direct_connect_id":{"description":"物理专线的ID","maxLength":36,"type":"string"},"enable_bfd":{"description":"是否使能bfd功能:true或false","example":false,"type":"boolean"},"enable_nqa":{"description":"是否使能nqa功能:true或false","example":false,"type":"boolean"},"enterprise_project_id":{"description":"实例所属企业项目ID","example":"a3bad420-33b8-4e26-9e9b-bdf67aa8e72b","maxLength":36,"minLength":36,"pattern":"[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}","type":"string","x-ifnull":"hide"},"extend_attribute":{"$ref":"#/components/schemas/VifExtendAttribute"},"gateway_id":{"description":"虚拟接口关联的网关的ID","type":"string"},"id":{"description":"虚拟接口的ID","maxLength":36,"type":"string"},"ies_id":{"description":"归属的CloudPond站点的ID","type":"string"},"lag_id":{"description":"VIF关联的链路聚合组ID","example":"8a47064a-f34c-4f94-b7fe-cac456c9b37b","maxLength":36,"minLength":36,"type":"string"},"lgw_id":{"description":"本地网关的ID,用于CloudPond场景。","type":"string"},"local_gateway_v4_ip":{"description":"云侧网关IPv4接口地址,该字段现已经移到vifpeer参数列表中,未来将会废弃。","type":"string"},"local_gateway_v6_ip":{"description":"云侧网关IPv6接口地址,该字段现已迁移到vifpeer参数列表中,未来将会废弃。","type":"string"},"name":{"description":"虚拟接口的名字","maxLength":64,"type":"string"},"priority":{"default":"normal","description":"虚拟接口的优先级,支持两种优先级状态normal和low。\n接口优先级相同时表示负载关系,接口优先级不同时表示主备关系,出云流量优先转到优先级更高的normal接口。\n目前仅BGP模式接口支持。","enum":["normal","low"],"type":"string"},"rate_limit":{"description":"标识虚拟接口是否开启限速","type":"boolean"},"reason":{"description":"如果资源的状态是Error的情况下,该参数会显示相关错误信息。","type":"string"},"remote_ep_group":{"description":"远端子网列表,记录租户侧的cidrs。该字段现已迁移到vifpeer参数列表中,未来将会废弃。","items":{"type":"string"},"type":"array"},"remote_gateway_v4_ip":{"description":"客户侧网关IPv4接口地址,该字段现已经移到vifpeer参数列表中,未来将会废弃。","type":"string"},"remote_gateway_v6_ip":{"description":"客户侧网关IPv6接口地址,该字段现已迁移到vifpeer参数列表中,未来将会废弃。","type":"string"},"route_limit":{"default":50,"description":"VIF远端子网路由配置规格","example":50,"format":"int32","maximum":200,"minimum":1,"type":"integer"},"service_ep_group":{"description":"该字段用于公网专线接口,表示租户可以访问云上公网服务地址列表。该字段现已迁移到vifpeer参数列表中,未来将会废弃。","items":{"type":"string"},"type":"array"},"service_type":{"description":"接入网关的类型:包括VGW,GDGW,LGW等","enum":["VGW","GDGW","LGW"],"example":"VGW","type":"string"},"status":{"description":"操作状态,合法值是:ACTIVE,DOWN,BUILD,ERROR,PENDING_CREATE,PENDING_UPDATE,PENDING_DELETE,DELETED,AUTHORIZATION,REJECTED","example":"ACTIVE","type":"string"},"tags":{"description":"标签信息","items":{"$ref":"#/components/schemas/Tag"},"maxItems":10,"minItems":0,"type":"array","x-open-region-cloud":"hws,hws_hk,ocb,cmcc"},"tenant_id":{"description":"租户ID","maxLength":32,"minLength":32,"type":"string"},"type":{"default":"private","description":"表示接口类型:private","enum":["private","public"],"example":"private","maxLength":255,"type":"string"},"update_time":{"description":"虚拟接口修改时间。采用UTC时间格式,格式为:yyyy-MM-ddTHH:mm:ss.SSSZ","format":"date-time","maxLength":255,"type":"string"},"vgw_id":{"description":"虚拟网关的ID","example":"8a47064a-f34c-4f94-b7fe-cac456c9b37b","maxLength":36,"minLength":36,"type":"string"},"vif_peers":{"description":"vif的Peer的相关信息","items":{"$ref":"#/components/schemas/VifPeer"},"type":"array"},"vlan":{"description":"同用户网关对接的vlan, 配置范围0-3999","example":2001,"format":"int32","maximum":3999,"minimum":0,"type":"integer"}}}}},"consumes":"","definitions":null,"description":null,"group_id":"044e9f7ee6954f958198fe6f41f8bf50","host":"dcaas.cn-north-4.myhuaweicloud.com","id":"7dc4d5b92fb0456cbed6effae0d3bbbf","info_version":"v3","method":"get","name":"ListVirtualInterfaces","parameters":null,"paths":{"/v3/{project_id}/dcaas/virtual-interfaces":{"get":{"description":"查询租户所有的虚拟接口列表","operationId":"ListVirtualInterfaces","parameters":[{"$ref":"#/components/parameters/AuthToken"},{"$ref":"#/components/parameters/ProjectId"},{"$ref":"#/components/parameters/Limit"},{"$ref":"#/components/parameters/Marker"},{"$ref":"#/components/parameters/Fields"},{"$ref":"#/components/parameters/SortDir"},{"$ref":"#/components/parameters/SortKey"},{"$ref":"#/components/parameters/EnterpriseProjectIds"},{"$ref":"#/components/parameters/QueryById"},{"$ref":"#/components/parameters/QueryByState"},{"description":"根椐物理专线ID过滤查询实例信息","explode":true,"in":"query","name":"direct_connect_id","schema":{"items":{"description":"","type":"string"},"maxItems":5,"minItems":1,"type":"array"},"style":"form"},{"description":"根椐虚拟网关ID过滤查询实例信息","explode":true,"in":"query","name":"vgw_id","schema":{"items":{"type":"string"},"maxItems":5,"minItems":1,"type":"array"},"style":"form"}],"responses":{"200":{"content":{"application/json":{"example":{"request_id":"5633df7af874576d819a481c76673236","virtual_interfaces":[{"address_family":"ipv4","admin_state_up":true,"bandwidth":2,"bgp_route_limit":100,"create_time":"2022-08-19T11:28:06.000Z","description":"mytest","direct_connect_id":"4673e339-8412-4ee1-b73e-2ba9cdfa54c1","enable_bfd":false,"enable_nqa":false,"enterprise_project_id":"0","gateway_id":null,"id":"0d0fdf63-f2c4-491c-8866-d504796189be","ies_id":null,"lgw_id":null,"local_gateway_v4_ip":"1.1.1.1/30","local_gateway_v6_ip":null,"name":"vif-0819","priority":"normal","rate_limit":false,"reason":null,"remote_ep_group":["1.1.2.0/30"],"remote_gateway_v4_ip":"1.1.1.2/30","remote_gateway_v6_ip":null,"route_limit":50,"service_ep_group":[],"service_type":"VGW","status":"ACTIVE","tenant_id":"0605768a3300d5762f82c01180692873","type":"private","update_time":"2022-08-19T11:28:06.000Z","vgw_id":"8a47064a-f34c-4f94-b7fe-cac456c9b37b","vif_peers":[{"address_family":"ipv4","bgp_asn":null,"bgp_md5":null,"bgp_route_limit":100,"bgp_status":null,"description":"","device_id":"18.9.215.131","enable_bfd":false,"enable_nqa":false,"id":"c768eb52-12a8-4859-9b43-81194643040c","local_gateway_ip":"1.1.1.1/30","name":"vif-0819","receive_route_num":-1,"remote_ep_group":["1.1.2.0/30"],"remote_gateway_ip":"1.1.1.2/30","route_mode":"static","service_ep_group":null,"status":"ACTIVE","tenant_id":"0605768a3300d5762f82c01180692873","vif_id":"0d0fdf63-f2c4-491c-8866-d504796189be"}],"vlan":332}]},"schema":{"$ref":"#/components/schemas/ListVirtualInterfacesResponseBody"}}},"description":"OK"}},"summary":"查询虚拟接口列表","tags":["VirtualInterface"],"x-apiexplorer-hide":"false","x-huawei-common":{"action":"list","enable_eproject":true,"pdpkey":["dcaas:vif:list"],"policy":"get_virtual_interfaces","primaryTable":"virtual_interfaces","profile":{},"resourceName":"virtual_interface","timeout":60},"x-is-registered":"Y","x-request-examples-description-1":"查询虚拟接口列表","x-request-examples-url-1":"GET https://{dc_endpoint}/v3/0605768a3300d5762f82c01180692873/dcaas/virtual-interfaces","x-support-sdk":"Y"}}},"product_short":"DC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询虚拟接口列表","tags":"虚拟接口","uri":null,"version":"3.0.1"}