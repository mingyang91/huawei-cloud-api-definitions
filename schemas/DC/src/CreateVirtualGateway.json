{"base_path":null,"components":{"parameters":{"AuthToken":{"description":"用户Token。 获取Token,请参考《统一身份认证服务API参考》的“获取用户Token”章节。请求响应成功后在响应消息头中包含的“X-Subject-Token”的值即为Token值。","in":"header","name":"X-Auth-Token","required":true,"schema":{"maxLength":10240,"minLength":0,"type":"string"}},"ProjectId":{"description":"租户项目ID","in":"path","name":"project_id","required":true,"schema":{"maxLength":36,"minLength":0,"pattern":"[a-fA-F0-9]{32}","type":"string"}}},"schemas":{"CreateVirtualGateway":{"description":"创建虚拟网关对象参数","properties":{"bgp_asn":{"description":"虚拟网关本地的BGP自治域号(asn)","example":65000,"format":"int32","maximum":4294967295,"minimum":1,"type":"integer"},"description":{"description":"虚拟网关的描述信息","maxLength":128,"minLength":0,"type":"string"},"enterprise_project_id":{"description":"实例所属企业项目ID","example":"a3bad420-33b8-4e26-9e9b-bdf67aa8e72b","maxLength":36,"minLength":36,"pattern":"[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}","type":"string","x-ifnull":"hide"},"local_ep_group":{"description":"虚拟网关到访问云上服务IPv4子网列表,通常是vpc的cidrs","example":"[192.168.20.0/24]","items":{"type":"string"},"type":"array"},"local_ep_group_ipv6":{"description":"预留字段用于虚拟网关到访问云上服务IPv6子网列表,通常是vpc的cidrs","example":"[200:1/64]","items":{"type":"string"},"type":"array"},"name":{"description":"虚拟网关名字","example":"vgw-001","maxLength":64,"minLength":0,"type":"string"},"tags":{"description":"标签信息","items":{"$ref":"#/components/schemas/Tag"},"maxItems":10,"minItems":0,"type":"array","x-open-region-cloud":"hws,hws_hk,ocb,cmcc"},"vpc_id":{"description":"虚拟网关接入的VPC的ID","example":"d920d76d-a0b7-4453-a39e-22ff55475348","pattern":"[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}","type":"string"}},"required":["vpc_id","local_ep_group"],"type":"object"},"CreateVirtualGatewayRequestBody":{"properties":{"virtual_gateway":{"$ref":"#/components/schemas/CreateVirtualGateway"}},"type":"object"},"ShowVirtualGatewayResponseBody":{"description":"","properties":{"request_id":{"description":"操作请求ID","type":"string"},"virtual_gateway":{"$ref":"#/components/schemas/VirtualGateway"}},"required":["virtual_gateway","request_id"],"type":"object"},"Tag":{"description":"资源标签。","properties":{"key":{"description":"标签键,最大长度36个unicode字符,格式为大小写字母,数字,中划线“-”,下划线“_”,中文。","example":"key","maxLength":36,"minLength":0,"type":"string","x-open-region-cloud":"hws,hws_hk,ocb,cmcc,hws_eu"},"value":{"description":"标签值,最大长度43个unicode字符,格式为大小写字母,数字,中划线“-”,下划线“_”,点“.”,中文。","example":"value","maxLength":43,"minLength":0,"type":"string","x-open-region-cloud":"hws,hws_hk,ocb,cmcc,hws_eu"}},"required":["key"],"type":"object"},"VirtualGateway":{"description":"虚拟网关对象","properties":{"admin_state_up":{"default":true,"description":"管理状态:true或false","example":true,"type":"boolean"},"bgp_asn":{"description":"虚拟网关本地的BGP自冶域号(asn)","example":64513,"format":"int32","maximum":4294967295,"minimum":1,"type":"integer"},"description":{"description":"虚拟网关的描述","example":"My virtualGateway for prod","maxLength":128,"minLength":0,"type":"string"},"device_id":{"description":"归属的设备ID","type":"string"},"enterprise_project_id":{"description":"实例所属企业项目ID","example":"a3bad420-33b8-4e26-9e9b-bdf67aa8e72b","maxLength":36,"minLength":36,"pattern":"[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}","type":"string","x-ifnull":"hide"},"id":{"description":"虚拟网关的ID","type":"string"},"local_ep_group":{"description":"虚拟网关到访问云上服务IPv4子网列表,通常是vpc的cidrs","example":["192.168.1.0/24"],"items":{"type":"string"},"type":"array"},"local_ep_group_ipv6":{"description":"预留字段用于虚拟网关到访问云上服务IPv6子网列表,通常是vpc的cidrs","items":{"type":"string"},"type":"array"},"name":{"description":"虚拟网关的名字","example":"vgw-192","maxLength":64,"minLength":0,"type":"string"},"public_border_group":{"description":"归属的可用区对应的边界组(public border group),标识是否homezone局点。","type":"string"},"redundant_device_id":{"description":"归属的冗余设备ID","type":"string"},"status":{"description":"操作状态,合法值是:ACTIVE,DOWN,BUILD,ERROR,PENDING_CREATE,PENDING_UPDATE,PENDING_DELETE","example":"ACTIVE","type":"string"},"tags":{"description":"标签信息","items":{"$ref":"#/components/schemas/Tag"},"maxItems":10,"minItems":0,"type":"array","x-open-region-cloud":"hws,hws_hk,ocb,cmcc"},"tenant_id":{"description":"实例所属项目ID。","example":"32f7402e18154ce5861c9989df956394","maxLength":32,"minLength":32,"pattern":"[a-fA-F0-9]{32}","type":"string","x-ifnull":"hide"},"type":{"default":"default","description":"虚拟网关类型:default","example":"default","type":"string"},"vpc_id":{"description":"虚拟网关接入的VPC的ID","example":"2987769e-5e71-4e23-b69f-6fa1af39dc00","pattern":"[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}","type":"string"}},"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"044e9f7ee6954f958198fe6f41f8bf50","host":"dcaas.cn-north-4.myhuaweicloud.com","id":"e0b3c782403a46bd8dbef77d4d658c19","info_version":"v3","method":"post","name":"CreateVirtualGateway","parameters":null,"paths":{"/v3/{project_id}/dcaas/virtual-gateways":{"post":{"description":"创建虚拟网关","operationId":"CreateVirtualGateway","parameters":[{"$ref":"#/components/parameters/AuthToken"},{"$ref":"#/components/parameters/ProjectId"}],"requestBody":{"content":{"application/json":{"example":{"virtual_gateway":{"bgp_asn":64512,"description":"","local_ep_group":["192.168.1.0/24"],"name":"vgw-c7b22","vpc_id":"6592c28e-95d7-4b0a-9f61-004fdf03420c"}},"schema":{"$ref":"#/components/schemas/CreateVirtualGatewayRequestBody"}}}},"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ShowVirtualGatewayResponseBody"}}},"description":"Created","x-response-examples-1":{"application/json":{"virtual_gateway":{"admin_state_up":true,"bgp_asn":64512,"description":"","device_id":"26.151.63.100","enterprise_project_id":"0","id":"20082c1b-3c99-48d8-8e8c-116af5d7e9f0","local_ep_group":["192.168.1.0/24"],"name":"vgw-c7b22","public_border_group":"center","redundant_device_id":"26.152.128.20","status":"ACTIVE","tenant_id":"0605768a3300d5762f82c01180692873","type":"default","vpc_id":"6592c28e-95d7-4b0a-9f61-004fdf03420c"}}},"x-response-examples-2":{"application/json":{"virtual_gateway":{"admin_state_up":true,"bgp_asn":64512,"description":"","device_id":"26.151.63.100","enterprise_router_id":"61fa53c9-4446-4ebd-89b9-11a52b653a9c","id":"7a91797a-cbda-42ff-9f42-73f26c993dd9","local_ep_group":null,"local_ep_group_ipv6":null,"name":"vgw-er","public_border_group":null,"redundant_device_id":"26.152.128.20","status":"ACTIVE","tenant_id":"92ea72fe26294aa180a2712c28e43c21","type":"default","vpc_id":null}}},"x-response-examples-description-1":"成功创建接入虚拟私有云的虚拟网关。","x-response-examples-description-2":"成功创建接入企业路由器的虚拟网关。","x-response-examples-tags-2":"dt"}},"summary":"创建虚拟网关","tags":["VirtualGateway"],"x-apiexplorer-hide":"false","x-is-registered":"Y","x-request-examples-1":{"virtual_gateway":{"bgp_asn":64512,"description":"","local_ep_group":["192.168.1.0/24"],"name":"vgw-c7b22","vpc_id":"6592c28e-95d7-4b0a-9f61-004fdf03420c"}},"x-request-examples-2":{"virtual_gateway":{"bgp_asn":64512,"description":"","enterprise_router_id":"61fa53c9-4446-4ebd-89b9-11a52b653a9c","name":"vgw-er","type":"default"}},"x-request-examples-description-1":"创建一个接入虚拟私有云的虚拟网关,设置本地BGP ASN为64512,虚拟网关访问云专服务IPv4子网列表为192.168.1.0/24。","x-request-examples-description-2":"创建一个接入企业路由器的虚拟网关,设置BGP ASN为64512。","x-request-examples-tags-2":"dt","x-request-examples-url-1":"POST https://{dc_endpoint}/v3/0605768a3300d5762f82c01180692873/dcaas/virtual-gateways","x-request-examples-url-2":"POST https://{dc_endpoint}/v3/92ea72fe26294aa180a2712c28e43c21/dcaas/virtual-gateways","x-support-sdk":"Y"}}},"product_short":"DC","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建虚拟网关","tags":"虚拟网关","uri":null,"version":"3.0.1"}