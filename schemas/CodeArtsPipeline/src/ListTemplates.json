{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"Constraint":{"description":"任务参数校验参数","example":{"errormsg":"参数值不能为空,且不支持<,>,{{,}}和\\\\(1-2000个字符)","type":"regex","value":"^(?![\\s\\S]*(\\{[\\{#%]))[\\s\\S]*$"},"properties":{"errormsg":{"description":"校验失败描述","type":"string"},"type":{"description":"校验规则类型","type":"string"},"value":{"description":"校验规则","type":"string"}},"required":["type","value","errormsg"]},"ErrorResponse":{"example":{"error_code":"DEVCP.00000001","error_msg":"The format of message is error"},"properties":{"error_code":{"description":"**参数解释**:\n错误码。\n**取值范围**:\n不涉及。","type":"string"},"error_msg":{"description":"**参数解释**:\n错误信息。\n**取值范围**:\n不涉及。","type":"string"}},"type":"object"},"PageView":{"description":"流水线参数详情","example":{"content":[{"$ref":"#/definitions/TemplateView/example"}],"page_number":1,"page_size":10,"total":1},"properties":{"content":{"description":"模板数据,list类型数据。","items":{"$ref":"#/definitions/TemplateView"},"type":"array"},"page_number":{"description":"页码数","format":"int32","type":"integer"},"page_size":{"description":"每页显示数","format":"int32","type":"integer"},"total":{"description":"**参数解释**:\n总条目数量。\n**取值范围**:\n大于等于0。","format":"int32","type":"integer"}},"required":["total","page_number","page_size","content"]},"ParamTypeLimits":{"description":"CodeCheck任务语言参数","example":{"disable":null,"displayname":"C/C++","id":"beeb7b7eb05c4f998c6503925a4635a7","language":"cpp","name":"C/C++"},"properties":{"disable":{"description":"是否废弃","type":"string"},"displayname":{"description":"语言展示名字","type":"string"},"id":{"description":"策略ID","type":"string"},"language":{"description":"扫描语言","type":"string"},"name":{"description":"语言名字","type":"string"}},"required":["disable","name","displayname","id","language"]},"TemplateParam":{"description":"流水线参数","example":{"constraints":[{"$ref":"#/definitions/Constraint/example"}],"description":"在这里输入服务端口","display_name":"service_port","display_type":"text","is_default":false,"is_static":false,"limits":[{"$ref":"#/definitions/ParamTypeLimits/example"}],"name":"service_port","paramtype":"String","required":true,"value":"","visible":true},"properties":{"constraints":{"description":"array类型数据","items":{"$ref":"#/definitions/Constraint"},"type":"array"},"description":{"description":"流水线参数描述","type":"string"},"display_name":{"description":"流水线参数展示名字","type":"string"},"display_type":{"description":"流水线参数展示类型","type":"string"},"is_default":{"description":"是否默认参数","type":"boolean"},"is_static":{"description":"是否静态参数","type":"boolean"},"limits":{"description":"array类型数据","items":{"$ref":"#/definitions/ParamTypeLimits"},"type":"array"},"name":{"description":"流水线参数名字","type":"string"},"paramtype":{"description":"流水线参数类型","type":"string"},"required":{"description":"是否必须","type":"string"},"value":{"description":"流水线参数值","type":"string"},"visible":{"description":"是否可见","type":"string"}},"required":["required","visible","name","value","description","paramtype","display_type","display_name","is_static","is_default","limits","constraints"]},"TemplateState":{"description":"子任务参数","example":{"display_name":"默认任务","dsl_method":"buildJob","execution_mode":"parallel","is_execute":true,"is_manual_execution":false,"is_show_codehub_url":false,"job_id":"00012","job_name":"Maven","job_parameter_validate":false,"module_or_template_id":"00012","module_or_template_name":"Maven","name":"Task_2","parameters":{},"project_id":"3560a08e3c5143c5bb0236e0ef910926","type":"task"},"properties":{"display_name":{"description":"任务在流水线页面展示名字","type":"string"},"dsl_method":{"description":"流水线可挂载任务类型","type":"string"},"execution_mode":{"description":"控制阶段下任务的串并行(type是task的execution_mode值为null,type是stage的execution_mode可选parallel(并行)或者serial(串行))","type":"string"},"is_execute":{"description":"是否执行","type":"boolean"},"is_manual_execution":{"description":"是否手动执行","type":"boolean"},"is_show_codehub_url":{"description":"是否显示代码仓URL","type":"boolean"},"job_id":{"description":"执行任务ID","type":"string"},"job_name":{"description":"执行任务名字","type":"string"},"job_parameter_validate":{"description":"任务参数是否校验","type":"boolean"},"module_or_template_id":{"description":"模板任务ID","type":"string"},"module_or_template_name":{"description":"模板任务名字","type":"string"},"name":{"description":"任务名字","type":"string"},"parameters":{"additionalProperties":{"type":"object"},"description":"任务参数,map类型数据","type":"object"},"project_id":{"description":"任务所属项目ID","type":"string"},"type":{"description":"任务类型","type":"string"}},"required":["type","name","module_or_template_id","module_or_template_name","display_name","dsl_method","parameters","is_manual_execution","job_parameter_validate","is_show_codehub_url","is_execute","job_id","job_name","project_id","execution_mode"]},"TemplateView":{"description":"流水线创建状态响应体","example":{"description":"在主机上部署springboot的jar包,并启动该服务","domain_id":"","domain_name":"","flow":null,"is_build_in":true,"is_watch":false,"parameter":[{"$ref":"#/definitions/TemplateParam/example"}],"project_id":null,"project_name":null,"region":"{region}","states":null,"template_id":"6efb0b24e2e9489eb0e53ee12904a19e","template_name":"SpringBoot应用部署","template_type":"deployMan","template_url":"https://example.com/workflow/edit/f1dc5d4081aa4f09aac716dbca803b93","user_id":"","user_name":""},"properties":{"can_delete":{"description":"是否可以删除","type":"boolean"},"can_update":{"description":"是否可以修改","type":"boolean"},"create_time":{"description":"创建时间","type":"string"},"description":{"description":"模板描述","type":"string"},"domain_id":{"description":"租户ID","type":"string"},"domain_name":{"description":"租户名字","type":"string"},"flow":{"additionalProperties":{"additionalProperties":{"type":"string"},"type":"object"},"description":"编排flow详情,描述流水线内各阶段任务的串并行关系。map类型数据,key为阶段名字,默认第一阶段initial,最后阶段为final,其余名字以'state_数字'标识。value为该阶段内任务(以'Task_数字'标识)以及后续阶段的标识。本字段为描述流水线基础编排数据之一,建议可通过流水线真实界面基于模板创建接口中获取","type":"object"},"is_build_in":{"description":"是否内置模板","type":"boolean"},"is_watch":{"description":"是否关注","type":"boolean"},"last_modify_time":{"description":"修改时间","type":"string"},"need_hub":{"description":"是否需要代码仓库","type":"boolean"},"parameter":{"description":"模板参数","items":{"$ref":"#/definitions/TemplateParam"},"type":"array"},"project_id":{"description":"项目ID","type":"string"},"project_name":{"description":"项目名字","type":"string"},"region":{"description":"系统模板region为Cloud Pipeline。自定义模板region为实际region","type":"string"},"states":{"additionalProperties":{"$ref":"#/definitions/TemplateState"},"description":"编排State详情,map类型数据。本字段为描述流水线基础编排数据之一,建议可通过流水线真实界面基于模板创建接口中获取","type":"object"},"template_id":{"description":"模板ID","type":"string"},"template_name":{"description":"模板名字","type":"string"},"template_type":{"description":"模板类型","type":"string"},"template_url":{"description":"模板编辑URL","type":"string"},"user_id":{"description":"用户ID","type":"string"},"user_name":{"description":"用户名字","type":"string"}},"required":["template_id","template_name","template_type","template_url","user_id","user_name","domain_id","domain_name","is_build_in","region","project_id","project_name","create_time","last_modify_time","is_watch","description","parameter","flow","states","can_update","can_delete","need_hub"]}},"description":null,"group_id":"030b4771a0bd4a949ed5e26f50da9017","host":"cloudpipeline-ext.cn-north-4.myhuaweicloud.com","id":"94340fe3e78b479c8e9943a51ca23c0f","info_version":"v2","method":"get","name":"ListTemplates","parameters":{},"paths":{"/v3/templates":{"get":{"deprecated":false,"description":"查询模板列表,支持分页查询,支持模板名字模糊查询","operationId":"ListTemplates","parameters":[{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":false,"type":"string","x-example":"MIIDkgYJKoZIhvIIDgzCCXXXXXX..."},{"description":"模板类型","in":"query","maxLength":64,"minLength":1,"name":"template_type","required":true,"type":"string","x-example":"pipeline"},{"description":"是否内置模板","in":"query","name":"is_build_in","required":true,"type":"string","x-example":false},{"description":"偏移量,表示从此偏移量开始查询,offset大于等于0","format":"int32","in":"query","maximum":100,"minimum":0,"name":"offset","required":false,"type":"integer","x-example":0},{"description":"每页显示的条目数量","format":"int32","in":"query","maximum":100,"minimum":1,"name":"limit","required":false,"type":"integer","x-example":20},{"description":"模板名称,匹配规则为模糊匹配","in":"query","maxLength":60,"minLength":1,"name":"name","required":false,"type":"string","x-example":"test"},{"description":"排序字段","in":"query","maxLength":64,"minLength":1,"name":"sort","required":false,"type":"string","x-example":"template_name"},{"description":"是否正序","in":"query","name":"asc","required":false,"type":"string","x-example":true}],"produces":["application/json"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PageView"}},"400":{"description":"Bad request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"apig-auth-iam":[]}],"summary":"查询模板列表","tags":["模板管理"],"x-apigateway-backend":{"httpEndpoints":{"address":"10.63.38.190:40115","description":"","method":"GET","path":"/TaskCenter/v3/templates","scheme":"https","timeout":30000},"parameters":[{"description":"模板类型","in":"QUERY","name":"template_type","origin":"REQUEST"},{"description":"是否内置模板","in":"QUERY","name":"is_build_in","origin":"REQUEST"},{"description":"偏移量,表示从此偏移量开始查询,offset大于等于0","in":"QUERY","name":"offset","origin":"REQUEST"},{"description":"每页显示的条目数量,每页最多显示100条","in":"QUERY","name":"limit","origin":"REQUEST"},{"description":"模板名称,匹配规则为模糊匹配","in":"QUERY","name":"name","origin":"REQUEST"},{"description":"排序字段","in":"QUERY","name":"sort","origin":"REQUEST"},{"description":"是否正序","in":"QUERY","name":"asc","origin":"REQUEST"}],"type":"HTTP"},"x-apigateway-cors":false,"x-apigateway-match-mode":"NORMAL","x-apigateway-request-type":"public","x-first-open-time":"2020-03-21","x-is-registered":"Y","x-name":"分页查询模板列表","x-request-examples-url-1":"GET https://{endpoint}/v3/templates?template_type=pipeline&is_build_in=false&offset=0&limit=10","x-support-sdk":"Y"}}},"product_short":"CodeArtsPipeline","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-app":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-iam-none":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM_NONE"}},"summary":"查询模板列表","tags":"模板管理","uri":null,"version":"2.0"}