{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"CustomVariable":{"properties":{"description":{"description":"**参数解释**:\n参数描述。\n**约束限制**:\n不涉及。\n**取值范围**:\n最长1024字符。\n**默认取值**:\n不涉及。","type":"string"},"is_reset":{"description":"**参数解释**:\n是否重置。自增长参数被编辑,则使用编辑后的值,否则进行末位数字递增。\n**约束限制**:\n不涉及。\n**取值范围**:\n- true:使用编辑后的参数值。\n- false:使用自增长参数。\n**默认取值**:\nfalse。","type":"boolean"},"is_runtime":{"description":"**参数解释**:\n是否运行时设置参数。\n**约束限制**:\n不涉及。\n**取值范围**:\n- true:是运行时设置参数。\n- false:不是运行时设置参数。\n**默认取值**:\nfalse。","type":"boolean"},"is_secret":{"description":"**参数解释**:\n是否私密参数。\n**约束限制**:\n不涉及。\n**取值范围**:\n- true:是私密参数。\n- false:不是私密参数。\n**默认取值**:\nfalse。","type":"boolean"},"latest_value":{"description":"**参数解释**:\n最近一次运行的参数值。\n**约束限制**:\n不涉及。\n**取值范围**:\n最长8192字符。\n**默认取值**:\n不涉及。","type":"string"},"limits":{"description":"**参数解释**:\n枚举值列表。\n**约束限制**:\n不涉及。\n**取值范围**:\n每个枚举值不超过1024字符。\n**默认取值**:\n不涉及。","items":{"type":"object"},"type":"array"},"name":{"description":"**参数解释**:\n自定义参数名称。\n**约束限制**:\n不涉及。\n**取值范围**:\n仅支持大小写英文字母、数字、“_”,不超过128个字符。\n**默认取值**:\n不涉及。","type":"string"},"pipeline_id":{"description":"**参数解释**:\n流水线ID,可以通过[查询流水线列表](ListPipelines.xml)接口,其中pipelines.pipelineId即为流水线ID。\n**约束限制**:\n不涉及。\n**取值范围**:\n32位字符,由数字和字母组成。\n**默认取值**:\n不涉及。","type":"string"},"runtime_value":{"description":"**参数解释**:\n流水线运行时设置参数的传入值。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","type":"string"},"sequence":{"description":"**参数解释**:\n参数序号,从1开始。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","format":"int32","type":"integer"},"type":{"description":"**参数解释**:\n自定义参数类型。\n**约束限制**:\n不涉及。\n**取值范围**:\n- autoIncrement:自增长参数。\n- enum:枚举参数。\n- string:字符串参数。\n**默认取值**:\n不涉及。","type":"string"},"value":{"description":"**参数解释**:\n自定义参数默认值。\n**约束限制**:\n不涉及。\n**取值范围**:\n最长8192字符。\n**默认取值**:\n不涉及。","type":"string"}},"type":"object"},"ErrorResponse":{"example":{"error_code":"DEVCP.00000001","error_msg":"The format of message is error"},"properties":{"error_code":{"description":"**参数解释**:\n错误码。\n**取值范围**:\n不涉及。","type":"string"},"error_msg":{"description":"**参数解释**:\n错误信息。\n**取值范围**:\n不涉及。","type":"string"}},"type":"object"},"PipelineTemplateDTO":{"properties":{"definition":{"description":"**参数解释**:\n模板编排json,包含stages。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","example":{"stages":[{"depends_on":[],"identifier":"0","jobs":[{"depends_on":[],"exec_type":"OCTOPUS_JOB","identifier":"166860727889079917574-5000-49bf-bf32-6ebe3ab1a18c","name":"流水线模板构建插件测试版","sequence":0,"stage_id":1668607272883,"steps":[{"business_type":"Build","identifier":"16686072762781248b5d3-ff81-4f94-a2de-779834047365","inputs":[{"encrypt":false,"key":"orgName","value":"org"},{"encrypt":false,"key":"pipelineNumber","value":"v1.0.0"},{"encrypt":false,"key":"imageName","value":"demo"},{"encrypt":false,"key":"is_build_in","value":"system"},{"encrypt":false,"key":"module_or_template_id","value":"00055"}],"multi_step_editable":1,"name":"流水线模板构建插件测试版","runtime_attribution":"agent","sequence":0,"task":"test_build_template@0.0.2"}],"timeout":"","timeout_unit":""}],"name":"阶段_1","post":null,"pre":[{"task":"official_devcloud_autoTrigger@0.0.1"}],"run_always":false,"sequence":"0"}]},"type":"string"},"description":{"description":"**参数解释**:\n模板描述。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","example":"","type":"string"},"domain_id":{"description":"**参数解释**:\n租户id。\n**约束限制**:\n不涉及。\n**取值范围**:\n32位字符,由数字和字母组成。\n**默认取值**:\n不涉及。","example":"string","type":"string"},"is_show_source":{"description":"**参数解释**:\n是否显示流水线源。\n**约束限制**:\n不涉及。\n**取值范围**:\n- true:显示流水线源。\n- false:不显示流水线源。\n**默认取值**:\n不涉及。","example":true,"type":"boolean"},"is_system":{"description":"**参数解释**:\n是否系统模板。\n**约束限制**:\n不涉及。\n**取值范围**:\n- true:是系统模板。\n- false:不是系统模板。\n**默认取值**:\n不涉及。","example":false,"type":"boolean"},"language":{"description":"**参数解释**:\n模板语言。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","example":"","type":"string"},"name":{"description":"**参数解释**:\n模板名称。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","example":"新建流水线模板-2022111622112","type":"string"},"variables":{"description":"**参数解释**:\n自定义参数。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","items":{"$ref":"#/definitions/CustomVariable"},"type":"array"}},"required":["name","language","definition","is_system","domain_id","is_show_source"],"type":"object"},"TemplateIdVO":{"properties":{"templateId":{"description":"**参数解释**:\n模板ID。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","type":"string"}},"type":"object"}},"description":null,"group_id":"030b4771a0bd4a949ed5e26f50da9017","host":"cloudpipeline-ext.cn-north-4.myhuaweicloud.com","id":"6b67e35e151e411d92f2b437f62e2e61","info_version":"v2","method":"put","name":"UpdatePipelineTemplate","parameters":{"X-Auth-Token":{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."}},"paths":{"/v5/{tenant_id}/api/pipeline-templates/{template_id}":{"put":{"description":"更新流水线模板","operationId":"UpdatePipelineTemplate","parameters":[{"description":"租户ID","in":"path","name":"tenant_id","required":true,"type":"string"},{"description":"模板ID","in":"path","name":"template_id","required":true,"type":"string"},{"description":"修改模板请求体","in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/PipelineTemplateDTO"}},{"$ref":"#/parameters/X-Auth-Token"}],"responses":{"200":{"description":"模板ID","examples":{"application/json":{"templateId":"ad8a26f8b19a4b83a8d92eb733b65476"}},"schema":{"$ref":"#/definitions/TemplateIdVO"}},"400":{"description":"Bad request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"summary":"更新流水线模板","tags":["流水线模板管理--新"],"x-api-type":"open-api","x-is-registered":"Y","x-request-examples-1":{"definition":"{\"stages\":[{\"name\":\"阶段_1\",\"sequence\":\"0\",\"jobs\":[{\"stage_id\":1698067319814,\"identifier\":\"16980673371452673e2a4-b3e1-4389-a145-fc57a4473137\",\"name\":\"CloudBuild模板\",\"depends_on\":[],\"timeout\":\"\",\"timeout_unit\":\"\",\"steps\":[{\"name\":\"CloudBuild模板\",\"task\":\"official_devcloud_cloudBuild_template\",\"sequence\":0,\"inputs\":[{\"key\":\"pipelineNumber\",\"value\":\"v1.0.0\"},{\"key\":\"artifactName\",\"value\":\"name\"},{\"key\":\"is_build_in\",\"value\":\"system\"},{\"key\":\"module_or_template_id\",\"value\":\"00057\"}],\"business_type\":\"Build\",\"runtime_attribution\":\"agent\",\"identifier\":\"1698067328741629de896-a67b-4c2a-be40-7f6531af2f19\",\"multi_step_editable\":0,\"official_task_version\":\"0.0.1\"}],\"resource\":\"{\\\"type\\\":\\\"system\\\",\\\"arch\\\":\\\"x86\\\"}\",\"condition\":\"completed()\",\"exec_type\":\"OCTOPUS_JOB\",\"sequence\":0},{\"identifier\":\"1698067635354dba15971-5277-48fe-a219-8cd578aa8773\",\"name\":\"CodeCheck中文名称\",\"depends_on\":[],\"timeout\":\"\",\"timeout_unit\":\"\",\"steps\":[{\"name\":\"CodeCheck中文名称\",\"task\":\"official_devcloud_codeCheck_template\",\"sequence\":0,\"inputs\":[{\"key\":\"language\",\"value\":\"C/C++\"},{\"key\":\"module_or_template_id\",\"value\":\"d7dffaefb6d94c63a09cf141668356c7\"}],\"business_type\":\"Gate\",\"runtime_attribution\":\"agent\",\"identifier\":\"1698067631617e1847e52-06ff-429e-9bfa-492ae877f192\",\"multi_step_editable\":0,\"official_task_version\":\"0.0.1\"}],\"resource\":\"{\\\"type\\\":\\\"system\\\",\\\"arch\\\":\\\"x86\\\"}\",\"condition\":\"completed()\",\"exec_type\":\"OCTOPUS_JOB\",\"sequence\":1}],\"identifier\":\"1698067319814bd28be5a-eb0c-4bdf-9ac5-4b441ef46ef9\",\"pre\":[{\"task\":\"official_devcloud_autoTrigger\",\"sequence\":0}],\"post\":null,\"depends_on\":[],\"run_always\":false}]}","description":"","domain_id":"ce8df55870164338a72d7e828a966a2a","is_show_source":true,"is_system":false,"language":"none","name":"新建流水线模板-20231023212159","variables":[]},"x-request-examples-text-1":{"definition":"{\"stages\":[{\"name\":\"阶段_1\",\"sequence\":\"0\",\"jobs\":[{\"stage_id\":1698067319814,\"identifier\":\"16980673371452673e2a4-b3e1-4389-a145-fc57a4473137\",\"name\":\"CloudBuild模板\",\"depends_on\":[],\"timeout\":\"\",\"timeout_unit\":\"\",\"steps\":[{\"name\":\"CloudBuild模板\",\"task\":\"official_devcloud_cloudBuild_template\",\"sequence\":0,\"inputs\":[{\"key\":\"pipelineNumber\",\"value\":\"v1.0.0\"},{\"key\":\"artifactName\",\"value\":\"name\"},{\"key\":\"is_build_in\",\"value\":\"system\"},{\"key\":\"module_or_template_id\",\"value\":\"00057\"}],\"business_type\":\"Build\",\"runtime_attribution\":\"agent\",\"identifier\":\"1698067328741629de896-a67b-4c2a-be40-7f6531af2f19\",\"multi_step_editable\":0,\"official_task_version\":\"0.0.1\"}],\"resource\":\"{\\\"type\\\":\\\"system\\\",\\\"arch\\\":\\\"x86\\\"}\",\"condition\":\"completed()\",\"exec_type\":\"OCTOPUS_JOB\",\"sequence\":0},{\"identifier\":\"1698067635354dba15971-5277-48fe-a219-8cd578aa8773\",\"name\":\"CodeCheck中文名称\",\"depends_on\":[],\"timeout\":\"\",\"timeout_unit\":\"\",\"steps\":[{\"name\":\"CodeCheck中文名称\",\"task\":\"official_devcloud_codeCheck_template\",\"sequence\":0,\"inputs\":[{\"key\":\"language\",\"value\":\"C/C++\"},{\"key\":\"module_or_template_id\",\"value\":\"d7dffaefb6d94c63a09cf141668356c7\"}],\"business_type\":\"Gate\",\"runtime_attribution\":\"agent\",\"identifier\":\"1698067631617e1847e52-06ff-429e-9bfa-492ae877f192\",\"multi_step_editable\":0,\"official_task_version\":\"0.0.1\"}],\"resource\":\"{\\\"type\\\":\\\"system\\\",\\\"arch\\\":\\\"x86\\\"}\",\"condition\":\"completed()\",\"exec_type\":\"OCTOPUS_JOB\",\"sequence\":1}],\"identifier\":\"1698067319814bd28be5a-eb0c-4bdf-9ac5-4b441ef46ef9\",\"pre\":[{\"task\":\"official_devcloud_autoTrigger\",\"sequence\":0}],\"post\":null,\"depends_on\":[],\"run_always\":false}]}","description":"","domain_id":"ce8df55870164338a72d7e828a966a2a","is_show_source":true,"is_system":false,"language":"none","name":"新建流水线模板-20231023212159","variables":[]},"x-request-examples-url-1":"PUT https://{endpoint}/v5/ce8df55870164338a72d7e828a966a2a/api/pipeline-templates/ad8a26f8b19a4b83a8d92eb733b65476","x-support-sdk":"Y"}}},"product_short":"CodeArtsPipeline","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-app":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-iam-none":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM_NONE"}},"summary":"更新流水线模板","tags":"流水线模板管理--新","uri":null,"version":"2.0"}