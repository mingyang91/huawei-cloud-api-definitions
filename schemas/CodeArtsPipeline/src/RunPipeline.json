{"base_path":"/","components":null,"consumes":"[\"application/json;charset=UTF-8\"]","definitions":{"PipelineRunId":{"description":"流水线运行实例ID,[启动流水线](RunPipeline.xml)接口的返回值即为流水线运行实例ID。","properties":{"pipeline_run_id":{"description":"**参数解释**:\n流水线运行实例ID,[启动流水线](RunPipeline.xml)接口的返回值即为流水线运行实例ID。\n**取值范围**:\n32位字符,仅由数字和字母组成。","example":"1ee78c63431f48b49cd727b49d47a4be","type":"string"}},"type":"object"},"RunPipelineDTO":{"description":"运行流水线请求体","properties":{"choose_jobs":{"description":"**参数解释**:\n流水线运行时选择的流水线任务。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","example":["1671505863593ad534b54-204e-4eff-8781-c6dfe3edd195"],"items":{"type":"string"},"type":"array"},"choose_stages":{"description":"**参数解释**:\n选择的流水线阶段。优先级高于choose_jobs,即stage未选择时,无视choose_jobs中该stage下的job。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","items":{"type":"string"},"type":"array"},"description":{"description":"**参数解释**:\n流水线运行描述。\n**约束限制**:\n不涉及。\n**取值范围**:\n不超过1024字符。\n**默认取值**:\n不涉及。","example":"版本发布","type":"string"},"sources":{"description":"**参数解释**:\n代码源信息列表。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","items":{"properties":{"params":{"description":"**参数解释**:\n流水线源相关参数。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","properties":{"alias":{"description":"**参数解释**:\n代码仓别名,用户自定义,用于多仓时帮助区分系统参数。例如:A_REPO_COMMIT_ID,B_REPO_COMMIT_ID。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","type":"string"},"build_params":{"description":"**参数解释**:\n流水线具体构建参数。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","properties":{"build_type":{"description":"**参数解释**:\n代码仓触发类型,包含branch-分支触发,tag-标签触发等。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","example":"branch","type":"string"},"event_type":{"description":"**参数解释**:\n流水线的触发方式。\n- Manual:手动触发。\n- Scheduler:定时任务。\n- MR:MR触发。\n- Push:Push事件触发。\n- CreateTag:Tag事件触发。\n- Issue:Issue触发。\n- Note:评论触发。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","example":"Manual","type":"string"},"tag":{"description":"**参数解释**:\n流水线触发运行的标签。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","example":null,"type":"string"},"target_branch":{"description":"**参数解释**:\n流水线触发运行分支。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","example":"master","type":"string"}},"required":["build_type"]},"change_request_ids":{"description":"**参数解释**:\n执行变更流水线变更ID列表。可以通过[查询变更列表](ListChangeRequests.xml)接口,其中data.id即为变更ID。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","items":{"type":"string"},"type":"array"},"codehub_id":{"description":"**参数解释**:\nCodeArts Repo代码仓ID。可以通过代码仓查询接口获取,代码仓的唯一标识。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","example":2111679719,"type":"string"},"default_branch":{"description":"**参数解释**:\n流水线执行时代码仓默认分支。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","example":"master","type":"string"},"endpoint_id":{"description":"**参数解释**:\n代码源扩展点ID。可以通过[查询扩展点列表接口](ListEndpointsDetails.xml)获取,其中endpoints.uuid即为扩展点的唯一标识。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","example":null,"type":"string"},"git_type":{"description":"**参数解释**:\n代码仓类型。\n**约束限制**:\n不涉及。\n**取值范围**:\n- codehub。\n- gitee。\n- github。\n- gitcode。\n- gitlab。\n**默认取值**:\n不涉及。","example":"codehub","type":"string"},"git_url":{"description":"**参数解释**:\nGit仓库https地址,例如https://example.com/CloudPipelinezycs00001/2000.git。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","example":"https://example.com/CloudPipelinezycs00001/2000.git","type":"string"}},"required":["git_type","git_url"]},"type":{"description":"**参数解释**:\n流水线源类型,目前支持“code”、“artifact”等代码源类型。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","example":"code","type":"string"}},"required":["type"]},"type":"array"},"variables":{"description":"**参数解释**:\n使用的自定义参数。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","items":{"properties":{"name":{"description":"**参数解释**:\n参数名。\n**约束限制**:\n不涉及。\n**取值范围**:\n不涉及。\n**默认取值**:\n不涉及。","example":"dfssda","type":"string"},"value":{"description":"**参数解释**:\n参数值。\n**约束限制**:\n不涉及。\n**取值范围**:\n不超过8192字符。\n**默认取值**:\n不涉及。","example":"fsaafsd","type":"string"}},"required":["name","value"]},"type":"array"}},"type":"object"}},"description":null,"group_id":"030b4771a0bd4a949ed5e26f50da9017","host":"cloudpipeline-ext.cn-north-4.myhuaweicloud.com","id":"32560c52720b4630a7eaf3a5c9b56405","info_version":"v2","method":"post","name":"RunPipeline","parameters":{"Path-Pipeline-Id":{"description":"流水线ID","in":"path","maxLength":32,"minLength":32,"name":"pipeline_id","required":true,"type":"string","x-example":"8025ba36a87a4dd5af496708c2961817"},"Path-Project-Id":{"description":"项目ID","in":"path","maxLength":32,"minLength":32,"name":"project_id","required":true,"type":"string"},"X-Auth-Token":{"description":"用户Token。\n\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."}},"paths":{"/v5/{project_id}/api/pipelines/{pipeline_id}/run":{"post":{"description":"启动流水线","operationId":"RunPipeline","parameters":[{"$ref":"#/parameters/Path-Project-Id"},{"$ref":"#/parameters/Path-Pipeline-Id"},{"description":"运行流水线请求体","in":"body","name":"run_pipeline_req","required":false,"schema":{"$ref":"#/definitions/RunPipelineDTO"}},{"$ref":"#/parameters/X-Auth-Token"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PipelineRunId"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"summary":"启动流水线","tags":["流水线管理--新"],"x-apigateway-backend":{"httpEndpoints":{"address":"10.63.38.190:40115","description":"","method":"POST","path":"/CloudPipelineServer/v5/{project_id}/api/pipelines/{pipeline_id}/run","scheme":"https","timeout":30000},"parameters":[{"description":"项目ID","in":"PATH","name":"project_id","origin":"REQUEST"},{"description":"流水线ID","in":"PATH","name":"pipeline_id","origin":"REQUEST"}],"type":"HTTP"},"x-apigateway-cors":false,"x-apigateway-match-mode":"NORMAL","x-apigateway-request-type":"public","x-is-registered":"Y","x-name":"启动流水线","x-request-examples-url-1":"POST https://{endpoint}/v5/54f90b75fc1447b1b65e8d3a9f77923d/api/pipelines/e5460d1d403146a1935c2d4b68ef506c/run","x-support-sdk":"Y"}}},"product_short":"CodeArtsPipeline","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-app":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-iam-none":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM_NONE"}},"summary":"启动流水线","tags":"流水线管理--新","uri":null,"version":"2.0"}