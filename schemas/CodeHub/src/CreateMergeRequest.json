{"base_path":null,"components":{"schemas":{"ApiError":{"description":"**参数解释:**\n错误信息。","properties":{"error_code":{"description":"**参数解释:**\n错误码。","maxLength":20,"minLength":0,"type":"string"},"error_msg":{"description":"**参数解释:**\n错误信息。","maxLength":1000,"minLength":0,"type":"string"}},"type":"object"},"ApprovalUserDto":{"properties":{"approver_comment":{"description":"审核意见","maxLength":100000,"minLength":1,"type":"string"},"avatar_url":{"description":"头像url","maxLength":100000,"minLength":1,"type":"string"},"email":{"description":"电子邮箱","maxLength":100000,"minLength":1,"type":"string"},"id":{"description":"用户id","maximum":2147483647,"minimum":1,"type":"integer"},"name":{"description":"用户名称","maxLength":100000,"minLength":1,"type":"string"},"name_cn":{"description":"中文名称","maxLength":100000,"minLength":1,"type":"string"},"nick_name":{"description":"用户昵称","maxLength":100000,"minLength":1,"type":"string"},"state":{"description":"状态","maxLength":100000,"minLength":1,"type":"string"},"tenant_name":{"description":"租户名称","maxLength":100000,"minLength":1,"type":"string"},"updated_at":{"description":"更新时间","format":"yyyy-MM-dd'T'HH:mm:ss.SSSXXX","type":"string"},"username":{"description":"用户名称","maxLength":100000,"minLength":1,"type":"string"}},"type":"object"},"MergeRequestDetailExternalDto":{"allOf":[{"$ref":"#/components/schemas/MergeRequestExternalDto"},{"properties":{"approval_merge_request_approvers":{"description":"审核人","items":{"$ref":"#/components/schemas/ApprovalUserDto"},"type":"array"},"rebase_in_progress":{"description":"是否正在rebase","type":"boolean"},"review_mode":{"description":"合并请求模式","enum":["vote","approval"],"type":"string"},"squash":{"description":"squash合入","type":"boolean"},"squash_commit_message":{"description":"squash提交信息","maxLength":100000,"minLength":0,"type":"string"}}}]},"MergeRequestDiffExternalDto":{"properties":{"added_lines":{"description":"新增行数","maximum":2147483647,"minimum":0,"type":"integer"},"base_commit_sha":{"description":"base commit节点","maxLength":40,"minLength":40,"type":"string"},"commits_count":{"description":"commit数量","maximum":2147483647,"minimum":1,"type":"integer"},"created_at":{"description":"创建时间","format":"yyyy-MM-dd'T'HH:mm:ss.SSSXXX","type":"string"},"external_diff":{"description":"外部diff文件","maxLength":100000,"minLength":1,"type":"string"},"external_diff_store":{"description":"外部差异存储","maximum":2147483647,"minimum":1,"type":"integer"},"head_commit_sha":{"description":"head commit节点","maxLength":40,"minLength":40,"type":"string"},"id":{"description":"合并请求diff id","maximum":2147483647,"minimum":1,"type":"integer"},"merge_request_id":{"description":"合并请求id","maximum":2147483647,"minimum":1,"type":"integer"},"real_size":{"description":"diff文件数量","maxLength":100000,"minLength":1,"type":"string"},"removed_lines":{"description":"删除行数","maximum":2147483647,"minimum":0,"type":"integer"},"start_commit_sha":{"description":"start commit节点","maxLength":40,"minLength":40,"type":"string"},"state":{"description":"状态","type":"string"},"stored_externally":{"description":"是否外部存储","type":"boolean"},"updated_at":{"description":"更新时间","format":"yyyy-MM-dd'T'HH:mm:ss.SSSXXX","type":"string"}},"type":"object"},"MergeRequestExternalDto":{"properties":{"author":{"$ref":"#/components/schemas/UserBasicExternalDto"},"closed_at":{"description":"关闭时间","type":"string"},"closed_by":{"$ref":"#/components/schemas/UserBasicExternalDto"},"codecheck_defect_count":{"description":"代码检查问题数","type":"integer"},"codecheck_state":{"description":"代码检查状态","type":"integer"},"created_at":{"description":"创建时间","type":"string"},"description":{"description":"合并请求描述","type":"string"},"devcloud_source_branch":{"description":"源分支","type":"string"},"diverged_commits_count":{"description":"源分支落后commit数","type":"integer"},"force_remove_source_branch":{"description":"合入后删除源分支","type":"boolean"},"id":{"description":"合并请求id","type":"integer"},"iid":{"description":"合并请求iid","type":"integer"},"is_source_branch_protected":{"description":"源分支是否为保护分支","type":"boolean"},"is_use_temp_branch":{"description":"是否使用临时分支","type":"boolean"},"labels":{"description":"标签","items":{"type":"object"},"type":"array"},"merge_commit_sha":{"description":"合入commit节点","type":"string"},"merge_request_assignee_list":{"description":"合并人列表","items":{"$ref":"#/components/schemas/UserBasicExternalDto"},"type":"array"},"merge_request_diff":{"$ref":"#/components/schemas/MergeRequestDiffExternalDto"},"merge_request_related_work_items":{"description":"合并请求关联单数量","items":{"$ref":"#/components/schemas/MergeRequestRelatedWorkItemDto"},"type":"array"},"merge_request_review_count":{"description":"打分","type":"integer"},"merge_request_reviewer_list":{"description":"评审人列表","items":{"$ref":"#/components/schemas/MergeRequestReviewerExternalDto"},"type":"array"},"merge_request_reviewers_count":{"description":"评审人数量","type":"integer"},"merge_status":{"description":"可合并状态","type":"string"},"merge_when_build_succeeds":{"description":"流水线成功后自动合入","type":"boolean"},"merged_at":{"description":"合并时间","type":"string"},"merged_by":{"$ref":"#/components/schemas/UserBasicExternalDto"},"milestone":{"$ref":"#/components/schemas/MilestoneBasicDto"},"moderation_result":{"description":"送审结果","type":"boolean"},"moderation_status":{"description":"送审状态码","maximum":2147483647,"minimum":1,"type":"integer"},"moderation_time":{"description":"送审时间时间戳","format":"int64","maximum":9223372036854775807,"minimum":1,"type":"integer"},"notes":{"description":"检视意见","type":"integer"},"repository_id":{"description":"目标仓库id","type":"integer"},"sha":{"description":"当前合并请求最新commit","type":"string"},"source_branch":{"description":"源分支","type":"string"},"source_project_id":{"description":"源项目id","type":"string"},"source_repository_id":{"description":"源仓库id","type":"integer"},"state":{"description":"合并请求状态","type":"string"},"subscribed":{"description":"订阅","type":"boolean"},"target_branch":{"description":"目标分支","type":"string"},"target_project_id":{"description":"目标项目id","type":"string"},"target_repository_id":{"description":"目标仓库id","type":"integer"},"title":{"description":"合并请求标题","type":"string"},"updated_at":{"description":"更新时间","type":"string"},"user_notes_count":{"description":"检视意见数量","type":"integer"},"web_url":{"description":"主页url","type":"string"},"work_in_progress":{"description":"WIP状态","type":"boolean"}},"type":"object"},"MergeRequestRelatedWorkItemDto":{"properties":{"create_at":{"description":"创建时间","format":"yyyy-MM-dd'T'HH:mm:ss.SSSXXX","type":"string"},"id":{"description":"关联id","maximum":2147483647,"minimum":1,"type":"integer"},"merge_request_id":{"description":"合并请求id","maximum":2147483647,"minimum":1,"type":"integer"},"merge_request_state":{"description":"合并请求状态","maxLength":100000,"minLength":1,"type":"string"},"merge_request_title":{"description":"合并请求标题","maxLength":100000,"minLength":1,"type":"string"},"merge_request_url":{"description":"合并请求url","maxLength":100000,"minLength":1,"type":"string"},"message":{"description":"关联结果信息","maxLength":100000,"minLength":1,"type":"string"},"related_id":{"description":"关联单id","maxLength":100000,"minLength":1,"type":"string"},"related_title":{"description":"关联单标题","maxLength":100000,"minLength":1,"type":"string"},"related_url":{"description":"关联单url","maxLength":100000,"minLength":1,"type":"string"},"repo_id":{"description":"仓库id","maximum":2147483647,"minimum":1,"type":"integer"},"result":{"description":"关联结果","maxLength":100000,"minLength":1,"type":"integer"},"source_branch":{"description":"源分支","maxLength":100000,"minLength":1,"type":"string"},"status":{"description":"状态","type":"object"},"subject":{"description":"话题","maxLength":100000,"minLength":1,"type":"string"},"target_branch":{"description":"目标分支","maxLength":100000,"minLength":1,"type":"string"},"tracker":{"description":"跟单人","type":"object"},"update_at":{"description":"更新时间","format":"yyyy-MM-dd'T'HH:mm:ss.SSSXXX","type":"string"},"user_id":{"description":"用户id","maxLength":100000,"minLength":1,"type":"string"}},"type":"object"},"MergeRequestReviewerExternalDto":{"properties":{"id":{"description":"评审人id","maximum":2147483647,"minimum":1,"type":"integer"},"name":{"description":"评审人名称","maxLength":100000,"minLength":1,"type":"string"},"nick_name":{"description":"评审人昵称","maxLength":100000,"minLength":1,"type":"string"},"score":{"description":"打分","maximum":2,"minimum":-2,"type":"integer"},"state":{"description":"评审人状态","type":"boolean"},"tenant_name":{"description":"租户名称","maxLength":100000,"minLength":1,"type":"string"},"username":{"description":"评审人名称","maxLength":100000,"minLength":1,"type":"string"}},"type":"object"},"MergeRequestWithNickNameDto":{"allOf":[{"$ref":"#/components/schemas/MergeRequestDetailExternalDto"},{"properties":{"is_source_branch_exist":{"description":"源分支是否存在","type":"boolean"},"merge_request_type":{"description":"合并请求类型","type":"string"},"source_repository":{"$ref":"#/components/schemas/ProjectSimpleDto"},"target_repository":{"$ref":"#/components/schemas/ProjectSimpleDto"}}}],"type":"object"},"MilestoneBasicDto":{"properties":{"created_at":{"description":"创建时间","format":"yyyy-MM-dd'T'HH:mm:ss.SSSXXX","type":"string"},"description":{"description":"里程碑描述","maxLength":100000,"minLength":1,"type":"string"},"due_date":{"description":"到期时间","format":"yyyy-MM-dd'T'HH:mm:ss.SSSXXX","type":"string"},"id":{"description":"里程碑id","format":"int32","maximum":2147483647,"minimum":1,"type":"integer"},"iid":{"description":"里程碑iid","format":"int32","maximum":2147483647,"minimum":1,"type":"integer"},"repository_id":{"description":"仓库id","format":"int32","maximum":2147483647,"minimum":1,"type":"integer"},"repository_path":{"description":"仓库路径","maxLength":100000,"minLength":1,"type":"string"},"start_date":{"description":"开始时间","format":"yyyy-MM-dd'T'HH:mm:ss.SSSXXX","type":"string"},"state":{"description":"状态","maxLength":100000,"minLength":1,"type":"string"},"title":{"description":"里程碑标题","maxLength":100000,"minLength":1,"type":"string"},"updated_at":{"description":"更新时间","format":"yyyy-MM-dd'T'HH:mm:ss.SSSXXX","type":"string"},"web_url":{"description":"主页url","maxLength":100000,"minLength":1,"type":"string"}},"type":"object"},"PostMergeRequestParamsDtoForOpenApi":{"properties":{"approval_approvers_ids":{"description":"审核人ids,使用逗号分隔","minLength":0,"type":"string"},"approval_reviewer_ids":{"description":"审核模式检视人ids,使用逗号分隔","minLength":0,"type":"string"},"assignee_ids":{"description":"合并人ids,使用逗号分隔","minLength":0,"type":"string"},"description":{"description":"合并请求描述","minLength":0,"type":"string"},"force_remove_source_branch":{"description":"合入后自动删除源分支","type":"boolean"},"is_use_temp_branch":{"description":"使用临时分支创建合并请求","type":"boolean"},"labels":{"description":"标签名称,使用逗号分隔","minLength":0,"type":"object"},"milestone_id":{"description":"里程碑id","format":"int32","minLength":0,"type":"integer"},"only_assignee_can_merge":{"default":false,"description":"只有合并人允许合入","type":"boolean"},"reviewer_ids":{"description":"打分模式评审人ids,使用逗号分隔","minLength":0,"type":"string"},"source_branch":{"description":"源分支","minLength":1,"type":"string"},"squash":{"description":"压缩合并","type":"boolean"},"squash_commit_message":{"description":"压缩合并信息","maxLength":2000,"minLength":1,"type":"string"},"target_branch":{"description":"目标分支","minLength":1,"type":"string"},"target_repository_id":{"description":"目标仓库id","format":"int32","maxLength":2147483647,"minLength":1,"type":"integer"},"title":{"description":"合并请求标题","maxLength":255,"minLength":1,"type":"string"},"work_item_ids":{"description":"e2e单号","items":{"type":"string"},"type":"array"}},"required":["source_branch","target_branch","title"],"type":"object"},"ProjectSimpleDto":{"description":"Get the simplest project info, used to the list of projects","properties":{"archived":{"description":"是否归档","type":"boolean"},"created_at":{"description":"创建时间","type":"string"},"description":{"description":"仓库描述信息","type":"string"},"develop_mode":{"description":"仓库开发模式:normal、CR","type":"string"},"http_url_to_repo":{"description":"仓库http地址","type":"string"},"id":{"description":"仓库id","format":"int32","type":"integer"},"is_kia":{"description":"是否机密","type":"boolean"},"moderation_result":{"description":"审核状态","type":"boolean"},"name":{"description":"仓库名称","type":"string"},"name_with_namespace":{"description":"组织名/组织名.../仓库名","type":"string"},"path":{"description":"仓库路径","type":"string"},"path_with_namespace":{"description":"仓库完整路径","type":"string"},"project_id":{"description":"项目id","type":"string"},"project_name":{"description":"项目名称","type":"string"},"readme_url":{"description":"仓库readme文件链接","type":"string"},"ssh_url_to_repo":{"description":"仓库ssh地址","type":"string"},"updated_at":{"description":"更新时间","type":"string"},"web_url":{"description":"仓库页面链接","type":"string"}},"type":"object"},"UserBasicExternalDto":{"properties":{"avatar_url":{"description":"头像url","maxLength":100000,"minLength":1,"type":"string"},"id":{"description":"用户id","maximum":2147483647,"minimum":1,"type":"integer"},"name":{"description":"名称","maxLength":100000,"minLength":1,"type":"string"},"nick_name":{"description":"用户昵称","maxLength":100000,"minLength":1,"type":"string"},"state":{"description":"状态","maxLength":100000,"minLength":1,"type":"string"},"tenant_name":{"description":"租户名称","maxLength":100000,"minLength":1,"type":"string"},"username":{"description":"用户名称","maxLength":100000,"minLength":1,"type":"string"},"web_url":{"description":"主页url","maxLength":100000,"minLength":1,"type":"string"}},"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"183513bb7aa84dab9d17c9bc8a4a9fab","host":"codehub-ext.cn-north-4.myhuaweicloud.com","id":"7482623c8d0f44bfbd5974795b50bdd5","info_version":"v4","method":"post","name":"CreateMergeRequest","parameters":null,"paths":{"/v4/repositories/{repository_id}/merge-requests":{"post":{"description":"创建合并请求","operationId":"CreateMergeRequest","parameters":[{"description":"**参数解释:**\n用户Token。 通过调用IAM服务[获取用户Token](https://support.huaweicloud.com/api-iam/iam_30_0001.html)接口获取(响应消息头中X-Subject-Token的值)。\n **约束限制:**\n必传。\n **取值范围:**\n字符串长度不少于1,不超过10万。\n**默认取值:**\n不涉及。","explode":false,"in":"header","name":"X-Auth-Token","required":true,"schema":{"maxLength":100000,"minLength":1,"type":"string"},"style":"simple"},{"description":"**参数解释:**\n仓库的ID,通过[查询用户所有仓库](https://support.huaweicloud.com/api-codeartsrepo/ListUserAllRepositories.html)接口查询项目列表获取。\n**约束限制:**\n不涉及。","explode":false,"in":"path","name":"repository_id","required":true,"schema":{"maximum":2147483647,"minimum":1,"type":"integer"},"style":"simple"}],"requestBody":{"content":{"application/json":{"example":{"approval_approvers_ids":"id1,id2","approval_reviewer_ids":"id1,id2","assignee_ids":"id1,id2","description":"merge \\asfd\\ into \\master\\\\n更新 README.md","force_remove_source_branch":false,"is_use_temp_branch":false,"labels":"label1,label2","reviewer_ids":"id1,id2","source_branch":"asfd","squash":false,"state":"opened","target_branch":"master","target_repository_id":2663641,"title":"更新 README.md"},"schema":{"$ref":"#/components/schemas/PostMergeRequestParamsDtoForOpenApi"}}},"description":"创建合并请求请求体","required":true},"responses":{"200":{"content":{"application/json":{"example":{"approval_merge_request_approvers":[],"author":{"avatar_url":null,"id":1130646,"name":"example_name","nick_name":"example_name","state":"active","tenant_name":"example_name","username":"7806db92698840d794a70e53e1295cb7","web_url":"https://example.com/7806db92698840d794a70e53e1295cb7"},"codecheck_defect_count":0,"codecheck_state":7,"created_at":"2024-08-14T14:17:39.000+08:00","description":"merge \\asfd\\ into \\master\\\\n更新 README.md","devcloud_source_branch":"asfd","diverged_commits_count":0,"force_remove_source_branch":false,"id":1242586,"iid":1,"is_source_branch_exist":true,"is_source_branch_protected":false,"is_use_temp_branch":false,"labels":[],"merge_request_assignee_list":[],"merge_request_diff":{"added_lines":1,"base_commit_sha":"cdb34fb2431d57aaf6701b4026425acde1d8a84c","commits_count":1,"created_at":"2024-08-14T14:17:39.000+08:00","external_diff":"diff-1286204","external_diff_store":1,"head_commit_sha":"2032553aab2bbe1855687885da9165412b3fa3a4","id":1286204,"merge_request_id":1242586,"real_size":1,"removed_lines":1,"start_commit_sha":"cdb34fb2431d57aaf6701b4026425acde1d8a84c","state":"collected","stored_externally":true,"updated_at":"2024-08-14T14:17:39.000+08:00"},"merge_request_related_work_items":[],"merge_request_review_count":0,"merge_request_reviewer_list":[],"merge_request_reviewers_count":0,"merge_request_type":"MergeRequest","merge_status":"can_be_merged","merge_when_build_succeeds":false,"moderation_result":true,"moderation_status":0,"moderation_time":0,"notes":0,"review_mode":"approval","sha":"2032553aab2bbe1855687885da9165412b3fa3a4","source_branch":"asfd","source_project_id":"07c8683c4bb0445393c5eab0ea354003","source_repository":{"archived":false,"created_at":"2024-08-05T11:32:27.000+08:00","description":null,"develop_mode":"normal","http_url_to_repo":"https://example.com/07c8683c4bb0445393c5eab0ea354003/mr_test.git","id":2663641,"is_kia":false,"moderation_result":true,"name":"mr_test","name_with_namespace":"07c8683c4bb0445393c5eab0ea354003 / mr_test","path":"mr_test","path_with_namespace":"07c8683c4bb0445393c5eab0ea354003/mr_test","project_id":"07c8683c4bb0445393c5eab0ea354003","project_name":"sll_test","ssh_url_to_repo":"git@example.com:07c8683c4bb0445393c5eab0ea354003/mr_test.git","updated_at":"2024-08-05T11:32:27.000+08:00","web_url":"https://example.com/07c8683c4bb0445393c5eab0ea354003/mr_test"},"source_repository_id":2663641,"squash":false,"state":"opened","subscribed":true,"target_branch":"master","target_project_id":"07c8683c4bb0445393c5eab0ea354003","target_repository":{"archived":false,"created_at":"2024-08-05T11:32:27.000+08:00","description":null,"develop_mode":"normal","http_url_to_repo":"https://example.com/07c8683c4bb0445393c5eab0ea354003/mr_test.git","id":2663641,"is_kia":false,"moderation_result":true,"name":"mr_test","name_with_namespace":"07c8683c4bb0445393c5eab0ea354003 / mr_test","path":"mr_test","path_with_namespace":"07c8683c4bb0445393c5eab0ea354003/mr_test","project_id":"07c8683c4bb0445393c5eab0ea354003","project_name":"sll_test","ssh_url_to_repo":"git@example.com:07c8683c4bb0445393c5eab0ea354003/mr_test.git","updated_at":"2024-08-05T11:32:27.000+08:00","web_url":"https://example.com/07c8683c4bb0445393c5eab0ea354003/mr_test"},"target_repository_id":2663641,"title":"更新 README.md","updated_at":"2025-01-06T15:38:31.000+08:00","user_notes_count":0,"web_url":"https://example.com/********/2663641/1/mergedetail?source\\u003dasfd\\u0026target\\u003dmaster","work_in_progress":false},"schema":{"$ref":"#/components/schemas/MergeRequestWithNickNameDto"}}},"description":"OK"},"401":{"content":{"application/json":{"example":{"error_code":"DEV.00000003","error_msg":"认证信息过期"},"schema":{"$ref":"#/components/schemas/ApiError"}}},"description":"Unauthorized"}},"summary":"创建合并请求","tags":["MergeRequest"],"x-api-framework":"RestfulAPI","x-api-highrisk":"N","x-api-position":"Region_ZONE","x-api-type":"open-api","x-api-user":"IAM_User","x-is-registered":"Y","x-open-region-cloud":"hws,hws_hk","x-request-examples-1":{"approval_approvers_ids":"id1,id2","approval_reviewer_ids":"id1,id2","assignee_ids":"id1,id2","description":"merge \\asfd\\ into \\master\\\\n更新 README.md","force_remove_source_branch":false,"is_use_temp_branch":false,"labels":"label1,label2","reviewer_ids":"id1,id2","source_branch":"asfd","squash":false,"state":"opened","target_branch":"master","target_repository_id":2663641,"title":"更新 README.md"},"x-request-examples-text-1":{"approval_approvers_ids":"id1,id2","approval_reviewer_ids":"id1,id2","assignee_ids":"id1,id2","description":"merge \\asfd\\ into \\master\\\\n更新 README.md","force_remove_source_branch":false,"is_use_temp_branch":false,"labels":"label1,label2","reviewer_ids":"id1,id2","source_branch":"asfd","squash":false,"state":"opened","target_branch":"master","target_repository_id":2663641,"title":"更新 README.md"},"x-request-examples-url-1":"POST /v4/repositories/{repository_id}/merge-requests","x-sec-auditlog":"Y","x-sec-authority-parameter-body":"null","x-sec-authority-parameter-url":"null","x-sec-privacy-parameter":"null","x-sec-sensitiveinfo":"null","x-sec-upload-download":0,"x-sec-userinput-untrust":"null","x-support-sdk":"Y"}}},"product_short":"CodeHub","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建合并请求","tags":"MergeRequest","uri":null,"version":"3.0.1"}