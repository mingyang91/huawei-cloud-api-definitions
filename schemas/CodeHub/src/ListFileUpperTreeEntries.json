{"base_path":null,"components":{"parameters":{"X-Auth-Token":{"description":"**参数解释:**\n用户Token。 通过调用IAM服务[获取用户Token](https://support.huaweicloud.com/api-iam/iam_30_0001.html)接口获取(响应消息头中X-Subject-Token的值)。\n **约束限制:**\n必传。\n **取值范围:**\n字符串长度不少于1,不超过10万。\n**默认取值:**\n不涉及。","explode":false,"in":"header","name":"X-Auth-Token","required":true,"schema":{"maxLength":100000,"minLength":1,"type":"string"},"style":"simple"},"ref_name":{"description":"**参数解释:**\n分支或者tag名称。\n**约束限制:**\n不支持以 - . refs/heads/ refs/remotes/ 开头,不支持空格 [ \\ < ~ ^ : ? * ! ( ) ' \" | 等特殊字符,不支持以. / .lock结尾。\n**取值范围:**\n字符串长度不少于1,不超过200。\n**默认取值:**\n仓库默认分支。","explode":true,"in":"query","name":"ref_name","required":false,"schema":{"maxLength":255,"minLength":1,"type":"string"},"style":"form"},"repository_id":{"description":"**参数解释:**\n仓库的ID,通过[查询用户所有仓库](https://support.huaweicloud.com/api-codeartsrepo/ListUserAllRepositories.html)接口查询项目列表获取。\n**约束限制:**\n不涉及。","explode":false,"in":"path","name":"repository_id","required":true,"schema":{"maximum":2147483647,"minimum":1,"type":"integer"},"style":"simple"}},"schemas":{"ApiError":{"description":"**参数解释:**\n错误信息。","properties":{"error_code":{"description":"**参数解释:**\n错误码。","maxLength":20,"minLength":0,"type":"string"},"error_msg":{"description":"**参数解释:**\n错误信息。","maxLength":1000,"minLength":0,"type":"string"}},"type":"object"},"TreeDto":{"properties":{"children":{"description":"子节点","items":{"$ref":"#/components/schemas/TreeDto"},"type":"array"},"folder":{"description":"**参数解释:**\n是否折叠。\n**取值范围:**\n- false, 不折叠。\n- true, 折叠。","type":"boolean"},"id":{"description":"**参数解释:**\n提交ID。\n**取值范围:**\n不涉及。","type":"string"},"isShownDropDown":{"description":"**参数解释:**\n是否下拉。\n**取值范围:**\n- false, 不下拉。\n- true, 下拉","type":"boolean"},"level":{"description":"**参数解释:**\n当前所在目录层级。\n**取值范围:**\n不涉及","format":"int32","type":"integer"},"name":{"description":"**参数解释:**\n文件名称。\n**取值范围:**\n不涉及。","type":"string"},"path":{"description":"**参数解释:**\n文件路径。\n**取值范围:**\n不涉及","type":"string"},"submodule_link":{"description":"**参数解释:**\n子模块连接。\n**取值范围:**\n不涉及。","type":"string"},"type":{"description":"**参数解释:**\n文件结构。\n**取值范围:**\n- commit, 子模块。\n- tree, 目录。\n- blob, 文件","enum":["commit","tree","blob"],"type":"string"}},"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"183513bb7aa84dab9d17c9bc8a4a9fab","host":"codehub-ext.cn-north-4.myhuaweicloud.com","id":"f05ab69e34114a9d809aa3affe4fcffb","info_version":"v4","method":"get","name":"ListFileUpperTreeEntries","parameters":null,"paths":{"/v4/repositories/{repository_id}/repository/upper-files-tree":{"get":{"description":"获取当前文件上级树结构","operationId":"ListFileUpperTreeEntries","parameters":[{"$ref":"#/components/parameters/X-Auth-Token"},{"$ref":"#/components/parameters/repository_id"},{"description":"**参数解释:**\n文件路径。\n**取值范围:**\n字符串长度不少于1,不超过10000。","explode":true,"in":"query","name":"file_path","required":false,"schema":{"maxLength":10000,"minLength":1,"type":"string"},"style":"form"},{"$ref":"#/components/parameters/ref_name"}],"responses":{"200":{"content":{"application/json":{"example":[{"children":null,"folder":false,"id":"39f26b16fdff0242abc4ac3022cb0f1f88c6a523","isShownDropDown":false,"level":-1,"name":"123","path":"123","submodule_link":null,"type":"tree"},{"children":null,"folder":false,"id":"624c18a4353c2789ada229459ae1aa2f47f3d2dc","isShownDropDown":false,"level":-1,"name":"1234","path":"1234","submodule_link":null,"type":"tree"}],"schema":{"description":"获取当前文件上级树结构","items":{"$ref":"#/components/schemas/TreeDto"},"type":"array"}}},"description":"文件溯源信息"},"401":{"content":{"application/json":{"example":{"error_code":"DEV.00000003","error_msg":"认证信息过期"},"schema":{"$ref":"#/components/schemas/ApiError"}}},"description":"Unauthorized"},"403":{"content":{"application/json":{"example":{"error_code":"CH.004403","error_msg":"您没有操作权限,请升级权限后重试。"},"schema":{"$ref":"#/components/schemas/ApiError"}}},"description":"Bad Request"}},"summary":"获取当前文件上级树结构","tags":["File"],"x-api-framework":"RestfulAPI","x-api-highrisk":"N","x-api-position":"Region_ZONE","x-api-type":"open-api","x-api-user":"IAM_User","x-is-registered":"Y","x-open-region-cloud":"hws,hws_hk","x-request-examples-url-1":"GET https://{endpoint}/v4/repositories/2112029050/repository/upper-files-tree","x-sec-auditlog":"N","x-sec-upload-download":0,"x-support-sdk":"Y"}}},"product_short":"CodeHub","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"获取当前文件上级树结构","tags":"File","uri":null,"version":"3.0.1"}