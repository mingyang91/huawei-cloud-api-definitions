{"base_path":null,"components":{"schemas":{"ApiError":{"description":"**参数解释:**\n错误信息。","properties":{"error_code":{"description":"**参数解释:**\n错误码。","maxLength":20,"minLength":0,"type":"string"},"error_msg":{"description":"**参数解释:**\n错误信息。","maxLength":1000,"minLength":0,"type":"string"}},"type":"object"},"CommitDiscussionDto":{"description":"commit单个检视意见信息。","properties":{"a_mode":{"description":"**参数解释:**\n文件旧权限(默认100644)。","maxLength":100000,"minLength":1,"type":"string"},"added_lines":{"description":"**参数解释:**\n检视意见所在文件的新增行数量。","format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"archived":{"description":"**参数解释:**\n是否已归档。","type":"boolean"},"assignee":{"$ref":"#/components/schemas/UserBasicDto"},"b_mode":{"description":"**参数解释:**\n文件新权限(默认100644)。","maxLength":100000,"minLength":1,"type":"string"},"commit_id":{"description":"**参数解释:**\n提交记录id。","maxLength":40,"minLength":40,"type":"string"},"deleted_file":{"description":"**参数解释:**\n是否为删除文件。","type":"boolean"},"diff_file":{"description":"**参数解释:**\n是否为修改文件。","type":"boolean"},"id":{"description":"**参数解释:**\n检视意见id(主评论和回复共用)。","maxLength":40,"minLength":40,"type":"string"},"individual_note":{"description":"**参数解释:**\n个人检视意见(不需要解决)。","type":"boolean"},"new_file":{"description":"**参数解释:**\n是否为新增文件。","type":"boolean"},"noteable_type":{"description":"**参数解释:**\n意见类型。","enum":["MergeRequest","Commit"],"type":"string"},"notes":{"description":"**参数解释:**\n评论列表(主评+回复)。","items":{"$ref":"#/components/schemas/CommitNoteDto"},"type":"array"},"proposer":{"$ref":"#/components/schemas/UserBasicDto"},"removed_lines":{"description":"**参数解释:**\n检视意见所在文件的删除行数量。","format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"repository_full_path":{"description":"**参数解释:**\n仓库路径。","maxLength":100000,"minLength":1,"type":"string"},"repository_id":{"description":"**参数解释:**\n仓库id。","format":"int32","maximum":2147483647,"minimum":1,"type":"integer"},"resolved":{"description":"**参数解释:**\n是否已解决。","type":"boolean"},"review_categories":{"description":"**参数解释:**\n意见分类key。","maxLength":200,"minLength":1,"type":"string"},"review_categories_cn":{"description":"**参数解释:**\n意见分类中文。","maxLength":200,"minLength":1,"type":"string"},"review_categories_en":{"description":"**参数解释:**\n意见分类英文。","maxLength":200,"minLength":1,"type":"string"},"review_modules":{"description":"**参数解释:**\n意见模块。","maxLength":200,"minLength":1,"type":"string"},"severity":{"description":"**参数解释:**\n严重程度key。","enum":["suggestion","minor","major","fatal"],"type":"string"},"severity_cn":{"description":"**参数解释:**\n严重程度中文。\n**约束限制:**\n- 建议\n- 一般\n- 严重\n- 致命","type":"string"},"severity_en":{"description":"**参数解释:**\n严重程度英文。","enum":["Suggestion","Minor","Major","Fatal"],"type":"string"}},"type":"object"},"CommitNoteDto":{"description":"评论详细信息。","properties":{"archived":{"description":"**参数解释:**\n是否已归档。","type":"boolean"},"assignee":{"$ref":"#/components/schemas/UserBasicDto"},"attachment":{"description":"**参数解释:**\n附件(弃用)。","maxLength":100000,"minLength":1,"type":"string"},"author":{"$ref":"#/components/schemas/UserBasicDto"},"body":{"description":"**参数解释:**\n评论内容。","maxLength":8000,"minLength":1,"type":"string"},"commit_id":{"description":"**参数解释:**\n提交记录id。","maxLength":40,"minLength":40,"type":"string"},"created_at":{"description":"**参数解释:**\n创建时间。","format":"yyyy-MM-dd'T'HH:mm:ss.SSSXXX","type":"string"},"diff":{"description":"**参数解释:**\n关联代码行的代码片段。","maxLength":100000,"minLength":1,"type":"string"},"diff_file":{"description":"**参数解释:**\n关联代码行所在文件的文件名。","maxLength":100000,"minLength":1,"type":"string"},"discussion_id":{"description":"**参数解释:**\n检视意见id(主评论和回复共用)。","maxLength":40,"minLength":40,"type":"string"},"file_path":{"description":"**参数解释:**\n文件路径(弃用)。","maxLength":100000,"minLength":1,"type":"string"},"id":{"description":"**参数解释:**\n评论id(主评论和回复不共用)。","format":"int32","maximum":2147483647,"minimum":1,"type":"integer"},"is_reply":{"description":"**参数解释:**\n是否为回复。","type":"boolean"},"line":{"description":"**参数解释:**\n行号(弃用)。","maxLength":100000,"minLength":1,"type":"string"},"moderation_result":{"description":"**参数解释:**\n内容审核结果。","type":"boolean"},"moderation_status":{"description":"**参数解释:**\n内容审核状态。","format":"int32","type":"integer"},"moderation_time":{"description":"**参数解释:**\n内容审核时间。","format":"int64","type":"integer"},"noteable_id":{"description":"**参数解释:**\n合并请求id或issue id。","format":"int32","maximum":2147483647,"minimum":1,"type":"integer"},"noteable_iid":{"description":"**参数解释:**\n合并请求iid或issue iid。","format":"int32","maximum":2147483647,"minimum":1,"type":"integer"},"noteable_type":{"description":"**参数解释:**\n意见类型。","enum":["MergeRequest","Commit"],"type":"string"},"position":{"$ref":"#/components/schemas/PositionDto"},"proposer":{"$ref":"#/components/schemas/UserBasicDto"},"resolvable":{"description":"**参数解释:**\n是否需要解决。","type":"boolean"},"resolved":{"description":"**参数解释:**\n是否已解决。","type":"boolean"},"resolved_by":{"$ref":"#/components/schemas/UserBasicDto"},"review_categories":{"description":"**参数解释:**\n意见分类key。","maxLength":200,"minLength":1,"type":"string"},"review_categories_cn":{"description":"**参数解释:**\n意见分类中文名。","maxLength":200,"minLength":1,"type":"string"},"review_categories_en":{"description":"**参数解释:**\n合并请求版本信息。","maxLength":200,"minLength":1,"type":"string"},"review_modules":{"description":"**参数解释:**\n合并请求版本信息。","maxLength":200,"minLength":1,"type":"string"},"severity":{"description":"**参数解释:**\n严重程度key。","enum":["suggestion","minor","major","fatal"],"type":"string"},"severity_cn":{"description":"**参数解释:**\n严重程度中文。\n**约束限制:**\n- 建议\n- 一般\n- 严重\n- 致命","type":"string"},"severity_en":{"description":"**参数解释:**\n严重程度英文。","enum":["Suggestion","Minor","Major","Fatal"],"type":"string"},"system":{"description":"**参数解释:**\n是否为系统添加的。","type":"boolean"},"type":{"description":"**参数解释:**\n类型(普通评论、需要解决的普通评论、需要解决的关联代码行的评论)。","enum":["DiscussionNote","DiffNote"],"type":"string"},"updated_at":{"description":"**参数解释:**\n更新时间。","format":"yyyy-MM-dd'T'HH:mm:ss.SSSXXX","type":"string"}},"type":"object"},"PositionDto":{"description":"检视意见位置详情。","properties":{"base_sha":{"description":"**参数解释:**\n基础sha值。","type":"string"},"head_sha":{"description":"**参数解释:**\n最新sha值。","type":"string"},"new_line":{"description":"**参数解释:**\n新文件行号。","format":"int32","type":"integer"},"new_path":{"description":"**参数解释:**\n文件新路径。","type":"string"},"old_line":{"description":"**参数解释:**\n旧文件行号。","format":"int32","type":"integer"},"old_path":{"description":"**参数解释:**\n文件旧路径。","type":"string"},"position_type":{"description":"**参数解释:**\n文件类型。","type":"string"},"start_sha":{"description":"**参数解释:**\n起始sha值。","type":"string"}},"type":"object"},"UserBasicDto":{"allOf":[{"$ref":"#/components/schemas/UserSafeDto"},{"properties":{"avatar_path":{"description":"用户头像路径","type":"string"},"avatar_url":{"description":"用户头像url","type":"string"},"email":{"description":"用户邮箱","type":"string"},"error_message":{"description":"**参数解释:**\n部分查询接口校验到传参里的用户权限不足或不存在时,返回该用户但该字段不为空用于提示。","type":"string"},"name_cn":{"description":"用户中文名称","type":"string"},"nick_name":{"description":"用户昵称","type":"string"},"service_license_status":{"description":"服务级权限状态 0:停用 1:启用","type":"integer"},"state":{"description":"**参数解释:**\n用户状态。\n**取值范围:**\n- active: 可用账户。\n- blocked: 被锁定用户。\n- error: 未查询到该用户。","enum":["active","blocked","error"],"type":"string"},"tenant_name":{"description":"租户名称","type":"string"},"web_url":{"description":"用户个人首页","type":"string"}}}],"description":"用户信息","type":"object"},"UserSafeDto":{"description":"**参数解释:**\n用户基础信息。","properties":{"id":{"description":"**参数解释:**\n用户id。","format":"int32","maximum":2147483647,"minimum":1,"type":"integer"},"name":{"description":"**参数解释:**\n用户名称。","maxLength":255,"minLength":1,"type":"string"},"username":{"description":"**参数解释:**\n用户名。","maxLength":255,"minLength":1,"type":"string"}},"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"183513bb7aa84dab9d17c9bc8a4a9fab","host":"codehub-ext.cn-north-4.myhuaweicloud.com","id":"240accab522647a89aa837b03adcd1f1","info_version":"v4","method":"get","name":"ListCommitDiscussions","parameters":null,"paths":{"/v4/repositories/{repository_id}/commits/{sha}/discussions":{"get":{"description":"获取代码页单个提交下检视意见列表","operationId":"ListCommitDiscussions","parameters":[{"description":"**参数解释:**\n用户Token。 通过调用IAM服务[获取用户Token](https://support.huaweicloud.com/api-iam/iam_30_0001.html)接口获取(响应消息头中X-Subject-Token的值)。\n **约束限制:**\n必传。\n **取值范围:**\n字符串长度不少于1,不超过10万。\n**默认取值:**\n不涉及。","explode":false,"in":"header","name":"X-Auth-Token","required":true,"schema":{"maxLength":100000,"minLength":1,"type":"string"},"style":"simple"},{"description":"**参数解释:**\n仓库的ID,通过[查询用户所有仓库](https://support.huaweicloud.com/api-codeartsrepo/ListUserAllRepositories.html)接口查询项目列表获取。\n**约束限制:**\n不涉及。","explode":false,"in":"path","name":"repository_id","required":true,"schema":{"maximum":2147483647,"minimum":1,"type":"integer"},"style":"simple"},{"description":"**参数解释:**\n提交ID。","explode":false,"in":"path","name":"sha","required":true,"schema":{"type":"string"},"style":"simple"},{"description":"**参数解释:**\n检视意见返回排序\n- asc 按创建时间正序返回\n- desc 按创建时间倒序返回","explode":true,"in":"query","name":"sort","required":false,"schema":{"type":"string"},"style":"form"},{"description":"**参数解释:**\n偏移量,从0开始。","explode":true,"in":"query","name":"offset","required":false,"schema":{"default":0,"format":"int32","maximum":2147483647,"minimum":0,"type":"integer"},"style":"form"},{"description":"**参数解释:**\n返回数量。","explode":true,"in":"query","name":"limit","required":false,"schema":{"default":20,"format":"int32","maximum":100,"minimum":1,"type":"integer"},"style":"form"}],"responses":{"200":{"content":{"application/json":{"example":[{"a_mode":0,"added_lines":1,"archived":false,"b_mode":100644,"commit_id":"c83350b89ac89633165814797d356e25d3f5b857","deleted_file":false,"diff_file":"@@ -00 +10 @@\\n+233232\\n","id":"e9d749e5605aa14c1a1d08d98a27c720be840a91","individual_note":false,"new_file":true,"noteable_type":"Commit","notes":[{"archived":false,"author":{"avatar_url":null,"email":"ac105e52a4764a4c8f29b306508f016d@example.com","id":21820,"name":"tr8","name_cn":"tr8","nick_name":"example_name","state":"active","tenant_name":"example_name","username":"ac105e52a4764a4c8f29b306508f016d","web_url":"https://example.com/ac105e52a4764a4c8f29b306508f016d"},"body":"test","commit_id":"c83350b89ac89633165814797d356e25d3f5b857","created_at":"2025-08-07T16:08:14.000+08:00","diff":"@@ -00 +10 @@\\n+233232\\n","diff_file":232,"discussion_id":"e9d749e5605aa14c1a1d08d98a27c720be840a91","id":2112075950,"is_reply":false,"moderation_result":true,"moderation_status":0,"moderation_time":1754554094038,"noteable_type":"Commit","position":{"base_sha":"51077424e80441d99c0acbac7d8f5fd91392b3d0","head_sha":"c83350b89ac89633165814797d356e25d3f5b857","is_left":false,"new_line":1,"new_path":232,"old_path":232,"position_type":"text","start_sha":"51077424e80441d99c0acbac7d8f5fd91392b3d0"},"project":"63f8d09cf49448879c96ca2c2b38f139/1/33333","proposer":{"avatar_url":null,"email":"ac105e52a4764a4c8f29b306508f016d@example.com","id":21820,"name":"tr8","name_cn":"tr8","nick_name":"example_name","state":"active","tenant_name":"example_name","username":"ac105e52a4764a4c8f29b306508f016d","web_url":"https://example.com/ac105e52a4764a4c8f29b306508f016d"},"resolvable":true,"resolved":false,"review_categories_cn":null,"review_categories_en":null,"severity":"suggestion","severity_cn":"建议","severity_en":"Suggestion","system":false,"type":"DiffNote","updated_at":"2025-08-07T16:08:14.000+08:00"}],"project_full_path":"63f8d09cf49448879c96ca2c2b38f139/1/33333","proposer":{"avatar_url":null,"email":"ac105e52a4764a4c8f29b306508f016d@example.com","id":21820,"name":"tr8","name_cn":"tr8","nick_name":"example_name","state":"active","tenant_name":"example_name","username":"ac105e52a4764a4c8f29b306508f016d","web_url":"https://example.com/ac105e52a4764a4c8f29b306508f016d"},"removed_lines":0,"resolved":false,"review_categories_cn":null,"review_categories_en":null,"severity":"suggestion","severity_cn":"建议","severity_en":"Suggestion"}],"schema":{"items":{"$ref":"#/components/schemas/CommitDiscussionDto"},"type":"array"}}},"description":"OK"},"401":{"content":{"application/json":{"example":{"error_code":"DEV.00000003","error_msg":"认证信息过期"},"schema":{"$ref":"#/components/schemas/ApiError"}}},"description":"Unauthorized"},"403":{"content":{"application/json":{"example":{"error_code":"CH.004403","error_msg":"您没有操作权限,请升级权限后重试。"},"schema":{"$ref":"#/components/schemas/ApiError"}}},"description":"Bad Request"}},"summary":"获取代码页单个提交下检视意见列表","tags":["Discussion"],"x-api-framework":"RestfulAPI","x-api-highrisk":"N","x-api-position":"Region_ZONE","x-api-type":"open-api","x-api-user":"IAM_User","x-is-registered":"Y","x-open-region-cloud":"hws,hws_hk","x-request-examples-1":{"body":"test"},"x-request-examples-text-1":{"body":"test"},"x-request-examples-url-1":"/v4/repositories/123/merge-requests/321/discussions/discussioniduuid","x-sec-auditlog":"Y","x-sec-authority-parameter-body":"null","x-sec-authority-parameter-url":"null","x-sec-privacy-parameter":"null","x-sec-sensitiveinfo":"null","x-sec-upload-download":0,"x-sec-userinput-untrust":"null","x-support-sdk":"Y"}}},"product_short":"CodeHub","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"获取代码页单个提交下检视意见列表","tags":"Discussion","uri":null,"version":"3.0.1"}