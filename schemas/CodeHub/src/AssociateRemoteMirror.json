{"base_path":null,"components":{"parameters":{"X-Auth-Token":{"description":"**参数解释:**\n用户Token。 通过调用IAM服务[获取用户Token](https://support.huaweicloud.com/api-iam/iam_30_0001.html)接口获取(响应消息头中X-Subject-Token的值)。\n **约束限制:**\n必传。\n **取值范围:**\n字符串长度不少于1,不超过10万。\n**默认取值:**\n不涉及。","explode":false,"in":"header","name":"X-Auth-Token","required":true,"schema":{"maxLength":100000,"minLength":1,"type":"string"},"style":"simple"},"repository_id":{"description":"**参数解释:**\n仓库的ID,通过[查询用户所有仓库](https://support.huaweicloud.com/api-codeartsrepo/ListUserAllRepositories.html)接口查询项目列表获取。\n**约束限制:**\n不涉及。","explode":false,"in":"path","name":"repository_id","required":true,"schema":{"maximum":2147483647,"minimum":1,"type":"integer"},"style":"simple"}},"schemas":{"ApiError":{"description":"**参数解释:**\n错误信息。","properties":{"error_code":{"description":"**参数解释:**\n错误码。","maxLength":20,"minLength":0,"type":"string"},"error_msg":{"description":"**参数解释:**\n错误信息。","maxLength":1000,"minLength":0,"type":"string"}},"type":"object"},"RemoteMirrorDto":{"properties":{"url":{"description":"**参数解释:**\n镜像地址。","readOnly":true,"type":"string"}},"type":"object"},"RepositorySyncRemoteMirrorDto":{"properties":{"endpoint_uuid":{"description":"**参数解释:**\n拓展点uuid。","readOnly":true,"type":"string"},"id":{"description":"**参数解释:**\n仓库镜像配置ID。","readOnly":true,"type":"integer"},"is_private":{"description":"**参数解释:**\n私有镜像。","readOnly":true,"type":"boolean"},"last_error":{"description":"**参数解释:**\n最近失败信息。","readOnly":true,"type":"string"},"last_successful_update_at":{"description":"**参数解释:**\n最近同步成功时间。","readOnly":true,"type":"string"},"last_update_at":{"description":"**参数解释:**\n最近修改时间。","readOnly":true,"type":"string"},"mirroring_enabled":{"description":"**参数解释:**\n开启定时同步。","readOnly":true,"type":"boolean"},"number_of_failures":{"description":"**参数解释:**\n同步失败次数。","readOnly":true,"type":"integer"},"repository_id":{"description":"**参数解释:**\n仓库ID。","readOnly":true,"type":"integer"},"update_status":{"description":"**参数解释:**\n同步状态。","readOnly":true,"type":"string"},"url":{"description":"**参数解释:**\n镜像地址。","readOnly":true,"type":"string"}},"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"183513bb7aa84dab9d17c9bc8a4a9fab","host":"codehub-ext.cn-north-4.myhuaweicloud.com","id":"d584bb28c38a40beb975eb090ed496af","info_version":"v4","method":"post","name":"AssociateRemoteMirror","parameters":null,"paths":{"/v4/repositories/{repository_id}/remote-mirror/associate":{"post":{"description":"将普通仓库与远程镜像关联","operationId":"AssociateRemoteMirror","parameters":[{"$ref":"#/components/parameters/X-Auth-Token"},{"$ref":"#/components/parameters/repository_id"}],"requestBody":{"content":{"application/json":{"example":{"url":"https://example.com/0379d2da2bae4c38b3d2fbbdb6f2a3f2/test.git"},"schema":{"$ref":"#/components/schemas/RemoteMirrorDto"}}},"description":"镜像同步信息","required":false},"responses":{"201":{"content":{"application/json":{"example":{"endpoint_uuid":null,"id":12439,"is_private":false,"last_error":null,"last_successful_update_at":"2025-04-24T20:04:44.000+08:00","last_update_at":"2025-04-24T20:04:44.000+08:00","mirroring_enabled":false,"number_of_failures":null,"repository_id":2112029391,"update_status":"finished","url":"https://example.com/0379d2da2bae4c38b3d2fbbdb6f2a3f2/test.git"},"schema":{"$ref":"#/components/schemas/RepositorySyncRemoteMirrorDto"}}},"description":"镜像信息"},"401":{"content":{"application/json":{"example":{"error_code":"CH.00000002","error_msg":"认证信息无法识别"},"schema":{"$ref":"#/components/schemas/ApiError"}}},"description":"Unauthorized"},"403":{"content":{"application/json":{"example":{"error_code":"CH.00401001","error_msg":"没有访问权限"},"schema":{"$ref":"#/components/schemas/ApiError"}}},"description":"Bad Request"},"404":{"content":{"application/json":{"example":{"error_code":"CH.00402000","error_msg":"该仓库不存在,请检查后重试。"},"schema":{"$ref":"#/components/schemas/ApiError"}}},"description":"Not Found"}},"summary":"将普通仓库与远程镜像关联","tags":["Repository"],"x-api-framework":"RestfulAPI","x-api-highrisk":"N","x-api-position":"Region_ZONE","x-api-type":"open-api","x-api-user":"IAM_User","x-is-registered":"Y","x-open-region-cloud":"hws,hws_hk","x-request-examples-1":{"url":"https://example.com/0379d2da2bae4c38b3d2fbbdb6f2a3f2/test.git"},"x-request-examples-description-1":"将普通仓库与远程镜像关联","x-request-examples-text-1":{"url":"https://example.com/0379d2da2bae4c38b3d2fbbdb6f2a3f2/test.git"},"x-request-examples-url-1":"POST /v4/repositories/123/remote-mirror/associate","x-sec-auditlog":"N","x-sec-upload-download":0,"x-support-sdk":"Y"}}},"product_short":"CodeHub","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"将普通仓库与远程镜像关联","tags":"Repository","uri":null,"version":"3.0.1"}