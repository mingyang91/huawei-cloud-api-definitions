{"base_path":null,"components":{"schemas":{"ApiError":{"description":"**参数解释:**\n错误信息。","properties":{"error_code":{"description":"**参数解释:**\n错误码。","maxLength":20,"minLength":0,"type":"string"},"error_msg":{"description":"**参数解释:**\n错误信息。","maxLength":1000,"minLength":0,"type":"string"}},"type":"object"},"RequiredAttributeDto":{"properties":{"is_required":{"description":"**参数解释:**\n是否必填。","type":"boolean"},"name":{"description":"**参数解释:**\n必填字段名称。\n描述:Body\n严重程度:Severity\n指派给:AssigneeId\n意见分类:ReviewCategories\n意见模块:ReviewModules","enum":["Body","Severity","AssigneeId","ReviewCategories","ReviewModules"],"type":"string"}},"type":"object"},"ReviewSettingDto":{"description":"检视意见设置返回体","properties":{"categories_and_modules_enabled":{"description":"**参数解释:**\n是否启用启用检视意见分类与模块。","type":"boolean"},"codehub_default_categories":{"description":"**参数解释:**\n检视意见分类(所有可勾选的,需传参with_default_review_categories: true才返回)。","items":{"$ref":"#/components/schemas/categoryDto"},"type":"array"},"hicode_default_categories":{"description":"**参数解释:**\n系统预置检视意见分类(需传参with_default_review_categories: true才返回)。","items":{"$ref":"#/components/schemas/categoryDto"},"type":"array"},"note_required_attributes":{"description":"**参数解释:**\n检视意见必填项。","items":{"$ref":"#/components/schemas/RequiredAttributeDto"},"type":"array"},"primary_categories":{"description":"**参数解释:**\n检视意见分类(已勾选)。","items":{"$ref":"#/components/schemas/categoryDto"},"type":"array"},"repository_id":{"description":"**参数解释:**\n仓库id。","format":"int32","maximum":2147483647,"minimum":1,"type":"integer"},"review_customized_categories":{"description":"**参数解释:**\n自定义分类。","items":{"type":"string"},"type":"array"},"review_default_categories":{"description":"**参数解释:**\n检视意见分类的key(已勾选)。","items":{"type":"string"},"type":"array"},"review_modules":{"description":"**参数解释:**\n检视意见模块。","items":{"type":"string"},"type":"array"},"secondary_category_enabled":{"description":"**参数解释:**\n是否启用系统预置检视意见分类。","type":"boolean"}},"type":"object"},"ReviewSettingParamDto":{"description":"检视意见设置请求体","properties":{"categories_and_modules_enabled":{"description":"**参数解释:**\n是否启用启用检视意见分类与模块。","type":"boolean"},"is_assignee_id_required":{"description":"**参数解释:**\n是否勾选指派给。","type":"boolean"},"is_review_categories_required":{"description":"**参数解释:**\n是否勾选意见分类。","type":"boolean"},"is_review_modules_required":{"description":"**参数解释:**\n是否勾选意见模块。","type":"boolean"},"review_customized_categories":{"description":"**参数解释:**\n自定义分类列表。","items":{"type":"string"},"type":"array"},"review_default_categories":{"description":"**参数解释:**\n检视意见分类(已勾选的分类的key列表)。","items":{"type":"string"},"type":"array"},"review_modules":{"description":"**参数解释:**\n检视意见模块。","items":{"type":"string"},"type":"array"},"secondary_category_enabled":{"description":"**参数解释:**\n是否启用系统预置检视意见分类。","type":"boolean"}},"type":"object"},"categoryDto":{"properties":{"key":{"description":"**参数解释:**\n检视意见分类key。","type":"string"},"name_en":{"description":"**参数解释:**\n检视意见分类英文名。","type":"string"},"name_zh":{"description":"**参数解释:**\n检视意见分类中文名。","type":"string"},"sub_categories":{"description":"**参数解释:**\n子检视意见分类。","items":{"$ref":"#/components/schemas/categoryDto"},"type":"array"}},"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"183513bb7aa84dab9d17c9bc8a4a9fab","host":"codehub-ext.cn-north-4.myhuaweicloud.com","id":"082ff6e9f63a4814b93f73667d059062","info_version":"v4","method":"post","name":"CreateReviewSetting","parameters":null,"paths":{"/v4/repositories/{repository_id}/review-settings":{"post":{"description":"创建/更新检视意见设置","operationId":"CreateReviewSetting","parameters":[{"description":"**参数解释:**\n用户Token。 通过调用IAM服务[获取用户Token](https://support.huaweicloud.com/api-iam/iam_30_0001.html)接口获取(响应消息头中X-Subject-Token的值)。\n **约束限制:**\n必传。\n **取值范围:**\n字符串长度不少于1,不超过10万。\n**默认取值:**\n不涉及。","explode":false,"in":"header","name":"X-Auth-Token","required":true,"schema":{"maxLength":100000,"minLength":1,"type":"string"},"style":"simple"},{"description":"**参数解释:**\n仓库的ID,通过[查询用户所有仓库](https://support.huaweicloud.com/api-codeartsrepo/ListUserAllRepositories.html)接口查询项目列表获取。\n**约束限制:**\n不涉及。","explode":false,"in":"path","name":"repository_id","required":true,"schema":{"maximum":2147483647,"minimum":1,"type":"integer"},"style":"simple"}],"requestBody":{"content":{"application/json":{"example":{"categories_and_modules_enabled":true,"is_assignee_id_required":true,"is_review_categories_required":true,"is_review_modules_required":true,"review_customized_categories":["分类"],"review_default_categories":["realize","design"],"review_modules":["模块"],"secondary_category_enabled":false},"schema":{"$ref":"#/components/schemas/ReviewSettingParamDto"}}},"description":"创建/更新检视意见设置请求体","required":true},"responses":{"200":{"content":{"application/json":{"example":{"categories_and_modules_enabled":true,"note_required_attributes":[{"is_required":true,"name":"AssigneeId"},{"is_required":true,"name":"Body"},{"is_required":true,"name":"ReviewCategories"},{"is_required":true,"name":"ReviewModules"},{"is_required":true,"name":"Severity"}],"primary_categories":[{"key":"realize","name_en":"Algorithm","name_zh":"算法实现"},{"key":"design","name_en":"Code design","name_zh":"代码设计"}],"review_customized_categories":["分类"],"review_default_categories":["realize","design"],"review_modules":["模块"],"secondary_category_enabled":false},"schema":{"$ref":"#/components/schemas/ReviewSettingDto"}}},"description":"OK"},"401":{"content":{"application/json":{"example":{"error_code":"DEV.00000003","error_msg":"认证信息过期"},"schema":{"$ref":"#/components/schemas/ApiError"}}},"description":"Unauthorized"}},"summary":"创建/更新检视意见设置","tags":["Discussion"],"x-api-framework":"RestfulAPI","x-api-highrisk":"N","x-api-position":"Region_ZONE","x-api-type":"open-api","x-api-user":"IAM_User","x-is-registered":"Y","x-open-region-cloud":"hws,hws_hk","x-request-examples-1":{"categories_and_modules_enabled":true,"is_assignee_id_required":true,"is_review_categories_required":true,"is_review_modules_required":true,"review_customized_categories":["分类"],"review_default_categories":["realize","design"],"review_modules":["模块"],"secondary_category_enabled":false},"x-request-examples-text-1":{"categories_and_modules_enabled":true,"is_assignee_id_required":true,"is_review_categories_required":true,"is_review_modules_required":true,"review_customized_categories":["分类"],"review_default_categories":["realize","design"],"review_modules":["模块"],"secondary_category_enabled":false},"x-request-examples-url-1":"/v4/repositories/123/review-settings","x-sec-auditlog":"Y","x-sec-authority-parameter-body":"null","x-sec-authority-parameter-url":"null","x-sec-privacy-parameter":"null","x-sec-sensitiveinfo":"null","x-sec-upload-download":0,"x-sec-userinput-untrust":"null","x-support-sdk":"Y"}}},"product_short":"CodeHub","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建/更新检视意见设置","tags":"Discussion","uri":null,"version":"3.0.1"}