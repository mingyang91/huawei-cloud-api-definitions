{"base_path":null,"components":{"schemas":{"ApiError":{"description":"**参数解释:**\n错误信息。","properties":{"error_code":{"description":"**参数解释:**\n错误码。","maxLength":20,"minLength":0,"type":"string"},"error_msg":{"description":"**参数解释:**\n错误信息。","maxLength":1000,"minLength":0,"type":"string"}},"type":"object"},"CreateMergeRequestApproverSettingDto":{"description":"审核策配置","properties":{"append_approver_ids":{"description":"追加审核人用户id列表","items":{"format":"int32","type":"integer"},"type":"array"},"append_reviewer_ids":{"description":"追加检视人人用户id列表","items":{"format":"int32","type":"integer"},"type":"array"},"approval_required_approvers":{"description":"最小审核人数","type":"integer"},"approval_required_reviewers":{"description":"最小检视人数","type":"integer"},"approver_ids":{"description":"审核人用户id列表","items":{"format":"int32","type":"integer"},"type":"array"},"approvers_from_project":{"description":"是否开启仅能从以下审核/检视人中追加审核人/检视人","type":"boolean"},"assignee_ids":{"description":"合并人用户id列表","items":{"format":"int32","type":"integer"},"type":"array"},"is_use_approval":{"description":"为false时,“最小检视人数”,“最小审核人数”,“重新推送代码时重置审核人”,“重新推送代码时重置检视人”,“仅能从以下审核人/检视人中追加审核人/检视人”置为默认","type":"boolean"},"only_merge_when_pipeline_pass":{"description":"是否开启流水线门禁","type":"boolean"},"reset_approvals_on_push":{"description":"推送时是否重置审核门禁状态","type":"boolean"},"reset_reviewers_on_push":{"description":"推送时是否重置检视门禁状态","type":"boolean"},"reviewer_ids":{"description":"检视人用户id列表","items":{"format":"int32","type":"integer"},"type":"array"},"target":{"description":"配置分支,可使用*作为通配符使用,如:dev* 指以dev开头的所有分支","type":"string"}},"type":"object"},"MergeRequestApproverSettingResultDto":{"description":"审核策略设置","properties":{"append_approver_ids":{"description":"追加审核人id列表","items":{"format":"int32","type":"integer"},"type":"array"},"append_approvers":{"description":"追加审核人实体列表","items":{"$ref":"#/components/schemas/UserBasicDto"},"type":"array"},"append_reviewer_ids":{"description":"追加检视人id列表","items":{"description":"追加检视人id列表","format":"int32","type":"integer"},"type":"array"},"append_reviewers":{"description":"追加检视人实体列表","items":{"$ref":"#/components/schemas/UserBasicDto"},"type":"array"},"approval_required_approvers":{"description":"最小审核人数","type":"integer"},"approval_required_reviewers":{"description":"最小检视人数","type":"integer"},"approver_ids":{"description":"审核人id列表","items":{"format":"int32","type":"integer"},"type":"array"},"approvers":{"description":"审核人实体列表","items":{"$ref":"#/components/schemas/UserBasicDto"},"type":"array"},"approvers_from_project":{"description":"是否开启仅能从以下审核/检视人中追加审核人/检视人","type":"boolean"},"assignee_ids":{"description":"合并人id列表","items":{"format":"int32","type":"integer"},"type":"array"},"assignees":{"description":"合并人实体列表","items":{"$ref":"#/components/schemas/UserBasicDto"},"type":"array"},"id":{"description":"**参数解释:**\n 设置主键id。","type":"string"},"is_use_approval":{"description":"是否为审核模式,审核模式:true 评分模式:false","type":"boolean"},"only_merge_when_pipeline_pass":{"description":"是否开启流水线门禁","type":"boolean"},"reset_approvals_on_push":{"description":"推送时是否重置审核门禁状态","type":"boolean"},"reset_reviewers_on_push":{"description":"推送时是否重置检视门禁状态","type":"boolean"},"reviewer_ids":{"description":"检视人id列表","items":{"format":"int32","type":"integer"},"type":"array"},"reviewers":{"description":"检视人实体列表","items":{"$ref":"#/components/schemas/UserBasicDto"},"type":"array"},"target":{"description":"**参数解释:**\n 分支,可使用*作为通配符使用,如:dev* 指以dev开头的所有分支","type":"string"},"target_type":{"description":"设置类型,当前仅开放branch类型","enum":["branch","file","binary"],"type":"string"}},"type":"object"},"UserBasicDto":{"allOf":[{"$ref":"#/components/schemas/UserSafeDto"},{"properties":{"avatar_path":{"description":"用户头像路径","type":"string"},"avatar_url":{"description":"用户头像url","type":"string"},"email":{"description":"用户邮箱","type":"string"},"error_message":{"description":"**参数解释:**\n部分查询接口校验到传参里的用户权限不足或不存在时,返回该用户但该字段不为空用于提示。","type":"string"},"name_cn":{"description":"用户中文名称","type":"string"},"nick_name":{"description":"用户昵称","type":"string"},"service_license_status":{"description":"服务级权限状态 0:停用 1:启用","type":"integer"},"state":{"description":"用户状态","type":"string"},"tenant_name":{"description":"租户名称","type":"string"},"web_url":{"description":"用户个人首页","type":"string"}}}],"description":"用户信息","type":"object"},"UserSafeDto":{"description":"**参数解释:**\n用户基础信息。","properties":{"id":{"description":"**参数解释:**\n用户id。","format":"int32","maximum":2147483647,"minimum":1,"type":"integer"},"name":{"description":"**参数解释:**\n用户名称。","maxLength":255,"minLength":1,"type":"string"},"username":{"description":"**参数解释:**\n用户名。","maxLength":255,"minLength":1,"type":"string"}},"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"183513bb7aa84dab9d17c9bc8a4a9fab","host":"codehub-ext.cn-north-4.myhuaweicloud.com","id":"0fa933eaffc64a78943ec6d5ed7f98e4","info_version":"v4","method":"post","name":"CreateGroupMergeRequestApproverSetting","parameters":null,"paths":{"/v4/groups/{group_id}/approver-settings":{"post":{"description":"创建代码组合并请求审核设置","operationId":"CreateGroupMergeRequestApproverSetting","parameters":[{"description":"**参数解释:**\n用户Token。 通过调用IAM服务[获取用户Token](https://support.huaweicloud.com/api-iam/iam_30_0001.html)接口获取(响应消息头中X-Subject-Token的值)。\n **约束限制:**\n必传。\n **取值范围:**\n字符串长度不少于1,不超过10万。\n**默认取值:**\n不涉及。","explode":false,"in":"header","name":"X-Auth-Token","required":true,"schema":{"maxLength":100000,"minLength":1,"type":"string"},"style":"simple"},{"description":"**参数解释:**\n代码组id,代码组首页,Group ID后的数字Id","explode":false,"in":"path","name":"group_id","required":true,"schema":{"format":"int32","maximum":2147483647,"minimum":1,"type":"integer"},"style":"simple"}],"requestBody":{"content":{"application/json":{"example":{"append_approver_ids":[],"append_reviewer_ids":[],"approval_required_approvers":0,"approval_required_reviewers":0,"approver_ids":[],"approvers_from_project":false,"assignee_ids":[],"is_use_approval":true,"only_merge_when_pipeline_pass":true,"reset_approvals_on_push":true,"reset_reviewers_on_push":true,"reviewer_ids":[],"target":"dev"},"schema":{"$ref":"#/components/schemas/CreateMergeRequestApproverSettingDto"}}},"description":"创建代码组合并请求审核设置参数","required":true},"responses":{"201":{"content":{"application/json":{"example":{"append_approver_ids":[],"append_approvers":[],"append_reviewer_ids":[],"append_reviewers":[],"approval_required_approvers":0,"approval_required_reviewers":0,"approver_ids":[],"approvers":[],"approvers_from_project":false,"assignee_ids":[],"assignees":[],"id":330,"is_use_approval":true,"only_merge_when_pipeline_pass":true,"reset_approvals_on_push":true,"reset_reviewers_on_push":true,"reviewer_ids":[],"reviewers":[],"target":"dev","target_type":"branch"},"schema":{"$ref":"#/components/schemas/MergeRequestApproverSettingResultDto"}}},"description":"OK"},"401":{"content":{"application/json":{"example":{"error_code":"DEV.00000003","error_msg":"认证信息过期"},"schema":{"$ref":"#/components/schemas/ApiError"}}},"description":"Unauthorized"},"403":{"content":{"application/json":{"example":{"error_code":"CH.004403","error_msg":"您没有操作权限,请升级权限后重试。"},"schema":{"$ref":"#/components/schemas/ApiError"}}},"description":"Bad Request"}},"summary":"创建代码组合并请求审核设置","tags":["MergeRequest"],"x-api-framework":"RestfulAPI","x-api-highrisk":"N","x-api-position":"Region_ZONE","x-api-type":"open-api","x-api-user":"IAM_User","x-is-registered":"Y","x-open-region-cloud":"hws,hws_hk","x-request-examples-1":{"append_approver_ids":[],"append_reviewer_ids":[],"approval_required_approvers":0,"approval_required_reviewers":0,"approver_ids":[],"approvers_from_project":false,"assignee_ids":[],"is_use_approval":true,"only_merge_when_pipeline_pass":true,"reset_approvals_on_push":true,"reset_reviewers_on_push":true,"reviewer_ids":[],"target":"dev"},"x-request-examples-text-1":{"append_approver_ids":[],"append_reviewer_ids":[],"approval_required_approvers":0,"approval_required_reviewers":0,"approver_ids":[],"approvers_from_project":false,"assignee_ids":[],"is_use_approval":true,"only_merge_when_pipeline_pass":true,"reset_approvals_on_push":true,"reset_reviewers_on_push":true,"reviewer_ids":[],"target":"dev"},"x-request-examples-url-1":"GET https://{endpoint}/v4/groups/2561032/approver-settings","x-sec-auditlog":"Y","x-sec-authority-parameter-body":"null","x-sec-authority-parameter-url":"null","x-sec-privacy-parameter":"null","x-sec-sensitiveinfo":"null","x-sec-upload-download":0,"x-sec-userinput-untrust":"null","x-support-sdk":"Y"}}},"product_short":"CodeHub","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建代码组合并请求审核设置","tags":"MergeRequest","uri":null,"version":"3.0.1"}