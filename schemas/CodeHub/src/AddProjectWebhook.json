{"base_path":null,"components":{"schemas":{"ApiError":{"description":"**参数解释:**\n错误信息。","properties":{"error_code":{"description":"**参数解释:**\n错误码。","maxLength":20,"minLength":0,"type":"string"},"error_msg":{"description":"**参数解释:**\n错误信息。","maxLength":1000,"minLength":0,"type":"string"}},"type":"object"},"WebhookDto":{"allOf":[{"$ref":"#/components/schemas/WebhookParamsDto"},{"properties":{"created_at":{"description":"**参数解释:**\n创建时间。\n**参数解释:**\nyyyy-MM-dd'T'HH:mm:ss.SSSXXX","format":"yyyy-MM-dd'T'HH:mm:ss.SSSXXX","type":"string"},"id":{"description":"**参数解释:**\nWebhook id。","format":"int32","maximum":2147483647,"minimum":1,"type":"integer"},"updated_at":{"description":"**参数解释:**\n更新时间。\n**参数解释:**\nyyyy-MM-dd'T'HH:mm:ss.SSSXXX","format":"yyyy-MM-dd'T'HH:mm:ss.SSSXXX","type":"string"}}}],"description":"**参数解释:**\nWebhook数据。","type":"object"},"WebhookParamsDto":{"description":"**参数解释:**\nWebhook设置参数。","properties":{"description":{"description":"**参数解释:**\n描述。\n**取值范围:**\n字符串长度不少于0,不超过200。","maxLength":200,"minLength":0,"type":"string"},"merge_requests_events":{"description":"**参数解释:**\n是否启用合并请求事件。","type":"boolean"},"name":{"description":"**参数解释:**\n名称。\n**取值范围:**\n字符串长度不少于0,不超过200。","maxLength":200,"minLength":0,"type":"string"},"note_events":{"description":"**参数解释:**\n是否启用评论事件。","type":"boolean"},"push_events":{"description":"**参数解释:**\n是否启用推送事件。","type":"boolean"},"push_events_branch_regex_filter":{"description":"**参数解释:**\n推送事件分支过滤正则规则。\n**取值范围:**\n字符串长度不少于0,不超过500。","maxLength":500,"minLength":0,"type":"string"},"tag_push_events":{"description":"**参数解释:**\n是否启用Tag推送事件。","type":"boolean"},"token":{"description":"**参数解释:**\ntoken值,作为返回值时会使用掩码代替实际值。\n**取值范围:**\n字符串长度不少于0,不超过2000。","maxLength":2000,"minLength":0,"type":"string"},"token_type":{"description":"**参数解释:**\ntoken类型,默认为X-Repo-Token。\n**取值范围:**\n字符串长度不少于0,不超过200。","maxLength":200,"minLength":0,"type":"string"},"url":{"description":"**参数解释:**\nwebhook地址。\n**取值范围:**\n字符串长度不少于0,不超过500。","maxLength":500,"minLength":0,"type":"string"}},"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"183513bb7aa84dab9d17c9bc8a4a9fab","host":"codehub-ext.cn-north-4.myhuaweicloud.com","id":"68869616cbed4281ba02f9e678ea0552","info_version":"v4","method":"post","name":"AddProjectWebhook","parameters":null,"paths":{"/v4/projects/{project_id}/hooks":{"post":{"description":"添加项目下Webhook","operationId":"AddProjectWebhook","parameters":[{"description":"**参数解释:**\n用户Token。 通过调用IAM服务[获取用户Token](https://support.huaweicloud.com/api-iam/iam_30_0001.html)接口获取(响应消息头中X-Subject-Token的值)。\n **约束限制:**\n必传。\n **取值范围:**\n字符串长度不少于1,不超过10万。\n**默认取值:**\n不涉及。","explode":false,"in":"header","name":"X-Auth-Token","required":true,"schema":{"maxLength":100000,"minLength":1,"type":"string"},"style":"simple"},{"description":"**参数解释:**\n项目的32位uuid,项目唯一标识,通过[查询项目列表](https://support.huaweicloud.com/api-projectman/ListProjectsV4.html)接口查询项目列表获取。\n**取值范围:**\n字符串长度32。","explode":false,"in":"path","name":"project_id","required":true,"schema":{"maxLength":32,"minLength":32,"type":"string"},"style":"simple"}],"requestBody":{"content":{"application/json":{"example":{"description":"代码检查","merge_requests_events":false,"name":"代码检查","note_events":false,"push_events":true,"push_events_branch_regex_filter":".*","tag_push_events":true,"token":"exampletoken","token_type":"X-Repo-Token","url":"https://demo1.com"},"schema":{"$ref":"#/components/schemas/WebhookParamsDto"}}},"description":"添加项目下Webhook参数","required":false},"responses":{"201":{"content":{"application/json":{"example":{"created_at":"2024-10-15T22:30:24.000+08:00","description":"代码检查","id":2,"merge_requests_events":false,"name":"代码检查","note_events":false,"push_events":true,"push_events_branch_regex_filter":".*","tag_push_events":true,"token":"************","token_type":"X-Repo-Token","updated_at":"2024-10-15T22:30:24.000+08:00","url":"https://demo1.com"},"schema":{"$ref":"#/components/schemas/WebhookDto"}}},"description":"OK"},"401":{"content":{"application/json":{"example":{"error_code":"DEV.00000003","error_msg":"认证信息过期"},"schema":{"$ref":"#/components/schemas/ApiError"}}},"description":"Unauthorized"}},"summary":"添加项目下Webhook","tags":["WebHook"],"x-api-framework":"RestfulAPI","x-api-highrisk":"N","x-api-position":"Region_ZONE","x-api-type":"open-api","x-api-user":"IAM_User","x-is-registered":"Y","x-open-region-cloud":"hws,hws_hk,hcs,hcs_sm","x-request-examples-1":{"description":"代码检查","merge_requests_events":false,"name":"代码检查","note_events":false,"push_events":true,"push_events_branch_regex_filter":".*","tag_push_events":true,"token":"exampletoken","token_type":"X-Repo-Token","url":"https://demo1.com"},"x-request-examples-url-1":"POST https://{endpoint}/v4/projects/a642c851d4dc4853b595e5c8a5e56df7/hooks","x-sec-auditlog":"Y","x-sec-authority-parameter-body":"null","x-sec-authority-parameter-url":"null","x-sec-privacy-parameter":"null","x-sec-sensitiveinfo":"null","x-sec-upload-download":0,"x-sec-userinput-untrust":"null","x-support-sdk":"Y"}}},"product_short":"CodeHub","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"添加项目下Webhook","tags":"WebHook","uri":null,"version":"3.0.1"}