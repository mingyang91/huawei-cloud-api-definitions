{"base_path":null,"components":{"schemas":{"ApiError":{"description":"**参数解释:**\n错误信息。","properties":{"error_code":{"description":"**参数解释:**\n错误码。","maxLength":20,"minLength":0,"type":"string"},"error_msg":{"description":"**参数解释:**\n错误信息。","maxLength":1000,"minLength":0,"type":"string"}},"type":"object"},"BranchBasicDto":{"allOf":[{"$ref":"#/components/schemas/BranchSimpleDto"},{"properties":{"commit":{"$ref":"#/components/schemas/CommitDto"},"create_source":{"description":"基于分支","maxLength":2000,"minLength":1,"type":"string"},"create_source_exists":{"description":"基于分支是否存在","type":"boolean"},"created_at":{"description":"创建时间","format":"yyyy-MM-dd'T'HH:mm:ss.SSSXXX","type":"string"},"creator":{"$ref":"#/components/schemas/UserBasicDto"},"description":{"description":"分支描述","maxLength":2000,"minLength":1,"type":"string"},"diverging_commit_counts":{"$ref":"#/components/schemas/DivergingCommitCounts"},"latest_pipeline":{"$ref":"#/components/schemas/PipelineBasicDto"},"merged":{"description":"所有提交是否合入到默认分支","type":"boolean"},"opened_mr_count":{"description":"该分支正在开启的合并请求个数","maximum":2147483647,"minimum":0,"type":"integer"},"protected":{"description":"是否为保护分支","type":"boolean"}}}],"type":"object"},"BranchSimpleDto":{"properties":{"can_delete":{"description":"用户是否为默认分支","type":"boolean"},"can_download":{"description":"是否为默认分支","type":"boolean"},"can_push":{"description":"是否为默认分支","type":"boolean"},"can_read":{"description":"是否为默认分支","type":"boolean"},"default":{"description":"是否为默认分支","type":"boolean"},"name":{"description":"分支名称","maximum":100000,"minimum":1,"type":"string"}},"type":"object"},"CommitDto":{"allOf":[{"$ref":"#/components/schemas/RepositoryCommitDto"},{"properties":{"author_avatar_url":{"description":"author_avatar_url","maxLength":100000,"minLength":1,"type":"string"},"committer_avatar_url":{"description":"committer_avatar_url","maxLength":100000,"minLength":1,"type":"string"},"created_at":{"description":"创建时间","maxLength":100000,"minLength":1,"type":"string"},"nick_name":{"description":"标题","maxLength":100000,"minLength":1,"type":"string"},"relate_url":{"description":"only for DevCloud","items":{"$ref":"#/components/schemas/RelatedCommitSimpleDto"},"type":"array"},"short_id":{"description":"短id","maxLength":100000,"minLength":1,"type":"string"},"tenant_name":{"description":"tenant_name","maxLength":100000,"minLength":1,"type":"string"},"title":{"description":"标题","maxLength":100000,"minLength":1,"type":"string"},"user_name":{"description":"用户名","maxLength":100000,"minLength":1,"type":"string"}}}],"description":"commit相关信息","type":"object"},"CreateBranchDto":{"properties":{"branch":{"description":"**参数解释:**\n分支名称。\n **约束限制:**\n不支持以 - . refs/heads/ refs/remotes/ 开头,不支持空格 [ \\ < ~ ^ : ? * ! ( ) ' \" | 等特殊字符,不支持以. / .lock结尾。\n **取值范围:**\n字符串长度不少于1,不超过200。\n**默认取值:**\n不涉及。","type":"string"},"description":{"description":"**参数解释:**\n分支描述。\n **约束限制:**\n无。\n **取值范围:**\n字符串长度不少于1,不超过2000。\n**默认取值:**\n不涉及。","type":"string"},"ref":{"description":"**参数解释:**\n基于分支名称。\n **约束限制:**\n不支持以 - . refs/heads/ refs/remotes/ 开头,不支持空格 [ \\ < ~ ^ : ? * ! ( ) ' \" | 等特殊字符,不支持以. / .lock结尾。\n **取值范围:**\n字符串长度不少于1,不超过200。\n**默认取值:**\n不涉及。","type":"string"},"related_ids":{"description":"**参数解释:**\n关联工作项列表。\n **约束限制:**\n无。\n **取值范围:**\n无。\n**默认取值:**\n不涉及。","items":{"description":"关联工作项编号","type":"string"},"type":"array"}},"required":["branch","ref"],"type":"object"},"DivergingCommitCounts":{"properties":{"ahead":{"description":"领先默认分支提交数量","format":"int32","type":"integer"},"behind":{"description":"落后默认分支提交数量","format":"int32","type":"integer"}},"type":"object"},"PipelineBasicDto":{"description":"流水线基本信息","properties":{"id":{"description":"流水线ID","format":"int32","maximum":2147483647,"minimum":1,"type":"integer"},"ref":{"description":"分支","maxLength":100000,"minLength":1,"type":"string"},"sha":{"description":"commit id","maxLength":40,"minLength":40,"type":"string"},"status":{"description":"流水线状态,pending为排队,running为运行中,success为成功,failed为失败,canceled为取消,skipped为跳过,timedout为超时","enum":["pending","running","success","failed","canceled","skipped","timedout"],"type":"string"},"web_url":{"description":"流水线链接","maxLength":100000,"minLength":1,"type":"string"}},"type":"object"},"RelatedCommitSimpleDto":{"properties":{"related_id":{"description":"关联工作项ID","maxLength":100000,"minLength":1,"type":"string"},"related_url":{"description":"关联工作URL","maxLength":100000,"minLength":1,"type":"string"}},"type":"object"},"RepositoryCommitDto":{"properties":{"author_email":{"description":"创建者邮箱","maxLength":100000,"minLength":1,"type":"string"},"author_name":{"description":"创建者名称","maxLength":100000,"minLength":1,"type":"string"},"authored_date":{"description":"创建该分支的时间","maxLength":100000,"minLength":1,"type":"string"},"committed_date":{"description":"代码提交的日期和时间","maxLength":100000,"minLength":1,"type":"string"},"committer_email":{"description":"提交者邮箱","maxLength":100000,"minLength":1,"type":"string"},"committer_name":{"description":"提交者名称","maxLength":100000,"minLength":1,"type":"string"},"gpg_nick_name":{"description":"昵称","maxLength":100000,"minLength":1,"type":"string"},"gpg_primary_key_id":{"description":"GPG公钥的标识符","maxLength":100000,"minLength":1,"type":"string"},"gpg_tenant_name":{"description":"租户名","maxLength":100000,"minLength":1,"type":"string"},"gpg_user_name":{"description":"特定GPG用户相关的信息","maxLength":100000,"minLength":1,"type":"string"},"id":{"description":"id","maxLength":100000,"minLength":1,"type":"string"},"message":{"description":"消息","maxLength":100000,"minLength":1,"type":"string"},"name":{"description":"用户名","maxLength":100000,"minLength":1,"type":"string"},"open_gpg_verified":{"description":"是否打开gpg校验","type":"boolean"},"parent_ids":{"description":"父节点提交ID","items":{"maxLength":100000,"minLength":1,"type":"string"},"type":"array"},"verification_status":{"description":"验证状态","maximum":1,"minimum":0,"type":"integer"}},"type":"object"},"UserBasicDto":{"allOf":[{"$ref":"#/components/schemas/UserSafeDto"},{"properties":{"avatar_path":{"description":"用户头像路径","type":"string"},"avatar_url":{"description":"用户头像url","type":"string"},"email":{"description":"用户邮箱","type":"string"},"error_message":{"description":"**参数解释:**\n部分查询接口校验到传参里的用户权限不足或不存在时,返回该用户但该字段不为空用于提示。","type":"string"},"name_cn":{"description":"用户中文名称","type":"string"},"nick_name":{"description":"用户昵称","type":"string"},"service_license_status":{"description":"服务级权限状态 0:停用 1:启用","type":"integer"},"state":{"description":"用户状态","type":"string"},"tenant_name":{"description":"租户名称","type":"string"},"web_url":{"description":"用户个人首页","type":"string"}}}],"description":"用户信息","type":"object"},"UserSafeDto":{"description":"**参数解释:**\n用户基础信息。","properties":{"id":{"description":"**参数解释:**\n用户id。","format":"int32","maximum":2147483647,"minimum":1,"type":"integer"},"name":{"description":"**参数解释:**\n用户名称。","maxLength":255,"minLength":1,"type":"string"},"username":{"description":"**参数解释:**\n用户名。","maxLength":255,"minLength":1,"type":"string"}},"type":"object"}}},"consumes":"","definitions":null,"description":null,"group_id":"183513bb7aa84dab9d17c9bc8a4a9fab","host":"codehub-ext.cn-north-4.myhuaweicloud.com","id":"f77b7cdcabad4a7b9b13723101125b17","info_version":"v4","method":"post","name":"CreateBranch","parameters":null,"paths":{"/v4/repositories/{repository_id}/repository/branches":{"post":{"description":"创建分支","operationId":"CreateBranch","parameters":[{"description":"**参数解释:**\n用户Token。 通过调用IAM服务[获取用户Token](https://support.huaweicloud.com/api-iam/iam_30_0001.html)接口获取(响应消息头中X-Subject-Token的值)。\n **约束限制:**\n必传。\n **取值范围:**\n字符串长度不少于1,不超过10万。\n**默认取值:**\n不涉及。","explode":false,"in":"header","name":"X-Auth-Token","required":true,"schema":{"maxLength":100000,"minLength":1,"type":"string"},"style":"simple"},{"description":"**参数解释:**\n仓库的ID,通过[查询用户所有仓库](https://support.huaweicloud.com/api-codeartsrepo/ListUserAllRepositories.html)接口查询项目列表获取。\n**约束限制:**\n不涉及。","explode":false,"in":"path","name":"repository_id","required":true,"schema":{"maximum":2147483647,"minimum":1,"type":"integer"},"style":"simple"}],"requestBody":{"content":{"application/json":{"example":{"branch":"mian","description":"123","ref":"master"},"schema":{"$ref":"#/components/schemas/CreateBranchDto"}}},"description":"分支详情","required":true},"responses":{"201":{"content":{"application/json":{"example":{"can_delete":null,"can_download":null,"can_push":null,"can_read":null,"commit":{"author_avatar_url":null,"author_email":"****","author_name":"****","authored_date":"2025-06-27T01:52:33.000Z","committed_date":"2025-06-27T01:52:33.000Z","committer_avatar_url":null,"committer_email":"****","committer_name":"****","created_at":"2025-06-27T01:52:33.000Z","gpg_nick_name":null,"gpg_primary_key_id":null,"gpg_tenant_name":null,"gpg_user_name":null,"id":"****","message":"****","name":null,"nick_name":null,"open_gpg_verified":null,"parent_ids":["6ac4a7f56d28c9b76d3a7210608f496c519058be"],"relate_url":null,"short_id":"****","tenant_name":null,"title":"更新 ere","user_name":null,"verification_status":null},"create_source":"master","create_source_exists":true,"created_at":"2025-07-18T11:24:46.000+08:00","creator":{"avatar_path":null,"avatar_url":"","email":"****","error_message":null,"id":"****","name":"****","name_cn":"****","nick_name":"****","service_license_status":null,"state":"active","tenant_name":"****","username":"****","web_url":"https://example.com/****"},"default":false,"description":"****","diverging_commit_counts":{"ahead":0,"behind":0},"latest_pipeline":null,"merged":false,"name":"b6","opened_mr_count":0,"protected":false},"schema":{"$ref":"#/components/schemas/BranchBasicDto"}}},"description":"OK"},"401":{"content":{"application/json":{"example":{"error_code":"DEV.00000003","error_msg":"认证信息过期"},"schema":{"$ref":"#/components/schemas/ApiError"}}},"description":"Unauthorized"}},"summary":"创建分支","tags":["Branch"],"x-api-framework":"RestfulAPI","x-api-highrisk":"N","x-api-position":"Region_ZONE","x-api-type":"open-api","x-api-user":"IAM_User","x-is-registered":"Y","x-open-region-cloud":"hws,hws_hk","x-request-examples-1":{"branch":"mian","description":"123","ref":"master"},"x-request-examples-url-1":"POST https://{endpoint}/v4/repositories/2112015538/repository/branches","x-sec-auditlog":"Y","x-sec-authority-parameter-body":"null","x-sec-authority-parameter-url":"null","x-sec-privacy-parameter":"null","x-sec-sensitiveinfo":"null","x-sec-upload-download":0,"x-sec-userinput-untrust":"null","x-support-sdk":"Y"}}},"product_short":"CodeHub","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"创建分支","tags":"Branch","uri":null,"version":"3.0.1"}