{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"BatchJobInfo":{"description":"批量处理作业详情","properties":{"created_at":{"description":"创建时间戳","format":"uint64","type":"integer","x-go-name":"CreatedAt"},"description":{"description":"描述","type":"string","x-go-name":"Description"},"job_id":{"description":"批量处理作业ID","type":"string","x-go-name":"JobID"},"job_name":{"description":"批量处理作业名称","type":"string","x-go-name":"JobName"},"job_type":{"description":"批量作业类型,支持以下选项: - node_upgrade: 节点升级 - deployment_deploy:应用部署 - deployment_upgrade:应用升级","type":"string","x-go-name":"JobType"},"status":{"description":"执行状态","type":"string","x-go-name":"Status"},"status_last_updated_at":{"description":"状态更新时间戳","format":"uint64","type":"integer","x-go-name":"UpdatedAt"},"target_type":{"description":"批量作业对象类型,支持如下选项: - node:边缘节点 - node_group:边缘节点组 - deployment:边缘应用","type":"string","x-go-name":"TargetType"},"targets":{"description":"批量处理对象详情","items":{"$ref":"#/definitions/Target"},"type":"array","x-go-name":"Targets"},"task_data":{"description":"批量作业内容,仅在批量应用部署和批量应用升级时需要填写,填入的内容为:使用json结构体编写的创建应用部署接口请求体deployment参数,并将其转换为字符串","type":"string","x-go-name":"TaskData"},"task_failed_count":{"description":"任务项执行成功数","format":"uint64","type":"integer","x-go-name":"TaskFailedCount"},"task_success_count":{"description":"任务项执行失败数","format":"uint64","type":"integer","x-go-name":"TaskSuccessCount"},"task_total_count":{"description":"任务总数","format":"uint64","type":"integer","x-go-name":"TaskTotalCount"},"tasks":{"description":"任务项详情","items":{"$ref":"#/definitions/Task"},"type":"array","x-go-name":"Tasks"}},"type":"object","x-go-package":"product-manager/pkg/apis"},"Extension":{"description":"批量处理对象额外属性","properties":{"key":{"description":"属性名,可填:node_name","type":"string","x-go-name":"Key"},"value":{"description":"属性值","type":"string","x-go-name":"Value"}},"type":"object","x-go-package":"product-manager/pkg/apis"},"Target":{"description":"批量处理对象详情","properties":{"extension_info":{"description":"批量处理对象基本信息","items":{"$ref":"#/definitions/Extension"},"type":"array","x-go-name":"ExtensionInfo"},"target_id":{"description":"批量处理对象ID","type":"string","x-go-name":"TargetID"}},"required":["target_id"],"type":"object","x-go-package":"product-manager/pkg/apis"},"Task":{"description":"任务项详情","properties":{"created_at":{"description":"创建时间戳","format":"uint64","type":"integer","x-go-name":"CreatedAt"},"extension_info":{"description":"批量处理对象基本信息","items":{"$ref":"#/definitions/Extension"},"type":"array","x-go-name":"ExtensionInfo"},"reason":{"description":"任务项失败的原因","type":"string","x-go-name":"Reason"},"status":{"description":"任务项状态","type":"string","x-go-name":"Status"},"target_id":{"description":"批量处理对象ID","type":"string","x-go-name":"TargetID"},"task_id":{"description":"任务项ID","type":"string","x-go-name":"TaskID"},"task_name":{"description":"任务项名称","type":"string","x-go-name":"TaskName"}},"type":"object","x-go-package":"product-manager/pkg/apis"}},"description":null,"group_id":"cdaa2d3f4fbb4dc38b6a6c55f9222ed9","host":"ief.cn-north-4.myhuaweicloud.com","id":"1c1e2e95e93042a695b09f36fe35b29f","info_version":"v1","method":"get","name":"ShowBatchJob","parameters":{"Content-Type":{"description":"消息体的类型(格式),默认取值为“application/json”","in":"header","name":"Content-Type","required":true,"type":"string"},"IEF-Instance-Id":{"description":"铂金版实例ID,专业版实例为空值","in":"header","name":"ief-instance-id","required":false,"type":"string"},"X-Auth-Token":{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."}},"paths":{"/v2/{project_id}/productmgr/jobs/{job_id}":{"get":{"consumes":["application/json"],"description":"查询批量处理作业详情","operationId":"ShowBatchJob","parameters":[{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string","x-go-name":"ProjectId"},{"description":"批量处理作业ID","in":"path","name":"job_id","required":true,"type":"string","x-go-name":"JobId"},{"$ref":"#/parameters/X-Auth-Token"},{"$ref":"#/parameters/IEF-Instance-Id"},{"$ref":"#/parameters/Content-Type"}],"produces":["application/json"],"responses":{"200":{"description":"查询成功","examples":{"application/json":{"created_at":1667218308,"description":"","job_id":"66273c66-f72e-4607-8769-3663d255fb83","job_name":"aaa","job_type":"deployment_deploy","status":"Successful","status_last_updated_at":1667218329,"target_type":"node","targets":[{"extension_info":[{"key":"node_name","value":"test1"}],"target_id":"72eb5df1-295b-41f6-baed-d1a56728b0e0"},{"extension_info":[{"key":"node_name","value":"test2"}],"target_id":"b1c0e722-ee98-4ae3-9224-881224cb32c9"}],"task_data":"{\"deployment\":{\"replicas\":1,\"template\":{\"configs\":{\"host_network\":false,\"restart_policy\":\"Always\",\"host_pid\":false},\"containers\":[{\"name\":\"container-06fefd36\",\"version\":\"latest\",\"image_url\":\"sample:latest\",\"envs\":[],\"volumes\":[],\"resources\":{\"limits\":{\"cpu\":\"0.25\",\"memory\":\"512\"},\"requests\":{\"cpu\":\"0.25\",\"memory\":\"512\"}},\"privileged\":false,\"ports\":[]}]}},\"source\":\"userdefined\",\"name_prex\":\"aaa\",\"tags\":[],\"description\":\"\"}","task_failed_count":2,"task_success_count":0,"task_total_count":2,"tasks":[{"created_at":1667218324,"extension_info":[{"key":"deployment_id","value":"9bdefd92-c724-41f4-b07a-4b1061e096d6"}],"reason":"","status":"Successful","target_id":"72eb5df1-295b-41f6-baed-d1a56728b0e0","task_id":"382cca3e-88e6-4a7c-bf23-b637a99761f9","task_name":"aaa-c530d"},{"created_at":1667218325,"extension_info":[{"key":"deployment_id","value":"4b4c7b0c-7ee8-4a7e-b79e-9291b7fd365d"}],"reason":"","status":"Successful","target_id":"b1c0e722-ee98-4ae3-9224-881224cb32c9","task_id":"ac04605b-c286-4f23-97e0-fe08366c36f5","task_name":"aaa-ce854"}]}},"schema":{"$ref":"#/definitions/BatchJobInfo"}}},"summary":"查询批量处理作业详情","tags":["批量作业管理"],"x-is-registered":"Y","x-order":2,"x-support-sdk":"Y"}}},"product_short":"IEF","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询批量处理作业详情","tags":"批量作业管理","uri":null,"version":"2.0"}