{"base_path":"/","components":null,"consumes":"[\"application/json\"]","definitions":{"Attributes":{"description":"节点属性","properties":{"key":{"description":"节点属性的key值,长度取值范围为1~128, 仅允许大小写英文字母、数字、下划线、中划线","type":"string"},"value":{"description":"节点属性的value值,长度取值范围为1~256, 仅允许大小写英文字母、数字、下划线、中划线","type":"string"}}},"DeviceInfos":{"description":"关联设备信息","properties":{"comment":{"description":"设备和节点关系的描述,最大长度64,不允许^ ~ # $ % & * < > ( ) [ ] { } ' \" \\","type":"string"},"device_ids":{"description":"设备ID列表","items":{"type":"string"},"type":"array"},"relation":{"description":"设备和节点关系的名称,只允许中文字符、英文字母、数字、下划线、中划线,最大长度64","type":"string"}},"required":["relation","device_ids"]},"EdgeGroupResp":{"description":"边缘节点组返回参数","properties":{"attributes":{"description":"属性","items":{"$ref":"#/definitions/Attributes"},"type":"array","x-go-name":"Attributes"},"cpu":{"description":"边缘节点组CPU总数,为边缘节点组所绑定的边缘节点的CPU数目之和","format":"int32","type":"integer","x-go-name":"Cpu"},"created_at":{"description":"创建时间","type":"string","x-go-name":"CreatedAt"},"deployments":{"description":"绑定的边缘应用详情","items":{"$ref":"#/definitions/GroupDeployment"},"type":"array"},"description":{"description":"描述","type":"string","x-go-name":"Description"},"failed_node_add":{"description":"绑定操作失败的节点ID列表","items":{"type":"string"},"type":"array"},"failed_node_del":{"description":"解绑操作失败的节点ID列表","items":{"type":"string"},"type":"array"},"gpu_num":{"description":"边缘节点组GPU总数,为边缘节点组所绑定的边缘节点的GPU数目之和","format":"int32","type":"integer"},"iam_role":{"description":"边缘节点组所属账号的IAM权限,没有铂金版权限的账号无法使用节点组功能","type":"string","x-go-name":"IamRole"},"id":{"description":"边缘节点组ID","type":"string","x-go-name":"Id"},"memory":{"description":"边缘节点组内存总数,为边缘节点组所绑定的边缘节点的内存之和","format":"int32","type":"integer","x-go-name":"Memory"},"name":{"description":"边缘节点组名称,小写英文字母、数字、中划线,以小写字母或数字开头,最大长度为32个字符,不能为空","type":"string","x-go-name":"Name"},"nodes":{"description":"绑定的边缘节点详情","items":{"$ref":"#/definitions/EdgeNodeResp"},"type":"array","x-go-name":"Nodes"},"project_id":{"description":"边缘节点组所属的项目ID","type":"string","x-go-name":"ProjectId"},"success_node_add":{"description":"绑定操作成功的节点ID列表","items":{"type":"string"},"type":"array"},"success_node_del":{"description":"解绑操作成功的节点ID列表","items":{"type":"string"},"type":"array"},"tags":{"description":"标签","items":{"$ref":"#/definitions/Attributes"},"type":"array","x-go-name":"Tags"},"updated_at":{"description":"更新时间","type":"string","x-go-name":"UpdatedAt"}},"type":"object","x-go-package":"edge_server/db"},"EdgeNodeResp":{"description":"边缘节点参数","properties":{"arch":{"description":"边缘节点架构","type":"string"},"attributes":{"description":"边缘节点属性,关联属性个数最多为32个","items":{"$ref":"#/definitions/Attributes"},"type":"array"},"ca":{"description":"根证书","type":"string"},"cert_remaining_valid_time":{"description":"证书有效期持续时间","format":"int32","type":"integer"},"certificate":{"description":"证书","type":"string"},"comment":{"description":"与device绑定关系描述(通过device id查询node时有值)","example":"string","type":"string"},"container_runtime_version":{"description":"容器运行时版本","example":"string","type":"string"},"cpu":{"description":"边缘节点CPU核心数","format":"int32","type":"integer"},"created_at":{"description":"创建时间","type":"string"},"deployment_num":{"description":"部署在该边缘节点上的应用实例个数","format":"int32","type":"integer"},"description":{"description":"边缘节点描述,最大长度255,不允许^ ~ # $ % & * < > ( ) [ ] { } ' \" \\","example":"string","type":"string"},"device_infos":{"description":"关联设备信息","items":{"$ref":"#/definitions/DeviceInfos"},"type":"array"},"device_num":{"description":"关联设备数量","format":"int32","type":"integer"},"docker_enable":{"description":"节点是否开启Docker","example":"boolean","type":"boolean"},"edged_version":{"description":"edged版本","type":"string"},"enable_gpu":{"description":"边缘节点是否开启GPU,默认为false","example":"boolean","type":"boolean"},"enable_npu":{"description":"边缘节点是否开启NPU,true表示开启,false表示不开启,默认为false","example":"boolean","type":"boolean"},"error_reason":{"description":"节点故障原因","type":"string"},"gpu_info":{"description":"gpu型号和gpu memory大小","items":{"$ref":"#/definitions/GpuInfo"},"type":"array"},"gpu_num":{"description":"gpu个数","format":"int32","type":"integer"},"group_ids":{"description":"节点组ID(一个节点属于多个节点组)","items":{"type":"string"},"type":"array"},"host_ips":{"description":"主机IP,默认返回eth0网卡的IP。","items":{"type":"string"},"type":"array"},"host_name":{"description":"边缘节点主机名","type":"string"},"id":{"description":"边缘节点ID","type":"string"},"identifier":{"description":"边缘节点使用token注册时的凭证","type":"string"},"ief_node_version":{"description":"边缘节点版本","type":"string"},"log_configs":{"description":"边缘节点日志配置,当用户未配置日志相关字段时,将默认打开日志上传到云端功能。","items":{"$ref":"#/definitions/LogConfigs"},"type":"array"},"master_addr":{"description":"云端服务URL","type":"string"},"memory":{"description":"边缘节点内存大小,单位M","format":"int32","type":"integer"},"mqtt_external":{"description":"外置开源mqtt地址","type":"string"},"mqtt_internal":{"description":"edgecore内置的mqtt地址","example":"string","type":"string"},"mqtt_mode":{"description":"mqtt集成模式\n- internal:edgecore内置mqtt\n- external:外置开源mqtt","type":"string"},"name":{"description":"边缘节点名称,只允许中文字符、英文字母、数字、下划线、中划线,最大长度64\nName为必填字段,且本账号中唯一。","example":"string","type":"string"},"nics":{"description":"节点网卡和对应IP地址信息","items":{"$ref":"#/definitions/Nics"},"type":"array"},"node_type":{"description":"节点类型,默认为空,非空时为小站节点","type":"string"},"npu_info":{"description":"NPU型号和NPU Memory大小","items":{"$ref":"#/definitions/NpuInfo"},"type":"array"},"npu_num":{"description":"NPU数量","format":"int32","type":"integer"},"npu_type":{"description":"NPU类型,支持D310、D310B,支持填写:\n- D310:D310类型\n- D310B:D310B类型\n- 空值:D310类型。","example":"string","type":"string"},"ntp_configs":{"$ref":"#/definitions/NtpConfigs"},"os_name":{"description":"边缘节点操作系统名称","type":"string"},"os_type":{"description":"边缘节点操作系统类型","type":"string"},"os_version":{"description":"边缘节点操作系统版本","type":"string"},"package":{"description":"将证书文件certificate/ca/private_key打成.tar.gz包后用base64编码的字符串。\n使用时请使用base64解码成.tar.gz包。","type":"string"},"pause_docker_image":{"description":"pause容器镜像URL","type":"string"},"private_key":{"description":"私钥","type":"string"},"product_id":{"description":"产品ID(通过产品证书方式纳管)","type":"string"},"project_id":{"description":"项目ID","type":"string"},"purchase_id":{"description":"IEC/IES节点id","type":"string"},"relation":{"description":"与device绑定关系名称(通过device id查询node时有值)","type":"string"},"state":{"description":"边缘节点状态\n- UNCONNECTED(未注册)\n- RUNNING(运行中)\n- FAIL(故障)\n- STOPPED(停用)\n- UPGRADING(升级中)\n- FREEZE(冻结)","type":"string"},"state_details":{"$ref":"#/definitions/StateDetails","description":"IEC/IES节点状态详情"},"tags":{"description":"边缘节点标签,标签个数最多为20个","items":{"$ref":"#/definitions/ResourceTag"},"type":"array"},"updated_at":{"description":"更新时间","type":"string"},"upgrade_flag":{"description":"是否能升级的标志\n- true:需要升级\n- false:不需要升级","type":"boolean"},"upgrade_history":{"description":"节点安装或升级记录","items":{"$ref":"#/definitions/UpgradeHistory"},"type":"array"}},"required":["id","name","description","created_at","updated_at","project_id","private_key","certificate","ca","state","package","master_addr","cpu","memory","os_name","os_version","pause_docker_image","arch","os_type","deployment_num","enable_gpu","log_configs","device_infos","edged_version","gpu_num","host_ips","relation","comment","gpu_info","device_num","enable_npu","npu_type","nics","host_name","ief_node_version","upgrade_flag","product_id","group_ids","upgrade_history","attributes","docker_enable","mqtt_mode","mqtt_external","mqtt_internal","node_type","ntp_configs","error_reason","tags","npu_num","npu_info","container_runtime_version"],"type":"object"},"GpuInfo":{"properties":{"capacity":{"description":"GPU memory大小,单位MB","type":"string"},"name":{"description":"GPU名称","type":"string"},"type":{"description":"GPU类型","type":"string"}}},"GroupDeployment":{"description":"边缘节点组绑定的应用部署","properties":{"created_at":{"description":"应用部署创建时间","type":"string","x-go-name":"CreatedAt"},"description":{"description":"应用部署描述,最大长度255,不允许^ ~ # $ % & * < > ( ) [ ] { } ' \" \\","example":"this is a test app","type":"string","x-go-name":"Description"},"id":{"description":"应用部署uuid","example":"3e64d98a-37c5-43a6-9bfe-052b9083e362","format":"uuid","type":"string","x-go-name":"Id"},"name":{"description":"应用部署名称,只允许英文小写字母、数字、中划线,最大长度32, 英文小写字母或数字开头和结尾","example":"app-test","type":"string","x-go-name":"Name"},"project_id":{"description":"项目ID","example":"bcd83056c918480f8f190844bd425b23","type":"string","x-go-name":"ProjectId"},"updated_at":{"description":"应用部署更新时间","type":"string","x-go-name":"UpdatedAt"}},"type":"object","x-go-package":"edge_server/controller/v3"},"LogConfigs":{"description":"边缘节点日志配置。当用户未填写日志配置相关字段时,将默认打开日志上传到云端功能。","properties":{"component":{"description":"- app:部署到边缘节点上的应用的日志\n- system:边缘节点上系统的日志","type":"string"},"id":{"description":"数据库保存的主键,不需要关注此字段。","type":"string"},"level":{"description":"- 当type为LTS时,应用级日志可配置为On或Off;系统级日志可配置为Off/Error/Warning/Info/Debug;\n- 当type为local时,无需配置level。","type":"string"},"rotate_num":{"description":"应用日志rotate个数,默认5,取值范围1-10。","format":"int32","type":"integer"},"rotate_period":{"description":"应用日志rotate周期,可选项:\n- daily\n- monthly\n- weekly\n- yearly","type":"string"},"size":{"description":"应用日志文件大小限制,单位MB,默认50,取值范围10-1000。","format":"int32","type":"integer"},"type":{"description":"- LTS:将日志发送到AOM\n- local:本地日志","type":"string"}},"required":["type","component"],"type":"object"},"Nics":{"properties":{"interface":{"description":"边缘节点网卡名称","type":"string"},"ip":{"description":"上述网卡对应的IPv4地址","type":"string"}}},"NpuInfo":{"properties":{"capacity":{"description":"NPU memory大小","type":"string"},"driver_version":{"description":"NPU驱动版本","type":"string"},"name":{"description":"NPU名称","type":"string"},"type":{"description":"NPU类型","type":"string"}}},"NtpConfigs":{"description":"ntp配置","properties":{"ntp_enabled":{"description":"ntp服务是否开启","type":"boolean"},"ntp_servers":{"description":"ntp server地址","items":{"type":"string"},"type":"array"}},"type":"object"},"ResourceTag":{"description":"标签属性","properties":{"key":{"description":"键。最大长度36个unicode字符。\n不能为空,只能包含大小写字母,数字,中划线“-”,下划线“_”。","type":"string"},"value":{"description":"值。每个值最大长度43个unicode字符,删除时如果value有值按照key/value删除,如果value没值,则按照key删除。\n不能为空,只能包含大小写字母,数字,中划线“-”,下划线“_”。","type":"string"}},"type":"object"},"StateDetails":{"description":"IEC/IES节点状态详情","properties":{"purchase_error":{"description":"IEC/IES节点错误信息","type":"string"},"purchase_stat":{"description":"IEC/IES节点状态","type":"string"},"register_stat":{"description":"IEC/IES节点注册状态","type":"string"}},"type":"object"},"UpgradeHistory":{"description":"节点安装或升级记录","properties":{"dur_time":{"description":"节点升级所消耗的时间","format":"int32","type":"integer"},"from_version":{"description":"节点升级前节点上edgecore版本号,形式如2.1.0,其中每一位都是整数","type":"string"},"id":{"description":"节点升级或安装历史版本id","format":"int32","type":"integer"},"result":{"description":"节点升级或安装状态,包含\n- install_success:边缘节点安装成功\n- upgrade_success:边缘节点升级成功\n- install_failed:边缘节点安装失败\n- upgrade_failed:边缘节点升级失败\n- upgrade_failed_rollback_success:边缘节点升级失败回滚成功\n- upgrade_failed_rollback_failed:边缘节点升级失败回滚失败","type":"string"},"to_version":{"description":"节点升级或安装后节点行edgecore版本号,形式如2.1.0,其中每一位都是整数","type":"string"},"upgrade_time":{"description":"节点升级或安装的十位时间戳","format":"int32","type":"integer"}}}},"description":null,"group_id":"cdaa2d3f4fbb4dc38b6a6c55f9222ed9","host":"ief.cn-north-4.myhuaweicloud.com","id":"790da1762dbe43028ce88594ed40ee45","info_version":"v1","method":"get","name":"ShowEdgeGroupDetail","parameters":{"Content-Type":{"description":"消息体的类型(格式),默认取值为“application/json”","in":"header","name":"Content-Type","required":true,"type":"string"},"IEF-Instance-Id":{"description":"铂金版实例ID,专业版实例为空值","in":"header","name":"ief-instance-id","required":false,"type":"string"},"X-Auth-Token":{"description":"用户Token。\n通过调用IAM服务获取用户Token接口获取(响应消息头中X-Subject-Token的值)。","in":"header","name":"X-Auth-Token","required":true,"type":"string","x-example":"MIIDkgYJKoZIhvcNAQcCoIIDgzCCXXXXXX..."}},"paths":{"/v2/{project_id}/edgemgr/groups/{group_id}":{"get":{"consumes":["application/json"],"description":"查询边缘节点组详情。该API只能在铂金版实例中使用","operationId":"ShowEdgeGroupDetail","parameters":[{"$ref":"#/parameters/X-Auth-Token"},{"$ref":"#/parameters/Content-Type"},{"$ref":"#/parameters/IEF-Instance-Id"},{"description":"项目ID","in":"path","name":"project_id","required":true,"type":"string","x-go-name":"ProjectId"},{"description":"边缘节点组ID","in":"path","name":"group_id","required":true,"type":"string","x-go-name":"GroupId"}],"produces":["application/json"],"responses":{"200":{"description":"查询成功","examples":{"application/json":{"attributes":[],"cpu":5,"created_at":"2022-06-07 08:21:05.794205 +0000 UTC","deployments":[],"description":"","failed_node_add":null,"failed_node_del":null,"gpu_num":0,"iam_role":"","id":"e4f9c0d6-e1d7-41d5-a108-f38aa8372ffd","memory":8595,"name":"test1","nodes":[{"arch":"x86_64","attributes":null,"ca":"","cert_remaining_valid_time":0,"certificate":"","comment":"","container_runtime_version":"","cpu":1,"created_at":"2022-08-05 02:14:52.351802 +0000 UTC","deployment_num":1,"description":"","device_infos":null,"device_num":2,"docker_enable":null,"edged_version":"2.1.0","enable_gpu":false,"enable_npu":false,"error_reason":"","gpu_info":[],"gpu_num":0,"host_ips":["192.168.0.x"],"host_name":"test1","id":"024e05a8-89bf-46d8-b298-700a2af69605","ief_node_version":"2.3.0","log_configs":[{"component":"app","id":"","level":"on","rotate_num":5,"rotate_period":"yearly","size":50,"type":"LTS"},{"component":"system","id":"","level":"info","rotate_num":5,"rotate_period":"yearly","size":50,"type":"LTS"},{"component":"app","id":"","level":"","rotate_num":5,"rotate_period":"daily","size":50,"type":"local"},{"component":"system","id":"","level":"info","rotate_num":5,"rotate_period":"daily","size":50,"type":"local"}],"master_addr":"xxx/xxx","memory":990,"mqtt_external":"","mqtt_internal":"","mqtt_mode":"internal","name":"test1","nics":null,"node_type":"","npu_info":[],"npu_num":0,"npu_type":"","ntp_configs":null,"os_name":"CentOS Linux 7 (Core)","os_type":"linux","os_version":"3.10.0-1062.12.1.el7.x86_64","package":"","pause_docker_image":"","private_key":"","product_id":"","project_id":"xxx","purchase_id":"","relation":"","state":"RUNNING","state_details":{"purchase_error":"","purchase_stat":"","register_stat":""},"tags":null,"updated_at":"2022-10-31 19:19:37.104359 +0000 UTC","upgrade_flag":false,"upgrade_history":[{"dur_time":0,"from_version":"","id":0,"result":"install_success","to_version":"2.55.8","upgrade_time":1659694662},{"dur_time":30,"from_version":"2.55.8","id":1,"result":"upgrade_success","to_version":"2.55.9","upgrade_time":1660642318},{"dur_time":29,"from_version":"2.55.9","id":2,"result":"upgrade_success","to_version":"2.56.0","upgrade_time":1662019732},{"dur_time":3,"from_version":"2.56.0","id":3,"result":"upgrade_failed_rollback_success","to_version":"2.56.0","upgrade_time":1663125401}]},{"arch":"x86_64","attributes":null,"ca":"","cert_remaining_valid_time":0,"certificate":"","comment":"","container_runtime_version":"","cpu":4,"created_at":"2022-10-07 23:19:18.147956 +0000 UTC","deployment_num":1,"description":"","device_infos":null,"device_num":0,"docker_enable":null,"edged_version":"2.1.0","enable_gpu":false,"enable_npu":false,"error_reason":"","gpu_info":[],"gpu_num":0,"host_ips":["192.168.0.161"],"host_name":"ecs-81ba","id":"de5d81fe-a58e-4ec4-be9d-f3906d7fe356","ief_node_version":"2.56.6","log_configs":null,"master_addr":"xxx","memory":7805,"mqtt_external":"","mqtt_internal":"","mqtt_mode":"internal","name":"cjq-test-1008","nics":null,"node_type":"","npu_info":[],"npu_num":0,"npu_type":"","ntp_configs":null,"os_name":"EulerOS 2.0 (SP5)","os_type":"linux","os_version":"3.10.0-862.14.1.5.h408.eulerosv2r7.x86_64","package":"","pause_docker_image":"","private_key":"","product_id":"","project_id":"xxx","purchase_id":"","relation":"","state":"RUNNING","state_details":{"purchase_error":"","purchase_stat":"","register_stat":""},"tags":null,"updated_at":"2022-10-27 23:20:09.631153 +0000 UTC","upgrade_flag":false,"upgrade_history":[{"dur_time":0,"from_version":"","id":0,"result":"install_success","to_version":"2.53.4","upgrade_time":1665215216},{"dur_time":22,"from_version":"2.56.4","id":1,"result":"upgrade_success","to_version":"2.56.5","upgrade_time":1666839798},{"dur_time":23,"from_version":"2.56.5","id":2,"result":"upgrade_success","to_version":"2.56.6","upgrade_time":1666872187}]}],"project_id":"xxx","success_node_add":null,"success_node_del":null,"updated_at":"2022-06-07 08:21:05.794217 +0000 UTC"}},"schema":{"$ref":"#/definitions/EdgeGroupResp"}}},"summary":"查询边缘节点组详情","tags":["边缘节点组管理"],"x-is-registered":"Y","x-order":2,"x-support-sdk":"Y"}}},"product_short":"IEF","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":null,"summary":"查询边缘节点组详情","tags":"边缘节点组管理","uri":null,"version":"2.0"}