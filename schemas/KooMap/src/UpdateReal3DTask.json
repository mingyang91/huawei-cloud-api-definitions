{"base_path":"/","components":null,"consumes":"","definitions":{"ErrorMsg":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"请求状态码。","maxLength":36,"minLength":3,"type":"string"},"error_msg":{"description":"错误描述。","maxLength":512,"minLength":2,"type":"string"}},"required":["error_code","error_msg"],"type":"object"},"ModelingParams":{"description":"实景三维建模参数。","properties":{"accuracy":{"description":"空三精度。取值包括:Highest、High、Medium、Low、Lowest。缺省值:High。","type":"string"},"key_point_limit":{"description":"空三关键点数量。取值范围:1000~1000000。缺省值:40000。","format":"int32","type":"integer"},"mesh_accuracy":{"default":0,"description":"Mesh重建质量。枚举值:\n\n- 0:高\n- 1:中\n- 2:低","format":"int32","type":"integer"},"tie_point_limit":{"description":"空三连接点数量。取值范围:100~100000。缺省值:4000。","format":"int32","type":"integer"}},"required":["accuracy","key_point_limit","tie_point_limit","mesh_accuracy"],"type":"object"},"Real3DTaskDto":{"description":"实景三维任务模型。","properties":{"AT_progress":{"description":"空三建模进度,取值范围:0.00~1.00。展示有控建模任务空三建模阶段的执行进度。因为空三建模仅在有控建模任务中执行,无控建模任务中该字段取值始终为null。","type":"string"},"complete_stage":{"description":"建模已完成作业步骤数。","format":"int32","type":"integer"},"coordinate_sys":{"description":"建模坐标系。","type":"string"},"create_time":{"description":"任务创建时间。格式为UTC时间格式字符串,格式为yyyy-MM-dd'T'HH:mm:ss'Z'。","type":"string"},"creator":{"description":"任务创建人。","type":"string"},"exec_start_time":{"description":"任务执行开始时间。格式为UTC时间:yyyy-MM-dd'T'HH:mm:ss'Z'。","type":"string"},"exec_stop_time":{"description":"任务执行结束时间。格式为UTC时间:yyyy-MM-dd'T'HH:mm:ss'Z'。","type":"string"},"fail_message":{"description":"失败消息。当任务执行失败时,该字段显示任务的失败原因,用于辅助定位问题。","type":"string"},"folder_code":{"description":"任务绑定的倾斜影像的影像code。","type":"string"},"has_marker":{"description":"是否添加了刺点。","type":"boolean"},"latest_operator":{"description":"任务最近操作人。","type":"string"},"modeling_params":{"$ref":"#/definitions/ModelingParams","description":"任务建模参数列表。"},"modeling_type":{"description":"建模类型。\n\n- Mesh:纹理模型实景三维建模。\n- Nerf:显式辐射场实景三维建模。","type":"string"},"task_description":{"description":"任务描述。","type":"string"},"task_id":{"description":"任务ID。","type":"string"},"task_name":{"description":"任务名称。","type":"string"},"task_progress":{"description":"任务进度。该字段为字符串表示的保留两位小数的浮点型数值,取值范围:0.00~1.00。","type":"string"},"task_status":{"description":"任务当前状态。\n- INIT(初始化)\n- PENDING(等待中)\n- STARTING(启动中)\n- START_FAILED(启动失败)\n- RUNNING(运行中)\n- SUCCESS(运行成功)\n- FAILED(运行失败)\n- STOPPING(停止中)\n- STOP_SUCCESS(已停止)\n- ARCHIVED(已归档)\n- BUNDLE_SUCCESS(空三建模成功)","type":"string"},"task_type":{"description":"任务类型。\n- REAL3D-UNCTRL(无控建模)\n- REAL3D-CTRL(有控建模)","type":"string"},"tenant_domain_id":{"description":"华为云IAM租户账号ID。","type":"string"},"total_stage":{"description":"建模总作业步骤数。","format":"int32","type":"integer"},"update_time":{"description":"任务更新时间。格式为UTC时间格式字符串,格式为yyyy-MM-dd'T'HH:mm:ss'Z'。","type":"string"},"workspace_id":{"description":"任务所属工作共享空间ID。","type":"string"}},"type":"object"},"UpdateReal3DTaskDto":{"description":"更新实景三维任务传输对象","properties":{"coordinate_sys":{"description":"建模坐标系。缺省值:WGS84-UTM。","type":"string"},"folder_code":{"description":"需要进行三维重建的倾斜影像的影像code。","type":"string"},"modeling_params":{"$ref":"#/definitions/ModelingParams","description":"实景三维建模参数。"},"modeling_type":{"description":"建模类型。\n\n- Mesh:纹理模型实景三维建模。\n- Nerf:显式辐射场实景三维建模。","type":"string"},"task_description":{"description":"任务描述。支持中文、英文、数字以及“_”字符,长度限制255个字符以内。","type":"string"},"task_name":{"description":"任务名称。支持中文、英文、数字以及“_”字符,长度限制1~50个字符。","type":"string"},"task_type":{"description":"任务类型。\n\n- REAL3D-CTRL:实景三维有控建模\n- REAL3D-UNCTRL:实景三维无控建模","type":"string"}},"type":"object"}},"description":null,"group_id":"c6d55a9633064ef89f03a6779af07821","host":"koomap.cn-north-4.myhuaweicloud.com","id":"1283d50e568247328f450515f425fcc5","info_version":"v1","method":"put","name":"UpdateReal3DTask","parameters":{},"paths":{"/v1/real3d/{workspace_id}/tasks/{task_id}":{"put":{"consumes":["application/json"],"description":"该接口用于更新任务信息,包括名称、类型、描述、建模影像ID、建模参数以及建模坐标系。任务更新成功后状态更新为初始化(INIT)。仅支持更新非运行状态且未完成的任务:\n\n- 初始化(INIT)\n- 启动失败(START_FAILED)\n- 运行失败(FAILED)\n- 已停止(STOP_SUCCESS)","operationId":"UpdateReal3DTask","parameters":[{"description":"工作共享空间ID。","in":"path","name":"workspace_id","required":true,"type":"string"},{"description":"实景三维任务ID。","in":"path","name":"task_id","required":true,"type":"string"},{"description":"更新任务请求体。当请求体的属性为null或者未配置时,表示该任务属性不更新。","in":"body","name":"task_dto","required":true,"schema":{"$ref":"#/definitions/UpdateReal3DTaskDto"}},{"description":"IAM Token信息,用于租户鉴权,该字段由租户请求IAM的Token接口获得。","in":"header","name":"X-Auth-Token","required":true,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"请求成功。","examples":{"application/json":{"AT_progress":null,"complete_stage":null,"coordinate_sys":"WGS84-UTM","create_time":"2023-05-26T07:43:47Z","creator":"xxxx","exec_start_time":null,"exec_stop_time":null,"fail_message":null,"folder_code":"m73MeiI7ztsJpRTaYE3X-YqeZDWfgpxxx","has_marker":false,"latest_operator":"xxxx","modeling_params":{"accuracy":"High","key_point_limit":"40000","mesh_accuracy":"0","tie_point_limit":"4000"},"modeling_type":"Nerf","task_id":"914305233ef7428e8073a95d8042fxxx","task_name":"测试任务1685087027834","task_progress":null,"task_status":"INIT","task_type":"REAL3D-CTRL","tenant_domain_id":"xxxx","total_stage":null,"update_time":"2023-05-26T07:52:58Z","workspace_id":"c734a30b6c5f42cfaf49e01eb6903xxx"}},"schema":{"$ref":"#/definitions/Real3DTaskDto"}},"400":{"description":"非法请求。","schema":{"$ref":"#/definitions/ErrorMsg"}},"500":{"description":"服务内部错误。","schema":{"$ref":"#/definitions/ErrorMsg"}}},"security":[{"apig-auth-iam":[]}],"summary":"更新实景三维建模任务","tags":["实景三维任务管理"],"x-apigateway-request-type":"Public","x-is-registered":"Y","x-opseverity":"Info","x-order":1,"x-request-examples-1":{"folder_code":"m73MeiI7ztsJpRTaYE3X-YqeZDWfgpxxx","task_type":"REAL3D-CTRL"},"x-request-examples-description-1":"该请求更新建模的任务类型、输入的影像ID。","x-request-examples-text-1":{"folder_code":"m73MeiI7ztsJpRTaYE3X-YqeZDWfgpxxx","task_type":"REAL3D-CTRL"},"x-request-examples-url-1":"PUT https://{Endpoint}/v1/real3d/c734a30b6c5f42cfaf49e01eb6903xxx/tasks/914305233ef7428e8073a95d8042fxxx","x-support-sdk":"Y"}}},"product_short":"KooMap","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-app":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-app-optional":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-opt":{"access-auth-type":"optional"},"x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-iam-none":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM_NONE"}},"summary":"更新实景三维建模任务","tags":"实景三维任务管理","uri":null,"version":"2.0"}