{"base_path":"/","components":null,"consumes":"","definitions":{"ErrorMsg":{"description":"失败时返回的错误对象","properties":{"error_code":{"description":"请求状态码。","maxLength":36,"minLength":3,"type":"string"},"error_msg":{"description":"错误描述。","maxLength":512,"minLength":2,"type":"string"}},"required":["error_code","error_msg"],"type":"object"},"Page":{"properties":{"limit":{"description":"每页包含的查询记录数量。","format":"int32","type":"integer"},"offset":{"description":"偏移量,表示从第几条数据开始查询。","format":"int32","type":"integer"},"total":{"description":"符合查询条件的记录总数。","format":"int32","type":"integer"}},"required":["offset","limit","total"],"type":"object"},"TaskList":{"properties":{"data":{"description":"任务列表。","items":{"$ref":"#/definitions/TaskVo"},"type":"array"},"page":{"$ref":"#/definitions/Page","description":"分页信息。"},"taskNumVo":{"$ref":"#/definitions/TaskNumVo","description":"各状态任务数量。"}},"type":"object"},"TaskNumVo":{"properties":{"archivedNum":{"description":"存档任务数量。","type":"integer"},"failedNum":{"description":"失败任务数量。","type":"integer"},"runningNum":{"description":"运行中任务数量。","type":"integer"},"successNum":{"description":"成功任务数量。","type":"integer"},"totalNum":{"description":"任务总数量。","type":"integer"}},"type":"object"},"TaskVo":{"properties":{"create_time":{"description":"创建时间。","example":"2022-11-07T08:54:36Z","type":"string"},"creator":{"description":"创建者ID。","example":"this is a demo","maxLength":512,"minLength":2,"type":"string"},"data_id":{"description":"数据ID。","example":["aab1b0770a2a4fcbbb6a6f422b1163b7","add9499ddcca4882bcaf91170d3d5e59"],"type":"string"},"domain_id":{"description":"租户ID。","type":"string"},"exec_start_time":{"description":"开始操作时间。\n缺省值:null","example":"2022-11-07T08:54:36Z","type":"string"},"exec_stop_time":{"description":"停止操作时间。\n缺省值:null","example":"2022-11-07T08:54:36Z","type":"string"},"fail_message":{"description":"任务失败原因。","type":"string"},"frozen_tag":{"description":"任务冻结状态。当前仅支持frozen(冻结中)。","type":"string"},"image_url":{"description":"影像链接。","type":"string"},"isClip":{"description":"是否为矢量切割。\n- 0:否\n- 1:是","type":"string"},"isTile":{"description":"是否为金字塔切割。\n- 0:否\n- 1:是","type":"string"},"is_deleted":{"description":"是否删除。\n- 0:未删除\n- 1:已删除","format":"int32","type":"integer"},"origin_data_alias":{"description":"原始数据别名。","type":"string"},"production_level":{"description":"任务输出结果影像级别,当前支持以下级别: L2、L3、L4、L5。","type":"string"},"shape_id":{"description":"矢量数据文件ID,“isClip”为“1”时必填。","type":"string"},"task_description":{"description":"任务描述。","type":"string"},"task_id":{"description":"任务唯一标识ID。","example":"28f61af50fc9452aa0ed5ea25c3cc3d3","maxLength":36,"minLength":32,"type":"string"},"task_name":{"description":"任务名称。","example":"MyDemo","maxLength":64,"minLength":2,"type":"string"},"task_progress":{"description":"任务执行进度。","example":0.0,"type":"string"},"task_status":{"description":"任务状态。包括INIT(初始化)、RUNNING(运行中)、SUCCESS(执行成功)、ARCHIVED(已归档)、FAILED(执行失败)、STOPPING(停止中)、STOP_SUCCESS(已停止)、STOP_FAILED(停止失败)、START_RUNNING(等待中)。","type":"string"},"task_type":{"description":"任务类型。\n当前仅支持ORSIP(卫星影像生产)。","type":"string"},"workspace_id":{"description":"工作共享空间ID。","example":"56bf8e2767cd4b44b86e16c21f769c66","type":"string"}},"required":["task_id","workspace_id","data_id","task_name","creator","create_time","task_status","task_type","production_level","task_progress"],"type":"object"}},"description":null,"group_id":"c6d55a9633064ef89f03a6779af07821","host":"koomap.cn-north-4.myhuaweicloud.com","id":"a898151507404fca9c808a8622e0fd1c","info_version":"v1","method":"get","name":"ListTaskInfo","parameters":{},"paths":{"/v1/kmp-control/tasks":{"get":{"description":"根据设置的过滤条件(任务状态)分页查询任务。","operationId":"ListTaskInfo","parameters":[{"description":"任务名称,支持模糊查询。","in":"query","maxLength":50,"minLength":1,"name":"task_name","pattern":"[\\u4e00-\\u9fa5_a-zA-Z0-9_]{1,50}","required":false,"type":"string"},{"description":"任务所属工作共享空间ID。","in":"query","maxLength":32,"minLength":32,"name":"workspace_id","required":true,"type":"string"},{"description":"任务状态。包括INIT(初始化)、RUNNING(运行中)、SUCCESS(执行成功)、ARCHIVED(已归档)、FAILED(执行失败)、STOPPING(停止中)、STOP_SUCCESS(已停止)、STOP_FAILD(停止失败)、START_RUNNING(等待中)。","in":"query","items":{"type":"string"},"name":"task_status","required":false,"type":"array"},{"description":"创建开始时间。格式为UTC标准时间:yyyy-MM-dd'T'HH:mm:ss'Z'。","in":"query","name":"create_time_start","required":false,"type":"string"},{"description":"创建结束时间。格式为UTC标准时间:yyyy-MM-dd'T'HH:mm:ss'Z'。","in":"query","name":"create_time_end","required":false,"type":"string"},{"default":0,"description":"偏移量,从第几条记录开始查询。","format":"int32","in":"query","maximum":2147483647,"minimum":0,"name":"offset","required":true,"type":"integer"},{"default":10,"description":"分页大小。","format":"int32","in":"query","maximum":100,"minimum":1,"name":"limit","required":true,"type":"integer"},{"description":"IAM Token信息,用于租户鉴权,该字段由租户请求IAM的Token接口获得。","in":"header","name":"X-Auth-Token","required":true,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"请求成功。","examples":{"application/json":{"data":[{"create_time":"2022-12-19T12:41:41Z","creator":"创建人","data_id":"[\"3f7eb40cf46d45fd96a927361c57787\"]","domain_id":"c163c3c55c3c4526b2ed7a0213bxxxxx","exec_start_time":null,"exec_stop_time":null,"frozen_tag":null,"image_url":"https://koomap-optical-image-data.obs.cn-north-5.myhuaweicloud.com:443/c163c3c55c3c4526b2ed7a0213bc9871/%E6%95%B0%E6%8D%AE%E5%8A%A0%E5%B7%A5/%E5%85%89%E5%AD%A6%E5%BD%B1%E5%83%8F/%E6%88%90%E6%9E%9C%E5%BD%B1%E5%83%8F/%E4%BB%BB45YU655675ds_L5_tile_1671453701674/%E4%BB%BB45YU655675ds_L5_tile_per.png?AccessKeyId=7REUSI4BCCNDICBJ9CZF&Expires=1672217213&Signature=yzB8ao4%2Bzo5BXen6HPXOJ6FOdyI%3D","is_clip":"0","is_deleted":0,"is_tile":"0","origin_data_alias":null,"production_level":"tile","shape_id":"541f58792fb84cd0bc3d8d6d8cd93337","task_description":"任务描述","task_id":"4673779ec6d34a0cad106a2aaa5xxxxx","task_name":"任45YU655675ds","task_progress":"0.0","task_status":"INIT","task_type":"ORSIP","workspace_id":"ce5694adfd4f4f11a13a67e2e7exxxxx"}],"page":{"limit":10,"offset":0,"total":1},"taskNumVo":[{"archivedNum":1,"failedNum":1,"runningNum":1,"successNum":1,"totalNum":10}]}},"schema":{"$ref":"#/definitions/TaskList"}},"400":{"description":"非法请求。","schema":{"$ref":"#/definitions/ErrorMsg"}},"500":{"description":"服务内部错误。","schema":{"$ref":"#/definitions/ErrorMsg"}}},"security":[{"apig-auth-iam":[]}],"summary":"查询任务","tags":["卫星影像任务管理"],"x-apigateway-request-type":"Public","x-is-registered":"Y","x-opseverity":"Info","x-order":2,"x-request-examples-1":"?offset=0&limit=10&workspace_id=e81bb7cae54e4eed8cf873676d6872ef","x-request-examples-description-1":"查询工作共享空间下的任务列表。","x-request-examples-text-1":"?offset=0&limit=10&workspace_id=e81bb7cae54e4eed8cf873676d6872ef","x-request-examples-url-1":"GET https://{Endpoint}/v1/kmp-control/tasks?offset=0&limit=10&workspace_id={workspace_id}","x-support-sdk":"Y"}}},"product_short":"KooMap","region_id":"cn-north-4","schemes":["HTTPS"],"security_definitions":{"apig-auth-app":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-type":"AppSigv1"},"apig-auth-app-optional":{"in":"header","name":"Authorization","type":"apiKey","x-apigateway-auth-opt":{"access-auth-type":"optional"},"x-apigateway-auth-type":"AppSigv1"},"apig-auth-iam":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM"},"apig-auth-iam-none":{"in":"header","name":"unused","type":"apiKey","x-apigateway-auth-type":"IAM_NONE"}},"summary":"查询任务","tags":"卫星影像任务管理","uri":null,"version":"2.0"}